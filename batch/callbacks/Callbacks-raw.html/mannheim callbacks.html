<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="exporter-version" content="Evernote Mac 5.4.3 (402231)" />
	<meta name="altitude" content="28.46302795410156" />
	<meta name="author" content="Robert Crooks" />
	<meta name="created" content="2013-11-26 13:48:18 +0000" />
	<meta name="latitude" content="42.35056971764526" />
	<meta name="longitude" content="-71.20767464349086" />
	<meta name="updated" content="2013-11-26 13:48:39 +0000" />
	<title>mannheim callbacks</title>
</head>
<body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
<h3>
	<span style="-evernote-last-insertion-point:true;" />Outline of Mannheim Callbacks
</h3>
<ul>
	<li>Asset create success callback identical to batch (see section Success Callbacks and sub-section Asset Create Success Callback below)</li>
	<li>All callbacks triggered during manifest parsing (see BatchImportErrors::error table below)</li>
	<li>New 'All Renditions Complete' callback enabled on per-account basis (see section Success Callbacks and sub-section All Renditions Complete Callback below)</li>
	<li>Error Callbacks TBD (see Notifiable Error Events below for an initial draft of some options)</li>
</ul>
<h5>
	Notifiable Error Events
</h5>
<p>
	Key customer-facing events indicated in italics
</p>
<ul>
	<li>General Ingest Events

	<ul>
		<li> <em>Digital Master Not Found</em> </li>
		<li> <em>Digital Master Invalid</em> </li>
		<li>Digital Master Archiving failed</li>
		<li> <em>Ingestion Failed, reason unknown</em> </li>
		<li> <em>Ingestion Failed, title deleted during processing</em> </li>
	</ul>
	</li>
	<li>Individual Rendition/Image Processing Events

	<ul>
		<li>Rendition Failed, reason unknown</li>
		<li>Transcoding
		<ul>
			<li> <em>Transcode Request Failed</em> </li>
			<li> <em>Transcode Request Rejected</em> </li>
		</ul>
		</li>
		<li>Image Capture
		<ul>
			<li> <em>Image Capture Request Failed</em> </li>
			<li> <em>Image Capture Request Rejected</em> </li>
		</ul>
		</li>
		<li>Catalog Updates
		<ul>
			<li>Add Asset failed, Title not in Database</li>
			<li>Add Asset failed, unspecified reason</li>
		</ul>
		</li>
		<li>Archiving
		<ul>
			<li>Archive failed, unspecified reason</li>
		</ul>
		</li>
		<li>CDN Delivery
		<ul>
			<li> <em>CDN failed, credentials invalid</em> </li>
			<li>CDN failed, unspecified reason</li>
		</ul>
		</li>
		<li>DRM packaging failed, unspecified reason</li>
	</ul>
	</li>
	<li>Widevine Events

	<ul>
		<li> <em>Widevine packaging failed, format error</em> </li>
		<li>Widevine packaging failed, unspecified reason</li>
	</ul>
	</li>
</ul>
<h3>
	General Grooming Notes
</h3>
<p>
	CMS Callbacks
</p>
<ul>
	<li>specify a url that will get called on 'events' that occur during processing</li>
	<li>much more granular than e-mails</li>
	<li>time, refid, state, the event</li>
	<li>may be an option for callback granularity</li>
	<li>only applies to actions in the manifest</li>
	<li>states include: processing, transcode, complete</li>
	<li>events around asset upload and title completion, as well as upload and title errors</li>
	<li>single format</li>
	<li>http or https</li>
	<li>host and path with a bunch of query args</li>
	<li>post</li>
	<li>questions:

	<ul>
		<li>any other callback events (playlist changes, etc.)</li>
		<li>can we specify callbacks below the manifest level (on a particular title, a particular asset, etc.)</li>
	</ul>
	</li>
	<li>nice-to-have

	<ul>
		<li>secure callbacks</li>
	</ul>
	</li>
	<li>design notes

	<ul>
		<li>where do we build the url?</li>
		<li>callback execution
		<ul>
			<li>straight from ec2</li>
			<li>proxy through arctic</li>
		</ul>
		</li>
	</ul>
	</li>
	<li>carl knows much about batch callbacks</li>
</ul>
<h3>
	Milestone 2 Callbacks (required for JFP)
</h3>
<h4>
	Callback Workitem
</h4>
<p>
	This is how callbacks will be represented in the DSL. The body of the callback workitem will be sent to worker agents as the 'content' field of a lease's workitem.
</p>
<p>
	Callback workitems have 5 required and 3 optional parameters
</p>
<div>
	<table>
		<tbody>
			<tr>
				<th>
				<p>
					Parameter
				</p>
				</th>
				<th>
				<p>
					Type
				</p>
				</th>
				<th>
				<p>
					Required
				</p>
				</th>
				<th>
				<p>
					Allowed Values
				</p>
				</th>
				<th>
				<p>
					Description
				</p>
				</th>
				<th>
				<p>
					Example
				</p>
				</th>
			</tr>
			<tr>
				<td>
				<p>
					host
				</p>
				</td>
				<td>
				<p>
					String
				</p>
				</td>
				<td>
				<p>
					x
				</p>
				</td>
				<td>
				<p>
					Valid URL
				</p>
				</td>
				<td>
				<p>
					URL of a server providing the Mannheim Integration end-points
				</p>
				</td>
				<td>
				<p>
					<a href="https://console.brightcove.com/services/mannheim/">https://console.brightcove.com/services/mannheim/</a>
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					callbackUrl
				</p>
				</td>
				<td>
				<p>
					String
				</p>
				</td>
				<td>
				<p>
					x
				</p>
				</td>
				<td>
				<p>
					Valid URL
				</p>
				</td>
				<td>
				<p>
					URL of the server to which the callback will be sent
				</p>
				</td>
				<td>
				<p>
					<a href="http://jfp.com/the/good/word">http://jfp.com/the/good/word</a>
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					entity
				</p>
				</td>
				<td>
				<p>
					String
				</p>
				</td>
				<td>
				<p>
					x
				</p>
				</td>
				<td>
				<p>
					One of: ASSET,VIDEO, <em>RENDITIONS</em>(LINEUP,PHOTO,CUEPOINT,AUDIOTRACK,AUDIOTRACK_PLAYLIST)
				</p>
				</td>
				<td>
				<p>
					The type of entity referred to by the callback
				</p>
				</td>
				<td>
				<p>
					VIDEO
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					referenceId
				</p>
				</td>
				<td>
				<p>
					String
				</p>
				</td>
				<td>
				<p>
					&#160;
				</p>
				</td>
				<td>
				<p>
					Valid reference id
				</p>
				</td>
				<td>
				<p>
					Reference id of the entity referred to by the callback
				</p>
				</td>
				<td>
				<p>
					video-refid-1
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					id
				</p>
				</td>
				<td>
				<p>
					String
				</p>
				</td>
				<td>
				<p>
					&#160;
				</p>
				</td>
				<td>
				<p>
					Valid entity id
				</p>
				</td>
				<td>
				<p>
					Hibernate/database id of the entity referred to by the callback
				</p>
				</td>
				<td>
				<p>
					1642671472001
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					action
				</p>
				</td>
				<td>
				<p>
					String
				</p>
				</td>
				<td>
				<p>
					x
				</p>
				</td>
				<td>
				<p>
					One of: CREATE,UPDATE,DELETE
				</p>
				</td>
				<td>
				<p>
					The action being taken on the referenced entity
				</p>
				</td>
				<td>
				<p>
					CREATE
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					status
				</p>
				</td>
				<td>
				<p>
					String
				</p>
				</td>
				<td>
				<p>
					x
				</p>
				</td>
				<td>
				<p>
					One of: SUCCESS,FAILED
				</p>
				</td>
				<td>
				<p>
					Whether the action succeeded or failed
				</p>
				</td>
				<td>
				<p>
					SUCCESS
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					error
				</p>
				</td>
				<td>
				<p>
					String
				</p>
				</td>
				<td>
				<p>
					&#160;
				</p>
				</td>
				<td>
				<p>
					Any String
				</p>
				</td>
				<td>
				<p>
					Message describing the error that occurred
				</p>
				</td>
				<td>
				<p>
					Refid already exists
				</p>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<p>
	Example: The following indicates to&#160; <a href="http://jfp.com/the/good/word">http://jfp.com/the/good/word</a>&#160;that a video entity was successfully created. The entity id is 12355001 and the video reference id is video-refid.
</p>
<table>
	<tbody>
		<tr>
			<td> <code>"callback"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;</code> <code>"host"</code> <code>:</code> <code>" <a href="https://console.brightcove.com/services/mannheim/">https://console.brightcove.com/services/mannheim/"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"callbackUrl"</code> <code>:</code> <code>" <a href="http://jfp.com/the/good/word">http://jfp.com/the/good/word"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"entityType"</code> <code>:</code> <code>"VIDEO"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"refid"</code> <code>:</code> <code>"video-refid-1"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"entity"</code> <code>:</code> <code>"12355001"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"action"</code> <code>:</code> <code>"CREATE"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"status"</code> <code>:</code> <code>"SUCCESS"</code> <code>}</code> </td>
		</tr>
	</tbody>
</table>
<p>
	Example: The following indicates to&#160; <a href="http://jfp.com/the/good/word">http://jfp.com/the/good/word</a>&#160;that creation of a video entity failed because a video entity with the same refid already exists. Note, as a new entity was not created, not entity id is returned.
</p>
<table>
	<tbody>
		<tr>
			<td> <code>"callback"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;</code> <code>"host"</code> <code>:</code> <code>" <a href="https://console.brightcove.com/services/mannheim/">https://console.brightcove.com/services/mannheim/"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"callbackUrl"</code> <code>:</code> <code>" <a href="http://jfp.com/the/good/word">http://jfp.com/the/good/word"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"entityType"</code> <code>:</code> <code>"VIDEO"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"refid"</code> <code>:</code> <code>"video-refid-2"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"action"</code> <code>:</code> <code>"CREATE"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"status"</code> <code>:</code> <code>"FAILED"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"errorMessage"</code> <code>:</code> <code>"Reference id 'video-refid-2' already in use"</code> <code>}</code> </td>
		</tr>
	</tbody>
</table>
<h4>
	Success Callbacks
</h4>
<h5>
	Video Create Success Callback
</h5>
<p>
	This callback will be sent when a video is successfully created. The referenceId supplied to the addvideo call will be used for the callback refid. The entity id returned by the addvideo call in Origin will be used as the entity id.
</p>
<p>
	Example:
</p>
<table>
	<tbody>
		<tr>
			<td> <code>"addvideo"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;</code> <code>"host"</code> <code>:</code> <code>" <a href="https://console.brightcove.com/services/mannheim/">https://console.brightcove.com/services/mannheim/"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"token"</code> <code>:</code> <code>"&amp;parameter.writetoken"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"displayName"</code> <code>:</code> <code>"Test Video"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"shortDescription"</code> <code>:</code> <code>"A test video"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"longDescription"</code> <code>:</code> <code>"Test of video ingest through Mannheim"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"relatedLinkURL"</code> <code>:</code> <code>" <a href="http://confluence/x/5gdPAQ">http://confluence/x/5gdPAQ"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"relatedLinkText"</code> <code>:</code> <code>"Wiki-page for LDS in EC2"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"referenceId"</code> <code>:</code> <code>"&amp;parameter.titleRefid"</code> <code>},</code> <code>"callback"</code> <code>:{</code> <code>&#160;&#160;&#160;&#160;</code> <code>"host"</code> <code>:</code> <code>" <a href="https://console.brightcove.com/services/mannheim/">https://console.brightcove.com/services/mannheim/"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"callbackUrl"</code> <code>:</code> <code>" <a href="http://jfp.com/the/good/word">http://jfp.com/the/good/word"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"entityType"</code> <code>:</code> <code>"VIDEO"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"refid"</code> <code>:</code> <code>"&amp;parameter.titleRefid"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"entity"</code> <code>:</code> <code>"&amp;addvideo.data.videoId"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"action"</code> <code>:</code> <code>"CREATE"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;</code> <code>"status"</code> <code>:</code> <code>"SUCCESS"</code> <code>}</code> </td>
		</tr>
	</tbody>
</table>
<h5>
	Asset Create Success Callback
</h5>
<p>
	This callback will be sent whenever an asset (image or rendition) is successfully created. The referenceId supplied to the addasset or addimage call will be used as the callback refid. The entity id returned by the addasset or addimage call will be used as the entity id.
</p>
<p>
	Example:
</p>
<table>
	<tbody>
		<tr>
			<td> <code>"videostill"</code> <code>: [</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"captureimage"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>}},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"sizeandhash"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>}},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"archive"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>}},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"cdn"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>}},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"addimage"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"referenceId"</code> <code>:</code> <code>"&amp;parameter.assetRefid-vs"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>}},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"callback"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"host"</code> <code>:</code> <code>" <a href="https://console.brightcove.com/services/mannheim/">https://console.brightcove.com/services/mannheim/"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"callbackUrl"</code> <code>:</code> <code>" <a href="http://jfp.com/the/good/word">http://jfp.com/the/good/word"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"entityType"</code> <code>:</code> <code>"ASSET"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"refid"</code> <code>:</code> <code>"&amp;parameter.assetRefid-vs"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"entity"</code> <code>:</code> <code>"&amp;addimage.data.imageId"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"action"</code> <code>:</code> <code>"CREATE"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"status"</code> <code>:</code> <code>"SUCCESS"</code> <code>&#160;&#160;&#160;&#160;</code> <code>}}</code> <code>]</code> </td>
		</tr>
	</tbody>
</table>
<h5>
	First Rendition Complete Callback
</h5>
<p>
	This is a variant of the Asset Create Success Callback. The first Asset Create Success Callback usually corresponds to the preserved source rendition asset of an ingest. This upload does not have a ref id in the existing upload flow. However, in Mannheim for JFP, we will encode a ref id onto the preserved source rendition and supply it as the refid of the preserved source rendition creation complete callback.
</p>
<p>
	As with other asset/image created callbacks, this callback will fire after all ingest processing is complete.
</p>
<p>
	Example:
</p>
<table>
	<tbody>
		<tr>
			<td> <code>"preservesource"</code> <code>: [</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"archive"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>}},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"cdn"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>}},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"addasset"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"referenceId"</code> <code>:</code> <code>"&amp;parameter.refid-ps"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>}},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"callback"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"host"</code> <code>:</code> <code>" <a href="https://console.brightcove.com/services/mannheim/">https://console.brightcove.com/services/mannheim/"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"callbackUrl"</code> <code>:</code> <code>" <a href="http://jfp.com/the/good/word">http://jfp.com/the/good/word"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"entityType"</code> <code>:</code> <code>"ASSET"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"refid"</code> <code>:</code> <code>"&amp;parameter.assetRefid-ps"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"entity"</code> <code>:</code> <code>"&amp;addimage.data.assetId"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"action"</code> <code>:</code> <code>"CREATE"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"status"</code> <code>:</code> <code>"SUCCESS"</code> <code>&#160;&#160;&#160;&#160;</code> <code>}}</code> <code>]</code> </td>
		</tr>
	</tbody>
</table>
<h5>
	All Renditions Complete Callback
</h5>
<p>
	The All Renditions Complete Callback will use the same format as other batch processing callbacks. A new entity type, 'RENDITIONS', will be introduced for the callback. This callback will use the refid and id of the corresponding video. The action field will be set to 'CREATE', and the status field will be set to 'COMPLETE', indicating that all renditions of the video have been created.
</p>
<p>
	Callback Example:
	All Renditions Complete Callback: Entity: RENDITIONS, Refid: GSFN_a37c921sag7tl5vm_1332859193, Id: 1429940531001, Action: CREATE, Status: SUCCESS, Error: Null-Value
</p>
<p>
	Workflow Example with All Renditions Complete Callback Workitem:
	<em>In this example, the all renditions complete callback is being triggered after all video processing has completed, including image capture and digital master archiving.</em>
</p>
<table>
	<tbody>
		<tr>
			<td> <code>[</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"addvideo"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"referenceId"</code> <code>:</code> <code>"&amp;parameter.refid"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>}},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"digitalmaster"</code> <code>: [</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>]},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"preservesource"</code> <code>: [</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>]},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"videostill"</code> <code>: [</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>]},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"thumbnail"</code> <code>: [</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>]},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"renditions"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"each"</code> <code>: [</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>],</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"do"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"rendition"</code> <code>: [</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>]</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>}</code> <code>&#160;&#160;&#160;&#160;</code> <code>}},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"hlsrenditions"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"each"</code> <code>: [</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>],</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"do"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"hlsrendition"</code> <code>:[</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>]</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>}</code> <code>&#160;&#160;&#160;&#160;</code> <code>}},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"completevideo"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"conditions"</code> <code>: [</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"&amp;digitalmaster.complete"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"&amp;preservesource.complete"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"&amp;videostill.complete"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"&amp;thumbnail.complete"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"&amp;renditions.complete"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"&amp;hlsrenditions.complete"</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>],</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>...</code> <code>&#160;&#160;&#160;&#160;</code> <code>}},</code> <code>&#160;&#160;&#160;&#160;</code> <code>{</code> <code>"callback"</code> <code>: {</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"conditions"</code> <code>: [</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"&amp;completevideo.complete"</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>]</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"host"</code> <code>:</code> <code>" <a href="https://console.brightcove.com/services/mannheim/">https://console.brightcove.com/services/mannheim/"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"callbackUrl"</code> <code>:</code> <code>" <a href="http://jfp.com/the/good/word">http://jfp.com/the/good/word"</a></code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"entityType"</code> <code>:</code> <code>"RENDITIONS"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"refid"</code> <code>:</code> <code>"&amp;parameter.titleRefid"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"entity"</code> <code>:</code> <code>"&amp;addvideo.data.videoId"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"action"</code> <code>:</code> <code>"CREATE"</code> <code>,</code> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</code> <code>"status"</code> <code>:</code> <code>"SUCCESS"</code> <code>&#160;&#160;&#160;&#160;</code> <code>}}</code> <code>]</code> </td>
		</tr>
	</tbody>
</table>
<h4>
	Error Callbacks
</h4>
<h5>
	TX Error in handleCompleted() for Asset
</h5>
<p>
	This was related to a StaleObjectException when updating Hibernate from within UploadManager code. A similar problem may occur with Add Asset callbacks through to the MannheimIntegrationController. However, we'll never see this particular error in the new system. The MannheimIntegrationController class of errors is dealt with elsewhere.
</p>
<h5>
	Any Error During Transcode or Upload Processing of an Asset
</h5>
<p>
	Uses the refid and entity id of the asset if available. Callbacks status is 'FAILED' and action is 'UPDATE' or 'CREATE depending on whether it was a swap asset call or not. See UploadManager::updateUpload(). Only applies if upload isn't CGM.
</p>
<p>
	<strong>Upload Related</strong>
	Ignoring pub-pod and cgm uploads (ClientUploadServlet and FormUploadServlet). Also ignoring DRM related errors (PostDrmHandler). Also ignoring Aspera upload paths. Also ignoring swap asset path.
</p>
<div>
	<table>
		<tbody>
			<tr>
				<th>
				<p>
					Function
				</p>
				</th>
				<th>
				<p>
					Cause
				</p>
				</th>
				<th>
				<p>
					Message
				</p>
				</th>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::addAssetToBCFS
				</p>
				</td>
				<td>
				<p>
					On any exception
				</p>
				</td>
				<td>
				<p>
					"This asset upload has encountered a system error. Make sure two asset tags did not reference the same file. Please try again or contact customer support."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					FileCDNAdapter::checkFileExistence
				</p>
				</td>
				<td>
				<p>
					If the file being pushed can't be found for pushing
				</p>
				</td>
				<td>
				<p>
					"This asset upload has encountered a system error. Please try again or contact customer support."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleDRMed
				</p>
				</td>
				<td>
				<p>
					Any call into the old DRM path
				</p>
				</td>
				<td>
				<p>
					"This file can no longer be processed by the system."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleDRMReady
				</p>
				</td>
				<td>
				<p>
					Any call into the old DRM path
				</p>
				</td>
				<td>
				<p>
					"This file can no longer be processed by the system."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleDRMWaitReady
				</p>
				</td>
				<td>
				<p>
					Any call into the old DRM path
				</p>
				</td>
				<td>
				<p>
					"This file can no longer be processed by the system."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					ArchiveHandler::internalHandle
				</p>
				</td>
				<td>
				<p>
					I/O exception while moving a file
				</p>
				</td>
				<td>
				<p>
					"This asset upload has encountered a system error. Make sure two asset tags did not reference the same file. Please try again or contact customer support."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					ArchiveReadyHandler::internalHandle
				</p>
				</td>
				<td>
				<p>
					I/O exception while moving a file
				</p>
				</td>
				<td>
				<p>
					"This asset upload has encountered a system error. Make sure two asset tags did not reference the same file. Please try again or contact customer support."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleFingerprintBlock
				</p>
				</td>
				<td>
				<p>
					Asset blocked on account of fingerprinting
				</p>
				</td>
				<td>
				<p>
					"Your attempt to upload the file was blocked and the file will be deleted because the upload appears to contain copyrighted material."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleFingerprintWaitReady
				</p>
				</td>
				<td>
				<p>
					I/O exception moving a file into the fingerprint directory
				</p>
				</td>
				<td>
				<p>
					"This asset upload has encountered a system error. Make sure two asset tags did not reference the same file. Please try again or contact customer support."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleFlaggedUpload
				</p>
				</td>
				<td>
				<p>
					An expired upload
				</p>
				</td>
				<td>
				<p>
					"The system is deleting an upload that has not changed in '" + getUploadManager().getUploadExpiration() + "' days : " + munged(pUload.getAsset().getOriginalFilename()
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleFlaggedUpload
				</p>
				</td>
				<td>
				<p>
					The asset's file can't be found in scratch
				</p>
				</td>
				<td>
				<p>
					"This asset upload has encountered a system error. Please try again or contact customer support."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleFlaggedUpload
				</p>
				</td>
				<td>
				<p>
					The upload is in an unrecognized state
				</p>
				</td>
				<td>
				<p>
					"This Asset is stuck in the upload/processing process and needs to be addressed by an administrator."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleFlaggedUpload
				</p>
				</td>
				<td>
				<p>
					An unhandled exception occurred and no other error has been set on the upload
				</p>
				</td>
				<td>
				<p>
					"This upload encountered an unrecoverable error. Please try again or contact customer support."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleIndexReady
				</p>
				</td>
				<td>
				<p>
					We have an M2TS FLV_FULL, but no metadata captured yet
				</p>
				</td>
				<td>
				<p>
					"Segmented asset found, but metadata not provided for asset: " + asset.getCurrentFilename()
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleIndexReady
				</p>
				</td>
				<td>
				<p>
					We have an FLV_FULL but no recognized file extension
				</p>
				</td>
				<td>
				<p>
					"Unexpected file extension for file: " + asset.getCurrentFilename()
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleIndexReady
				</p>
				</td>
				<td>
				<p>
					We have an FLV_FULL with valid H264 extension that isn't flash playable and the upload state doesn't yet have an error message
				</p>
				</td>
				<td>
				<p>
					"invalid H264/AAC source"
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleIndexReady
				</p>
				</td>
				<td>
				<p>
					We have an FLV_FULL with valid H264 extension but no metadata
				</p>
				</td>
				<td>
				<p>
					"Unable to parse h264 metadata for asset id: " + asset.getId()
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleIndexReady
				</p>
				</td>
				<td>
				<p>
					We have an FLV_FULL with valid H264 extension with metadata that isn't audio-only and the metadata reports it isn't h264
				</p>
				</td>
				<td>
				<p>
					"Expected avc codec, found: " + videoMetaData.getVideoCodecEnum()
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleIndexReady
				</p>
				</td>
				<td>
				<p>
					ParseException thrown during metadata parsing
				</p>
				</td>
				<td>
				<p>
					"This video asset could not be parsed for the necessary meta-data."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleIndexReady
				</p>
				</td>
				<td>
				<p>
					An unhandled exception is thrown as part of metadata processing
				</p>
				</td>
				<td>
				<p>
					"This video asset could not be parsed for the necessary meta-data."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleTranscodeWaitReady
				</p>
				</td>
				<td>
				<p>
					Exception occurs trying to generate a local filename
				</p>
				</td>
				<td>
				<p>
					"The uploaded file did not end in an appropriate file extension."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleTranscodeWaitReady
				</p>
				</td>
				<td>
				<p>
					I/O exception occurs moving the file to a transcode wait directory
				</p>
				</td>
				<td>
				<p>
					"This asset upload has encountered a system error. Make sure two asset tags did not reference the same file. Please try again or contact customer support."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManagerThread::handleTranscodeWaitReady
				</p>
				</td>
				<td>
				<p>
					An exception occurs handing the upload off to the transcode farm
				</p>
				</td>
				<td>
				<p>
					"This asset upload has encountered a system error. Please try again or contact customer support."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					ArchiveHandler::internalHandle
				</p>
				</td>
				<td>
				<p>
					I/O exception occurs during MD5 calculation
				</p>
				</td>
				<td>
				<p>
					"This asset upload has encountered a system error. Please try again or contact customer support."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadServerPushHelper::pushFile
				</p>
				</td>
				<td>
				<p>
					Source file couldn't be found
				</p>
				</td>
				<td>
				<p>
					"A system error was encountered. Please try again or contact customer support."
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					UploadManager::uploadChanged
				</p>
				</td>
				<td>
				<p>
					Negative size reported
				</p>
				</td>
				<td>
				<p>
					"This file has an inappropriate size reported of '" <span style="text-decoration: underline;">asset.getSize()</span>"' bytes."
				</p>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<p>
	<strong>Transcode Related</strong>
	see TranscodeManager::errorUploadState
	In all cases, the callback error message is "This upload failed to transcode. Please try again or contact customer support."
</p>
<p>
	This occurs in the following scenarios
</p>
<ul>
	<li>If the transcode request for an upload is deleted</li>
	<li>On any error with a transcode request

	<ul>
		<li>add rendition to video fails</li>
		<li>the transcode request's transcode request group is expired</li>
		<li>if the source video can't be located</li>
		<li>an error occurs creating the asset for a transcoded rendition</li>
		<li>an error occurs processing the video still or thumbnail work of a primary asset request</li>
		<li>an otherwise unhandled exception occurs while processing a given transcode request group state</li>
		<li>the transcode farm reports failure for a rendition</li>
		<li>an error occurs during recovery of a bad asset for a transcode request group (see TranscodeAutoRecoveryJob)</li>
		<li>an error occurs updating an asset with a transcoded file</li>
	</ul>
	</li>
	<li>If the transcode request group is completed and there are any rejected requests</li>
	<li>If a transcode request with a target asset expires</li>
</ul>
<h5>
	AssetHandler::queueErrorCallback
</h5>
<p>
	2 separate paths, both related to asset updates (where &lt;asset&gt; was specified using a refid that already exists). Oddly, neither of these is an error path, but rather indicate that the upload is being skipped
</p>
<p>
	<strong>Hash Codes Equal</strong>
	If the hash of the asset being replaced equals the hash of the new asset, then a successful asset update callback is sent.
</p>
<div>
	<table>
		<tbody>
			<tr>
				<th>
				<p>
					Callback Field
				</p>
				</th>
				<th>
				<p>
					Value
				</p>
				</th>
			</tr>
			<tr>
				<td>
				<p>
					ref id
				</p>
				</td>
				<td>
				<p>
					ref id supplied in &lt;asset&gt; tag
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					entity id
				</p>
				</td>
				<td>
				<p>
					id of asset being replaced
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					entity
				</p>
				</td>
				<td>
				<p>
					ASSET
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					action
				</p>
				</td>
				<td>
				<p>
					UPDATE
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					status
				</p>
				</td>
				<td>
				<p>
					SUCCESS
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					message
				</p>
				</td>
				<td>
				<p>
					"Skipping update of asset with '" <span style="text-decoration: underline;">XMLAttributes.REFID</span>"' = '" <span style="text-decoration: underline;">refid</span>"' since the filename, size, and hash have not changed."
				</p>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<p>
	<strong>Upload Invalid for DRM</strong>
	If an upload can't proceed because it would violate DRM consistency of a video and it's assigned renditoins, then a success asset update callback is sent.
</p>
<div>
	<table>
		<tbody>
			<tr>
				<th>
				<p>
					Callback Field
				</p>
				</th>
				<th>
				<p>
					Value
				</p>
				</th>
			</tr>
			<tr>
				<td>
				<p>
					ref id
				</p>
				</td>
				<td>
				<p>
					ref id supplied in &lt;asset&gt; tag
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					entity id
				</p>
				</td>
				<td>
				<p>
					id of asset being replaced
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					entity
				</p>
				</td>
				<td>
				<p>
					ASSET
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					action
				</p>
				</td>
				<td>
				<p>
					UPDATE
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					status
				</p>
				</td>
				<td>
				<p>
					SUCCESS
				</p>
				</td>
			</tr>
			<tr>
				<td>
				<p>
					message
				</p>
				</td>
				<td>
				<p>
					"Skipping update of asset with '" <span style="text-decoration: underline;">XMLAttributes.REFID</span>"' = '" <span style="text-decoration: underline;">mRefID</span>"' as it's DRM state is incompatible with one or more of the replacement asset's videos."
				</p>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<h5>
	BatchImportErrors::error
</h5>
<div>
	<table>
		<tbody>
			<tr>
				<th>
				<p>
					Function
				</p>
				</th>
				<th>
				<p>
					Cause
				</p>
				</th>
				<th>
				<p>
					Callback Fields
				</p>
				</th>
				<th>
				<p>
					Message
				</p>
				</th>
				<th>Milestone 2?</th>
				<th>M2 Handler</th>
			</tr>
			<tr>
				<td>
				<p>
					AssetHandler::completeUpload
				</p>
				</td>
				<td>
				<p>
					Upload state didn't transition to UPLOADED and there was an upload error message
				</p>
				</td>
				<td>
				<p>
					ASSET,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The following error prevented the processing of asset '" + pFilename + "': " + pUpload.getErrorMessage()
				</p>
				</td>
				<td>x</td>
				<td>?</td>
			</tr>
			<tr>
				<td>
				<p>
					AssetHandler::completeUpload
				</p>
				</td>
				<td>
				<p>
					Upload state didn't transition to UPLOADED and the upload had a positive previous size
				</p>
				</td>
				<td>
				<p>
					ASSET,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The uploaded file '" + pFilename + "' size of '" + pUpload.getPreviousSize() + "' does not match the reported size of '" + mSize + "' bytes. This asset will not be processed."
				</p>
				</td>
				<td>x</td>
				<td>Manifest Parser</td>
			</tr>
			<tr>
				<td>
				<p>
					AssetHandler::completeUpload
				</p>
				</td>
				<td>
				<p>
					Upload state didn't transition to UPLOADED and the upload has a zero or negative previous size
				</p>
				</td>
				<td>
				<p>
					ASSET,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The file '" + pFilename + "' was not found on the Brightcove system. All files must be uploaded prior to uploading the batch provisioning manifest. This asset will not be processed."
				</p>
				</td>
				<td>x</td>
				<td>Manifest Parser</td>
			</tr>
			<tr>
				<td>
				<p>
					AssetHandler::completeUpload
				</p>
				</td>
				<td>
				<p>
					Upload state didn't transition to UPLOADED and one of the above three conditions doesn't apply (should be impossible)
				</p>
				</td>
				<td>
				<p>
					ASSET,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"An error was encountered processing file '" + pFilename + "'. All files must be uploaded prior to uploading the batch provisioning manifest. This asset will not be processed."
				</p>
				</td>
				<td>x</td>
				<td>Manifest Parser</td>
			</tr>
			<tr>
				<td>
				<p>
					AssetHandler::handleAssetCreationError(Exception, Long, Byte)
				</p>
				</td>
				<td>
				<p>
					An uncaught exception during insert/update processing
				</p>
				</td>
				<td>
				<p>
					ASSET,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"A system error was encountered saving asset '" + mFilename + "'. Please contact Brightcove support, or try updating the item in question directly in the Brightcove Console."
				</p>
				</td>
				<td>x</td>
				<td>addasset callback in Workflow</td>
			</tr>
			<tr>
				<td>
				<p>
					AssetHandler::handleAssetCreationError(Long, Byte)
				</p>
				</td>
				<td>
				<p>
					An upload state wasn't created properly or had to be rolled-back
				</p>
				</td>
				<td>
				<p>
					ASSET,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"A system error was encountered saving asset '" + mFilename + "'. Please contact Brightcove support, or try updating the item in question directly in the Brightcove Console."
				</p>
				</td>
				<td>&#160;</td>
				<td>&#160;</td>
			</tr>
			<tr>
				<td>
				<p>
					AssetHandler::validate
				</p>
				</td>
				<td>
				<p>
					The &lt;asset&gt; file can't be found
				</p>
				</td>
				<td>
				<p>
					ASSET,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The file '" + mFilename + "' was not found on the Brightcove system. All files must be uploaded prior to uploading the batch provisioning manifest. This asset will not be processed."
				</p>
				</td>
				<td>x</td>
				<td>Manifest Parser</td>
			</tr>
			<tr>
				<td>
				<p>
					AssetHandler::validate
				</p>
				</td>
				<td>
				<p>
					The &lt;asset&gt; filesize doesn't match the actual file size
				</p>
				</td>
				<td>
				<p>
					ASSET,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The uploaded file '" + mFilename + "' size of '" + fileSize + "' does not match the reported size of '" + mSize + "' bytes. This asset will not be processed."
				</p>
				</td>
				<td>x</td>
				<td>Manifest Parser (using appropriate S3 call)</td>
			</tr>
			<tr>
				<td>
				<p>
					AssetHandler::validate
				</p>
				</td>
				<td>
				<p>
					It's a swap and it's WMV_FULL with old-school DRM
				</p>
				</td>
				<td>
				<p>
					ASSET,UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"Filename '" + mFilename + "' is an update for ref id '" + mRefID + "' but updates are not allowed for DRM WMV assets at this time. This asset will not be processed."
				</p>
				</td>
				<td>&#160;</td>
				<td>&#160;</td>
			</tr>
			<tr>
				<td>
				<p>
					AssetHandler::validateHashCodeConsistency
				</p>
				</td>
				<td>
				<p>
					If the computed hash code and the &lt;asset&gt; hash code differ
				</p>
				</td>
				<td>
				<p>
					ASSET,CREATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The following error prevented the processing of asset '" + mFilename + "': " + "The hash computed for the uploaded file does not match the hash reported for the file before upload."
				</p>
				</td>
				<td>&#160;</td>
				<td>Manifest Parser (using appropriate S3 call)</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					The logo overlay transaction during title creation fails
				</p>
				</td>
				<td>
				<p>
					VIDEO,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"A system error was encountered saving a logo overlay for a title. Please contact Brightcove support, or try updating the item in question directly in the Brightcove Console."
				</p>
				</td>
				<td>&#160;</td>
				<td>&#160;</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					A FLV_FULL refid is supplied but the asset can't be found
				</p>
				</td>
				<td>
				<p>
					VIDEO,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The '" + XMLAttributes.VIDEO_FULL_REFID + "' attribute '" + mVideoFullRefid + "' for title '" + mName + "' does not appear to be in your library. This title will not be processed."
				</p>
				</td>
				<td>x</td>
				<td>Manifest Parser (referenced asset must be in same manifest)</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					There's no digital master id and it's not considered a 'new' &lt;title&gt; request
				</p>
				</td>
				<td>
				<p>
					VIDEO,UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The '" + XMLAttributes.VIDEO_FULL_REFID + "' attribute '" + mVideoFullRefid + "' for title '"+ mName + "' cannot reference an asset that has the attribute '" + XMLAttributes.ENCODE_MULTIPLE + " if the title already exists."
				</p>
				</td>
				<td>x</td>
				<td>Manifest Parser</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					Renditions were specified as well as a digital master id
				</p>
				</td>
				<td>
				<p>
					VIDEO,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The element '" + XMLTags.RENDITION_REFID + "' for title '" + mName + "' cannot be used in combination with the attribute '" + XMLAttributes.ENCODE_MULTIPLE + ". This title will not be created."
				</p>
				</td>
				<td>x</td>
				<td>Manifest Parser</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					A rendition refid was specified but couldn't be found
				</p>
				</td>
				<td>
				<p>
					Video,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The '" + XMLTags.RENDITION_REFID + "' tag '" + refId + "' for title '" + mName + "' does not appear to be in your library." + " This title will not be processed."
				</p>
				</td>
				<td>x</td>
				<td>Manifest Parser (referenced asset must be in same manifest) – shouldn't happen with JFP manifests</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					A WMV_FULL refid was specified but a corresponding asset could not be found
				</p>
				</td>
				<td>
				<p>
					VIDEO,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The '" + XMLAttributes.WMV_FULL_REFID + "' attribute '" + mWmvfullRefid + "' for title '" + mName + "' does not appear to be in your library. This title will not be processed."
				</p>
				</td>
				<td>&#160;</td>
				<td>&#160;</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					Economic type is FREE and publisher is not publisher-pays enabled
				</p>
				</td>
				<td>
				<p>
					VIDEO,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The '" + XMLAttributes.ECONOMIC_TYPE + "' attribute for title '" + mName + "' is set to 'FREE' yet the publisher is not free enabled. This title will not be processed."
				</p>
				</td>
				<td>&#160;</td>
				<td>&#160;</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					Economic type is FREE and WMV_FULL ref id has been specified
				</p>
				</td>
				<td>
				<p>
					VIDEO,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The '" + XMLAttributes.ECONOMIC_TYPE + "' attribute for title '" + mName + "' has the currently unsupported value 'FREE' but has a WMV full asset. 'FREE' is not supported with WMVs at this time. This title will not be processed."
				</p>
				</td>
				<td>&#160;</td>
				<td>&#160;</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					Economic type is AD and publisher is not ad enabled
				</p>
				</td>
				<td>
				<p>
					VIDEO,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The '" + XMLAttributes.ECONOMIC_TYPE + "' attribute for title '" + mName + "' is set to 'AD' yet the publisher is not ad enabled. This title will not be processed."
				</p>
				</td>
				<td>&#160;</td>
				<td>&#160;</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					Economic type is AD and WMV_FULL ref id has been specified
				</p>
				</td>
				<td>
				<p>
					VIDEO,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The '" + XMLAttributes.ECONOMIC_TYPE + "' attribute for title '" + mName + "' has the currently unsupported value 'AD' but has a WMV full asset. 'AD' is not supported with WMVs at this time. This title will not be processed."
				</p>
				</td>
				<td>&#160;</td>
				<td>&#160;</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					Economis type is PAID and publisher is not pay media enabled
				</p>
				</td>
				<td>
				<p>
					VIDEO,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"The '" + XMLAttributes.ECONOMIC_TYPE + "' attribute for title '" + mName + "' is set to 'PAID' yet the publisher is not pay media enabled. This title will not be processed."
				</p>
				</td>
				<td>&#160;</td>
				<td>&#160;</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					An uncaught exception is thrown
				</p>
				</td>
				<td>
				<p>
					VIDEO,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"A system error was encountered saving title '" + mName + "'. Please contact Brightcove support, or try updating the item in question directly in the Brightcove Console."
				</p>
				</td>
				<td>?</td>
				<td>&#160;</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					A BrightcoveException is thrown while doing 'finally' work and it isn't a SOSE
				</p>
				</td>
				<td>
				<p>
					VIDEO,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"A system error was encountered saving title '" + mName + "'. Please contact Brightcove support, or try updating the item in question directly in the Brightcove Console."
				</p>
				</td>
				<td>?</td>
				<td>&#160;</td>
			</tr>
			<tr>
				<td>
				<p>
					TitleHandler::executeImportWork
				</p>
				</td>
				<td>
				<p>
					An uncaught Exception is thrown while doing 'finally' work
				</p>
				</td>
				<td>
				<p>
					VIDEO,CREATE|UPDATE,FAILED
				</p>
				</td>
				<td>
				<p>
					"A system error was encountered saving title '" + mName + "'. Please contact Brightcove support, or try updating the item in question directly in the Brightcove Console."
				</p>
				</td>
				<td>?</td>
				<td>&#160;&#160;</td>
			</tr>
		</tbody>
	</table>
</div>
</body>
</html>
