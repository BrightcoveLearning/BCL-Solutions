<!DOCTYPE html>
<html lang="en">

<head>

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
	<!-- change title to match the h1 heading -->
	<title>Google Analytics Plugin</title>
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.0/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.0/css/normalize.css" />
	<script src="//use.edgefonts.net/source-code-pro.js"></script>
	<link href="//files.brightcove.com/proxima-nova/font-faces.css" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="http://docs.brightcove.com/en/styles/bcls-doc-site.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/github.min.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.0/js/vendor/modernizr.js"></script>
</head>

<body>
	<!-- content -->
	<!-- content -->
	<div class="row">
		<div class="large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<div id="top" class="section">
				<h1>Google Analytics Plugin</h1>
				<!-- Place document intro sentence(s) here -->
				<p class="BCL-aside">The Google Analytics plugin is an open source project and not officially supported by Brightcove. This document is furnished as a convenience only and not necessarily maintained.</p>
        <p>The Google Analytics plugin sends player and video event data to your Google Analytics account. This allows you to see some of your player/video data along with any other analytic metrics you are collecting all in one place.</p>
        <p class="BCL-aside">The Google Analytics plugin only works with a Brightcove player that is created with a Video Cloud account. It will not work with players created with a Perform account.</p>
        <p>Event names tracked are those used by the Brightcove player where applicable. Event names can be customized or localized using plugin options.</p>
        <p>The Video Id and name are read from the player and tracked as the event label.</p>
        <div><img src="//docs.brightcove.com/en/video-cloud/brightcove-player/guides/assets/google-analytics-plugin/event-list.png" alt="event-list" title="event-list"></div>
      </div>

      <div id="implementation" class="section">
        <h2>Implementation</h2>
        <ul>
          <li><strong>embed-in-page</strong></li>
          <ul>
            <li>With the embed_in_page implementation, this plugin supports both the Google Analytics <code>ga.js</code> library and the newer <code>analytics.js</code> library. The plugin detects which library you are using.</li>
            <li>Google Analytics must be separately loaded on the page before the player.</li>
          </ul>
          <li><strong>iframe or direct player URL</strong></li>
          <ul>
            <li>With the iframe implementation or the direct player URL, and a <code>tracker</code> code is provided, the <code>analytics.js</code> library is loaded.</li>
            <li>The Google universal analytics script will be loaded by the plugin.</li>
          </ul>
        </ul>
			</div>

      <div id="getstarted" class="section">
        <h2>Get started</h2>
        <p class="BCL-aside">Note: The example below uses Video Cloud media assets. If you are a Perform customer you will need to make appropriate modifications.</p>
        <p>You can create your Brightcove player using Video Cloud Studio. There you can quickly create a player, associate a video and publish the player. For details, see the <a href="//docs.brightcove.com/en/video-cloud/brightcove-player/getting-started/quick-start-bc-player.html">Quick Start to Brightcove player</a> document.</p>
        <p>After you have published the player, copy the <strong>In-Page Embed Code</strong> for the published player. It should look something like this:</p>

        <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="28-35"></code></p>
        <p class="BCL-aside">Notice that we have added an <code>id</code> attribute so that we can get a reference to the player in later steps.</p>
      </div>

      <div id="implementplugin" class="section">
        <h2>Implement plugin</h2>
        <p>For the embed-in-page implementation, Google Analytics must be separately loaded on the page before the player. Follow these steps to add the plugin:</p>
        <ol>
          <p><li>Before the <code>video</code> element in the player code, add tracking code to load Google Analytics. You can get this tracking code from your Google Analytics <strong>Admin</strong> page.</li></p>
          <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="17-25"></code></p>
          <p><li>Download the <a href="https://github.com/mister-ben/videojs-ga-videocloud">Google Analytics Plugin for Video Cloud</a>, and place the plugin JavaScript file (found in the <strong>dist</strong> folder) in an Internet accessible URL. <strong>You will need to host this file on a server of your choosing as the URL used in this doc is not accessible.</strong></li></p>
          <p><li>After your player code, add a <code>script</code> tag pointing to the plugin JavaScript file that you placed in the previous step.</li></p>
          <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="38"></code></p>
          <p><li>Add custom script to get a reference to the player and call the plugin.</li></p>
          <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="40-48"></code></p>
        <p>Notice in this code that we are writing the player's <code>mediinfo</code> object to the console. This is for informational purposes only. The Google Analytics plugin uses the <code>id</code> property found in this object.</p>
        </ol>
        <p>Your embed-in-page code should look something like this:</p>
        <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="1-52"></code></p>
      </div>

      <div id="iframe" class="section">
        <h2>Use iframe</h2>
        <p>With the iframe implementation, you will use Video Cloud Studio to add the plugin and options to your player instead of doing it in the page code. Follow these steps to add the plugin:</p>
        <ol>
          <li><p>Return to the Brightcove player that you created earlier using Video Cloud Studio.</p></li>
          <li><p>Scroll down to the <strong>Plugins</strong> section and select the edit button for this section.</p></li>
          <li><p>Expand the <strong>JavaScript</strong> section and enter the URL for the Google Analytics plugin which you placed in an internet accessible URL earlier.</p></li>
          <div><img src="//docs.brightcove.com/en/video-cloud/brightcove-player/guides/assets/google-analytics-plugin/plugin-javascript.png" alt="plugin-javascript" title="plugin-javascript"></div>
          <li><p>Expand the <strong>Name, Options (JSON)</strong> section.</p></li>
          <li><p>In the <strong>Name</strong> input field, enter the value <code>ga</code> for the name of the Google Analytics plugin.</p></li>
          <li><p>In the <strong>Options (JSON)</strong> input field, enter the <code>tracker</code> option with your tracker code value for Google Analytics. You can add other options here as well.</p></li>
          <div><img src="//docs.brightcove.com/en/video-cloud/brightcove-player/guides/assets/google-analytics-plugin/plugin-name.png" alt="plugin-name" title="plugin-name"></div>
          <li><p>Select the <strong>Save</strong> button for the <strong>Plugins</strong> section.</p></li>
          <li><p>You can either test with the preview version of the player, or you can publish the player. For this guide, let's publish the player. Select the <strong>Publish</strong> button at the top.</p></li>
          <li><p>Expand the <strong>Embed Code & URL</strong> button and copy the <strong>iframe Embed Code</strong> for the published player.</p></li>
          <div><img src="//docs.brightcove.com/en/video-cloud/brightcove-player/guides/assets/google-analytics-plugin/player-iframe-code.png" alt="player-iframe-code" title="player-iframe-code"></div>
          <li><p>Paste the iframe code into your page code and run it in the browser. You should be able to see the player and video events in your Google Analytics Reporting page.</p></li>
        </ol>
        <p>Your page code should look something like this:</p>
        <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="131-149"></code></p>
			</div>

      <div id="options" class="section">
        <h2>Options</h2>
        <p>You can provide options to the plugin to override default values. Here is an example of how to add options to your embed-in-page code:</p>
        <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="57-62"></code></p>
        <p>This plugin supports the following options:</p>
        <h3>tracker</h3>
        <p>If set, this tracker code will be used for the iframe implementation and the direct player URL. This is not used for the embed-in-page implementation.</p>
        <p>Default: Not set</p>
        <p>Example:</p>
        <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="66-68"></code></p>
        <h3>eventNames</h3>
        <p>You can override or localize the names for the player events.</p>
        <p>Default:</p>
        <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="72-87"></code></p>
        <p>Example:</p>
        <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="89-93"></code></p>
        <h3>eventCategory</h3>
        <p>This is the category sent to Google Analytics. For details about using categories, see the <a href="https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide">Google Analytics Event Tracking</a> guide.</p>
        <p>Default: <code>'Brightcove Player'</code></p>
        <p>Example:</p>
        <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="98-100"></code></p>
        <h3>eventLabel</h3>
        <p>This is the label sent to Google Analytics. For details about using labels, see the <a href="https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide">Google Analytics Event Tracking</a> guide.</p>
        <p>Default: <code>VIDEO_ID</code> or <code>VIDEO_NAME</code>. If either of these values is not available, then the plugin will use the base name of the video path. If the path is <code>http://s3.amazonaws.com/tiger.mp4</code>, then the label would be <code>tiger</code>.</p>
        <p>Example:</p>
        <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="105-107"></code></p>
        <h3>eventsToTrack</h3>
        <p>These are the events you would like to track. They include the following:</p>
        <ul>
				  <li><code>player_load</code> : The player has loaded.</li>
          <li><code>video_load</code> : The video has loaded. This event will fire again when another video is loaded.</li>
          <li><code>percent_played</code> : Every x% of the video played, with the percentage as a value, where x is defined by the <code>percentsPlayedInterval</code> option. The default is 10.</li>
          <li><code>start</code> : Video playback has started. Triggered once per video load.</li>
          <li><code>end</code> : Video playback has completed. Triggered once per video load.</li>
        </ul>
        <p>Default:</p>
        <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="112-113"></code></p>
        <p>Example:</p>
        <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="116-120"></code></p>
        <h3>percentsPlayedInterval</h3>
        <p>This option goes with the <code>percent_played</code> event. Every x% of the video played will be sent to Google Analytics, where x is defined by the the <code>percentsPlayedInterval</code> value.</p>
        <p>Default: 10</p>
        <p>Example:</p>
        <p><code data-gist-id="b0571390f12559cd265d" data-gist-hide-footer="true" data-gist-line="125-127"></code></p>
      </div>
		</div>
	</div>
	<!-- bcl scripts -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.0/fastclick.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.0/js/foundation.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0/handlebars.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
	<script src="//docs.brightcove.com/en/scripts/log.js"></script>
	<script src="//docs.brightcove.com/en/scripts/docs-nav-data.min.js"></script>
	<script src="//docs.brightcove.com/en/scripts/bcls-doc-site.js"></script>
	<script src="//docs.brightcove.com/en/scripts/bc-mapi.js"></script>
	<script>
		$(document).foundation();
	</script>
	<script type="text/javascript">
		/******** Any scripts specific to page samples should go here *********/
	</script>
	<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
    <script>
	var feedbackMail = document.getElementById("feedbackMail");
	feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
	</script>
</body>

</html>