;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-amd', location = 'js/aui-amd.js' */
define("dndattachment/aui/dialog2",function(){return AJS.dialog2});define("dndattachment/aui/escape-html",function(){return AJS.escapeHtml});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-amd', location = 'js/dnd-template-wrapper.js' */
define("dndattachment/templates",function(){return window.JIRA.Templates.DnDAttachmentPlugin});;
;
/* module-key = 'com.atlassian.plugin.jslibs:moment-2.6.0', location = 'libs/moment/2.6.0/moment-2.6.0.js' */
(function(A){define("atlassian/libs/moment-2.6.0",function(){var z={};A.call(z);return z.moment})})(function(){for(var A=function(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}},z=function(a,b){var c=!0;return l(function(){c&&(!1===e.suppressDeprecationWarnings&&("undefined"!==typeof console&&console.warn)&&console.warn("Deprecation warning: "+a),c=!1);return b.apply(this,arguments)},b)},X=function(a,
b){return function(c){return j(a.call(this,c),b)}},ua=function(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}},Y=function(){},F=function(a){Z(a);l(this,a)},G=function(a){var a=$(a),b=a.year||0,c=a.quarter||0,d=a.month||0,g=a.week||0,e=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+e+7*g;this._months=+d+3*c+12*b;this._data={};this._bubble()},l=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);b.hasOwnProperty("toString")&&
(a.toString=b.toString);b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf);return a},v=function(a){return 0>a?Math.ceil(a):Math.floor(a)},j=function(a,b,c){for(var d=""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d},I=function(a,b,c,d){var g=b._milliseconds,f=b._days,b=b._months,d=null==d?!0:d;g&&a._d.setTime(+a._d+g*c);f&&aa(a,"Date",H(a,"Date")+f*c);b&&ba(a,H(a,"Month")+b*c);d&&e.updateOffset(a,f||b)},J=function(a){return"[object Array]"===Object.prototype.toString.call(a)},ca=function(a,
b,c){var d=Math.min(a.length,b.length),g=Math.abs(a.length-b.length),e=0,h;for(h=0;h<d;h++)(c&&a[h]!==b[h]||!c&&i(a[h])!==i(b[h]))&&e++;return e+g},r=function(a){if(a)var b=a.toLowerCase().replace(/(.)s$/,"$1"),a=va[a]||wa[b]||b;return a},$=function(a){var b={},c,d;for(d in a)a.hasOwnProperty(d)&&(c=r(d))&&(b[c]=a[d]);return b},xa=function(a){var b,c;if(0===a.indexOf("week"))b=7,c="day";else if(0===a.indexOf("month"))b=12,c="month";else return;e[a]=function(d,g){var f,h,i=e.fn._lang[a],j=[];"number"===
typeof d&&(g=d,d=void 0);h=function(a){a=e().utc().set(c,a);return i.call(e.fn._lang,a,d||"")};if(null!=g)return h(g);for(f=0;f<b;f++)j.push(h(f));return j}},i=function(a){var a=+a,b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b},K=function(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},da=function(a,b,c){return B(e([a,11,31+b-c]),b,c).week},L=function(a){return 0===a%4&&0!==a%100||0===a%400},Z=function(a){var b;if(a._a&&-2===a._pf.overflow){b=0>a._a[s]||11<a._a[s]?s:
1>a._a[o]||a._a[o]>K(a._a[p],a._a[s])?o:0>a._a[m]||23<a._a[m]?m:0>a._a[w]||59<a._a[w]?w:0>a._a[C]||59<a._a[C]?C:0>a._a[D]||999<a._a[D]?D:-1;if(a._pf._overflowDayOfYear&&(b<p||b>o))b=o;a._pf.overflow=b}},ea=function(a){null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length));return a._isValid},M=
function(a){return a?a.toLowerCase().replace("_","-"):a},N=function(a,b){return b._isUTC?e(a).zone(b._offset||0):e(a).local()},q=function(a){var b=0,c,d,g,f,h=function(a){if(!x[a]&&ya)try{require("./lang/"+a)}catch(b){}return x[a]};if(!a)return e.fn._lang;if(!J(a)){if(d=h(a))return d;a=[a]}for(;b<a.length;){f=M(a[b]).split("-");c=f.length;for(g=(g=M(a[b+1]))?g.split("-"):null;0<c;){if(d=h(f.slice(0,c).join("-")))return d;if(g&&g.length>=c&&ca(f,g,!0)>=c-1)break;c--}b++}return e.fn._lang},P=function(a,
b){if(!a.isValid())return a.lang().invalidDate();b=fa(b,a.lang());if(!O[b]){var c=O,d=b,g=b,e=g.match(ga),h,i;h=0;for(i=e.length;h<i;h++)e[h]=t[e[h]]?t[e[h]]:e[h].match(/\[[\s\S]/)?e[h].replace(/^\[|\]$/g,""):e[h].replace(/\\/g,"");c[d]=function(a){var b="";for(h=0;h<i;h++)b+=e[h]instanceof Function?e[h].call(a,g):e[h];return b}}return O[b](a)},fa=function(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(E.lastIndex=0;0<=d&&E.test(a);)a=a.replace(E,c),E.lastIndex=0,d-=1;return a},Ka=function(a,
b){var c=b._strict;switch(a){case "Q":return ha;case "DDDD":return ia;case "YYYY":case "GGGG":case "gggg":return c?za:Aa;case "Y":case "G":case "g":return Ba;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?Ca:Da;case "S":if(c)return ha;case "SS":if(c)return ja;case "SSS":if(c)return ia;case "DDD":return Ea;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Fa;case "a":case "A":return q(b._l)._meridiemParse;case "X":return Ga;case "Z":case "ZZ":return Q;case "T":return Ha;
case "SSSS":return Ia;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?ja:ka;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return ka;case "Do":return Ja;default:var c=RegExp,d;d=a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return c(d)}},la=function(a){var a=(a||"").match(Q)||[],
a=((a[a.length-1]||[])+"").match(La)||["-",0,0],b=+(60*a[1])+i(a[2]);return"+"===a[0]?-b:b},S=function(a){var b,c=[],d,g,f,h,j;if(!a._d){d=new Date;d=a._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];a._w&&(null==a._a[o]&&null==a._a[s])&&(b=function(b){var c=parseInt(b,10);return b?3>b.length?68<c?1900+c:2E3+c:c:null==a._a[p]?e().weekYear():a._a[p]},g=a._w,null!=g.GG||null!=g.W||null!=g.E?b=ma(b(g.GG),g.W||1,g.E,4,1):(f=q(a._l),h=null!=g.d?na(g.d,
f):null!=g.e?parseInt(g.e,10)+f._week.dow:0,j=parseInt(g.w,10)||1,null!=g.d&&h<f._week.dow&&j++,b=ma(b(g.gg),j,h,f._week.doy,f._week.dow)),a._a[p]=b.year,a._dayOfYear=b.dayOfYear);if(a._dayOfYear){b=null==a._a[p]?d[p]:a._a[p];if(a._dayOfYear>(L(b)?366:365))a._pf._overflowDayOfYear=!0;b=R(b,0,a._dayOfYear);a._a[s]=b.getUTCMonth();a._a[o]=b.getUTCDate()}for(b=0;3>b&&null==a._a[b];++b)a._a[b]=c[b]=d[b];for(;7>b;b++)a._a[b]=c[b]=null==a._a[b]?2===b?1:0:a._a[b];c[m]+=i((a._tzm||0)/60);c[w]+=i((a._tzm||
0)%60);a._d=(a._useUTC?R:Ma).apply(null,c)}},T=function(a){a._a=[];a._pf.empty=!0;var b=q(a._l),c=""+a._i,d,g,f,h,j=c.length,k=0;g=fa(a._f,b).match(ga)||[];for(b=0;b<g.length;b++){f=g[b];if(d=(c.match(Ka(f,a))||[])[0])h=c.substr(0,c.indexOf(d)),0<h.length&&a._pf.unusedInput.push(h),c=c.slice(c.indexOf(d)+d.length),k+=d.length;if(t[f]){d?a._pf.empty=!1:a._pf.unusedTokens.push(f);h=a;var l=void 0,n=h._a;switch(f){case "Q":null!=d&&(n[s]=3*(i(d)-1));break;case "M":case "MM":null!=d&&(n[s]=i(d)-1);break;
case "MMM":case "MMMM":l=q(h._l).monthsParse(d);null!=l?n[s]=l:h._pf.invalidMonth=d;break;case "D":case "DD":null!=d&&(n[o]=i(d));break;case "Do":null!=d&&(n[o]=i(parseInt(d,10)));break;case "DDD":case "DDDD":null!=d&&(h._dayOfYear=i(d));break;case "YY":n[p]=e.parseTwoDigitYear(d);break;case "YYYY":case "YYYYY":case "YYYYYY":n[p]=i(d);break;case "a":case "A":h._isPm=q(h._l).isPM(d);break;case "H":case "HH":case "h":case "hh":n[m]=i(d);break;case "m":case "mm":n[w]=i(d);break;case "s":case "ss":n[C]=
i(d);break;case "S":case "SS":case "SSS":case "SSSS":n[D]=i(1E3*("0."+d));break;case "X":h._d=new Date(1E3*parseFloat(d));break;case "Z":case "ZZ":h._useUTC=!0;h._tzm=la(d);break;case "w":case "ww":case "W":case "WW":case "d":case "dd":case "ddd":case "dddd":case "e":case "E":f=f.substr(0,1);case "gg":case "gggg":case "GG":case "GGGG":case "GGGGG":f=f.substr(0,2),d&&(h._w=h._w||{},h._w[f]=d)}}else a._strict&&!d&&a._pf.unusedTokens.push(f)}a._pf.charsLeftOver=j-k;0<c.length&&a._pf.unusedInput.push(c);
a._isPm&&12>a._a[m]&&(a._a[m]+=12);!1===a._isPm&&12===a._a[m]&&(a._a[m]=0);S(a);Z(a)},Ma=function(a,b,c,d,e,f,h){b=new Date(a,b,c,d,e,f,h);1970>a&&b.setFullYear(a);return b},R=function(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b},na=function(a,b){if("string"===typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!==typeof a)return null}else a=parseInt(a,10);return a},Na=function(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)},B=function(a,b,c){b=c-b;c-=
a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=e(a).add("d",c);return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}},ma=function(a,b,c,d,e){var f=R(a,0,1).getUTCDay(),b=7*(b-1)+((null!=c?c:e)-e)+(e-f+(f>d?7:0)-(f<e?7:0))+1;return{year:0<b?a:a-1,dayOfYear:0<b?b:(L(a-1)?366:365)+b}},pa=function(a){var b=a._i,c=a._f;if(null===b||void 0===c&&""===b)return e.invalid({nullInput:!0});"string"===typeof b&&(a._i=b=q().preparse(b));if(e.isMoment(b)){var a=b,d={},g;for(g in a)a.hasOwnProperty(g)&&oa.hasOwnProperty(g)&&
(d[g]=a[g]);a=d;a._d=new Date(+b._d)}else if(c)if(J(c)){var b=a,f,h;if(0===b._f.length)b._pf.invalidFormat=!0,b._d=new Date(NaN);else{for(g=0;g<b._f.length;g++)if(c=0,d=l({},b),d._pf=A(),d._f=b._f[g],T(d),ea(d)&&(c+=d._pf.charsLeftOver,c+=10*d._pf.unusedTokens.length,d._pf.score=c,null==h||c<h))h=c,f=d;l(b,f||d)}}else T(a);else if(d=a,f=d._i,h=Oa.exec(f),void 0===f)d._d=new Date;else if(h)d._d=new Date(+h[1]);else if("string"===typeof f)if(b=d._i,g=Pa.exec(b)){d._pf.iso=!0;f=0;for(h=U.length;f<h;f++)if(U[f][1].exec(b)){d._f=
U[f][0]+(g[6]||" ");break}f=0;for(h=V.length;f<h;f++)if(V[f][1].exec(b)){d._f+=V[f][0];break}b.match(Q)&&(d._f+="Z");T(d)}else e.createFromInputFallback(d);else J(f)?(d._a=f.slice(0),S(d)):"[object Date]"===Object.prototype.toString.call(f)||f instanceof Date?d._d=new Date(+f):"object"===typeof f?d._d||(f=$(d._i),d._a=[f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond],S(d)):"number"===typeof f?d._d=new Date(f):e.createFromInputFallback(d);return new F(a)},ba=function(a,b){var c;if("string"===
typeof b&&(b=a.lang().monthsParse(b),"number"!==typeof b))return a;c=Math.min(a.date(),K(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a},H=function(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()},aa=function(a,b,c){return"Month"===b?ba(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)},u=function(a,b){return function(c){return null!=c?(aa(this,a,c),e.updateOffset(this,b),this):H(this,a)}},Qa=function(a){e.duration.fn[a]=function(){return this._data[a]}},qa=function(a,b){e.duration.fn["as"+
a]=function(){return+this/b}},e,Ra="undefined"!==typeof global?global:this,y=Math.round,k,p=0,s=1,o=2,m=3,w=4,C=5,D=6,x={},oa={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},ya="undefined"!==typeof module&&module.exports,Oa=/^\/?Date\((\-?\d+)/i,Sa=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ta=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ga=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,
E=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ka=/\d\d?/,Ea=/\d{1,3}/,Aa=/\d{1,4}/,Da=/[+\-]?\d{1,6}/,Ia=/\d+/,Fa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Q=/Z|[\+\-]\d\d:?\d\d/gi,Ha=/T/i,Ga=/[\+\-]?\d+(\.\d{1,3})?/,Ja=/\d{1,2}/,ha=/\d/,ja=/\d\d/,ia=/\d{3}/,za=/\d{4}/,Ca=/[+-]?\d{6}/,Ba=/[+-]?\d+/,Pa=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
U=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],V=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],La=/([\+\-]|\d\d)/gi,W={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},va={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",
M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},wa={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},O={},ra="DDD w W M D d".split(" "),sa="MDHhmswW".split(""),t={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},
dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return j(this.year()%100,2)},YYYY:function(){return j(this.year(),4)},YYYYY:function(){return j(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+j(Math.abs(a),6)},gg:function(){return j(this.weekYear()%100,2)},gggg:function(){return j(this.weekYear(),
4)},ggggg:function(){return j(this.weekYear(),5)},GG:function(){return j(this.isoWeekYear()%100,2)},GGGG:function(){return j(this.isoWeekYear(),4)},GGGGG:function(){return j(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},
s:function(){return this.seconds()},S:function(){return i(this.milliseconds()/100)},SS:function(){return j(i(this.milliseconds()/10),2)},SSS:function(){return j(this.milliseconds(),3)},SSSS:function(){return j(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+j(i(a/60),2)+":"+j(i(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";0>a&&(a=-a,b="-");return b+j(i(a/60),2)+j(i(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},
Q:function(){return this.quarter()}},ta=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ra.length;)k=ra.pop(),t[k+"o"]=ua(t[k],k);for(;sa.length;)k=sa.pop(),t[k+k]=X(t[k],2);t.DDDD=X(t.DDD,3);l(Y.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"===typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=e.utc([2E3,b]),c="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=RegExp(c.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=e([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",
L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",
nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"===typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"===typeof e?e(a,b,c,
d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return B(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});e=function(a,b,c,d){var e;"boolean"===typeof c&&(d=c,c=
void 0);e={_isAMomentObject:!0};e._i=a;e._f=b;e._l=c;e._strict=d;e._isUTC=!1;e._pf=A();return pa(e)};e.suppressDeprecationWarnings=!1;e.createFromInputFallback=z("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)});e.utc=function(a,b,c,d){var e;"boolean"===typeof c&&(d=c,c=void 0);e={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};e._l=
c;e._i=a;e._f=b;e._strict=d;e._pf=A();return pa(e).utc()};e.unix=function(a){return e(1E3*a)};e.duration=function(a,b){var c=a,d=null,g;if(e.isDuration(a))c={ms:a._milliseconds,d:a._days,M:a._months};else if("number"===typeof a)c={},b?c[b]=a:c.milliseconds=a;else if(d=Sa.exec(a))g="-"===d[1]?-1:1,c={y:0,d:i(d[o])*g,h:i(d[m])*g,m:i(d[w])*g,s:i(d[C])*g,ms:i(d[D])*g};else if(d=Ta.exec(a))g="-"===d[1]?-1:1,c=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*g},c={y:c(d[2]),M:c(d[3]),
d:c(d[4]),h:c(d[5]),m:c(d[6]),s:c(d[7]),w:c(d[8])};d=new G(c);e.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang);return d};e.version="2.6.0";e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";e.momentProperties=oa;e.updateOffset=function(){};e.lang=function(a,b){if(!a)return e.fn._lang._abbr;if(b){var c=M(a);b.abbr=c;x[c]||(x[c]=new Y);x[c].set(b)}else null===b?(delete x[a],a="en"):x[a]||q(a);return(e.duration.fn._lang=e.fn._lang=q(a))._abbr};e.langData=function(a){a&&(a._lang&&a._lang._abbr)&&(a=
a._lang._abbr);return q(a)};e.isMoment=function(a){return a instanceof F||null!=a&&a.hasOwnProperty("_isAMomentObject")};e.isDuration=function(a){return a instanceof G};for(k=ta.length-1;0<=k;--k)xa(ta[k]);e.normalizeUnits=function(a){return r(a)};e.invalid=function(a){var b=e.utc(NaN);null!=a?l(b._pf,a):b._pf.userInvalidated=!0;return b};e.parseZone=function(){return e.apply(null,arguments).parseZone()};e.parseTwoDigitYear=function(a){return i(a)+(68<i(a)?1900:2E3)};l(e.fn=F.prototype,{clone:function(){return e(this)},
valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=e(this).utc();return 0<a.year()&&9999>=a.year()?P(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),
this.seconds(),this.milliseconds()]},isValid:function(){return ea(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<ca(this._a,(this._isUTC?e.utc(this._a):e(this._a)).toArray()):!1},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=!1;return this},format:function(a){a=P(this,a||e.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;c="string"===
typeof a?e.duration(+b,a):e.duration(a,b);I(this,c,1);return this},subtract:function(a,b){var c;c="string"===typeof a?e.duration(+b,a):e.duration(a,b);I(this,c,-1);return this},diff:function(a,b,c){var a=N(a,this),d=6E4*(this.zone()-a.zone()),g,b=r(b);"year"===b||"month"===b?(g=432E5*(this.daysInMonth()+a.daysInMonth()),d=12*(this.year()-a.year())+(this.month()-a.month()),d+=(this-e(this).startOf("month")-(a-e(a).startOf("month")))/g,d-=6E4*(this.zone()-e(this).startOf("month").zone()-(a.zone()-e(a).startOf("month").zone()))/
g,"year"===b&&(d/=12)):(g=this-a,d="second"===b?g/1E3:"minute"===b?g/6E4:"hour"===b?g/36E5:"day"===b?(g-d)/864E5:"week"===b?(g-d)/6048E5:g);return c?d:v(d)},from:function(a,b){return e.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(e(),a)},calendar:function(){var a=N(e(),this).startOf("day"),a=this.diff(a,"days",!0);return this.format(this.lang().calendar(-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse",
this))},isLeapYear:function(){return L(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=na(a,this.lang()),this.add({d:a-b})):b},month:u("Month",!0),startOf:function(a){a=r(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);
case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this},endOf:function(a){a=r(a);return this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)>+e(a).startOf(b)},isBefore:function(a,b){b="undefined"!==typeof b?b:"millisecond";return+this.clone().startOf(b)<+e(a).startOf(b)},isSame:function(a,
b){b=b||"ms";return+this.clone().startOf(b)===+N(a,this).startOf(b)},min:function(a){a=e.apply(null,arguments);return a<this?this:a},max:function(a){a=e.apply(null,arguments);return a>this?this:a},zone:function(a,b){var c=this._offset||0;if(null!=a)"string"===typeof a&&(a=la(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?I(this,e.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null));
else return this._isUTC?c:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.zone(this._tzm):"string"===typeof this._i&&this.zone(this._i);return this},hasAlignedHourOffset:function(a){a=a?e(a).zone():0;return 0===(this.zone()-a)%60},daysInMonth:function(){return K(this.year(),this.month())},dayOfYear:function(a){var b=y((e(this).startOf("day")-e(this).startOf("year"))/
864E5)+1;return null==a?b:this.add("d",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=B(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=B(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=B(this,1,4).week;return null==a?b:this.add("d",
7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return da(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return da(this.year(),a.dow,a.doy)},get:function(a){a=r(a);return this[a]()},set:function(a,b){a=r(a);if("function"===typeof this[a])this[a](b);return this},lang:function(a){if(void 0===a)return this._lang;this._lang=
q(a);return this}});e.fn.millisecond=e.fn.milliseconds=u("Milliseconds",!1);e.fn.second=e.fn.seconds=u("Seconds",!1);e.fn.minute=e.fn.minutes=u("Minutes",!1);e.fn.hour=e.fn.hours=u("Hours",!0);e.fn.date=u("Date",!0);e.fn.dates=z("dates accessor is deprecated. Use date instead.",u("Date",!0));e.fn.year=u("FullYear",!0);e.fn.years=z("years accessor is deprecated. Use year instead.",u("FullYear",!0));e.fn.days=e.fn.day;e.fn.months=e.fn.month;e.fn.weeks=e.fn.week;e.fn.isoWeeks=e.fn.isoWeek;e.fn.quarters=
e.fn.quarter;e.fn.toJSON=e.fn.toISOString;l(e.duration.fn=G.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data;d.milliseconds=a%1E3;a=v(a/1E3);d.seconds=a%60;a=v(a/60);d.minutes=a%60;a=v(a/60);d.hours=a%24;b+=v(a/24);d.days=b%30;c+=v(b/30);d.months=c%12;b=v(c/12);d.years=b},weeks:function(){return v(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%12)+31536E6*i(this._months/12)},humanize:function(a){var b=
+this,c;c=!a;var d=this.lang(),e=y(Math.abs(b)/1E3),f=y(e/60),h=y(f/60),i=y(h/24),j=y(i/365),e=45>e&&["s",e]||1===f&&["m"]||45>f&&["mm",f]||1===h&&["h"]||22>h&&["hh",h]||1===i&&["d"]||25>=i&&["dd",i]||45>=i&&["M"]||345>i&&["MM",y(i/30)]||1===j&&["y"]||["yy",j];e[2]=c;e[3]=0<b;e[4]=d;c=Na.apply({},e);a&&(c=this.lang().pastFuture(b,c));return this.lang().postformat(c)},add:function(a,b){var c=e.duration(a,b);this._milliseconds+=c._milliseconds;this._days+=c._days;this._months+=c._months;this._bubble();
return this},subtract:function(a,b){var c=e.duration(a,b);this._milliseconds-=c._milliseconds;this._days-=c._days;this._months-=c._months;this._bubble();return this},get:function(a){a=r(a);return this[a.toLowerCase()+"s"]()},as:function(a){a=r(a);return this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:e.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+
this.milliseconds()/1E3);return!this.asSeconds()?"P0D":(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":"")}});for(k in W)W.hasOwnProperty(k)&&(qa(k,W[k]),Qa(k.toLowerCase()));qa("Weeks",6048E5);e.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};e.lang("en",{ordinal:function(a){var b=a%10,b=1===i(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});"undefined"===typeof ender&&
(Ra.moment=e)});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.lib.js' */
define("jira/moment/moment.lib",["atlassian/libs/moment-2.6.0"],function(n){return n});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.formatter.js' */
define("jira/moment/moment.jira.formatter",["underscore","exports"],function(t,e){"use strict";function r(e){return u[e]||t.reduce(e,function(t,e){return t+(u[e]||e)},"")}function n(e){var n=!1,u=!1,a="",o=t.reduce(e,function(t,e,o,i){return u?u=!1:"'"===e?(a&&(t+=r(a),a=""),"'"===i[o+1]?(t+=e,u=!0):(t+=n?"]":"[",n=!n)):n?t+=e:/[a-zA-Z]/.test(e)?a&&a[a.length-1]!==e?(t+=r(a),a=e):a+=e:(a&&(t+=r(a),a=""),t+=e),t},"");return a&&(o+=r(a)),o}var u={d:"D",y:"Y",a:"A",E:"d",u:"d",Z:"ZZ",z:"[GMT]ZZ",XX:"ZZ",XXX:"Z"};e.translateSimpleDateFormat=n});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.i18n.js' */
!function(){"use strict";var e;define("jira/moment/moment.jira.datetime-formats",["wrm/data"],function(t){return e||(e=t.claim("jira.webresources:dateFormatProvider.allFormats")),e})}(),define("jira/moment/moment.jira.i18n",["jira/moment/moment.lib","jira/moment/moment.jira.datetime-formats","jira/moment/moment.jira.formatter","jira/util/formatter"],function(e,t,m,a){"use strict";var r=t.dateFormats,o=t.lookAndFeelFormats;return e.lang("jira",{months:r.months,monthsShort:r.monthsShort,weekdays:r.weekdays,weekdaysShort:r.weekdaysShort,weekdaysMin:r.weekdaysShort,longDateFormat:{LT:m.translateSimpleDateFormat(o.time),L:m.translateSimpleDateFormat(o.day),LL:m.translateSimpleDateFormat(o.dmy),LLL:m.translateSimpleDateFormat(o.complete)},meridiem:function(e){return r.meridiem[+(e>11)]},calendar:{sameDay:"LLL",nextDay:"LLL",nextWeek:"LLL",lastDay:"LLL",lastWeek:"LLL",sameElse:"LLL"},relativeTime:{future:a.format("in {0}","%s"),past:a.format("{0} ago","%s"),s:"a few seconds",m:"a minute",mm:a.format("{0} minutes","%d"),h:"an hour",hh:a.format("{0} hours","%d"),d:"a day",dd:a.format("{0} days","%d"),M:"a month",MM:a.format("{0} months","%d"),y:"a year",yy:a.format("{0} years","%d")}}),e});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.js' */
define("jira/moment",["jira/moment/moment.jira.i18n"],function(t){return t.splitDate=function(t,n){return Date.splitDate(t,n)},t});;
;
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.legacy.js' */
!function(){AJS.namespace("JIRA.translateSimpleDateFormat",null,require("jira/moment/moment.jira.formatter").translateSimpleDateFormat),AJS.namespace("window.moment",null,require("jira/moment"))}();;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/time.js' */
define("dndattachment/ctrlv/time",["require"],function(a){var b=a("jira/moment");return b});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/base64decode.js' */
define("dndattachment/ctrlv/base64decode",["exports"],function(a){function c(d){return d>64&&d<91?d-65:d>96&&d<123?d-71:d>47&&d<58?d+4:d===43?62:d===47?63:0}var b=function(f){var m=f.replace(/[^A-Za-z0-9\+\/]/g,""),g=m.length,d=g*3+1>>2,k=new Uint8Array(d);for(var j,h,i=0,e=0,l=0;l<g;l++){h=l&3;i|=c(m.charCodeAt(l))<<18-6*h;if(h===3||g-l===1){for(j=0;j<3&&e<d;j++,e++){k[e]=i>>>(16>>>j&24)&255}i=0}}return k};a.base64decode=b;a.decodeBase64DataUri=function(e){var g=";base64,",f=e.slice(0,e.indexOf(g))+g,d=e.substring(f.length);return b(d)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/utility.js' */
define("dndattachment/ctrlv/utility",["require","exports"],function(b,c){var g=b("jira/jquery/deferred");var d=b("jquery");var k=b("underscore");var i=b("dndattachment/ctrlv/base64decode");var a=b("dndattachment/ctrlv/time");var f=b("dndattachment/ctrlv/version");var j=b("jira/flag");var m=b("jira/util/navigator");c.isKeyPasteEvent=function(q,n){var o=86;var p=((n||"").indexOf("Mac")!==-1)||m.isMac();return q.which===o&&(p?q.metaKey:q.ctrlKey)};c.isImagePasteEvent=function(q){if(q&&q.clipboardData){var o=k.union(k.toArray(q.clipboardData.items),k.toArray(q.clipboardData.files));var p=o.some(function(r){return r.type.indexOf("image")!==-1});var n=o.some(function(r){return r.type.indexOf("rtf")!==-1});return p&&!n}};var h=function(o){if(!o.clipboardData||!o.clipboardData.types||!k.contains(o.clipboardData.types,"text/html")){return}var n=d(o.clipboardData.getData("text/html"));if(n.length===1&&n.children().length===0&&n[0].nodeName.toLowerCase()==="img"){return n[0].src}return null};c.getHtmlImagePaste=h;c.isHtmlImagePasteEvent=function(n){return h(n)!=null};c.isTextPasteEvent=function(n){return n.clipboardData.types&&(k.contains(n.clipboardData.types,"text/plain")||k.contains(n.clipboardData.types,"text/html"))};c.isContentEditable=function(n){return n.contentEditable=="true"||n.contentEditable==""||(n.contentEditable=="inherit"&&d(n).parents().is("[contenteditable=true]"))};c.isValidFileName=function(n){return !k(["\\","/",'"',":","?","*","<","|",">","!"]).any(function(o){return n.indexOf(o)>-1})};c.getTextPasteContent=function(n){return n.clipboardData.types&&k.contains(n.clipboardData.types,"text/plain")&&n.clipboardData.getData("text/plain")||""};c.getTextContent=function(n){if(!n){return""}else{if(m.isIE()&&typeof n.innerText!=="undefined"){return n.innerText}else{return d(n).text()}}};c.normalizePasteEvent=function(n){if(n&&n.originalEvent&&n.originalEvent.clipboardData){n.clipboardData=n.originalEvent.clipboardData}if(n&&!n.clipboardData&&window.clipboardData){n.clipboardData={files:window.clipboardData.files,types:{contains:function(o){if(o=="text/plain"){return !!window.clipboardData.getData("Text")}}},getData:function(o){if(o=="text/plain"){return window.clipboardData.getData("Text")}}}}return n};c.browserIsSupported=function(n){var p=((n||"").indexOf("Mac")!==-1)||m.isMac();var o=m.isSafari();return !(p&&o)&&!(f.isIE8()||f.isIE9()||f.isIE10())};c.browserIsNativePaste=function(){return m.isChrome()||m.isSafari()};c.isWikiTextfield=function(n){return n.is(":input")&&n.hasClass("wiki-textfield")};var e=function(n){return n.is("input#summary")};var l=function(o,v,r,t){var q=d(v);if(!(c.isWikiTextfield(q)||e(q))||!o){return}if(!q.is(":focus")){q.one("focus",function(){var w=q[0];w.selectionStart=w.selectionEnd=r+o.length})}var s=q.val();var n=s.substring(0,r);var u=s.substring(t,s.length);var p=q.data("wikiEditor");if(p&&p.undoRedoEl&&k.isFunction(p.undoRedoEl.recordHistoryItem)){p.undoRedoEl.recordHistoryItem()}q.val(n+o+u);q.trigger("input");v.selectionStart=v.selectionEnd=r+o.length;if(p&&p.undoRedoEl&&k.isFunction(p.undoRedoEl.updateCurrent)){p.undoRedoEl.updateCurrent()}};c.insertToInput=l;c.isThumbnailsAllowed=function(){var n=d("#dnd-metadata-webpanel").data("thumbnails-allowed");var o=true;if(n!=null){o=!!n}return o};c.getMarkup=function(s){var q=["bmp","gif"];var r=["pjpeg","jpeg","jpg","png"];var p=s.split(".");var o=c.isThumbnailsAllowed();var n=p[p.length-1].toLowerCase();if(o&&k.contains(r,n)){return"!"+s+"|thumbnail!"}else{if(k.contains(r,n)||k.contains(q,n)){return"!"+s+"!"}else{return"[^"+s+"]"}}};c.insertWikiMarkup=function(s,p,q,r,n){var o=c.getMarkup(s,n);if(o){o=" "+o+" ";l(o,p,q,r)}};c.loadImage=function(p){var n=new g();var o=new Image();o.setAttribute("crossOrigin","anonymous");o.onload=function(){n.resolve(o)};o.onerror=n.reject.bind(n);o.src=p;if(o.width>0&&o.height>0){n.resolve(o)}return n};c.convertImageToBlob=function(p){var n=d("<canvas>").attr("width",p.width).attr("height",p.height)[0];n.getContext("2d").drawImage(p,0,0);try{if(n.mozGetAsFile){return n.mozGetAsFile("image/png")}if(n.toDataURL){return new Blob([i.decodeBase64DataUri(n.toDataURL("image/png"))],{type:"image/png"})}}catch(o){return null}};c.convertBlobToImage=function(n,p){var o=new Blob([n.slice()],{type:n.type});o.lastModifiedDate=new Date();o.name=p;return o};c.dropFileToElement=function(p,o){var r=p.name;if(!r){r=this.generateFileName();p.name=r+".png"}var q=d.Event("drop",{dataTransfer:{files:[p]}});var n=false;d(document).on("dropHandled.dropFileToElement",function(){n=true});o.trigger(q);d(document).off(".dropFileToElement");return n};c.generateFileName=function(){return"image-"+a().format("YYYY-MM-DD-HH-mm-ss-SSS")};c.getCurrentIssueId=function(){return JIRA.Issues.Api.getSelectedIssueId()};c.showErrorMsg=function(o,n){j.showErrorMsg(o,n)};c.createBlobFromFile=function(n){var o=new Blob([n.slice()],{type:n.type});o.name=n.name;return o};c.dragEventContainsFiles=function(o){if(!o.dataTransfer||!o.dataTransfer.types){return true}var n=o.dataTransfer.types;if(m.isMozilla()){return k.contains(n,"application/x-moz-file")}else{return k.contains(n,"Files")}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/ie_version.js' */
define("dndattachment/ctrlv/version",["require","exports"],function(e,h){var i=e("jquery");var m=e("underscore");var n=e("jira/util/navigator");var g=document.documentElement.className.split(/\s+/);var c=n.isIE();var l=i.inArray("msie-gt-7",g)>-1;var k=i.inArray("msie-gt-8",g)>-1;var j=i.inArray("msie-gt-9",g)>-1;var b=i.inArray("msie-gt-10",g)>-1;var f=c&&l&&!k;var d=c&&k&&!j;var a=c&&j&&!b;h.isIE8=m.once(function(){return f});h.isIE9=m.once(function(){return d});h.isIE10=m.once(function(){return a})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/Configuration.js' */
define("dndattachment/util/Configuration",["require"],function(b){var a=b("wrm/data");var d="com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.";function c(e){return a.claim(e)}return{getWRM:function(e){return c(d+e)}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/DataTransfer.js' */
define("dndattachment/util/DataTransfer",["require"],function(d){var a=d("jira/lib/class");var c=d("underscore");var b=d("jira/jquery/deferred");var e=d("jquery");return a.extend({init:function(f){this._dataTransfer=f},getFiles:function(){var g=this._dataTransfer.files;var f=this._dataTransfer.items;if(f&&f.length>0){if(c.any(f,function(h){return !!h.webkitGetAsEntry})){return this.readEntries(f)}}if(g&&g.length>0){return this.readFiles(this._dataTransfer.files)}else{return new b().reject()}},readFiles:function(g){var f=new b();e.when.apply(window,c.map(g,function(i){var h=new b();var j=!i.name.match(/\.([a-z0-9]+)$/i);if(j&&(i.size<=8192)||i.size==8192||i.size==4096||i.size<=1024){this.readFileAsText(i).fail(function(){g=c(g).without(i)}).always(h.resolve.bind(h))}else{h.resolve()}return h}.bind(this))).always(function(){f.resolve(g)});return f},readFileAsText:function(h){var g=new b();var f=new FileReader();f.onload=function(){g.resolve(this.result)};f.onerror=function(){g.reject(this.error)};f.readAsText(h);return g},readEntries:function(g){var f=new b();g=c.filter(g,function(h){return h.kind==="file"});e.when.apply(window,c.map(g,function(h){return this.readEntry(h.webkitGetAsEntry(),h)}.bind(this))).then(function(){f.resolve(c.union.apply(c,arguments))},f.reject.bind(f));return f},readEntry:function(h,g){var f=new b();if(h.isFile){if(g&&g.getAsFile){f.resolve([g.getAsFile()])}else{h.file(function(i){f.resolve([i])})}}else{if(h.isDirectory){h.createReader().readEntries(function(i){var j=[];e.when.apply(window,c.map(i,function(k){return this.readEntry(k).then(function(l){return j.push.apply(j,l)})}.bind(this))).always(function(){f.resolve(j)})}.bind(this))}}return f}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/FileSizeUtil.js' */
define("dndattachment/util/FileSizeUtil",function(){var h=1024;var c=h*h;var d=" kB";var g=" MB";function f(i){if(i>c){return e(i)}else{if(i>h){return a(i)}else{return b(i)}}}function e(j){var i=j/c;return i.toFixed(2)+g}function a(j){var i=Math.round(j/h);return i+d}function b(j){var i=j/h;return i.toFixed(1)+d}return{format:f}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/AttachmentEvents.js' */
define("dndattachment/util/events/types",{ATTACHMENT_FOR_PAGE_RECEIVED:"attachmentForPageReceived"});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-upload', location = 'js/upload/UploadHandler.js' */
define("dndattachment/upload/handler",["require","exports"],function(c,e){var i=c("jira/analytics");var j=c("jira/dialog/dialog");var k=c("jira/jquery/deferred");var n=c("jira/util/events");var m=c("dndattachment/util/events/types");var l=c("underscore");var f=c("jquery");var h=c("dndattachment/ctrlv/utility");var d=[];var a;var g=function(r,q){var p=k();var o=j.current;if(o&&o.$form){i.send({name:"attach.screenshot.html5.dialogPaste",data:{}});var t=h.createBlobFromFile(q.files[0]);if(h.dropFileToElement(t,o.$form)){p.resolve([q.files[0].name])}}else{var s=l.find(d,function(u){return u.isValid(r,q)});if(s){p=s.processFiles(q.files,a);if(q.successCallback){p.done(q.successCallback)}if(q.failureCallback){p.fail(q.failureCallback)}if(q.alwaysCallback){p.always(q.alwaysCallback)}}}p.done(function(v,u){if(!u&&q.isWikiTextfieldFocused){var w=q.wikiTextfield;l.each(v,function(x){h.insertWikiMarkup(x,w,w.selectionStart,w.selectionStart)});if(o&&q.isPaste){i.send({name:"attach.screenshot.html5.dialogPaste.insertWikiMarkup",data:{}})}if(!f(q.wikiTextfield).is(":focus")){setTimeout(function(){q.wikiTextfield.focus()},0)}}})};var b=function(s){if(s){var p=typeof s.isValid!=="undefined";var q=typeof s.processFiles!=="undefined";var o=typeof s.weight!=="undefined";var r=typeof s.name!=="undefined";return p&&q&&o&&r}return false};e.registerExecutor=function(q){var p=b(q);if(p){var o=l.reject(d,function(r){return r.name===q.name});o.push(q);d=l.sortBy(o,function(r){return -r.weight})}return p};e.unregisterExecutor=function(o){d=l.reject(d,function(p){return p.name===o.name})};e.initialize=function(){n.bind(m.ATTACHMENT_FOR_PAGE_RECEIVED,g)};e.disable=function(){n.unbind(m.ATTACHMENT_FOR_PAGE_RECEIVED,g)};e.setAttachmentDropZone=function(o){a=o}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-upload', location = 'js/upload/DefaultUploadExecutor.js' */
define("dndattachment/upload/default/executor",["require","exports"],function(b,a){a.name="Default attachment executor";a.weight=0;a.isValid=function(d,c){return true};a.processFiles=function(d,c){return c.uploadFiles(d)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'js/i18n.js' */
define("dndattachment/i18n",["require"],function(a){var b=a("jira/util/formatter");var c={"dnd.attachment.unsupported.browser":"Drag and Drop of attachments is currently only available for the following browsers:","dnd.attachment.file.is.too.large":"File exceeds maximum size limit set by the administrator ({0}).","dnd.attachment.upload.in.progress":"Upload in progress, please wait.","dnd.attachment.not.uploaded":function(d){return b.format("File \"{0}\" was not uploaded",d)},"dnd.attachment.unauthorized":"You are not authorized, session has expired or connection is lost.","dnd.attachment.internal.server.error":"An internal error has occurred. Please contact your administrator.","dnd.attachment.upload.aborted":"Upload was aborted.","dnd.attachment.upload.remove":"Remove attachment"};return function(d){if(c[d]){return c[d]}else{throw"Unknown key: "+d}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'js/TemporaryAttachments.js' */
define("dndattachment/TemporaryAttachments",[],function(){var a={};return{createAttachment:function(e,b,d,c){return{id:e,name:b,type:d,file:c}},getAttachment:function(c,b){return a[c]||this.createAttachment(c,b)},putAttachment:function(c,b){return a[c]=this.createAttachment(c,b.name,b.type,b)}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'js/Parser.js' */
define("dndattachment/Parser",["require"],function(c){var a=c("jira/util/events");var h=c("jira/util/events/types");var b=c("jira/jquery/deferred");var d=c("jquery");var e="-dui-type-parsed";var g="*[duiType]:not(."+e+")";function f(j){var i=d(j).find(g).add(j.filter(g));var k=i.addClass(e).map(function(m,n){var l=new b();c([d(n).attr("duiType")],function(o){if(typeof o=="function"){l.resolve(new o(n))}else{l.reject()}});return l});return d.when.apply(window,d.makeArray(k))}a.bind(h.NEW_CONTENT_ADDED,function(k,i,j){f(i)});if(d.isReady){f(d("body"))}else{d(function(){f(d("body"))})}return{parse:f}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'templates/IssueDropZone.soy' */
// This file was automatically generated from IssueDropZone.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DnDAttachmentPlugin.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DnDAttachmentPlugin == 'undefined') { JIRA.Templates.DnDAttachmentPlugin = {}; }


JIRA.Templates.DnDAttachmentPlugin.IssueDropZone = function(opt_data, opt_ignored) {
  return '<div class="issue-drop-zone__target"></div><span class="issue-drop-zone__text"><span class="issue-drop-zone__drop-icon"> </span> ' + soy.$$escapeHtml("Drop files to attach, or") + ' <button type="button" class="issue-drop-zone__button"> ' + soy.$$escapeHtml("browse") + '.</button><input class="issue-drop-zone__file ignore-inline-attach" type="file" multiple /></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.IssueDropZone.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.IssueDropZone';
}


JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone = function(opt_data, opt_ignored) {
  return '<div duiType="dndattachment/dropzones/AttachmentsDropZone" class="issue-drop-zone" data-upload-limit="' + soy.$$escapeHtml(opt_data.jiraAttachmentSize) + '" data-upload-size="' + soy.$$escapeHtml(opt_data.uploadLimit) + '" data-upload-size="' + soy.$$escapeHtml(opt_data.uploadLimit) + '"></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'js/dropzones/IssueDropZone.js' */
define("dndattachment/dropzones/IssueDropZone",["require"],function(g){var l=g("jira/util/formatter");var s=g("jira/util/logger");var f=g("jira/analytics");var o=g("jira/ajs/ajax/smart-ajax");var d=g("jira/issue");var a=g("jira/jquery/plugins/isdirty");var m=g("jira/util/data/meta");var n=g("jira/lib/class");var q=g("underscore");var b=g("jira/jquery/deferred");var e=g("jquery");var r=g("jira/flag");var c=g("dndattachment/Parser");var k=g("dndattachment/i18n");var h=g("dndattachment/templates");var t=g("dndattachment/util/DataTransfer");var p=5000;var j=["An internal error has occurred. Please contact your administrator."];var i=n.extend({eventGroup:"issuedropzone",progressBarType:"dndattachment/progressbars/UploadProgressBar",init:function(u){this.$node=e(u);if(!this.isSupportedBrowser()){return this.renderUnsupported()}if(this.$node.parents(".mod-content")){this.$node.parents(".mod-content").addClass("issue-drop-zone")}this.uploadLimit=this.$node.data("upload-limit");this.uploadSize=this.$node.data("upload-size");this.formToken=this.$node.data("form-token");this.attachFileUrl=contextPath+"/secure/AttachFile.jspa";this.pendingQueue=[];this.render();this.queueEvent("init")},queueTask:function(u){this.pendingQueue.push(u);u.always(function(){this.pendingQueue.splice(this.pendingQueue.indexOf(u),1)}.bind(this));this.markDirty(true);e.when.apply(window,this.pendingQueue).always(q.debounce(this.checkMarkDirty,false,true).bind(this))},render:function(){this.$node.html(h.IssueDropZone({}));this.fileInput=this.$node.find(".issue-drop-zone__file");this.fileButton=this.$node.find("button.issue-drop-zone__button");this.connectListeners();s.trace("jira.issue.dnd.issuedropzone.render")},connectListeners:function(){this.fileInput.change(function(v){this.handleFilesReceived(this.fileInput[0].files);this.queueEvent("fileInput",{count:this.fileInput[0].files.length});this.fileInput.attr("value",null)}.bind(this));this.fileButton.click(function(v){v.preventDefault();this.fileInput.click()}.bind(this));var u=this.$node.parents(".issue-drop-zone").length>0?this.$node.parents(".issue-drop-zone"):this.$node;this.$dropTarget=u.find(">*").andSelf();this.$dropTarget.on("dragover dragenter drop",function(v){v.preventDefault();v.stopPropagation();u.addClass("dragover");if(v.type=="drop"){u.removeClass("dragover");e(document).trigger("dropHandled");var w=new t(v.dataTransfer);w.getFiles().then(function(x){this.handleFilesReceived(x);this.queueEvent("fileDrop",{count:x.length})}.bind(this))}}.bind(this));this.$dropTarget.on("dragleave",function(){u.removeClass("dragover")}.bind(this))},configureUploadProgressBar:function(u,v){u.data("upload-size",this.uploadSize).data("file",v).data("form-token",this.formToken)},createUploadProgressBar:function(v){var u=e('<div duiType="'+this.progressBarType+'" class="upload-progress-bar"></div>');this.configureUploadProgressBar(u,v);return c.parse(u).then(function(w){this.placeUploadProgressBar(u,w);this.handleNewProgressBar(w)}.bind(this))},placeUploadProgressBar:function(u){return u.insertAfter(this.$node)},handleNewProgressBar:function(u){},handleFilesReceived:function(u){this.uploadFiles(u)},uploadFiles:function(u){var C=new b();var x=[];var w=m.get("issue-key");var y=m.get("viewissue-permlink");var A=e("#summary-val input").attr("value")||e("#summary-val").text();var v=h.SuccessMessageLink({issueLink:y,issueKey:w,issueSummary:A});var z=q.map(u,function(E){var D=new b();this.createUploadProgressBar(E).then(function(F){this.trigger("progressBarInserted",F);x.push(F);F.uploadFile(E,this.uploadLimit).then(D.resolve.bind(D),D.resolve.bind(D)).done(function(){this.trigger("uploadFinished",F)}.bind(this)).fail(function(){C.reject(arguments)})}.bind(this));return D}.bind(this));var B=e.when.apply(window,z);B.done(function(){var D=q.filter(z.length==1?[arguments]:arguments,function(E){return E&&E[0]&&E[0].id}).map(function(E){return E[0].id});if(D.length==0){return}this.commitUpload(D).done(function(){q.delay(function(){x.some(function(G){if(G.getAutoDestroy()){G.destroy();this.queueEvent("autoDestroy")}}.bind(this))}.bind(this),p);var E=q.filter(x,function(G){return G.result.isResolved()});if(E.length==1){var F=E[0].getFileName();r.showSuccessMsg("",l.format("{0} was attached successfully to {1}.",F,v))}else{if(E.length>1){r.showSuccessMsg("",l.format("{0} files were attached successfully to {1}.",E.length,v))}}C.resolve(q.map(E,function(G){return G.file.name}))}.bind(this)).fail(function(E,F){C.reject(E,F);if(E){E.forEach(function(G){x.forEach(function(H){H.reportError(G)})})}if(F){x.forEach(function(H){var G=F["#"+H.getFileID()]||F[H.getFileName()];if(G){H.reportError(G)}})}s.trace("jira.issue.dnd.commit.fail")})}.bind(this));this.queueTask(B);return C},loadAttachments:function(u){u.forEach(function(v){this.createUploadProgressBar(v.file).then(function(w){w.setFileID(v.id);w.setFileName(v.name);w.setFileSize(v.size);w.setProgress(1);w.setFinished();this.trigger("uploadFinished",w)}.bind(this))},this)},commitUpload:function(u){return new b()},attachFile:function(v){var u=new b();o.makeRequest({type:"POST",url:this.attachFileUrl,data:{inline:true,id:d.getIssueId(),filetoconvert:v,atl_token:atl_token(),formToken:this.formToken},dataType:"json"}).done(u.resolve.bind(u)).fail(function(y){try{var w=JSON.parse(y.responseText);u.reject(w.errorMessages||j,w.errors)}catch(x){u.reject(j)}});return u},isSupportedBrowser:function(){if(e("html.webkit")[0]||e("html.safari")[0]){if(!(parseFloat(e.browser.version)>=537)){return false}}else{if(e("html.mozilla")[0]){if(!(parseFloat(e.browser.version)>=1.9)){return false}}else{if(e("html.msie")[0]){if(!(parseFloat(e.browser.version)>=10)){return false}}else{return false}}}return true},renderUnsupported:function(){this.$node.addClass("issue-drop-zone__not-supported").text(k("dnd.attachment.unsupported.browser")).append("<ul><li>FireFox 3.6+</li><li>Chrome 5+</li><li>Safari 5</li></ul>")},markDirty:function(u){this.$node.addClass(a.ClassNames.SANCTIONED);this.$node.toggleClass(a.ClassNames.EXEMPT,!u);this.$node.attr("value",false);this.$node.attr("defaultValue",true)},checkMarkDirty:function(){if(this.pendingQueue.length==0){this.markDirty(false)}},queueEvent:function(u,v){f.send({name:"issue.dnd.attachment."+this.eventGroup+"."+u,data:v||{}})}});return i});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:drag-and-drop-attachment-javascript-init', location = 'js/initIssueDropZone.js' */
define("dndattachment/init",["jira/util/events","jira/util/events/types","jira/dialog/dialog-register","jira/dialog/dialog","underscore","dndattachment/Parser","jquery","dndattachment/dropzones/IssueDropZone","dndattachment/upload/handler","dndattachment/upload/default/executor","dndattachment/TemporaryAttachments","dndattachment/templates","dndattachment/util/Configuration","dndattachment/util/FileSizeUtil"],function(m,r,i,g,t,a,f,n,s,e,o,l,h,j){if(!n.prototype.isSupportedBrowser()){return}var d=h.getWRM("upload-limit");var p;function k(w,z){var v=w.find(".field-group.file-input-list");if(v.size()==0){return}if(v.find('*[duiType*="'+z+'"]').length>0){return}var u=v.find("input[name=filetoconvert]:checked").map(function(A,B){return o.getAttachment(B.value,f(B).siblings("label").text())}).toArray();var x=v.find(".description:last-child").html();v.empty();var y=f(l[z]({uploadLimit:j.format(d),jiraAttachmentSize:d,description:x}));a.parse(y.appendTo(v)).then(function(A){if(A!=null){A.loadAttachments(u)}})}function c(v,w){var u=function(){k(v.$popupContent,w)};if(v.$popup&&v.$popup.is(":visible")){u()}else{v.onContentReady(u)}}function q(u){var v=u&&(u.attr("id")=="attachmentmodule")&&f(".mod-content:not(.issue-drop-zone)",u);if(v&&v.size()>0){if(u.find("#add-attachments-link").length==0){return}v.addClass("issue-drop-zone");var w=f(l.AttachmentsDropZone({uploadLimit:j.format(d),jiraAttachmentSize:d}));a.parse(w.prependTo(v)).then(function(x){if(p){p.disconnectContainer()}p=x;s.setAttachmentDropZone(x)})}}var b=function(){if(i.attachFile){c(i.attachFile,"AttachFilesDropZone")}var u=["create-issue-dialog","create-subtask-dialog","edit-issue-dialog"];var x=function(A,y,z){if(t.contains(u,y.attr("id"))){c(z,"CreateIssueDropZone")}};m.bind("Dialog.show",x);if(g.current){x(null,g.current.$popup,g.current)}m.bind(r.NEW_CONTENT_ADDED,function(A,y,z){k(y,"CreateIssueDropZone");q(y)});var w=f("form#issue-create, form#issue-edit, form.dnd-attachment-support");if(w.size()>0){k(w,"CreateIssueDropZone")}s.initialize();s.registerExecutor(e);q(f("#attachmentmodule"));var v="issue-drop-zone-document__dragover";f(document).on("dragover dragenter",function(){f("body").addClass(v)});f(document).on("dragleave drop dropHandled",function(){f("body").removeClass(v)})};if(f.isReady){b()}else{f(b)}f.event.props.push("dataTransfer")});require("dndattachment/init");;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:soy-templates', location = 'viewissue/attachmentsblock.soy' */
// This file was automatically generated from attachmentsblock.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ViewIssue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ViewIssue == 'undefined') { JIRA.Templates.ViewIssue = {}; }


JIRA.Templates.ViewIssue.renderAttachments = function(opt_data, opt_ignored) {
  return '' + ((opt_data.viewMode == 'list') ? JIRA.Templates.ViewIssue.fileAttachments(opt_data) : JIRA.Templates.ViewIssue.galleryAttachments(opt_data));
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachments.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachments';
}


JIRA.Templates.ViewIssue.fileAttachments = function(opt_data, opt_ignored) {
  var output = '<ol id="file_attachments" class="item-attachments" data-sort-key="' + soy.$$escapeHtml(opt_data.sortKey) + '" data-sort-order="' + soy.$$escapeHtml(opt_data.sortOrder) + '">';
  var fileAttachmentList14 = opt_data.attachments;
  var fileAttachmentListLen14 = fileAttachmentList14.length;
  for (var fileAttachmentIndex14 = 0; fileAttachmentIndex14 < fileAttachmentListLen14; fileAttachmentIndex14++) {
    var fileAttachmentData14 = fileAttachmentList14[fileAttachmentIndex14];
    output += JIRA.Templates.ViewIssue.fileAttachment(soy.$$augmentMap(opt_data, {fileAttachment: fileAttachmentData14}));
  }
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.fileAttachments.soyTemplateName = 'JIRA.Templates.ViewIssue.fileAttachments';
}


JIRA.Templates.ViewIssue.galleryAttachments = function(opt_data, opt_ignored) {
  var output = '<ol id="attachment_thumbnails" class="item-attachments" data-sort-key="' + soy.$$escapeHtml(opt_data.sortKey) + '" data-sort-order="' + soy.$$escapeHtml(opt_data.sortOrder) + '">';
  var imageAttachmentList25 = opt_data.attachments;
  var imageAttachmentListLen25 = imageAttachmentList25.length;
  for (var imageAttachmentIndex25 = 0; imageAttachmentIndex25 < imageAttachmentListLen25; imageAttachmentIndex25++) {
    var imageAttachmentData25 = imageAttachmentList25[imageAttachmentIndex25];
    output += JIRA.Templates.ViewIssue.imageAttachment(soy.$$augmentMap(opt_data, {imageAttachment: imageAttachmentData25}));
  }
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.galleryAttachments.soyTemplateName = 'JIRA.Templates.ViewIssue.galleryAttachments';
}


JIRA.Templates.ViewIssue.fileAttachment = function(opt_data, opt_ignored) {
  return '<li class="attachment-content js-file-attachment' + ((! opt_data.fileAttachment.latest) ? ' earlier-version' : '') + '" data-attachment-id="' + soy.$$escapeHtml(opt_data.fileAttachment.id) + '"' + JIRA.Templates.ViewIssue.renderAttachmentData({issue: opt_data.issue, attachment: opt_data.fileAttachment}) + '>' + ((opt_data.fileAttachment.expandable) ? JIRA.Templates.ViewIssue.zipFileAttachment(opt_data) : '<div class="attachment-thumb"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.fileAttachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.fileAttachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.fileAttachment}) + '>' + JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(opt_data, {mimetype: opt_data.fileAttachment.mimeType})) + '</a></div><dl>' + JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(opt_data, {attachment: opt_data.fileAttachment})) + '</dl>') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.fileAttachment.soyTemplateName = 'JIRA.Templates.ViewIssue.fileAttachment';
}


JIRA.Templates.ViewIssue.zipFileAttachment = function(opt_data, opt_ignored) {
  return '<div class="twixi-block collapsed expander"><div class="twixi-wrap verbose"><a href="#" class="twixi"><span class="icon-default aui-icon aui-icon-small aui-iconfont-expanded"><span>' + soy.$$escapeHtml("Hide") + '</span></span></a><div class="attachment-thumb"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.fileAttachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.fileAttachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.fileAttachment}) + '>' + JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(opt_data, {mimetype: opt_data.fileAttachment.mimeType})) + '</a></div><dl>' + JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(opt_data, {attachment: opt_data.fileAttachment})) + '<dd class="zip-contents"><ol><li><div class="attachment-thumb"><img src="' + soy.$$escapeHtml(opt_data.baseurl) + '/images/icons/wait.gif" /></div>' + soy.$$escapeHtml("Extracting archive...") + '</li></ol></dd></dl></div><div class="twixi-wrap concise"><a href="#" class="twixi"><span class="icon-default aui-icon aui-icon-small aui-iconfont-collapsed"><span>' + soy.$$escapeHtml("Show") + '</span></span></a><div class="attachment-thumb"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.fileAttachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.fileAttachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.fileAttachment}) + '>' + JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(opt_data, {mimetype: opt_data.fileAttachment.mimeType})) + '</a></div><dl>' + JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(opt_data, {attachment: opt_data.fileAttachment})) + '</dl></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.zipFileAttachment.soyTemplateName = 'JIRA.Templates.ViewIssue.zipFileAttachment';
}


JIRA.Templates.ViewIssue.imageAttachment = function(opt_data, opt_ignored) {
  return '<li class="attachment-content js-file-attachment" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.imageAttachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.imageAttachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.renderAttachmentData({issue: opt_data.issue, attachment: opt_data.imageAttachment}) + '><div class="attachment-thumb"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.imageAttachment.attachmentUrl) + '" title="' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + ' -' + ((opt_data.imageAttachment.latest) ? ' ' + soy.$$escapeHtml("Latest") : '') + ' ' + soy.$$escapeHtml(opt_data.imageAttachment.createdDateTime) + ((opt_data.imageAttachment.authorDisplayName) ? ' - ' + soy.$$escapeHtml(opt_data.imageAttachment.authorDisplayName) : '') + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.imageAttachment}) + '>' + ((opt_data.imageAttachment.thumbnailUrl != null) ? '<img src="' + soy.$$escapeHtml('' + opt_data.imageAttachment.thumbnailUrl) + '" alt="' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + '" />' : JIRA.Templates.ViewIssue.renderThumbnailIcon({mimetype: opt_data.imageAttachment.mimeType})) + '</a></div><dl ' + ((! opt_data.imageAttachment.latest) ? 'class="earlier-version"' : '') + '><dt>' + ((opt_data.imageAttachment.deletable) ? '<span class="blender blender-delete"></span><div class="attachment-delete"><a title="' + soy.$$escapeHtml("Delete this attachment") + '" id="del_' + soy.$$escapeHtml(opt_data.imageAttachment.id) + '" href="' + soy.$$escapeHtml(opt_data.baseurl) + '/secure/DeleteAttachment!default.jspa?id=' + soy.$$escapeHtml(opt_data.issue.id) + '&deleteAttachmentId=' + soy.$$escapeHtml(opt_data.imageAttachment.id) + '&from=issue"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">' + soy.$$escapeHtml("Delete this attachment") + '</span></a></div>' : '<span class="blender"></span>') + '<a  href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.imageAttachment.attachmentUrl) + '" class="attachment-title" title="' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + ' -' + ((opt_data.imageAttachment.latest) ? ' ' + soy.$$escapeHtml("Latest") : '') + ' ' + soy.$$escapeHtml(opt_data.imageAttachment.createdDateTime) + ((opt_data.imageAttachment.authorDisplayName) ? ' - ' + soy.$$escapeHtml(opt_data.imageAttachment.authorDisplayName) : '') + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.imageAttachment}) + '>' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + '</a></dt><dd class="attachment-size">' + soy.$$escapeHtml(opt_data.imageAttachment.fileSize) + '</dd><dd class="attachment-date"><time class="livestamp" datetime="' + soy.$$escapeHtml('' + opt_data.imageAttachment.createdIso8601) + '">' + soy.$$escapeHtml(opt_data.imageAttachment.createdDateTime) + '</time></dd></dl></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.imageAttachment.soyTemplateName = 'JIRA.Templates.ViewIssue.imageAttachment';
}


JIRA.Templates.ViewIssue.renderAttachmentInfo = function(opt_data, opt_ignored) {
  return '<dt class="attachment-title"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.attachment.attachmentUrl) + '" title="' + ((opt_data.attachment.latest) ? soy.$$escapeHtml("Latest") + ' ' : '') + ' ' + soy.$$escapeHtml(opt_data.attachment.createdDateTime) + ((opt_data.attachment.authorDisplayName) ? ' - ' + soy.$$escapeHtml(opt_data.attachment.authorDisplayName) : '') + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.attachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.attachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.attachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.tagAttachment(opt_data) + '>' + soy.$$escapeHtml(opt_data.attachment.fileName) + '</a></dt><dd class="attachment-delete">' + ((opt_data.attachment.deletable) ? '<a title="' + soy.$$escapeHtml("Delete this attachment") + '" id="del_' + soy.$$escapeHtml(opt_data.attachment.id) + '" href="' + soy.$$escapeHtml(opt_data.baseurl) + '/secure/DeleteAttachment!default.jspa?id=' + soy.$$escapeHtml(opt_data.issue.id) + '&deleteAttachmentId=' + soy.$$escapeHtml(opt_data.attachment.id) + '&from=issue"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">' + soy.$$escapeHtml("Delete this attachment") + '</span></a>' : '<span class="icon"></span>') + '</dd><dd class="attachment-date"><time class="livestamp" datetime="' + soy.$$escapeHtml('' + opt_data.attachment.createdIso8601) + '">' + soy.$$escapeHtml(opt_data.attachment.createdDateTime) + '</time></dd><dd class="attachment-size">' + soy.$$escapeHtml(opt_data.attachment.fileSize) + '</dd><dd class="attachment-author">' + soy.$$escapeHtml(opt_data.attachment.authorDisplayName ? opt_data.attachment.authorDisplayName : '') + '</dd>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachmentInfo.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachmentInfo';
}


JIRA.Templates.ViewIssue.renderAttachmentData = function(opt_data, opt_ignored) {
  return 'data-issue-id="' + soy.$$escapeHtml(opt_data.issue.id) + '"' + ((opt_data.attachment.expandable) ? 'data-attachment-type="expandable"' : (opt_data.attachment.imageFileType) ? 'data-attachment-type="image" data-attachment-thumbnail="' + soy.$$escapeHtml(opt_data.attachment.thumbnailUrl != null) + '"' : 'data-attachment-type="file"');
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachmentData.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachmentData';
}


JIRA.Templates.ViewIssue.renderAttachmentLegacyIcon = function(opt_data, opt_ignored) {
  var output = '';
  var fileIconUrl__soy286 = '' + JIRA.Templates.ViewIssue.matchFileIconUrl(opt_data);
  var fileIconAlt__soy288 = '' + JIRA.Templates.ViewIssue.matchFileIconAlt(opt_data);
  output += '<img src="' + soy.$$escapeHtml(fileIconUrl__soy286) + '" height="16" width="16" border="0" alt="' + soy.$$escapeHtml(fileIconAlt__soy288) + '">';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachmentLegacyIcon.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachmentLegacyIcon';
}


JIRA.Templates.ViewIssue.matchFileIconUrl = function(opt_data, opt_ignored) {
  return soy.$$escapeHtml(opt_data.baseurl) + '/images/icons/attach/' + JIRA.Templates.ViewIssue.matchFileIcon(opt_data);
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.matchFileIconUrl.soyTemplateName = 'JIRA.Templates.ViewIssue.matchFileIconUrl';
}


JIRA.Templates.ViewIssue.matchFileIcon = function(opt_data, opt_ignored) {
  var output = '';
  switch (opt_data.mimetype) {
    case 'application/pdf':
      output += 'pdf.gif';
      break;
    case 'image/gif':
      output += 'image.gif';
      break;
    case 'image/png':
      output += 'image.gif';
      break;
    case 'image/jpeg':
      output += 'image.gif';
      break;
    case 'text/xml':
      output += 'xml.gif';
      break;
    case 'text/html':
      output += 'html.gif';
      break;
    case 'text/plain':
      output += 'text.gif';
      break;
    case 'application/zip':
      output += 'zip.gif';
      break;
    case 'application/x-gzip-compressed':
      output += 'zip.gif';
      break;
    case 'application/msword':
      output += 'word.gif';
      break;
    case 'application/msword-template':
      output += 'word.gif';
      break;
    case 'application/vnd.ms-word.document.macroEnabled.12':
      output += 'word.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
      output += 'word.gif';
      break;
    case 'application/vnd.ms-word.template.macroEnabled.12':
      output += 'word.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.template':
      output += 'word.gif';
      break;
    case 'application/vnd.ms-excel':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-excel.addin.macroEnabled.12':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-excel.sheet.binary.macroEnabled.12':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-excel.sheet.macroEnabled.12':
      output += 'excel.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-excel.template.macroEnabled.12':
      output += 'excel.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.template':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-powerpoint':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.ms-powerpoint.template.macroEnabled.12':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.template':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.ms-powerpoint.addin.macroEnabled.12':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.ms-powerpoint.slideshow.macroEnabled.12':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.slideshow':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.ms-powerpoint.presentation.macroEnabled.12':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':
      output += 'powerpoint.gif';
      break;
    case 'text/x-java':
      output += 'java.gif';
      break;
    case 'text/x-java-source':
      output += 'java.gif';
      break;
    case 'application/x-java-archive':
      output += 'java.gif';
      break;
    default:
      output += 'file.gif';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.matchFileIcon.soyTemplateName = 'JIRA.Templates.ViewIssue.matchFileIcon';
}


JIRA.Templates.ViewIssue.matchFileIconAlt = function(opt_data, opt_ignored) {
  var output = '';
  switch (opt_data.mimetype) {
    case 'application/pdf':
      output += soy.$$escapeHtml("PDF File");
      break;
    case 'image/gif':
      output += soy.$$escapeHtml("GIF File");
      break;
    case 'image/png':
      output += soy.$$escapeHtml("PNG File");
      break;
    case 'image/jpeg':
      output += soy.$$escapeHtml("JPEG File");
      break;
    case 'text/xml':
      output += soy.$$escapeHtml("XML File");
      break;
    case 'text/html':
      output += soy.$$escapeHtml("HTML File");
      break;
    case 'text/plain':
      output += soy.$$escapeHtml("Text File");
      break;
    case 'application/zip':
      output += soy.$$escapeHtml("Zip Archive");
      break;
    case 'application/x-gzip-compressed':
      output += soy.$$escapeHtml("GZip Archive");
      break;
    case 'application/msword':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/msword-template':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.openxmlformats':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.ms-word.document.macroEnabled.12':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.ms-word.template.macroEnabled.12':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.template':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.ms-excel':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.ms-excel':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.ms-excel.addin.macroEnabled.12':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.ms-excel.sheet.binary.macroEnabled.12':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.ms-excel.sheet.macroEnabled.12':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.ms-excel.template.macroEnabled.12':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.template':
      output += soy.$$escapeHtml("Microsoft Word");
      break;
    case 'application/vnd.ms-powerpoint':
      output += soy.$$escapeHtml("Microsoft PowerPoint");
      break;
    case 'application/vnd.ms-powerpoint.template.macroEnabled.12':
      output += soy.$$escapeHtml("Microsoft PowerPoint");
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.template':
      output += soy.$$escapeHtml("Microsoft PowerPoint");
      break;
    case 'application/vnd.ms-powerpoint.addin.macroEnabled.12':
      output += soy.$$escapeHtml("Microsoft PowerPoint");
      break;
    case 'application/vnd.ms-powerpoint.slideshow.macroEnabled.12':
      output += soy.$$escapeHtml("Microsoft PowerPoint");
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.slideshow':
      output += soy.$$escapeHtml("Microsoft PowerPoint");
      break;
    case 'application/vnd.ms-powerpoint.presentation.macroEnabled.12':
      output += soy.$$escapeHtml("Microsoft PowerPoint");
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':
      output += soy.$$escapeHtml("Microsoft PowerPoint");
      break;
    case 'text/x-java':
      output += soy.$$escapeHtml("Java Source File");
      break;
    case 'text/x-java-source':
      output += soy.$$escapeHtml("Java Source File");
      break;
    case 'application/x-java-archive':
      output += soy.$$escapeHtml("Java Archive File");
      break;
    default:
      output += soy.$$escapeHtml("File");
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.matchFileIconAlt.soyTemplateName = 'JIRA.Templates.ViewIssue.matchFileIconAlt';
}


JIRA.Templates.ViewIssue.renderAttachmentIcon = function(opt_data, opt_ignored) {
  var output = '';
  var fileClass__soy444 = '' + JIRA.Templates.ViewIssue.matchFileClass(opt_data);
  var fileIconAlt__soy446 = '' + JIRA.Templates.ViewIssue.matchFileIconAlt(opt_data);
  output += '<span class="aui-icon aui-icon-small attachment-icon ' + soy.$$escapeHtml(fileClass__soy444) + '" title="' + soy.$$escapeHtml(fileIconAlt__soy446) + '"></span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachmentIcon.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachmentIcon';
}


JIRA.Templates.ViewIssue.renderThumbnailIcon = function(opt_data, opt_ignored) {
  var output = '';
  var fileClass__soy454 = '' + JIRA.Templates.ViewIssue.matchFileClass(opt_data);
  output += '<span class="aui-icon aui-icon-large attachment-thumbnail-icon ' + soy.$$escapeHtml(fileClass__soy454) + '"></span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderThumbnailIcon.soyTemplateName = 'JIRA.Templates.ViewIssue.renderThumbnailIcon';
}


JIRA.Templates.ViewIssue.matchFileClass = function(opt_data, opt_ignored) {
  var output = '';
  switch (opt_data.mimetype) {
    case 'application/pdf':
      output += 'aui-iconfont-file-pdf';
      break;
    case 'image/gif':
      output += 'aui-iconfont-image';
      break;
    case 'image/png':
      output += 'aui-iconfont-image';
      break;
    case 'image/jpeg':
      output += 'aui-iconfont-image';
      break;
    case 'text/xml':
      output += 'aui-iconfont-file-code';
      break;
    case 'text/html':
      output += 'aui-iconfont-file-code';
      break;
    case 'text/plain':
      output += 'aui-iconfont-file-txt';
      break;
    case 'application/zip':
      output += 'aui-iconfont-file-zip';
      break;
    case 'application/x-gzip-compressed':
      output += 'aui-iconfont-file-zip';
      break;
    case 'application/msword':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/msword-template':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.ms-word.document.macroEnabled.12':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.ms-word.template.macroEnabled.12':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.template':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.ms-excel':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-excel.addin.macroEnabled.12':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-excel.sheet.binary.macroEnabled.12':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-excel.sheet.macroEnabled.12':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-excel.template.macroEnabled.12':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.template':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-powerpoint':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.ms-powerpoint.template.macroEnabled.12':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.template':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.ms-powerpoint.addin.macroEnabled.12':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.ms-powerpoint.slideshow.macroEnabled.12':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.slideshow':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.ms-powerpoint.presentation.macroEnabled.12':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'text/x-java':
      output += 'aui-iconfont-file-code';
      break;
    case 'text/x-java-source':
      output += 'aui-iconfont-file-code';
      break;
    case 'application/x-java-archive':
      output += 'aui-iconfont-file-zip';
      break;
    default:
      output += 'aui-iconfont-devtools-file';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.matchFileClass.soyTemplateName = 'JIRA.Templates.ViewIssue.matchFileClass';
}


JIRA.Templates.ViewIssue.tagAttachment = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ViewIssue.tagFilePreview({id: opt_data.attachment.id, title: opt_data.attachment.fileName, mimeType: opt_data.attachment.mimeType, isImage: opt_data.attachment.thumbnailUrl != null, thumbnailUrl: opt_data.attachment.thumbnailUrl});
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.tagAttachment.soyTemplateName = 'JIRA.Templates.ViewIssue.tagAttachment';
}


JIRA.Templates.ViewIssue.tagFilePreview = function(opt_data, opt_ignored) {
  var output = '';
  var previewType__soy537 = '' + ((opt_data.isImage || opt_data.mimeType != null && ('' + opt_data.mimeType).indexOf('image/') != -1) ? 'image' : (opt_data.mimeType == 'application/pdf') ? 'document' : 'unknown');
  output += (previewType__soy537 != 'unknown') ? ' file-preview-id="' + soy.$$escapeHtml(opt_data.id) + '" file-preview-title="' + soy.$$escapeHtml(opt_data.title) + '" file-preview-type="' + soy.$$escapeHtml(previewType__soy537) + '"' + ((opt_data.thumbnailUrl != null) ? 'file-preview-url="' + soy.$$escapeHtml('' + opt_data.thumbnailUrl) + '"' : '') : '';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.tagFilePreview.soyTemplateName = 'JIRA.Templates.ViewIssue.tagFilePreview';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'js/dropzones/AttachmentsDropZone.js' */
define("dndattachment/dropzones/AttachmentsDropZone",["require"],function(c){var g=c("jira/libs/parse-uri");var o=c("jira/util/logger");var d=c("jira/util/events/types");var q=c("jira/util/events/reasons");var m=c("underscore");var l=c("jira/jquery/deferred");var k=c("dndattachment/dropzones/IssueDropZone");var p=c("jira/util/events");var n=c("dndattachment/util/events/types");var h=c("jquery");var f=c("dndattachment/templates");var i=c("dndattachment/util/DataTransfer");var j=c("dndattachment/ctrlv/utility");var e=c("jira/dialog/dialog");var b=(function(){var r=g(window.location);return r.protocol+"://"+r.authority})();var a=k.extend({eventGroup:"attachmentsdropzone",progressBarType:"dndattachment/progressbars/AttachmentsUploadProgressBar",init:function(){this._super.apply(this,arguments);this.attachFileUrl=contextPath+"/rest/jddap/1.0/attachment";p.bind(d.PANEL_REFRESHED,this.panelRefreshed.bind(this));this.connectContainer()},connectContainer:function(){this.$pagePanel=h("div.aui-page-panel");this.$containerNode=this.getContainerNode();this.$dragoverDropzone=h(f.dropzone());this.$dragoverBorder=this.$dragoverDropzone.find(".attachments-drop-zone__dragover-border");this.$dragoverInfo=this.$dragoverDropzone.find(".attachments-drop-zone__dragover-info");this.$dragoverDropzone.appendTo(this.$containerNode);this.onDragOverDropHandler=this.onDragOverDrop.bind(this);this.onDragLeaveHandler=this.onDragLeave.bind(this);this.$containerNode.on("dragover dragenter drop",this.onDragOverDropHandler);this.$containerNode.on("dragleave",this.onDragLeaveHandler);this.$windowMask=h(f.windowDropzoneMask());this.$body=h(document.body);this.$body.append(this.$windowMask);this.$body.on("dragenter",m.throttle(this.onBodyDragEnter.bind(this),200,{trailing:false}));this.$body.on("dragleave",this.onBodyDragLeave.bind(this));this.$windowMask.on("dragover dragenter",this.onWindowMaskDragEnter.bind(this));this.$windowMask.on("dragleave",this.onWindowMaskDragLeave.bind(this));this.$windowMask.on("drop",this.onWindowMaskDrop.bind(this));this.$auiSidebar=h(".aui-sidebar-body");this._disconnectListenersFromParentDropzone();this.onContentAddedHandler=this.onContentAdded.bind(this);p.bind(d.NEW_CONTENT_ADDED,this.onContentAddedHandler)},_disconnectListenersFromParentDropzone:function(){this.$dropTarget.off("dragover drop dragleave dragenter");h(document).off("dragover dragenter")},_risePagePanel:function(){this._pagePanelZIndex=this.$pagePanel.css("z-index");this.$pagePanel.css("z-index","auto")},_releasePagePanel:function(){this.$pagePanel.css("z-index",this._pagePanelZIndex)},disconnectContainer:function(){this.$dragoverDropzone.remove();this.$windowMask.remove();this.$body.removeClass("attachments-drop-zone__dragover");this.$body.off("dragenter",this.onBodyDragEnter.bind(this));this.$containerNode.off("dragenter dragover drop",this.onDragOverDropHandler);this.$containerNode.off("dragleave",this.onDragLeaveHandler);p.unbind(d.NEW_CONTENT_ADDED,this.onContentAddedHandler)},isAttached:function(){return h.contains(document,this.$node[0])},onContentAdded:function(){if(!this.isAttached()){this.disconnectContainer()}},getContainerNode:function(){var r=h(h(".issue-container")[0]);if(r.css("position")==="static"){r.css("position","relative")}return r},canDoFullPageDrop:function(){if(!e.current){o.trace("jira.issue.dnd.dropallowed");return true}else{o.trace("jira.issue.dnd.dropnotallowed");return false}},onDragOverDrop:function(r){if(!this.isAttached()){this.disconnectContainer();return}if(!j.dragEventContainsFiles(r)){return}if(!this.canDoFullPageDrop()){return}r.preventDefault();if(r.originalEvent){r.originalEvent.dataTransfer.dropEffect="copy"}o.trace("jira.issue.dnd.dragover");this.$body.addClass("attachments-drop-zone__dragover");this.$body.addClass("attachments-drop-zone__window-dragover");this.$containerNode.addClass("attachments-drop-zone__dragover-fade");this._readjustDropzone();this._repositionStickyInfoBox();if(r.type=="drop"){this.removeAllDragoverClasses(this.$containerNode);this._releasePagePanel();h(document).trigger("dropHandled");var s=new i(r.dataTransfer);s.getFiles().then(function(t){this.handleFilesReceived(t);this.queueEvent("fileDrop",{count:t.length})}.bind(this))}},onDragLeave:function(){this.removeAllDragoverClasses(this.$containerNode)},_readjustDropzone:function(){if(this.$auiSidebar.length!==0){var s=this.$auiSidebar.offset().left+this.$auiSidebar.width();if(this.$dragoverBorder.parent().offset()){var r=this.$dragoverBorder.parent().offset().left;if(s>r){this.$dragoverBorder.css({left:s-r})}else{this.$dragoverBorder.css({left:0})}}else{this.$dragoverBorder.css({left:0})}this._risePagePanel()}},_repositionStickyInfoBox:function(){var r=this.$containerNode.scrollParent().scrollTop()+10;var u=this.$containerNode.offset().top;var t;if(this.$containerNode.scrollParent().offset()){t=this.$containerNode.scrollParent().offset().top}else{t=0}var s;if(t===0){if(r>=u){s=r-u}else{s=10}}else{s=r}this.$dragoverInfo.css({top:s})},onBodyDragEnter:function(r){if(!j.dragEventContainsFiles(r)){return}this._readjustDropzone();this.$body.addClass("attachments-drop-zone__window-dragover")},onBodyDragLeave:function(){this.removeAllDragoverClasses()},onWindowMaskDragEnter:function(r){if(!j.dragEventContainsFiles(r)){return}r.preventDefault();if(r.originalEvent){r.originalEvent.dataTransfer.dropEffect="none"}this._readjustDropzone();this.$body.addClass("attachments-drop-zone__window-dragover");if(this.canDoFullPageDrop()){this.$body.addClass("attachments-drop-zone__dragover");this._repositionStickyInfoBox()}},onWindowMaskDragLeave:function(){this.removeAllDragoverClasses()},onWindowMaskDrop:function(r){r.preventDefault();this.removeAllDragoverClasses()},removeAllDragoverClasses:function(r){if(r){r.removeClass("attachments-drop-zone__dragover-fade")}this.$body.removeClass("attachments-drop-zone__window-dragover");this.$body.removeClass("attachments-drop-zone__dragover")},handleFilesReceived:function(t){var v=h("textarea.wiki-textfield:visible:focus");var s=v.length>0;var r=h(".jira-editor-container iframe:visible:focus");var u=r.length>0;p.trigger(n.ATTACHMENT_FOR_PAGE_RECEIVED,{files:t,isWikiTextfieldFocused:s,wikiTextfield:v[0],isRichEditorFieldFocused:u,richEditorField:r[0]})},render:function(){this.$node.parents("#attachmentmodule").addClass("attachments-drop-zone-parent");this.$listNode=this.$node.siblings("#file_attachments, #attachment_thumbnails");return this._super.apply(this,arguments)},panelRefreshed:function(t,r,u,s){if(!s.find(this.$node).is("*")){return}var w=this.getViewMode();u=u.find(">.mod-content");u.addClass("issue-drop-zone");this.$node.prependTo(u);this.render();var v=s.find(".attachments-upload-progress-bar");v.data("viewMode",this.getViewMode()).each(function(x,y){h(y).prop("_instance").render()});v.each(function(x,y){this.insertProgressBar(h(y))}.bind(this));this._disconnectListenersFromParentDropzone()},getViewMode:function(){return this.$listNode.attr("id")=="file_attachments"?"list":"gallery"},getSortBy:function(){return this.$listNode.data("sort-key")},getSortOrder:function(){return this.$listNode.data("sort-order")},getSortComparator:function(){var r=this.getSortOrder()=="asc"?1:-1;var t=this.getSortBy()=="fileName"?function(u){return u.find(".attachment-title").text()}:function(u){return new Date(u.find("*[datetime]").attr("datetime")).getTime()};var s=this.getSortBy()=="fileName"&&String.prototype.localeCompare?function(v,u){return v.localeCompare(u)}:function(v,u){return v<u?-1:(v>u?1:0)};return function(u,w){var x=t(u);var v=t(w);return r*s(x,v)}},commitUpload:function(s){var r=new l();this.attachFile(s).then(r.resolve.bind(r),r.reject.bind(r));r.then(function(t){var u=h(JIRA.Templates.ViewIssue.renderAttachments({baseurl:contextPath,fullBaseUrl:b+contextPath,issue:{id:JIRA.Issues.Api.getSelectedIssueId()},attachments:t,viewMode:this.getViewMode()})).find(".attachment-content");t.forEach(function(w,v){var y=u[v];var x=this.$listNode.find('>*[data-file-id="'+s[v]+'"]');x.replaceWith(y)},this);p.trigger(d.NEW_CONTENT_ADDED,[this.$listNode,q.panelRefreshed]);o.trace("jira.issue.dnd.attached")}.bind(this));this.queueTask(r);this.queueEvent("commitUpload",{count:s.length});return r},configureUploadProgressBar:function(r){this._super.apply(this,arguments);r.data("viewMode",this.getViewMode())},placeUploadProgressBar:function(r,s){s.$node.find("time.livestamp").attr("datetime",new Date().toISOString()).livestamp();this.insertProgressBar(r);s.bind("onDestroy",function(){var t=r.parents(".item-attachments");if(t.find(".attachments-upload-progress-bar, .attachment-content").length==0){t.remove()}});return r},insertProgressBar:function(t){var r=this.getSortComparator();var s=this.$listNode.children().toArray();var u=function(v){if(r(t,h(v))<1){t.insertBefore(v);return true}};if(!s.some(u)){t.appendTo(this.$listNode)}}});return a});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'js/progressbars/UploadProgressBar.js' */
define("dndattachment/progressbars/UploadProgressBar",["require"],function(h){var g=h("jira/analytics");var p=h("jira/util/formatter");var u=h("jira/util/logger");var d=h("jira/issue");var c=h("jira/attachment/inline-attach");var q=h("jira/lib/class");var t=h("underscore");var r=h("wrm/context-path");var a=h("jira/jquery/deferred");var e=h("jquery");var b=h("dndattachment/Parser");var o=h("dndattachment/i18n");var m=h("dndattachment/TemporaryAttachments");var l=h("dndattachment/templates");var i=h("dndattachment/util/Configuration");var j=h("dndattachment/util/FileSizeUtil");var k=["aui-iconfont-error","aui-iconfont-success","aui-iconfont-close-dialog"];function f(v,w){g.send({name:"issue.dnd.attachment.uploadprogress."+v,data:w||{}})}var s=i.getWRM("thumbnail-mime-types").split(",");var n=q.extend({autoDestroy:true,init:function(v){this.result=new a();this.$node=e(v);this.file=this.$node.data("file");this.uploadSize=this.$node.data("upload-size");this.formToken=this.$node.data("form-token");this.$node.prop("_instance",this);this.render()},render:function(){this.$node.html(l.UploadProgressBar({isImageType:this.isImageType()}));this.afterRender()},afterRender:function(){if(this.file){this.setFileName(this.file.name);this.setFileSize(this.file.size);this.loadThumbnail(this.file)}if(this.progress){this.updateProgress()}this.connectListeners()},connectListeners:function(){this.getControlNode().on("click",function(){this.destroy();f("buttonClick")}.bind(this))},destroy:function(){if(this.destroyed){return}if(this.upload){this.upload.abort()}this.setAutoDestroy(false);this.trigger("onBeforeDestroy");this.destroyed=true;this.$node.animate({opacity:0},{duration:250,complete:function(){this.$node.slideUp(250,function(){if(this.objectURL){window.URL.revokeObjectURL(this.objectURL)}this.$node.remove();u.trace("jira.issue.dnd.progressbar.removed");this.trigger("onDestroy")}.bind(this))}.bind(this)})},isDestroyed:function(){return !!this.destroyed},setAutoDestroy:function(v){this.autoDestroy=v},getAutoDestroy:function(){return this.autoDestroy},getUploadParams:function(v){var w={filename:v.name,size:v.size,atl_token:atl_token(),formToken:this.formToken};t.extend(w,this.getEntityParams());return w},getEntityParams:function(){var v={};var x=d.getIssueId();var w=this.$node.parents("form").find('*[name="pid"]').attr("value");if(w){v.projectId=w}else{if(x){v.issueId=x}}return v},setFile:function(v){this.file=v},setFileID:function(v){this.fileID=v;this.$node.attr("data-file-id",v)},getFileID:function(){return this.fileID},setFileName:function(v){this.$node.find(".upload-progress-bar__file-name").text(v)},getFileName:function(){return this.$node.find(".upload-progress-bar__file-name").text()},setFileSize:function(v){if(v>=0){this.$node.find(".upload-progress-bar__file-size").html(j.format(v))}},uploadFile:function(y,A){this.setFile(y);var v=this.result;this.monitorUpload(v);v.fail(this.reportError.bind(this));if(y.size>A){v.reject(o("dnd.attachment.file.is.too.large").replace("{0}",this.uploadSize),true);return v}var z=["\\","/",'"',":","?","*","<","|",">"];for(var x=0;x<z.length;x++){var w=z[x];if(t.contains(y.name,w)){v.reject(p.format("{0} contains the invalid character \'\'{1}\'\'. Please rename the file and try again.",y.name,w),true);return v}}this.upload=new c.AjaxUpload({file:y,params:this.getUploadParams(y),url:c.AjaxPresenter.DEFAULT_URL,progress:function(B){v.notify(B/y.size)},success:function(C,B){if(C.id!==undefined&&C.name!==undefined){v.notify(1);v.resolve(C,B,y)}else{v.reject(C,B,y)}},error:function(C,B){v.reject(o("dnd.attachment.internal.server.error"),B)},abort:function(){v.reject(o("dnd.attachment.upload.aborted"),"abort")}});this.checkSession().then(function(){this.upload.upload()}.bind(this)).fail(function(){v.reject(o("dnd.attachment.unauthorized"),401)});this.$node.find(".upload-progress-bar__control>*").on("click",function(){this.upload.abort();v.reject()}.bind(this));v.done(function(B){m.putAttachment(B.id,y);this.setFileID(B.id);u.trace("jira.issue.dnd.uploaded")}.bind(this));return v},monitorUpload:function(v){v.progress(this.setProgress.bind(this));v.done(this.setFinished.bind(this));v.fail(this.setFailed.bind(this))},setProgress:function(v){this.progress=v;this.updateProgress()},updateProgress:function(){var v=this.$node.find(".upload-progress-bar__progress-bar");v.toggleClass("UploadProgressBar_progressUnknown",this.progress===false);if(this.progress>=0){v.find(".upload-progress-bar__bar").css("width",100*this.progress+"%")}},setFinished:function(){this.$node.addClass("upload-progress-bar__upload-finished");this.$node.find(".upload-progress-bar__control button .aui-icon").addClass("aui-iconfont-success").removeClass("aui-iconfont-close-dialog");this.finished=true;this.trigger("onFinished")},setFailed:function(){this.$node.addClass("UploadProgressBar_uploadFailed");this.finished=true;this.failed=true;this.trigger("onFailed")},isFinished:function(){return !!this.finished},isFailed:function(){return !!this.failed},isSuccessful:function(){return this.isFinished()&&!this.isFailed()},isImageType:function(){return this.file&&this.file.type&&t.contains(s,this.file.type)},getThumbnailSrc:function(v){if(this.isImageType()){this.objectURL=window.URL.createObjectURL(v)}return this.objectURL||JIRA.Templates.ViewIssue.matchFileIconUrl({baseurl:r(),mimetype:v.type})},getThumbnailNode:function(){return this.$node.find(".upload-progress-bar__thumbnail")},getControlNode:function(){return this.$node.find(".upload-progress-bar__control button")},loadThumbnail:function(v){var w=this.getThumbnailSrc(v);var y=this.getThumbnailNode();y.addClass(this.objectURL?"upload-progress-bar__thumbnail_image":"upload-progress-bar__thumbnail_icon");var x=e("<img/>").attr("src",w);return x.appendTo(y)},reportError:function(w,v){if(typeof w=="object"&&w.errorMessage){w=w.errorMessage}this.$node.addClass("upload-progress-bar__upload-error");this.$node.removeClass("upload-progress-bar__upload-finished");this.$node.find(".upload-progress-bar__bar").css("width","100%");this.showErrorMessage(w,v);this.setAutoDestroy(false);f("error",{message:w})},showErrorMessage:function(v){this.$node.find(".upload-progress-bar__error-message").text(v)},setIcon:function(w){var v=this.$node.find(".upload-progress-bar__control button .aui-icon");if(!k.some(function(x){v.toggleClass(x,x==w);return x==w})){throw"Unknown icon"}},checkSession:function(){var v=new a();e.ajax({type:"GET",url:contextPath+"/rest/auth/1/session",contentType:"application/json"}).done(function(){v.resolve()}).fail(function(){this.checkPermissions().done(function(w){v.resolve()}).fail(function(){v.reject()})}.bind(this));return v},checkPermissions:function(){var v=new a();e.ajax({type:"GET",url:contextPath+"/rest/api/2/mypermissions",contentType:"application/json",data:this.getEntityParams()}).done(function(w){if(w.permissions.CREATE_ATTACHMENT.havePermission){v.resolve()}else{v.reject()}}).fail(function(){v.reject()});return v}});return n});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'js/progressbars/AttachmentsUploadProgressBar.js' */
define("dndattachment/progressbars/AttachmentsUploadProgressBar",["require"],function(b){var i=b("dndattachment/progressbars/UploadProgressBar");var g=b("jira/analytics");var h=b("jira/flag");var f=b("jquery");var e=b("dndattachment/aui/escape-html");var d=b("dndattachment/templates");var c=b("dndattachment/i18n");function a(j,k){g.send({name:"issue.dnd.attachment.attachmentsuploadprogress."+j,data:k||{}})}return i.extend({render:function(){this.$node.html(d.AttachmentsUploadProgressBar({isImageType:this.isImageType()})).removeClass("upload-progress-bar").addClass("attachments-upload-progress-bar");this.$node.toggleClass("attachment-content",!this.isImageType());this.afterRender()},loadThumbnail:function(j){if(this.$node.data("viewMode")=="gallery"){if(i.prototype.isImageType.call(this)){return this._super.apply(this,arguments)}else{return f(JIRA.Templates.ViewIssue.renderThumbnailIcon({mimetype:j.type})).appendTo(this.getThumbnailNode())}}else{return f(JIRA.Templates.ViewIssue.renderAttachmentIcon({mimetype:j.type})).appendTo(this.getThumbnailNode())}},showErrorMessage:function(l,j){if(j=="abort"){return}var k=h.showErrorMsg(c("dnd.attachment.not.uploaded")(this.getFileName()),e(l));f(k).on("aui-flag-close",function(){this.destroy()}.bind(this));this.bind("onDestroy",function(){k.close()})},isImageType:function(){return this.$node.data("viewMode")=="gallery"},getControlNode:function(){return this.$node.find(".upload-progress-bar__upload-control span")},getAutoDestroy:function(){return false}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'templates/AttachmentsDropZone.soy' */
// This file was automatically generated from AttachmentsDropZone.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DnDAttachmentPlugin.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DnDAttachmentPlugin == 'undefined') { JIRA.Templates.DnDAttachmentPlugin = {}; }


JIRA.Templates.DnDAttachmentPlugin.dropzoneMask = function(opt_data, opt_ignored) {
  return '<span><div class="attachments-drop-zone__dragover-mask" /></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.dropzoneMask.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.dropzoneMask';
}


JIRA.Templates.DnDAttachmentPlugin.dropzone = function(opt_data, opt_ignored) {
  return '<span><div class="attachments-drop-zone__dragover-border"><div class="attachments-drop-zone__dragover-info"><p>' + soy.$$escapeHtml("Drop files to attach them to the issue") + '</p></div></div></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.dropzone.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.dropzone';
}


JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask = function(opt_data, opt_ignored) {
  return '<span><div class="attachments-drop-zone__window-dragover-mask" /></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'templates/UploadProgressBar.soy' */
// This file was automatically generated from UploadProgressBar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DnDAttachmentPlugin.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DnDAttachmentPlugin == 'undefined') { JIRA.Templates.DnDAttachmentPlugin = {}; }


JIRA.Templates.DnDAttachmentPlugin.UploadProgressBar = function(opt_data, opt_ignored) {
  return '<div class="upload-progress-bar__thumbnail"> </div><span class="upload-progress-bar__file-name"> </span><span class="upload-progress-bar__file-size"> </span><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div><div class="upload-progress-bar__control"><button type="button" class="aui-button aui-button-subtle aui-button-compact"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Cancel upload") + '</span></button></div><div class="upload-progress-bar__error-message"></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.UploadProgressBar.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.UploadProgressBar';
}


JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar = function(opt_data, opt_ignored) {
  return '' + ((opt_data.isImageType) ? '<div class="upload-progress-bar__thumbnail"><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></div><dl><dt><span class="upload-progress-bar__file-name"> </span></dt><dd class="upload-progress-bar__file-size"> </dd><dd class="upload-progress-bar__upload-control"><span>' + soy.$$escapeHtml("Cancel") + '</span></dd><dd class="upload-progress-bar__error-message"></dd><dd class="attachment-date"><time class="livestamp" /></dd></dl>' : '<div class="attachment-thumb upload-progress-bar__thumbnail"></div><dl><dt class="attachment-title upload-progress-bar__file-name"></dt><dd class="upload-progress-bar__upload-control"><span>' + soy.$$escapeHtml("Cancel") + '</span></dd><dd class="attachment-size"><span class="upload-progress-bar__file-size"> </span><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></dd><dd class="attachment-author"> </dd><dd class="attachment-date"><time class="livestamp" /></dd></dl>');
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar';
}


JIRA.Templates.DnDAttachmentPlugin.TempUploadProgressBar = function(opt_data, opt_ignored) {
  return '<div class="temp-upload-progress-bar__parent-container temp-upload-progress-bar__uploading"><div class="temp-upload-progress-bar__container"><div class="upload-progress-bar__thumbnail"/><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div><div class="upload-progress-bar__error"><div class="upload-progress-bar__error-indicator"><span class="aui-icon aui-icon-large aui-iconfont-error">' + soy.$$escapeHtml("Upload error") + '</span></div><div class="upload-progress-bar__error-text">' + soy.$$escapeHtml("Upload failed") + '</div></div><div class="upload-progress-bar__upload-mask"/><div class="upload-progress-bar__control"><button type="button" class="aui-button aui-button-subtle aui-button-compact"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog"><div class="button-text" aria-label="' + soy.$$escapeHtml("Cancel upload") + ' "></div><div class="file-name"></div><div class="error-message"></div></span></button></div><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></div><div class="upload-progress-bar_file-name-container"><span class="upload-progress-bar__file-name"></span></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.TempUploadProgressBar.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.TempUploadProgressBar';
}


JIRA.Templates.DnDAttachmentPlugin.SuccessMessageLink = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.issueLink) + '">' + soy.$$escapeHtml(opt_data.issueKey) + ' - ' + soy.$$escapeHtml(opt_data.issueSummary) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.SuccessMessageLink.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.SuccessMessageLink';
}
;
;
/* module-key = 'com.atlassian.jira.plugin.system.comment-panel:expandablecomments', location = 'js/plugin/comment/init-comments-expanding.js' */
require(["jira/util/formatter","jira/util/logger","jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/ajs/ajax/smart-ajax","jquery"],function(e,t,a,n,i,s,o){o(document).on("simpleClick",".collapsed-comments",function(r){function c(e){var s=o(e).find(".activity-comment").slice(f,f+p);m.replaceWith(s),t.trace("jira.issue.comment.expanded"),a.trigger(n.NEW_CONTENT_ADDED,[u,i.panelRefreshed]),d.find(".activity-comment:first").removeClass("collapsed").addClass("expanded")}r.preventDefault();var l=o(this),m=l.closest(".message-container"),d=l.closest(".issuePanelContainer"),u=l.closest(".module"),f=m.prevAll(".activity-comment").length,p=l.find(".show-more-comments").data("collapsed-count");!function(){l.find(".show-more-comments").text("Loading...")}(),function(){var e=l.attr("href");s.makeRequest({url:e,method:"GET",headers:{"X-PJAX":!0}}).done(c)}()})});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:analytics', location = 'util/analytics.js' */
define("jira-help-tips/util/analytics",["jira/analytics"],function(t){"use strict";function e(t){return t=""+(t||""),t.replace(/\./g,"-")}function i(i,n){if(n&&n.attributes.id){var r={},a=e(n.attributes.id),s="";n.attributes.eventPrefix&&(s=n.attributes.eventPrefix,"."!==s.charAt(s.length-1)&&(s+=".")),r.name=s+"helptips."+a+"."+i,r.properties={},t.send(r)}}return{clean:e,send:i}});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager', location = 'js/HelpTipManager.js' */
define("jira-help-tips/feature/help-tip-manager",["require"],function(s){"use strict";var e=s("underscore"),i=s("jquery"),t=s("jira/jquery/deferred"),n=s("wrm/context-path"),r=s("wrm/data"),d=n()+"/rest/helptips/1.0/tips",u=r.claim("com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData");return{dismissedTipIds:[],sequences:[],loaded:new t,url:function(){return d},sync:function(s,e){var n=new t;return s||(s="get"),e||(e=null),"get"===s&&u&&u.dismissed?n.resolve(u.dismissed):i.ajax(this.url(),{type:s,dataType:"json",contentType:"application/json",data:e&&JSON.stringify(e),processData:!1}).done(function(s){n.resolve(s)}).fail(function(){n.reject()}),n.promise()},fetch:function(){var s=this.sync();return s.done(i.proxy(function(s){i.merge(this.dismissedTipIds,s),this.loaded.resolve()},this)),s.promise()},show:function(s){this.loaded.done(s)},dismiss:function(s){var e=s.attributes.id;e?(this.dismissedTipIds.push(e),this.sync("post",{id:e})):s._dismissed=!0},undismiss:function(s){var e=s.attributes.id;e?(this.dismissedTipIds.splice(i.inArray(e,this.dismissedTipIds),1),this.sync("delete",{id:e})):s._dismissed=!1},isDismissed:function(s){var e=s.attributes.id;return e?i.inArray(e,this.dismissedTipIds)>=0:s._dismissed},clearSequences:function(){this.sequences=[]},hideSequences:function(){e.each(this.sequences,function(s){s.view.dismiss()})},showSequences:function(){if(!this._showStarted){var s=this,t=0;this._showStarted=!0,i.when(this.loaded).done(function(){s.sequences.sort(function(s,e){return s.attributes.weight-e.attributes.weight}),s.sequences=e.filter(s.sequences,function(i){var n=-1===e.indexOf(s.dismissedTipIds,i.attributes.id);return n&&(i.attributes.position=t++),n}),s.sequences.length>0&&(e.last(s.sequences).attributes.showCloseButton=!0,s.sequences[0].show({force:!0})),s._showStarted=!1})}}}});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip', location = 'templates/HelpTip.soy' */
// This file was automatically generated from HelpTip.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace AJS.Templates.HelpTip.
 */

if (typeof AJS == 'undefined') { var AJS = {}; }
if (typeof AJS.Templates == 'undefined') { AJS.Templates = {}; }
if (typeof AJS.Templates.HelpTip == 'undefined') { AJS.Templates.HelpTip = {}; }


AJS.Templates.HelpTip.tipContent = function(opt_data, opt_ignored) {
  return ((opt_data.title) ? '<h2 class="helptip-title">' + soy.$$escapeHtml(opt_data.title) + '</h2>' : '') + '<p class="helptip-body">' + soy.$$filterNoAutoescape(opt_data.bodyHtml) + '</p>' + ((opt_data.url) ? '<p><a class="helptip-link" href="' + soy.$$escapeHtml(opt_data.url) + '" target="_blank">' + ((opt_data.linkText) ? soy.$$escapeHtml(opt_data.linkText) : soy.$$escapeHtml("Learn more")) + '</a></p>' : '') + AJS.Templates.HelpTip.tipFooter(opt_data);
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.tipContent.soyTemplateName = 'AJS.Templates.HelpTip.tipContent';
}


AJS.Templates.HelpTip.tipFooter = function(opt_data, opt_ignored) {
  return '<form class="tip-footer">' + AJS.Templates.HelpTip.nextButton(opt_data) + AJS.Templates.HelpTip.closeButton(opt_data) + AJS.Templates.HelpTip.sequencePaging(opt_data) + '</form>';
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.tipFooter.soyTemplateName = 'AJS.Templates.HelpTip.tipFooter';
}


AJS.Templates.HelpTip.nextButton = function(opt_data, opt_ignored) {
  return '' + ((opt_data.showNextButton) ? '<button class="aui-button helptip-next" type="button">' + ((opt_data.nextButtonText) ? soy.$$escapeHtml(opt_data.nextButtonText) : soy.$$escapeHtml("Next")) + '</button>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.nextButton.soyTemplateName = 'AJS.Templates.HelpTip.nextButton';
}


AJS.Templates.HelpTip.closeButton = function(opt_data, opt_ignored) {
  return '' + ((opt_data.showCloseButton) ? '<button class="aui-button ' + ((opt_data.showNextButton) ? ' aui-button-link ' : '') + ' helptip-close" type="button">' + ((opt_data.closeButtonText) ? soy.$$escapeHtml(opt_data.closeButtonText) : soy.$$escapeHtml("Close")) + '</button>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.closeButton.soyTemplateName = 'AJS.Templates.HelpTip.closeButton';
}


AJS.Templates.HelpTip.sequencePaging = function(opt_data, opt_ignored) {
  return '' + ((opt_data.isSequence && opt_data.length > 1) ? '<span class="helptip-sequence-paging">' + soy.$$escapeHtml(opt_data.position + 1) + '/' + soy.$$escapeHtml(opt_data.length) + '</span>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.sequencePaging.soyTemplateName = 'AJS.Templates.HelpTip.sequencePaging';
}
;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip', location = 'js/HelpTip.js' */
define("jira-help-tips/feature/help-tip",["require"],function(i){"use strict";function t(){return!1}function e(){return!0}function s(){return"jira-help-tip-"+p+d++}var n=i("jquery"),o=i("underscore"),h=i("jira-help-tips/feature/help-tip-manager"),l=i("jira-help-tips/util/analytics"),r=i("aui/inline-dialog"),a=i("jira/jquery/deferred"),u=AJS.Popups,c=AJS.Templates.HelpTip,d=0,p=(new Date).getTime(),f=function(i,t){this.initialize(i,t)},b=function(i){this.initialize(i)},m=function(i){var t;this.attributes=n.extend({},i),this.attributes.id||(this.attributes.id=!1),this.attributes.callbacks||(this.attributes.callbacks={}),this.attributes.isSequence&&(this.attributes.weight||(this.attributes.weight=Number.MAX_VALUE),h.sequences.push(this)),this.attributes.body&&(this.attributes.bodyHtml=this.attributes.body,delete this.attributes.body),this.cid=s(),t=this.attributes.anchor,delete this.attributes.anchor,this.view=t?new f(this,t):new b(this)};return n.extend(m.prototype,{show:function(i){i=i||{};var t=this,e=new a;if(this.attributes.callbacks.beforeShow){var s=this.attributes.callbacks.beforeShow();s&&o.isFunction(s.done)?s.done(e.resolve):e.resolve()}else e.resolve();e.done(function(){h.show(function(){t.isDismissed()||(!i.force&&u&&u.DisplayController?u.DisplayController.request({name:t.id,weight:1e3,show:function(){t.view.show()}}):t.view.show(),l.send("shown",t))})})},dismiss:function(){var i=l.clean(arguments[0]||"programmatically");this.view.dismiss(),"close-button"===i&&this.attributes.isSequence&&h.clearSequences(),this.isDismissed()||(h.dismiss(this),l.send("dismissed."+i,this))},isVisible:function(){return this.view.$el.is(":visible")},isDismissed:function(){return h.isDismissed(this)},refresh:function(){this.isDismissed()||this.view.refresh()},hide:function(){this.isDismissed()||this.view.dismiss()},showNextHelpTipInSequence:function(){this.view.clickNext()}}),n.extend(f.prototype,{initialize:function(i,e){this.model=i,this.anchorSelector=e,this.anchor=n(e),this._initDialog(e),n(document).bind("showLayer",function(e,s,o){"inlineDialog"===s&&o.id===i.cid&&(r.current=null,n(document.body).unbind("click."+i.cid+".inline-dialog-check"),o._validateClickToClose=t,o.hide=t)})},show:function(){this.beforeHide=t,this.popup.show()},refresh:function(){var i=n(this.anchorSelector);i.is(":visible")?i.get(0)!==this.anchor.get(0)?this.changeAnchor(i):this.isVisible()?this.popup.refresh():this.show():this.dismiss()},changeAnchor:function(i){var t=this.isVisible();this.dismiss(),this.$el.remove(),this.anchor=i,this._initDialog(i),t&&this.show()},dismiss:function(){this.beforeHide=e,this._popupHide()},clickNext:function(){var i=n(this.$el).find(".helptip-next");i.length>0&&i.click()},isVisible:function(){return this.$el.is(":visible")},_initDialog:function(i){var e=this,s=this.model;this.popup=new r(n(i),s.cid,o.bind(this._createDialog,this),o.extend({container:"#content",noBind:!0,preHideCallback:function(){return e.beforeHide()},calculatePositions:function(i,t,e,s){var o=r.opts.calculatePositions(i,t,e,s),h=n(this.container),l=h.offset();return"auto"!==o.popupCss.left&&(o.popupCss.left-=l.left,o.popupCss.right="auto"),o.popupCss.top-=l.top,o},addActiveClass:!1,initCallback:s.attributes.callbacks.init,hideCallback:s.attributes.callbacks.hide,persistent:!0},s.attributes.inlineDialogOpts)),this._popupHide=this.popup.hide,this.popup.hide=t,this.$el=n(this.popup[0]),this.$el.addClass("jira-help-tip aui-help")},_createDialog:function(i,t,e){var s=this,r=h.sequences,a=this.model.attributes.position,u=this.model.attributes.isSequence;i.removeClass("contents"),i.html(n(c.tipContent(o.extend({showNextButton:u&&r.length>1&&a+1<r.length,length:r.length,position:a,showCloseButton:!0},this.model.attributes)))),i.unbind("mouseover mouseout"),i.find(".helptip-link").click(function(){l.send("learn-more.clicked",s.model)}),i.find(".helptip-close").click(function(i){i.preventDefault(),s.model.dismiss("close-button")}),i.find(".helptip-next").click(function(i){i.preventDefault(),s.model.dismiss("next-button");var t=a+1;r[t]&&r[t].show({force:!0})}),e()}}),n.extend(b.prototype,{initialize:function(){this.$el=n("<div></div>"),this.$el.addClass("jira-help-tip aui-help")},show:function(){},dismiss:function(){}}),m});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:initialiser', location = 'js/initialiser.js' */
define("jira-help-tips/page/initialiser",["jira-help-tips/feature/help-tip-manager","jira/util/users/logged-in-user","underscore"],function(e,i,n){"use strict";function r(){i.isAnonymous()||e.fetch()}return{init:n.once(r)}});;
;
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:common', location = 'js/legacy.js' */
!function(){"use strict";AJS.namespace("AJS.HelpTip",null,require("jira-help-tips/feature/help-tip")),AJS.namespace("AJS.HelpTip.Manager",null,require("jira-help-tips/feature/help-tip-manager")),require("jira-help-tips/page/initialiser").init()}();;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:events', location = 'util/Events.js' */
define("jira/components/util/events",["require"],function(c){var a=c("jira/util/events/types");var b=c("jira/components/libs/underscore");return b.extend({},a,{LAYOUT_RENDERED:"layoutRendered"})});AJS.namespace("JIRA.Events",null,require("jira/util/events/types"));;
;
/* module-key = 'jira.webresources:jquery-easing', location = '/includes/jquery/plugins/easing/jquery.easing.1.3.js' */
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(n,e,t,u,a){return jQuery.easing[jQuery.easing.def](n,e,t,u,a)},easeInQuad:function(n,e,t,u,a){return u*(e/=a)*e+t},easeOutQuad:function(n,e,t,u,a){return-u*(e/=a)*(e-2)+t},easeInOutQuad:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e+t:-u/2*(--e*(e-2)-1)+t},easeInCubic:function(n,e,t,u,a){return u*(e/=a)*e*e+t},easeOutCubic:function(n,e,t,u,a){return u*((e=e/a-1)*e*e+1)+t},easeInOutCubic:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e+t:u/2*((e-=2)*e*e+2)+t},easeInQuart:function(n,e,t,u,a){return u*(e/=a)*e*e*e+t},easeOutQuart:function(n,e,t,u,a){return-u*((e=e/a-1)*e*e*e-1)+t},easeInOutQuart:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e+t:-u/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(n,e,t,u,a){return u*(e/=a)*e*e*e*e+t},easeOutQuint:function(n,e,t,u,a){return u*((e=e/a-1)*e*e*e*e+1)+t},easeInOutQuint:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e*e+t:u/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(n,e,t,u,a){return-u*Math.cos(e/a*(Math.PI/2))+u+t},easeOutSine:function(n,e,t,u,a){return u*Math.sin(e/a*(Math.PI/2))+t},easeInOutSine:function(n,e,t,u,a){return-u/2*(Math.cos(Math.PI*e/a)-1)+t},easeInExpo:function(n,e,t,u,a){return 0==e?t:u*Math.pow(2,10*(e/a-1))+t},easeOutExpo:function(n,e,t,u,a){return e==a?t+u:u*(1-Math.pow(2,-10*e/a))+t},easeInOutExpo:function(n,e,t,u,a){return 0==e?t:e==a?t+u:(e/=a/2)<1?u/2*Math.pow(2,10*(e-1))+t:u/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(n,e,t,u,a){return-u*(Math.sqrt(1-(e/=a)*e)-1)+t},easeOutCirc:function(n,e,t,u,a){return u*Math.sqrt(1-(e=e/a-1)*e)+t},easeInOutCirc:function(n,e,t,u,a){return(e/=a/2)<1?-u/2*(Math.sqrt(1-e*e)-1)+t:u/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;if(i||(i=.3*a),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return-s*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)+t},easeOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;if(i||(i=.3*a),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return s*Math.pow(2,-10*e)*Math.sin((e*a-r)*(2*Math.PI)/i)+u+t},easeInOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(2==(e/=a/2))return t+u;if(i||(i=a*(.3*1.5)),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return e<1?s*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)*-.5+t:s*Math.pow(2,-10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)*.5+u+t},easeInBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),u*(e/=a)*e*((r+1)*e-r)+t},easeOutBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),u*((e=e/a-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),(e/=a/2)<1?u/2*(e*e*((1+(r*=1.525))*e-r))+t:u/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},easeInBounce:function(n,e,t,u,a){return u-jQuery.easing.easeOutBounce(n,a-e,0,u,a)+t},easeOutBounce:function(n,e,t,u,a){return(e/=a)<1/2.75?u*(7.5625*e*e)+t:e<2/2.75?u*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?u*(7.5625*(e-=2.25/2.75)*e+.9375)+t:u*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(n,e,t,u,a){return e<a/2?.5*jQuery.easing.easeInBounce(n,2*e,0,u,a)+t:.5*jQuery.easing.easeOutBounce(n,2*e-a,0,u,a)+.5*u+t}});;
;
/* module-key = 'jira.webresources:jquery-fancybox', location = '/includes/jquery/plugins/fancybox/jquery.fancybox-1.3.4.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){var e,i,n,a,o,d,c,r,s,h,l,f,p,g=0,b={},u=[],y=0,w={},v=[],m=null,x=new Image,I=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,C=/[^\.]\.(swf)\s*$/i,k=1,O=0,j="",S=!1,T=t.extend(t("<div/>")[0],{prop:0}),A=t.browser.msie&&t.browser.version<7&&!window.XMLHttpRequest,D=function(){i.hide(),x.onerror=x.onload=null,m&&m.abort(),e.empty()},F=function(){if(!1===b.onError(u,g,b))return i.hide(),void(S=!1);b.titleShow=!1,b.width="auto",b.height="auto",e.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),N()},E=function(){var n,a,o,c,r,s,h=u[g];if(D(),b=t.extend({},t.fn.fancybox.defaults,void 0===t(h).data("fancybox")?b:t(h).data("fancybox")),!1===(s=b.onStart(u,g,b)))return void(S=!1);if("object"==(void 0===s?"undefined":_typeof(s))&&(b=t.extend(b,s)),o=b.title||(h.nodeName?t(h).attr("title"):h.title)||"",h.nodeName&&!b.orig&&(b.orig=t(h).children("img:first").length?t(h).children("img:first"):t(h)),""===o&&b.orig&&b.titleFromAlt&&(o=b.orig.attr("alt")),n=b.href||(h.nodeName?t(h).attr("href"):h.href)||null,(/^(?:javascript)/i.test(n)||"#"==n)&&(n=null),b.type?(a=b.type,n||(n=b.content)):b.content?a="html":n&&(a=n.match(I)?"image":n.match(C)?"swf":t(h).hasClass("iframe")?"iframe":0===n.indexOf("#")?"inline":"ajax"),!a)return void F();switch("inline"==a&&(h=n.substr(n.indexOf("#")),a=t(h).length>0?"inline":"ajax"),b.type=a,b.href=n,b.title=o,b.autoDimensions&&("html"==b.type||"inline"==b.type||"ajax"==b.type?(b.width="auto",b.height="auto"):b.autoDimensions=!1),b.modal&&(b.overlayShow=!0,b.hideOnOverlayClick=!1,b.hideOnContentClick=!1,b.enableEscapeButton=!1,b.showCloseButton=!1),b.padding=parseInt(b.padding,10),b.margin=parseInt(b.margin,10),e.css("padding",b.padding+b.margin),t(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){t(this).replaceWith(d.children())}),a){case"html":e.html(b.content),N();break;case"inline":if(!0===t(h).parent().is("#fancybox-content"))return void(S=!1);t('<div class="fancybox-inline-tmp" />').hide().insertBefore(t(h)).bind("fancybox-cleanup",function(){t(this).replaceWith(d.children())}).bind("fancybox-cancel",function(){t(this).replaceWith(e.children())}),t(h).appendTo(e),N();break;case"image":S=!1,t.fancybox.showActivity(),x=new Image,x.onerror=function(){F()},x.onload=function(){S=!0,x.onerror=x.onload=null,B()},x.src=n;break;case"swf":b.scrolling="no",c='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+b.width+'" height="'+b.height+'"><param name="movie" value="'+n+'"></param>',r="",t.each(b.swf,function(t,e){c+='<param name="'+t+'" value="'+e+'"></param>',r+=" "+t+'="'+e+'"'}),c+='<embed src="'+n+'" type="application/x-shockwave-flash" width="'+b.width+'" height="'+b.height+'"'+r+"></embed></object>",e.html(c),N();break;case"ajax":S=!1,t.fancybox.showActivity(),b.ajax.win=b.ajax.success,m=t.ajax(t.extend({},b.ajax,{url:n,data:b.ajax.data||{},error:function(t,e,i){t.status>0&&F()},success:function(t,a,o){if(200==("object"==(void 0===o?"undefined":_typeof(o))?o:m).status){if("function"==typeof b.ajax.win){if(!1===(s=b.ajax.win(n,t,a,o)))return void i.hide();"string"!=typeof s&&"object"!=(void 0===s?"undefined":_typeof(s))||(t=s)}e.html(t),N()}}}));break;case"iframe":P()}},N=function(){var i=b.width,n=b.height;i=i.toString().indexOf("%")>-1?parseInt((t(window).width()-2*b.margin)*parseFloat(i)/100,10)+"px":"auto"==i?"auto":i+"px",n=n.toString().indexOf("%")>-1?parseInt((t(window).height()-2*b.margin)*parseFloat(n)/100,10)+"px":"auto"==n?"auto":n+"px",e.wrapInner('<div style="width:'+i+";height:"+n+";overflow: "+("auto"==b.scrolling?"auto":"yes"==b.scrolling?"scroll":"hidden")+';position:relative;"></div>'),b.width=e.width(),b.height=e.height(),P()},B=function(){b.width=x.width,b.height=x.height,t("<img />").attr({id:"fancybox-img",src:x.src,alt:b.title}).appendTo(e),P()},P=function(){var o,l;return i.hide(),a.is(":visible")&&!1===w.onCleanup(v,y,w)?(t.event.trigger("fancybox-cancel"),void(S=!1)):(S=!0,t(d.add(n)).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),a.is(":visible")&&"outside"!==w.titlePosition&&a.css("height",a.height()),v=u,y=g,w=b,w.overlayShow?(n.css({"background-color":w.overlayColor,opacity:w.overlayOpacity,cursor:w.hideOnOverlayClick?"pointer":"auto",height:t(document).height()}),n.is(":visible")||(A&&t("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),n.show())):n.hide(),p=W(),M(),a.is(":visible")?(t(c.add(s).add(h)).hide(),o=a.position(),f={top:o.top,left:o.left,width:a.width(),height:a.height()},l=f.width==p.width&&f.height==p.height,void d.fadeTo(w.changeFade,.3,function(){var i=function(){d.html(e.contents()).fadeTo(w.changeFade,1,z)};t.event.trigger("fancybox-change"),d.empty().removeAttr("filter").css({"border-width":w.padding,width:p.width-2*w.padding,height:b.autoDimensions?"auto":p.height-O-2*w.padding}),l?i():(T.prop=0,t(T).animate({prop:1},{duration:w.changeSpeed,easing:w.easingChange,step:R,complete:i}))})):(a.removeAttr("style"),d.css("border-width",w.padding),"elastic"==w.transitionIn?(f=Q(),d.html(e.contents()),a.show(),w.opacity&&(p.opacity=0),T.prop=0,void t(T).animate({prop:1},{duration:w.speedIn,easing:w.easingIn,step:R,complete:z})):("inside"==w.titlePosition&&O>0&&r.show(),d.css({width:p.width-2*w.padding,height:b.autoDimensions?"auto":p.height-O-2*w.padding}).html(e.contents()),void a.css(p).fadeIn("none"==w.transitionIn?0:w.speedIn,z))))},L=function(t){return!(!t||!t.length)&&("float"==w.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+w.titlePosition+'">'+t+"</div>")},M=function(){if(j=w.title||"",O=0,r.empty().removeAttr("style").removeClass(),!1===w.titleShow)return void r.hide();if(!(j=t.isFunction(w.titleFormat)?w.titleFormat(j,v,y,w):L(j))||""===j)return void r.hide();switch(r.addClass("fancybox-title-"+w.titlePosition).html(j).appendTo("body").show(),w.titlePosition){case"inside":r.css({width:p.width-2*w.padding,marginLeft:w.padding,marginRight:w.padding}),O=r.outerHeight(!0),r.appendTo(o),p.height+=O;break;case"over":r.css({marginLeft:w.padding,width:p.width-2*w.padding,bottom:w.padding}).appendTo(o);break;case"float":r.css("left",-1*parseInt((r.width()-p.width-40)/2,10)).appendTo(a);break;default:r.css({width:p.width-2*w.padding,paddingLeft:w.padding,paddingRight:w.padding}).appendTo(a)}r.hide()},_=function(){if((w.enableEscapeButton||w.enableKeyboardNav)&&t(document).bind("keydown.fb",function(e){27==e.keyCode&&w.enableEscapeButton?(e.preventDefault(),t.fancybox.close()):37!=e.keyCode&&39!=e.keyCode||!w.enableKeyboardNav||"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||"SELECT"===e.target.tagName||(e.preventDefault(),t.fancybox[37==e.keyCode?"prev":"next"]())}),!w.showNavArrows)return s.hide(),void h.hide();(w.cyclic&&v.length>1||0!==y)&&s.show(),(w.cyclic&&v.length>1||y!=v.length-1)&&h.show()},z=function(){t.support.opacity||(d.get(0).style.removeAttribute("filter"),a.get(0).style.removeAttribute("filter")),b.autoDimensions&&d.css("height","auto"),a.css("height","auto"),j&&j.length&&r.show(),w.showCloseButton&&c.show(),_(),w.hideOnContentClick&&d.bind("click",t.fancybox.close),w.hideOnOverlayClick&&n.bind("click",t.fancybox.close),t(window).bind("resize.fb",t.fancybox.resize),w.centerOnScroll&&t(window).bind("scroll.fb",t.fancybox.center),"iframe"==w.type&&t('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(t.browser.msie?'allowtransparency="true""':"")+' scrolling="'+b.scrolling+'" src="'+w.href+'"></iframe>').appendTo(d),a.show(),S=!1,t.fancybox.center(),w.onComplete(v,y,w),H()},H=function(){var t,e;v.length-1>y&&void 0!==(t=v[y+1].href)&&t.match(I)&&(e=new Image,e.src=t),y>0&&void 0!==(t=v[y-1].href)&&t.match(I)&&(e=new Image,e.src=t)},R=function(t){var e={width:parseInt(f.width+(p.width-f.width)*t,10),height:parseInt(f.height+(p.height-f.height)*t,10),top:parseInt(f.top+(p.top-f.top)*t,10),left:parseInt(f.left+(p.left-f.left)*t,10)};void 0!==p.opacity&&(e.opacity=t<.5?.5:t),a.css(e),d.css({width:e.width-2*w.padding,height:e.height-O*t-2*w.padding})},K=function(){return[t(window).width()-2*w.margin,t(window).height()-2*w.margin,t(document).scrollLeft()+w.margin,t(document).scrollTop()+w.margin]},W=function(){var t,e=K(),i={},n=w.autoScale,a=2*w.padding;return w.width.toString().indexOf("%")>-1?i.width=parseInt(e[0]*parseFloat(w.width)/100,10):i.width=w.width+a,w.height.toString().indexOf("%")>-1?i.height=parseInt(e[1]*parseFloat(w.height)/100,10):i.height=w.height+a,n&&(i.width>e[0]||i.height>e[1])&&("image"==b.type||"swf"==b.type?(t=w.width/w.height,i.width>e[0]&&(i.width=e[0],i.height=parseInt((i.width-a)/t+a,10)),i.height>e[1]&&(i.height=e[1],i.width=parseInt((i.height-a)*t+a,10))):(i.width=Math.min(i.width,e[0]),i.height=Math.min(i.height,e[1]))),i.top=parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-i.height-40)),10),i.left=parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-i.width-40)),10),i},q=function(t){var e=t.offset();return e.top+=parseInt(t.css("paddingTop"),10)||0,e.left+=parseInt(t.css("paddingLeft"),10)||0,e.top+=parseInt(t.css("border-top-width"),10)||0,e.left+=parseInt(t.css("border-left-width"),10)||0,e.width=t.width(),e.height=t.height(),e},Q=function(){var e,i,n=!!b.orig&&t(b.orig),a={};return n&&n.length?(e=q(n),a={width:e.width+2*w.padding,height:e.height+2*w.padding,top:e.top-w.padding-20,left:e.left-w.padding-20}):(i=K(),a={width:2*w.padding,height:2*w.padding,top:parseInt(i[3]+.5*i[1],10),left:parseInt(i[2]+.5*i[0],10)}),a},X=function(){if(!i.is(":visible"))return void clearInterval(l);t("div",i).css("top",-40*k+"px"),k=(k+1)%12};t.fn.fancybox=function(e){return t(this).length?(t(this).data("fancybox",t.extend({},e,t.metadata?t(this).metadata():{})).unbind("click.fb").bind("click.fb",function(e){if(e.preventDefault(),!S){S=!0,t(this).blur(),u=[],g=0;var i=t(this).attr("rel")||"";i&&""!=i&&"nofollow"!==i?(u=t("a[rel="+i+"], area[rel="+i+"]"),g=u.index(this)):u.push(this),E()}}),this):this},t.fancybox=function(e){var i;if(!S){if(S=!0,i=void 0!==arguments[1]?arguments[1]:{},u=[],g=parseInt(i.index,10)||0,t.isArray(e)){for(var n=0,a=e.length;n<a;n++)"object"==_typeof(e[n])?t(e[n]).data("fancybox",t.extend({},i,e[n])):e[n]=t({}).data("fancybox",t.extend({content:e[n]},i));u=jQuery.merge(u,e)}else"object"==(void 0===e?"undefined":_typeof(e))?t(e).data("fancybox",t.extend({},i,e)):e=t({}).data("fancybox",t.extend({content:e},i)),u.push(e);(g>u.length||g<0)&&(g=0),E()}},t.fancybox.showActivity=function(){clearInterval(l),i.show(),l=setInterval(X,66)},t.fancybox.hideActivity=function(){i.hide()},t.fancybox.next=function(){return t.fancybox.pos(y+1)},t.fancybox.prev=function(){return t.fancybox.pos(y-1)},t.fancybox.pos=function(t){S||(t=parseInt(t),u=v,t>-1&&t<v.length?(g=t,E()):w.cyclic&&v.length>1&&(g=t>=v.length?0:v.length-1,E()))},t.fancybox.cancel=function(){S||(S=!0,t.event.trigger("fancybox-cancel"),D(),b.onCancel(u,g,b),S=!1)},t.fancybox.close=function(){function e(){n.fadeOut("fast"),r.empty().hide(),a.hide(),t.event.trigger("fancybox-cleanup"),d.empty(),w.onClosed(v,y,w),v=b=[],y=g=0,w=b={},S=!1}if(!S&&!a.is(":hidden")){if(S=!0,w&&!1===w.onCleanup(v,y,w))return void(S=!1);if(D(),t(c.add(s).add(h)).hide(),t(d.add(n)).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),d.find("iframe").attr("src",A&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==w.titlePosition&&r.empty(),a.stop(),"elastic"==w.transitionOut){f=Q();var i=a.position();p={top:i.top,left:i.left,width:a.width(),height:a.height()},w.opacity&&(p.opacity=1),r.empty().hide(),T.prop=1,t(T).animate({prop:0},{duration:w.speedOut,easing:w.easingOut,step:R,complete:e})}else a.fadeOut("none"==w.transitionOut?0:w.speedOut,e)}},t.fancybox.resize=function(){n.is(":visible")&&n.css("height",t(document).height()),t.fancybox.center(!0)},t.fancybox.center=function(){var t,e;S||(e=!0===arguments[0]?1:0,t=K(),!e&&(a.width()>t[0]||a.height()>t[1])||a.stop().animate({top:parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-d.height()-40)-w.padding)),left:parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-d.width()-40)-w.padding))},"number"==typeof arguments[0]?arguments[0]:200))},t.fancybox.init=function(){t("#fancybox-wrap").length||(t("body").append(e=t('<div id="fancybox-tmp"></div>'),i=t('<div id="fancybox-loading"><div></div></div>'),n=t('<div id="fancybox-overlay"></div>'),a=t('<div id="fancybox-wrap"></div>')),o=t('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(a),o.append(d=t('<div id="fancybox-content"></div>'),c=t('<a id="fancybox-close"></a>'),r=t('<div id="fancybox-title"></div>'),s=t('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),h=t('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),c.click(t.fancybox.close),i.click(t.fancybox.cancel),s.click(function(e){e.preventDefault(),t.fancybox.prev()}),h.click(function(e){e.preventDefault(),t.fancybox.next()}),t.fn.mousewheel&&a.bind("mousewheel.fb",function(e,i){S?e.preventDefault():0!=t(e.target).get(0).clientHeight&&t(e.target).get(0).scrollHeight!==t(e.target).get(0).clientHeight||(e.preventDefault(),t.fancybox[i>0?"prev":"next"]())}),t.support.opacity||a.addClass("fancybox-ie"),A&&(i.addClass("fancybox-ie6"),a.addClass("fancybox-ie6"),t('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(o)))},t.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},t(document).ready(function(){t.fancybox.init()})}(jQuery);;
;
/* module-key = 'jira.webresources:jquery-fancybox', location = '/includes/jquery/plugins/fancybox/jquery.fancybox.jira.js' */
AJS.$.fn.fancybox.defaults.titleFormat=function(t){if(t&&t.length)return t=AJS.escapeHtml(t),"float"==this.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+this.titlePosition+'">'+t+"</div>"};;
;
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/time.js' */
define("jira/jquery/plugins/livestamp/time",["jira/util/formatter","jquery","jira/moment","jira/util/data/meta"],function(e,t,n,o){"use strict";function r(e,t){this.key=e,this.isAge=t}function a(t,n,o){return t in I?e.format(I[t],o):null}function i(e){switch(e.key){case"short":case"shortAge":return"ll";case"long":case"longAge":return"LL";case"full":case"fullAge":case"timestamp":return"LLL";default:return null}}function u(e){return e.clone().hours(0).minutes(0).seconds(0).milliseconds(0)}function l(e,t){var n=u(e);return n.clone().subtract("d",1)<=t&&t<n}function m(e,t){var n=u(e).add("d",1),o=n.clone().add("d",1);return n<=t&&t<o}function s(e,t){return Math.floor(t.diff(e,"minutes",!0))}function c(e,t){var n=t.diff(e,"hours",!0);return Math.round(n)}function d(e,t){return Math.floor(t.diff(e,"days",!0))}function g(e,t){var n=i(t);return e.format(n)}function f(e,t,o){if(o=o||n(),e<=o){if(e>o.clone().subtract("m",1))return a("aMomentAgo",t);if(e>o.clone().subtract("m",2))return a("oneMinuteAgo",t);if(e>o.clone().subtract("m",50))return a("xMinutesAgo",t,s(e,o));if(e>o.clone().subtract("m",90))return a("oneHourAgo",t);if(l(o,e)&&e<o.clone().subtract("h",5))return a("oneDayAgo",t);if(e>o.clone().subtract("d",1))return a("xHoursAgo",t,c(e,o));if(e>o.clone().subtract("d",7))return a("xDaysAgo",t,Math.max(d(e,o),2));if(e>o.clone().subtract("d",8))return a("oneWeekAgo",t)}else{if(e<o.clone().add("m",1))return a("inAMoment",t);if(e<o.clone().add("m",2))return a("inOneMinute",t);if(e<o.clone().add("m",50))return a("inXMinutes",t,s(o,e));if(e<o.clone().add("m",90))return a("inOneHour",t);if(m(o,e)&&e>o.clone().add("h",5))return a("inOneDay",t);if(e<o.clone().add("d",1))return a("inXHours",t,c(o,e));if(e<o.clone().add("d",7))return a("inXDays",t,Math.max(d(o,e),2));if(e<o.clone().add("d",8))return a("inOneWeek",t)}return g(e,t)}var v={},x=o.getBoolean("date-relativize");r.types={};for(var A,h=["shortAge","longAge","fullAge","short","long","full","timestamp"],T=0,y=h.length;T<y;T++)A=h[T],r.types[A]=new r(A,-1!==A.toLowerCase().indexOf("age"));var I={};return v.FormatType=r,v.formatDate=function(e,t,n){return e&&t?(x||n)&&t.isAge?f(e,t):g(e,t):null},v.setRelativeTranslations=function(e){for(var t in e)I[t]=e[t]},v.restoreDefaultRelativeTranslations=function(){this.setRelativeTranslations({inAMoment:"Now",inOneMinute:"In 1 minute",inXMinutes:"In {0} minutes",inOneHour:"In 1 hour",inXHours:"In {0} hours",inOneDay:"Tomorrow",inXDays:"In {0} days",inOneWeek:"In 1 week",aMomentAgo:"Just now",oneMinuteAgo:"1 minute ago",xMinutesAgo:"{0} minutes ago",oneHourAgo:"1 hour ago",xHoursAgo:"{0} hours ago",oneDayAgo:"Yesterday",xDaysAgo:"{0} days ago",oneWeekAgo:"1 week ago"})},v.restoreDefaultRelativeTranslations(),v.formatDateWithRelativeAge=f,v.formatDateWithFormatString=g,v}),AJS.namespace("JIRA.Time",null,require("jira/jquery/plugins/livestamp/time"));;
;
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/livestamp.js' */
define("jira/jquery/plugins/livestamp/livestamp",["jquery","jira/moment","jira/util/data/meta","jira/jquery/plugins/livestamp/time"],function(t,e,a,i){"use strict";var r,n=a.getBoolean("date-relativize"),u=[],s=function(t,e){t.data("livestampdata",e),u.push(t)},l=function t(){clearTimeout(r),m(),r=setTimeout(t,6e3)},m=function(){u=t.grep(u,function(t){var a,r,u=t.data("livestampdata"),s=t.data("relativize");if(e.isMoment(u)&&t.closest("html").length){a=t.text();var l=t.data("datetime-format");l=l||"fullAge",n||s||(l=l.replace("Age","")),r=i.formatDate(u,i.FormatType.types[l],s),a!==r&&t.text(r)}else t.removeData("livestampdata");return!!t.data("livestampdata")})},o=function(a){return a.each(function(){var a=t(this),i=a.attr("datetime");if(i){var r=isNaN(i)?e(i).zone(i):e(parseInt(i,10));s(a,r)}}),l(),a};return t.fn.livestamp=function(){return o(this)},o}),function(){require("jira/jquery/plugins/livestamp/livestamp")}();;
;
/* module-key = 'com.atlassian.jira.jira-fileviewer-plugin:fileviewer', location = '/file-service.js' */
define("jira/fileviewer/file-service",["jira/featureflags/feature-manager","jquery"],function(featureManager,$){var selectors={image:["a[file-preview-type=image]"],document:[]};if(!featureManager.isFeatureEnabled("jira.fileviewer.disable.pdf")){selectors.document.push("a[file-preview-type=document]")}function getPreviewableFileSelector(){return Object.keys(selectors).map(function(k){return selectors[k].join(", ")}).join(", ")}function pushSingleOrArray(target,toPush){if(Array.isArray(toPush)){target.push.apply(target,toPush)}else{target.push(toPush)}}return{findFiles:function findPreviewableFiles(context){return $(context||document.body).find(getPreviewableFileSelector())},getFileSelector:getPreviewableFileSelector,getImageSelector:function getPreviewableImageSelector(){return selectors.image.join(", ")},addImageSelector:function addImageSelector(sel){pushSingleOrArray(selectors.image,sel)},getDocumentSelector:function getPreviewableDocumentSelector(){return selectors.document.join(", ")},addDocumentSelector:function addDocumentSelector(sel){pushSingleOrArray(selectors.document,sel)}}});;
;
/* module-key = 'com.atlassian.jira.jira-fileviewer-plugin:fileviewer', location = '/fileviewer.js' */
define("jira/fileviewer",["wrm/require","jira/fileviewer/file-service","jira/loading/loading","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jquery","underscore"],function(wrmRequire,fileService,Loading,KeyboardShortcuts,$,_){var viewerReady;var viewer;function getDownloadUrl($fileElement){return $fileElement.data("download-url")||$fileElement.attr("href")}function hideSpinner(){$(".cp-spinner-layer .cp-spinner").spinStop()}function initViewer(){if(!viewerReady){viewerReady=wrmRequire(["wr!com.atlassian.jira.jira-fileviewer-plugin:atlassian-fileviewer"]);viewerReady.done(function(){viewer=new FileViewer({enableMiniMode:true,viewers:["image","document"],moduleBackend:require("jira/fileviewer/module-backend/asynchronous"),analyticsBackend:require("jira/fileviewer/module-backend/analytics")});viewer.on("fv.open",KeyboardShortcuts.disable);viewer.on("fv.close",KeyboardShortcuts.enable);viewer.on("fv.showFile",hideSpinner);viewer.on("fv.showFileError",hideSpinner)})}return viewerReady}function closeViewer(){if(viewer){viewer.close()}}function updateFiles(){var files=[];var imageSelector=fileService.getImageSelector();var documentSelector=fileService.getDocumentSelector();var $files=$(imageSelector+", "+documentSelector);$files.each(function(){var $el=$(this).closest("a");if($el.is(imageSelector)){files.push({type:"image/png",id:$el.attr("file-preview-id"),src:getDownloadUrl($el),title:$el.attr("file-preview-title"),thumbnail:$el.attr("file-preview-url")||$el.attr("data-download-url")||$el.find("img").attr("src")})}if($el.is(documentSelector)){files.push({type:"application/pdf",id:$el.attr("file-preview-id"),src:getDownloadUrl($el),title:$el.attr("file-preview-title")})}});var uniqFiles=_.uniq(files,false,function(el){return el.id});viewer.setFiles(uniqFiles);$files.off("simpleClick.fvOpen").on("simpleClick.fvOpen",function(e){e.preventDefault();viewer.open({id:$(this).attr("file-preview-id")})})}function initializePreviews(searchContext){if(!viewer){var $files=fileService.findFiles(searchContext);$files.off("simpleClick.fvInit").on("simpleClick.fvInit",function(e){e.preventDefault();var $file=$(this);Loading.showLoadingIndicator();AJS.dim();initViewer().done(function(){updateFiles();viewer.open({id:$file.attr("file-preview-id")})}).fail(function(){window.location=getDownloadUrl($file)}).always(function(){$files.off("simpleClick.fvInit");AJS.undim();Loading.hideLoadingIndicator()})})}else{updateFiles()}}return{attachToElements:initializePreviews,closeViewer:closeViewer,addImageSelector:function(sel){fileService.addImageSelector(sel)},addDocumentSelector:function(sel){fileService.addDocumentSelector(sel)}}});;
;
/* module-key = 'jira.webresources:calendar-lib', location = '/includes/lib/calendar/Calendar.js' */
Calendar=function(e,t,a,n,r){if(this.activeDiv=null,this.currentDateEl=null,this.getDateStatus=null,this.getDateToolTip=null,this.getDateText=null,this.timeout=null,this.onSelected=n||null,this.onClose=r||null,this.dragging=!1,this.hidden=!1,this.minYear=1970,this.maxYear=2050,this.dateFormat=Calendar._TT.DEF_DATE_FORMAT,this.ttDateFormat=Calendar._TT.TT_DATE_FORMAT,this.isPopup=!0,this.weekNumbers=!0,this.firstDayOfWeek="number"==typeof e?e:Calendar._FD,this.showsOtherMonths=!1,this.dateStr=t,this.todayDateStr=a,this.ar_days=null,this.showsTime=!1,this.time24=!0,this.yearStep=2,this.hiliteToday=!0,this.multiple=null,this.table=null,this.element=null,this.tbody=null,this.firstdayname=null,this.monthsCombo=null,this.yearsCombo=null,this.hilitedMonth=null,this.activeMonth=null,this.hilitedYear=null,this.activeYear=null,this.dateClicked=!1,void 0===Calendar._SDN){void 0===Calendar._SDN_len&&(Calendar._SDN_len=3);for(var l=new Array,i=8;i>0;)l[--i]=Calendar._DN[i].substr(0,Calendar._SDN_len);Calendar._SDN=l,void 0===Calendar._SMN_len&&(Calendar._SMN_len=3),l=new Array;for(var i=12;i>0;)l[--i]=Calendar._MN[i].substr(0,Calendar._SMN_len);Calendar._SMN=l}},Calendar._C=null,Calendar.is_ie=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent),Calendar.is_ie5=Calendar.is_ie&&/msie 5\.0/i.test(navigator.userAgent),Calendar.is_ie6=Calendar.is_ie&&/msie 6\.0/i.test(navigator.userAgent),Calendar.is_opera=/opera/i.test(navigator.userAgent),Calendar.is_khtml=/Konqueror|Safari|KHTML/i.test(navigator.userAgent),Calendar.getAbsolutePos=function(e){var t=jQuery(e).offset();return t.x=t.left,t.y=t.top,t},Calendar.isRelated=function(e,t){var a=t.relatedTarget;if(!a){var n=t.type;"mouseover"==n?a=t.fromElement:"mouseout"==n&&(a=t.toElement)}for(;a;){if(a==e)return!0;a=a.parentNode}return!1},Calendar.removeClass=function(e,t){if(e&&e.className){for(var a=e.className.split(" "),n=new Array,r=a.length;r>0;)a[--r]!=t&&(n[n.length]=a[r]);e.className=n.join(" ")}},Calendar.addClass=function(e,t){Calendar.removeClass(e,t),e.className+=" "+t},Calendar.getElement=function(e){for(var t=Calendar.is_ie?window.event.srcElement:e.currentTarget;1!=t.nodeType||/^div$/i.test(t.tagName);)t=t.parentNode;return t},Calendar.getTargetElement=function(e){for(var t=Calendar.is_ie?window.event.srcElement:e.target;1!=t.nodeType;)t=t.parentNode;return t},Calendar.stopEvent=function(e){return e||(e=window.event),e.stopPropagation?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1),!1},Calendar.addEvent=function(e,t,a){e.attachEvent?e.attachEvent("on"+t,a):e.addEventListener?e.addEventListener(t,a,!0):e["on"+t]=a},Calendar.removeEvent=function(e,t,a){e.detachEvent?e.detachEvent("on"+t,a):e.removeEventListener?e.removeEventListener(t,a,!0):e["on"+t]=null},Calendar.createElement=function(e,t){var a=null;return a=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml",e):document.createElement(e),void 0!==t&&t.appendChild(a),a},Calendar._add_evs=function(el){with(Calendar)addEvent(el,"mouseover",dayMouseOver),addEvent(el,"mousedown",dayMouseDown),addEvent(el,"mouseout",dayMouseOut),is_ie&&(addEvent(el,"dblclick",dayMouseDblClick),el.setAttribute("unselectable",!0))},Calendar.findMonth=function(e){return void 0!==e.month?e:void 0!==e.parentNode.month?e.parentNode:null},Calendar.findYear=function(e){return void 0!==e.year?e:void 0!==e.parentNode.year?e.parentNode:null},Calendar.showMonthsCombo=function(){var e=Calendar._C;if(!e)return!1;var e=e,t=e.activeDiv,a=e.monthsCombo;e.hilitedMonth&&Calendar.removeClass(e.hilitedMonth,"hilite"),e.activeMonth&&Calendar.removeClass(e.activeMonth,"active");var n=e.monthsCombo.getElementsByTagName("div")[e.date.getMonth()];Calendar.addClass(n,"active"),e.activeMonth=n;var r=a.style;if(r.display="block",t.navtype<0)r.left=t.offsetLeft+"px";else{var l=a.offsetWidth;void 0===l&&(l=50),r.left=t.offsetLeft+t.offsetWidth-l+"px"}r.top=t.offsetTop+t.offsetHeight+"px"},Calendar.showYearsCombo=function(e){var t=Calendar._C;if(!t)return!1;var t=t,a=t.activeDiv,n=t.yearsCombo;t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite"),t.activeYear&&Calendar.removeClass(t.activeYear,"active"),t.activeYear=null;for(var r=t.date.getFullYear()+(e?1:-1),l=n.firstChild,i=!1,s=12;s>0;--s)r>=t.minYear&&r<=t.maxYear?(l.innerHTML=r,l.year=r,l.style.display="block",i=!0):l.style.display="none",l=l.nextSibling,r+=e?t.yearStep:-t.yearStep;if(i){var o=n.style;if(o.display="block",a.navtype<0)o.left=a.offsetLeft+"px";else{var d=n.offsetWidth;void 0===d&&(d=50),o.left=a.offsetLeft+a.offsetWidth-d+"px"}o.top=a.offsetTop+a.offsetHeight+"px"}},Calendar.tableMouseUp=function(ev){var cal=Calendar._C;if(!cal)return!1;cal.timeout&&clearTimeout(cal.timeout);var el=cal.activeDiv;if(!el)return!1;var target=Calendar.getTargetElement(ev);ev||(ev=window.event),Calendar.removeClass(el,"active"),target!=el&&target.parentNode!=el||Calendar.cellClick(el,ev);var mon=Calendar.findMonth(target),date=null;if(mon)date=new Date(cal.date),mon.month!=date.getMonth()&&(date.setMonth(mon.month),cal.setDate(date),cal.dateClicked=!1,cal.callHandler());else{var year=Calendar.findYear(target);year&&(date=new Date(cal.date),year.year!=date.getFullYear()&&(date.setFullYear(year.year),cal.setDate(date),cal.dateClicked=!1,cal.callHandler()))}with(Calendar)return removeEvent(document,"mouseup",tableMouseUp),removeEvent(document,"mouseover",tableMouseOver),removeEvent(document,"mousemove",tableMouseOver),cal._hideCombos(),_C=null,stopEvent(ev)},Calendar.tableMouseOver=function(e){var t=Calendar._C;if(t){var a=t.activeDiv,n=Calendar.getTargetElement(e);if(n==a||n.parentNode==a?(Calendar.addClass(a,"hilite active"),Calendar.addClass(a.parentNode,"rowhilite")):((void 0===a.navtype||50!=a.navtype&&(0==a.navtype||Math.abs(a.navtype)>2))&&Calendar.removeClass(a,"active"),Calendar.removeClass(a,"hilite"),Calendar.removeClass(a.parentNode,"rowhilite")),e||(e=window.event),50==a.navtype&&n!=a){var r,l=Calendar.getAbsolutePos(a),i=a.offsetWidth,s=e.clientX,o=!0;s>l.x+i?(r=s-l.x-i,o=!1):r=l.x-s,r<0&&(r=0);for(var d=a._range,h=a._current,u=Math.floor(r/10)%d.length,c=d.length;--c>=0&&d[c]!=h;);for(;u-- >0;)o?--c<0&&(c=d.length-1):++c>=d.length&&(c=0);var m=d[c];a.innerHTML=m,t.onUpdateTime()}var C=Calendar.findMonth(n);if(C)C.month!=t.date.getMonth()?(t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite"),Calendar.addClass(C,"hilite"),t.hilitedMonth=C):t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite");else{t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite");var v=Calendar.findYear(n);v&&v.year!=t.date.getFullYear()?(t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite"),Calendar.addClass(v,"hilite"),t.hilitedYear=v):t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite")}return Calendar.stopEvent(e)}},Calendar.tableMouseDown=function(e){if(Calendar.getTargetElement(e)==Calendar.getElement(e))return Calendar.stopEvent(e)},Calendar.calDragIt=function(e){var t=Calendar._C;if(!t||!t.dragging)return!1;var a,n;Calendar.is_ie?(n=window.event.clientY+document.body.scrollTop,a=window.event.clientX+document.body.scrollLeft):(a=e.pageX,n=e.pageY);var r=t.element.style;return r.left=a-t.xOffs+"px",r.top=n-t.yOffs+"px",Calendar.stopEvent(e)},Calendar.calDragEnd=function(ev){var cal=Calendar._C;if(!cal)return!1;with(cal.dragging=!1,Calendar)removeEvent(document,"mousemove",calDragIt),removeEvent(document,"mouseup",calDragEnd),tableMouseUp(ev)},Calendar.dayMouseDown=function(ev){var el=Calendar.getElement(ev);if(el.disabled)return!1;var cal=el.calendar;if(cal.activeDiv=el,Calendar._C=cal,300!=el.navtype)with(Calendar)50==el.navtype?(el._current=el.innerHTML,addEvent(document,"mousemove",tableMouseOver)):addEvent(document,Calendar.is_ie5?"mousemove":"mouseover",tableMouseOver),addClass(el,"hilite active"),addEvent(document,"mouseup",tableMouseUp);else cal.isPopup&&cal._dragStart(ev);return-1==el.navtype||1==el.navtype?(cal.timeout&&clearTimeout(cal.timeout),cal.timeout=setTimeout("Calendar.showMonthsCombo()",250)):-2==el.navtype||2==el.navtype?(cal.timeout&&clearTimeout(cal.timeout),cal.timeout=setTimeout(el.navtype>0?"Calendar.showYearsCombo(true)":"Calendar.showYearsCombo(false)",250)):cal.timeout=null,Calendar.stopEvent(ev)},Calendar.dayMouseDblClick=function(e){Calendar.cellClick(Calendar.getElement(e),e||window.event),Calendar.is_ie&&document.selection.empty()},Calendar.dayMouseOver=function(e){var t=Calendar.getElement(e);return!(Calendar.isRelated(t,e)||Calendar._C||t.disabled)&&(t.ttip&&("_"==t.ttip.substr(0,1)&&(t.ttip=t.caldate.print(t.calendar.ttDateFormat)+t.ttip.substr(1)),t.calendar.tooltips.innerHTML=t.ttip),300!=t.navtype&&(Calendar.addClass(t,"hilite"),t.caldate&&Calendar.addClass(t.parentNode,"rowhilite")),Calendar.stopEvent(e))},Calendar.dayMouseOut=function(ev){with(Calendar){var el=getElement(ev);return!(isRelated(el,ev)||_C||el.disabled)&&(removeClass(el,"hilite"),el.caldate&&removeClass(el.parentNode,"rowhilite"),el.calendar&&(el.calendar.tooltips.innerHTML=_TT.SEL_DATE),stopEvent(ev))}},Calendar.cellClick=function(e,t){function a(e){var t=i.getDate(),a=i.getMonthDays(e);t>a&&i.setDate(a),i.setMonth(e)}var n=e.calendar,r=!1,l=!1,i=null;if(void 0===e.navtype){n.currentDateEl&&(Calendar.removeClass(n.currentDateEl,"selected"),Calendar.addClass(e,"selected"),(r=n.currentDateEl==e)||(n.currentDateEl=e)),n.date.setDateOnly(e.caldate),i=n.date;var s=!(n.dateClicked=!e.otherMonth);s||n.currentDateEl?l=!e.disabled:n._toggleMultipleDate(new Date(i)),s&&n._init(n.firstDayOfWeek,i)}else{if(200==e.navtype)return Calendar.removeClass(e,"hilite"),void n.callCloseHandler();i=new Date(n.date),0==e.navtype&&(n.todayDateStr?i=new Date(n.todayDateStr):i.setDateOnly(new Date)),n.dateClicked=!1;var o=i.getFullYear(),d=i.getMonth();switch(e.navtype){case 400:Calendar.removeClass(e,"hilite");var h=Calendar._TT.ABOUT;return void 0!==h?h+=n.showsTime?Calendar._TT.ABOUT_TIME:"":h='Help and about box text is not translated into this language.\nIf you know this language and you feel generous please update\nthe corresponding file in "lang" subdir to match calendar-en.js\nand send it back to <mihai_bazon@yahoo.com> to get it into the distribution  ;-)\n\nThank you!\nhttp://dynarch.com/mishoo/calendar.epl\n',void alert(h);case-2:o>n.minYear&&i.setFullYear(o-1);break;case-1:d>0?a(d-1):o-- >n.minYear&&(i.setFullYear(o),a(11));break;case 1:d<11?a(d+1):o<n.maxYear&&(i.setFullYear(o+1),a(0));break;case 2:o<n.maxYear&&i.setFullYear(o+1);break;case 100:return void n.setFirstDayOfWeek(e.fdow);case 50:for(var u=e._range,c=e.innerHTML,m=u.length;--m>=0&&u[m]!=c;);t&&t.shiftKey?--m<0&&(m=u.length-1):++m>=u.length&&(m=0);var C=u[m];return e.innerHTML=C,void n.onUpdateTime();case 0:if("function"==typeof n.getDateStatus&&n.getDateStatus(i,i.getFullYear(),i.getMonth(),i.getDate()))return!1}i.equalsTo(n.date)?0==e.navtype&&(l=r=!0):(n.setDate(i),l=!0)}l&&t&&n.callHandler(),r&&(Calendar.removeClass(e,"hilite"),t&&n.callCloseHandler())},Calendar.prototype.create=function(e){var t=null;e?(t=e,this.isPopup=!1):(t=document.getElementsByTagName("body")[0],this.isPopup=!0),this.dateStr&&(this.date=new Date(this.dateStr)),this.date&&!isNaN(this.date)||(this.date=new Date);var a=Calendar.createElement("table");this.table=a,a.cellSpacing=0,a.cellPadding=0,a.calendar=this,Calendar.addEvent(a,"mousedown",Calendar.tableMouseDown);var n=Calendar.createElement("div");this.element=n,n.className="calendar",this.isPopup&&(n.style.position="absolute",n.style.display="none"),n.appendChild(a);var r=Calendar.createElement("thead",a),l=null,i=null,s=this,o=function(e,t,a){return l=Calendar.createElement("td",i),l.colSpan=t,l.className="button",0!=a&&Math.abs(a)<=2&&(l.className+=" nav"),Calendar._add_evs(l),l.calendar=s,l.navtype=a,l.innerHTML="<div unselectable='on'>"+e+"</div>",l};i=Calendar.createElement("tr",r);var d=6;this.isPopup&&--d,this.weekNumbers&&++d,o("?",1,400).ttip=Calendar._TT.INFO,this.title=o("",d,300),this.title.className="title",this.isPopup&&(this.title.ttip=Calendar._TT.DRAG_TO_MOVE,this.title.style.cursor="move",o("&#x00d7;",1,200).ttip=Calendar._TT.CLOSE),i=Calendar.createElement("tr",r),i.className="headrow",this._nav_py=o("&#x00ab;",1,-2),this._nav_py.ttip=Calendar._TT.PREV_YEAR,this._nav_pm=o("&#x2039;",1,-1),this._nav_pm.ttip=Calendar._TT.PREV_MONTH,this._nav_now=o(Calendar._TT.TODAY,this.weekNumbers?4:3,0),this._nav_now.ttip=Calendar._TT.GO_TODAY,this._nav_nm=o("&#x203a;",1,1),this._nav_nm.ttip=Calendar._TT.NEXT_MONTH,this._nav_ny=o("&#x00bb;",1,2),this._nav_ny.ttip=Calendar._TT.NEXT_YEAR,i=Calendar.createElement("tr",r),i.className="daynames",this.weekNumbers&&(l=Calendar.createElement("td",i),l.className="name wn",l.innerHTML=Calendar._TT.WK);for(var h=7;h>0;--h)l=Calendar.createElement("td",i),h||(l.navtype=100,l.calendar=this,Calendar._add_evs(l));this.firstdayname=this.weekNumbers?i.firstChild.nextSibling:i.firstChild,this._displayWeekdays();var u=Calendar.createElement("tbody",a);for(this.tbody=u,h=6;h>0;--h){i=Calendar.createElement("tr",u),this.weekNumbers&&(l=Calendar.createElement("td",i));for(var c=7;c>0;--c)l=Calendar.createElement("td",i),l.calendar=this,Calendar._add_evs(l)}this.showsTime?(i=Calendar.createElement("tr",u),i.className="time",l=Calendar.createElement("td",i),l.className="time",l.colSpan=2,l.innerHTML=Calendar._TT.TIME||"&nbsp;",l=Calendar.createElement("td",i),l.className="time",l.colSpan=this.weekNumbers?4:3,function(){function e(e,t,a,n){var r=Calendar.createElement("span",l);if(r.className=e,r.innerHTML=t,r.calendar=s,r.ttip=Calendar._TT.TIME_PART,r.navtype=50,r._range=[],"number"!=typeof a)r._range=a;else for(var i=a;i<=n;++i){var o;o=i<10&&n>=10?"0"+i:""+i,r._range[r._range.length]=o}return Calendar._add_evs(r),r}var t=s.date.getHours(),a=s.date.getMinutes(),n=!s.time24,r=t>12;n&&r&&(t-=12);var o=e("hour",t,n?1:0,n?12:23),d=Calendar.createElement("span",l);d.innerHTML=":",d.className="colon";var h=e("minute",a,0,59),u=null;l=Calendar.createElement("td",i),l.className="time",l.colSpan=2,n?u=e("ampm",r?Calendar._TT.PM:Calendar._TT.AM,[Calendar._TT.am,Calendar._TT.pm]):l.innerHTML="&nbsp;",s.onSetTime=function(){var e,t=this.date.getHours(),a=this.date.getMinutes();n&&(e=t>=12,e&&(t-=12),0==t&&(t=12),u.innerHTML=e?Calendar._TT.pm:Calendar._TT.am),o.innerHTML=t<10?"0"+t:t,h.innerHTML=a<10?"0"+a:a},s.onUpdateTime=function(){var e=this.date,t=parseInt(o.innerHTML,10);n&&(new RegExp(Calendar._TT.pm,"i").test(u.innerHTML)&&t<12?t+=12:new RegExp(Calendar._TT.am,"i").test(u.innerHTML)&&12==t&&(t=0));var a=e.getDate(),r=e.getMonth(),l=e.getFullYear();e.setHours(t),e.setMinutes(parseInt(h.innerHTML,10)),e.setFullYear(l),e.setMonth(r),e.setDate(a),this.dateClicked=!1,this.callHandler()}}()):this.onSetTime=this.onUpdateTime=function(){};var m=Calendar.createElement("tfoot",a);for(i=Calendar.createElement("tr",m),i.className="footrow",l=o(Calendar._TT.SEL_DATE,this.weekNumbers?8:7,300),l.className="ttip",this.isPopup&&(l.ttip=Calendar._TT.DRAG_TO_MOVE,l.style.cursor="move"),this.tooltips=l,n=Calendar.createElement("div",this.element),this.monthsCombo=n,n.className="combo",h=0;h<Calendar._MN.length;++h){var C=Calendar.createElement("div");C.className=Calendar.is_ie?"label-IEfix":"label",C.month=h,C.innerHTML=Calendar._SMN[h],n.appendChild(C)}for(n=Calendar.createElement("div",this.element),this.yearsCombo=n,n.className="combo",h=12;h>0;--h){var v=Calendar.createElement("div");v.className=Calendar.is_ie?"label-IEfix":"label",n.appendChild(v)}this._init(this.firstDayOfWeek,this.date),t.appendChild(this.element),Calendar.addEvent(this.element,"mousedown",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1})},Calendar._upkeyEvent=function(e){27===e.keyCode&&window.setTimeout(function(){var e=window._dynarch_popupCalendar;if(!e||e.multiple)return!1;e.callCloseHandler()},0)},Calendar._keyEvent=function(e){function t(){u=r.currentDateEl;var e=u.pos;o=15&e,d=e>>4,h=r.ar_days[d][o]}function a(){var e=new Date(r.date);e.setDate(e.getDate()-c),r.setDate(e)}function n(){var e=new Date(r.date);e.setDate(e.getDate()+c),r.setDate(e)}var r=window._dynarch_popupCalendar;if(!r||r.multiple)return!1;var l=Calendar.is_ie||"keydown"==e.type,i=e.keyCode;if(e.ctrlKey)switch(i){case 37:l&&Calendar.cellClick(r._nav_pm);break;case 38:l&&Calendar.cellClick(r._nav_py);break;case 39:l&&Calendar.cellClick(r._nav_nm);break;case 40:l&&Calendar.cellClick(r._nav_ny)}else switch(i){case 32:Calendar.cellClick(r._nav_now);break;case 37:case 38:case 39:case 40:if(l){var s,o,d,h,u,c;for(s=37==i||38==i,c=37==i||39==i?1:7,t();;){switch(i){case 37:if(!(--o>=0)){o=6,i=38;continue}h=r.ar_days[d][o];break;case 38:--d>=0?h=r.ar_days[d][o]:(a(),t());break;case 39:if(!(++o<7)){o=0,i=40;continue}h=r.ar_days[d][o];break;case 40:++d<r.ar_days.length?h=r.ar_days[d][o]:(n(),t())}break}h&&(h.disabled?s?a():n():Calendar.cellClick(h))}break;case 13:l&&Calendar.cellClick(r.currentDateEl,e)}return Calendar.stopEvent(e)},Calendar.prototype._init=function(e,t){var a=new Date(t);a.setHours(13);var n=new Date,r=n.getFullYear(),l=n.getMonth(),i=n.getDate();this.table.style.visibility="hidden";var s=a.getFullYear();s<this.minYear?(s=this.minYear,a.setFullYear(s)):s>this.maxYear&&(s=this.maxYear,a.setFullYear(s)),this.firstDayOfWeek=e;var o=a.getMonth(),d=a.getDate();a.getMonthDays();a.setDate(1);var h=(a.getDay()-this.firstDayOfWeek)%7;h<0&&(h+=7),a.setDate(-h),a.setDate(a.getDate()+1);for(var u=this.tbody.firstChild,c=(Calendar._SMN[o],this.ar_days=new Array),m=Calendar._TT.WEEKEND,C=this.multiple?this.datesCells={}:null,v=0;v<6;++v,u=u.nextSibling){var p=u.firstChild;if(this.weekNumbers){p.className="day wn";var f=a;0==o&&0==v&&0==Date.useISO8601WeekNumbers&&(f=new Date(s,o,1)),p.innerHTML=f.getWeekNumber(this.firstDayOfWeek),p=p.nextSibling}u.className="daysrow";for(var y,g=!1,_=c[v]=[],D=0;D<7;++D,p=p.nextSibling,a.setDate(y+1)){y=a.getDate();var b=a.getDay();p.className="day day-"+y,p.pos=v<<4|D,_[D]=p;var T=a.getMonth()==o;if(T)p.otherMonth=!1,g=!0;else{if(!this.showsOtherMonths){p.className="emptycell",p.innerHTML="&nbsp;",p.disabled=!0;continue}p.className+=" othermonth",p.otherMonth=!0}if(p.disabled=!1,p.innerHTML=this.getDateText?this.getDateText(a,y):y,C&&(C[a.print("%Y%m%d")]=p),this.getDateStatus){var w=this.getDateStatus(a,s,o,y);if(this.getDateToolTip){var M=this.getDateToolTip(a,s,o,y);M&&(p.title=M)}!0===w?(p.className+=" disabled",p.disabled=!0):(/disabled/i.test(w)&&(p.disabled=!0),p.className+=" "+w)}p.disabled||(p.caldate=new Date(a),p.ttip="_",!this.multiple&&T&&y==d&&this.hiliteToday&&(p.className+=" selected",this.currentDateEl=p),a.getFullYear()==r&&a.getMonth()==l&&y==i&&(p.className+=" today",p.ttip+=Calendar._TT.PART_TODAY),-1!=m.indexOf(b.toString())&&(p.className+=p.otherMonth?" oweekend":" weekend"))}g||this.showsOtherMonths||(u.className="emptyrow")}this.date=new Date(t),this.onSetTime(),this.title.innerHTML=Calendar._MN[o]+", "+s,this.table.style.visibility="visible",this._initMultipleDates()},Calendar.prototype._initMultipleDates=function(){if(this.multiple)for(var e in this.multiple){var t=this.datesCells[e],a=this.multiple[e];a&&(t&&(t.className+=" selected"))}},Calendar.prototype._toggleMultipleDate=function(e){if(this.multiple){var t=e.print("%Y%m%d"),a=this.datesCells[t];if(a){this.multiple[t]?(Calendar.removeClass(a,"selected"),delete this.multiple[t]):(Calendar.addClass(a,"selected"),this.multiple[t]=e)}}},Calendar.prototype.setDateToolTipHandler=function(e){this.getDateToolTip=e},Calendar.prototype.setDate=function(e){e.equalsTo(this.date)||this._init(this.firstDayOfWeek,e)},Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date)},Calendar.prototype.setFirstDayOfWeek=function(e){this._init(e,this.date),this._displayWeekdays()},Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(e){this.getDateStatus=e},Calendar.prototype.setRange=function(e,t){this.minYear=e,this.maxYear=t},Calendar.prototype.callHandler=function(){this.onSelected&&this.onSelected(this,this.date.print(this.dateFormat))},Calendar.prototype.callCloseHandler=function(){this.onClose&&this.onClose(this)},Calendar.prototype.destroy=function(){this.element.parentNode.removeChild(this.element),Calendar._C=null,window._dynarch_popupCalendar=null},Calendar.prototype.reparent=function(e){var t=this.element;t.parentNode.removeChild(t),e.appendChild(t)},Calendar._checkCalendar=function(e){var t=window._dynarch_popupCalendar;if(!t)return!1;for(var a=Calendar.is_ie?Calendar.getElement(e):Calendar.getTargetElement(e);null!=a&&a!=t.element;a=a.parentNode);return null==a?(window._dynarch_popupCalendar.callCloseHandler(),Calendar.stopEvent(e)):void 0},Calendar.prototype.show=function(){if(!this.params.inputField.disabled){for(var e=this.table.getElementsByTagName("tr"),t=e.length;t>0;){var a=e[--t];Calendar.removeClass(a,"rowhilite");for(var n=a.getElementsByTagName("td"),r=n.length;r>0;){var l=n[--r];Calendar.removeClass(l,"hilite"),Calendar.removeClass(l,"active")}}Calendar.current=this,this.element.style.display="block",this.element.className+=" active",this.hidden=!1,this.isPopup&&(window._dynarch_popupCalendar=this,Calendar.addEvent(document,"keyup",Calendar._upkeyEvent),Calendar.addEvent(document,"keydown",Calendar._keyEvent),Calendar.addEvent(document,"mousedown",Calendar._checkCalendar))}},Calendar.prototype.hide=function(){this.isPopup&&(Calendar.removeEvent(document,"keyup",Calendar._upkeyEvent),Calendar.removeEvent(document,"keydown",Calendar._keyEvent),Calendar.removeEvent(document,"mousedown",Calendar._checkCalendar)),Calendar.current=null,this.element.style.display="none",this.element.className=this.element.className.replace(/active/gi,""),this.hidden=!0},Calendar.prototype.showAt=function(e,t){var a=this.element.style;a.left=e+"px",a.top=t+"px",this.show()},Calendar.prototype.showAtElement=function(e,t){function a(e){e.x<0&&(e.x=0),e.y<0&&(e.y=0);var t=document.createElement("div"),a=t.style;a.position="absolute",a.right=a.bottom=a.width=a.height="0px",document.body.appendChild(t);var n=Calendar.getAbsolutePos(t);document.body.removeChild(t),n.y+=jQuery(window).scrollTop(),n.x+=jQuery(window).scrollLeft();var r=e.x+e.width-n.x;r>0&&(e.x-=r),(r=e.y+e.height-n.y)>0&&(e.y-=r)}var n=this,r=Calendar.getAbsolutePos(e);if(!t||"string"!=typeof t)return this.showAt(r.x,r.y+e.offsetHeight),!0;this.element.style.display="block",Calendar.continuation_for_the_khtml_browser=function(){var l=jQuery(n.element).outerWidth(),i=jQuery(n.element).outerHeight();n.element.style.display="none";var s=t.substr(0,1),o="l";switch(t.length>1&&(o=t.substr(1,1)),s){case"T":r.y-=i;break;case"B":r.y+=jQuery(e).outerHeight();break;case"C":r.y+=(jQuery(e).outerHeight()-i)/2;break;case"t":r.y+=jQuery(e).outerHeight()-i}switch(o){case"L":r.x-=l;break;case"R":r.x+=jQuery(e).outerWidth();break;case"C":r.x+=(jQuery(e).outerWidth()-l)/2;break;case"l":r.x+=jQuery(e).outerWidth()-l}r.width=l,r.height=i+40,n.monthsCombo.style.display="none",a(r),n.showAt(r.x,r.y)},Calendar.continuation_for_the_khtml_browser()},Calendar.prototype.setDateFormat=function(e){this.dateFormat=e},Calendar.prototype.setTtDateFormat=function(e){this.ttDateFormat=e},Calendar.prototype.parseDate=function(e,t){t||(t=this.dateFormat),this.setDate(Date.parseDate(e,t))},Calendar.prototype._displayWeekdays=function(){for(var e=this.firstDayOfWeek,t=this.firstdayname,a=Calendar._TT.WEEKEND,n=0;n<7;++n){t.className="day name";var r=(n+e)%7;n&&(t.ttip=Calendar._TT.DAY_FIRST.replace("%s",Calendar._DN[r]),t.navtype=100,t.calendar=this,t.fdow=r,Calendar._add_evs(t)),-1!=a.indexOf(r.toString())&&Calendar.addClass(t,"weekend"),t.innerHTML=Calendar._SDN[(n+e)%7],t=t.nextSibling}},Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display="none",this.yearsCombo.style.display="none"},Calendar.prototype._dragStart=function(ev){if(!this.dragging){this.dragging=!0;var posX,posY;Calendar.is_ie?(posY=window.event.clientY+document.body.scrollTop,posX=window.event.clientX+document.body.scrollLeft):(posY=ev.clientY+window.scrollY,posX=ev.clientX+window.scrollX);var st=this.element.style;with(this.xOffs=posX-parseInt(st.left),this.yOffs=posY-parseInt(st.top),Calendar)addEvent(document,"mousemove",calDragIt),addEvent(document,"mouseup",calDragEnd)}},Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31),Date.SECOND=1e3,Date.MINUTE=60*Date.SECOND,Date.HOUR=60*Date.MINUTE,Date.DAY=24*Date.HOUR,Date.WEEK=7*Date.DAY,Date._multisplit=function(e,t){if(null==e)return null;null==t&&(t="");var a=[],n=e.length,r="",l=!1;for(i=0;i<n;i++){var s=e.charAt(i);-1==t.indexOf(s)?(l=!0,r+=s):l&&(a[a.length]=r,r="",l=!1)}return r.length>0&&(a[a.length]=r),0==a.length&&(a[a.length]=""),a},Date._parseNonDateFormatChars=function(e){var t="",a=e.length;for(i=0;i<a;i++){var n=e.charAt(i);if("%"==n){var r="";if(i+1<a&&(r=e.charAt(i+1)),i+=1,r.length>0&&-1!="aAbBCdeHIJklmMnpPRSstUWVuwyY%".indexOf(r))continue;-1==t.indexOf(n)&&(t+=n),r.length>0&&-1==t.indexOf(r)&&(t+=r)}else-1==t.indexOf(n)&&(t+=n)}return t},Date.splitDate=function(e,t){var a=(new Date,0),n=-1,r=0,l=Date._parseNonDateFormatChars(t),i=Date._multisplit(e,l),s=t.match(/%./g),o=0,d=0,h=0,u=0;for(o=0;o<i.length;++o)if(i[o])switch(s[o]){case"%d":case"%e":r=Number(i[o]);break;case"%m":n=Number(i[o])-1;break;case"%Y":case"%y":a=Number(i[o]),a<100&&(a+=a>29?1900:2e3);break;case"%b":case"%B":var c=i[o].toLowerCase(),m=!1;if("%b"==s[o])for(d=0;d<12;++d)if(Calendar._SMN[d].substr(0,c.length).toLowerCase()==c){n=d,m=!0;break}if(!m)for(d=0;d<12;++d)if(Calendar._MN[d].substr(0,c.length).toLowerCase()==c){n=d;break}break;case"%H":case"%I":case"%k":case"%l":h=Number(i[o]);break;case"%P":case"%p":/pm/i.test(i[o])&&h<12?h+=12:/am/i.test(i[o])&&h>=12&&(h-=12);break;case"%M":u=Number(i[o]);break;case"%R":var C=i[o],v=C.indexOf(":"),p=C.substring(0,v),f=-1==v?0:C.substring(v+1);h=Number(p),u=Number(f)}return{parts:i,year:a,month:n,day:r,hour:h,minute:u}},Date.parseDate=function(e,t){var a=new Date,n=Date.splitDate(e,t),r=n.parts,l=n.year,i=n.month,s=n.day,o=n.hour,d=n.minute,h=0,u=0;if(isNaN(l)&&(l=a.getFullYear()),isNaN(i)&&(i=a.getMonth()),isNaN(s)&&(s=a.getDate()),isNaN(o)&&(o=a.getHours()),isNaN(d)&&(d=a.getMinutes()),0!=l&&-1!=i&&0!=s)return new Date(l,i,s,o,d,0);for(l=0,i=-1,s=0,h=0;h<r.length;++h)if(-1!=r[h].search(/[a-zA-Z]+/)){var c=-1;for(u=0;u<12;++u)if(Calendar._MN[u].substr(0,r[h].length).toLowerCase()==r[h].toLowerCase()){c=u;break}-1!=c&&(-1!=i&&(s=i+1),i=c)}else Number(r[h])<=12&&-1==i?i=r[h]-1:Number(r[h])>31&&0==l?(l=Number(r[h]))<100&&(l+=l>29?1900:2e3):0==s&&(s=r[h]);return 0==l&&(l=a.getFullYear()),-1!=i&&0!=s?new Date(l,i,s,o,d,0):a},Date.prototype.getMonthDays=function(e){var t=this.getFullYear();return void 0===e&&(e=this.getMonth()),0!=t%4||0==t%100&&0!=t%400||1!=e?Date._MD[e]:29},Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),13,0,0),t=new Date(this.getFullYear(),0,0,13,0,0),a=e-t;return Math.floor(a/Date.DAY)},Date.prototype.getWeekNumber=function(e){return Date.useISO8601WeekNumbers?this.getISO8601WeekNumber():this.getSimpleWeekNumber(e)},Date.prototype.getISO8601WeekNumber=function(){function e(e,t,a){return y=e,m=t,t<3&&(y-=1),t<3&&(m+=12),Math.floor(365.25*y)-Math.floor(y/100)+Math.floor(y/400)+Math.floor(30.6*(m+1))+a-62}return function(t){return year=t.getFullYear(),month=t.getMonth(),day=t.getDate(),wday=t.getDay(),weekday=(wday+6)%7+1,isoyear=year,d0=e(year,1,0),weekday0=(d0+4)%7+1,d=e(year,month+1,day),isoweeknr=Math.floor((d-d0+weekday0+6)/7)-Math.floor((weekday0+3)/7),11==month&&day-weekday>27&&(isoweeknr=1,isoyear+=1),0==month&&weekday-day>3&&(d0=e(year-1,1,0),weekday0=(d0+4)%7+1,isoweeknr=Math.floor((d-d0+weekday0+6)/7)-Math.floor((weekday0+3)/7),isoyear-=1),isoweeknr}(this)},Date.prototype.getSimpleWeekNumber=function(e){return function(e,t,a){var n,r=e.getFullYear(),l=new Date(r,0,1);return n=Math.round((e-l)/864e5),null!=t&&(n-=(7+t-l.getDay())%7),null!=a&&(n+=a),[r,1+n/7|0,1+(7+n)%7]}(this,e||6,6)[1]},Date.prototype.equalsTo=function(e){return this.getFullYear()==e.getFullYear()&&this.getMonth()==e.getMonth()&&this.getDate()==e.getDate()&&this.getHours()==e.getHours()&&this.getMinutes()==e.getMinutes()},Date.prototype.setDateOnly=function(e){var t=new Date(e);this.setDate(1),this.setFullYear(t.getFullYear()),this.setMonth(t.getMonth()),this.setDate(t.getDate())},Date.prototype.print=function(e){var t=this.getMonth(),a=this.getDate(),n=this.getFullYear(),r=this.getWeekNumber(),l=this.getDay(),i={},s=this.getHours(),o=s>=12,d=o?s-12:s,h=this.getDayOfYear();0==d&&(d=12);var u=this.getMinutes(),c=this.getSeconds();i["%a"]=Calendar._SDN[l],i["%A"]=Calendar._DN[l],i["%b"]=Calendar._SMN[t],i["%B"]=Calendar._MN[t],i["%C"]=1+Math.floor(n/100),i["%d"]=a<10?"0"+a:a,i["%e"]=a,i["%H"]=s<10?"0"+s:s,i["%I"]=d<10?"0"+d:d,i["%j"]=h<100?h<10?"00"+h:"0"+h:h,i["%k"]=s,i["%l"]=d,i["%m"]=t<9?"0"+(1+t):1+t,i["%M"]=u<10?"0"+u:u,i["%n"]="\n",i["%p"]=o?Calendar._TT.PM:Calendar._TT.AM,i["%P"]=o?Calendar._TT.PM:Calendar._TT.AM,i["%R"]=i["%k"]+":"+i["%M"],i["%s"]=Math.floor(this.getTime()/1e3),i["%S"]=c<10?"0"+c:c,i["%t"]="\t",i["%U"]=i["%W"]=i["%V"]=r<10?"0"+r:r,i["%u"]=l+1,i["%w"]=l,i["%y"]=(""+n).slice(-2),i["%Y"]=n,i["%%"]="%";var m=/%./g;if(!Calendar.is_ie5&&!Calendar.is_khtml)return e.replace(m,function(e){return i[e]||e});for(var C=e.match(m),v=0;v<C.length;v++){var p=i[C[v]];p&&(m=new RegExp(C[v],"g"),e=e.replace(m,p))}return e},Date.prototype.__msh_oldSetFullYear=Date.prototype.setFullYear,Date.prototype.setFullYear=function(e){var t=new Date(this);t.__msh_oldSetFullYear(e),t.getMonth()!=this.getMonth()&&this.setDate(28),this.__msh_oldSetFullYear(e)},window._dynarch_popupCalendar=null;;
;
/* module-key = 'jira.webresources:calendar-lib', location = '/includes/lib/calendar/Calendar.setup.js' */
!function(e,t){Calendar.setup=function(a){function n(e,t){void 0===a[e]&&(a[e]=t)}function l(t){var a=t.params,n=t.dateClicked||a.electric;n&&a.inputField&&(a.inputField.value=t.date.print(a.ifFormat),e(a.inputField).change()),n&&a.displayArea&&(a.displayArea.innerHTML=t.date.print(a.daFormat)),n&&"function"==typeof a.onUpdate&&a.onUpdate(t),n&&a.flat&&"function"==typeof a.flatCallback&&a.flatCallback(t),"true"===a.singleClick?a.singleClick=!0:"false"===a.singleClick&&(a.singleClick=!1),n&&a.singleClick&&t.dateClicked&&t.callCloseHandler()}function i(){if(!0===Calendar._UNSUPPORTED)return void alert("The JIRA Calendar does not currently support your language.");var e=a.inputField||a.displayArea,t=a.inputField?a.ifFormat:a.daFormat,n=!1,i=window.calendar;if(i&&i.hide(),e&&(e.value||e.innerHTML)&&(a.date=Date.parseDate(e.value||e.innerHTML,t)),i&&a.cache?(a.date&&i.setDate(a.date),i.hide()):(window.calendar=i=new Calendar(a.firstDay,a.date,a.todayDate,a.onSelect||l,a.onClose||function(e){e.hide()}),i.showsTime=a.showsTime,i.time24="24"==a.timeFormat,i.weekNumbers=a.weekNumbers,Date.useISO8601WeekNumbers=a.useISO8601WeekNumbers,a.useISO8601WeekNumbers&&(i.firstDayOfWeek=1),n=!0),a.multiple){i.multiple={};for(var r=a.multiple.length;--r>=0;){var u=a.multiple[r],o=u.print("%Y%m%d");i.multiple[o]=u}}return i.showsOtherMonths=a.showOthers,i.yearStep=a.step,i.setRange(a.range[0],a.range[1]),i.params=a,i.setDateStatusHandler(a.dateStatusFunc),i.getDateText=a.dateText,i.setDateFormat(t),n&&i.create(),i.refresh(),a.position?i.showAt(a.position[0],a.position[1]):i.showAtElement(a.button||a.displayArea||a.inputField,a.align),!1}a=a||{},n("inputField",null),n("context",null),n("displayArea",null),n("button",null),n("eventName","click"),n("ifFormat","%Y/%m/%d"),n("daFormat","%Y/%m/%d"),n("singleClick",!0),n("disableFunc",null),n("dateStatusFunc",a.disableFunc),n("dateText",null),n("firstDay",null),n("align","Br"),n("range",[1900,2999]),n("weekNumbers",!0),n("useISO8601WeekNumbers",!1),n("flat",null),n("flatCallback",null),n("onSelect",null),n("onClose",null),n("onUpdate",null),n("date",null),n("todayDate",null),n("showsTime",!1),n("timeFormat","24"),n("electric",!0),n("step",1),n("position",null),n("cache",!1),n("showOthers",!1),n("multiple",null);var r,u,o=["context","inputField","button","displayArea"];for(r in o)u=o[r],a[u]instanceof e&&(a[u]=a[u][0]);var s=["inputField","displayArea","button"];for(r in s)if(u=s[r],"string"==typeof a[u]){var d="#"+e.escapeSelector(a[u]),p=e(a.context||document.body).find(d);a[u]=p[0]}if(!(a.flat||a.multiple||a.inputField||a.displayArea||a.button))return t.log("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code"),!1;if(a.firstDay&&null!==a.firstDay&&(a.firstDay=+a.firstDay),null!=a.flat){if("string"==typeof a.flat&&(a.flat=document.getElementById(a.flat)),!a.flat)return t.log("Calendar.setup:\n  Flat specified but can't find parent."),!1;var c=new Calendar(a.firstDay,a.date,a.todayDate,a.onSelect||l);return c.showsOtherMonths=a.showOthers,c.showsTime=a.showsTime,c.time24="24"==a.timeFormat,c.params=a,c.weekNumbers=a.weekNumbers,c.setRange(a.range[0],a.range[1]),c.setDateStatusHandler(a.dateStatusFunc),c.getDateText=a.dateText,a.ifFormat&&c.setDateFormat(a.ifFormat),a.inputField&&"string"==typeof a.inputField.value&&c.parseDate(a.inputField.value),c.create(a.flat),c.show(),!1}var f=a.button||a.displayArea||a.inputField;return e(f).bind(a.eventName,function(e){e.preventDefault(),i()}),a.inputField&&function(){var t=e(a.inputField);a.button&&e(a.button).mousedown(function(e){e.preventDefault(),!t.is(":focus")&&t.is(":enabled")&&t.focus()}),t.keydown(function(e){var t=window.calendar;40===e.keyCode&&(t&&!t.hidden||setTimeout(function(){i()},1))})}(),c}}(require("jquery"),require("jira/util/logger"));;
;
/* module-key = 'jira.webresources:calendar', location = '/includes/lib/calendar/Calendar-layerable.js' */
define("jira/libs/calendar-layerable-mixin",["jira/ajs/layer/layer-interactions","jira/ajs/layer/inline-layer","jira/util/events"],function(e,n,i){"use strict";function r(r){e.preventDialogHide(r),e.preventInputBlur(r),e.preventInlineEditCancel(r),i.bind(n.EVENTS.beforeHide,function(e){r.current&&e.preventDefault()})}return{layerableExtensions:r}});;
;
/* module-key = 'jira.webresources:calendar', location = '/includes/lib/calendar/Calendar-amd.js' */
define("jira/libs/calendar",["require"],function(a){"use strict";var e=window.Calendar;return a("jira/libs/calendar-layerable-mixin").layerableExtensions(e),e}),function(){"use strict";var a=require("jira/libs/calendar");AJS.namespace("window.Calendar",window,a)}();;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/dropdown/Dropdown.js' */
define("jira/dropdown",["require"],function(i){function o(){try{return Boolean(n.require("jira/dialog/dialog").current)}catch(i){}return!1}var n=i("jira/util/top-same-origin-window")(window),t=i("jira/ajs/layer/layer-interactions"),e=i("jquery"),d=i("jira/util/key-code"),r=[],s={current:null,addInstance:function(){r.push(this)},hideInstances:function(){var i=this;e(r).each(function(){i!==this&&this.hideDropdown()})},getHash:function(){return this.hash||(this.hash={container:this.dropdown,hide:this.hideDropdown,show:this.displayDropdown}),this.hash},displayDropdown:function(){if(this.current!==this){this.hideInstances(),this.current=this,this.dropdown.css({display:"block"}),this.displayed=!0;var i=this.dropdown;o()||setTimeout(function(){var o=e(window),n=i.offset().top+i.prop("offsetHeight")-o.height()+10;o.scrollTop()<n&&e("html,body").animate({scrollTop:n},300,"linear")},100)}},hideDropdown:function(){!1!==this.displayed&&(this.current=null,this.dropdown.css({display:"none"}),this.displayed=!1)},init:function(i,o){var n=this;this.addInstance(this),this.dropdown=e(o),this.dropdown.css({display:"none"}),e(document).keydown(function(i){i.keyCode===d.TAB&&n.hideDropdown()}),i.target?e.aop.before(i,function(){n.displayed||n.displayDropdown()}):(n.dropdown.css("top",e(i).outerHeight()+"px"),i.click(function(i){n.displayed?n.hideDropdown():(n.displayDropdown(),i.stopPropagation()),i.preventDefault()})),e(document.body).click(function(){n.displayed&&n.hideDropdown()})}};return t.preventDialogHide(s),t.hideBeforeDialogShown(s),s}),AJS.namespace("JIRA.Dropdown",null,require("jira/dropdown")),AJS.namespace("jira.widget.dropdown",null,require("jira/dropdown"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/AutoComplete.js' */
define("jira/autocomplete/autocomplete",["jira/ajs/ajax/smart-ajax","jira/util/key-code","jira/util/objects","jquery"],function(e,t,o,n){return function(){var i,s=function e(t,o){e.t&&(clearTimeout(e.t),e.t=void 0),e.t=setTimeout(t,1e3*o)},r={9:!0,13:!0,14:!0,25:!0,27:!0,38:!0,40:!0,224:!0};return{dispatcher:function(){},getSavedResponse:function(){},saveResponse:function(){},renderSuggestions:function(){},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},set:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},completeField:function(e){e&&(this.field.val(e).focus(),this.field.trigger("change"))},textToSuggestionCursorPosition:function(){return this.field.val()},_makeRequest:function(t){var n=this,i=o.copyObject(t);return this.pendingRequest&&this.pendingRequest.abort(),i.complete=function(){n.pendingRequest=null},i.error=function(e){!e.aborted&&0!==e.status&&t.error&&t.error.apply(this,arguments)},this.pendingRequest=e.makeRequest(i)},addSuggestionControls:function(e){function o(e){d.dropdownController.displayed&&a(e.data.index)}function s(e){0===e.data.index&&(d.selectedIndex=-1),n(this).removeClass("active")}function r(e){d.completeField(d.suggestionNodes[e.data.index][1])}var d=this,l=function(e,t){var o=!1===d.autoSelectFirst?-1:0;return d.allowArrowCarousel?e>t?o:e<o?t:e:e>t?t:e<o?(d.responseContainer.scrollTop(0),o):e},a=function(e){void 0!==d.selectedIndex&&d.selectedIndex>-1&&d.suggestionNodes[d.selectedIndex][0].removeClass("active"),d.selectedIndex=l(e,d.suggestionNodes.length-1),d.selectedIndex>-1&&d.suggestionNodes[d.selectedIndex][0].addClass("active")},u=function(){return d.suggestionNodes&&d.suggestionNodes[d.selectedIndex]&&d.suggestionNodes[d.selectedIndex][0].hasClass("active")},p=function(e){d.responseContainer.is(":visible")&&e.keyCode===t.ENTER&&(u()&&!d.pendingRequest&&d.completeField(d.suggestionNodes[d.selectedIndex][1]),e.preventDefault(),e.stopPropagation())},c=function(e){if(d.responseContainer.is(":visible"))if(d.field[0]!==document.activeElement&&d.field.focus(),e.keyCode===t.DOWN){if(a(d.selectedIndex+1),d.selectedIndex>=0){var o=d.responseContainer.height(),n=d.suggestionNodes[d.selectedIndex][0].position().top+d.suggestionNodes[d.selectedIndex][0].outerHeight();n-o>0&&d.responseContainer.scrollTop(d.responseContainer.scrollTop()+n-o+2)}else d.responseContainer.scrollTop(0);e.preventDefault()}else if(e.keyCode===t.UP){if(a(d.selectedIndex-1),d.selectedIndex>=0){var i=d.suggestionNodes[d.selectedIndex][0].position().top;i<0&&d.responseContainer.scrollTop(d.responseContainer.scrollTop()+i-2)}e.preventDefault()}else e.keyCode===t.TAB&&(u()?(d.completeField(d.suggestionNodes[d.selectedIndex][1]),e.preventDefault()):d.dropdownController.hideDropdown())};if(e.length){this.selectedIndex=0,this.suggestionNodes=e;for(var h=0;h<d.suggestionNodes.length;h++){var f={instance:this,index:h};this.suggestionNodes[h][0].bind("mouseover",f,o).bind("mouseout",f,s).bind("click",f,r).bind("mousedown",function(e){e.preventDefault()})}this.keyboardHandlerBinded||(n(this.field).keypress(p),n(this.field).keydown(c),this.keyboardHandlerBinded=!0),a(!1===d.autoSelectFirst?-1:0),i=this}},clearResponseContainer:function(){this.responseContainer.empty(),this.suggestionNodes=void 0},delay:s,buildResponseContainer:function(){var e=this.field.parent().addClass("atlassian-autocomplete");this.responseContainer=n(document.createElement("div")),this.responseContainer.addClass("suggestions"),this.positionResponseContainer(),this.responseContainer.appendTo(e)},positionResponseContainer:function(){this.responseContainer.css({top:this.field.outerHeight()})},keyUpHandler:function(){function e(){this.responseContainer||this.buildResponseContainer(),this.dispatcher(this.field.val())}return function(o){return this.field.val().length>=this.minQueryLength&&(o.keyCode in r&&(!this.responseContainer||this.responseContainer.is(":visible")||o.keyCode!==t.UP&&o.keyCode!==t.DOWN)||e.call(this)),o}}(),addMultiSelectAdvice:function(e){var t=this,o=function e(o){if(!e.isAlerting){e.isAlerting=!0;var i=n(document.createElement("div")).css({float:"left",display:"none"}).addClass("warningBox").html("Oops! You have already entered the value <em>"+o+"</em>").appendTo(t.field.parent()).show("fast",function(){t.delay(function(){i.hide("fast",function(){i.remove(),e.isAlerting=!1})},4)})}};n.aop.before({target:this,method:"dispatcher"},function(t){var o=this.field.val();return t[0]=n.trim(o.slice(o.lastIndexOf(e)+1)),t}),n.aop.before({target:this,method:"completeField"},function(t){var i=t[0],s=this.field.val().split(e),r=n(s).map(function(){return n.trim(this)}).get();return!this.allowDuplicates&&new RegExp("(?:^|[\\s"+e+"])"+i+"\\s*"+e).test(this.field.val())?(o(i),r[r.length-1]=""):(r[r.length-1]=i,r[r.length]=""),t[0]=r.join(e.replace(/([^\s]$)/,"$1 ")),t})},addDropdownAdvice:function(){n.aop.after({target:this,method:"buildResponseContainer"},function(e){return this.dropdownController=JIRA.Dropdown.AutoComplete({target:this,method:"renderSuggestions"},this.responseContainer),n.aop.after({target:this.dropdownController,method:"hideDropdown"},function(){this.dropdown.removeClass("dropdown-ready"),clearTimeout(s.t)}),e}),n.aop.after({target:this,method:"renderSuggestions"},function(e){return e&&e.length>0?(this.dropdownController.displayDropdown(),this.maxHeight&&this.dropdownController.dropdown.prop("scrollHeight")>this.maxHeight?this.dropdownController.dropdown.css({height:this.maxHeight,overflowX:"visible",overflowY:"scroll"}):this.maxHeight&&this.dropdownController.dropdown.css({height:"",overflowX:"",overflowY:""}),this.dropdownController.dropdown.addClass("dropdown-ready")):this.dropdownController.hideDropdown(),e}),n.aop.after({target:this,method:"completeField"},this._afterCompleteField),n.aop.after({target:this,method:"keyUpHandler"},function(e){return this.field.val().length>=this.minQueryLength&&e.keyCode!==t.ESCAPE||!this.dropdownController||!this.dropdownController.displayed||(this.dropdownController.hideDropdown(),e.keyCode===t.ESCAPE&&e.stopPropagation()),e})},_afterCompleteField:function(e){return this.dropdownController.hideDropdown(),e},init:function(e){var o=this;this.set(e),this.field=this.field||n("#"+this.fieldID),this.field.attr("autocomplete","off").keyup(function(e){o.disabled||o.keyUpHandler(e)}).keydown(function(e){e.keyCode===t.ESCAPE&&o.responseContainer&&o.responseContainer.is(":visible")&&e.preventDefault()}).click(function(){i===o&&setTimeout(function(){o.dispatcher(o.field.val())},0)}).blur(function(){o.pendingRequest&&o.pendingRequest.abort()}).focus(function(e){o.disabled||(e.originalEvent&&e.originalEvent.relatedTarget&&setTimeout(function(){o.dispatcher(o.field.val())},0),i=o)}),this.addDropdownAdvice(),e.delimChar&&this.addMultiSelectAdvice(e.delimChar)}}}()}),AJS.namespace("jira.widget.autocomplete",null,require("jira/autocomplete/autocomplete")),AJS.namespace("JIRA.AutoComplete",null,require("jira/autocomplete/autocomplete"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/RESTAutoComplete.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("jira/autocomplete/rest-autocomplete",["jira/autocomplete/autocomplete","jira/util/objects"],function(e,t){return function(){var o=t.begetObject(e);return o.dispatcher=function(e){var t=this;e.length<this.minQueryLength||(this.getSavedResponse(e)?(t.renderSuggestions(t.getSavedResponse(e)),t.responseContainer.scrollTop(0)):this.delay(function(){var o=t.getAjaxParams();o.data.query=e,o.success=function(o){t.saveResponse(e,o),t.responseContainer.scrollTop(0),t.renderSuggestions(o)},t._makeRequest(o)},t.queryDelay))},o.getAjaxParams=function(){},o.getSavedResponse=function(e){return this.requested||(this.requested={}),this.requested[e]},o.saveResponse=function(e,t){"string"==typeof e&&"object"===(void 0===t?"undefined":_typeof(t))&&(this.requested||(this.requested={}),this.requested[e]=t)},o}()}),AJS.namespace("jira.widget.autocomplete.REST",null,require("jira/autocomplete/rest-autocomplete")),AJS.namespace("JIRA.RESTAutoComplete",null,require("jira/autocomplete/rest-autocomplete"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/IssueAutoComplete.js' */
define("jira/autocomplete/issue-autocomplete",["jira/data/parse-options-from-fieldset","jira/field/issue-picker","jira/autocomplete/rest-autocomplete","jira/util/objects","wrm/context-path","jquery"],function(e,t,s,a,i,n){var r=i(),d=function(e){var t=a.begetObject(s);return t.getAjaxParams=function(){return{url:r+"/rest/api/2/issue/picker",data:e.ajaxData,dataType:"json",type:"GET"}},t.renderSuggestions=function(s){var a,i=[];if(this.clearResponseContainer(),s&&s.sections&&s.sections.length>0)return a=n("<ul/>").appendTo(this.responseContainer),n(s.sections).each(function(){var t=this,s=n("<div/>").attr("id",e.fieldID+"_s_"+t.id).addClass("yag").text(t.label);if(t.sub&&s.append(n("<span/>").addClass("yagt").text("("+t.sub+")")),a.append(n("<li/>").append(s).mouseover(function(){n(this).addClass("active")}).mouseout(function(){n(this).removeClass("active")})),t.msg){var d=n("<div/>").attr("id",e.fieldID+"_i_"+t.id+"_n").addClass("yad").text(t.msg);a.append(n("<li/>").append(d).mouseover(function(){n(this).addClass("active")}).mouseout(function(){n(this).removeClass("active")}))}t.issues&&t.issues.length>0&&n(t.issues).each(function(){var s;s=/^http/.test(this.img)?this.img:r+this.img;var d=n("<li/>").append(n("<div/>").attr("id",e.fieldID+"_i_"+t.id+"_"+this.key).addClass("yad").append(n("<table/>").addClass("yat").attr({cellpadding:"0",cellspacing:"0"}).append(n("<tr/>").append(n("<td/>").append(n("<img/>").attr("src",s))).append(n("<td/>").append(n("<div/>").addClass("yak").html(this.keyHtml))).append(n("<td/>").css("width","100%").html(this.summary)))));a.append(d),i.push([d,this.key])})}),t.addSuggestionControls(i),i},e.minQueryLength=1,e.queryDelay=.25,t.init(e),t};return d.init=function(){n("fieldset.issue-picker-params").each(function(){var s=e(n(this));n("#"+s.fieldId+"-container").add("#"+s.fieldName+"_container").find("a.popup-trigger").click(function(e){var a=r+"/secure/popups/IssuePicker.jspa?";a+="currentIssue="+s.currentIssueKey+"&",a+="singleSelectOnly="+s.singleSelectOnly+"&",a+="showSubTasks="+s.showSubTasks+"&",a+="showSubTasksParent="+s.showSubTaskParent,s.currentProjectId&&""!==s.currentProjectId&&(a+="&selectedProjectId="+s.currentProjectId),t.callback=function(e){var t,a=[];e=JSON.parse(e),s.fieldId&&a&&(t=n("#"+s.fieldId))&&(n.each(e,function(){a.push(this.value)}),t.val(a.join(", ")))};var i=window.open(a,"IssueSelectorPopup","status=no,resizable=yes,top=100,left=200,width=620,height=500,scrollbars=yes,resizable");i.opener=self,i.focus(),e.preventDefault()}),s.fieldId||(s.fieldId=s.fieldName),!0===s.issuePickerEnabled&&d({fieldID:s.fieldId,delimChar:!0===s.singleSelectOnly?void 0:",",ajaxData:s})})},d}),AJS.namespace("jira.widget.autocomplete.Issues",null,require("jira/autocomplete/issue-autocomplete")),AJS.namespace("JIRA.IssueAutoComplete",null,require("jira/autocomplete/issue-autocomplete"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/UserAutoComplete.js' */
define("jira/autocomplete/user-autocomplete",["jira/autocomplete/rest-autocomplete","jira/data/parse-options-from-fieldset","jira/util/browser","jira/util/elements","jira/util/objects","wrm/context-path","jquery"],function(e,t,i,r,o,a,s){"use strict";var n=a(),l=function(t){function a(e){var t=!1,i=e.closest("form");return i.length&&i.hasClass("submitting")&&(t=!0),t}var l=o.begetObject(e);return l.getAjaxParams=function(){return{url:n+"/rest/api/1.0/users/picker",data:{fieldName:t.fieldID,fieldConfigId:t.fieldConfigID,projectId:t.projectId},dataType:"json",type:"GET"}},l.renderSuggestions=function(e){if(a(this.field)||!i.isSelenium()&&!r.elementIsFocused(this.field))return!1;var t,o=[];return this.clearResponseContainer(),e&&e.users&&e.users.length>0&&(t=s("<ul/>").appendTo(this.responseContainer),s(e.users).each(function(){o.push([s("<li/>").html(this.html).appendTo(t),this.name])})),e.footer&&this.responseContainer.append(s("<div/>").addClass("yui-ac-ft").html(e.footer).css("display","block")),o.length>0&&(l.addSuggestionControls(o),s(".atlassian-autocomplete div.yad, .atlassian-autocomplete .labels li").textOverflow({autoUpdate:!0})),o},t.minQueryLength=2,t.queryDelay=.25,l.init(t),l};return l.init=function(e){s("fieldset.user-picker-params",e).each(function(){var i=t(s(this)),r=i.fieldId||i.fieldName,o=s("#"+r+"_container");o.find("a.popup-trigger").click(function(e){var t,a=n;if(e.preventDefault(),i.formName||(i.formName=o.find("#"+r).parents("form").attr("name")),i.actionToOpen?a+=i.actionToOpen:a+="/secure/popups/UserPickerBrowser.jspa",a+="?formName="+i.formName+"&",a+="multiSelect="+i.multiSelect+"&",a+="decorator=popup&",a+="element="+r,i.fieldConfigId&&(a+="&fieldConfigId="+i.fieldConfigId),i.projectId)if(s.isArray(i.projectId))for(var l in i.projectId)a+="&projectId="+l;else a+="&projectId="+i.projectId;t=window.open(a,"UserPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes"),t.opener=self,t.focus()}),!0===i.userPickerEnabled&&l({field:e?e.find("#"+r):null,fieldID:r,fieldConfigID:i.fieldConfigId,projectId:i.projectId,delimChar:!1===i.multiSelect?void 0:",",ajaxData:{fieldName:i.fieldName}})})},l}),AJS.namespace("jira.widget.autocomplete.Users",null,require("jira/autocomplete/user-autocomplete")),AJS.namespace("JIRA.UserAutoComplete",null,require("jira/autocomplete/user-autocomplete"));;
;
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/initAutoCompleteFields.js' */
!function(){"use strict";var e=require("jquery"),r=require("jira/data/parse-options-from-fieldset"),i=require("jira/util/events"),t=require("jira/util/events/reasons"),a=require("jira/util/events/types"),s=require("jira/autocomplete/issue-autocomplete"),l=require("jira/autocomplete/user-autocomplete"),o=require("wrm/context-path"),u=o();i.bind(a.NEW_CONTENT_ADDED,function(e,r,i){i!==t.panelRefreshed&&(l.init(r),s.init(r))}),i.bind(a.NEW_CONTENT_ADDED,function(i,a,s){s!==t.panelRefreshed&&e("fieldset.user-searcher-params",a).each(function(){var i=r(e(this)),t=e("#"+i.fieldId+"_container",a);if(!0===i.userPickerEnabled)var s=l({fieldID:i.fieldId,delimChar:!0===i.multiSelect?",":void 0,ajaxData:{fieldName:i.fieldName}});var o=function(r){var t=e("#"+i.fieldId,a),l=e("#"+i.fieldId+"Image",a),o=e("#"+i.fieldId+"GroupImage",a),u=e("#"+i.fieldId+"_desc",a);"select.list.none"===r?(t.val("").attr("disabled","true"),l.hide(),o.hide(),u.hide()):(t.removeAttr("disabled"),"select.list.group"===r?(l.hide(),o.show(),!0===i.userPickerEnabled&&(s.disable(),u.hide())):(l.show(),o.hide(),!0===i.userPickerEnabled&&(s.enable(),u.show())))};e("#"+i.userSelect,a).change(function(){var r=e(this).find("option:selected").attr("rel");o(r)}).find("option:selected").each(function(){o(e(this).attr("rel"))}),t.find("a.user-popup-trigger").click(function(e){var r=u+"/secure/popups/UserPickerBrowser.jspa?";r+="formName="+i.formName+"&",r+="multiSelect="+i.multiSelect+"&",r+="decorator=popup&",r+="element="+i.fieldId;var t=window.open(r,"UserPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes");t.opener=self,t.focus(),e.preventDefault()}),t.find("a.group-popup-trigger").click(function(e){var r=u+"/secure/popups/GroupPickerBrowser.jspa?";r+="formName="+i.formName+"&",r+="multiSelect="+i.multiSelect+"&",r+="decorator=popup&",r+="element="+i.fieldId;var t=window.open(r,"GroupPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes");t.opener=self,t.focus(),e.preventDefault()})})})}();;
;
/* module-key = 'jira.webresources:group-label-lozenge', location = '/includes/jira/admin/group-browser/group-label-lozenge.js' */
define("jira/admin/group-browser/group-label-lozenge",["jquery","jira/skate"],function(e,t){t("group-label-lozenge",{type:t.type.CLASSNAME,attached:function(t){e(t).tooltip({gravity:"w",html:!0})}})});;
;
/* module-key = 'jira.webresources:group-label-lozenge', location = '/includes/jira/admin/group-browser/group-label-lozenge.soy' */
// This file was automatically generated from group-label-lozenge.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }


JIRA.Templates.groupLabelLozenge = function(opt_data, opt_ignored) {
  return '' + aui.lozenges.lozenge({text: opt_data.label.text, title: opt_data.label.title, isSubtle: true, extraClasses: 'group-label-lozenge'});
};
if (goog.DEBUG) {
  JIRA.Templates.groupLabelLozenge.soyTemplateName = 'JIRA.Templates.groupLabelLozenge';
}
;
;
/* module-key = 'jira.webresources:groupbrowser', location = '/includes/jira/admin/group-browser/group-browser.js' */
require(["jquery","jira/admin/group-browser/group-label-lozenge"],function(i){i(function(){i(".operations-list .aui-button[disabled]").tooltip({gravity:"e",html:!1})})});;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/groupPickerUtil.js' */
define("jira/field/group-picker-util",["jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jquery"],function(e,i,r){var t=function(t,a){var n=[],s=a?JIRA.Templates.GroupPickerUtil.formatResponseWithLabels:JIRA.Templates.GroupPickerUtil.formatResponse;return r(t).each(function(t,a){var u=new i({weight:t,label:a.header});r(a.groups).each(function(){u.addItem(new e({value:this.name,label:this.name,title:this.name,html:s(this),highlighted:!0}))}),n.push(u)}),n};return{formatResponseWithLabels:function(e){return t(e,!0)},formatResponse:function(e,i){return t(e,i)}}}),AJS.namespace("JIRA.GroupPickerUtil",null,require("jira/field/group-picker-util"));;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/templates/groupPickerUtil.soy' */
// This file was automatically generated from groupPickerUtil.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.GroupPickerUtil.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.GroupPickerUtil == 'undefined') { JIRA.Templates.GroupPickerUtil = {}; }


JIRA.Templates.GroupPickerUtil.formatResponseWithLabels = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.GroupPickerUtil.formatResponse(soy.$$augmentMap(opt_data, {showLabels: true}));
};
if (goog.DEBUG) {
  JIRA.Templates.GroupPickerUtil.formatResponseWithLabels.soyTemplateName = 'JIRA.Templates.GroupPickerUtil.formatResponseWithLabels';
}


JIRA.Templates.GroupPickerUtil.formatResponse = function(opt_data, opt_ignored) {
  var output = '<div class="group-suggestion-item"><span class="group-suggestion-item__name">' + soy.$$filterNoAutoescape(opt_data.html) + '</span>';
  if (opt_data.showLabels) {
    output += '<span class="group-suggestion-item__labels group-labels-lozenges">';
    var labelList13 = opt_data.labels;
    var labelListLen13 = labelList13.length;
    for (var labelIndex13 = 0; labelIndex13 < labelListLen13; labelIndex13++) {
      var labelData13 = labelList13[labelIndex13];
      output += JIRA.Templates.groupLabelLozenge({label: labelData13}) + ' ';
    }
    output += '</span>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.GroupPickerUtil.formatResponse.soyTemplateName = 'JIRA.Templates.GroupPickerUtil.formatResponse';
}
;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/initMultiGroupPickers.js' */
define("jira/field/init-multi-group-pickers",["jquery","wrm/context-path","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/group-picker-util"],function(e,t,i,r,a,s,n){"use strict";function u(t){t.find(".js-default-multi-group-picker").each(function(){var t=e(this),r=!0===t.data("show-labels"),a=t.data("user-name");new i({element:this,itemAttrDisplayed:"label",showDropdownButton:!1,ajaxOptions:{data:function(e){return{userName:a,query:e,exclude:t.val()}},url:l+"/rest/api/2/groups/picker",query:!0,formatResponse:r?n.formatResponseWithLabels:n.formatResponse}})})}var l=t();s.bind(a.NEW_CONTENT_ADDED,function(e,t,i){i!==r.panelRefreshed&&u(t)})});;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/initSingleGroupPickers.js' */
define("jira/field/init-single-group-pickers",["jira/ajs/select/single-select","jquery","wrm/context-path","jira/ajs/list/item-descriptor","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/group-picker-util"],function(e,t,i,a,n,r,s,l){"use strict";function u(i){i.find(".js-default-single-group-picker").each(function(){var i=t(this),n=i.find("option[data-empty]"),r=!0===i.data("show-labels"),s=i.data("user-name");new e({element:this,itemAttrDisplayed:"label",revertOnInvalid:!0,ajaxOptions:{data:function(e){return{userName:s,query:e,exclude:i.val()}},url:o+"/rest/api/2/groups/picker",query:!0,formatResponse:function(e){var t=l.formatResponse(e,r);return n.length&&""!==i.val()&&t.unshift(new a({value:"",label:n.text(),highlighted:!0})),t}}})})}var o=i();s.bind(r.NEW_CONTENT_ADDED,function(e,t,i){i!==n.panelRefreshed&&u(t)})});;
;
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/init/init-group-pickers-webresource.js' */
require("jira/field/init-multi-group-pickers"),require("jira/field/init-single-group-pickers");;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/userPickerUtil.js' */
define("jira/field/user-picker-util",["jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jquery"],function(e,i,r){return{formatResponse:function(t){var a=[];return r(t).each(function(t,l){var s=new i({weight:t,label:l.footer});r(l.users).each(function(){s.addItem(new e({value:this.name,label:this.displayName,html:this.html,icon:this.avatarUrl,allowDuplicate:!1,highlighted:!0,userKey:this.key}))}),a.push(s)}),a}}}),AJS.namespace("JIRA.UserPickerUtil",null,require("jira/field/user-picker-util"));;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initSingleUserPickers.js' */
define("jira/field/init-single-user-pickers",["jquery","wrm/context-path","jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/user-picker-util","jira/util/formatter"],function(e,t,i,r,a,s,n,u){"use strict";function o(t){e(".js-default-user-picker",t).each(function(){var t=e(this);if(!t.data("aui-ss")){var r={showAvatar:!0},a=t.data("inputValue");new i({element:t,submitInputVal:!0,showDropdownButton:!!t.data("show-dropdown-button"),errorMessage:u.format("There is no user \'\'{0}\'\'.","'{0}'"),ajaxOptions:{url:l+"/rest/api/2/user/picker",query:!0,data:r,formatResponse:n.formatResponse},inputText:a})}})}var l=t();s.bind(a.NEW_CONTENT_ADDED,function(e,t,i){i!==r.panelRefreshed&&o(t)})});;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/NoBrowseUserNamePicker.js' */
define("jira/field/no-browser-user-name-picker",["require"],function(e){"use strict";var t=e("jquery"),r=e("jira/ajs/list/item-descriptor"),i=e("jira/ajs/select/multi-select"),a=e("jira/util/formatter"),n=e("wrm/context-path"),s=n();return i.extend({_getDefaultOptions:function(){return t.extend(!0,this._super(),{errorMessage:"The requested user does not exist.",showDropdownButton:!1,removeOnUnSelect:!0,itemAttrDisplayed:"label"})},_handleCharacterInput:function(){},_setSuggestions:function(){},_handleServerError:function(e){404===e.status?this.showErrorMessage():this._super()},_deactivate:function(){this.validateAndAdd()},validateAndAdd:function(){var e=this;""===t.trim(this.$field.val())?this.hideErrorMessage():t.ajax({url:s+"/rest/api/2/user",data:{username:t.trim(e.getQueryVal())},success:function(t){e.hideErrorMessage(),e.$field.val(""),e.addItem(new r({label:t.displayName,value:t.name}))},error:function(){e.showErrorMessage()}})},_handleSpace:function(){this.validate()},_handleServerSuggestions:function(){this.hideErrorMessage(),this.handleFreeInput()},handleFreeInput:function(){var e=t.trim(this.$field.val());""!==e&&(this.addItem({value:e,label:e}),this.model.$element.trigger("change")),this.$field.val("")},keys:{Return:function(e){e.preventDefault(),this.validateAndAdd()},Spacebar:function(e){e.preventDefault(),this.validateAndAdd()}}})}),AJS.namespace("AJS.NoBrowseUserNamePicker",null,require("jira/field/no-browser-user-name-picker"));;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initMultiUserPickers.js' */
define("jira/field/init-multi-user-pickers",["jquery","wrm/context-path","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/no-browser-user-name-picker","jira/field/user-picker-util"],function(e,t,r,i,n,s,a,u){function l(t){t.find(".js-default-multi-user-picker").each(function(){var t=e(this);AJS.params.currentUserCanBrowseUsers?new r({element:this,itemAttrDisplayed:"label",showDropdownButton:!1,removeOnUnSelect:!0,submitInputVal:!0,ajaxOptions:{url:o+"/rest/api/1.0/users/picker",query:!0,data:function(e){return{showAvatar:!0,query:e,exclude:t.val()}},formatResponse:u.formatResponse}}):new a({element:this})})}var o=t();s.bind(n.NEW_CONTENT_ADDED,function(e,t,r){r!==i.panelRefreshed&&l(t)})});;
;
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/init/init-user-pickers-webresource.js' */
require("jira/field/init-multi-user-pickers"),require("jira/field/init-single-user-pickers");;
;
/* module-key = 'jira.webresources:ie-imitation-placeholder', location = '/includes/jira/field/IEImitationPlaceholder.js' */
require(["jquery"],function(e){e.fn.ieImitationPlaceholder=function(){if(e.browser.msie){var a=function(){var a=e(this);""===a.val()&&(a.val(a.attr("placeholder")),a.addClass("input-placeholder"))},l=function(){var a=e(this);a.val()===a.attr("placeholder")&&(a.val(""),a.removeClass("input-placeholder"))},i=function(){t.each(l)},r=this,t=r.find("[placeholder]");t.focus(l),t.blur(a),r.submit(i),t.each(a)}}});;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/ProjectIssueTypeSelect.js' */
define("jira/field/project-issue-type-select",["jira/lib/class"],function(e){return e.extend({init:function(e){var s,t=this;this.$project=e.project,this.issueTypeSelect=e.issueTypeSelect,this.$projectIssueTypesSchemes=e.projectIssueTypesSchemes,this.$issueTypeSchemeIssueDefaults=e.issueTypeSchemeIssueDefaults,this.projectIssueTypeSchemes=JSON.parse(this.$projectIssueTypesSchemes.html()),this.issueTypesSchemeDefaults=JSON.parse(this.$issueTypeSchemeIssueDefaults.html()||"[]"),t.$project.length>0&&(s=t.$project.val(),t.setIssueTypeScheme(t.getIssueTypeSchemeForProject(s)),this.$project.change(function(){var e=t.$project.val();t.setIssueTypeScheme(t.getIssueTypeSchemeForProject(e))}))},getIssueTypeSchemeForProject:function(e){return this.projectIssueTypeSchemes[e]},getDefaultIssueTypeForScheme:function(e){return this.issueTypesSchemeDefaults[e]},setIssueTypeScheme:function(e){var s=this.issueTypeSelect.model.getValue();this.issueTypeSelect.model.setFilterGroup(e),this.issueTypeSelect.model.setSelected(s,!1)||this.setDefaultIssueType(e),this.issueTypeSelect.model.$element.data("project",this.$project.val())},setDefaultIssueType:function(e){var s=this.getDefaultIssueTypeForScheme(e),t=this.issueTypeSelect.model.getDescriptor(s);t||(t=this.issueTypeSelect.model.getAllDescriptors()[0]),this.issueTypeSelect.setSelection(t,!1)}})}),AJS.namespace("JIRA.ProjectIssueTypeSelect",null,require("jira/field/project-issue-type-select"));;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/initProjectIssueTypeSelect.js' */
define("jira/field/init-project-issue-type-select",["jira/ajs/select/suggestion-collection-model","jquery","jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/project-issue-type-select"],function(e,t,i,s,n,l,r){function c(s){var n=s||t("body");n.find(".issuetype-field").each(function(s){var l=n.find(".project-field, .project-field-readonly"),c=t(this),d=n.find("#"+c.attr("id")+"-projects"),o=n.find("#"+c.attr("id")+"-defaults"),a=new i({element:c,revertOnInvalid:!0,model:e});a.model.remove(""),l.length>0&&new r({project:l.eq(s),issueTypeSelect:a,projectIssueTypesSchemes:d,issueTypeSchemeIssueDefaults:o})})}l.bind(n.NEW_CONTENT_ADDED,function(e,t,i){i!==s.panelRefreshed&&c(t)})});;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/initProjectPickers.js' */
define("jira/field/init-project-pickers",["jira/ajs/select/scrollable-single-select","jira/ajs/select/suggestion-collection-model","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,n,t,l){function s(n){n.find(".project-field").each(function(){new e({element:this,revertOnInvalid:!0,pageSize:50,pagingThreshold:100,model:i})})}l.bind(t.NEW_CONTENT_ADDED,function(e,i,t){t!==n.panelRefreshed&&s(i)})});;
;
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/init/init-jira-project-issuetype-fields-webresource.js' */
require("jira/field/init-project-issue-type-select"),require("jira/field/init-project-pickers");;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/field-templates.soy' */
// This file was automatically generated from field-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Fields.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Fields == 'undefined') { JIRA.Templates.Fields = {}; }


JIRA.Templates.Fields.username = function(opt_data, opt_ignored) {
  return '' + ((opt_data.escape) ? soy.$$escapeHtml(opt_data.displayName) : soy.$$filterNoAutoescape(opt_data.displayName));
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.username.soyTemplateName = 'JIRA.Templates.Fields.username';
}


JIRA.Templates.Fields.recipientUsername = function(opt_data, opt_ignored) {
  return '<li data-username="' + soy.$$escapeHtml(opt_data.username) + '" title=' + soy.$$escapeHtml(opt_data.username) + '><span><span class="user-hover" rel="' + soy.$$escapeHtml(opt_data.username) + '"><img alt="" src="' + soy.$$escapeHtml(opt_data.icon) + '" title="' + JIRA.Templates.Fields.username(opt_data) + '"><span title="' + JIRA.Templates.Fields.username(opt_data) + '">' + JIRA.Templates.Fields.username(opt_data) + '</span></span>' + ((! opt_data.readOnly) ? '<button type="button" class="remove-recipient item-delete"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">' + soy.$$escapeHtml(AJS.format("Remove watcher: {0}",opt_data.username)) + '</span></button>' : '') + '</span></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.recipientUsername.soyTemplateName = 'JIRA.Templates.Fields.recipientUsername';
}


JIRA.Templates.Fields.recipientEmail = function(opt_data, opt_ignored) {
  return '<li data-email="' + soy.$$escapeHtml(opt_data.email) + '" title=' + soy.$$escapeHtml(opt_data.email) + '><span><img src="' + soy.$$escapeHtml(opt_data.icon) + '" title="' + soy.$$escapeHtml(opt_data.email) + '"><span title="' + soy.$$escapeHtml(opt_data.email) + '">' + soy.$$escapeHtml(opt_data.email) + '</span><span class="remove-recipient item-delete"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete"></span></span></span></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.recipientEmail.soyTemplateName = 'JIRA.Templates.Fields.recipientEmail';
}
;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/LabelPicker.js' */
define("jira/field/label-picker",["jira/util/formatter","jira/ajs/select/multi-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","wrm/context-path","jquery"],function(e,t,i,s,a,l){var n=a();return t.extend({_getDefaultOptions:function(){return l.extend(!0,this._super(),{ajaxOptions:{url:n+"/includes/js/ajs/layer/labeldata.js",query:!0,formatResponse:this._formatResponse},removeDuplicates:!0,removeOnUnSelect:!0,userEnteredOptionsMsg:"New Label"})},isValidItem:function(e){return!/\s/.test(e)},_handleServerSuggestions:function(e){e&&e.token&&l.trim(this.$field.val())!==e.token||this._super(e)},_handleSpace:function(){""!==l.trim(this.$field.val())&&this.handleFreeInput()&&this.hideSuggestions()},keys:{Spacebar:function(e){this._handleSpace(),e.preventDefault()}},_formatResponse:function(t){var a=new i({label:"Suggestions",type:"optgroup",styleClass:"labels-suggested"});return t&&t.suggestions&&l.each(t.suggestions,function(){a.addItem(new s({value:this.label,label:this.label,html:this.html,highlighted:!0}))}),[a]},handleFreeInput:function(){var e=l.trim(this.$field.val()).match(/\S+/g);if(e){for(var t,i=0;t=e[i];i++)this.addItem({value:t,label:t});this.model.$element.trigger("change")}this.$field.val("")}})}),AJS.namespace("AJS.LabelPicker",null,require("jira/field/label-picker")),AJS.namespace("JIRA.LabelPicker",null,require("jira/field/label-picker"));;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/LabelPickerFactory.js' */
define("jira/field/label-picker-factory",["jira/field/label-picker","jira/data/parse-options-from-fieldset","wrm/context-path","jquery","exports"],function(e,t,i,a,r){"use strict";r.createPicker=function(r,s){var d=t(r),l=a("#"+d.id,s),c=d.issueId,o={};/customfield_\d/.test(d.id)&&(o.customFieldId=parseInt(d.id.replace("customfield_",""),10)),new e({element:l,ajaxOptions:{url:i()+"/rest/api/1.0/labels"+(c?"/"+c:"")+"/suggest",data:o}})}});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/MultiUserListPicker.Item.js' */
define("jira/field/multi-user-list-picker/item",["jira/util/data/meta","jira/util/strings","jira/ajs/control","jquery"],function(e,t,i,n){"use strict";return i.extend({init:function(e){this._setOptions(e),this.$lozenge=this._render("item"),this.$removeButton=this.$lozenge.find(".remove-recipient"),this._assignEvents("instance",this),this._assignEvents("lozenge",this.$lozenge),this._assignEvents("removeButton",this.$removeButton),this.$lozenge.prependTo(this.options.container)},_getDefaultOptions:function(){return{label:null,title:null,container:null,focusClass:"focused"}},_renders:{item:function(){var i,s=this.options.descriptor;return!0!==s.noExactMatch()?(i={escape:!1,username:s.value(),icon:s.icon(),displayName:t.escapeHtml(s.label())},n(JIRA.Templates.Fields.recipientUsername(i))):(i={email:s.value(),icon:e.get("default-avatar-url")},n(JIRA.Templates.Fields.recipientEmail(i)))}},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(e){e.stopPropagation(),this.trigger("remove")}}}})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/MultiUserListPicker.js' */
define("jira/field/multi-user-list-picker",["jira/util/formatter","jira/field/multi-user-list-picker/item","jira/ajs/select/suggestions/user-list-suggest-handler","jira/ajs/select/multi-select","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/ajs/group","wrm/context-path","jquery"],function(e,t,i,r,s,n,a,l,u){"use strict";var o=l();return r.extend({init:function(r){function l(e){var t=[];return u(e).each(function(e,i){var r=new n({weight:e,label:i.footer});u(i.users).each(function(){r.addItem(new s({value:this.name,label:this.displayName,html:this.html,icon:this.avatarUrl,allowDuplicate:!1,highlighted:!0}))}),t.push(r)}),t}u.extend(r,{itemAttrDisplayed:"label",userEnteredOptionsMsg:"Email address",showDropdownButton:!1,removeOnUnSelect:!0,ajaxOptions:{url:o+"/rest/api/1.0/users/picker",query:!0,data:{showAvatar:!0},formatResponse:l},suggestionsHandler:i,itemGroup:new a,itemBuilder:function(e){return new t({descriptor:e,container:this.$selectedItemsContainer})}}),this._super(r)},_createFurniture:function(e){this._super(e),this.options.description&&this._render("description",this.options.description).insertAfter(this.$field)},updateItemsIndent:u.noop,_renders:{selectedItemsWrapper:function(){return u('<div class="recipients" />')},selectedItemsContainer:function(){return u("<ol />")},description:function(e){return u("<div />").addClass("description").text(e)}}})}),AJS.namespace("JIRA.MultiUserListPicker",null,require("jira/field/multi-user-list-picker")),AJS.namespace("JIRA.MultiUserListPicker.Item",null,require("jira/field/multi-user-list-picker/item"));;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initCascadingSelects.js' */
define("jira/field/init-cascading-selects",["jquery","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,n,t){function a(i){e(i||document.body).find("div.aui-field-cascadingselect").add("tr.aui-field-cascadingselect").add("td.aui-field-cascadingselect").each(function(){function i(){var i,n=t.find("option:selected").attr("class");n!==a&&(i=e("<span />").insertAfter(d),d.detach(),d.find("option").each(function(e,i){i.parentNode.removeChild(this)}),d.insertAfter(i),i.remove(),c.filter("."+t.find("option:selected").attr("class")).appendTo(d),s.hasClass(t.find("option:selected").attr("class"))?d.val(s.val()):d.val(d.find("option:first").val()),a=n)}var n=e(this),t=n.find(".cascadingselect-parent"),a=(t.find("option"),""),d=n.find(".cascadingselect-child"),c=d.find("option"),s=d.find(":selected");t.bind("cascadingSelectChanged",i).change(function(){e(this).trigger("cascadingSelectChanged")}).trigger("cascadingSelectChanged")})}t.bind(n.NEW_CONTENT_ADDED,function(e,n,t){t!==i.panelRefreshed&&a(n)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/ComponentPicker.js' */
define("jira/field/component-picker",["jira/util/formatter","jira/util/events","jira/ajs/select/suggestions/only-new-items-suggest-handler","jira/ajs/select/multi-select","underscore","jquery"],function(e,t,n,s,i,r){return s.extend({init:function(e){this._super(e),this.suggestionsHandler=new n(this.options,this.model)},_getDefaultOptions:function(t){var n=!1;return t&&t.element&&(n=r(t.element).data("create-permission")),n?r.extend(!0,this._super(),{userEnteredOptionsMsg:"New Component"}):this._super(t)},_selectionHandler:function(e,n){var s=this.model.getDisplayableSelectedDescriptors().concat(this.model.getDisplayableUnSelectedDescriptors()),r=e.data("descriptor");i.find(s,function(e){return e.label()===r.label()})||(r.properties.value="nv_"+r.value(),t.trigger("Issue.Component.new.selected",[r.value()])),this._super(e,n)}})}),AJS.namespace("JIRA.ComponentPicker",null,require("jira/field/component-picker"));;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initComponentPickers.js' */
define("jira/field/init-component-pickers",["jira/field/component-picker","jira/util/formatter","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,n,r,t,i,o){function l(r){new e({element:r,itemAttrDisplayed:"label",errorMessage:"{0} is not a valid component.",maxInlineResultsDisplayed:15,expandAllResults:!0})}function a(e){var n=o(e);return n.is("select")?n:n.find("select")}function c(e,n){n=n||s.join(", "),o(n,e).each(function(){var e=a(this);e.length&&l(e)})}var s=["div.aui-field-componentspicker.frother-control-renderer","td.aui-field-componentspicker.frother-control-renderer","tr.aui-field-componentspicker.frother-control-renderer"];r.bind(t.NEW_CONTENT_ADDED,function(e,n,r){r!==i.panelRefreshed&&c(n)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initMultiselectPickers.js' */
define("jira/field/init-multi-select-pickers",["jquery","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/util/formatter"],function(e,t,i,n,l,r){function s(e){new t({element:e,itemAttrDisplayed:"label",errorMessage:"{0} is not a valid value.",maxInlineResultsDisplayed:15,submitInputVal:!0,expandAllResults:!0})}function a(t){var i=e(t);return i.is("select")?i:i.find("select")}function u(t,i){i=i||c.join(", "),e(i,t).each(function(){var e=a(this);e.length&&s(e)})}var c=["div.aui-field-multiselectpicker.frother-control-renderer"];l.bind(n.NEW_CONTENT_ADDED,function(e,t,n){n!==i.panelRefreshed&&u(t)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initDatePickers.js' */
define("jira/field/init-date-pickers",["jquery","jira/data/parse-options-from-fieldset","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/libs/calendar"],function(e,i,t,d,a,n){"use strict";function r(t){e(t||document.body).find("div.aui-field-datepicker").add("tr.aui-field-datepicker").add("td.aui-field-datepicker").each(function(){function d(){r.prop("disabled",s.is(":checked"))}var a=e(this),r=a.find("input:text"),s=a.find("#useCurrentDate"),c=i(a.find("fieldset.datepicker-params"));c.context=t,n.setup(c),s.length&&(d(),s.click(d))})}a.bind(d.NEW_CONTENT_ADDED,function(e,i,d){d!==t.panelRefreshed&&r(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLegacyGroupPickers.js' */
define("jira/field/init-legacy-group-pickers",["jquery","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,r,t){function n(i){e(i||document.body).find("div.aui-field-grouppicker").add("tr.aui-field-grouppicker").add("td.aui-field-grouppicker").each(function(){function i(e){e.preventDefault(),window.open(n,"GroupPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes")}var r=e(this),t=r.find("a.grouppicker-trigger"),n=t.attr("href");t.click(i)})}t.bind(r.NEW_CONTENT_ADDED,function(e,r,t){t!==i.panelRefreshed&&n(r)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initIssuePickers.js' */
define("jira/field/init-issue-pickers",["jira/field/issue-picker","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery","jira/util/formatter"],function(e,i,n,t,s,r){function u(i){s(i||document.body).find(".aui-field-issuepicker").each(function(){new e({element:s(this),userEnteredOptionsMsg:"Enter issue key",uppercaseUserEnteredOnSelect:!0})})}i.bind(n.NEW_CONTENT_ADDED,function(e,i,n){n!==t.panelRefreshed&&u(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLabelPickers.js' */
define("jira/field/init-label-pickers",["jira/field/label-picker-factory","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,i,n,r,a){function t(e){var i=a(e);return i.is(c)?i:i.find(c)}function l(i,n){n=n||".aui-field-labelpicker",a(n,i).each(function(){var n=t(this);n.length>0&&e.createPicker(n,i)})}var c="fieldset.labelpicker-params";i.bind(n.NEW_CONTENT_ADDED,function(e,i,n){n!==r.panelRefreshed&&l(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/VersionPicker.js' */
define("jira/field/version-picker",["jira/util/formatter","jira/util/events","jira/ajs/select/suggestions/only-new-items-suggest-handler","jira/ajs/select/multi-select","underscore","jquery"],function(e,t,s,i,n,r){return i.extend({init:function(e){this._super(e),this.suggestionsHandler=new s(this.options,this.model)},_getDefaultOptions:function(t){var s=!1;return t&&t.element&&(s=r(t.element).data("create-permission")),s?r.extend(!0,this._super(),{userEnteredOptionsMsg:"New Version"}):this._super(t)},_selectionHandler:function(e,s){var i=this.model.getDisplayableSelectedDescriptors().concat(this.model.getDisplayableUnSelectedDescriptors()),r=e.data("descriptor");n.find(i,function(e){return e.label()===r.label()})||(r.properties.value="nv_"+r.value(),t.trigger("Issue.Version.new.selected",[r.value()])),this._super(e,s)}})}),AJS.namespace("JIRA.VersionPicker",null,require("jira/field/version-picker"));;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initVersionPickers.js' */
define("jira/field/init-version-pickers",["jira/field/version-picker","jira/util/formatter","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,i,n,r,t,s){function l(n){new e({element:n,itemAttrDisplayed:"label",removeOnUnSelect:!1,submitInputVal:!0,errorMessage:"{0} is not a valid version.",maxInlineResultsDisplayed:15,expandAllResults:!0})}function a(e){var i=s(e);return i.is("select")?i:i.find("select")}function o(e,i){i=i||".aui-field-versionspicker.frother-control-renderer",s(i,e).each(function(){var e=a(this);e.length&&l(e)})}n.bind(r.NEW_CONTENT_ADDED,function(e,i,n){n!==t.panelRefreshed&&o(i)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initCommentControls.js' */
define("jira/field/init-comment-controls",["jira/skate","jira/ajs/select/security-level-select","jira/wikipreview/wiki-preview"],function(e,i,t){e("jira-wikifield",{type:e.type.CLASSNAME,created:function(e){var i={fieldId:e.getAttribute("field-id"),trigger:e.querySelector(".wiki-preview").id,issueKey:e.getAttribute("issue-key"),rendererType:e.getAttribute("renderer-type")};t(i,e).init()}}),e("security-level",{type:e.type.CLASSNAME,created:function(e){var t=e.querySelector("#commentLevel");t&&new i(t)}})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLogWorkControls.js' */
define("jira/field/init-log-work-controls",["jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],function(e,t,a,i){function n(e,t){var a=i(e).find("#worklog-logworkcontainer"),n=i(e).find("#worklog-timetrackingcontainer"),d=i(e).find("#log-work-activate");t?(a.removeClass("hidden"),n.addClass("hidden"),d.prop("checked",!0)):(a.addClass("hidden"),n.removeClass("hidden"),d.prop("checked",!1))}function d(e){i("#log-work-adjust-estimate-new-value, #log-work-adjust-estimate-manual-value",e).attr("disabled","disabled"),i("#log-work-adjust-estimate-"+i("input[name=worklog_adjustEstimate]:checked,input[name=adjustEstimate]:checked",e).val()+"-value",e).removeAttr("disabled"),i("input[name=worklog_adjustEstimate],input[name=adjustEstimate]",e).change(function(){i("#log-work-adjust-estimate-new-value,#log-work-adjust-estimate-manual-value",e).attr("disabled","disabled"),i("#log-work-adjust-estimate-"+i(this).val()+"-value",e).removeAttr("disabled")}),i("#delete-log-work-adjust-estimate-new-value").change(function(){i("#delete-log-work-adjust-estimate-new").prop("checked",!0)}),i("#delete-log-work-adjust-estimate-manual-value").change(function(){i("#delete-log-work-adjust-estimate-manual").prop("checked",!0)}),i(e).find("#log-work-activate").change(function(){n(e,i(this).is(":checked"))})}e.bind(t.VALIDATE_TIMETRACKING,function(e,t){n(t,!0)}),e.bind(t.NEW_CONTENT_ADDED,function(e,t,i){i!==a.panelRefreshed&&d(t)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initPriorityPickers.js' */
define("jira/field/init-priority-pickers",["jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events"],function(e,i,n,t){function r(i){i.find("select#priority").each(function(i,n){new e({element:n,revertOnInvalid:!0})})}t.bind(n.NEW_CONTENT_ADDED,function(e,n,t){t!==i.panelRefreshed&&r(n)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initInlineAttach.js' */
define("jira/field/init-inline-attach",["jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery","jira/jquery/plugins/attachment/inline-attach"],function(i,n,t){"use strict";function e(i){i.find("input[type=file]:not('.ignore-inline-attach')").inlineAttach()}i.bind(n.NEW_CONTENT_ADDED,function(i,n,a){a!==t.panelRefreshed&&e(n)})});;
;
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/init/init-jira-fields-webresource.js' */
require("jira/field/init-cascading-selects"),require("jira/field/init-component-pickers"),require("jira/field/init-multi-select-pickers"),require("jira/field/init-date-pickers"),require("jira/field/init-legacy-group-pickers"),require("jira/field/init-issue-pickers"),require("jira/field/init-label-pickers"),require("jira/field/init-version-pickers"),require("jira/field/init-comment-controls"),require("jira/field/init-log-work-controls"),require("jira/field/init-priority-pickers"),require("jira/field/init-inline-attach");;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/issuecomponents.soy' */
// This file was automatically generated from issuecomponents.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issue == 'undefined') { JIRA.Templates.Issue = {}; }


JIRA.Templates.Issue.watchersWithBrowse = function(opt_data, opt_ignored) {
  var output = '<form action="#" method="post" class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a><fieldset><label class="js-add-watchers-label">' + soy.$$escapeHtml("Add Watchers") + '</label><div class="autocomplete-user-target"><select id="watchers" name="watchers" data-description="' + soy.$$escapeHtml("Start Typing for Users") + '" class="watchers-user-picker hidden" multiple="multiple">';
  var watcherList10 = opt_data.watchers;
  var watcherListLen10 = watcherList10.length;
  for (var watcherIndex10 = 0; watcherIndex10 < watcherListLen10; watcherIndex10++) {
    var watcherData10 = watcherList10[watcherIndex10];
    output += '<option style="background-image:url(\'' + soy.$$escapeHtml(watcherData10.avatarUrls['16x16']) + '\')" selected="selected" value="' + soy.$$escapeHtml(watcherData10.name) + '">' + soy.$$escapeHtml(watcherData10.displayName) + '</option>';
  }
  output += '</select></div></fieldset></form>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.watchersWithBrowse.soyTemplateName = 'JIRA.Templates.Issue.watchersWithBrowse';
}


JIRA.Templates.Issue.watchersNoBrowse = function(opt_data, opt_ignored) {
  var output = '<form action="#" method="post" class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a><fieldset><label for="watchers-multi-select">' + soy.$$escapeHtml("Add Watchers") + '</label><div><input type="text" class="text" id="watchers-nosearch" /><div class="description">' + soy.$$escapeHtml("Type username and press enter.") + '</div></div><div class="recipients"><ol class="watchers">';
  var watcherList28 = opt_data.watchers;
  var watcherListLen28 = watcherList28.length;
  for (var watcherIndex28 = 0; watcherIndex28 < watcherListLen28; watcherIndex28++) {
    var watcherData28 = watcherList28[watcherIndex28];
    output += JIRA.Templates.Fields.recipientUsername({username: watcherData28.name, icon: watcherData28.avatarUrls['16x16'], displayName: watcherData28.displayName, escape: true});
  }
  output += '</ol></div></fieldset></form>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.watchersNoBrowse.soyTemplateName = 'JIRA.Templates.Issue.watchersNoBrowse';
}


JIRA.Templates.Issue.error = function(opt_data, opt_ignored) {
  var output = '<p>' + soy.$$escapeHtml(opt_data.msg) + '</p><ul>';
  var messageList40 = opt_data.errors;
  var messageListLen40 = messageList40.length;
  for (var messageIndex40 = 0; messageIndex40 < messageListLen40; messageIndex40++) {
    var messageData40 = messageList40[messageIndex40];
    output += '<li>' + soy.$$escapeHtml(messageData40) + '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.error.soyTemplateName = 'JIRA.Templates.Issue.error';
}


JIRA.Templates.Issue.usersListReadOnly = function(opt_data, opt_ignored) {
  var output = '<form class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a><fieldset><div class="recipients"><ol class="voters">';
  var voterList50 = opt_data.users;
  var voterListLen50 = voterList50.length;
  for (var voterIndex50 = 0; voterIndex50 < voterListLen50; voterIndex50++) {
    var voterData50 = voterList50[voterIndex50];
    output += JIRA.Templates.Fields.recipientUsername({username: voterData50.name, icon: voterData50.avatarUrls['16x16'], displayName: voterData50.displayName, readOnly: true, escape: true});
  }
  output += '</ol></div></fieldset></form>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.usersListReadOnly.soyTemplateName = 'JIRA.Templates.Issue.usersListReadOnly';
}
;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/user-collection.js' */
define("jira/viewissue/watchers-voters/entities/user-collection",["require"],function(e){var r=e("jira/message"),s=e("backbone"),t=e("underscore"),o=e("jquery"),n=e("wrm/context-path"),i=e("jira/util/formatter"),a=JIRA.Templates.Issue,u=s.Model.extend({idAttribute:"key"});return s.Collection.extend({model:u,initialize:function(e){if(void 0===e)throw new Error("Must supply options");if(!e.issueKey)throw new Error("Must supply issue key");if(this.issueKey=e.issueKey,!e.endpoint)throw new Error("Must supply an endpoint");if(this.endpoint=e.endpoint,!e.modelKey)throw new Error("Must supply an model key");this.modelKey=e.modelKey},url:function(){return[n(),"rest/api/2/issue",this.issueKey,this.endpoint].join("/")},parse:function(e){return e&&e[this.modelKey]?e[this.modelKey]:[]},ajax:function(e){return e=t.extend({url:this.url(),headers:{"Content-Type":"application/json"},success:t.bind(function(){this.fetch()},this),error:t.bind(function(e){404!==e.status&&this.handleErrorResponse(e,"There was an error adding watcher")},this)},e),o.ajax(e)},getUser:function(e){return o.ajax({url:n()+"/rest/api/2/user?username="+encodeURIComponent(e),error:t.bind(function(e){404!==e.status&&this.handleErrorResponse(e,"There was an error adding watcher")},this)})},handleErrorResponse:function(e,s){var t=this._parseResponse(e.responseText);if(t.errorMessages){var o=a.error({msg:s,errors:t.errorMessages});r.showErrorMsg(o,{closeable:!0})}this.trigger("errorOccurred")},_parseResponse:function(e){try{return JSON.parse(e)}catch(e){return this._showFatalErrorMessage(),null}},_showFatalErrorMessage:function(){var e="<p>"+"Communications Breakdown"+"</p><p>"+"Close this dialog and press refresh in your browser"+"</p>";r.showErrorMsg(e,{closeable:!0})}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/voters-user-collection.js' */
define("jira/viewissue/watchers-voters/entities/voters-user-collection",["jira/viewissue/watchers-voters/entities/user-collection"],function(e){return e.extend({initialize:function(t){var i={issueKey:t,endpoint:"votes",modelKey:"voters"};e.prototype.initialize.apply(this,[i])},vote:function(){return this.ajax({type:"POST"})},unvote:function(){return this.ajax({type:"DELETE"})}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/watchers-user-collection.js' */
define("jira/viewissue/watchers-voters/entities/watchers-user-collection",["jira/viewissue/watchers-voters/entities/user-collection","jira/util/data/meta"],function(e,t){return e.extend({initialize:function(i){this.canBrowseUsers=t.get("can-search-users"),this.isReadOnly=!t.get("can-edit-watchers");var s={issueKey:i,endpoint:"watchers",modelKey:"watchers"};e.prototype.initialize.apply(this,[s])},addWatcher:function(e){return this.ajax({type:"POST",data:'"'+e+'"'})},removeWatcher:function(e){return this.ajax({type:"DELETE",url:this.url()+"?username="+e})}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/voters-view.js' */
define("jira/viewissue/watchers-voters/views/voters-view",["require"],function(e){var t=e("aui/message"),i=e("backbone"),r=e("underscore"),s=(e("jquery"),e("jira/jquery/deferred")),n=e("jira/util/formatter"),o=JIRA.Templates.Issue;return i.View.extend({$empty:void 0,initialize:function(e){this.collection=e.collection,this.collection.bind("replace reset add remove",this.render,this)},renderNoWatchers:function(){0===this.$(".recipients li").length?(this.$empty=t.info({closeable:!1,body:"There are no voters for this issue"}),this.$("fieldset").append(this.$empty)):this.$empty&&this.$empty.remove()},render:function(){var e=s();return this.collection.fetch().done(r.bind(function(){this.$el.html(o.usersListReadOnly({users:this.collection.toJSON()})),this.renderNoWatchers(),e.resolve(this.$el)},this)),e.promise()}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/abstract-watchers-view.js' */
define("jira/viewissue/watchers-voters/views/abstract-watchers-view",["require"],function(e){var t=e("aui/message"),i=e("backbone"),n=e("underscore"),r=e("jquery"),s=e("jira/jquery/deferred"),a=e("jira/util/formatter");return i.View.extend({$empty:void 0,renderNoWatchers:function(){0===this.$(".recipients li").length?(this.$empty=t.info({closeable:!1,body:"There are no watchers."}),this.$("fieldset").append(this.$empty)):this.$empty&&this.$empty.remove()},render:function(){var e=s();return this.collection.fetch().done(n.bind(function(){this._render(),this.renderNoWatchers(),e.resolve(this.$el),setTimeout(n.bind(function(){this.focus()},this),0)},this)),e.promise()},watch:function(){r("#watching-toggle").text("Stop watching this issue")},unwatch:function(){r("#watching-toggle").text("Start watching this issue")},focus:r.noop,_incrementWatcherCount:function(){var e=r("#watcher-data"),t=parseInt(e.text(),10);e.text(t+1),this.renderNoWatchers()},_decrementWatcherCount:function(){var e=r("#watcher-data"),t=parseInt(e.text(),10);e.text(t-1),this.renderNoWatchers()}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-view",["require"],function(e){var t=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),r=r,i=e("jira/util/data/meta"),a=e("underscore"),s=e("jira/util/logger"),r=e("jira/field/multi-user-list-picker"),c=JIRA.Templates.Issue;return t.extend({events:{selected:"addWatcherToModel",unselect:"removeWatcherFromModel"},_render:function(){this.$el.html(c.watchersWithBrowse({watchers:this.collection.toJSON()}));var e=new r({element:this.$el.find(".watchers-user-picker"),width:220});this.$el.find(".js-add-watchers-label").attr("for",e.$field.attr("id"))},focus:function(){this.$el.find("#watchers-textarea").focus()},addWatcherToModel:function(e,t){e.preventDefault(),this.collection.addWatcher(t.value()).done(a.bind(function(){this._incrementWatcherCount(),t.value()===i.get("remote-user")&&this.watch()},this))},removeWatcherFromModel:function(e,t){this.collection.removeWatcher(t.value()).done(a.bind(function(){this._decrementWatcherCount(),t.value()===i.get("remote-user")&&(this.unwatch(),s.trace("jira.issue.watcher.deleted"))},this))}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-no-browse-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-no-browse-view",["require"],function(e){var t=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),r=e("jira/util/data/meta"),a=e("underscore"),i=e("jquery"),s=e("jira/util/logger"),n=e("jira/util/formatter"),o=JIRA.Templates.Issue;return t.extend({events:{"click .remove-recipient":"removeWatcher",submit:"addWatcher"},addWatcher:function(e){e.preventDefault(),this.removeInlineError();var t=i("#watchers-nosearch"),s=i.trim(t.val());t.attr("disabled","disabled"),this.hasUsername(s)?(t.removeAttr("disabled"),this.showInlineError(n.format("User {0} is already watching this issue",s)),t.val("")):this.collection.getUser(s).done(a.bind(function(e){var a=JIRA.Templates.Fields.recipientUsername({icon:e.avatarUrls["16x16"],username:e.name,displayName:e.displayName});s===r.get("remote-user")&&this.watch(),t.val(""),this.$(".watchers").append(a),this.collection.addWatcher(e.name),this._incrementWatcherCount()},this)).fail(a.bind(function(e){404===e.status&&this.showInlineError("User does not exist")},this)).always(function(){t.removeAttr("disabled").focus()})},hasUsername:function(e){var t=!1;return this.$(".watchers li").each(function(){if(i(this).attr("data-username")===e)return t=!0,!1}),t},removeInlineError:function(){this.$(".error").remove()},showInlineError:function(e){i("<div />").addClass("error").text(e).insertAfter(this.$(".description"))},focus:function(){i("#watchers-nosearch").focus()},removeWatcher:function(e){e.preventDefault();var t=i(e.target).closest("li"),a=t.attr("data-username");a&&(t.remove(),this.collection.removeWatcher(a),this._decrementWatcherCount(),a===r.get("remote-user")&&this.unwatch()),s.trace("jira.issue.watcher.deleted")},_render:function(){this.$el.html(o.watchersNoBrowse({watchers:this.collection.toJSON()}))}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-read-only-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-read-only-view",["require"],function(e){var s=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),r=JIRA.Templates.Issue;return s.extend({_render:function(){this.$el.html(r.usersListReadOnly({users:this.collection.toJSON()}))}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-inline-dialog-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-inline-dialog-view",["require"],function(e){var t=e("backbone"),i=e("jira/skate"),n=t.View.prototype.setElement;return t.View.extend({id:"inline-dialog-watchers",events:{"click .cancel":function(e){e.preventDefault(),this.hide()}},setElement:function(e){var s=e instanceof t.$?e.get(0):e;if(s)return this.el&&this.el.parentNode&&this.el!==s&&this.el.parentNode.removeChild(this.el),n.call(this,s),i.init(this.el),this},contents:function(e){this.$el.find(".aui-inline-dialog-contents").html(e)},show:function(){this.el.setAttribute("open","")},hide:function(){this.el.removeAttribute("open")},isVisible:function(){return!!this.el.hasAttribute("open")}})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/watchers.js' */
define("jira/viewissue/watchers-voters/watchers",["require"],function(e){"use strict";function i(){return g||(g=new a({el:h("#inline-dialog-watchers").get(0)})),g}function s(e){return e.isReadOnly?n:e.canBrowseUsers?r:t}var n=e("jira/viewissue/watchers-voters/views/watchers-read-only-view"),t=e("jira/viewissue/watchers-voters/views/watchers-no-browse-view"),r=e("jira/viewissue/watchers-voters/views/watchers-view"),o=e("jira/viewissue/watchers-voters/entities/watchers-user-collection"),a=e("jira/viewissue/watchers-voters/views/watchers-inline-dialog-view"),c=e("jira/util/events"),l=e("jira/util/events/types"),w=e("jira/util/events/reasons"),u=e("jira/issue"),d=e("aui/inline-dialog"),v=e("jira/util/key-code"),h=e("jquery"),g=null;h(document).on("click","#view-watcher-list",function(e){e.preventDefault();var n=i(),t=h("#watching-toggle").next(".icon"),r=new o(u.getIssueKey());t.addClass("loading"),new(s(r))({collection:r}).render().done(function(e){t.removeClass("loading"),n.contents(e),n.show()}),r.on("errorOccurred",function(){n.hide()})}),h(document).on("keydown",function(e){g&&e.keyCode===v.ESCAPE&&d.current!==g.el&&g.isVisible()&&(d.current&&d.current.hide(),g.hide())}),h(document).on("click",function(e){if(g){0===h(e.target).closest("#inline-dialog-watchers, #watchers-suggestions").length&&g.isVisible()&&g.hide()}}),c.bind(l.NEW_CONTENT_ADDED,function(e,s,n){n===w.panelRefreshed&&s.is("#peoplemodule")&&i().setElement(s.find("#inline-dialog-watchers").get(0))})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/voters.js' */
define("jira/viewissue/watchers-voters/voters",["require"],function(e){"use strict";var i=e("jira/viewissue/watchers-voters/entities/voters-user-collection"),r=e("jira/viewissue/watchers-voters/views/voters-view"),t=e("jira/issue"),n=e("jira/ajs/layer/inline-layer"),s=e("aui/inline-dialog"),o=e("jira/util/key-code"),c=e("jquery"),u=s("#view-voter-list","voters",function(e,n,s){var o=c("#vote-toggle").next(".icon"),l=new i(t.getIssueKey());o.addClass("loading"),new r({collection:l}).render().done(function(i){e.html(i),e.find(".cancel").click(function(e){u.hide(),e.preventDefault()}),o.removeClass("loading"),s()}),l.on("errorOccurred",function(){u.hide()})},{width:240,useLiveEvents:!0,items:"#view-voters-list",preHideCallback:function(){return!n.current}});c(document).bind("keydown",function(e){e.keyCode===o.ESCAPE&&s.current!==u&&u.is(":visible")&&(s.current&&s.current.hide(),u.hide())}),c(document).click(function(e){var i=s.current;i&&"voters"===i.id&&(c(e.target).closest("#inline-dialog-voters").length||i.hide())})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/toggler.js' */
define("jira/viewissue/watchers-voters/toggler",["require"],function(t){var e=t("jira/ajs/ajax/smart-ajax"),a=t("jira/flag"),o=t("jquery"),n=t("wrm/context-path"),i=t("jira/util/formatter"),s=function(t,a,i,s,l){var c,u=a+"-on",g=a+"-off",f="/voters",d=t.next(".icon"),x="POST";t.hasClass(u)&&(x="DELETE"),-1!==a.indexOf("watch")&&(f="/watchers"),t.removeClass(u).removeClass(g),"POST"===x&&(c={dummy:!0}),o(e.makeRequest({url:n()+"/rest/api/1.0/issues/"+t.attr("rel")+f,type:x,dataType:"json",data:c,contentType:"application/json",complete:function(e,a,o){var n="POST"===x;o.successful?(n?(t.addClass(u),t.text(l.titleOn),s.attr("title",l.titleOn).text(l.textOn)):(t.addClass(g),t.text(l.titleOff),s.attr("title",l.titleOff).text(l.textOff)),i.text(o.data.count),i.toggleClass("jira-badge__primary",n)):(o.aborted||r(o),n?(t.addClass(g),t.text(l.titleOff),s.attr("title",l.titleOff).text(l.textOff)):(t.addClass(u),t.text(l.titleOn),s.attr("title",l.titleOn).text(l.textOn)))}})).throbber({target:d})},r=function(t){var o=e.buildSimpleErrorContent(t,{alert:!0});if(t.hasData){var n=JSON.parse(t.data);n.errorMessages&&(o=n.errorMessages[0])}a.showErrorMsg(o,{closeable:!0})};o(document).delegate("#toggle-vote-issue","click",function(t){t.preventDefault(),o("#vote-toggle").click()}),o(document).delegate("#toggle-watch-issue","click",function(t){t.preventDefault(),o("#watching-toggle").click()});var l=function(t){o("input[type=hidden][id|=error]").each(function(e,a){var o=a.id.replace("error-","");t[o]=a.value})};o(document).delegate("#vote-toggle","click",function(t){t.preventDefault();var e={titleOn:"Remove vote for this issue",titleOff:"Vote for this issue",textOn:"Remove vote",textOff:"Add vote",actionTextOff:"Vote",actionTextOn:"Voted"},a=o(this),n=o(document.querySelectorAll("#vote-data")),r=o(document.querySelectorAll("#toggle-vote-issue"));l(e),s(a,"vote-state",n,r,e)}),o(document).delegate("#watching-toggle","click",function(t){t.preventDefault();var e={titleOn:"Stop watching this issue",titleOff:"Start watching this issue",textOn:"Stop watching",textOff:"Watch issue",actionTextOff:"Watch",actionTextOn:"Watching"},a=o(this),n=o(document.querySelectorAll("#watcher-data")),r=o(document.querySelectorAll("#toggle-watch-issue"));l(e),s(a,"watch-state",n,r,e)})});;
;
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/initWatchersAndVoters.js' */
AJS.namespace("JIRA.VotersUsersCollection",null,require("jira/viewissue/watchers-voters/entities/voters-user-collection")),AJS.namespace("JIRA.WatchersUsersCollection",null,require("jira/viewissue/watchers-voters/entities/watchers-user-collection")),AJS.namespace("JIRA.VotersView",null,require("jira/viewissue/watchers-voters/views/voters-view")),AJS.namespace("JIRA.WatchersView",null,require("jira/viewissue/watchers-voters/views/watchers-view")),AJS.namespace("JIRA.WatchersNoBrowseView",null,require("jira/viewissue/watchers-voters/views/watchers-no-browse-view")),AJS.namespace("JIRA.WatchersReadOnly",null,require("jira/viewissue/watchers-voters/views/watchers-read-only-view"));;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/AnalyticsUtils.js' */
define("jira/viewissue/analytics-utils",["jira/util/data/meta","jira/issuenavigator/issue-navigator","jira/util/strings","wrm/context-path","jquery","exports"],function(n,t,e,i,r,s){function a(){return r(document.body).hasClass("navigator-issue-only")}function u(){return!!n.get("is-servicedesk-rendered")}function o(){return t.isNavigator()}function c(){return a()&&e.contains(location.search,"jql=")}function l(){return e.startsWith(location.pathname,i()+"/projects/")}s.context=function(){return c()?"fullscreen-issuenav":a()?"fullscreen":u()?"sd-queue":o()?"issuenav":l()?"project":"unknown"}});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/slideshow/slideshow-configuration.js' */
define("jira/viewissue/slideshow/slideshow-configuration",["jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jquery"],function(e,t){var i={type:"image",centerOnScroll:!0,onStart:e.disable,onClosed:e.enable};return t.extend({},i,{transitionIn:"elastic",transitionOut:"elastic"})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/element/image-wrap.js' */
define("jira/viewissue/element/image-wrap",["jira/fileviewer","jira/skate","jira/featureflags/feature-manager","underscore"],function(e,a,i,t){i.isFeatureEnabled("jira.fileviewer.disabled")||a("file-preview-type",{type:a.type.ATTRIBUTE,attached:t.debounce(function(){e.attachToElements()},0),detached:function(){e.closeViewer()}})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jquery/plugins/shorten/shorten.js' */
define("jira/ajs/shorten/shortener",["jira/util/formatter","jira/ajs/control","jira/data/local-storage","jquery"],function(t,e,i,n){return e.extend({_getDefaultOptions:function(){return{items:"a, span",numRows:1,shortenText:"hide",shortenOnInit:!0,persist:!0,expandButtonTooltip:"Click to view {0} more",collapseButtonTooltip:"Hide"}},init:function(t){"string"==typeof t&&(t={element:t}),t=t||{},this.options=n.extend(this._getDefaultOptions(),t),this._timerId=0,this.expanded=!1,this.$container=n(this.options.element),this._assignEvents("body",document.body),this._ready()},_isValid:function(){return!this.initialized&&this.$container.is(":visible")&&this.$container.children().length>0},_ready:function(){this._isValid()&&(this.$items=this.$container.children(this.options.items),this.$expandButton=this._render("expandButton"),this.$collapseButton=this._render("collapseButton"),this._assignEvents("expand-button",".shortener-expand"),this._assignEvents("collapse-button",".shortener-collapse"),(!n.browser.msie||n.browser.version>="9")&&this._assignEvents("resize-region",window),this._isCollapsedOnInit()?this.collapse():this.expand(),this.initialized=!0)},_renders:{expandButton:function(){return n("<a href='#' class='ellipsis shortener-expand'></a>").attr("title",this.options.expandButtonTooltip).add("<br>")},collapseButton:function(){return n("<a href='#' title='Hide' class='icon icon-hide shortener-collapse'></a>").append(n("<span>").text(this.options.collapseButtonTooltip))}},_events:{"expand-button":{click:function(t){t.currentTarget===this.$expandButton[0]&&(t.preventDefault(),this.expand(),this._saveState("expanded"))}},"collapse-button":{click:function(t){t.currentTarget===this.$collapseButton[0]&&(t.preventDefault(),this.collapse(),this._saveState("collapsed"),this.$container.scrollIntoView())}},"resize-region":{resize:function(){if(clearTimeout(this._timerId),!this.expanded){var t=this;this._timerId=setTimeout(function(){t.collapse()},400)}}},body:{tabSelect:function(){this._ready()}}},_saveState:function(t){try{i.setItem("AJS.Shortener#"+this.$container.closest("[id]").attr("id"),t)}catch(t){}},_loadState:function(){return i.getItem("AJS.Shortener#"+this.$container.closest("[id]").attr("id"))},_isCollapsedOnInit:function(){var t=this._loadState();return null!==t?"expanded"!==t:this.options.shortenOnInit},_removeButtons:function(){this.$expandButton.remove(),this.$collapseButton.remove()},_getOverflowIndex:function(){if(this.$items.length>1)for(var t=1,e=-1,i=0;i<this.$items.length;i++){var n=this.$items.eq(i).offset().left;if(n<=e&&++t>this.options.numRows)return i;e=n}return-1},expand:function(){this._removeButtons(),this._getOverflowIndex()>0&&(this.$collapseButton=this._render("collapseButton"),this.$container.append(this.$collapseButton),this.$container.css("height","auto"),n.browser.msie&&n.browser.version<"9"&&n("body").toggleClass("reflow")),this.expanded=!0},collapse:function(){this._removeButtons();var e=this._getOverflowIndex();if(e>0){this.$container.css({position:"absolute",visibility:"hidden",width:this.$container[0].clientWidth+"px"});var i=this.$expandButton.first();do{var s=this.$items.length-e;i.text("("+s+")"),this.$expandButton.insertBefore(this.$items[e]),e--;var o=this.$items.eq(e).offset(),r=this.$expandButton.offset();if(o.left<r.left&&r.top<o.top+10)break}while(e>0);var a=e<this.$items.length-1?this.$items.eq(e+1).offset().top-this.$container.offset().top+"px":"auto";this.$container.css({height:a,position:"static",visibility:"visible",width:"auto"}),i.attr("title",t.format(this.options.expandButtonTooltip,s)),n.browser.msie&&n.browser.version<"9"&&n("body").toggleClass("reflow")}else this.$container.css("height","auto");this.expanded=!1}})}),define("jira/jquery/plugins/shorten/shorten",["jira/ajs/shorten/shortener","jquery"],function(t,e){e.fn.shorten=function(e){var i=[];return e=e||{},this.each(function(){e.element=this,i.push(new t(e))}),i}}),AJS.namespace("AJS.Shortener",null,require("jira/ajs/shorten/shortener")),function(){require("jira/jquery/plugins/shorten/shorten")}();;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/element/shorten.js' */
define("jira/viewissue/element/shorten",["jira/ajs/shorten/shortener","jira/skate"],function(e,t){return t("shorten",{type:t.type.CLASSNAME,attached:function(t){var n={};n.element=t,new e(n)}})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initToggleBlock.js' */
define("jira/viewissue/init-toggle-block",["jira/util/events","jira/util/events/types","jira/toggleblock/toggle-block"],function(e,t,i){new i({blockSelector:".toggle-wrap",triggerSelector:"#issue-content .mod-header .toggle-title",storageCollectionName:"block-states"}),t.ISSUE_REFRESHED&&e.bind(t.ISSUE_REFRESHED,function(){t.REFRESH_TOGGLE_BLOCKS&&e.trigger(t.REFRESH_TOGGLE_BLOCKS)})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/comment/CommentForm.js' */
define("jira/viewissue/comment/comment-form",["jira/util/formatter","jira/util/events","jira/util/events/types","jira/ajs/ajax/smart-ajax","jira/issue","jira/dialog/form-dialog","wrm/context-path","jira/jquery/deferred","jquery"],function(e,t,i,n,o,r,s,a,m){var u=s(),c={setCaretAtEndOfCommentField:function(){var e,t=this.getField(),i=t[0];t.length&&(e=t.val().length,t.scrollTop(t.attr("scrollHeight")),i.setSelectionRange&&e>0&&i.setSelectionRange(e,e))},disable:function(){this.getForm().find("textarea").attr("readonly","readonly"),this.getForm().find("input[type=submit]").attr("disabled","disabled")},isDirty:function(){var e=this.getField();return!!e.length&&e[0].value!==e[0].defaultValue},handleBrowseAway:function(){if(c.isDirty()){var t=c.getForm();return t.length&&t.is(":visible")?"You have entered a comment on this issue. If you navigate away from this page without first saving, the comment will be lost.":void 0}},isVisibilityAvailble:function(){return"none"!=this.getForm().find("#commentLevel :selected").val()},setSubmitState:function(){m.trim(this.getField().val()).length>0&&this.isVisibilityAvailble()?this.getForm().find("#issue-comment-add-submit").removeAttr("disabled"):this.getForm().find("#issue-comment-add-submit").attr("disabled","disabled")},enable:function(){this.getForm().find("textarea").removeAttr("readonly"),this.getForm().find("input[type=submit]").removeAttr("disabled")},getCommentVisibility:function(){var e=this.getForm().find("#commentLevel :selected").val();if(e){return{type:e.split(":")[0],value:this.getForm().find("#commentLevel :selected").text()}}return null},ajaxSubmit:function(){var s=m('<span class="icon throbber loading"></span>'),d=o.getIssueId(),l=o.getIssueKey(),f=u+"/rest/api/2/issue/"+l+"/comment",g={body:this.getField()[0].value.replace(/\r?\n/g,"\r\n")},h=this.getCommentVisibility();h&&(g.visibility=h);var v=a(),p=m.ajax({url:f,type:"POST",contentType:"application/json",data:JSON.stringify(g),success:function(e){t.trigger(i.UNLOCK_PANEL_REFRESHING,["addcommentmodule"]),t.trigger(i.REFRESH_ISSUE_PAGE,[d,{complete:function(){var t="comment-"+e.id;m("#"+t).scrollIntoView({marginBottom:200,marginTop:200}),m("#issue_actions_container > .issue-data-block.focused").removeClass("focused"),m("#"+t).addClass("focused"),s.remove(),c.enable(),v.resolve()}}])},error:function(t){var i,o=m.parseJSON(t.responseText);i=o&&o.errors&&o.errors.comment?function(t){var i="<h2>"+"Error"+'</h2><div class="ajaxerror"><div class="aui-message error"><span class="aui-icon icon-warning"/>'+t+"</div></div>";return m(i)}(o.errors.comment):n.buildDialogErrorContent(t),new r({content:i}).show(),s.remove(),c.enable(),v.reject()}}),b=this.getForm().find("input[type=submit]").parent();return b.is(".wiki-button-bar-content")?s.css("margin-right","10px").prependTo(b):s.appendTo(b),m.when(p,v)},getForm:function(){var e=m("form#issue-comment-add");return 1===e.length&&(this.$form=e),this.$form||m()},getField:function(){return this.getForm().find("#comment")},getSubmitButton:function(){return this.getForm().find("#issue-comment-add-submit")},hide:function(e){e&&this.cancel(),this.getForm().detach(),i.UNLOCK_PANEL_REFRESHING&&t.trigger(i.UNLOCK_PANEL_REFRESHING,["addcommentmodule"])},show:function(){this.focus(),i.LOCK_PANEL_REFRESHING&&t.trigger(i.LOCK_PANEL_REFRESHING,["addcommentmodule"])},focus:function(){this.focusField(),this.setCaretAtEndOfCommentField()},focusField:function(){this.getField().focus().trigger("keyup"),this.getSubmitButton().scrollIntoView({marginBottom:200})},showNoCommentMsg:function(e){if(""===this.getField().val())return m("#emptyCommentErrMsg").show(),!0},cancel:function(){var e=this;setTimeout(function(){e.getField().val("")},100),m("#comment-preview_link.selected").click()}};return c}),define("jira/viewissue/comment/footer-comment",["jira/viewissue/comment/comment-form","jquery"],function(e,t){var i=!1,n=!1,o={getModule:function(){return t("#addcomment")},isActive:function(){return this.getModule().hasClass("active")},hide:function(t){if(this.isActive()){var o=e.handleBrowseAway();(n||i||!o||confirm(o))&&(this.getModule().removeClass("active"),e.hide(t))}},ajaxSubmit:function(){i=!0,e.ajaxSubmit().then(function(){o.hide(!0)})},show:function(){this.isActive()?e.focusField():(i=!1,this.getModule().addClass("active"),this.appendForm(),e.show())},appendForm:function(){this.getModule().find(".mod-content").append(e.getForm())}};return o.setPreviewMode=function(e){n=Boolean(e)},o});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initJiraFooterComment.js' */
define("jira/viewissue/init-comment-areas",["require"],function(e){var t=e("jira/viewissue/comment/comment-form"),n=e("jira/viewissue/comment/footer-comment"),i=e("jira/issue"),o=e("jquery"),m=e("jira/libs/parse-uri"),r=window.onbeforeunload,a={};a.openFooterComment=function(){n.show(),t.getForm().find("#commentLevel").bind("change",function(){t.setSubmitState()}),t.setSubmitState()},o(document).delegate("#addcomment #issue-comment-add","submit",function(e){n.ajaxSubmit(),e.preventDefault()}).delegate(".issue-header #comment-issue","click",function(e){n.show(),e.preventDefault()}).delegate("#footer-comment-button","click",function(e){a.openFooterComment(),e.preventDefault()}).delegate("#addcomment .cancel","click",function(e){e.preventDefault(),n.hide(!0)}).delegate("#issue-comment-add","submit",function(){window.setTimeout(function(){t.disable()},0)}).delegate("#issue-comment-add #comment","input",function(){t.setSubmitState()}).delegate("#issue-comment-add input[type='submit']","click",function(e){t.showNoCommentMsg()&&e.preventDefault()}).bind("showWikiInput",function(){n.setPreviewMode(!1);var e=t.getField();e.is(":visible:enabled")&&(i.getStalker().trigger("stalkerHeightUpdated"),e.length>0&&e.focus(),t.setCaretAtEndOfCommentField())}).bind("showWikiPreview",function(){n.setPreviewMode(!0),i.getStalker().trigger("stalkerHeightUpdated")}),window.onbeforeunload=function(){var e=void 0;return o.isFunction(r)&&(e=r.apply(this,arguments)),e||t.handleBrowseAway.apply(this,arguments)},o(function(){"add-comment"===m(window.location.href).anchor&&a.openFooterComment()})}),define("jira/viewissue/invoke-comment-trigger",["jquery"],function(e){return function(){var t=e(".add-issue-comment");if(0!==t.length){var n=t.filter(".toolbar-trigger");n.length>0?n.click():t.click()}}}),function(){var e=require("jira/viewissue/comment/comment-form");AJS.namespace("JIRA.Issue.CommentForm",null,e),AJS.namespace("JIRA.Issue.getDirtyCommentWarning",null,e.handleBrowseAway),AJS.namespace("JIRA.Issue.invokeCommentTrigger",null,require("jira/viewissue/invoke-comment-trigger"))}();;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initCustomFieldTabs.js' */
define("jira/viewissue/init-custom-field-tabs",["jira/util/logger","jira/util/events","jira/util/events/types","aui/tabs","jquery"],function(t,i,e,n,a){var r="#customfieldmodule",l=function(i){var e;"string"!=typeof i&&i.length>0||("#"!==i[0]&&(i="#"+i),t.log("activating tab",i),e=a("a[href='"+i+"']",r),e.length&&n.change(e))},u=function(t){var i=a(t.target).closest(".tabs-pane");i.length>0&&l(i.attr("id"))};a(function(){e.NEW_CONTENT_ADDED&&i.bind(e.NEW_CONTENT_ADDED,function(t,i){var e=i.find(r);e.unbind("reveal"),e.bind("reveal",u),n.setup()}),e.PANEL_REFRESHED&&i.bind(e.PANEL_REFRESHED,function(t,i,e,n){if("details-module"===i){var a=n.find(r).find(".active-tab");1===a.length&&l(a.find("a").attr("href"))}}),a(r).bind("reveal",u)})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initSubtaskTimeLogging.js' */
define("jira/viewissue/init-subtask-time-logging",["jquery"],function(i){i(document).delegate("#tt_include_subtasks input","click",function(t){i(this).is(":checked")?(i("#tt_info_single").hide(),i("#tt_info_aggregate").show()):(i("#tt_info_aggregate").hide(),i("#tt_info_single").show())})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/ViewIssueTabs.soy' */
// This file was automatically generated from ViewIssueTabs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issue.Tabs.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issue == 'undefined') { JIRA.Templates.Issue = {}; }
if (typeof JIRA.Templates.Issue.Tabs == 'undefined') { JIRA.Templates.Issue.Tabs = {}; }


JIRA.Templates.Issue.Tabs.label = function(opt_data, opt_ignored) {
  return '<a tabindex="0">' + soy.$$escapeHtml(opt_data.text) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.Tabs.label.soyTemplateName = 'JIRA.Templates.Issue.Tabs.label';
}


JIRA.Templates.Issue.Tabs.tab = function(opt_data, opt_ignored) {
  return '<a id="' + soy.$$escapeHtml(opt_data.id) + '" href="' + soy.$$escapeHtml(opt_data.href) + '" class="' + soy.$$escapeHtml(opt_data.linkClass) + '">' + soy.$$escapeHtml(opt_data.text) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.Tabs.tab.soyTemplateName = 'JIRA.Templates.Issue.Tabs.tab';
}
;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/ViewIssueTabsAnalytics.js' */
define("jira/viewissue/tabs/analytics",["jquery","jira/analytics","jira/util/strings","jira/viewissue/analytics-utils","underscore"],function(a,t,e,i,s){function n(a){return o.indexOf(a)>-1?a:e.hashCode(a)}function r(a){return{tab:n(a.attr("data-key")),tabPosition:a.index()}}function l(a,t){return{inNewWindow:a,keyboard:t,context:i.context()}}var o=["com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel","com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab"];return{tabClicked:function(a,e,i){var n=a.parent(),o=s.extend({},l(e,i),r(n));t.send({name:"jira.viewissue.tab.clicked",properties:o})},buttonClicked:function(a,e,i){if(a.is("[data-tab-sort]")){var n=a.data("order"),o=a.parents(".tabwrap").find("li.active");t.send({name:"jira.viewissue.tabsort.clicked",properties:s.extend({},l(e,i),r(o),{order:n})})}}}});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/ViewIssueTabs.js' */
define("jira/viewissue/tabs",["jira/util/logger","jira/util/formatter","jquery","jira/jquery/deferred","jira/util/data/meta","jira/dialog/form-dialog","jira/ajs/ajax/smart-ajax","jira/userhover/userhover","jira/viewissue/tabs/analytics"],function(t,e,a,i,n,r,s,o,u){function c(t){t=t||document,a.each(_,function(e,a){a(t)})}function l(t){var e=a(t).find(".issuePanelWrapper"),i=a(t).find("#issue_actions_container");k=i.length?i:k,C=e.length?e:C}function f(t,e){var a=new r({id:"issue-tab-error-dialog",widthClass:"small",content:s.buildDialogErrorContent(t,!1)});d(e),k.show(),a.show()}function d(t){a("#issue-tabs li").each(function(){var e=a(this),i=e.data("key"),n=e.data("label");if(i==t)e.addClass("active"),e.html(T.label({text:n}));else{e.removeClass("active");var r=e.data("id"),s=e.data("href");e.html(T.tab({id:r,href:s,linkClass:I,text:n}))}}),p(a("#issue-tabs"))}function h(t){d(t)}function v(t,e){var a=t.pageX,i=t.pageY,n=e.offset(),r=e.outerWidth(),s=e.outerHeight();return 0==a&&0==i||!(a>=n.left&&a<=n.left+r&&i>=n.top&&i<=n.top+s)}function p(t){var e=a(t).find("li.active").data("key");a(t).find(S).click(function(t){var i=a(this),n=v(t,i),r=i.parent().data("key"),s=t.metaKey;r?u.tabClicked(i,s,n):u.buttonClicked(i,s,n),s||(t.preventDefault(),r&&h(r),m(e,i.attr("href")).done(function(t){n&&(r?t.find("#"+i.attr("id")+" > :first-child").focus():t.find(".sortwrap  > :first-child").focus())}).done(c))})}function m(e,n){var r=i();q&&q.abort();var o=s.makeRequest({jqueryAjaxFn:R?a.pjax:a.ajax,headers:{"X-PJAX":!0},container:J,url:n,timeout:null,complete:function(i,n,s){if("abort"!=n){if(q=null,!s.successful)return void((s.status<300||s.status>=400)&&f(s,e));var o=a(this.container),u=document.createElement("div");u.innerHTML=s.data;var c=document.createDocumentFragment().appendChild(u);R||b(o,c),t.trace("jira.issue.tab.loaded"),r.resolve(o)}}});return a(o).throbber({target:C}),q=o,r}function b(t,e){var i=e.querySelectorAll(".tabwrap"),n=t.find(".tabwrap"),r=a(e.querySelectorAll("#issue_actions_container")).contents(),s=k.contents();if(i.length&&n.length&&r.length&&s.length){n.replaceWith(i),k.stop(!0,!0);var o=k.height();k.append(r);var u=k.height()-o,c=o-u;c>0?(k.css("height",u+c),s.remove(),g(u,c)):k.empty().append(r),a(e.querySelectorAll("script")).each(function(){a.globalEval(this.text||this.textContent||this.innerHTML||"")})}else t.empty().append(e)}function g(t,e){var a=Math.min(e/800*1e3,1e3);setTimeout(function(){k.animate({height:t+1},a,"easeOutQuart",function(){k.css("height","auto")})},150)}function j(t){a(t).find(S).each(function(){var t=a(this);t.attr("href",t.attr("href")+"#issue-tabs")})}function y(t){!R||a.support.pjax?p(t):j(t)}function w(t){a(t).bind("moveToFinished",function(t,e){a("a.twixi:visible",e).focus()})}function x(t){t.find("time.livestamp").livestamp()}function A(t){a.inArray(t,_)<0&&_.push(t)}var C,k,q,T=JIRA.Templates.Issue.Tabs,R=!1!==n.get("viewissue-use-history-api"),I="ajax-activity-content",J="#activitymodule div.mod-content",S=e.format("a.{0}",I),_=[];return A(l),A(y),A(w),A(o),A(x),{onTabReady:A,domReady:c}}),AJS.namespace("JIRA.ViewIssueTabs",null,require("jira/viewissue/tabs"));;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initViewIssueTabs.js' */
define("jira/viewissue/init-view-issue-tabs",["require"],function(i){var e=i("jquery"),n=i("jira/util/events"),s=i("jira/util/events/types"),t=i("jira/viewissue/tabs");e(function(){s.PANEL_REFRESHED&&n.bind(s.PANEL_REFRESHED,function(i,e,n,s){if("activitymodule"===e){var t=s.find("#issue_actions_container > .issue-data-block.focused");1===t.length&&n.find("#"+t.attr("id")).addClass("focused")}})}),n.bind(s.NEW_CONTENT_ADDED,function(i,e){t.domReady(e)})});;
;
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initViewissue.js' */
require(["jira/viewissue/element/shorten","jira/viewissue/element/image-wrap","jira/viewissue/watchers-voters/watchers","jira/viewissue/watchers-voters/voters","jira/viewissue/watchers-voters/toggler","jira/viewissue/init-comment-areas","jira/viewissue/init-subtask-time-logging","jira/viewissue/init-toggle-block","jira/viewissue/init-custom-field-tabs","jira/viewissue/init-view-issue-tabs"],function(){});;
;
/* module-key = 'com.atlassian.plugin.jslibs:marionette-1.4.1-factory', location = 'factories/marionette/1.4.1/marionette-1.4.1-factory.js' */
(function(e){define("atlassian/libs/factories/marionette-1.4.1",function(){return function(d,k){var g=k.Marionette;e.call({_:d,Backbone:k});var h=k.Marionette;h.VERSION="1.4.1";k.Marionette=g;return h}})})(function(){var e=this.Backbone,d=this._,k=function(a){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();d.each(a,this.add,this)};d.extend(k.prototype,{add:function(a,b){var f=a.cid;this._views[f]=a;a.model&&(this._indexByModel[a.model.cid]=f);b&&(this._indexByCustom[b]=
f);this._updateLength()},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){return this.findByCid(this._indexByModel[a])},findByCustom:function(a){return this.findByCid(this._indexByCustom[a])},findByIndex:function(a){return d.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var b=a.cid;a.model&&delete this._indexByModel[a.model.cid];d.any(this._indexByCustom,function(a,c){if(a===b)return delete this._indexByCustom[c],!0},this);
delete this._views[b];this._updateLength()},call:function(a){this.apply(a,d.tail(arguments))},apply:function(a,b){d.each(this._views,function(f){d.isFunction(f[a])&&f[a].apply(f,b||[])})},_updateLength:function(){this.length=d.size(this._views)}});d.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(a){k.prototype[a]=function(){var b=[d.values(this._views)].concat(d.toArray(arguments));
return d[a].apply(d,b)}});var g={},h=function(a){this.options=a;this._wreqrHandlers={};d.isFunction(this.initialize)&&this.initialize(a)};h.extend=e.Model.extend;d.extend(h.prototype,e.Events,{setHandlers:function(a){d.each(a,function(a,f){var c=null;d.isObject(a)&&!d.isFunction(a)&&(c=a.context,a=a.callback);this.setHandler(f,a,c)},this)},setHandler:function(a,b,f){this._wreqrHandlers[a]={callback:b,context:f};this.trigger("handler:add",a,b,f)},hasHandler:function(a){return!!this._wreqrHandlers[a]},
getHandler:function(a){var b=this._wreqrHandlers[a];if(!b)throw Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});g.Handlers=h;h=function(a){this.options=a;this._commands={};d.isFunction(this.initialize)&&this.initialize(a)};d.extend(h.prototype,e.Events,{getCommands:function(a){var b=this._commands[a];
b||(b={command:a,instances:[]},this._commands[a]=b);return b},addCommand:function(a,b){this.getCommands(a).instances.push(b)},clearCommands:function(a){this.getCommands(a).instances=[]}});g.CommandStorage=h;h=g.Handlers.extend({storageType:g.CommandStorage,constructor:function(a){this.options=a||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var b=Array.prototype.slice.call(arguments);g.Handlers.prototype.constructor.apply(this,b)},execute:function(a,b){a=
arguments[0];b=Array.prototype.slice.call(arguments,1);this.hasHandler(a)?this.getHandler(a).apply(this,b):this.storage.addCommand(a,b)},_executeCommands:function(a,b,f){var c=this.storage.getCommands(a);d.each(c.instances,function(a){b.apply(f,a)});this.storage.clearCommands(a)},_initializeStorage:function(a){a=a.storageType||this.storageType;this.storage=d.isFunction(a)?new a:a}});g.Commands=h;g.RequestResponse=g.Handlers.extend({request:function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,
1);return this.getHandler(a).apply(this,b)}});h=function(){};h.extend=e.Model.extend;d.extend(h.prototype,e.Events);g.EventAggregator=h;var l=function(a,b){var f=Error(a);f.name=b||"Error";throw f;},c={};e.Marionette=c;c.$=e.$;var i=Array.prototype.slice;c.extend=e.Model.extend;c.getOption=function(a,b){if(a&&b)return a.options&&b in a.options&&void 0!==a.options[b]?a.options[b]:a[b]};var p=function(a,b,f){return f.toUpperCase()},q=/(^|:)(\w)/gi;c.triggerMethod=function(a){var b=this["on"+a.replace(q,
p)];d.isFunction(this.trigger)&&this.trigger.apply(this,arguments);if(d.isFunction(b))return b.apply(this,d.tail(arguments))};var m=function(a){a._isShown&&a._isRendered&&d.isFunction(a.triggerMethod)&&a.triggerMethod("dom:refresh")};c.MonitorDOMRefresh=function(a){a.listenTo(a,"show",function(){a._isShown=!0;m(a)});a.listenTo(a,"render",function(){a._isRendered=!0;m(a)})};var r=function(a,b,f,c){c=c.split(/\s+/);d.each(c,function(c){var d=a[c];d||l("Method '"+c+"' was configured as an event handler, but does not exist.");
a.listenTo(b,f,d,a)})},s=function(a,b,c,d){a.listenTo(b,c,d,a)},t=function(a,b,c,j){j=j.split(/\s+/);d.each(j,function(d){a.stopListening(b,c,a[d],a)})},u=function(a,b,c,d){a.stopListening(b,c,d,a)},n=function(a,b,c,j,e){b&&c&&(d.isFunction(c)&&(c=c.call(a)),d.each(c,function(c,f){d.isFunction(c)?j(a,b,f,c):e(a,b,f,c)}))};c.bindEntityEvents=function(a,b,c){n(a,b,c,s,r)};c.unbindEntityEvents=function(a,b,c){n(a,b,c,u,t)};c.Callbacks=function(){this._deferred=c.$.Deferred();this._callbacks=[]};d.extend(c.Callbacks.prototype,
{add:function(a,b){this._callbacks.push({cb:a,ctx:b});this._deferred.done(function(c,d){b&&(c=b);a.call(c,d)})},run:function(a,b){this._deferred.resolve(b,a)},reset:function(){var a=this._callbacks;this._deferred=c.$.Deferred();this._callbacks=[];d.each(a,function(a){this.add(a.cb,a.ctx)},this)}});c.Controller=function(a){this.triggerMethod=c.triggerMethod;this.options=a||{};d.isFunction(this.initialize)&&this.initialize(this.options)};c.Controller.extend=c.extend;d.extend(c.Controller.prototype,
e.Events,{close:function(){this.stopListening();this.triggerMethod("close");this.unbind()}});c.Region=function(a){this.options=a||{};this.el=c.getOption(this,"el");if(!this.el){var b=Error("An 'el' must be specified for a region.");b.name="NoElError";throw b;}this.initialize&&(b=Array.prototype.slice.apply(arguments),this.initialize.apply(this,b))};d.extend(c.Region,{buildRegion:function(a,b){var c="string"===typeof a,j="string"===typeof a.selector,e="undefined"===typeof a.regionType,g="function"===
typeof a;if(!g&&!c&&!j)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");var h,i;c&&(h=a);a.selector&&(h=a.selector);g&&(i=a);!g&&e&&(i=b);a.regionType&&(i=a.regionType);c=new i({el:h});a.parentEl&&(c.getEl=function(b){var c=a.parentEl;d.isFunction(c)&&(c=c());return c.find(b)});return c}});d.extend(c.Region.prototype,e.Events,{show:function(a){this.ensureEl();var b=a.isClosed||d.isUndefined(a.$el),f=a!==this.currentView;f&&this.close();
a.render();(f||b)&&this.open(a);this.currentView=a;c.triggerMethod.call(this,"show",a);c.triggerMethod.call(a,"show")},ensureEl:function(){if(!this.$el||0===this.$el.length)this.$el=this.getEl(this.el)},getEl:function(a){return c.$(a)},open:function(a){this.$el.empty().append(a.el)},close:function(){var a=this.currentView;a&&!a.isClosed&&(a.close?a.close():a.remove&&a.remove(),c.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(a){this.currentView=a},reset:function(){this.close();
delete this.$el}});c.Region.extend=c.extend;var o=c.Controller.extend({constructor:function(a){this._regions={};c.Controller.prototype.constructor.call(this,a)},addRegions:function(a,b){var c={};d.each(a,function(a,e){"string"===typeof a&&(a={selector:a});a.selector&&(a=d.defaults({},a,b));var g=this.addRegion(e,a);c[e]=g},this);return c},addRegion:function(a,b){var f;f=d.isObject(b);var j=d.isString(b),e=!!b.selector;f=j||f&&e?c.Region.buildRegion(b,c.Region):d.isFunction(b)?c.Region.buildRegion(b,
c.Region):b;this._store(a,f);this.triggerMethod("region:add",a,f);return f},get:function(a){return this._regions[a]},removeRegion:function(a){this._remove(a,this._regions[a])},removeRegions:function(){d.each(this._regions,function(a,b){this._remove(b,a)},this)},closeRegions:function(){d.each(this._regions,function(a){a.close()},this)},close:function(){this.removeRegions();var a=Array.prototype.slice.call(arguments);c.Controller.prototype.close.apply(this,a)},_store:function(a,b){this._regions[a]=
b;this._setLength()},_remove:function(a,b){b.close();delete this._regions[a];this._setLength();this.triggerMethod("region:remove",a,b)},_setLength:function(){this.length=d.size(this._regions)}});d.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(a){o.prototype[a]=function(){var b=[d.values(this._regions)].concat(d.toArray(arguments));return d[a].apply(d,b)}});c.RegionManager=
o;c.TemplateCache=function(a){this.templateId=a};d.extend(c.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];b||(b=new c.TemplateCache(a),this.templateCaches[a]=b);return b.load()},clear:function(){var a,b=i.call(arguments),c=b.length;if(0<c)for(a=0;a<c;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}});d.extend(c.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=
this.compileTemplate(a)},loadTemplate:function(a){var b=c.$(a).html();(!b||0===b.length)&&l("Could not find template: '"+a+"'","NoTemplateError");return b},compileTemplate:function(a){return d.template(a)}});c.Renderer={render:function(a,b){if(!a){var d=Error("Cannot render the template since it's false, null or undefined.");d.name="TemplateNotFoundError";throw d;}return("function"===typeof a?a:c.TemplateCache.get(a))(b)}};c.View=e.View.extend({constructor:function(a){d.bindAll(this,"render");var b=
Array.prototype.slice.apply(arguments);this.options=d.extend({},this.options,a);this.events=this.normalizeUIKeys(d.result(this,"events"));e.View.prototype.constructor.apply(this,b);c.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:c.triggerMethod,getTemplate:function(){return c.getOption(this,"template")},mixinTemplateHelpers:function(a){var a=a||{},b=c.getOption(this,"templateHelpers");d.isFunction(b)&&(b=b.call(this));return d.extend(a,b)},normalizeUIKeys:function(a){if("undefined"!==
typeof a)return d.each(d.keys(a),function(b){var c=b.split("@ui.");2===c.length&&(a[c[0]+this.ui[c[1]]]=a[b],delete a[b])},this),a},configureTriggers:function(){if(this.triggers){var a={},b=this.normalizeUIKeys(d.result(this,"triggers"));d.each(b,function(b,c){var e=d.isObject(b),g=e?b.event:b;a[c]=function(a){if(a){var c=a.preventDefault,d=a.stopPropagation,j=e?b.stopPropagation:d;(e?b.preventDefault:c)&&c&&c.apply(a);j&&d&&d.apply(a)}this.triggerMethod(g,{view:this,model:this.model,collection:this.collection})}},
this);return a}},delegateEvents:function(a){this._delegateDOMEvents(a);c.bindEntityEvents(this,this.model,c.getOption(this,"modelEvents"));c.bindEntityEvents(this,this.collection,c.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(a){a=a||this.events;d.isFunction(a)&&(a=a.call(this));var b={},c=this.configureTriggers();d.extend(b,a,c);e.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=Array.prototype.slice.call(arguments);e.View.prototype.undelegateEvents.apply(this,
a);c.unbindEntityEvents(this,this.model,c.getOption(this,"modelEvents"));c.unbindEntityEvents(this,this.collection,c.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){!this.isClosed&&!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=d.result(this,"_uiBindings");this.ui={};d.each(d.keys(a),function(b){this.ui[b]=
this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(d.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)}});c.ItemView=c.View.extend({constructor:function(){c.View.prototype.constructor.apply(this,i.call(arguments))},serializeData:function(){var a={};this.model?a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON()});return a},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);
this.triggerMethod("item:before:render",this);var a=this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate(),a=c.Renderer.render(b,a);this.$el.html(a);this.bindUIElements();this.triggerMethod("render",this);this.triggerMethod("item:rendered",this);return this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),c.View.prototype.close.apply(this,i.call(arguments)),this.triggerMethod("item:closed"))}});c.CollectionView=c.View.extend({itemViewEventPrefix:"itemview",
constructor:function(a){this._initChildViewStorage();c.View.prototype.constructor.apply(this,i.call(arguments));this._initialEvents();this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment()},startBuffering:function(){this.initRenderBuffer();this.isBuffering=!0},endBuffering:function(){this.appendBuffer(this,this.elBuffer);this.initRenderBuffer();this.isBuffering=!1},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,
this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(a){this.closeEmptyView();var b=this.getItemView(a),c=this.collection.indexOf(a);this.addItemView(a,b,c)},onShowCalled:function(){this.children.each(function(a){c.triggerMethod.call(a,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",
this);this.triggerMethod("collection:rendered",this)},render:function(){this.isClosed=!1;this.triggerBeforeRender();this._renderChildren();this.triggerRendered();return this},_renderChildren:function(){this.startBuffering();this.closeEmptyView();this.closeChildren();this.collection&&0<this.collection.length?this.showCollection():this.showEmptyView();this.endBuffering()},showCollection:function(){var a;this.collection.each(function(b,c){a=this.getItemView(b);this.addItemView(b,a,c)},this)},showEmptyView:function(){var a=
this.getEmptyView();if(a&&!this._showingEmptyView){this._showingEmptyView=!0;var b=new e.Model;this.addItemView(b,a,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return c.getOption(this,"emptyView")},getItemView:function(){var a=c.getOption(this,"itemView");a||l("An `itemView` must be specified","NoItemViewError");return a},addItemView:function(a,b,f){var e=c.getOption(this,"itemViewOptions");d.isFunction(e)&&(e=
e.call(this,a,f));a=this.buildItemView(a,b,e);this.addChildViewEventForwarding(a);this.triggerMethod("before:item:added",a);this.children.add(a);this.renderItemView(a,f);this._isShown&&c.triggerMethod.call(a,"show");this.triggerMethod("after:item:added",a)},addChildViewEventForwarding:function(a){var b=c.getOption(this,"itemViewEventPrefix");this.listenTo(a,"all",function(){var d=i.call(arguments);d[0]=b+":"+d[0];d.splice(1,0,a);c.triggerMethod.apply(this,d)},this)},renderItemView:function(a,b){a.render();
this.appendHtml(this,a,b)},buildItemView:function(a,b,c){a=d.extend({model:a},c);return new b(a)},removeItemView:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},removeChildView:function(a){a&&(this.stopListening(a),a.close?a.close():a.remove&&a.remove(),this.children.remove(a));this.triggerMethod("item:removed",a)},checkEmpty:function(){(!this.collection||0===this.collection.length)&&this.showEmptyView()},appendBuffer:function(a,b){a.$el.append(b)},appendHtml:function(a,
b){a.isBuffering?a.elBuffer.appendChild(b.el):a.$el.append(b.el)},_initChildViewStorage:function(){this.children=new k},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),c.View.prototype.close.apply(this,i.call(arguments)))},closeChildren:function(){this.children.each(function(a){this.removeChildView(a)},this);this.checkEmpty()}});c.CompositeView=c.CollectionView.extend({constructor:function(){c.CollectionView.prototype.constructor.apply(this,
i.call(arguments))},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))})},getItemView:function(){var a=c.getOption(this,"itemView")||this.constructor;a||l("An `itemView` must be specified","NoItemViewError");return a},serializeData:function(){var a={};this.model&&(a=this.model.toJSON());
return a},render:function(){this.isRendered=!0;this.isClosed=!1;this.resetItemViewContainer();this.triggerBeforeRender();var a=this.renderModel();this.$el.html(a);this.bindUIElements();this.triggerMethod("composite:model:rendered");this._renderChildren();this.triggerMethod("composite:rendered");this.triggerRendered();return this},_renderChildren:function(){this.isRendered&&(c.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var a=
{},a=this.serializeData(),a=this.mixinTemplateHelpers(a),b=this.getTemplate();return c.Renderer.render(b,a)},appendBuffer:function(a,b){this.getItemViewContainer(a).append(b)},appendHtml:function(a,b){a.isBuffering?a.elBuffer.appendChild(b.el):this.getItemViewContainer(a).append(b.el)},getItemViewContainer:function(a){if("$itemViewContainer"in a)return a.$itemViewContainer;var b;(b=c.getOption(a,"itemViewContainer"))?(b=d.isFunction(b)?b():b,b=a.$(b),0>=b.length&&l("The specified `itemViewContainer` was not found: "+
a.itemViewContainer,"ItemViewContainerMissingError")):b=a.$el;return a.$itemViewContainer=b},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}});c.Layout=c.ItemView.extend({regionType:c.Region,constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);c.ItemView.prototype.constructor.call(this,a)},render:function(){this.isClosed&&this._initializeRegions();this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();
var a=Array.prototype.slice.apply(arguments);return c.ItemView.prototype.render.apply(this,a)},close:function(){if(!this.isClosed){this.regionManager.close();var a=Array.prototype.slice.apply(arguments);c.ItemView.prototype.close.apply(this,a)}},addRegion:function(a,b){var c={};c[a]=b;return this._buildRegions(c)[a]},addRegions:function(a){this.regions=d.extend({},this.regions,a);return this._buildRegions(a)},removeRegion:function(a){delete this.regions[a];return this.regionManager.removeRegion(a)},
_buildRegions:function(a){var b=this,d={regionType:c.getOption(this,"regionType"),parentEl:function(){return b.$el}};return this.regionManager.addRegions(a,d)},_initializeRegions:function(a){this._initRegionManager();a=d.isFunction(this.regions)?this.regions(a):this.regions||{};this.addRegions(a)},_reInitializeRegions:function(){this.regionManager.closeRegions();this.regionManager.each(function(a){a.reset()})},_initRegionManager:function(){this.regionManager=new c.RegionManager;this.listenTo(this.regionManager,
"region:add",function(a,b){this[a]=b;this.trigger("region:add",a,b)});this.listenTo(this.regionManager,"region:remove",function(a,b){delete this[a];this.trigger("region:remove",a,b)})}});c.AppRouter=e.Router.extend({constructor:function(a){e.Router.prototype.constructor.apply(this,i.call(arguments));this.options=a||{};var b=c.getOption(this,"appRoutes"),d=this._getController();this.processAppRoutes(d,b)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},processAppRoutes:function(a,
b){if(b){var c=d.keys(b).reverse();d.each(c,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return c.getOption(this,"controller")},_addAppRoute:function(a,b,c){var e=a[c];if(!e)throw Error("Method '"+c+"' was not found on the controller");this.route(b,c,d.bind(e,a))}});c.Application=function(a){this._initRegionManager();this._initCallbacks=new c.Callbacks;this.vent=new g.EventAggregator;this.commands=new g.Commands;this.reqres=new g.RequestResponse;this.submodules={};d.extend(this,
a);this.triggerMethod=c.triggerMethod};d.extend(c.Application.prototype,e.Events,{execute:function(){var a=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,a)},request:function(){var a=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,a)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("initialize:before",a);this._initCallbacks.run(a,this);this.triggerMethod("initialize:after",a);this.triggerMethod("start",
a)},addRegions:function(a){return this._regionManager.addRegions(a)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(a){this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},module:function(a,b){var d=i.call(arguments);d.unshift(this);return c.Module.create.apply(c.Module,d)},_initRegionManager:function(){this._regionManager=new c.RegionManager;this.listenTo(this._regionManager,"region:add",function(a,b){this[a]=b});this.listenTo(this._regionManager,
"region:remove",function(a){delete this[a]})}});c.Application.extend=c.extend;c.Module=function(a,b){this.moduleName=a;this.submodules={};this._setupInitializersAndFinalizers();this.app=b;this.startWithParent=!0;this.triggerMethod=c.triggerMethod};d.extend(c.Module.prototype,e.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(d.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),
this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,c.triggerMethod.call(this,"before:stop"),d.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),c.triggerMethod.call(this,"stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,
b){if(a){var f=d.flatten([this,this.app,e,c,c.$,d,b]);a.apply(this,f)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new c.Callbacks;this._finalizerCallbacks=new c.Callbacks}});d.extend(c.Module,{create:function(a,b,c){var e=a,g=i.call(arguments);g.splice(0,3);var b=b.split("."),h=[];h[b.length-1]=c;d.each(b,function(b,c){var d=e;e=this._getModule(d,b,a);this._addModuleDefinition(d,e,h[c],g)},this);return e},_getModule:function(a,b,d){var e=a[b];e||(e=new c.Module(b,d),a[b]=
e,a.submodules[b]=e);return e},_addModuleDefinition:function(a,b,c,e){var g;d.isFunction(c)?(g=c,c=!0):d.isObject(c)?(g=c.define,c=c.startWithParent):c=!0;g&&b.addDefinition(g,e);b.startWithParent=b.startWithParent&&c;b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}});c.Wreqr=g;c.ChildViewContainer=k});;
;
/* module-key = 'com.atlassian.plugin.jslibs:underscore-1.5.2', location = 'libs/underscore/1.5.2/underscore-1.5.2.js' */
(function(l){define("atlassian/libs/underscore-1.5.2",function(){var o={};l.call(o);return o._.noConflict()})})(function(){(function(){var l=this,o=l._,p={},k=Array.prototype,q=Object.prototype,t=k.push,i=k.slice,r=k.concat,m=q.toString,L=q.hasOwnProperty,A=k.forEach,B=k.map,C=k.reduce,D=k.reduceRight,E=k.filter,F=k.every,G=k.some,s=k.indexOf,H=k.lastIndexOf,q=Array.isArray,M=Object.keys,u=Function.prototype.bind,b=function(a){if(a instanceof b)return a;if(!(this instanceof b))return new b(a);this._wrapped=
a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=b),exports._=b):l._=b;b.VERSION="1.5.2";var j=b.each=b.forEach=function(a,c,d){if(a!=null)if(A&&a.forEach===A)a.forEach(c,d);else if(a.length===+a.length)for(var e=0,f=a.length;e<f;e++){if(c.call(d,a[e],e,a)===p)break}else for(var g=b.keys(a),e=0,f=g.length;e<f;e++)if(c.call(d,a[g[e]],g[e],a)===p)break};b.map=b.collect=function(a,c,b){var e=[];if(a==null)return e;if(B&&a.map===B)return a.map(c,b);
j(a,function(a,g,h){e.push(c.call(b,a,g,h))});return e};b.reduce=b.foldl=b.inject=function(a,c,d,e){var f=arguments.length>2;a==null&&(a=[]);if(C&&a.reduce===C){e&&(c=b.bind(c,e));return f?a.reduce(c,d):a.reduce(c)}j(a,function(a,b,N){if(f)d=c.call(e,d,a,b,N);else{d=a;f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};b.reduceRight=b.foldr=function(a,c,d,e){var f=arguments.length>2;a==null&&(a=[]);if(D&&a.reduceRight===D){e&&(c=b.bind(c,e));return f?a.reduceRight(c,
d):a.reduceRight(c)}var g=a.length;if(g!==+g)var h=b.keys(a),g=h.length;j(a,function(b,i,j){i=h?h[--g]:--g;if(f)d=c.call(e,d,a[i],i,j);else{d=a[i];f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};b.find=b.detect=function(a,c,b){var e;I(a,function(a,g,h){if(c.call(b,a,g,h)){e=a;return true}});return e};b.filter=b.select=function(a,c,b){var e=[];if(a==null)return e;if(E&&a.filter===E)return a.filter(c,b);j(a,function(a,g,h){c.call(b,a,g,h)&&e.push(a)});return e};
b.reject=function(a,c,d){return b.filter(a,function(a,b,g){return!c.call(d,a,b,g)},d)};b.every=b.all=function(a,c,d){c||(c=b.identity);var e=true;if(a==null)return e;if(F&&a.every===F)return a.every(c,d);j(a,function(a,b,h){if(!(e=e&&c.call(d,a,b,h)))return p});return!!e};var I=b.some=b.any=function(a,c,d){c||(c=b.identity);var e=false;if(a==null)return e;if(G&&a.some===G)return a.some(c,d);j(a,function(a,b,h){if(e||(e=c.call(d,a,b,h)))return p});return!!e};b.contains=b.include=function(a,c){return a==
null?false:s&&a.indexOf===s?a.indexOf(c)!=-1:I(a,function(a){return a===c})};b.invoke=function(a,c){var d=i.call(arguments,2),e=b.isFunction(c);return b.map(a,function(a){return(e?c:a[c]).apply(a,d)})};b.pluck=function(a,c){return b.map(a,function(a){return a[c]})};b.where=function(a,c,d){return b.isEmpty(c)?d?void 0:[]:b[d?"find":"filter"](a,function(a){for(var b in c)if(c[b]!==a[b])return false;return true})};b.findWhere=function(a,c){return b.where(a,c,true)};b.max=function(a,c,d){if(!c&&b.isArray(a)&&
a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!c&&b.isEmpty(a))return-Infinity;var e={computed:-Infinity,value:-Infinity};j(a,function(a,b,h){b=c?c.call(d,a,b,h):a;b>e.computed&&(e={value:a,computed:b})});return e.value};b.min=function(a,c,d){if(!c&&b.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!c&&b.isEmpty(a))return Infinity;var e={computed:Infinity,value:Infinity};j(a,function(a,b,h){b=c?c.call(d,a,b,h):a;b<e.computed&&(e={value:a,computed:b})});return e.value};
b.shuffle=function(a){var c,d=0,e=[];j(a,function(a){c=b.random(d++);e[d-1]=e[c];e[c]=a});return e};b.sample=function(a,c,d){return arguments.length<2||d?a[b.random(a.length-1)]:b.shuffle(a).slice(0,Math.max(0,c))};var v=function(a){return b.isFunction(a)?a:function(c){return c[a]}};b.sortBy=function(a,c,d){var e=v(c);return b.pluck(b.map(a,function(a,c,b){return{value:a,index:c,criteria:e.call(d,a,c,b)}}).sort(function(a,c){var b=a.criteria,d=c.criteria;if(b!==d){if(b>d||b===void 0)return 1;if(b<
d||d===void 0)return-1}return a.index-c.index}),"value")};var w=function(a){return function(c,d,e){var f={},g=d==null?b.identity:v(d);j(c,function(b,d){var i=g.call(e,b,d,c);a(f,i,b)});return f}};b.groupBy=w(function(a,c,d){(b.has(a,c)?a[c]:a[c]=[]).push(d)});b.indexBy=w(function(a,c,b){a[c]=b});b.countBy=w(function(a,c){b.has(a,c)?a[c]++:a[c]=1});b.sortedIndex=function(a,c,d,e){for(var d=d==null?b.identity:v(d),c=d.call(e,c),f=0,g=a.length;f<g;){var h=f+g>>>1;d.call(e,a[h])<c?f=h+1:g=h}return f};
b.toArray=function(a){return!a?[]:b.isArray(a)?i.call(a):a.length===+a.length?b.map(a,b.identity):b.values(a)};b.size=function(a){return a==null?0:a.length===+a.length?a.length:b.keys(a).length};b.first=b.head=b.take=function(a,c,b){return a==null?void 0:c==null||b?a[0]:i.call(a,0,c)};b.initial=function(a,c,b){return i.call(a,0,a.length-(c==null||b?1:c))};b.last=function(a,c,b){return a==null?void 0:c==null||b?a[a.length-1]:i.call(a,Math.max(a.length-c,0))};b.rest=b.tail=b.drop=function(a,b,d){return i.call(a,
b==null||d?1:b)};b.compact=function(a){return b.filter(a,b.identity)};var J=function(a,c,d){if(c&&b.every(a,b.isArray))return r.apply(d,a);j(a,function(a){b.isArray(a)||b.isArguments(a)?c?t.apply(d,a):J(a,c,d):d.push(a)});return d};b.flatten=function(a,b){return J(a,b,[])};b.without=function(a){return b.difference(a,i.call(arguments,1))};b.uniq=b.unique=function(a,c,d,e){if(b.isFunction(c)){e=d;d=c;c=false}var d=d?b.map(a,d,e):a,f=[],g=[];j(d,function(d,e){if(c?!e||g[g.length-1]!==d:!b.contains(g,
d)){g.push(d);f.push(a[e])}});return f};b.union=function(){return b.uniq(b.flatten(arguments,true))};b.intersection=function(a){var c=i.call(arguments,1);return b.filter(b.uniq(a),function(a){return b.every(c,function(c){return b.indexOf(c,a)>=0})})};b.difference=function(a){var c=r.apply(k,i.call(arguments,1));return b.filter(a,function(a){return!b.contains(c,a)})};b.zip=function(){for(var a=b.max(b.pluck(arguments,"length").concat(0)),c=Array(a),d=0;d<a;d++)c[d]=b.pluck(arguments,""+d);return c};
b.object=function(a,b){if(a==null)return{};for(var d={},e=0,f=a.length;e<f;e++)b?d[a[e]]=b[e]:d[a[e][0]]=a[e][1];return d};b.indexOf=function(a,c,d){if(a==null)return-1;var e=0,f=a.length;if(d)if(typeof d=="number")e=d<0?Math.max(0,f+d):d;else{e=b.sortedIndex(a,c);return a[e]===c?e:-1}if(s&&a.indexOf===s)return a.indexOf(c,d);for(;e<f;e++)if(a[e]===c)return e;return-1};b.lastIndexOf=function(a,b,d){if(a==null)return-1;var e=d!=null;if(H&&a.lastIndexOf===H)return e?a.lastIndexOf(b,d):a.lastIndexOf(b);
for(d=e?d:a.length;d--;)if(a[d]===b)return d;return-1};b.range=function(a,b,d){if(arguments.length<=1){b=a||0;a=0}for(var d=arguments[2]||1,e=Math.max(Math.ceil((b-a)/d),0),f=0,g=Array(e);f<e;){g[f++]=a;a=a+d}return g};var x=function(){};b.bind=function(a,c){var d,e;if(u&&a.bind===u)return u.apply(a,i.call(arguments,1));if(!b.isFunction(a))throw new TypeError;d=i.call(arguments,2);return e=function(){if(!(this instanceof e))return a.apply(c,d.concat(i.call(arguments)));x.prototype=a.prototype;var b=
new x;x.prototype=null;var g=a.apply(b,d.concat(i.call(arguments)));return Object(g)===g?g:b}};b.partial=function(a){var b=i.call(arguments,1);return function(){return a.apply(this,b.concat(i.call(arguments)))}};b.bindAll=function(a){var c=i.call(arguments,1);if(c.length===0)throw Error("bindAll must be passed function names");j(c,function(c){a[c]=b.bind(a[c],a)});return a};b.memoize=function(a,c){var d={};c||(c=b.identity);return function(){var e=c.apply(this,arguments);return b.has(d,e)?d[e]:d[e]=
a.apply(this,arguments)}};b.delay=function(a,b){var d=i.call(arguments,2);return setTimeout(function(){return a.apply(null,d)},b)};b.defer=function(a){return b.delay.apply(b,[a,1].concat(i.call(arguments,1)))};b.throttle=function(a,b,d){var e,f,g,h=null,i=0;d||(d={});var j=function(){i=d.leading===false?0:new Date;h=null;g=a.apply(e,f)};return function(){var k=new Date;!i&&d.leading===false&&(i=k);var K=b-(k-i);e=this;f=arguments;if(K<=0){clearTimeout(h);h=null;i=k;g=a.apply(e,f)}else!h&&d.trailing!==
false&&(h=setTimeout(j,K));return g}};b.debounce=function(a,b,d){var e,f,g,h,i;return function(){g=this;f=arguments;h=new Date;var j=function(){var k=new Date-h;if(k<b)e=setTimeout(j,b-k);else{e=null;d||(i=a.apply(g,f))}},k=d&&!e;e||(e=setTimeout(j,b));k&&(i=a.apply(g,f));return i}};b.once=function(a){var b=false,d;return function(){if(b)return d;b=true;d=a.apply(this,arguments);a=null;return d}};b.wrap=function(a,b){return function(){var d=[a];t.apply(d,arguments);return b.apply(this,d)}};b.compose=
function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;d>=0;d--)b=[a[d].apply(this,b)];return b[0]}};b.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}};b.keys=M||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var c=[],d;for(d in a)b.has(a,d)&&c.push(d);return c};b.values=function(a){for(var c=b.keys(a),d=c.length,e=Array(d),f=0;f<d;f++)e[f]=a[c[f]];return e};b.pairs=function(a){for(var c=b.keys(a),d=c.length,e=Array(d),f=0;f<
d;f++)e[f]=[c[f],a[c[f]]];return e};b.invert=function(a){for(var c={},d=b.keys(a),e=0,f=d.length;e<f;e++)c[a[d[e]]]=d[e];return c};b.functions=b.methods=function(a){var c=[],d;for(d in a)b.isFunction(a[d])&&c.push(d);return c.sort()};b.extend=function(a){j(i.call(arguments,1),function(b){if(b)for(var d in b)a[d]=b[d]});return a};b.pick=function(a){var b={},d=r.apply(k,i.call(arguments,1));j(d,function(d){d in a&&(b[d]=a[d])});return b};b.omit=function(a){var c={},d=r.apply(k,i.call(arguments,1)),
e;for(e in a)b.contains(d,e)||(c[e]=a[e]);return c};b.defaults=function(a){j(i.call(arguments,1),function(b){if(b)for(var d in b)a[d]===void 0&&(a[d]=b[d])});return a};b.clone=function(a){return!b.isObject(a)?a:b.isArray(a)?a.slice():b.extend({},a)};b.tap=function(a,b){b(a);return a};var y=function(a,c,d,e){if(a===c)return a!==0||1/a==1/c;if(a==null||c==null)return a===c;if(a instanceof b)a=a._wrapped;if(c instanceof b)c=c._wrapped;var f=m.call(a);if(f!=m.call(c))return false;switch(f){case "[object String]":return a==
String(c);case "[object Number]":return a!=+a?c!=+c:a==0?1/a==1/c:a==+c;case "[object Date]":case "[object Boolean]":return+a==+c;case "[object RegExp]":return a.source==c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase}if(typeof a!="object"||typeof c!="object")return false;for(var g=d.length;g--;)if(d[g]==a)return e[g]==c;var g=a.constructor,h=c.constructor;if(g!==h&&(!b.isFunction(g)||!(g instanceof g&&b.isFunction(h)&&h instanceof h)))return false;d.push(a);e.push(c);
g=0;h=true;if(f=="[object Array]"){g=a.length;if(h=g==c.length)for(;g--;)if(!(h=y(a[g],c[g],d,e)))break}else{for(var i in a)if(b.has(a,i)){g++;if(!(h=b.has(c,i)&&y(a[i],c[i],d,e)))break}if(h){for(i in c)if(b.has(c,i)&&!g--)break;h=!g}}d.pop();e.pop();return h};b.isEqual=function(a,b){return y(a,b,[],[])};b.isEmpty=function(a){if(a==null)return true;if(b.isArray(a)||b.isString(a))return a.length===0;for(var c in a)if(b.has(a,c))return false;return true};b.isElement=function(a){return!!(a&&a.nodeType===
1)};b.isArray=q||function(a){return m.call(a)=="[object Array]"};b.isObject=function(a){return a===Object(a)};j("Arguments Function String Number Date RegExp".split(" "),function(a){b["is"+a]=function(b){return m.call(b)=="[object "+a+"]"}});b.isArguments(arguments)||(b.isArguments=function(a){return!(!a||!b.has(a,"callee"))});"function"!==typeof/./&&(b.isFunction=function(a){return typeof a==="function"});b.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};b.isNaN=function(a){return b.isNumber(a)&&
a!=+a};b.isBoolean=function(a){return a===true||a===false||m.call(a)=="[object Boolean]"};b.isNull=function(a){return a===null};b.isUndefined=function(a){return a===void 0};b.has=function(a,b){return L.call(a,b)};b.noConflict=function(){l._=o;return this};b.identity=function(a){return a};b.times=function(a,b,d){for(var e=Array(Math.max(0,a)),f=0;f<a;f++)e[f]=b.call(d,f);return e};b.random=function(a,b){if(b==null){b=a;a=0}return a+Math.floor(Math.random()*(b-a+1))};var n={escape:{"&":"&amp;","<":"&lt;",
">":"&gt;",'"':"&quot;","'":"&#x27;"}};n.unescape=b.invert(n.escape);var O={escape:RegExp("["+b.keys(n.escape).join("")+"]","g"),unescape:RegExp("("+b.keys(n.unescape).join("|")+")","g")};b.each(["escape","unescape"],function(a){b[a]=function(b){return b==null?"":(""+b).replace(O[a],function(b){return n[a][b]})}});b.result=function(a,c){if(a!=null){var d=a[c];return b.isFunction(d)?d.call(a):d}};b.mixin=function(a){j(b.functions(a),function(c){var d=b[c]=a[c];b.prototype[c]=function(){var a=[this._wrapped];
t.apply(a,arguments);a=d.apply(b,a);return this._chain?b(a).chain():a}})};var P=0;b.uniqueId=function(a){var b=++P+"";return a?a+b:b};b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,Q={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;b.template=function(a,c,d){var e,d=b.defaults({},d,b.templateSettings),f=RegExp([(d.escape||z).source,(d.interpolate||z).source,(d.evaluate||
z).source].join("|")+"|$","g"),g=0,h="__p+='";a.replace(f,function(b,c,d,e,f){h=h+a.slice(g,f).replace(R,function(a){return"\\"+Q[a]});c&&(h=h+("'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"));d&&(h=h+("'+\n((__t=("+d+"))==null?'':__t)+\n'"));e&&(h=h+("';\n"+e+"\n__p+='"));g=f+b.length;return b});h=h+"';\n";d.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{e=new Function(d.variable||"obj",
"_",h)}catch(i){i.source=h;throw i;}if(c)return e(c,b);c=function(a){return e.call(this,a,b)};c.source="function("+(d.variable||"obj")+"){\n"+h+"}";return c};b.chain=function(a){return b(a).chain()};b.mixin(b);j("pop push reverse shift sort splice unshift".split(" "),function(a){var c=k[a];b.prototype[a]=function(){var d=this._wrapped;c.apply(d,arguments);(a=="shift"||a=="splice")&&d.length===0&&delete d[0];return this._chain?b(d).chain():d}});j(["concat","join","slice"],function(a){var c=k[a];b.prototype[a]=
function(){var a=c.apply(this._wrapped,arguments);return this._chain?b(a).chain():a}});b.extend(b.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:underscore', location = 'libs/underscore.js' */
define("jira/components/libs/underscore",["require"],function(a){return a("atlassian/libs/underscore-1.5.2")});;
;
/* module-key = 'com.atlassian.plugin.jslibs:backbone-1.0.0-factory', location = 'factories/backbone/1.0.0/backbone-1.0.0-factory.js' */
(function(k){define("atlassian/libs/factories/backbone-1.0.0",function(){return function(t,i){var p={_:t,$:i};k.call(p);return p.Backbone.noConflict()}})})(function(){var k=this,t=k.Backbone,i=[],p=i.push,u=i.slice,C=i.splice,g;g="undefined"!==typeof exports?exports:k.Backbone={};g.VERSION="1.0.0";var e=k._;!e&&"undefined"!==typeof require&&(e=require("underscore"));g.$=k.jQuery||k.Zepto||k.ender||k.$;g.noConflict=function(){k.Backbone=t;return this};g.emulateHTTP=!1;g.emulateJSON=!1;var h=g.Events=
{on:function(a,b,c){if(!q(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!q(this,"once",a,[b,c])||!b)return this;var d=this,f=e.once(function(){d.off(a,f);b.apply(this,arguments)});f._callback=b;return this.on(a,f,c)},off:function(a,b,c){var d,f,v,g,j,w,l,h;if(!this._events||!q(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;g=a?[a]:e.keys(this._events);
j=0;for(w=g.length;j<w;j++)if(a=g[j],v=this._events[a]){this._events[a]=d=[];if(b||c){l=0;for(h=v.length;l<h;l++)f=v[l],(b&&b!==f.callback&&b!==f.callback._callback||c&&c!==f.context)&&d.push(f)}d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=u.call(arguments,1);if(!q(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;c&&x(c,b);d&&x(d,arguments);return this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;
var f=!b&&!c;"object"===typeof b&&(c=this);a&&((d={})[a._listenerId]=a);for(var e in d)d[e].off(b,c,this),f&&delete this._listeners[e];return this}},y=/\s+/,q=function(a,b,c,d){if(!c)return!0;if("object"===typeof c){for(var f in c)a[b].apply(a,[f,c[f]].concat(d));return!1}if(y.test(c)){c=c.split(y);f=0;for(var e=c.length;f<e;f++)a[b].apply(a,[c[f]].concat(d));return!1}return!0},x=function(a,b){var c,d=-1,f=a.length,e=b[0],g=b[1],j=b[2];switch(b.length){case 0:for(;++d<f;)(c=a[d]).callback.call(c.ctx);
break;case 1:for(;++d<f;)(c=a[d]).callback.call(c.ctx,e);break;case 2:for(;++d<f;)(c=a[d]).callback.call(c.ctx,e,g);break;case 3:for(;++d<f;)(c=a[d]).callback.call(c.ctx,e,g,j);break;default:for(;++d<f;)(c=a[d]).callback.apply(c.ctx,b)}};e.each({listenTo:"on",listenToOnce:"once"},function(a,b){h[b]=function(b,d,f){var g=this._listeners||(this._listeners={}),o=b._listenerId||(b._listenerId=e.uniqueId("l"));g[o]=b;"object"===typeof d&&(f=this);b[a](d,f,this);return this}});h.bind=h.on;h.unbind=h.off;
e.extend(g,h);var n=g.Model=function(a,b){var c,d=a||{};b||(b={});this.cid=e.uniqueId("c");this.attributes={};e.extend(this,e.pick(b,D));b.parse&&(d=this.parse(d,b)||{});if(c=e.result(this,"defaults"))d=e.defaults({},d,c);this.set(d,b);this.changed={};this.initialize.apply(this,arguments)},D=["url","urlRoot","collection"];e.extend(n.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return e.clone(this.attributes)},sync:function(){return g.sync.apply(this,
arguments)},get:function(a){return this.attributes[a]},escape:function(a){return e.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,f,g,o,j,h,l;if(null==a)return this;"object"===typeof a?(f=a,c=b):(f={})[a]=b;c||(c={});if(!this._validate(f,c))return!1;g=c.unset;o=c.silent;a=[];j=this._changing;this._changing=!0;j||(this._previousAttributes=e.clone(this.attributes),this.changed={});l=this.attributes;h=this._previousAttributes;this.idAttribute in f&&(this.id=
f[this.idAttribute]);for(d in f)b=f[d],e.isEqual(l[d],b)||a.push(d),e.isEqual(h[d],b)?delete this.changed[d]:this.changed[d]=b,g?delete l[d]:l[d]=b;if(!o){a.length&&(this._pending=!0);b=0;for(d=a.length;b<d;b++)this.trigger("change:"+a[b],this,l[a[b]],c)}if(j)return this;if(!o)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,e.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=
void 0;return this.set(b,e.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!e.isEmpty(this.changed):e.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?e.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes,f;for(f in a)if(!e.isEqual(d[f],b=a[f]))(c||(c={}))[f]=b;return c},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return e.clone(this._previousAttributes)},
fetch:function(a){a=a?e.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d){if(!b.set(b.parse(d,a),a))return false;c&&c(b,d,a);b.trigger("sync",b,d,a)};r(this,a);return this.sync("read",this,a)},save:function(a,b,c){var d,f=this.attributes;null==a||"object"===typeof a?(d=a,c=b):(d={})[a]=b;if(d&&(!c||!c.wait)&&!this.set(d,c))return!1;c=e.extend({validate:!0},c);if(!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=e.extend({},f,d));void 0===c.parse&&(c.parse=
!0);var g=this,h=c.success;c.success=function(a){g.attributes=f;var b=g.parse(a,c);c.wait&&(b=e.extend(d||{},b));if(e.isObject(b)&&!g.set(b,c))return false;h&&h(g,a,c);g.trigger("sync",g,a,c)};r(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=d);a=this.sync(a,this,c);d&&c.wait&&(this.attributes=f);return a},destroy:function(a){var a=a?e.clone(a):{},b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(e){(a.wait||b.isNew())&&d();c&&
c(b,e,a);b.isNew()||b.trigger("sync",b,e,a)};if(this.isNew())return a.success(),!1;r(this,a);var f=this.sync("delete",this,a);a.wait||d();return f},url:function(){var a=e.result(this,"urlRoot")||e.result(this.collection,"url")||z();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},e.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;var a=e.extend({},this.attributes,a),c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,e.extend(b||{},{validationError:c}));return!1}});e.each("keys values pairs invert pick omit".split(" "),function(a){n.prototype[a]=function(){var b=u.call(arguments);b.unshift(this.attributes);return e[a].apply(e,b)}});var s=g.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&
(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,e.extend({silent:!0},b))},E={add:!0,remove:!0,merge:!0},F={add:!0,merge:!1,remove:!1};e.extend(s.prototype,h,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return g.sync.apply(this,arguments)},add:function(a,b){return this.set(a,e.defaults(b||{},F))},remove:function(a,b){a=e.isArray(a)?
a.slice():[a];b||(b={});var c,d,f,g;c=0;for(d=a.length;c<d;c++)if(g=this.get(a[c]))delete this._byId[g.id],delete this._byId[g.cid],f=this.indexOf(g),this.models.splice(f,1),this.length--,b.silent||(b.index=f,g.trigger("remove",g,this,b)),this._removeReference(g);return this},set:function(a,b){b=e.defaults(b||{},E);b.parse&&(a=this.parse(a,b));e.isArray(a)||(a=a?[a]:[]);var c,d,f,g,h,j=b.at,k=this.comparator&&null==j&&!1!==b.sort,l=e.isString(this.comparator)?this.comparator:null,i=[],m=[],n={};c=
0;for(d=a.length;c<d;c++)if(f=this._prepareModel(a[c],b))(g=this.get(f))?(b.remove&&(n[g.cid]=!0),b.merge&&(g.set(f.attributes,b),k&&(!h&&g.hasChanged(l))&&(h=!0))):b.add&&(i.push(f),f.on("all",this._onModelEvent,this),this._byId[f.cid]=f,null!=f.id&&(this._byId[f.id]=f));if(b.remove){c=0;for(d=this.length;c<d;++c)n[(f=this.models[c]).cid]||m.push(f);m.length&&this.remove(m,b)}i.length&&(k&&(h=!0),this.length+=i.length,null!=j?C.apply(this.models,[j,0].concat(i)):p.apply(this.models,i));h&&this.sort({silent:!0});
if(b.silent)return this;c=0;for(d=i.length;c<d;c++)(f=i[c]).trigger("add",f,this,b);h&&this.trigger("sort",this,b);return this},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);b.previousModels=this.models;this._reset();this.add(a,e.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,e.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-
1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,e.extend({at:0},b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return e.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var d in a)if(a[d]!==b.get(d))return!1;return!0})},findWhere:function(a){return this.where(a,
!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});e.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(e.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=e.isFunction(b)?b:function(a){return a.get(b)};return e.sortedIndex(this.models,a,d,c)},pluck:function(a){return e.invoke(this.models,"get",
a)},fetch:function(a){a=a?e.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(d){c[a.reset?"reset":"set"](d,a);b&&b(c,d,a);c.trigger("sync",c,d,a)};r(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?e.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;b.success=function(e){b.wait&&c.add(a,b);d&&d(a,e,b)};a.save(null,b);return a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},
_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof n)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var c=new this.model(a,b);return!c._validate(a,b)?(this.trigger("invalid",this,a,b),!1):c},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"===a||"remove"===a)&&c!==this||("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&
(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});e.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){s.prototype[a]=function(){var b=u.call(arguments);b.unshift(this.models);return e[a].apply(e,b)}});
e.each(["groupBy","countBy","sortBy"],function(a){s.prototype[a]=function(b,c){var d=e.isFunction(b)?b:function(a){return a.get(b)};return e[a](this.models,d,c)}});var i=g.View=function(a){this.cid=e.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},G=/^(\S+)\s*(.*)$/,H="model collection el id attributes className tagName events".split(" ");e.extend(i.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},
render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof g.$?a:g.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=e.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];e.isFunction(c)||(c=this[a[b]]);if(c){var d=b.match(G),f=d[1],d=d[2],c=e.bind(c,this),f=f+(".delegateEvents"+this.cid);
if(""===d)this.$el.on(f,c);else this.$el.on(f,d,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(a){this.options&&(a=e.extend({},e.result(this,"options"),a));e.extend(this,e.pick(a,H));this.options=a},_ensureElement:function(){if(this.el)this.setElement(e.result(this,"el"),!1);else{var a=e.extend({},e.result(this,"attributes"));this.id&&(a.id=e.result(this,"id"));this.className&&(a["class"]=e.result(this,"className"));a=g.$("<"+
e.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});g.sync=function(a,b,c){var d=I[a];e.defaults(c||(c={}),{emulateHTTP:g.emulateHTTP,emulateJSON:g.emulateJSON});var f={type:d,dataType:"json"};c.url||(f.url=e.result(b,"url")||z());if(null==c.data&&b&&("create"===a||"update"===a||"patch"===a))f.contentType="application/json",f.data=JSON.stringify(c.attrs||b.toJSON(c));c.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{});if(c.emulateHTTP&&("PUT"===
d||"DELETE"===d||"PATCH"===d)){f.type="POST";c.emulateJSON&&(f.data._method=d);var h=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d);if(h)return h.apply(this,arguments)}}"GET"!==f.type&&!c.emulateJSON&&(f.processData=!1);if("PATCH"===f.type&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled))f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")};a=c.xhr=g.ajax(e.extend(f,c));b.trigger("request",b,a,c);return a};var I=
{create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};g.ajax=function(){return g.$.ajax.apply(g.$,arguments)};var A=g.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},J=/\((.*?)\)/g,K=/(\(\?)?:\w+/g,L=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;e.extend(A.prototype,h,{initialize:function(){},route:function(a,b,c){e.isRegExp(a)||(a=this._routeToRegExp(a));e.isFunction(b)&&(c=b,b="");c||(c=this[b]);var d=this;g.history.route(a,
function(e){e=d._extractParameters(a,e);c&&c.apply(d,e);d.trigger.apply(d,["route:"+b].concat(e));d.trigger("route",b,e);g.history.trigger("route",d,b,e)});return this},navigate:function(a,b){g.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=e.result(this,"routes");for(var a,b=e.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(M,"\\$&").replace(J,"(?:$1)?").replace(K,function(a,c){return c?a:"([^/]+)"}).replace(L,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return e.map(c,function(a){return a?decodeURIComponent(a):null})}});var m=g.History=function(){this.handlers=[];e.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},B=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,O=/msie [\w.]+/,P=/\/$/;m.started=!1;e.extend(m.prototype,h,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:
""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){var a=this.location.pathname,c=this.root.replace(P,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(B,"")},start:function(a){if(m.started)throw Error("Backbone.history has already been started");m.started=!0;this.options=e.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;
this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);var a=this.getFragment(),b=document.documentMode,b=O.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(N,"/");b&&this._wantsHashChange&&(this.iframe=g.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)g.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&
!b)g.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&(this._hasPushState&&b&&a.hash)&&(this.fragment=this.getHash().replace(B,
""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){g.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);m.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&
this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return e.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!m.started)return!1;if(!b||!0===b)b={trigger:b};a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,
a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});g.history=new m;n.extend=s.extend=A.extend=i.extend=m.extend=function(a,b){var c=this,d;d=a&&e.has(a,"constructor")?a.constructor:function(){return c.apply(this,
arguments)};e.extend(d,c,b);var f=function(){this.constructor=d};f.prototype=c.prototype;d.prototype=new f;a&&e.extend(d.prototype,a);d.__super__=c.prototype;return d};var z=function(){throw Error('A "url" property or function must be specified');},r=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:backbone', location = 'libs/backbone.js' */
define("jira/components/libs/backbone",["require"],function(c){var a=c("atlassian/libs/factories/backbone-1.0.0");var b=c("jira/components/libs/underscore");var d=c("jquery");return a(b,d)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:ajs-helper', location = 'util/ajshelper.js' */
define("jira/components/utils/ajshelper",[],function(){var a=window.AJS;return{escapeHtml:a.escapeHtml.bind(a),LEFT:a.LEFT,Templates:a.Templates,HIDE_REASON:a.HIDE_REASON,trigger:a.trigger.bind(a),log:a.log.bind(a),extractBodyFromResponse:a.extractBodyFromResponse,whenIType:function(){return a.whenIType},activeShortcuts:function(){return a.activeShortcuts}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/marionette-1.4.1.js' */
define("jira/components/libs/marionette-1.4.1",["require"],function(b){var c=b("atlassian/libs/factories/marionette-1.4.1");var d=b("jira/components/libs/backbone");var a=b("jira/components/libs/underscore");return c(a,d)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/Mixins.js' */
define("jira/components/libs/marionette-1.4.1/mixins",["require"],function(b){var a=b("jira/components/libs/underscore");return{listenAndRethrow:function(d,c){c=[].concat(c);a.each(c,function(e){this.listenTo(d,e,function(){this.trigger.apply(this,[e].concat(a.toArray(arguments)))},this)},this)},triggerPreventable:function(d,c){var e=a.defaults({},c||{},{isPrevented:false,emitter:this,preventDefault:function(){this.isPrevented=true}});this.trigger(d,e);return e}}});AJS.namespace("JIRA.Marionette.Mixins",null,require("jira/components/libs/marionette-1.4.1/mixins"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/LinkRegion.js' */
define("jira/components/libs/marionette-1.4.1/linkregion",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1");return b.Region.extend({open:function(c){this.$el.append(c.$el.children());c.setElement(this.$el)}})});AJS.namespace("JIRA.Marionette.LinkRegion",null,require("jira/components/libs/marionette-1.4.1/linkregion"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/ReplaceRegion.js' */
define("jira/components/libs/marionette-1.4.1/replaceregion",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1");return b.Region.extend({open:function(c){this.$el.replaceWith(c.el)}})});AJS.namespace("JIRA.Marionette.ReplaceRegion",null,require("jira/components/libs/marionette-1.4.1/replaceregion"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/Controller.js' */
define("jira/components/libs/marionette-1.4.1/controller",["require"],function(c){var b=c("jira/components/libs/underscore");var e=c("jira/components/libs/marionette-1.4.1");var a=c("jira/components/libs/marionette-1.4.1/mixins");var d=e.Controller.extend({});b.extend(d.prototype,a);return d});AJS.namespace("JIRA.Marionette.Controller",null,require("jira/components/libs/marionette-1.4.1/controller"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/ItemView.js' */
define("jira/components/libs/marionette-1.4.1/itemview",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1");return b.ItemView.extend({renderTemplate:function(){var e=this.serializeData();e=this.mixinTemplateHelpers(e);var d=this.getTemplate();var c=b.Renderer.render(d,e);return b.$(c)},applyToDom:function(){this.delegateEvents();this.bindUIElements();this.triggerMethod("applyToDom")},unwrapTemplate:function(){if(this.$el.parent().length){var c=this.$el.children();this.$el.replaceWith(c);this.setElement(c)}else{this.setElement(this.$el.children())}}})});AJS.namespace("JIRA.Marionette.ItemView",null,require("jira/components/libs/marionette-1.4.1/itemview"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/CollectionView.js' */
define("jira/components/libs/marionette-1.4.1/collectionview",["require"],function(a){var c=a("jira/components/libs/marionette-1.4.1");var b=a("jira/components/libs/marionette-1.4.1/itemview");return c.CollectionView.extend({_appendHtmlWithIndex:function(d,g,e){var f=d.children();var h=f.length;if(e<=0){d.prepend(g.$el)}else{if(!h||e>=h){d.append(g.$el)}else{g.$el.insertBefore(f.eq(e))}}},appendHtml:function(d,f,e){this._appendHtmlWithIndex(d.$el,f,e)},unwrapTemplate:function(){b.prototype.unwrapTemplate.call(this)}})});AJS.namespace("JIRA.Marionette.CollectionView",null,require("jira/components/libs/marionette-1.4.1/collectionview"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/CompositeView.js' */
define("jira/components/libs/marionette-1.4.1/compositeview",["require"],function(a){var d=a("jira/components/libs/marionette-1.4.1");var b=a("jira/components/libs/marionette-1.4.1/collectionview");var c=a("jira/components/libs/marionette-1.4.1/itemview");return d.CompositeView.extend({appendHtml:function(e,g,f){b.prototype._appendHtmlWithIndex(this.getItemViewContainer(e),g,f)},unwrapTemplate:function(){c.prototype.unwrapTemplate.call(this)}})});AJS.namespace("JIRA.Marionette.CompositeView",null,require("jira/components/libs/marionette-1.4.1/compositeview"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/Layout.js' */
define("jira/components/libs/marionette-1.4.1/layout",["require"],function(c){var b=c("jira/components/libs/underscore");var e=c("jira/components/libs/marionette-1.4.1");var a=c("jira/components/libs/marionette-1.4.1/mixins");var d=e.Layout.extend({applyToDom:function(){this.delegateEvents();this.bindUIElements();this._reInitializeRegions();this.triggerMethod("applyToDom")}});b.extend(d.prototype,a);return d});AJS.namespace("JIRA.Marionette.Layout",null,require("jira/components/libs/marionette-1.4.1/layout"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/Application.js' */
define("jira/components/libs/marionette-1.4.1/application",["require"],function(b){var a=b("jira/components/libs/underscore");var c=b("jira/components/libs/marionette-1.4.1");return c.Application.extend({constructor:function(d){c.Application.call(this,d)},start:function(d){if(!d||d.forceStop!==false){this.stop()}c.Application.prototype.start.call(this,d)},stop:function(){a.invoke(this.submodules,"stop")}})});AJS.namespace("JIRA.Marionette.Application",null,require("jira/components/libs/marionette-1.4.1/application"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/AppModule.js' */
define("jira/components/libs/marionette-1.4.1/appmodule",["require"],function(d){var c=d("jira/components/libs/underscore");var e=d("jira/components/libs/marionette-1.4.1");var a=d("jira/components/libs/marionette-1.4.1/mixins");var b=function(){this.definition=c.bind(this.definition,this)};b.extend=e.extend;c.extend(b.prototype,{create:function(){throw new Error("create() must be implemented by AppModules")},generateMasterRequest:false,name:"",commands:{},requests:{},events:[],definition:function(g,i){var h=this.name;var f=this;if(!h){throw new Error("'name' must be defined by AppModules")}g.addInitializer(function(){var k=f.create.apply(f,c.toArray(arguments));function m(o){if(c.isFunction(o)){o=o(k)}var p={};c.each(o,function(r,q){if(r===true){r=c.bind(k[q],k)}if(q&&h){q=h+":"+q}else{q=h}p[q]=r});return p}function l(p,o){if(c.isFunction(o)){o=o(k)}c.each(o,function(r){var q=h+":"+r;p.listenTo(k,r,function(){this.trigger.apply(this,[q].concat(c.toArray(arguments)))})})}var j=m(f.commands);var n=m(f.requests);if(f.generateMasterRequest){c.extend(n,m({"":function(){return k}}))}i.commands.setHandlers(j);i.reqres.setHandlers(n);l(i,f.events)})}});c.extend(b.prototype,a);return b});AJS.namespace("JIRA.Marionette.AppModule",null,require("jira/components/libs/marionette-1.4.1/appmodule"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/DialogView.js' */
define("jira/components/libs/marionette-1.4.1/dialogview",["require"],function(e){var i=e("jira/components/libs/underscore");var h=e("jira/components/libs/marionette-1.4.1");var g=e("jira/components/libs/marionette-1.4.1/itemview");var b=e("aui/message");var d=e("jira/dialog/form-dialog");var j=e("jquery");var a=e("jira/ajs/ajax/smart-ajax");var f=e("jira/dialog/dialog");var c=e("jira/components/utils/ajshelper");return g.extend({dialog:null,template:j.noop,_generateDialog:function(){var m=this.serializeData();var l=this.getTemplate();var n={id:this.id,content:function(o){o(l(m))},submitHandler:i.bind(this._generateSubmissionXHR,this)};var k=h.getOption(this,"dialogOptions");if(i.isFunction(k)){k=k.apply(this)}return new d(i.extend(n,k))},render:function(){this.isClosed=false;this.triggerMethod("before:render",this);this.dialog=this._generateDialog();this.dialog.show();this.$el=this.dialog.get$popup();j(this.dialog).on("Dialog.hide",i.bind(function(m,k,l){if(l===f.HIDE_REASON.cancel||l===f.HIDE_REASON.escape){this.close()}},this));this.triggerMethod("render",this);return this},close:function(){if(this.isClosed){return}var k=this.triggerMethod("before:close");if(k===false){return}j(this.dialog).off("Dialog.hide");this.dialog.hide(true);this.dialog.destroy();this.isClosed=true;this.triggerMethod("close");this.remove()},_generateSubmissionXHR:function(o,k){o.preventDefault();var m=this.dialog.$form;var n=h.getOption(this,"formToRequestData");if(i.isFunction(n)){n=n.call(this,m)}var l=a.makeRequest({type:m.attr("method"),url:m.attr("action"),contentType:"application/json",dataType:"json",processData:false,data:JSON.stringify(n)}).done(k).done(i.bind(this._onSubmitSuccess,this)).fail(i.bind(this._onSubmitError,this));return l},_onSubmitSuccess:function(k){this.triggerMethod("submit:success",k);this.close()},_onSubmitError:function(k){this.dialog.getButtonsContainer().find("input").removeAttr("disabled");this.dialog.hideFooterLoadingIndicator();this.dialog.$form.removeClass("submitting");this._showErrorFromXHR(k);this.triggerMethod("submit:error")},_displayFieldErrors:function(l){var k=this.dialog.$popup;i.each(l,function(m,n){k.find("#"+n).after("<div class='error'>"+c.escapeHtml(m)+"</div>")})},_displayGenericErrors:function(l){var k=this.dialog.$popup.find(".aui-messages");i.each(l,function(n){var m={closeable:true,timeout:5};m.body=c.escapeHtml(n);m.shadowed=false;b.error(k,m)})},_displayXHRErrors:function(l){var k=this.dialog.$popup.find(".aui-messages");k.append(a.buildDialogErrorContent(l,true))},_showErrorFromXHR:function(l){this._removeErrorMessages();var m;try{m=JSON.parse(l.responseText)}catch(k){m=null}if(m){this._displayFieldErrors(m.errors);this._displayGenericErrors(m.errorMessages)}else{this._displayXHRErrors(l)}},_removeErrorMessages:function(){this.dialog.$popup.find(".error").remove();this.dialog.$popup.find(".aui-messages").empty()}})});AJS.namespace("JIRA.Marionette.DialogView",null,require("jira/components/libs/marionette-1.4.1/dialogview"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/InlineDialogView.js' */
define("jira/components/libs/marionette-1.4.1/inlinedialogview",["require"],function(b){var a=b("jira/components/libs/underscore");var f=b("jira/components/libs/marionette-1.4.1");var d=b("jira/components/libs/marionette-1.4.1/itemview");var e=b("jquery");var c=b("aui/inline-dialog");return d.extend({dialog:null,template:e.noop,_getDialogOptions:function(){var h={noBind:true};var g=f.getOption(this,"dialogOptions")||{};if(a.isFunction(g)){g=g.apply(this)}g=a.extend({},h,g);g.hideCallback=a.bind(function(){this.close()},this);return g},_getTrigger:function(){var g=f.getOption(this,"trigger");if(a.isFunction(g)){g=g.apply(this)}return g},_generateDialog:function(){var j=this.serializeData();var i=this.getTemplate();var h=this._getDialogOptions();var g=this._getTrigger();return new c(g,this.id,function(l,k,m){l.html(i(j));m()},h)},render:function(){this.isClosed=false;this.triggerMethod("before:render",this);this.dialog=this._generateDialog();this.$el=this.dialog;this.id=this.dialog.id;this.dialog.show();this.triggerMethod("render",this);return this},close:function(){if(this.isClosed){return}var g=this.triggerMethod("before:close");if(g===false){return}this.dialog.hide();this.isClosed=true;this.triggerMethod("close");this.remove()}})});AJS.namespace("JIRA.Marionette.InlineDialogView",null,require("jira/components/libs/marionette-1.4.1/inlinedialogview"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:lib', location = 'namespaces.js' */
JIRA.Components=JIRA.Components||{};JIRA.Issues=JIRA.Issues||{};JIRA.Events=JIRA.Events||{};;
;
/* module-key = 'com.atlassian.plugin.jslibs:brace-2014.09.03-factory', location = 'factories/brace/2014.09.03/brace-2104.09.03-factory.js' */
(function(j){define("atlassian/libs/factories/brace-2014.09.03",function(){return function(n,g){var c={_:n,Backbone:g};j.call(c);c=c.Brace.noConflict();c.VERSION="2014.09.03";return c}})})(function(){var j=this,n=j.Brace,g,c=j._,i=j.Backbone,o=function(a){return c.isArray(a)?c.reduce(a,function(b,a){b[a]=null;return b},{}):a},m=function(a,b){if(!a||null==b||a===String&&c.isString(b)||a===Number&&c.isNumber(b)||a===Boolean&&c.isBoolean(b))return b;if("string"===typeof a||a instanceof String){if(typeof b!==
""+a)throw"The typeof "+b+" is "+typeof b+" but expected it to be "+a;return b}if(c.isArray(a)||a===Array){if(!c.has(b,"length")||b instanceof String||c.has({string:1,"function":1},typeof b)||b instanceof i.Collection)throw"Array type expected, but nonnull, non-Array value provided.";return a===Array||!a[0]?b:c.map(b,c.bind(m,null,a[0]))}if("function"!==typeof a)throw"Invalid expected type "+a+". Should be falsy, String, Array, Backbone.Collection constructor, or function.";return b instanceof a?
b:p(a)?new a(m([a.model],b)):new a(b)},p=function(a,b){return a&&(a.__super__ instanceof(b||i.Collection)||a.__super__===(b||i.Collection).prototype||a===(b||i.Collection))},x=function(a,b){var d={};c.each(a,function(a,c){if(!b[c]||q(a,b[c]))d[c]=a;else if(a&&!q(b[c],a))throw c+" has conflicted type descriptors.";});return d},q=function(a,b){return!b||b===a?!0:!a||"string"===typeof a?!1:a instanceof Array?b===Array||b instanceof Array&&q(a[0],b[0]):"function"!==typeof b?!1:p(b)?p(a,b):a.prototype instanceof
b};g=function(a){var b=a.extend(),d=a.extend;b.extend=function w(a,b){var h,g=c.extend({},a),i;a&&a.mixins&&(i=a.mixins,delete g.mixins);h=d.call(this,g,b);this.prototype.namedEvents&&f.Mixins.applyMixin(h,{namedEvents:this.prototype.namedEvents});this.prototype.namedAttributes&&f.Mixins.applyMixin(h,{namedAttributes:this.prototype.namedAttributes});i&&c.each(a.mixins,function(a){f.Mixins.applyMixin(h,a)});h.prototype.namedEvents&&f.Mixins.applyMixin(h,f.EventsMixinCreator.create(h.prototype.namedEvents));
h.prototype.namedAttributes&&(h.prototype.namedAttributes=o(h.prototype.namedAttributes),f.Mixins.applyMixin(h,f.AttributesMixinCreator.create(h.prototype.namedAttributes,h.prototype.idAttribute)));if(h.prototype.toJSON){var j=h.prototype.toJSON;h.prototype.toJSON=function(){var a;a=j.call(this);a=c.isObject(a)?c.reduce(a,function(a,b,d){b&&c.isFunction(b.toJSON)?a[d]=b.toJSON():c.isArray(b)&&(a[d]=c.map(b,function(a){return a&&c.isFunction(a.toJSON)?a.toJSON():a}));return a},a):a;return a}}h.extend=
w;return h};return b};var f={Mixins:{createMethodName:function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)},applyMixin:function(a,b){c.forEach(c.keys(b),function(d){var e=a.prototype;if("initialize"===d){var f=e.initialize;e.initialize=function(){f&&f.apply(this,arguments);b.initialize.apply(this,arguments)}}else if("validate"===d){var g=e.validate;e.validate=function(){if(g){var a=g.apply(this,arguments);if(a)return a}return b.validate.apply(this,arguments)}}else if("defaults"===d){var e=
e.defaults||(e.defaults={}),d=b[d],k;for(k in d){if(e.hasOwnProperty(k))throw"Mixin error: class already has default '"+k+"' defined";e[k]=d[k]}}else if("namedAttributes"===d)k=o(e.namedAttributes)||{},d=o(b[d]),e.namedAttributes=c.extend(k,x(d,k));else if("namedEvents"===d){if(!c.isArray(b[d]))throw"Expects events member on mixin to be an array";e.namedEvents||(e.namedEvents=[]);e.namedEvents=c.uniq(e.namedEvents.concat(b[d]))}else{if(e.hasOwnProperty(d))throw"Mixin error: class already has property '"+
d+"' defined";e[d]=b[d]}},this)}}};f.AttributesMixinCreator={create:function(a,b){var d={};a||(a={});c.has(a,"id")||(a.id=null);c.each(a,function(a,b){var c=f.Mixins.createMethodName("set",b);d[c]=function(a,c){return this.set(b,a,c)};c=f.Mixins.createMethodName("get",b);d[c]=function(){return this.get(b)}});if("string"===typeof b&&"undefined"!==typeof a[b]&&"id"!==b){a.id=a[b];var e=f.Mixins.createMethodName("get",b),g=f.Mixins.createMethodName("set",b);d.getId=function(){return this[e]()};d.setId=
function(a,b){return this[g](a,b)}}return d},ensureType:m};f.EventsMixinCreator={create:function(a){var b={};c.each(a,c.bind(function(a){var e=f.Mixins.createMethodName("on",a);b[e]=function(){return this.on.apply(this,[a].concat(c.toArray(arguments)))};e=f.Mixins.createMethodName("trigger",a);b[e]=function(){return this.trigger.apply(this,[a].concat(c.toArray(arguments)))}},this));return b}};var l=f,r=i.Model,s=g(r),t=r.prototype,u=s.prototype,v=t.set;u.set=function(a,b,d){var e,f=this.namedAttributes;
if(!f||null==a)return v.apply(this,arguments);c.isObject(a)?(e=c.clone(a),d=b):(e={},e[a]=b);for(var g in e)if(c.has(e,g)){if(!c.has(f,g))throw"Attribute '"+g+"' does not exist";e[g]=m(f[g],e[g])}return v.call(this,e,d)};var y=t.get;u.get=function(a){if(this.namedAttributes&&!c.has(this.namedAttributes,a))throw"Attribute '"+a+"' does not exist";return y.apply(this,arguments)};var z=r.prototype.parse;s.prototype.parse=function(a,b){return c.pick(z(a,b),c.keys(this.namedAttributes))};l.Model=s;f.Collection=
g(i.Collection);f.View=g(i.View);f.Router=g(i.Router);l=function(){this.initialize.apply(this,arguments)};c.extend(l.prototype,i.Events,{initialize:function(){}});l.extend=i.Model.extend;f.Evented=g(l);g=f;g.noConflict=function(){j.Brace=n;return this};j.Brace=g});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:brace', location = 'libs/brace.js' */
define("jira/components/libs/brace",["require"],function(b){var c=b("atlassian/libs/factories/brace-2014.09.03");var d=b("jira/components/libs/backbone");var a=b("jira/components/libs/underscore");return c(a,d)});AJS.namespace("JIRA.Issues.Brace",null,require("jira/components/libs/brace"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:tipsy', location = 'lib/jquery.hoverIntent.min.js' */
// jshint ignore: start
/*eslint-disable*/
/**
* hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne brian(at)cherne(dot)net
*/
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev])}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev])};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)}if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)}}};return this.bind('mouseenter',handleHover).bind('mouseleave',handleHover)}})(jQuery);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:tipsy', location = 'util/TipsyView.js' */
define("jira/issues/tipsy",["require"],function(b){var a=b("jira/components/libs/underscore");var c=b("jira/components/libs/brace");var e=b("jquery");if(!e.fn.tooltip){e.fn.tooltip=e.noop;e.fn.tipsy=e.noop}var d=c.View.extend({events:{click:"hide"},initialize:function(f){if(a.isFunction(f.showCondition)){this.shouldShow=f.showCondition}else{if(f.showCondition){this.shouldShow=a.bind(function(){return this.$el.filter(f.showCondition).length>0},this)}else{this.shouldShow=function(){return true}}}this.tipsy=this.$el.tooltip(a.extend({trigger:"manual"},f.tipsy));this.hoverIntent(f.intents)},hoverIntent:function(f){if(this.tipsy){this.tipsy.hoverIntent(a.extend({interval:200,over:a.bind(this.show,this),out:a.bind(this.hide,this)},f))}return this},show:function(){if(this.shouldShow()&&this.tipsy){this.$el.tipsy("show")}},hide:function(){if(this.tipsy){this.$el.tipsy("hide")}},remove:function(){this.hide();this.$el.removeData("tipsy")}});d.revalidate=function(){return e.fn.tipsy.revalidate()};d.autoBounds=function(){return e.fn.tipsy.autoBounds.apply(e.fn.tipsy,arguments)};return d});AJS.namespace("JIRA.Issues.Tipsy",null,require("jira/issues/tipsy"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'util/jquery/CatchExceptions.js' */
(function(b){var a=function(c){return function(){try{c.apply(this,arguments)}catch(d){}return this}};b.fn.htmlCatchExceptions=a(b.fn.html);b.fn.appendCatchExceptions=a(b.fn.append);b.fn.prependCatchExceptions=a(b.fn.prepend);b.catchExceptions=function(c){return b("<div>").htmlCatchExceptions(c).children()}})(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'util/jquery/RecurringPromise.js' */
(function(){jQuery.RecurringPromise=function(a){if(!(this instanceof jQuery.RecurringPromise)){return new jQuery.RecurringPromise()}this._parent=a;this._doneCallbacks=new jQuery.Callbacks();this._failCallbacks=new jQuery.Callbacks();this._alwaysCallbacks=new jQuery.Callbacks()};jQuery.RecurringPromise.prototype={add:function(b){var a=new jQuery.Deferred();a.original=b;var c=this._getPending();this._abortIfPending(c);this._setPending(a);b.done(_.bind(function(){if(a===this._getPending()){a.resolveWith(this,arguments);this._doneCallbacks.fireWith(this,arguments)}},this));b.fail(_.bind(function(){if(a===this._getPending()){a.rejectWith(this,arguments);this._failCallbacks.fireWith(this,arguments)}},this));b.always(_.bind(function(){if(a===this._getPending()){this._alwaysCallbacks.fireWith(this,arguments)}},this));return a.promise()},done:function(a){this._doneCallbacks.add(a);return this},fail:function(a){this._failCallbacks.add(a);return this},always:function(a){this._alwaysCallbacks.add(a);return this},reset:function(){this._abortIfPending(this._getPending());this._setPending(null)},sub:function(){return new jQuery.RecurringPromise(this)},_getPending:function(){return this._parent?this._parent._getPending():this._pending},_setPending:function(a){if(this._parent){this._parent._setPending(a)}else{this._pending=a}},_abortIfPending:function(a){if(a&&a.state()==="pending"){a.reject("abort");if(jQuery.isFunction(a.original.abort)){a.original.abort()}}}}}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'util/jquery/ConcurrentDeferred.js' */
jQuery.ConcurrentDeferred=function(c){var b=new jQuery.Deferred();var d;var a=function(e){d=e;e.done(function(){if(d===e){b.resolve.apply(b,arguments)}}).fail(function(){if(d===e){b.reject.apply(b,arguments)}})};a(c);jQuery.extend(b,{update:function(e){if(!this.isPending()){throw"Cannot update non-pending ConcurrentDeferred"}var f=d;a(e);if(jQuery.isFunction(f.abort)){f.abort()}return this},isPending:function(){return this.state()==="pending"}});return b};;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'util/jquery/ScrollLock.js' */
(function(b){var a=30;b.fn.scrollLock=function(c,d){if(typeof c!=="string"){d=c;c=null}if(!d){d=a}this.on("DOMMouseScroll mousewheel",c,function(f){f.preventDefault();var g;if(f.originalEvent.wheelDelta){g=f.originalEvent.wheelDelta/120}if(f.originalEvent.detail){g=-f.originalEvent.detail/3}if(b.isNumeric(g)){this.scrollTop-=g*d}})}})(AJS.$);;
;
/* module-key = 'com.atlassian.plugin.jslibs:uri-1.14.1', location = 'libs/uri/1.14.1/uri-1.14.1.js' */
(function(n){define("atlassian/libs/uri-1.14.1",function(){var q={};n.call(q);return q.URI.noConflict()})})(function(){var n=this.punycode,q=this.IPv6,p=this.SecondLevelDomains,k=this,e=function(a,b){if(!(this instanceof e))return new e(a,b);void 0===a&&(a="undefined"!==typeof location?location.href+"":"");this.href(a);return void 0!==b?this.absoluteTo(b):this},o=function(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},t=function(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,
-1)},j=function(a){return"Array"===t(a)},s=function(a,b){var c,e;if(j(b)){c=0;for(e=b.length;c<e;c++)if(!s(a,b[c]))return!1;return!0}var h=t(b);c=0;for(e=a.length;c<e;c++)if("RegExp"===h){if("string"===typeof a[c]&&a[c].match(b))return!0}else if(a[c]===b)return!0;return!1},w=function(a,b){if(!j(a)||!j(b)||a.length!==b.length)return!1;a.sort();b.sort();for(var c=0,e=a.length;c<e;c++)if(a[c]!==b[c])return!1;return!0},A=function(a){return escape(a)},u=function(a){return encodeURIComponent(a).replace(/[!'()*]/g,
A).replace(/\*/g,"%2A")},r=function(a){return function(b,c){if(void 0===b)return this._parts[a]||"";this._parts[a]=b||null;this.build(!c);return this}},x=function(a,b){return function(c,e){if(void 0===c)return this._parts[a]||"";null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1)));this._parts[a]=c;this.build(!e);return this}},B=k&&k.URI;e.version="1.14.1";var d=e.prototype,m=Object.prototype.hasOwnProperty;e._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,
port:null,path:null,query:null,fragment:null,duplicateQueryParameters:e.duplicateQueryParameters,escapeQuerySpace:e.escapeQuerySpace}};e.duplicateQueryParameters=!1;e.escapeQuerySpace=!0;e.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;e.idn_expression=/[^a-z0-9\.-]/i;e.punycode_expression=/(xn--)/i;e.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;e.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;
e.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;e.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};e.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};e.invalid_hostname_characters=
/[^a-zA-Z0-9\.-]/;e.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"};e.getDomAttribute=function(a){if(a&&a.nodeName){var b=a.nodeName.toLowerCase();return"input"===b&&"image"!==a.type?void 0:e.domAttributes[b]}};e.encode=u;e.decode=decodeURIComponent;e.iso8859=function(){e.encode=escape;e.decode=unescape};e.unicode=function(){e.encode=u;e.decode=
decodeURIComponent};e.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",",
"%3B":";","%3D":"="}}}};e.encodeQuery=function(a,b){var c=e.encode(a+"");void 0===b&&(b=e.escapeQuerySpace);return b?c.replace(/%20/g,"+"):c};e.decodeQuery=function(a,b){a+="";void 0===b&&(b=e.escapeQuerySpace);try{return e.decode(b?a.replace(/\+/g,"%20"):a)}catch(c){return a}};e.recodePath=function(a){for(var a=(a+"").split("/"),b=0,c=a.length;b<c;b++)a[b]=e.encodePathSegment(e.decode(a[b]));return a.join("/")};e.decodePath=function(a){for(var a=(a+"").split("/"),b=0,c=a.length;b<c;b++)a[b]=e.decodePathSegment(a[b]);
return a.join("/")};var y={encode:"encode",decode:"decode"},v,z=function(a,b){return function(c){try{return e[b](c+"").replace(e.characters[a][b].expression,function(c){return e.characters[a][b].map[c]})}catch(f){return c}}};for(v in y)e[v+"PathSegment"]=z("pathname",y[v]);e.encodeReserved=z("reserved","encode");e.parse=function(a,b){var c;b||(b={});c=a.indexOf("#");-1<c&&(b.fragment=a.substring(c+1)||null,a=a.substring(0,c));c=a.indexOf("?");-1<c&&(b.query=a.substring(c+1)||null,a=a.substring(0,
c));"//"===a.substring(0,2)?(b.protocol=null,a=a.substring(2),a=e.parseAuthority(a,b)):(c=a.indexOf(":"),-1<c&&(b.protocol=a.substring(0,c)||null,b.protocol&&!b.protocol.match(e.protocol_expression)?b.protocol=void 0:"//"===a.substring(c+1,c+3)?(a=a.substring(c+3),a=e.parseAuthority(a,b)):(a=a.substring(c+1),b.urn=!0)));b.path=a;return b};e.parseHost=function(a,b){var c=a.indexOf("/"),e;-1===c&&(c=a.length);"["===a.charAt(0)?(e=a.indexOf("]"),b.hostname=a.substring(1,e)||null,b.port=a.substring(e+
2,c)||null,"/"===b.port&&(b.port=null)):a.indexOf(":")!==a.lastIndexOf(":")?(b.hostname=a.substring(0,c)||null,b.port=null):(e=a.substring(0,c).split(":"),b.hostname=e[0]||null,b.port=e[1]||null);b.hostname&&"/"!==a.substring(c).charAt(0)&&(c++,a="/"+a);return a.substring(c)||"/"};e.parseAuthority=function(a,b){a=e.parseUserinfo(a,b);return e.parseHost(a,b)};e.parseUserinfo=function(a,b){var c=a.indexOf("/"),f=a.lastIndexOf("@",-1<c?c:a.length-1);-1<f&&(-1===c||f<c)?(c=a.substring(0,f).split(":"),
b.username=c[0]?e.decode(c[0]):null,c.shift(),b.password=c[0]?e.decode(c.join(":")):null,a=a.substring(f+1)):(b.username=null,b.password=null);return a};e.parseQuery=function(a,b){if(!a)return{};a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!a)return{};for(var c={},f=a.split("&"),h=f.length,d,i,l=0;l<h;l++)d=f[l].split("="),i=e.decodeQuery(d.shift(),b),d=d.length?e.decodeQuery(d.join("="),b):null,m.call(c,i)?("string"===typeof c[i]&&(c[i]=[c[i]]),c[i].push(d)):c[i]=d;return c};e.build=function(a){var b=
"";a.protocol&&(b+=a.protocol+":");if(!a.urn&&(b||a.hostname))b+="//";b+=e.buildAuthority(a)||"";"string"===typeof a.path&&("/"!==a.path.charAt(0)&&"string"===typeof a.hostname&&(b+="/"),b+=a.path);"string"===typeof a.query&&a.query&&(b+="?"+a.query);"string"===typeof a.fragment&&a.fragment&&(b+="#"+a.fragment);return b};e.buildHost=function(a){var b="";if(a.hostname)b=e.ip6_expression.test(a.hostname)?b+("["+a.hostname+"]"):b+a.hostname;else return"";a.port&&(b+=":"+a.port);return b};e.buildAuthority=
function(a){return e.buildUserinfo(a)+e.buildHost(a)};e.buildUserinfo=function(a){var b="";a.username&&(b+=e.encode(a.username),a.password&&(b+=":"+e.encode(a.password)),b+="@");return b};e.buildQuery=function(a,b,c){var f="",h,d,i,l;for(d in a)if(m.call(a,d)&&d)if(j(a[d])){h={};i=0;for(l=a[d].length;i<l;i++)void 0!==a[d][i]&&void 0===h[a[d][i]+""]&&(f+="&"+e.buildQueryParameter(d,a[d][i],c),!0!==b&&(h[a[d][i]+""]=!0))}else void 0!==a[d]&&(f+="&"+e.buildQueryParameter(d,a[d],c));return f.substring(1)};
e.buildQueryParameter=function(a,b,c){return e.encodeQuery(a,c)+(null!==b?"="+e.encodeQuery(b,c):"")};e.addQuery=function(a,b,c){if("object"===typeof b)for(var f in b)m.call(b,f)&&e.addQuery(a,f,b[f]);else if("string"===typeof b)void 0===a[b]?a[b]=c:("string"===typeof a[b]&&(a[b]=[a[b]]),j(c)||(c=[c]),a[b]=(a[b]||[]).concat(c));else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");};e.removeQuery=function(a,b,c){var f;if(j(b)){c=0;for(f=b.length;c<f;c++)a[b[c]]=
void 0}else if("object"===typeof b)for(f in b)m.call(b,f)&&e.removeQuery(a,f,b[f]);else if("string"===typeof b)if(void 0!==c)if(a[b]===c)a[b]=void 0;else{if(j(a[b])){f=a[b];var d={},g,i;if(j(c)){g=0;for(i=c.length;g<i;g++)d[c[g]]=!0}else d[c]=!0;g=0;for(i=f.length;g<i;g++)void 0!==d[f[g]]&&(f.splice(g,1),i--,g--);a[b]=f}}else a[b]=void 0;else throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");};e.hasQuery=function(a,b,c,f){if("object"===typeof b){for(var d in b)if(m.call(b,
d)&&!e.hasQuery(a,d,b[d]))return!1;return!0}if("string"!==typeof b)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(t(c)){case "Undefined":return b in a;case "Boolean":return a=Boolean(j(a[b])?a[b].length:a[b]),c===a;case "Function":return!!c(a[b],b,a);case "Array":return!j(a[b])?!1:(f?s:w)(a[b],c);case "RegExp":return!j(a[b])?Boolean(a[b]&&a[b].match(c)):!f?!1:s(a[b],c);case "Number":c=String(c);case "String":return!j(a[b])?a[b]===c:!f?!1:s(a[b],c);default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");
}};e.commonPath=function(a,b){var c=Math.min(a.length,b.length),e;for(e=0;e<c;e++)if(a.charAt(e)!==b.charAt(e)){e--;break}if(1>e)return a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"";if("/"!==a.charAt(e)||"/"!==b.charAt(e))e=a.substring(0,e).lastIndexOf("/");return a.substring(0,e+1)};e.withinString=function(a,b,c){c||(c={});var f=c.start||e.findUri.start,d=c.end||e.findUri.end,g=c.trim||e.findUri.trim,i=/[a-z0-9-]=["']?$/i;for(f.lastIndex=0;;){var l=f.exec(a);if(!l)break;l=l.index;if(c.ignoreHtml){var j=
a.slice(Math.max(l-3,0),l);if(j&&i.test(j))continue}var j=l+a.slice(l).search(d),k=a.slice(l,j).replace(g,"");if(!c.ignore||!c.ignore.test(k))j=l+k.length,k=b(k,l,j,a),a=a.slice(0,l)+k+a.slice(j),f.lastIndex=l+k.length}f.lastIndex=0;return a};e.ensureValidHostname=function(a){if(a.match(e.invalid_hostname_characters)){if(!n)throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(n.toASCII(a).match(e.invalid_hostname_characters))throw new TypeError('Hostname "'+
a+'" contains characters other than [A-Z0-9.-]');}};e.noConflict=function(a){if(a)return a={URI:this.noConflict()},k.URITemplate&&"function"===typeof k.URITemplate.noConflict&&(a.URITemplate=k.URITemplate.noConflict()),k.IPv6&&"function"===typeof k.IPv6.noConflict&&(a.IPv6=k.IPv6.noConflict()),k.SecondLevelDomains&&"function"===typeof k.SecondLevelDomains.noConflict&&(a.SecondLevelDomains=k.SecondLevelDomains.noConflict()),a;k.URI===this&&(k.URI=B);return this};d.build=function(a){if(!0===a)this._deferred_build=
!0;else if(void 0===a||this._deferred_build)this._string=e.build(this._parts),this._deferred_build=!1;return this};d.clone=function(){return new e(this)};d.valueOf=d.toString=function(){return this.build(!1)._string};d.protocol=r("protocol");d.username=r("username");d.password=r("password");d.hostname=r("hostname");d.port=r("port");d.query=x("query","?");d.fragment=x("fragment","#");d.search=function(a,b){var c=this.query(a,b);return"string"===typeof c&&c.length?"?"+c:c};d.hash=function(a,b){var c=
this.fragment(a,b);return"string"===typeof c&&c.length?"#"+c:c};d.pathname=function(a,b){if(void 0===a||!0===a){var c=this._parts.path||(this._parts.hostname?"/":"");return a?e.decodePath(c):c}this._parts.path=a?e.recodePath(a):"/";this.build(!b);return this};d.path=d.pathname;d.href=function(a,b){var c;if(void 0===a)return this.toString();this._string="";this._parts=e._parts();var f=a instanceof e,d="object"===typeof a&&(a.hostname||a.path||a.pathname);a.nodeName&&(d=e.getDomAttribute(a),a=a[d]||
"",d=!1);!f&&(d&&void 0!==a.pathname)&&(a=a.toString());if("string"===typeof a||a instanceof String)this._parts=e.parse(String(a),this._parts);else if(f||d)for(c in f=f?a._parts:a,f)m.call(this._parts,c)&&(this._parts[c]=f[c]);else throw new TypeError("invalid input");this.build(!b);return this};d.is=function(a){var b=!1,c=!1,f=!1,d=!1,g=!1,i=!1,j=!1,k=!this._parts.urn;this._parts.hostname&&(k=!1,c=e.ip4_expression.test(this._parts.hostname),f=e.ip6_expression.test(this._parts.hostname),b=c||f,g=
(d=!b)&&p&&p.has(this._parts.hostname),i=d&&e.idn_expression.test(this._parts.hostname),j=d&&e.punycode_expression.test(this._parts.hostname));switch(a.toLowerCase()){case "relative":return k;case "absolute":return!k;case "domain":case "name":return d;case "sld":return g;case "ip":return b;case "ip4":case "ipv4":case "inet4":return c;case "ip6":case "ipv6":case "inet6":return f;case "idn":return i;case "url":return!this._parts.urn;case "urn":return!!this._parts.urn;case "punycode":return j}return null};
var C=d.protocol,D=d.port,E=d.hostname;d.protocol=function(a,b){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(e.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return C.call(this,a,b)};d.scheme=d.protocol;d.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError('Port "'+a+'" contains characters other than [0-9]');
return D.call(this,a,b)};d.hostname=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var c={};e.parseHost(a,c);a=c.hostname}return E.call(this,a,b)};d.host=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?e.buildHost(this._parts):"";e.parseHost(a,this._parts);this.build(!b);return this};d.authority=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?e.buildAuthority(this._parts):
"";e.parseAuthority(a,this._parts);this.build(!b);return this};d.userinfo=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var c=e.buildUserinfo(this._parts);return c.substring(0,c.length-1)}"@"!==a[a.length-1]&&(a+="@");e.parseUserinfo(a,this._parts);this.build(!b);return this};d.resource=function(a,b){var c;if(void 0===a)return this.path()+this.search()+this.hash();c=e.parse(a);this._parts.path=c.path;this._parts.query=c.query;this._parts.fragment=
c.fragment;this.build(!b);return this};d.subdomain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,c)||""}c=this._parts.hostname.length-this.domain().length;c=this._parts.hostname.substring(0,c);c=RegExp("^"+o(c));a&&"."!==a.charAt(a.length-1)&&(a+=".");a&&e.ensureValidHostname(a);this._parts.hostname=this._parts.hostname.replace(c,
a);this.build(!b);return this};d.domain=function(a,b){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(b=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.match(/\./g);if(c&&2>c.length)return this._parts.hostname;c=this._parts.hostname.length-this.tld(b).length-1;c=this._parts.hostname.lastIndexOf(".",c-1)+1;return this._parts.hostname.substring(c)||""}if(!a)throw new TypeError("cannot set domain empty");e.ensureValidHostname(a);
!this._parts.hostname||this.is("IP")?this._parts.hostname=a:(c=RegExp(o(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(c,a));this.build(!b);return this};d.tld=function(a,b){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(b=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.lastIndexOf("."),c=this._parts.hostname.substring(c+1);return!0!==b&&p&&p.list[c.toLowerCase()]?p.get(this._parts.hostname)||c:c}if(a)if(a.match(/[^a-zA-Z0-9-]/))if(p&&
p.is(a))c=RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(c,a);else throw new TypeError('TLD "'+a+'" contains characters other than [A-Z0-9]');else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");c=RegExp(o(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(c,a)}else throw new TypeError("cannot set TLD empty");this.build(!b);return this};d.directory=function(a,b){if(this._parts.urn)return void 0===a?
"":this;if(void 0===a||!0===a){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var c=this._parts.path.length-this.filename().length-1,c=this._parts.path.substring(0,c)||(this._parts.hostname?"/":"");return a?e.decodePath(c):c}c=this._parts.path.length-this.filename().length;c=this._parts.path.substring(0,c);c=RegExp("^"+o(c));this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a));a&&"/"!==a.charAt(a.length-1)&&(a+="/");a=e.recodePath(a);this._parts.path=
this._parts.path.replace(c,a);this.build(!b);return this};d.filename=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var c=this._parts.path.lastIndexOf("/"),c=this._parts.path.substring(c+1);return a?e.decodePathSegment(c):c}c=!1;"/"===a.charAt(0)&&(a=a.substring(1));a.match(/\.?\//)&&(c=!0);var f=RegExp(o(this.filename())+"$"),a=e.recodePath(a);this._parts.path=this._parts.path.replace(f,a);c?this.normalizePath(b):
this.build(!b);return this};d.suffix=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var c=this.filename(),f=c.lastIndexOf(".");if(-1===f)return"";c=c.substring(f+1);c=/^[a-z0-9%]+$/i.test(c)?c:"";return a?e.decodePathSegment(c):c}"."===a.charAt(0)&&(a=a.substring(1));if(c=this.suffix())f=a?RegExp(o(c)+"$"):RegExp(o("."+c)+"$");else{if(!a)return this;this._parts.path+="."+e.recodePath(a)}f&&(a=e.recodePath(a),
this._parts.path=this._parts.path.replace(f,a));this.build(!b);return this};d.segment=function(a,b,c){var e=this._parts.urn?":":"/",d=this.path(),g="/"===d.substring(0,1),d=d.split(e);void 0!==a&&"number"!==typeof a&&(c=b,b=a,a=void 0);if(void 0!==a&&"number"!==typeof a)throw Error('Bad segment "'+a+'", must be 0-based integer');g&&d.shift();0>a&&(a=Math.max(d.length+a,0));if(void 0===b)return void 0===a?d:d[a];if(null===a||void 0===d[a])if(j(b))for(var d=[],a=0,i=b.length;a<i;a++){if(b[a].length||
d.length&&d[d.length-1].length)d.length&&!d[d.length-1].length&&d.pop(),d.push(b[a])}else{if(b||"string"===typeof b)""===d[d.length-1]?d[d.length-1]=b:d.push(b)}else b?d[a]=b:d.splice(a,1);g&&d.unshift("");return this.path(d.join(e),c)};d.segmentCoded=function(a,b,c){var d,h;"number"!==typeof a&&(c=b,b=a,a=void 0);if(void 0===b){a=this.segment(a,b,c);if(j(a)){d=0;for(h=a.length;d<h;d++)a[d]=e.decode(a[d])}else a=void 0!==a?e.decode(a):void 0;return a}if(j(b)){d=0;for(h=b.length;d<h;d++)b[d]=e.decode(b[d])}else b=
"string"===typeof b||b instanceof String?e.encode(b):b;return this.segment(a,b,c)};var F=d.query;d.query=function(a,b){if(!0===a)return e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"===typeof a){var c=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace),d=a.call(this,c);this._parts.query=e.buildQuery(d||c,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!b);return this}return void 0!==a&&"string"!==typeof a?(this._parts.query=e.buildQuery(a,
this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this):F.call(this,a,b)};d.setQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"===typeof a||a instanceof String)d[a]=void 0!==b?b:null;else if("object"===typeof a)for(var h in a)m.call(a,h)&&(d[h]=a[h]);else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);
"string"!==typeof a&&(c=b);this.build(!c);return this};d.addQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);e.addQuery(d,a,void 0===b?null:b);this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};d.removeQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);e.removeQuery(d,a,b);this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,
this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};d.hasQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.hasQuery(d,a,b,c)};d.setSearch=d.setQuery;d.addSearch=d.addQuery;d.removeSearch=d.removeQuery;d.hasSearch=d.hasQuery;d.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};
d.normalizeProtocol=function(a){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a));return this};d.normalizeHostname=function(a){this._parts.hostname&&(this.is("IDN")&&n?this._parts.hostname=n.toASCII(this._parts.hostname):this.is("IPv6")&&q&&(this._parts.hostname=q.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!a));return this};d.normalizePort=function(a){"string"===typeof this._parts.protocol&&
this._parts.port===e.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a));return this};d.normalizePath=function(a){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var b,c=this._parts.path,d="",h,g;"/"!==c.charAt(0)&&(b=!0,c="/"+c);c=c.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");b&&(d=c.substring(1).match(/^(\.\.\/)+/)||"")&&(d=d[0]);for(;;){h=c.indexOf("/..");if(-1===h)break;else if(0===h){c=c.substring(3);continue}g=c.substring(0,h).lastIndexOf("/");
-1===g&&(g=h);c=c.substring(0,g)+c.substring(h+3)}b&&this.is("relative")&&(c=d+c.substring(1));c=e.recodePath(c);this._parts.path=c;this.build(!a);return this};d.normalizePathname=d.normalizePath;d.normalizeQuery=function(a){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(e.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a));return this};d.normalizeFragment=function(a){this._parts.fragment||(this._parts.fragment=null,this.build(!a));
return this};d.normalizeSearch=d.normalizeQuery;d.normalizeHash=d.normalizeFragment;d.iso8859=function(){var a=e.encode,b=e.decode;e.encode=escape;e.decode=decodeURIComponent;this.normalize();e.encode=a;e.decode=b;return this};d.unicode=function(){var a=e.encode,b=e.decode;e.encode=u;e.decode=unescape;this.normalize();e.encode=a;e.decode=b;return this};d.readable=function(){var a=this.clone();a.username("").password("").normalize();var b="";a._parts.protocol&&(b+=a._parts.protocol+"://");a._parts.hostname&&
(a.is("punycode")&&n?(b+=n.toUnicode(a._parts.hostname),a._parts.port&&(b+=":"+a._parts.port)):b+=a.host());a._parts.hostname&&(a._parts.path&&"/"!==a._parts.path.charAt(0))&&(b+="/");b+=a.path(!0);if(a._parts.query){for(var c="",d=0,h=a._parts.query.split("&"),g=h.length;d<g;d++){var i=(h[d]||"").split("="),c=c+("&"+e.decodeQuery(i[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==i[1]&&(c+="="+e.decodeQuery(i[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}b+="?"+c.substring(1)}return b+=
e.decodeQuery(a.hash(),!0)};d.absoluteTo=function(a){var b=this.clone(),c=["protocol","username","password","hostname","port"],d,h;if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a instanceof e||(a=new e(a));b._parts.protocol||(b._parts.protocol=a._parts.protocol);if(this._parts.hostname)return b;for(d=0;h=c[d];d++)b._parts[h]=a._parts[h];b._parts.path?".."===b._parts.path.substring(-2)&&(b._parts.path+="/"):(b._parts.path=a._parts.path,b._parts.query||
(b._parts.query=a._parts.query));"/"!==b.path().charAt(0)&&(a=a.directory(),b._parts.path=(a?a+"/":"")+b._parts.path,b.normalizePath());b.build();return b};d.relativeTo=function(a){var b=this.clone().normalize(),c,d,h,g;if(b._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a=(new e(a)).normalize();c=b._parts;d=a._parts;h=b.path();g=a.path();if("/"!==h.charAt(0))throw Error("URI is already relative");if("/"!==g.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");
c.protocol===d.protocol&&(c.protocol=null);if(!(c.username!==d.username||c.password!==d.password)&&!(null!==c.protocol||null!==c.username||null!==c.password)&&c.hostname===d.hostname&&c.port===d.port)c.hostname=null,c.port=null;else return b.build();if(h===g)return c.path="",b.build();a=e.commonPath(b.path(),a.path());if(!a)return b.build();d=d.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");c.path=d+c.path.substring(a.length);return b.build()};d.equals=function(a){var b=this.clone(),
a=new e(a),c={},d={},h={},g;b.normalize();a.normalize();if(b.toString()===a.toString())return!0;c=b.query();d=a.query();b.query("");a.query("");if(b.toString()!==a.toString()||c.length!==d.length)return!1;c=e.parseQuery(c,this._parts.escapeQuerySpace);d=e.parseQuery(d,this._parts.escapeQuerySpace);for(g in c)if(m.call(c,g)){if(j(c[g])){if(!w(c[g],d[g]))return!1}else if(c[g]!==d[g])return!1;h[g]=!0}for(g in d)if(m.call(d,g)&&!h[g])return!1;return!0};d.duplicateQueryParameters=function(a){this._parts.duplicateQueryParameters=
!!a;return this};d.escapeQuerySpace=function(a){this._parts.escapeQuerySpace=!!a;return this};this.URI=e});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:uri', location = 'libs/uri.js' */
define("jira/components/libs/uri",["require"],function(a){return a("atlassian/libs/uri-1.14.1")});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:scrollintoview', location = 'lib/scrollintoview-1.8.js' */
/*!
 * jQuery scrollintoview() plugin and :scrollable selector filter
 *
 * Version 1.8 (14 Jul 2011)
 * Requires jQuery 1.4 or newer
 *
 * Copyright (c) 2011 Robert Koritnik
 * Licensed under the terms of the MIT license
 * http://www.opensource.org/licenses/mit-license.php
 */
(function(f){var c={vertical:{x:false,y:true},horizontal:{x:true,y:false},both:{x:true,y:true},x:{x:true,y:false},y:{x:false,y:true}};var b={duration:0,direction:"y"};var e=/^(?:html)$/i;var g=function(k,j){j=j||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(k,null):k.currentStyle);var i=document.defaultView&&document.defaultView.getComputedStyle?true:false;var h={top:(parseFloat(i?j.borderTopWidth:f.css(k,"borderTopWidth"))||0),left:(parseFloat(i?j.borderLeftWidth:f.css(k,"borderLeftWidth"))||0),bottom:(parseFloat(i?j.borderBottomWidth:f.css(k,"borderBottomWidth"))||0),right:(parseFloat(i?j.borderRightWidth:f.css(k,"borderRightWidth"))||0)};return{top:h.top,left:h.left,bottom:h.bottom,right:h.right,vertical:h.top+h.bottom,horizontal:h.left+h.right}};var d=function(h){var j=f(window);var i=e.test(h[0].nodeName);return{border:i?{top:0,left:0,bottom:0,right:0}:g(h[0]),scroll:{top:(i?j:h).scrollTop(),left:(i?j:h).scrollLeft()},scrollbar:{right:i?0:h.innerWidth()-h[0].clientWidth,bottom:i?0:h.innerHeight()-h[0].clientHeight},rect:(function(){var k=h[0].getBoundingClientRect();return{top:i?0:k.top,left:i?0:k.left,bottom:i?h[0].clientHeight:k.bottom,right:i?h[0].clientWidth:k.right}})()}};f.fn.extend({scrollIntoViewForAuto:function(j){j=f.extend({},b,j);j.direction=c[typeof(j.direction)==="string"&&j.direction.toLowerCase()]||c.both;var n="";if(j.direction.x===true){n="horizontal"}if(j.direction.y===true){n=n?"both":"vertical"}var l=this.eq(0);var i=l.closest(":scrollable("+n+")");if(i.length>0){i=i.eq(0);var m={e:d(l),s:d(i)};var h={top:m.e.rect.top-(m.s.rect.top+m.s.border.top),bottom:m.s.rect.bottom-m.s.border.bottom-m.s.scrollbar.bottom-m.e.rect.bottom,left:m.e.rect.left-(m.s.rect.left+m.s.border.left),right:m.s.rect.right-m.s.border.right-m.s.scrollbar.right-m.e.rect.right};var k={};if(j.direction.y===true){if(h.top<0){k.scrollTop=m.s.scroll.top+h.top-30}else{if(h.top>0&&h.bottom<0){k.scrollTop=m.s.scroll.top+Math.min(h.top,-h.bottom)+30}}}if(j.direction.x===true){if(h.left<0){k.scrollLeft=m.s.scroll.left+h.left}else{if(h.left>0&&h.right<0){k.scrollLeft=m.s.scroll.left+Math.min(h.left,-h.right)}}}if(!f.isEmptyObject(k)){if(e.test(i[0].nodeName)){i=f("html,body")}i.animate(k,j.duration).eq(0).queue(function(o){f.isFunction(j.complete)&&j.complete.call(i[0]);o()})}else{f.isFunction(j.complete)&&j.complete.call(i[0])}}return this}});var a={auto:true,scroll:true,visible:false,hidden:false};f.extend(f.expr[":"],{scrollable:function(k,i,n,h){var m=c[typeof(n[3])==="string"&&n[3].toLowerCase()]||c.both;var l=(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(k,null):k.currentStyle);var o={x:a[l.overflowX.toLowerCase()]||false,y:a[l.overflowY.toLowerCase()]||false,isRoot:e.test(k.nodeName)};if(!o.x&&!o.y&&!o.isRoot){return false}var j={height:{scroll:k.scrollHeight,client:k.clientHeight},width:{scroll:k.scrollWidth,client:k.clientWidth},scrollableX:function(){return(o.x||o.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(o.y||o.isRoot)&&this.height.scroll>this.height.client}};return m.y&&j.scrollableY()||m.x&&j.scrollableX()}})})(jQuery);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:browser', location = 'util/Browser.js' */
define("jira/components/util/browser",function(){return{locationReload:function(a){window.location.reload(a)}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:events-issueactions', location = 'util/IssueActionsEvents.js' */
define("jira/components/util/events/issue-actions",function(){var a={};a.DELETE="delete";a.UPDATE="update";a.INLINE_EDIT="inlineEdit";a.ROW_UPDATE="rowUpdate";return a});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/entities/PanelModel.js' */
define("jira/components/issueviewer/entities/panel",["require"],function(c){var b=c("jira/components/libs/underscore");var d=c("jira/components/libs/brace");var a=c("jira/util/events");var e=c("jira/components/issueviewer/eventtypes");return d.Model.extend({namedAttributes:["entity","updateLocked"],initialize:function(){a.bind(e.LOCK_PANEL_REFRESHING,b.bind(function(f,g){if(g===this.getEntity().id){this.set("updateLocked",true)}},this));a.bind(e.UNLOCK_PANEL_REFRESHING,b.bind(function(f,g){if(g===this.getEntity().id){this.set("updateLocked",false)}},this))},update:function(h,f,g){if(!this.getUpdateLocked()){this.set("entity",h);this.trigger("updated",f,g)}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/entities/PanelsCollection.js' */
define("jira/components/issueviewer/entities/panels",["require"],function(b){var a=b("jira/components/libs/underscore");var c=b("jira/components/libs/brace");var d=b("jira/components/issueviewer/entities/panel");return c.Collection.extend({model:d,update:function(f,e){this.each(function(g){var h=g.id;var i=a.any(f,function(j){return j.id===h});if(!i){this.remove(g)}},this);a.each(f,function(h,i){var g=this.get(h.id);if(g){g.update(h,e.fieldsInProgress,e.fieldsSaved)}else{this.add({id:h.id,entity:h},{at:i})}},this)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/entities/PanelsGroupModel.js' */
define("jira/components/issueviewer/entities/panelsgroup",["require"],function(b){var c=b("jira/components/libs/brace");var a=b("jira/components/issueviewer/entities/panels");return c.Model.extend({namedAttributes:["leftPanels","rightPanels","infoPanels"],defaults:function(){return{leftPanels:new a([]),rightPanels:new a([]),infoPanels:new a([])}},update:function(e,d){this.get("leftPanels").update(e.leftPanels,d);this.get("rightPanels").update(e.rightPanels,d);this.get("infoPanels").update(e.infoPanels,d)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/entities/IssueModel.js' */
define("jira/components/issueviewer/entities/issue",["require"],function(a){var b=a("jira/components/libs/brace");var c=a("jira/components/issueviewer/entities/panelsgroup");return b.Model.extend({namedEvents:["updated"],namedAttributes:["entity","id","key","panels","projectKey","projectType","projectId"],defaults:function(){return{entity:{},panels:new c()}},update:function(f,e){var d=false;if(f.issue){this.updateFromEntity(f.issue);d=true}if(f.panels){this.getPanels().update(f.panels,e);d=true}if(d){this.trigger("updated",e)}},resetToDefault:function(){this.clear();this.set(this.defaults())},updateFromEntity:function(d){this.set({id:d.id,key:d.key,entity:d,projectKey:d.project?d.project.key:null,projectType:d.project?d.project.projectType:null,projectId:d.project?d.project.id:null})},isCurrentIssue:function(d){return this.get("id")===d},hasIssue:function(){return this.has("id")},updateIssueQuery:function(d){if(!this.hasIssue()){return}this.getEntity().viewIssueQuery=d},getIssueInfo:function(){return{issueId:this.getId(),issueKey:this.getKey(),projectId:this.getProjectId(),projectKey:this.getProjectKey(),projectType:this.getProjectType()}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssuePanelView.js' */
define("jira/components/issueviewer/views/issuepanel",["require"],function(b){var a=b("jira/components/libs/underscore");var f=b("jira/components/issueviewer/legacy/issuefieldutil");var d=b("jquery");var e=b("jira/components/libs/marionette-1.4.1/itemview");var c=b("jira/components/issueviewer/templates");return e.extend({template:c.Body.issuePanel,modelEvents:{updated:"update"},update:function(g,o){var h=this.renderTemplate();var j=this.$el;var n=this;if(h.html()===j.html()){return}function l(){return a.any(g,function(p){return j.find(f.getFieldSelector(p)).length===1})}function i(){var p=j.find(document.activeElement).length>0;var s=!!d.browser.msie&&d.browser.version<=8;if(!s){j.replaceWith(h)}else{var r=j[0].nextSibling;var q=j[0].parentNode;j.remove();if(r){d(r).before(h)}else{d(q).append(h)}}if(p){n.trigger("replacedFocusedPanel")}n.setElement(h)}function k(q){var r=n.model.id;var p=n.$el;n.trigger("panelRendered",r,p,j);a.each(q,function(s){n.trigger("individualPanelRendered",s)})}if(!l()){i();k([n.$el])}else{var m=[];a.each(o,function(r){var q=j.find(f.getFieldSelector(r));if(q.length===1){var p=h.find(f.getFieldSelector(r));if(p.length===1){q.replaceWith(p);m.push(p)}else{q.closest("li, dl").remove()}}});k(m)}this.bindUIElements()},onRender:function(){this.setElement(this.$el.children());var g=this.model.getEntity().styleClass;if(g){this.$el.addClass(g)}this.trigger("individualPanelRendered",this.$el)},applyToDom:function(){this.trigger("individualPanelRendered",this.$el)},serializeData:function(){return this.model.getEntity()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssuePanelsView.js' */
define("jira/components/issueviewer/views/issuepanels",["require"],function(c){var d=c("jira/components/libs/marionette-1.4.1/collectionview");var a=c("jira/components/issueviewer/views/issuepanel");var b=c("jira/components/issueviewer/entities/panel");return d.extend({itemView:a,_updatingFromDom:false,appendHtml:function(e,h,f){var g=e.$el.children();var i=g.length;if(f<=0){e.$el.prepend(h.$el)}else{if(!i||f>=i){e.$el.append(h.$el)}else{h.$el.insertBefore(g.eq(f))}}},applyToDom:function(){var e=this;this._updatingFromDom=true;this.$el.children().filter(".module").each(function(){var f=this.id;if(f==="addcomment"){f="addcommentmodule"}e.collection.add(new b({id:f,entity:{id:f}}))});this._updatingFromDom=false},renderItemView:function(e){if(!this._updatingFromDom){d.prototype.renderItemView.apply(this,arguments)}else{e.applyToDom()}},buildItemView:function(f){var e=d.prototype.buildItemView.apply(this,arguments);if(this._updatingFromDom){e.setElement(document.getElementById(f.id))}return e}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssueBodyView.js' */
define("jira/components/issueviewer/views/issuebody",["require"],function(a){var c=a("jira/components/libs/marionette-1.4.1/layout");var d=a("jira/components/libs/marionette-1.4.1/linkregion");var b=a("jira/components/issueviewer/templates");return c.extend({tagName:"div",className:"issue-body-content",regions:{leftPanels:{selector:".issue-main-column",regionType:d},rightPanels:{selector:".issue-side-column",regionType:d},infoPanels:{selector:".issue-body",regionType:d}},template:b.Body.issueBody})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssueOpsbarView.js' */
define("jira/components/issueviewer/views/issueopsbar",["require"],function(c){var e=c("jira/components/libs/marionette-1.4.1/itemview");var d=c("jira/components/issueviewer/templates");var b=c("jira/issues/tipsy");var a=c("jira/components/issueviewer/analytics/issueopsbar");return e.extend({template:d.Header.opsbar,ui:{shareButton:".viewissue-share",exportButton:"#viewissue-export",loginButton:"#ops-login-lnk",commentButton:"#comment-issue"},serializeData:function(){return{issue:this.model.getEntity()}},onApplyToDom:function(){this.onRender()},onRender:function(){new a(this);this.ui.loginButton.hide();this.ui.commentButton.addClass("inline-comment");new b({el:this.ui.shareButton,showCondition:":not(.active)"});new b({el:this.ui.exportButton,showCondition:":not(.active)",tipsy:{gravity:"ne"}})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssueHeaderView.js' */
define("jira/components/issueviewer/views/issueheader",["require"],function(c){var h=c("jira/components/libs/marionette-1.4.1/layout");var d=c("jira/components/issueviewer/templates");var b=c("jira/components/issueviewer/services/darkfeatures");var a=c("jira/components/libs/underscore");var f=c("jira/components/issueviewer/views/issueopsbar");var e=c("jira/util/data/meta");var g=c("jquery");return h.extend({className:"issue-header js-stalker",id:"stalker",tagName:"header",template:d.Header.issueHeader,modelEvents:{updated:"update"},regions:{opsbar:".command-bar",pager:"#issue-header-pager"},serializeData:function(){return{issue:this.model.getEntity(),hasProjectShortcut:b.PROJECT_SHORTCUTS.enabled()}},update:function(i){if(i.initialize){this._updateWindowTitle()}else{var j=a.include(i.fieldsInProgress,"summary");if(j){this.renderOpsBar()}else{this.render()}}this.trigger("updated")},onApplyToDom:function(){var i=new f({model:this.model});i.setElement(this.opsbar.el);this.opsbar.attachView(i);this.opsbar.currentView.applyToDom();this._updateWindowTitle()},onBeforeRender:function(){this.previousElement=this.$el},onRender:function(){this.renderOpsBar();this._updateWindowTitle();this.trigger("panelRendered","header",this.$el,this.previousElement||g(""))},renderOpsBar:function(){this.opsbar.show(new f({model:this.model}));this.trigger("individualPanelRendered",this.$el)},_updateWindowTitle:function(){var i=this.model.getEntity();var k=i.key;var j=i.summary;var l=e.get("app-title");if(l&&j&&k){document.title="["+k+"] "+j+" - "+l}},focus:function(){this.$el.find("a").eq(0).focus()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssueView.js' */
define("jira/components/issueviewer/views/issue",["require"],function(a){var e=a("jira/components/libs/marionette-1.4.1/layout");var b=a("jira/components/issueviewer/templates");var f=a("jira/components/libs/marionette-1.4.1/replaceregion");var c=a("jira/components/issueviewer/actions");var d=a("jquery");return e.extend({template:b.layout,className:"issue-container",regions:{header:{selector:".issue-header-container",regionType:f},body:{selector:".issue-body-container",regionType:f}},modelEvents:{updated:"update"},showLoading:function(){this.$el.addClass("loading")},hideLoading:function(){this.$el.removeClass("loading")},focusComment:function(g){this.$("#activitymodule .focused").removeClass("focused");this.$("#comment-"+g).addClass("focused");this.$(".js-stalker").trigger("refresh")},update:function(g){this._closeDropdowns();if(g.initialize){this.render()}if(g.reason&&g.reason.action===c.EDIT_COMMENT){this.focusComment(g.reason.meta.commentId)}this._bringViewIssueElementIntoView()},remove:function(){this.stopListening();this.$el.empty();return this},onRender:function(){this.$el.addClass(this.className);this.$el.attr("tabindex","-1");this._bringViewIssueElementIntoView()},onApplyToDom:function(){this._bringViewIssueElementIntoView();this.trigger("render")},_bringViewIssueElementIntoView:function(){var g=this.model.get("entity").viewIssueQuery;if(g){var h;if(g.focusedCommentId){h="#comment-"+g.focusedCommentId}else{if(g.attachmentSortBy||g.attachmentOrder||g.attachmentViewMode){h="#attachmentmodule"}}if(h){d(h).scrollIntoView({marginBottom:200,marginTop:200})}}},_closeDropdowns:function(){this.$el.find(".aui-dropdown2-trigger.active").trigger("aui-button-invoke")}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/error/ErrorView.js' */
define("jira/components/issueviewer/views/error",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1/layout");return b.extend({className:"issue-container",regions:{pager:"#issue-header-pager"},remove:function(){this.stopListening();this.$el.empty();return this},onRender:function(){this.$el.addClass(this.className);this.$el.attr("tabindex","-1")}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/error/ErrorGenericView.js' */
define("jira/components/issueviewer/views/errorgeneric",["require"],function(b){var a=b("jira/components/issueviewer/views/error");var c=b("jira/components/issueviewer/templates");var d=b("jira/components/util/browser");return a.extend({template:c.Error.Generic,events:{"click #issue-error-reload-button":function(){d.locationReload()}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/error/ErrorNotFoundView.js' */
define("jira/components/issueviewer/views/errornotfound",["require"],function(c){var a=c("jira/components/issueviewer/views/error");var d=c("jira/components/issueviewer/templates");var b=c("jira/components/libs/underscore");return a.extend({template:d.Error.DoesNotExist,initialize:function(e){e=e||{};this.showReturnToSearchOnError=e.showReturnToSearchOnError},triggers:{"click #return-to-search":"returnToSearch"},serializeData:function(){var e=this.showReturnToSearchOnError;if(b.isFunction(e)){e=e()}return{hideReturnToSearch:!e}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/controllers/IssueController.js' */
define("jira/components/issueviewer/controllers/issue",["require"],function(a){var g=a("jira/issue");var c=a("jira/components/issueviewer/views/issuebody");var b=a("jira/components/issueviewer/views/issueheader");var d=a("jira/components/issueviewer/views/issuepanels");var f=a("jira/components/issueviewer/views/issue");var h=a("jira/components/libs/marionette-1.4.1/controller");var i=a("jira/components/libs/underscore");var e=g.CommentForm;return h.extend({initialize:function(j){this.model=j.model},_createViews:function(){this.view=this._createMainView();this.bodyView=this._createBodyView();this.headerView=this._createHeaderView();this.leftPanelsView=this._createPanelsView(this.model.getPanels().getLeftPanels());this.rightPanelsView=this._createPanelsView(this.model.getPanels().getRightPanels());this.infoPanelsView=this._createPanelsView(this.model.getPanels().getInfoPanels())},_createMainView:function(){var j=new f({model:this.model,el:this.$el});this.listenTo(j,{render:function(){this.trigger("renderMainView",j.$el)}});return j},_createBodyView:function(){return new c({model:this.model})},_createHeaderView:function(){var j=new b({model:this.model});this.listenAndRethrow(j,"panelRendered");this.listenTo(j,{updated:function(){this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},this.model.getIssueInfo())},individualPanelRendered:function(k){this.trigger("individualPanelRendered",k)}});return j},_createPanelsView:function(k){var j=new d({collection:k});this.listenTo(j,{"itemview:replacedFocusedPanel":function(){this.trigger("replacedFocusedPanel")},"itemview:panelRendered":function(l,o,n,m){this.trigger("panelRendered",o,n,m)},"itemview:individualPanelRendered":function(l,m){this.trigger("individualPanelRendered",m)}});return j},createView:function(){this._createViews();this.listenTo(this.view,"render",function(){this.view.header.show(this.headerView);this.view.body.show(this.bodyView);this.bodyView.leftPanels.show(this.leftPanelsView);this.bodyView.rightPanels.show(this.rightPanelsView);this.bodyView.infoPanels.show(this.infoPanelsView);this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},i.extend(this.model.getIssueInfo(),{loadedFromDom:false}))})},createViewFromDom:function(){this._createViews();this.listenTo(this.view,"applyToDom",function(){function j(m,k,l){k.setElement(l);k.applyToDom();m.attachView(k)}j(this.view.body,this.bodyView,this.view.$el.find(".issue-body-content"));j(this.view.body,this.headerView,this.view.$el.find("#stalker"));j(this.bodyView.leftPanels,this.leftPanelsView,this.bodyView.$el.find(this.bodyView.leftPanels.el));j(this.bodyView.rightPanels,this.rightPanelsView,this.bodyView.$el.find(this.bodyView.rightPanels.el));j(this.bodyView.infoPanels,this.infoPanelsView,this.bodyView.$el.find(this.bodyView.infoPanels.el));this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},i.extend(this.model.getIssueInfo(),{loadedFromDom:true}))})},setElement:function(j){this.$el=j;if(this.view){this.view.setElement(j)}},applyToDom:function(j){j.id=+j.id;this.model.updateFromEntity(j);this.createViewFromDom();this.view.applyToDom()},show:function(){if(!this.view){this.createView();this.view.render()}else{this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},i.extend(this.model.getIssueInfo(),{loadedFromDom:false}))}this.view.hideLoading()},close:function(){if(this.view){this.view.close()}this.hideLoading();delete this.view},hideLoading:function(){if(this.view){this.view.hideLoading()}},showLoading:function(){if(this.view){this.view.showLoading()}},canDismissComment:function(){var k;var j=e;if(!j.getForm().data("dismissed")){k=j.handleBrowseAway();if(k){if(!confirm(k)){j.focus();return false}else{j.getForm().data("dismissed",true)}}}return true},applyResponsiveDesign:function(){if(!this.$el){return}var j=this.$el.width();this.$el.toggleClass("skinny",j<900);this.$el.toggleClass("very-skinny",j<600)},focus:function(){if(this.view){this.headerView.focus()}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/controllers/ErrorController.js' */
define("jira/components/issueviewer/controllers/error",["require"],function(d){var c=d("jira/components/issueviewer/views/errorgeneric");var b=d("jira/components/issueviewer/views/errornotfound");var a=d("jira/components/libs/marionette-1.4.1/controller");var e=d("jira/components/issueviewer/utils");return a.extend({initialize:function(f){this.contextPath=f.contextPath;this.showReturnToSearchOnError=f.showReturnToSearchOnError},render:function(g,f){switch(g){case"auth":this._renderErrorAuth(f);break;case"forbidden":case"notfound":this._renderErrorView(new b({showReturnToSearchOnError:this.showReturnToSearchOnError}));break;case"generic":default:this._renderErrorView(new c());break}},applyToDom:function(g,f){switch(g){case"auth":this._renderErrorAuth(f);break;case"forbidden":case"notfound":this._renderErrorViewFromDom(new b({showReturnToSearchOnError:this.showReturnToSearchOnError}));break;case"generic":default:this._renderErrorViewFromDom(new c());break}},close:function(){if(this.view){this.view.close();delete this.view}},setElement:function(f){this._$el=f;if(this.view){this.view.setElement(f)}},_renderErrorAuth:function(g){var f=this.contextPath+"/login.jsp?os_destination="+encodeURIComponent("/browse/"+g);window.location.replace(f)},_renderErrorView:function(f){this.trigger("before:render");e.hideDropdown();this.view=f;this.view.setElement(this._$el);this.view.render();this.listenAndRethrow(this.view,"returnToSearch");this.trigger("render",{pager:this.view.$(this.view.pager.el),isError:true},{loadedFromDom:false,issueId:null})},_renderErrorViewFromDom:function(f){this.trigger("before:render");e.hideDropdown();this.view=f;this.view.setElement(this._$el);this.view.applyToDom();this.listenAndRethrow(this.view,"returnToSearch");this.trigger("render",{pager:this.view.$(this.view.pager.el),isError:true},{loadedFromDom:true,issueId:null})},isRendered:function(){return Boolean(this.view)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/services/IssueLoaderService.js' */
define("jira/components/issueviewer/services/issueloader",["require"],function(c){var a=c("jira/components/libs/marionette-1.4.1/controller");var b=c("jira/components/libs/underscore");var d=c("jquery");var e=c("jira/components/issueviewer/legacy/issuefieldutil");return a.extend({initialize:function(){this._promiseManager=new d.RecurringPromise();this._updatingPromise=this._promiseManager.sub();this._updatingPromise.done(b.bind(this._onUpdatingDone,this)).fail(b.bind(this._onUpdatingError,this));this._loadingPromise=this._promiseManager.sub();this._loadingPromise.done(b.bind(this._onLoadingDone,this)).fail(b.bind(this._onLoadingError,this))},cancel:function(){this._promiseManager.reset()},update:function(k){var i=k.issueEntity;var h=k.mergeIntoCurrent;var m=k.viewIssueData;var l=!!k.detailView;var j=new d.Deferred();var g;function f(n){return function(){return{taskKey:n,data:arguments,startIssueLoad:new Date()}}}g=this._updatingPromise.add(m.get(i.key,true,{issueEntity:i,loadingDeferred:j,mergeIntoCurrent:h,startIssueLoad:new Date(),detailView:l}).pipe(f("issue"),f("issue")));g.fail(function(){j.reject.apply(j,arguments)});return j.promise()},load:function(h){var f=h.issueEntity;var j=h.viewIssueData;var i=!!f.detailView;this._currentlyLoading=true;var g=new d.Deferred();this._loadingPromise.add(j.get(f.key,false,{issueEntity:f,loadFields:false,loadingDeferred:g,startIssueLoad:new Date(),detailView:i}));return g.promise()},isLoading:function(){return this._currentlyLoading},_onLoadingDone:function(h,i,g){var f=g.issueEntity;f.id=h.issue.id;f.key=h.issue.key;if(!h.pager){h.pager=f.pager}e.transformFieldHtml(h);this._currentlyLoading=false;i.loadDuration=new Date()-g.startIssueLoad;this.trigger("issueLoaded",h,i,g);g.loadingDeferred.resolve(h,i,g)},_onUpdatingDone:function(f){var g=f.data[1];if(g){g.isUpdate=true}this._onLoadingDone.apply(this,f.data)},_onLoadingError:function(i,k,g){var f=g.issueEntity;var h={issueId:f.id,issueKey:f.key,response:i};this._currentlyLoading=false;var j;switch(i.status){case 401:j="auth";break;case 403:j="forbidden";break;case 404:j="notfound";break;default:j="generic";break}this.trigger("error",j,h);g.loadingDeferred.reject()},_onUpdatingError:function(f){this._onLoadingError.apply(this,f.data)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/services/MetadataService.js' */
define("jira/components/issueviewer/services/metadataservice",["require"],function(b){var c=b("jira/util/data/meta");var a=b("jira/components/libs/underscore");return{removeIssueMetadata:function(e){var d=e.getEntity();if(d.metadata){a.each(d.metadata,function(g,f){c.set(f,null)})}else{if(c.get("issue-key")){c.set("issue-key",null)}}},addIssueMetadata:function(e){var d=e.getEntity();a.each(d.metadata,function(g,f){c.set(f,g)})}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/services/DarkFeatures.js' */
define("jira/components/issueviewer/services/darkfeatures",["require"],function(c){var a=c("jira/lib/class");var b=c("jira/ajs/dark-features");var e=c("wrm/data");var d=e.claim("com.atlassian.jira.jira-issue-nav-components:issueviewer.features");return(function(){var g=a.extend({init:function(i,h){this.featureKey=i;this.featureOffKey=h},enabled:function(){return(!this.featureKey||b.isEnabled(this.featureKey))&&!(this.featureOffKey&&b.isEnabled(this.featureOffKey))}});var f=g.extend({enabled:function(){return d[this.featureKey]}});return{NO_PREFETCH:new g("ka.NO_PREFETCH"),PROJECT_SHORTCUTS:new g("rotp.project.shortcuts"),REDIRECT_FROM_GLOBAL_TO_PROJECT:new g(null,"ka.REDIRECT_FROM_GLOBAL_TO_PROJECT_OFF"),HTTP_SESSIONS_DISABLED:new g("ka.HTTP_SESSIONS_DISABLED"),RTE_ENABLED:new f("rteEnabled")}})()});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/services/LinksCapturer.js' */
define("jira/components/issueviewer/linkscapturer",["require"],function(d){var g=d("jira/components/libs/underscore");var h=d("jira/util/events");var b=d("jira/ajs/layer/inline-layer");var i=d("jquery");var f=d("jira/components/libs/marionette-1.4.1/controller");var c=d("jira/message");var a=d("jira/ajs/ajax/smart-ajax");var e=d("jira/components/libs/uri");return f.extend({initialize:function(){g.bindAll(this,"_onRefineViewEvents","_offRefineViewEvents","_handleReviewViewEvents")},capture:function(j){if(j===this.el){return}this.el=j;this.linksToOtherIssues();this.linksToReorderSubtasks();this.viewOptionsForCurrentIssue()},linksToOtherIssues:function(){i(this.el).on("simpleClick","a.issue-link[data-issue-key]",g.bind(function(k){k.preventDefault();var j=i(k.target).closest("a").data("issue-key");this.trigger("linkToIssue",{issueKey:j})},this))},linksToReorderSubtasks:function(){i(this.el).on("simpleClick",".subtask-reorder a",g.bind(function(j){if(!j.target.href){return}j.preventDefault();i.ajax({type:"GET",data:{disableRedirect:true},url:j.target.href}).done(g.bind(function(){this.trigger("reorderSubtasks")},this)).fail(function(k){c.showErrorMsg(a.buildSimpleErrorContent(k),{closeable:true})})},this))},_handleReviewViewEvents:function(m){var l=m.currentTarget;i(l).parents("ul").find("a.aui-checked").removeClass("aui-checked");i(l).addClass("aui-checked");var k=new e(l.href).query(true);var j=this.triggerPreventable("refineViewer",{query:k});if(j.isPrevented){m.preventDefault()}},_onRefineViewEvents:function(k,j){i(j).on("simpleClick",["#attachment-sorting-options a","#attachment-sorting-order-options a","#attachment-view-mode-options a","#subtasks-show-all","#subtasks-show-open"].join(","),this._handleReviewViewEvents)},_offRefineViewEvents:function(k,j){i(j).off("simpleClick",["#attachment-sorting-options a","#attachment-sorting-order-options a","#attachment-view-mode-options a","#subtasks-show-all","#subtasks-show-open"].join(","),this._handleReviewViewEvents)},viewOptionsForCurrentIssue:function(){h.bind(b.EVENTS.show,this._onRefineViewEvents);h.bind(b.EVENTS.hide,this._offRefineViewEvents)},destroy:function(){h.unbind(b.EVENTS.show,this._onRefineViewEvents);h.unbind(b.EVENTS.hide,this._offRefineViewEvents)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/legacy/IssueEventBus.js' */
define("jira/components/issueviewer/legacy/issueeventbus",["require"],function(a){var b=a("jira/components/libs/brace");return b.Model.extend({namedAttributes:["issueId"],namedEvents:["save","saveSuccess","savingStarted","saveError","panelRendered","replacedFocusedPanel","fieldSubmitted","dismiss","refreshIssue","issueRefreshed","updateFromDom","updateStatusColor","quickEditKeyPressed","openFocusShifter"]})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/legacy/AsyncData.js' */
define("jira/components/issueviewer/legacy/asyncdata",["require"],function(b){var c=b("jira/components/libs/brace");var a=b("jira/components/libs/underscore");var d=b("jquery");return c.Evented.extend({namedEvents:["change"],initialize:function(e){this.data={};this.pendings={};this.accessIndex=0;if(e){this.disableCache=e.disableCache;this.maxCacheSize=e.maxCacheSize}},get:function(f,e,m){var k=new d.Deferred();var h=this.disableCache?{}:this.data;var j=a.bind(function(q,p){var o=this._set(h,f,a.defaults(q,{accessIndex:this.accessIndex++}),true,m);var n=a.defaults({changed:o},p,h[f]);if(m&&m.mergeIntoCurrent){n.mergeIntoCurrent=true}if(h[f]&&!h[f].error){k.resolve(h[f].value,n,m)}else{k.reject(h[f]&&h[f].value,n,m)}},this);var g=a.bind(function(n){var o=this.fetch(f,m);this.setPending(f,o,function(p){j({value:p,error:false,updated:new Date()},{initialLoad:n})},function(p){var q={error:true,updated:new Date()};if(p!==undefined){q.value=p}j(q,{initialLoad:n,error:true})})},this);var i=function(){j({},{fromCache:true})};var l=a.bind(function(){this.pendings[f].always(a.bind(j,this,{},{initialLoad:true}))},this);if(e||this.disableCache){g(false)}else{if(this.hasCached(f)){i()}else{if(this.hasPending(f)){l()}else{g(true)}}}return k.promise()},setPending:function(h,f,e,g){if(this.hasPending(h)){this.pendings[h].update(f)}else{this.pendings[h]=new d.ConcurrentDeferred(f)}return this.pendings[h].done(function(i){e(i)}).fail(function(i){g(i)})},getIdByValue:function(e){var f;for(f in this.data){if(this.data[f].value===e){return f}}return null},getMeta:function(e){return this.data[e]||{}},getAllCached:function(){var e={};a.each(this.data,function(f,g){e[g]=f.value});return e},hasCached:function(f){var e=this.getMeta(f);return e.value!==undefined||e.error===true},hasError:function(f){var e=this.getMeta(f);return e.error===true},hasPending:function(f){var e=this.pendings[f];return e?e.isPending():false},set:function(f,e){return this._set(this.data,f,{value:e,updated:new Date()},true)},remove:function(e){if(this.data[e]){delete this.data[e];this.triggerChange();return true}return false},setError:function(g,e){var f={error:true,updated:new Date()};if(e!==undefined){f.value=e}return this._set(this.data,g,f,true)},setMultiple:function(f){var e=new Date();var g=false;a.each(f,a.bind(function(h,i){h=a.pick(h,"value","error");h.updated=e;if(this._set(this.data,i,h,false)){g=true}},this));if(g){this.triggerChange()}return g},reset:function(e){this.data={};this.pendings={};this.accessIndex=0;if(e){this.setMultiple(e)}else{this.triggerChange()}},_set:function(i,k,j,g,f){if(this.disableCache&&i===this.data){i={}}var h=i[k]?a.clone(i[k]):{};var e=this.mergeFetchedAndCached(h,j,f?f:{},i[k]);if(g&&(!i[k]||e||i[k].error!==h.error)&&i===this.data){this.triggerChange()}if(!i[k]&&this.maxCacheSize&&a.keys(i).length===this.maxCacheSize){if(j.accessIndex){this._dropItem(i);i[k]=h}}else{i[k]=h}return e},_dropItem:function(g){var e=null;for(var f in g){if(!g[f].accessIndex){e=f;break}else{if(e===null||g[f].accessIndex<g[e].accessIndex){e=f}}}if(e!==null){delete g[e]}},fetch:function(g){var f=this.getMeta(g);var e=new d.Deferred();if(!this.hasCached(g)||f.error){e.reject(f.value)}else{e.resolve(f.value)}return e.promise()},mergeFetchedAndCached:function(f,h,e,g){a.extend(f,h);return !g||g.value!==f.value||g.error!==f.error}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/legacy/ViewIssueData.js' */
define("jira/components/issueviewer/legacy/viewissuedata",["require"],function(d){var c=d("jira/components/libs/underscore");var g=d("jira/components/issueviewer/legacy/asyncdata");var b=d("jira/components/issueviewer/services/darkfeatures");var e=d("jira/util/data/meta");var f=d("jquery");var a=window.AJS.contextPath();return g.extend({initialize:function(h){g.prototype.initialize.call(this,c.defaults(h||{},{disableCache:b.NO_PREFETCH.enabled(),maxCacheSize:e.get("viewissue-max-cache-size")}))},fetch:function(l,k){var o={issueKey:l,decorator:"none",prefetch:!!k.prefetch};o.shouldUpdateCurrentProject=!k.detailView;if(k.mergeIntoCurrent){if(this.data&&this.data[l]&&this.data[l].value&&this.data[l].value.issue){o.lastReadTime=this.data[l].value.readTime;o.fields=[];c.each(this.data[l].value.fields,function(p){o.fields.push(p.id+":"+p.contentId)});o.issue=["summary:"+this.data[l].value.issue.summaryContentId];o.links=[];var n=function(p){c.each(p.links,function(q){o.links.push(q.id+":"+q.contentId)});c.each(p.groups,function(q){n(q)})};c.each(this.data[l].value.issue.operations.linkGroups,function(p){n(p)});o.panels=[];var h=this;var i=function(p){c.each(h.data[l].value.panels[p],function(q){o.panels.push(q.completeKey+":"+q.contentId)})};i("leftPanels");i("rightPanels");i("infoPanels")}}if("loadFields" in k){o.loadFields=k.loadFields}if(k.issueEntity){c.defaults(o,k.issueEntity.viewIssueQuery)}var m=f.ajax({url:a+"/secure/AjaxIssueAction!default.jspa",headers:{"X-SITEMESH-OFF":true},data:o,type:k.mergeIntoCurrent?"POST":"GET"});var j=m.pipe(function(p){return p},function(p){return c.pick(p,"status","responseText","statusText")});j.abort=function(){m.abort.apply(m,arguments)};return j},mergeFetchedAndCached:function(l,t,u){if(this._skipMerging(l,t,u)){c.extend(l,t);return null}c.each(c.pairs(t),function(v){if(v[0]!=="value"){l[v[0]]=v[1]}});var m=t.value;var s=[];var k=[];var r=[];c.each(m.removedContentIds,function(x,w){var v;if(w==="fields"){v=s}else{if(w==="panels"){v=k}else{if(w==="links"){v=r}}}if(v){c.each(x,function(y){v.push(y)})}});var o=m.fields;var n=m.issue.operations.linkGroups;var q=m.panels;var p=m.issue.summary;if(this._nothingChanged(s,k,r,o,q,n,p)){return null}var i={updated:{},added:{},deleted:{}};var j=l.value;var h=this._comparator;if(s.length>0||o.length>0){this._mergeFields(o,j,i,s)}if(k.length>0||q.leftPanels.length>0||q.rightPanels.length>0||q.infoPanels.length>0){this._mergePanels(q,j,i,k,h)}if(r.length>0||n.length>0){this._mergeLinks(n,j,i,r,h)}if(p){this._mergeSummary(m,j,i)}return i},_skipMerging:function(j,i,h){return c.isEmpty(j)||!h.mergeIntoCurrent||!j.value||!j.value.issue||i.error===true},_nothingChanged:function(l,h,n,i,k,j,m){return l.length===0&&h.length===0&&n.length===0&&i.length===0&&j.length===0&&k.leftPanels.length===0&&k.rightPanels.length===0&&k.infoPanels.length===0&&!m},_mergeFields:function(j,l,k,h){k.added.fields=[];k.updated.fields=[];k.deleted.fields=[];c.each(j,function(m){var n=c.find(l.fields,function(o){return o.id===m.id});if(n){k.updated.fields.push(m.id)}else{k.added.fields.push(m.id)}});var i=j;c.each(l.fields,function(m){if(c.contains(h,m.id)){k.deleted.fields.push(m.id)}else{if(!c.contains(k.updated.fields,m.id)){i.push(m)}}});l.fields=i},_mergeSummary:function(j,i,h){h.updated.issue=["summary"];i.issue.summary=j.issue.summary;i.issue.summaryContentId=j.issue.summaryContentId},_mergePanels:function(l,k,j,h,i){j.added.panels={};j.updated.panels={};j.deleted.panels={};var m=function(n){j.added.panels[n]=[];j.updated.panels[n]=[];j.deleted.panels[n]=[];c.each(l[n],function(p){var q=c.find(k.panels[n],function(r){return r.id===p.id});if(q){j.updated.panels[n].push(p.id)}else{j.added.panels[n].push(p.id)}});var o=l[n];c.each(k.panels[n],function(p){if(c.contains(h,p.completeKey)){j.deleted.panels[n].push(p.id)}else{if(!c.contains(j.updated.panels[n],p.id)){o.push(p)}}});o.sort(i);k.panels[n]=o};m("leftPanels");m("rightPanels");m("infoPanels")},_mergeLinks:function(l,k,j,h,i){j.added.groups={};j.updated.groups={};j.deleted.groups={};var m=[];this._mergeOperationsLinks(l,k,m,j,h,i);this._mergeToolsLinks(l,k,m,j,h,i);k.issue.operations.linkGroups=m},_mergeOperationsLinks:function(q,k,j,h,r,i){h.added.groups["view.issue.opsbar"]=[];h.updated.groups["view.issue.opsbar"]=[];h.deleted.groups["view.issue.opsbar"]=[];var p=c.find(k.issue.operations.linkGroups,function(s){return"view.issue.opsbar"===s.id});var o=c.find(q,function(s){return"view.issue.opsbar"===s.id});var n={};var l={};if(o){c.each(o.groups,function(s){var t=c.find(p.groups,function(v){return s.id===v.id});if(t){h.updated.groups["view.issue.opsbar"].push(s.id)}else{h.added.groups["view.issue.opsbar"].push(s.id)}c.each(s.links,function(v){n[v.id]=v;l[v.id]=s.id});if(s.groups&&s.groups.length>0){var u=s.groups[0];c.each(u.groups,function(v){c.each(v.links,function(w){n[w.id]=w;l[w.id]=v.id})})}})}if(p){var m=[];if(o){c.each(o.groups,function(s){if(c.contains(h.added.groups["view.issue.opsbar"],s.id)){m.push(s)}})}c.each(p.groups,function(x){var w=[];var t=null;if(o){t=c.find(o.groups,function(A){return x.id===A.id});if(t){c.each(t.links,function(A){var B=c.find(x.links,function(C){return A.id===C.id});if(!B){w.push(A)}})}}var u=false;var s=function(B,A){c.each(B.links,function(C){var D=l[C.id];if(D&&D!==B.id){u=true}else{if(n[C.id]){A.push(n[C.id])}else{if(!c.contains(r,C.id)){A.push(C)}else{u=true}}}})};s(x,w);w.sort(i);x.links=w;var v=null;if(t&&t.groups&&t.groups.length>0){v=t.groups[0]}var z=null;if(x.groups&&x.groups.length>0){z=x.groups[0];var y=[];if(v){c.each(v.groups,function(A){var B=c.find(z.groups,function(C){return A.id===C.id});if(!B){y.push(A)}})}c.each(z.groups,function(C){var B=[];if(v){var A=c.find(v.groups,function(D){return D.id===C.id});if(A){c.each(A.links,function(D){var E=c.find(C.links,function(F){return D.id===F.id});if(!E){B.push(D)}})}}s(C,B);if(B.length>0){B.sort(i);C.links=B;y.push(C)}});if(y.length>0){y.sort(i);z.groups=y}else{z=null;u=true}}else{if(v){z=t.groups[0]}}x.groups=[];if(z){x.groups[0]=z}if(w.length>0||z){m.push(x);if(u&&!c.contains(h.updated.groups["view.issue.opsbar"],x.id)){h.updated.groups["view.issue.opsbar"].push(x.id)}}else{h.deleted.groups["view.issue.opsbar"].push(x.id)}});if(m.length>0){m.sort(i);p.groups=m;j.push(p)}}else{if(o){j.push(o)}}h.added.groups["view.issue.opsbar"].sort();h.deleted.groups["view.issue.opsbar"].sort();h.updated.groups["view.issue.opsbar"].sort()},_mergeToolsLinks:function(q,n,m,h,r,i){h.updated.groups["jira.issue.tools"]=false;var t=c.find(n.issue.operations.linkGroups,function(u){return"jira.issue.tools"===u.id});var s=c.find(q,function(u){return"jira.issue.tools"===u.id});var o={};if(s){h.updated.groups["jira.issue.tools"]=true;c.each(s.links,function(u){o[u.id]=u});if(s.groups&&s.groups.length>0){c.each(s.groups[0].links,function(u){o[u.id]=u})}}if(t){var j=[];if(s){c.each(s.links,function(u){var v=c.find(t.links,function(w){return u.id===w.id});if(!v){j.push(u)}})}c.each(t.links,function(u){if(o[u.id]){j.push(o[u.id])}else{if(!c.contains(r,u.id)){j.push(u)}}});j.sort(i);t.links=j;var p=null;if(s&&s.groups&&s.groups.length>0){p=s.groups[0]}if(t.groups&&t.groups.length>0){var l=t.groups[0];var k=[];if(p){c.each(p.links,function(u){var v=c.find(l.links,function(w){return u.id===w.id});if(!v){k.push(u)}})}c.each(l.links,function(u){if(o[u.id]){k.push(o[u.id])}else{if(!c.contains(r,u.id)){k.push(u)}}});t.groups=[];if(k.length>0){k.sort(i);l.links=k;t.groups[0]=l}}else{if(p){t.groups=[p]}}m.push(t)}else{if(s){m.push(s)}}},_comparator:function(i,h){if(i.weight&&h.weight){if(i.weight>h.weight){return 1}if(i.weight<h.weight){return -1}return 0}if(i.weight&&!h.weight){return 1}if(!i.weight&&h.weight){return -1}return 0},updateIssue:function(h,j){var i=this.getMeta(h);if(i&&i.value){i.value.fields=j.fields||{}}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/legacy/IssueFieldUtil.js' */
define("jira/components/issueviewer/legacy/issuefieldutil",["require"],function(b){var a=b("jira/components/libs/underscore");var d=b("jquery");var c={getFieldSelector:function(e){if(e==="issuetype"){return"#type-val"}else{if(e==="fixVersions"){return"#fixfor-val"}else{if(e==="summary"){return"#summary-val"}else{if(e==="labels"){return"#wrap-labels .value"}else{if(e==="duedate"){return"#due-date"}else{return"#"+e+"-val"}}}}}},matchesFieldSelector:function(e){return d(c.getFieldSelector(e)).length===1},transformFieldHtml:function(e){e.fields=a.map(e.fields,function(g){var f=d("<div />").htmlCatchExceptions(g.editHtml);if(f.find("input.radio,input.checkbox").length!==0){f.find("legend").eq(0).remove()}else{f.find("label").eq(0).remove()}return{id:g.id,label:g.label,editHtml:f.html(),required:g.required,contentId:g.contentId}});return e},getAccessKeyModifier:function(){var f=d("#home_link_drop").attr("title");var e=/\(([\w\+]+)\+\w\)/i;if(e.test(f)){return e.exec(f)[1]}else{return"Alt"}},isWikifield:function(g){try{var f=new DOMParser().parseFromString(g,"text/html");return f.body.querySelector(".jira-wikifield")}catch(h){return false}}};return c});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/Utils.js' */
define("jira/components/issueviewer/utils",["require"],function(b){var c=b("aui/inline-dialog");var a=b("jira/ajs/layer/inline-layer");var d=b("jquery");return{hideLightbox:function(){d.fancybox.close()},hideDropdown:function(){if(c.current&&c.current.id!=="column-picker-dialog"){c.current.hide()}if(a.current){var e=a.current.options.offsetTarget();if(e instanceof d){if(!e.is(":visible")){a.current.hide()}}}}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/actions.js' */
define("jira/components/issueviewer/actions",["require"],function(c){var b=c("jira/components/libs/underscore");var a=c("jira/components/util/events/issue-actions");return b.extend({},a,{EDIT_COMMENT:"editComment"})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/eventtypes.js' */
define("jira/components/issueviewer/eventtypes",["require"],function(a){var b=a("jira/util/events/types");b.ISSUE_REFRESHED="issueRefreshed";b.PANEL_REFRESHED="panelRefreshed";return b});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/analytics/IssueOpsbar.js' */
define("jira/components/issueviewer/analytics/issueopsbar",["require"],function(d){var c=d("jira/components/libs/underscore");var f=d("jquery");var e=d("jira/viewissue/analytics-utils");var a=d("jira/components/utils/ajshelper");var b=function(g){this.issueId=g.model.get("id");this.$el=g.$el;this.bindEventsToOpsbar()};b.prototype.triggerEvent=function(g){a.trigger("analyticsEvent",{name:"kickass.opsbar.operation",data:g})};b.prototype._getParamsButtonMain=function(i,h,g){return c.extend(this._getParamsCommon(i),{issueId:this.issueId,id:h.attr("id"),idx:g})};b.prototype._getParamsButtonSubmenu=function(h,k,g,j,i){return c.extend(this._getParamsCommon(h),{issueId:this.issueId,id:k.attr("id"),idx:g,parentId:j.attr("id"),parentIdx:i})};b.prototype._getParamsCommon=function(){return{context:e.context()}};b.prototype.bindEventsToOpsbar=function(){var g=this.$el.find("div.ops-menus .aui-button");g.each(function(l,h){var n=f(h);if(n.hasClass("toolbar-dropdown")){var m=n.find("a.toolbar-trigger");m.click(function(i){this.triggerEvent(this._getParamsButtonMain(i,m,l))}.bind(this));var j=n.find(".aui-list a");j.each(function(o,i){var p=f(i);p.click(function(q){this.triggerEvent(this._getParamsButtonSubmenu(q,p,o,m,l))}.bind(this))}.bind(this))}else{var k=n.find("a");k.click(function(i){this.triggerEvent(this._getParamsButtonMain(i,k,l))}.bind(this))}}.bind(this))};return b});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/IssueViewer.js' */
define("jira/components/issueviewer",["require"],function(h){var v=h("jira/components/libs/underscore");var w=h("jira/components/issueviewer/actions");var u=h("jira/components/issueviewer/services/darkfeatures");var r=h("jira/components/issueviewer/controllers/error");var m=h("jira/util/events");var s=h("jira/components/issueviewer/controllers/issue");var f=h("jira/components/issueviewer/legacy/issueeventbus");var k=h("jira/components/issueviewer/services/issueloader");var q=h("jira/components/issueviewer/entities/issue");var j=h("jquery");var d=h("jira/components/issueviewer/linkscapturer");var g=h("jira/components/libs/marionette-1.4.1/controller");var p=h("jira/util/data/meta");var e=h("jira/components/issueviewer/services/metadataservice");var i=h("jira/util/events/reasons");var b=window.JIRA;var n=h("jira/components/issueviewer/eventtypes");var c=h("jira/components/issueviewer/utils");var t=h("jira/components/issueviewer/legacy/viewissuedata");var a=h("wrm/data");var l=window.AJS.contextPath();var o=function(){b.trace.apply(b,arguments)};return g.extend({namedEvents:["loadComplete","loadError","close","replacedFocusedPanel","linkToIssue"],initialize:function(x){x=x||{};x.useJIRAEvents=x.useJIRAEvents!==false;this.model=new q();this.eventBus=new f();this.viewIssueData=new t();this._buildIssueLoader();this._buildLinksCapturer();this._buildErrorController({showReturnToSearchOnError:x.showReturnToSearchOnError});this._buildIssueController();m.bind(n.REFRESH_ISSUE_PAGE,v.bind(function(z,A,y){if(this.model.isCurrentIssue(A)){this.refreshIssue(y)}},this))},_buildIssueLoader:function(){this.issueLoader=new k();this.listenTo(this.issueLoader,"error",function(y,x){this.trigger("loadError",x);this.errorController.render(y,x.issueKey);this.removeIssueMetadata();o("jira.issue.refreshed",{id:x.issueId});if(this.options.useJIRAEvents){m.trigger(n.ISSUE_REFRESHED,[x.issueId])}});this.listenTo(this.issueLoader,"issueLoaded",this._onIssueLoaded)},_buildLinksCapturer:function(){this.linksCapturer=new d();this.listenTo(this.linksCapturer,{linkToIssue:function(x){this.trigger("linkToIssue",x)},refineViewer:function(x){this.trigger("refineViewer",x)},reorderSubtasks:function(){this.issueController.showLoading();this.refreshIssue({reason:w.UPDATE}).always(v.bind(function(){this.issueController.hideLoading()},this))}})},_buildErrorController:function(x){x=x||{};this.errorController=new r({contextPath:l,showReturnToSearchOnError:x.showReturnToSearchOnError});this.listenTo(this.errorController,"before:render",function(){this.issueController.close()});this.listenTo(this.errorController,"returnToSearch",function(){this.trigger("close")});this.listenAndRethrow(this.errorController,"render")},_buildIssueController:function(){this.issueController=new s({model:this.model});this.listenAndRethrow(this.issueController,"replacedFocusedPanel");this.listenTo(this.issueController,{render:function(y,x){c.hideDropdown();this.errorController.close();this.trigger("render",y,x);o("jira.psycho.issue.refreshed",{id:this.model.getId()})},renderMainView:function(x){if(this.options.useJIRAEvents){m.trigger(n.NEW_CONTENT_ADDED,[x,i.pageLoad]);m.trigger(n.REFRESH_TOGGLE_BLOCKS,[this.model.getId()])}this.trigger("renderMainView",x,this.model.getId())},panelRendered:function(z,y,x){this.eventBus.triggerPanelRendered(z,y);if(this.options.useJIRAEvents){m.trigger(n.PANEL_REFRESHED,[z,y,x])}this.trigger("panelRendered",z,y,x)},close:function(){c.hideDropdown()},individualPanelRendered:function(x){if(this.options.useJIRAEvents){m.trigger(n.NEW_CONTENT_ADDED,[x,i.panelRefreshed])}this.trigger("individualPanelRendered",x)}})},_updateModel:function(y,x){this.model.update(y,x)},_onIssueLoaded:function(x,E,F){var D=!u.NO_PREFETCH.enabled();var B=F.issueEntity;var y=!E.mergeIntoCurrent&&F.initialize!==false;var C=!this.model.isCurrentIssue(B.id);var z=!!B.detailView;if(!E.isUpdate||y){this.model.resetToDefault();this.errorController.close()}this._updateModel(x,{initialize:y,changed:E.changed,mergeIntoCurrent:E.mergeIntoCurrent});if(!E.isUpdate||y){this.issueController.close()}this.issueController.show();if(D&&E.fromCache){this.refreshIssue(B,{fromCache:true,mergeIntoCurrent:!E.error,detailView:z})}e.addIssueMetadata(this.model);if(B.bringToFocus){B.bringToFocus()}this._triggerLoadComplete(C,E,B);var A={id:B.id};if(E.fromCache){o("jira.issue.loadFromCache",A)}else{o("jira.issue.loadFromServer",A)}o("jira.issue.refreshed",A);if(this.options.useJIRAEvents){m.trigger(n.ISSUE_REFRESHED,[B.id])}},_triggerLoadComplete:function(x,z,y){this.trigger("loadComplete",this.model,{isNewIssue:x,issueId:y.id,issueKey:y.key,duration:z.loadDuration,loadReason:z.fromCache?"issues-cache-refresh":undefined,fromCache:z.fromCache,issueRefreshedEvent:!!this.options.useJIRAEvents})},abortPending:function(){this.issueLoader.cancel()},canDismissComment:function(){return this.issueController.canDismissComment()},beforeHide:function(){c.hideLightbox();c.hideDropdown();this.abortPending();this.removeIssueMetadata()},beforeShow:function(){e.addIssueMetadata(this.model)},getIssueId:function(){return this.model.getEntity().id||null},getIssueKey:function(){return this.model.getEntity().key||null},getProjectKey:function(){return this.model.get("projectKey")||null},getProjectType:function(){return this.model.get("projectType")||null},getProjectId:function(){return this.model.get("projectId")||null},_loadIssueFromDom:function(x){if(!x.id||x.id===-1){this.errorController.applyToDom("notfound",x.key);this.trigger("loadError")}else{this.issueController.applyToDom(v.extend({id:-1},x))}p.set("serverRenderedViewIssue",null);var y={id:this.getIssueId()};o("jira.issue.refreshed",y)},loadIssue:function(x){var y=p.get("serverRenderedViewIssue");if(y){x.project={id:a.claim("projectId"),key:a.claim("projectKey"),projectType:a.claim("projectType")};return this.loadIssueRenderedByTheServer(x)}else{if(!this.canDismissComment()||!x.key){return new j.Deferred().reject()}this.issueController.showLoading();return this.issueLoader.load({issueEntity:x,viewIssueData:this.viewIssueData})}},loadIssueRenderedByTheServer:function(y){var x=j("#key-val");var z=j("#summary-val");y.id=x.attr("rel")||-1;y.summary=z.text();this._loadIssueFromDom(y);this.trigger("loadComplete",this.model,{isNewIssue:false,issueId:y.id,issueKey:y.key,duration:0,loadReason:undefined,fromCache:false});return new j.Deferred().resolve().promise()},refreshIssue:function(x){var y;x=v.defaults({},x,{mergeIntoCurrent:true});if(this.model.hasIssue()){y=this.issueLoader.update({viewIssueData:this.viewIssueData,issueEntity:this.model.getEntity(),mergeIntoCurrent:x.mergeIntoCurrent,detailView:x.detailView});if(x.complete){y=y.done(x.complete).fail(x.complete)}this.issueController.showLoading()}else{y=new j.Deferred().resolve().promise()}return y},removeIssueMetadata:function(){e.removeIssueMetadata(this.model)},setContainer:function(x){this.linksCapturer.capture(x);this.errorController.setElement(x);this.issueController.setElement(x)},isCurrentlyLoading:function(){return this.issueLoader.isLoading()},updateIssueWithQuery:function(x){this.issueController.showLoading();this.model.updateIssueQuery(x);this.issueLoader.update({viewIssueData:this.viewIssueData,issueEntity:this.model.getEntity(),mergeIntoCurrent:true})},dismiss:function(){this.model.resetToDefault();this.errorController.close();this.issueController.close();this.linksCapturer.destroy()},close:function(){if(this.canDismissComment()){this.dismiss();this.trigger("close")}},applyResponsiveDesign:function(){this.issueController.applyResponsiveDesign()},isShowingError:function(){return this.errorController.isRendered()},focus:function(){this.issueController.focus()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/IssueViewerAppModule.js' */
define("jira/components/issueviewer/appmodule",["require"],function(d){var c=d("jira/components/libs/underscore");var a=d("jira/components/issueviewer");var b=d("jira/components/libs/marionette-1.4.1/appmodule");return b.extend({name:"issueViewer",generateMasterRequest:true,create:function(e){e=c.defaults({},e,{showReturnToSearchOnError:function(){return false}});return new a({showReturnToSearchOnError:e.showReturnToSearchOnError})},commands:function(){return{abortPending:true,beforeHide:true,beforeShow:true,removeIssueMetadata:true,updateIssueWithQuery:true,close:true,setContainer:true,dismiss:true}},requests:function(){return{loadIssue:true,canDismissComment:true,getIssueId:true,getIssueKey:true,refreshIssue:true,isCurrentlyLoading:true}},events:function(){return["loadComplete","loadError","close","render","replacedFocusedPanel","linkToIssue","refineViewer"]}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/Issue.soy' */
// This file was automatically generated from Issue.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.IssueViewer.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.IssueViewer == 'undefined') { JIRA.Components.IssueViewer = {}; }
if (typeof JIRA.Components.IssueViewer.Templates == 'undefined') { JIRA.Components.IssueViewer.Templates = {}; }


JIRA.Components.IssueViewer.Templates.layout = function(opt_data, opt_ignored) {
  return '<div id="issue-content" class="issue-edit-form">' + ((opt_data.serverRenderedViewIssue) ? '<header id="stalker" class="issue-header js-stalker">' + JIRA.Components.IssueViewer.Templates.Header.issueHeader(opt_data) + '</header><div class="issue-body-content">' + JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels(opt_data) + '</div>' : '<div class="issue-header-container"></div><div class="issue-body-container"></div>') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.layout.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.layout';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/IssueHeader.soy' */
// This file was automatically generated from IssueHeader.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.IssueViewer.Templates.Header.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.IssueViewer == 'undefined') { JIRA.Components.IssueViewer = {}; }
if (typeof JIRA.Components.IssueViewer.Templates == 'undefined') { JIRA.Components.IssueViewer.Templates = {}; }
if (typeof JIRA.Components.IssueViewer.Templates.Header == 'undefined') { JIRA.Components.IssueViewer.Templates.Header = {}; }


JIRA.Components.IssueViewer.Templates.Header.opsbar = function(opt_data, opt_ignored) {
  var output = '<div class="ops-cont"><div class="ops-menus aui-toolbar2"><div class="aui-toolbar2-inner">';
  if (opt_data.issue.operations) {
    var linkGroupList6 = opt_data.issue.operations.linkGroups;
    var linkGroupListLen6 = linkGroupList6.length;
    for (var linkGroupIndex6 = 0; linkGroupIndex6 < linkGroupListLen6; linkGroupIndex6++) {
      var linkGroupData6 = linkGroupList6[linkGroupIndex6];
      if (linkGroupData6.id && linkGroupData6.id == 'view.issue.opsbar') {
        output += '<div class="aui-toolbar2-primary">';
        var subGroupList10 = linkGroupData6.groups;
        var subGroupListLen10 = subGroupList10.length;
        for (var subGroupIndex10 = 0; subGroupIndex10 < subGroupListLen10; subGroupIndex10++) {
          var subGroupData10 = subGroupList10[subGroupIndex10];
          output += JIRA.Components.IssueViewer.Templates.Header.linkGroup({group: subGroupData10});
        }
        output += '</div>';
      } else if (linkGroupData6.id && linkGroupData6.id == 'jira.issue.tools') {
        output += '<div class="aui-toolbar2-secondary">' + JIRA.Components.IssueViewer.Templates.Header.linkGroup({group: linkGroupData6}) + '</div>';
      }
    }
  }
  output += '</div></div>';
  if (opt_data.issue.operations) {
    var linkGroupList24 = opt_data.issue.operations.linkGroups;
    var linkGroupListLen24 = linkGroupList24.length;
    for (var linkGroupIndex24 = 0; linkGroupIndex24 < linkGroupListLen24; linkGroupIndex24++) {
      var linkGroupData24 = linkGroupList24[linkGroupIndex24];
      if (linkGroupData24.id && linkGroupData24.id == 'view.issue.opsbar') {
        var subGroupList27 = linkGroupData24.groups;
        var subGroupListLen27 = subGroupList27.length;
        for (var subGroupIndex27 = 0; subGroupIndex27 < subGroupListLen27; subGroupIndex27++) {
          var subGroupData27 = subGroupList27[subGroupIndex27];
          output += JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown({group: subGroupData27});
        }
      } else if (linkGroupData24.id && linkGroupData24.id == 'jira.issue.tools') {
        output += JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown({group: linkGroupData24});
      }
    }
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.opsbar.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.opsbar';
}


JIRA.Components.IssueViewer.Templates.Header.issueHeader = function(opt_data, opt_ignored) {
  return '<div class="issue-header-content">' + aui.page.pageHeader({content: '' + ((opt_data.issue.project) ? aui.page.pageHeaderImage({content: '' + JIRA.Templates.Headers.projectAvatar({id: '' + soy.$$escapeHtml(opt_data.issue.project.id), projectKey: '' + soy.$$escapeHtml(opt_data.issue.project.key), projectName: '' + soy.$$escapeHtml(opt_data.issue.project.name), avatarUrl: '' + soy.$$escapeHtml(opt_data.issue.project.avatarUrls['48x48']), avatarAlt: '' + soy.$$escapeHtml(opt_data.issue.project.name), isSystemAvatar: opt_data.issue.project.systemAvatar, hasProjectShortcut: opt_data.hasProjectShortcut})}) + aui.page.pageHeaderMain({content: '<ol class="aui-nav aui-nav-breadcrumbs">' + ((opt_data.issue.project.archived) ? '<li><span id="project-name-val">' + soy.$$escapeHtml(opt_data.issue.project.name) + '</span></li>' : '<li><a id="project-name-val" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issue.project.key) + '">' + soy.$$escapeHtml(opt_data.issue.project.name) + '</a></li>') + ((opt_data.issue.parent && opt_data.issue.parent.id) ? '<li><a class="issue-link" data-issue-key="' + soy.$$escapeHtml(opt_data.issue.parent.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issue.parent.key) + '" id="parent_issue_summary" title="' + soy.$$escapeHtml(opt_data.issue.parent.summary) + '">' + soy.$$escapeHtml(opt_data.issue.parent.key) + ' ' + soy.$$escapeHtml(opt_data.issue.parent.summary) + '</a></li>' : '') + '<li><a class="issue-link" data-issue-key="' + soy.$$escapeHtml(opt_data.issue.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issue.key) + '" id="key-val" rel="' + soy.$$escapeHtml(opt_data.issue.id) + '">' + soy.$$escapeHtml(opt_data.issue.key) + '</a></li></ol><h1 id="summary-val">' + soy.$$escapeHtml(opt_data.issue.summary) + '</h1>'}) : '') + aui.page.pageHeaderActions({content: '<div id="issue-header-pager">' + ((opt_data.pager) ? JIRA.Components.IssueViewer.Templates.Header.pager(opt_data.pager) : '') + '</div>'})}) + ((opt_data.issue.project && opt_data.issue.project.archived) ? aui.message.info({content: '<p><b>' + soy.$$escapeHtml("This issue belongs to an archived project.") + '</b> ' + soy.$$escapeHtml("You can view it, but you can\x27t modify it.") + ' <a target=\'_blank\' href=\'' + soy.$$escapeHtml(opt_data.archivingHelpUrl) + '\'>' + soy.$$escapeHtml("Learn more") + '</a>', id: 'issue-header-archived'}) : '') + '<div class="command-bar">' + ((opt_data.serverRenderedViewIssue) ? JIRA.Components.IssueViewer.Templates.Header.opsbar(opt_data) : '') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.issueHeader.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.issueHeader';
}


JIRA.Components.IssueViewer.Templates.Header.linkGroup = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.group.header && opt_data.group.header.label) {
    output += (opt_data.group.links.length > 0 || opt_data.group.groups.length > 0) ? JIRA.Components.IssueViewer.Templates.Header.dropdownTrigger(opt_data.group) : '';
  } else {
    output += '<div ' + ((opt_data.group.id) ? 'id="opsbar-' + soy.$$escapeHtml(opt_data.group.id) + '" ' : '') + 'class="aui-buttons pluggable-ops">';
    var linkList142 = opt_data.group.links;
    var linkListLen142 = linkList142.length;
    for (var linkIndex142 = 0; linkIndex142 < linkListLen142; linkIndex142++) {
      var linkData142 = linkList142[linkIndex142];
      output += JIRA.Components.IssueViewer.Templates.Header.toolbarItem({link: linkData142});
    }
    if (opt_data.group.groups.length == 1 && opt_data.group.groups[0].links.length == 0 && opt_data.group.groups[0].groups.length == 1 && opt_data.group.groups[0].groups[0].links.length == 1) {
      output += JIRA.Components.IssueViewer.Templates.Header.toolbarItem({link: opt_data.group.groups[0].groups[0].links[0]});
    } else {
      var subGroupList151 = opt_data.group.groups;
      var subGroupListLen151 = subGroupList151.length;
      for (var subGroupIndex151 = 0; subGroupIndex151 < subGroupListLen151; subGroupIndex151++) {
        var subGroupData151 = subGroupList151[subGroupIndex151];
        output += JIRA.Components.IssueViewer.Templates.Header.linkGroup({group: subGroupData151});
      }
    }
    output += '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.linkGroup.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.linkGroup';
}


JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.group.header && opt_data.group.header.label) {
    output += (opt_data.group.links.length > 0 || opt_data.group.groups.length > 0) ? JIRA.Components.IssueViewer.Templates.Header.dropdownMenu(opt_data.group) : '';
  } else {
    if (! (opt_data.group.groups.length == 1 && opt_data.group.groups[0].links.length == 0 && opt_data.group.groups[0].groups.length == 1 && opt_data.group.groups[0].groups[0].links.length == 1)) {
      var subGroupList165 = opt_data.group.groups;
      var subGroupListLen165 = subGroupList165.length;
      for (var subGroupIndex165 = 0; subGroupIndex165 < subGroupListLen165; subGroupIndex165++) {
        var subGroupData165 = subGroupList165[subGroupIndex165];
        output += JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown({group: subGroupData165});
      }
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown';
}


JIRA.Components.IssueViewer.Templates.Header.dropdownTrigger = function(opt_data, opt_ignored) {
  return '<a href="#"' + ((opt_data.header.id) ? 'id="' + soy.$$escapeHtml(opt_data.header.id) + '"' : '') + ((opt_data.header.id) ? 'aria-owns="' + soy.$$escapeHtml(opt_data.header.id) + '_drop"' : '') + 'aria-haspopup="true"' + JIRA.Components.IssueViewer.Templates.Header.titleAttr({title: opt_data.header.title, label: opt_data.header.label}) + 'class="aui-button ' + ((opt_data.links.length > 0 || opt_data.groups.length > 0) ? ' aui-dropdown2-trigger' : '') + ((opt_data.header.styleClass) ? ' ' + soy.$$escapeHtml(opt_data.header.styleClass) : '') + '">' + ((opt_data.header.iconClass) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.header.iconClass) + '"></span> ' : '') + '<span class="dropdown-text">' + soy.$$truncate(soy.$$escapeHtml(opt_data.header.label), 25, true) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.dropdownTrigger.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.dropdownTrigger';
}


JIRA.Components.IssueViewer.Templates.Header.dropdownMenu = function(opt_data, opt_ignored) {
  var output = '<aui-dropdown-menu ' + ((opt_data.header.id) ? 'id="' + soy.$$escapeHtml(opt_data.header.id) + '_drop"' : '') + '>';
  if (opt_data.links.length > 0) {
    output += '<ul>';
    var linkList214 = opt_data.links;
    var linkListLen214 = linkList214.length;
    for (var linkIndex214 = 0; linkIndex214 < linkListLen214; linkIndex214++) {
      var linkData214 = linkList214[linkIndex214];
      output += JIRA.Components.IssueViewer.Templates.Header.dropdownItem(linkData214);
    }
    output += '</ul>';
  }
  var groupList218 = opt_data.groups;
  var groupListLen218 = groupList218.length;
  for (var groupIndex218 = 0; groupIndex218 < groupListLen218; groupIndex218++) {
    var groupData218 = groupList218[groupIndex218];
    output += '<aui-section>';
    var linkList220 = groupData218.links;
    var linkListLen220 = linkList220.length;
    for (var linkIndex220 = 0; linkIndex220 < linkListLen220; linkIndex220++) {
      var linkData220 = linkList220[linkIndex220];
      output += JIRA.Components.IssueViewer.Templates.Header.dropdownItem(linkData220);
    }
    output += '</aui-section>';
  }
  output += '</aui-dropdown-menu>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.dropdownMenu.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.dropdownMenu';
}


JIRA.Components.IssueViewer.Templates.Header.dropdownItem = function(opt_data, opt_ignored) {
  return '<aui-item-link href="' + ((opt_data.href) ? soy.$$escapeHtml(opt_data.href) : '#') + '"' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.styleClass) ? 'class="' + soy.$$escapeHtml(opt_data.styleClass) + '"' : '') + JIRA.Components.IssueViewer.Templates.Header.titleAttr(opt_data) + '><span class="trigger-label">' + soy.$$truncate(soy.$$escapeHtml(opt_data.label), 25, true) + '</span></aui-item-link>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.dropdownItem.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.dropdownItem';
}


JIRA.Components.IssueViewer.Templates.Header.toolbarItem = function(opt_data, opt_ignored) {
  return '<a id="' + soy.$$escapeHtml(opt_data.link.id) + '"' + JIRA.Components.IssueViewer.Templates.Header.titleAttr({title: opt_data.link.title, label: opt_data.link.label}) + 'class="aui-button toolbar-trigger' + ((opt_data.link.styleClass) ? ' ' + soy.$$escapeHtml(opt_data.link.styleClass) : '') + '" href="' + ((opt_data.link.href) ? soy.$$escapeHtml(opt_data.link.href) : '#') + '">' + ((opt_data.link.iconClass) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.link.iconClass) + '"></span> <span class="trigger-label">' + soy.$$truncate(soy.$$escapeHtml(opt_data.link.label), 25, true) + '</span>' : '<span class="trigger-label">' + soy.$$truncate(soy.$$escapeHtml(opt_data.link.label), 25, true) + '</span>') + '</a>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.toolbarItem.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.toolbarItem';
}


JIRA.Components.IssueViewer.Templates.Header.titleAttr = function(opt_data, opt_ignored) {
  return '' + ((opt_data.title) ? 'title="' + soy.$$escapeHtml(opt_data.title) + '"' : (opt_data.label && opt_data.label.length && opt_data.label.length > 25) ? 'title="' + soy.$$escapeHtml(opt_data.label) + '"' : '');
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.titleAttr.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.titleAttr';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/IssueBody.soy' */
// This file was automatically generated from IssueBody.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.IssueViewer.Templates.Body.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.IssueViewer == 'undefined') { JIRA.Components.IssueViewer = {}; }
if (typeof JIRA.Components.IssueViewer.Templates == 'undefined') { JIRA.Components.IssueViewer.Templates = {}; }
if (typeof JIRA.Components.IssueViewer.Templates.Body == 'undefined') { JIRA.Components.IssueViewer.Templates.Body = {}; }


JIRA.Components.IssueViewer.Templates.Body.issueBody = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels({panels: false, serverRenderedViewIssue: false});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.issueBody.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.issueBody';
}


JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels = function(opt_data, opt_ignored) {
  var output = '<div class="aui-group issue-body"><div class="aui-item issue-main-column">';
  if (opt_data.serverRenderedViewIssue) {
    var panelList10 = opt_data.panels.leftPanels;
    var panelListLen10 = panelList10.length;
    for (var panelIndex10 = 0; panelIndex10 < panelListLen10; panelIndex10++) {
      var panelData10 = panelList10[panelIndex10];
      output += JIRA.Components.IssueViewer.Templates.Body.issuePanel(panelData10);
    }
  }
  output += '</div><div id="viewissuesidebar" class="aui-item issue-side-column">';
  if (opt_data.serverRenderedViewIssue) {
    var panelList16 = opt_data.panels.rightPanels;
    var panelListLen16 = panelList16.length;
    for (var panelIndex16 = 0; panelIndex16 < panelListLen16; panelIndex16++) {
      var panelData16 = panelList16[panelIndex16];
      output += JIRA.Components.IssueViewer.Templates.Body.issuePanel(panelData16);
    }
  }
  output += '</div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels';
}


JIRA.Components.IssueViewer.Templates.Body.issuePanel = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.renderHeader) {
    output += '<div id=' + soy.$$escapeHtml(opt_data.id) + ' class="module toggle-wrap"><div id="' + soy.$$escapeHtml(opt_data.id) + '_heading" class="mod-header"><ul class="ops">';
    var linkList28 = opt_data.headerLinks.links;
    var linkListLen28 = linkList28.length;
    for (var linkIndex28 = 0; linkIndex28 < linkListLen28; linkIndex28++) {
      var linkData28 = linkList28[linkIndex28];
      output += '<li>' + JIRA.Components.IssueViewer.Templates.Body.simpleLink({link: linkData28}) + '</li>';
    }
    if (opt_data.headerLinks.groups.length > 0) {
      output += '<li class="drop"><div class="aui-dd-parent">' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<div class="aui-button aui-button-compact aui-button-subtle js-default-dropdown" title="' + soy.$$escapeHtml("Options") + '"><span class="aui-icon aui-icon-small aui-iconfont-more">' + soy.$$escapeHtml("Options") + '</span></div>' : '<a href="#" class="icon drop-menu js-default-dropdown" title="' + soy.$$escapeHtml("Options") + '"><span>' + soy.$$escapeHtml("Options") + '</span></a>') + '<div class="aui-dropdown-content aui-list">';
      var groupList51 = opt_data.headerLinks.groups;
      var groupListLen51 = groupList51.length;
      for (var groupIndex51 = 0; groupIndex51 < groupListLen51; groupIndex51++) {
        var groupData51 = groupList51[groupIndex51];
        output += ((groupData51.header && groupData51.header.label) ? '<h5>' + soy.$$escapeHtml(groupData51.header.label) + '</h5>' : '') + '<ul ' + ((groupData51.header && groupData51.header.id) ? 'id="' + soy.$$escapeHtml(groupData51.header.id) + '"' : '') + 'class="aui-list-section' + ((groupData51.header && groupData51.header.styleClass) ? ' ' + soy.$$escapeHtml(groupData51.header.styleClass) : '') + ((groupIndex51 == 0) ? ' aui-first' : '') + ((groupIndex51 == groupListLen51 - 1) ? ' aui-last' : '') + '">';
        var linkList75 = groupData51.links;
        var linkListLen75 = linkList75.length;
        for (var linkIndex75 = 0; linkIndex75 < linkListLen75; linkIndex75++) {
          var linkData75 = linkList75[linkIndex75];
          output += '<li class="aui-list-item">' + JIRA.Components.IssueViewer.Templates.Body.simpleLink({link: linkData75, additionalStyleClass: 'aui-list-item-link'}) + '</li>';
        }
        output += '</ul>';
      }
      output += '</div></div></li>';
    }
    output += '</ul>';
    if (opt_data.subpanelHtmls.length > 0) {
      output += '<div class="mod-header-panels">';
      var subPanelList89 = opt_data.subpanelHtmls;
      var subPanelListLen89 = subPanelList89.length;
      for (var subPanelIndex89 = 0; subPanelIndex89 < subPanelListLen89; subPanelIndex89++) {
        var subPanelData89 = subPanelList89[subPanelIndex89];
        output += '<div class="mod-header-panel">' + soy.$$filterNoAutoescape(subPanelData89) + '</div>';
      }
      output += '</div>';
    }
    output += ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<a href="#" class="aui-button toggle-title"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><g fill="none" fill-rule="evenodd"><path d="M3.29175 4.793c-.389.392-.389 1.027 0 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955c.388-.392.388-1.027 0-1.419-.389-.392-1.018-.392-1.406 0l-2.298 2.317-2.307-2.327c-.194-.195-.449-.293-.703-.293-.255 0-.51.098-.703.293z" fill="#344563"/></g></svg></a><h4 class="toggle-title">' + soy.$$escapeHtml(opt_data.label) + '</h4>' : '<h2 class="toggle-title">' + soy.$$escapeHtml(opt_data.label) + '</h2>') + '</div><div class="mod-content">' + soy.$$filterNoAutoescape(opt_data.html) + '</div></div>';
  } else {
    output += soy.$$filterNoAutoescape(opt_data.html);
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.issuePanel.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.issuePanel';
}


JIRA.Components.IssueViewer.Templates.Body.errorsLoading = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '' + ((opt_data.isTimeout) ? soy.$$escapeHtml("The Jira server could not be contacted. This may be a temporary glitch or the server may be down.") : soy.$$escapeHtml("There were errors loading the issue."));
  if (opt_data.errorMessages) {
    output += '<ul>';
    var msgList121 = opt_data.errorMessages;
    var msgListLen121 = msgList121.length;
    for (var msgIndex121 = 0; msgIndex121 < msgListLen121; msgIndex121++) {
      var msgData121 = msgList121[msgIndex121];
      output += '<li>' + soy.$$escapeHtml(msgData121) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.errorsLoading.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.errorsLoading';
}


JIRA.Components.IssueViewer.Templates.Body.focusShifter = function(opt_data, opt_ignored) {
  return '<div class="aui-message closeable" id="focus-shifter"><label><span>' + soy.$$escapeHtml("viewissue.focusshifter") + '</span><div id="focus-shifter-content"></div></label><span class="aui-icon icon-close"></span></div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.focusShifter.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.focusShifter';
}


JIRA.Components.IssueViewer.Templates.Body.simpleLink = function(opt_data, opt_ignored) {
  return '<a' + ((opt_data.link.id) ? ' id="' + soy.$$escapeHtml(opt_data.link.id) + '"' : '') + 'href="' + ((opt_data.link.href) ? soy.$$escapeHtml(opt_data.link.href) : '#') + '"' + ((opt_data.link.styleClass || opt_data.additionalStyleClass) ? 'class="' + soy.$$escapeHtml(opt_data.link.styleClass) + ((opt_data.additionalStyleClass) ? ' ' + soy.$$escapeHtml(opt_data.additionalStyleClass) : '') + '"' : '') + ((opt_data.link.title) ? 'title="' + soy.$$escapeHtml(opt_data.link.title) + '"' : '') + '><span>' + soy.$$escapeHtml(opt_data.link.label) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.simpleLink.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.simpleLink';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/IssueError.soy' */
// This file was automatically generated from IssueError.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.IssueViewer.Templates.Error.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.IssueViewer == 'undefined') { JIRA.Components.IssueViewer = {}; }
if (typeof JIRA.Components.IssueViewer.Templates == 'undefined') { JIRA.Components.IssueViewer.Templates = {}; }
if (typeof JIRA.Components.IssueViewer.Templates.Error == 'undefined') { JIRA.Components.IssueViewer.Templates.Error = {}; }


JIRA.Components.IssueViewer.Templates.Error.NoPermission = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.Generic(null);
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.NoPermission.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.NoPermission';
}


JIRA.Components.IssueViewer.Templates.Error.DoesNotExist = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError({title: "You can\x27t view this issue", body: "It may have been deleted or you don\x27t have permission to view it.", error: 'canNotBeViewed', showReloadButton: false});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.DoesNotExist.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.DoesNotExist';
}


JIRA.Components.IssueViewer.Templates.Error.Generic = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError({title: "This issue can\x27t be displayed right now", body: "It could be for a variety of reasons, like a network or application error.", bodyAfter: "Try reloading the page.", error: 'genericError', showReloadButton: true});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.Generic.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.Generic';
}


JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError({header: '<header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-actions"><div id="issue-header-pager"></div></div></div></header>', body: '<div class="issue-error"><span class="error-image error-image-' + soy.$$escapeHtml(opt_data.error) + '"></span><h1>' + soy.$$escapeHtml(opt_data.title) + '</h1><p>' + soy.$$escapeHtml(opt_data.body) + ' ' + ((opt_data.bodyAfter) ? ' <br/>' + soy.$$escapeHtml(opt_data.bodyAfter) : '') + '</p>' + ((opt_data.showReloadButton) ? '<p><button id="issue-error-reload-button" class="aui-button aui-button-primary">Reload</button></p>' : '') + '</div>'});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError';
}


JIRA.Components.IssueViewer.Templates.Error.viewIssueError = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError({header: '<header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-main"><h1>' + soy.$$escapeHtml(opt_data.title) + '</h1></div><div class="aui-page-header-actions"><div id="issue-header-pager"></div></div></div></header>', body: '<div class="aui-message ' + soy.$$escapeHtml(opt_data.error) + '"><span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.error) + '"></span><p>' + soy.$$escapeHtml(opt_data.body) + '</p><p>' + soy.$$escapeHtml("If you think this message is wrong, please contact your") + ' <a href="' + soy.$$escapeHtml("") + '/secure/ContactAdministrators!default.jspa">' + soy.$$escapeHtml("Jira administrators") + '</a>.</p>' + ((opt_data.returnToSearch) ? '<p><a id="return-to-search" class="push-state" href="' + soy.$$escapeHtml("") + '/issues/" title="' + soy.$$escapeHtml("Return to search") + '">' + soy.$$escapeHtml("Return to search") + '</a></p>' : '') + '</div>'});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.viewIssueError.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.viewIssueError';
}


JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError = function(opt_data, opt_ignored) {
  return '<div id="issue-content"><header class="issue-header issue-error-header"><div class="issue-header-content">' + soy.$$filterNoAutoescape(opt_data.header) + '</div></header><div class="issue-body-content issue-error-content">' + soy.$$filterNoAutoescape(opt_data.body) + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/amd-wrapper.js' */
define("jira/components/issueviewer/templates",function(){return JIRA.Components.IssueViewer.Templates});AJS.namespace("JIRA.Components.IssueViewer.Templates",null,require("jira/components/issueviewer/templates"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/namespace.js' */
AJS.namespace("JIRA.Components.IssueViewer",null,require("jira/components/issueviewer"));AJS.namespace("JIRA.Components.IssueViewer.AppModule",null,require("jira/components/issueviewer/appmodule"));AJS.namespace("JIRA.Components.IssueViewer.Utils",null,require("jira/components/issueviewer/utils"));AJS.namespace("JIRA.Components.IssueViewer.Controllers.Error",null,require("jira/components/issueviewer/controllers/error"));AJS.namespace("JIRA.Components.IssueViewer.Controllers.Issue",null,require("jira/components/issueviewer/controllers/issue"));AJS.namespace("JIRA.Components.IssueViewer.Models.Issue",null,require("jira/components/issueviewer/entities/issue"));AJS.namespace("JIRA.Components.IssueViewer.Models.Panel",null,require("jira/components/issueviewer/entities/panel"));AJS.namespace("JIRA.Components.IssueViewer.Collections.Panels",null,require("jira/components/issueviewer/entities/panels"));AJS.namespace("JIRA.Components.IssueViewer.Models.PanelsGroup",null,require("jira/components/issueviewer/entities/panelsgroup"));AJS.namespace("JIRA.Components.IssueViewer.Legacy.AsyncData",null,require("jira/components/issueviewer/legacy/asyncdata"));AJS.namespace("JIRA.Components.IssueViewer.Legacy.IssueEventBus",null,require("jira/components/issueviewer/legacy/issueeventbus"));AJS.namespace("JIRA.Components.IssueViewer.Legacy.IssueFieldUtil",null,require("jira/components/issueviewer/legacy/issuefieldutil"));AJS.namespace("JIRA.Components.IssueViewer.Legacy.ViewIssueData",null,require("jira/components/issueviewer/legacy/viewissuedata"));AJS.namespace("JIRA.Components.IssueViewer.Services.DarkFeatures",null,require("jira/components/issueviewer/services/darkfeatures"));AJS.namespace("JIRA.Components.IssueViewer.Services.IssueLoader",null,require("jira/components/issueviewer/services/issueloader"));AJS.namespace("JIRA.Components.IssueViewer.Services.Metadata",null,require("jira/components/issueviewer/services/metadataservice"));AJS.namespace("JIRA.Components.IssueViewer.Views.ErrorGeneric",null,require("jira/components/issueviewer/views/errorgeneric"));AJS.namespace("JIRA.Components.IssueViewer.Views.ErrorNotFound",null,require("jira/components/issueviewer/views/errornotfound"));AJS.namespace("JIRA.Components.IssueViewer.Views.Error",null,require("jira/components/issueviewer/views/error"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssueBody",null,require("jira/components/issueviewer/views/issuebody"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssueHeader",null,require("jira/components/issueviewer/views/issueheader"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssueOpsbar",null,require("jira/components/issueviewer/views/issueopsbar"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssuePanels",null,require("jira/components/issueviewer/views/issuepanels"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssuePanel",null,require("jira/components/issueviewer/views/issuepanel"));AJS.namespace("JIRA.Components.IssueViewer.Views.Issue",null,require("jira/components/issueviewer/views/issue"));AJS.namespace("JIRA.Components.IssueViewer.Templates",null,require("jira/components/issueviewer/templates"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/IssueEditor.js' */
define("jira/components/issueeditor",["require"],function(g){var r=g("jira/components/libs/underscore");var q=g("jira/components/issueviewer/services/darkfeatures");var p=g("jira/components/issueeditor/controllers/editissue");var j=g("jira/util/events");var o=g("jira/components/issueeditor/eventtypes");var h=g("jira/components/issueeditor/controllers/fields");var k=g("jira/components/issueeditor/services/fieldsloader");var f=g("jira/components/issueeditor/services/issuesaver");var c=g("jira/components/issueviewer");var m=g("jira/util/data/meta");var d=g("jira/components/issueeditor/views/modalfield");var n=g("jira/components/issueeditor/views/saveerror");var e=g("jira/components/issueeditor/services/saveinprogressmanager");var a=window.JIRA;var b=g("jira/components/issueeditor/services/unloadinterceptor");var i=window.AJS.contextPath();var l=function(){a.trace.apply(a,arguments)};return c.extend({namedEvents:["loadComplete","loadError","returnToSearch","saveSuccess","saveError","editField","editFieldCancel","fieldSubmitted","replacedFocusedPanel","fieldsLoaded"],initialize:function(s){c.prototype.initialize.call(this,s);this._buildFieldsLoader();this._buildIssueSaver();this._buildEditIssueController();this._buildFieldsController();this._handleUnload();this.listenAndRethrow(this.eventBus,"fieldSubmitted")},_buildFieldsLoader:function(){this.fieldsLoader=new k({contextPath:i});this.listenTo(this.fieldsLoader,"fieldsLoaded",function(s){this.viewIssueData.updateIssue(s.issueKey,s);s.issueId=Number(s.issueId);var t=s.fields&&s.fields.length;if(t){this.editIssueController.update(s)}else{this.editIssueController.reset()}this.trigger("fieldsLoaded");l("jira.issue.fields.loaded",{id:s.issueId})});this.listenTo(this.fieldsLoader,"fieldsError",function(s){this.fieldsController.showError(s.errorCollection,s.isTimeout);l("jira.issue.fields.loaded",{id:s.issueId})})},_buildIssueSaver:function(){this.saveInProgressManager=new e();this.issueSaver=new f({saveInProgressManager:this.saveInProgressManager,model:this.model});this.listenTo(this.issueSaver,"error",function(v){var x=v.issueId;var u=v.attemptedSavedIds;var t=v.response;var w=v.duration;if(!this.model.isCurrentIssue(x)){this._showSaveError({issueId:x,issueKey:v.issueKey,response:t});return}this.eventBus.triggerSaveError(x,u,t);var s=t&&t.fields&&t.fields.length;if(!s&&t){this.editIssueController.reset();this.model.update(t,{fieldsSaved:[],fieldsInProgress:[]})}this.trigger("saveError",{issueId:x,duration:w,deferred:false});l("jira.issue.refreshed",{id:x})});this.listenTo(this.issueSaver,"saveStarted",function(s,t){this.eventBus.triggerSavingStarted(t)});this.listenTo(this.issueSaver,"save",function(A){var y=A.issueId;var u=A.issueKey;var x=A.savedFieldIds;var s=A.savedFieldTypes;var w=A.response;var z=A.shouldSkipSaveIssueSuccessHandler;var v=A.duration;if(this.model.isCurrentIssue(y)&&!z){this.eventBus.triggerSaveSuccess(y,u,x,w);this.viewIssueData.set(u,w);this.model.update(w,{fieldsSaved:x,fieldsInProgress:this.editIssueController.getEditsInProgress()});l("jira.psycho.issue.refreshed",{id:y});var t=w.fields&&w.fields.length;if(t){this.editIssueController.update({fields:w.fields,issueId:y,issueKey:u},{editable:true,editIssueController:this.editIssueController,issueModel:this.model,issueId:y,fieldsSaved:x,initialize:false,fieldsInProgress:this.editIssueController.getEditsInProgress()})}l("jira.issue.refreshed",{id:y})}this.trigger("saveSuccess",{issueId:y,issueKey:u,savedFieldIds:x,savedFieldTypes:s,duration:v})})},_buildEditIssueController:function(){this.editIssueController=new p({issueEventBus:this.eventBus});this.listenTo(this.editIssueController,"save",function(x,t,v,w,u,s){this.issueSaver.setSkipSaveIssueSuccessHandler(false);this.issueSaver.save(x,t,v,w,u,s)});this.listenAndRethrow(this.editIssueController,"editField");this.listenAndRethrow(this.editIssueController,"editFieldCancel")},_buildFieldsController:function(){this.fieldsController=new h()},_onIssueLoaded:function(v,w,t){if(v.issue.isEditable){var u=!q.NO_PREFETCH.enabled();if(u&&!w.error&&!w.fromCache){this.fieldsLoader.load({viewIssueData:this.viewIssueData,issueEntity:t.issueEntity})}}var s=!w.mergeIntoCurrent&&t.initialize!==false;if(!w.isUpdate||s){this.editIssueController.reset()}c.prototype._onIssueLoaded.call(this,v,w,t);if(v.fields){this.editIssueController.update({fields:v.fields,issueId:v.issue.id,issueKey:v.issue.key});l("jira.issue.fields.loaded",{id:v.issue.id})}},_handleUnload:function(){var s=r.bind(function(){var t;if(this.editIssueController.getDirtyEditsInProgress().length>0){t="You are still editing this page. Are you sure you want to leave?"}return t},this);this.unloadInterceptor=new b();this.unloadInterceptor.addAfterEvent(s);this.on("destroy",function(){this.unloadInterceptor.removeAfterEvent(s)})},_updateModel:function(u,s){var t=u.fields&&u.fields.length;if(t){this.editIssueController.update(u.fields,{fieldsInProgress:this.editIssueController.getEditsInProgress(),changed:s.changed})}s=r.extend({},s,{fieldsInProgress:this.editIssueController.getEditsInProgress()});c.prototype._updateModel.call(this,u,s)},_loadIssueFromDom:function(s){if(m.get("server-view-issue-is-editable")){this.editIssueController.setIssueId(s.id);this.editIssueController.setIssueKey(s.key);this.fieldsLoader.load({viewIssueData:this.viewIssueData,issueEntity:s});m.set("server-view-issue-is-editable",null)}c.prototype._loadIssueFromDom.call(this,s)},editField:function(u){if(!u.isEditable()){return}var s=this.model.getEntity();var t=r.bind(function(){if(u.matchesFieldSelector()){u.edit()}else{new d({issueEventBus:this.eventBus,model:u,issue:s}).show()}},this);if(!u.getSaving()){t()}else{j.one(o.ISSUE_REFRESHED,function(){t()})}},abortPending:function(){this.fieldsLoader.cancel();c.prototype.abortPending.call(this)},beforeHide:function(){this.issueSaver.setSkipSaveIssueSuccessHandler(true);c.prototype.beforeHide.call(this)},setContainer:function(s){this.editIssueController.setIssueViewContext(s);c.prototype.setContainer.call(this,s)},dismiss:function(){this.editIssueController.reset();c.prototype.dismiss.call(this)},getFields:function(){return this.editIssueController.getFields()},hasSavesInProgress:function(){return this.saveInProgressManager.hasSavesInProgress()},_showSaveError:function(t){var u;var s;u=new n(t).render();s=r.partial(this.stopListening,u);this.listenTo(u,{close:s,issueLinkClick:function(v){var w={isPrevented:false,preventDefault:function(){this.isPrevented=true},isDefaultPrevented:function(){return this.isPrevented===true},issueData:v};this.trigger("linkInErrorMessage",w);if(!w.isDefaultPrevented()){this.loadIssue(v)}}})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/IssueEditorAppModule.js' */
define("jira/components/issueeditor/appmodule",["require"],function(c){var b=c("jira/components/libs/underscore");var d=c("jira/components/issueeditor");var a=c("jira/components/issueviewer/appmodule");return a.extend({name:"issueEditor",generateMasterRequest:true,create:function(e){e=b.defaults({},e,{showReturnToSearchOnError:function(){return false}});return new d({showReturnToSearchOnError:e.showReturnToSearchOnError})},commands:function(e){var f=a.prototype.commands.call(this,e);return b.extend(f,{editField:true})},requests:function(e){var f=a.prototype.requests.call(this,e);return b.extend(f,{fields:function(){return e.getFields()},hasSavesInProgress:true})},events:function(f){var e=a.prototype.events.call(this,f);return e.concat(["saveSuccess","saveError","editField","editFieldCancel","fieldSubmitted","fieldsLoaded"])}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/NoInlineAppModule.js' */
define("jira/components/issueeditor/noinlineappmodule",["require"],function(c){var b=c("jira/components/libs/underscore");var a=c("jira/components/issueviewer/appmodule");return a.extend({name:"issueEditor",requests:function(d){var e=a.prototype.requests.call(this,d);return b.extend(e,{fields:function(){return[]},hasSavesInProgress:function(){return false}})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/templates/Fields.soy' */
// This file was automatically generated from Fields.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueEditor.Fields.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueEditor == 'undefined') { JIRA.Templates.IssueEditor = {}; }
if (typeof JIRA.Templates.IssueEditor.Fields == 'undefined') { JIRA.Templates.IssueEditor.Fields = {}; }


JIRA.Templates.IssueEditor.Fields.saveErrorMessage = function(opt_data, opt_ignored) {
  var output = '';
  var issueLink__soy3 = '<a class="issue" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issueKey) + '">' + soy.$$escapeHtml(opt_data.issueKey) + '</a>';
  output += soy.$$filterNoAutoescape(AJS.format("Saving of \x3cstrong\x3e{0}\x3c/strong\x3e failed!",issueLink__soy3));
  if (opt_data.errors.length > 0) {
    output += '<ul>';
    var messageList16 = opt_data.errors;
    var messageListLen16 = messageList16.length;
    for (var messageIndex16 = 0; messageIndex16 < messageListLen16; messageIndex16++) {
      var messageData16 = messageList16[messageIndex16];
      output += '<li>' + soy.$$escapeHtml(messageData16) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.saveErrorMessage.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.saveErrorMessage';
}


JIRA.Templates.IssueEditor.Fields.field = function(opt_data, opt_ignored) {
  return '<form id="' + soy.$$escapeHtml(opt_data.issue.id) + '-form" class="ajs-dirty-warning-exempt aui" action= "#"><div class="inline-edit-fields ' + ((opt_data.showButtonBar) ? 'show-button-bar' : '') + '">' + soy.$$filterNoAutoescape(opt_data.issue.editHtml) + '</div><span class="overlay-icon throbber" />' + ((opt_data.showButtonBar) ? JIRA.Templates.IssueEditor.Fields.saveButtons(opt_data) : JIRA.Templates.IssueEditor.Fields.saveOptions(opt_data)) + '</form>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.field.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.field';
}


JIRA.Templates.IssueEditor.Fields.saveOptions = function(opt_data, opt_ignored) {
  return '<div class="save-options"><button type="submit" class="aui-button submit" accessKey="' + soy.$$escapeHtml("s") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",opt_data.accessKey)) + '"><span class="aui-icon aui-icon-small aui-iconfont-success">' + soy.$$escapeHtml("Save") + '</span></button><button type="cancel" class="aui-button cancel" accessKey="' + soy.$$escapeHtml("`") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",opt_data.accessKey)) + '"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Cancel") + '</span></button></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.saveOptions.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.saveOptions';
}


JIRA.Templates.IssueEditor.Fields.saveButtons = function(opt_data, opt_ignored) {
  return '<div class="save-options show-button-bar"><button type="submit" class="aui-button aui-button-primary submit" accessKey="' + soy.$$escapeHtml("s") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",opt_data.accessKey)) + '">' + soy.$$escapeHtml("Save") + '</button><button type="cancel" class="aui-button aui-button-link cancel" accessKey="' + soy.$$escapeHtml("`") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",opt_data.accessKey)) + '">' + soy.$$escapeHtml("Cancel") + '</button></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.saveButtons.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.saveButtons';
}


JIRA.Templates.IssueEditor.Fields.modalField = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog-content"><h2 class="dialog-title">' + soy.$$escapeHtml(AJS.format("Edit {0} for {1}",opt_data.field.label,opt_data.issue.key)) + '</h2><form action="" class="aui" method="post"><div class="form-body">' + soy.$$filterNoAutoescape(opt_data.field.editHtml) + '</div><div class="buttons-container form-footer"><div class="buttons"><input class="button" type="submit" value="' + soy.$$escapeHtml("Submit") + '"/><a class="cancel" href="#">' + soy.$$escapeHtml("Cancel") + '</a></div></div></form></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.modalField.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.modalField';
}


JIRA.Templates.IssueEditor.Fields.modalFieldGeneralErrors = function(opt_data, opt_ignored) {
  var output = '<div class="error">';
  if (opt_data.messages.length == 1) {
    output += soy.$$escapeHtml(opt_data.messages[0]);
  } else if (opt_data.messages.length > 0) {
    output += '<ul>';
    var messageList85 = opt_data.messages;
    var messageListLen85 = messageList85.length;
    for (var messageIndex85 = 0; messageIndex85 < messageListLen85; messageIndex85++) {
      var messageData85 = messageList85[messageIndex85];
      output += '<li>' + soy.$$escapeHtml(messageData85) + '</li>';
    }
    output += '</ul>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.modalFieldGeneralErrors.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.modalFieldGeneralErrors';
}


JIRA.Templates.IssueEditor.Fields.errorsLoading = function(opt_data, opt_ignored) {
  var output = '' + ((opt_data.isTimeout) ? soy.$$escapeHtml("The Jira server could not be contacted. This may be a temporary glitch or the server may be down.") : soy.$$escapeHtml("There were errors loading the issue."));
  if (opt_data.errorMessages) {
    output += '<ul>';
    var msgList101 = opt_data.errorMessages;
    var msgListLen101 = msgList101.length;
    for (var msgIndex101 = 0; msgIndex101 < msgListLen101; msgIndex101++) {
      var msgData101 = msgList101[msgIndex101];
      output += '<li>' + soy.$$escapeHtml(msgData101) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.errorsLoading.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.errorsLoading';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/templates/amd-wrapper.js' */
define("jira/components/issueeditor/templates",function(){return JIRA.Templates.IssueEditor.Fields});AJS.namespace("JIRA.Templates.IssueEditor.Fields",null,require("jira/components/issueeditor/templates"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/entities/FieldModel.js' */
define("jira/components/issueeditor/entities/field",["require"],function(a){var f=a("jira/components/libs/underscore");var e=a("jira/components/libs/brace");var g=a("jira/util/events");var d=a("jira/components/issueviewer/legacy/issuefieldutil");var i=a("jquery");var c=a("jira/skate");var j=a("jira/components/issueeditor/templates");var b=a("jira/components/issueeditor/eventtypes");var h=a("jira/components/issueviewer/services/darkfeatures");return e.Model.extend({namedEvents:["editingStarted","focusRequested","editingCancelled","save","saveError","savingStarted","saveComplete","saveSuccess","updateRequired","validationError","modelDestroyed"],namedAttributes:["id","initParams","params","editHtml","viewHtml","required","fieldType","editing","saving","error","label","contentId"],initialize:function(){if(this.collection){var k=this;this.collection.on("reset",function(){k.triggerModelDestroyed()})}this.on("change:viewHtml",function(){var l=this.previous("viewHtml");if(l){i.cleanData(l)}});this.onModelDestroyed(function(){var l=this.getViewHtml();if(l){i.cleanData(l)}})},blurEdit:function(){if(this.getEditing()){if(this.isDirty()||this.hasValidationError()){this.save()}else{this.cancelEdit()}}},setValidationError:function(m,l,k){this.setSaving(false);this.setError(l);this.edit({ignoreBlur:true});this.triggerSaveError();this.triggerValidationError(m,k)},handleSaveError:function(){this.setSaving(false);this.triggerSaveError()},cancelEdit:function(l){if(!this.cancelLocked){var k=new i.Event(b.BEFORE_INLINE_EDIT_CANCEL);g.trigger(k,[this.getId(),this.getFieldType(),l]);if(!k.isDefaultPrevented()){this.cancelLocked=true;if(this.getEditing()||this.getSaving()){this.setEditing(false);this.setSaving(false);this.unset("params");this.unset("initParams");this.triggerEditingCancelled();this.unset("viewHtml")}delete this.cancelLocked}}},edit:function(k){if(!this.getEditing()){this.setEditing(true);this.triggerEditingStarted(this,k)}else{if(!k||!k.ignoreBlur){this.triggerFocusRequested(this,k)}}},getCurrentParams:function(){this.triggerUpdateRequired();var m={};if(this.getParams()){m=this.getParams()}else{if(this.getInitParams()){m=this.getInitParams()}else{var l=i("<div />").html(this.getEditHtml());this.setInitParams(this._serializeObject(l));m=this.getInitParams()}}var k={};f.each(m,function(o,n){k[n]=o});return k},isEditable:function(){if(this.getEditHtml()){return i(this.getEditHtml()).find("textarea, :text,:radio,:checkbox, select").length!==0}return false},hasValidationError:function(){return !!this.getError()},switchElToEdit:function(k){if(!this.getViewHtml()){this.setViewHtml(k.contents())}k.contents().detach();k.html(j.field({issue:this.toJSON(),accessKey:d.getAccessKeyModifier(),showButtonBar:h.RTE_ENABLED.enabled()&&d.isWikifield(this.getEditHtml())}));k.each(function(){c.init(this)});if(!this.getInitParams()){this.setInitParams(this._serializeObject(k))}this.setEditing(true)},update:function(k){if(this.getEditing()){this.setParams(this._serializeObject(k))}},handleSaveSuccess:function(){this.setSaving(false);this.setEditing(false);this.unset("viewHtml");this.unset("initParams");this.setError(null);this.triggerSaveSuccess()},handleSaveStarted:function(){this.setSaving(true);this.triggerSavingStarted()},save:function(){if(!this.getSaving()){this.triggerUpdateRequired();this.triggerSave(this)}},isDirty:function(){this.triggerUpdateRequired();return this._isDirty(this.getCurrentParams())},_isDirty:function(k){return JSON.stringify(k)!==JSON.stringify(this.getInitParams())},matchesFieldSelector:function(){return d.matchesFieldSelector(this.id)},_serializeObject:function(l){var m={};var k=i(l).find(":input").serializeArray();i.each(k,function(){if(m[this.name]){if(!m[this.name].push){m[this.name]=[m[this.name]]}m[this.name].push(this.value||"")}else{m[this.name]=this.value||""}});return m}},{IS_EDITABLE:function(k){return k.isEditable()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/entities/FieldCollection.js' */
define("jira/components/issueeditor/entities/fields",["require"],function(b){var a=b("jira/components/libs/underscore");var c=b("jira/components/libs/brace");var d=b("jira/components/issueeditor/entities/field");return c.Collection.extend({model:d,initialize:function(){this.on("editingStarted",this._handleEditingStarted,this)},_handleEditingStarted:function(f,e){e=e||{};if(e.ignoreBlur){return}this.each(function(g){if(f!==g&&g.getEditing()){g.blurEdit()}})},update:function(i,g){var e=this;if(g&&g.changed){var f=g.changed;var j=f.updated?f.updated.fields:[];var h=f.added?f.added.fields:[];a.each(i,function(l){if(a.contains(j,l.id)){var k=e.get(l.id);if(k){if(k.hasValidationError()){delete l.editHtml}k.set(l,{silent:true});e.trigger("updated",k)}else{e.add(l)}}else{if(a.contains(h,l.id)){e.add(l)}}})}else{a.each(i,function(l){var k=e.get(l.id);if(k){if(k.hasValidationError()){delete l.editHtml}k.set(l,{silent:true});e.trigger("updated",k)}else{e.add(l)}})}},cancelEdit:function(){this.each(function(e){e.cancelEdit()})},isDirty:function(){return this.any(function(e){return e.isDirty()})},getDirtyFields:function(){return this.filter(function(e){return e.isDirty()})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/views/FieldView.js' */
define("jira/components/issueeditor/views/field",["require"],function(c){var b=c("jira/components/issueeditor/cancelreasons");var h=c("jira/util/events");var e=c("jira/components/issueviewer/legacy/issuefieldutil");var j=c("jquery");var a=c("jira/components/libs/marionette-1.4.1/itemview");var g=c("jira/util/events/reasons");var k=c("jira/components/issueeditor/templates");var d=c("jira/components/issueeditor/eventtypes");var f=c("jira/components/issueeditor/analytics/viewissue");var i=c("jira/components/issueviewer/services/darkfeatures");return a.extend({events:{"click .cancel":"onClickCancel",keyup:"onKeyCancel","click .submit":"onSubmit",click:"onEdit",mousedown:"saveSelectedText","submit form":"onSubmit",'keydown select[multiple="multiple"]':"_enterToSubmitMultiSelect","keypress select":"_enterToSubmitSelect","beforeBlurInput *":"_preventBlurByEsc"},initialize:function(m){this.model.on("validationError",this.handleValidationError,this);this.model.on("editingStarted",this.switchToEdit,this);this.model.on("focusRequested",this.focus,this);this.model.on("editingCancelled",this.switchToRead,this);this.model.on("saveError",this.handleSaveError,this);this.model.on("updateRequired",this.updateModel,this);this.model.on("savingStarted",this.handleSavingStarted,this);this.model.on("modelDestroyed",this.destroy,this);this.decorate();this.issueEventBus=m.issueEventBus;this.issueEventBus.on("panelRendered",this.handlePanelRendered,this);this.model.setFieldType(this.$el.data("fieldtypecompletekey"));this._editDelay=0;var l=this;h.bind(d.INLINE_EDIT_BLURRED,function(o,n){if(n===l.model.getId()){l._onPossibleBlur()}});h.bind(d.INLINE_EDIT_REQUESTED,function(o,n){if(n!==l.model.getId()&&l._editDelay!==0){clearTimeout(l._editDelay);l._editDelay=0}})},destroy:function(){this.issueEventBus.off("panelRendered",this.handlePanelRendered)},decorate:function(){if(this.model.isEditable()&&!this.model.getEditing()){this.$el.addClass("editable-field inactive");this.$el.append('<span class="overlay-icon aui-icon aui-icon-small aui-iconfont-edit" />');this._addToolTip()}},getEditElements:function(){return this.$el.find(".inline-edit-fields")},_addToolTip:function(){this.$el.attr("title","Click to edit");j("a:not([title])",this.$el).attr("title","Follow link")},_removeToolTip:function(){this.$el.removeAttr("title")},_stealAccessKeys:function(){j("[accessKey='"+"s"+"']").attr("accessKey","_s");j("[accessKey='"+"`"+"']").attr("accessKey","_x")},_returnAccessKeys:function(){j("[accessKey=_s]").attr("accessKey","s");j("[accessKey=_x]").attr("accessKey","`")},_handleEditingStarted:function(l){var m=this.$el.find(".field-tools");h.trigger(d.NEW_CONTENT_ADDED,[this.$el,g.inlineEditStarted]);h.trigger(d.INLINE_EDIT_STARTED,[this.model.getId(),this.model.getFieldType(),this.getEditElements(),this.$el]);this.$el.find(".textarea").css("height",Math.max(this._originalHeight,60)).expandOnInput(window.innerHeight-j("#stalker").height()-100);if(l){this.$el.find(":input:visible:first").focus()}if(!this.$el.find(".error").size()){this.$el.find("select.aui-ss-select").each(function(){var n=j(this);if(n.data("static-suggestions")){n.trigger("showSuggestions")}})}this.$el.find(".save-options").attr("tabindex",1).prepend(m)},handleValidationError:function(m,l){this.$el.html(k.field({issue:{id:this.model.id,editHtml:m},accessKey:e.getAccessKeyModifier(),showButtonBar:i.RTE_ENABLED.enabled()&&e.isWikifield(m)}));this.$el.find(".error").addClass("inline-edit-error").attr("data-field",this.model.id);this._handleEditingStarted(l)},handlePanelRendered:function(l,m){var n=j(e.getFieldSelector(this.model.id),m);if(n.length===1){this.$el=n;this.el=this.$el[0];this.decorate();this.delegateEvents()}},handleSaveError:function(){this.$el.find(":input").removeAttr("disabled").trigger("enable");this.$el.removeClass("saving saving-"+this.model.id)},handleSavingStarted:function(){this.$el.find(":input").attr("disabled","disabled").trigger("disable");this.$el.addClass("saving saving-"+this.model.id)},updateModel:function(){this.model.update(this.$el)},reveal:function(){var l=40;this.$el.scrollIntoView({direction:"y",marginBottom:l,marginTop:j("#stalker").outerHeight(true)+l});this.$el.trigger("reveal")},focus:function(){this.reveal();this.$el.find(":input").removeAttr("disabled");if(j(".aui-blanket[aria-hidden='false']").length===0){var l=this.$el.find(":input:visible:first");l.focus();if(!this.$el.hasClass("field-ignore-highlight")){l.select()}}},switchToEdit:function(){this.trigger("editField",{fieldId:this.model.getId()});this._stealAccessKeys();this._removeToolTip();this.$el.removeClass("inactive saving").addClass("active");this._originalHeight=this.$el.height();this.model.switchElToEdit(this.$el);this._handleEditingStarted();this.focus()},switchToRead:function(){this.trigger("editFieldCancel",{fieldId:this.model.getId()});this._addToolTip();this.$el.addClass("inactive").removeClass("active");this.$el.html(this.model.getViewHtml());this.$el.closest("form").unbind("submit",this.onSubmit);this._returnAccessKeys()},_isNonCancelableFieldBeingEdited:function(){return j("textarea",this.$el).not("[role]").length},onKeyCancel:function(l){if(l.keyCode===27&&!this._isNonCancelableFieldBeingEdited()){this.model.cancelEdit(b.escPressed);l.preventDefault()}},onClickCancel:function(l){this.model.cancelEdit();l.preventDefault()},onSubmit:function(m){var l=new j.Event("before-submit");this.$el.find("form").trigger(l);if(!l.isDefaultPrevented()){this.$el.find(":focus").blur();this.issueEventBus.triggerFieldSubmitted();this.model.save();this._returnAccessKeys()}m.preventDefault()},onEdit:function(q){var p=j(q.target).is(".overlay-icon.aui-iconfont-edit");var n=j(q.target).closest("a, .uneditable").length===0&&this.$el.hasClass("inactive");var o=this._getCurrentlySelectedText()===""&&!this._previouslySelectedText;var m=n&&(p||o);if(this._editDelay!==0){f.triggerEditableFieldDoubleClick();clearTimeout(this._editDelay);this._editDelay=0}else{if(m){h.trigger(d.INLINE_EDIT_REQUESTED,[this.model.getId()]);var l=this;if(p){f.triggerEditableFieldClickPencilIcon();j(document).one("click",function(r){if(!r.isDefaultPrevented()){l.model.edit()}})}else{this._editDelay=setTimeout(function(){if(!q.isDefaultPrevented()&&l.$el.hasClass("inactive")&&l._getCurrentlySelectedText()===""){f.triggerEditableFieldSingleClick();l.model.edit()}l._editDelay=0},250)}}}},_onPossibleBlur:function(){if(this.model.getSaving()){return}if(j(".aui-blanket[aria-hidden='false']").length>0){return}this.model.blurEdit()},_preventBlurByEsc:function(l){l.preventDefault()},_getCurrentlySelectedText:function(){if(j(document.activeElement).is(":input")){return""}if(document.selection&&document.selection.createRange){return document.selection.createRange().text||""}if(window.getSelection){return window.getSelection().toString()}return""},_enterToSubmitSelect:function(l){if(!l.isDefaultPrevented()){if(l.which===13){l.preventDefault();j(l.target).closest("form").submit()}}},_enterToSubmitMultiSelect:function(l){if(!l.isDefaultPrevented()){if(l.which===13){j(l.target).blur()}}},saveSelectedText:function(){this._previouslySelectedText=this._getCurrentlySelectedText()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/views/ModalFieldView.js' */
define("jira/components/issueeditor/views/modalfield",["require"],function(c){var b=c("jira/components/libs/underscore");var a=c("jira/util/events");var e=c("jira/dialog/form-dialog");var f=c("jira/components/libs/marionette-1.4.1/itemview");var d=c("jira/components/issueeditor/templates");return f.extend({errorsTemplate:d.modalFieldGeneralErrors,template:d.modalField,initialize:function(g){b.bindAll(this,"_onHide","_onSubmit","_remove","_showGeneralError","_showValidationError","_updateModel");a.bind("Dialog.hide",this._onHide);this.issueEventBus=g.issueEventBus;this.issueEventBus.on("saveError",this._showGeneralError);this.model.onSaveSuccess(this._remove);this.model.onUpdateRequired(this._updateModel);this.model.onValidationError(this._showValidationError)},_enable:function(){var h=this._getDialog();h.hideFooterLoadingIndicator();var g=h.$popup;g.find(":input").removeAttr("disabled").trigger("enable");g.find(":input:first").focus().select();g.find(":submit").removeAttr("disabled")},_getDialog:function(){if(!this._dialog){this._dialog=new e({id:"modal-field-view",submitHandler:this._onSubmit,content:b.bind(function(g){g(this.template({field:this.model.toJSON(),issue:this.options.issue}))},this)});this._dialog.get$popup().data("field-id",this.model.getId())}return this._dialog},_onHide:function(g,h){if(h===this._getDialog().get$popup()){this._remove()}},_onSubmit:function(i,h){i.preventDefault();this.model.save();h();var g=this._getDialog();g.showFooterLoadingIndicator();g.$popup.find(":input").attr("disabled","disabled").trigger("disable")},close:function(){this._remove()},_remove:function(){var g=this._getDialog();if(g.get$popup().is(":visible")){g.hide()}g.destroy();this.model.cancelEdit();a.unbind("Dialog.hide",this._onHide);this.issueEventBus.off("saveError",this._showGeneralError);this.model.off("saveSuccess",this._remove);this.model.off("updateRequired",this._updateModel);this.model.off("validationError",this._showValidationError)},show:function(){this.model.edit();this._getDialog().show()},_showGeneralError:function(l,h,g){this._enable();var j=this._getDialog().$popup;var m=g&&g.errorCollection;if(m){var i=!b.isEmpty(m.errors);var k=!b.isEmpty(m.errorMessages);if(!i&&k){j.find(".form-body").append(this.errorsTemplate({messages:m.errorMessages}))}}},_showValidationError:function(g){this._enable();this._getDialog().$popup.find(".form-body").html(g)},_updateModel:function(){this.model.update(this._getDialog().$popup)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/views/LoadingError.js' */
define("jira/components/issueeditor/views/loadingerror",["require"],function(a){var d=a("jira/components/libs/marionette-1.4.1/itemview");var c=a("jira/message");var b=a("jira/components/issueeditor/templates");return d.extend({template:b.errorsLoading,initialize:function(f,e){this.errorMessages=f;this.isTimeout=e},serializeData:function(){return{errorMessages:this.errorMessages,isTimeout:this.isTimeout}},onRender:function(){this.setElement(c.showErrorMsg(this.$el.html(),{closeable:true,timeout:0}))}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/views/SaveError.js' */
define("jira/components/issueeditor/views/saveerror",["require"],function(b){var a=b("jira/components/libs/underscore");var e=b("jira/components/libs/marionette-1.4.1/itemview");var d=b("jira/message");var c=b("jira/components/issueeditor/templates");return e.extend({events:{"simpleClick .issue":"onIssueLinkClick"},template:c.saveErrorMessage,getErrorMessages:function(){var f;var g=[];f=this.options.response.errorCollection;if(f){g=f.errorMessages.concat(a.values(f.errors))}return g},onIssueLinkClick:function(g){var f;f={id:this.options.issueId,key:this.options.issueKey};g.preventDefault();this.trigger("issueLinkClick",f);this.close()},onRender:function(){this.setElement(d.showErrorMsg(this.$el.html(),{closeable:true,timeout:0}))},serializeData:function(){return{errors:this.getErrorMessages(),issueKey:this.options.issueKey}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/controllers/EditIssueController.js' */
define("jira/components/issueeditor/controllers/editissue",["require"],function(b){var g=b("jira/components/libs/underscore");var f=b("jira/components/libs/brace");var c=b("jira/components/issueeditor/entities/fields");var e=b("jira/components/issueeditor/views/field");var d=b("jira/components/issueviewer/legacy/issuefieldutil");var i=b("jquery");var a=b("jira/message");var h=b("jira/components/issueeditor/templates");return f.Model.extend({namedAttributes:["issueId","issueKey","issueViewContext","fields","issueEventBus"],namedEvents:["save","editField","editFieldCancel"],initialize:function(){g.bindAll(this,"_handleSaveError","_handleSaveSuccess","_handleSavingStarted","cancelUneditedFields","createFieldView","handleFieldUpdate","save");this.set({fields:new c()},{silent:true});this.getFields().bind("add",this.createFieldView).bind("updated",this.handleFieldUpdate).bind("save",this.save);this.getIssueEventBus().onSavingStarted(this._handleSavingStarted);this.getIssueEventBus().onSaveSuccess(this._handleSaveSuccess);this.getIssueEventBus().onSaveError(this._handleSaveError);this.getIssueEventBus().onSave(this.save);this.getIssueEventBus().onSave(this.cancelUneditedFields)},_saveById:function(k){var j=this.getFields().get(k);if(j){j.blurEdit()}},_handleSaveError:function(m,l,k){var j=this;if(k){this.applyErrors(k)}else{g.each(l,function(o){var n=j.getFields().get(o);if(n){n.handleSaveError()}})}},_handleSavingStarted:function(j){this.getFields().each(function(k){if(g.include(j,k.id)){k.handleSaveStarted()}})},handleFieldUpdate:function(k){var j=i(d.getFieldSelector(k.id));if(!j.hasClass("editable-field")){this.createFieldView(k)}},applyErrors:function(m,l){var j=m.errorCollection;if(j&&j.errors){this.getFields().each(function(n){if(j.errors[n.id]){var o=g.find(m.fields,function(p){return p.id===n.id});if(o){n.setValidationError(o.editHtml,j.errors[n.id],l);l=false}}})}if(j.errorMessages&&j.errorMessages.length){var k=h.saveErrorMessage({errors:j.errorMessages,issueKey:this.getIssueKey()});a.showErrorMsg(k,{closeable:true})}},reset:function(){this.getFields().reset()},cancelEdit:function(){this.getFields().each(function(j){j.cancelEdit()})},_handleSaveSuccess:function(l,j,m){var k=this.getFields().filter(function(n){return g.indexOf(m,n.id)>=0});g.each(k,function(n){n.handleSaveSuccess()})},getDirtyEditsInProgress:function(){return g.pluck(this.getFields().filter(function(j){return j.getEditing()&&j.isDirty()}),"id")},getEditsInProgress:function(){return g.pluck(this.getFields().filter(function(j){return j.getEditing()}),"id")},save:function(k,j){var o={};var n=[];var m=[];var l=[k];if(!k){l=this.getFields().filter(function(p){return !p.getSaving()&&p.getEditing()&&p.isDirty()})}else{if(!k.getEditing()||k.getSaving()){return}}g.each(l,function(p){n.push(p.getId());m.push(p.getFieldType()||"");g.extend(o,p.getCurrentParams())});if(n.length>0){this.triggerSave(this.getIssueId(),this.getIssueKey(),n,o,j,m)}},cancelUneditedFields:function(){this.getFields().each(function(j){if(j.getEditing()&&!j.isDirty()&&!j.hasValidationError()){j.cancelEdit()}})},update:function(k,j){if(k.fields){if(j&&j.fieldsInProgress){g.each(k.fields,function(l){if(g.contains(j.fieldsInProgress,l.id)){l.editing=true}})}this.getFields().update(k.fields,j)}if(k.issueId){this.setIssueId(k.issueId)}if(k.issueKey){this.setIssueKey(k.issueKey)}},createFieldView:function(k){var j=i(d.getFieldSelector(k.id),this.getIssueViewContext());if(j.length===1){var m=new e({model:k,el:j,issueEventBus:this.getIssueEventBus()});var l=function(n){var o={issueId:this.getIssueId(),issueKey:this.getIssueKey(),fieldId:k.getId(),fieldType:k.attributes.fieldType};n=g.extend(o,n);return n}.bind(this);m.on("editField",g.bind(function(n){this.trigger("editField",l(n))},this));m.on("editFieldCancel",g.bind(function(n){this.trigger("editFieldCancel",l(n))},this))}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/controllers/FieldsController.js' */
define("jira/components/issueeditor/controllers/fields",["require"],function(c){var a=c("jira/components/issueeditor/views/loadingerror");var b=c("jira/components/libs/marionette-1.4.1/controller");return b.extend({showError:function(e,d){if(e||d){this.close();this.triggerMethod("before:render");this.view=new a(e,d);this.view.render();this.listenTo(this.view,"close",this.close);this.triggerMethod("render")}},close:function(){if(this.view){this.view.close();this.stopListening(this.view);delete this.view}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/services/FieldsLoaderService.js' */
define("jira/components/issueeditor/services/fieldsloader",["require"],function(c){var b=c("jira/components/libs/underscore");var e=c("jira/components/issueviewer/legacy/issuefieldutil");var d=c("jquery");var a=c("jira/components/libs/marionette-1.4.1/controller");return a.extend({initialize:function(f){this.recurringPromise=new d.RecurringPromise().sub();this.recurringPromise.done(b.bind(function(g){this.trigger("fieldsLoaded",g)},this)).fail(b.bind(function(g){this.trigger("fieldsError",g)},this));this.contextPath=f.contextPath},load:function(g){var f=this._buildUpdateTask(g);this.recurringPromise.add(f)},cancel:function(){this.recurringPromise.reset()},_getFieldsData:function(i,f){var h=d.ajax({url:this.contextPath+"/secure/AjaxIssueEditAction!default.jspa?decorator=none",headers:{"X-SITEMESH-OFF":true},data:{issueId:i}});var g=h.pipe(function(j){var k=e.transformFieldHtml(j);return{issueId:i,issueKey:f,fields:k.fields}},function(n){var k={};var l;switch(n.status){case 400:l=false;try{var j=JSON.parse(n.responseText)||{};k=j.errorCollection}catch(m){}break;case 401:l=false;k=null;break;default:l=true;k={};break}return{issueId:i,fields:null,errorCollection:k,isTimeout:"timeout"===n.statusText,fatalError:l}});g.abort=function(){h.abort.apply(h,arguments)};return g},_buildUpdateTask:function(h){var i=h.viewIssueData;var f=h.issueEntity;var g=new d.Deferred();i.setPending(f.id,this._getFieldsData(f.id,f.key),function(j){g.resolve(j)},function(j){if(j.fatalError){g.reject(j)}else{g.resolve(j)}});return g.promise()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/services/IssueSaverService.js' */
define("jira/components/issueeditor/services/issuesaver",["require"],function(c){var b=c("jira/components/libs/underscore");var d=c("jira/components/issueviewer/legacy/issuefieldutil");var a=c("jira/components/libs/marionette-1.4.1/controller");return a.extend({initialize:function(e){this.saveInProgressManager=e.saveInProgressManager;this.model=e.model;this._saveStarted=[];this.saveInProgressManager.onSavingStarted(b.bind(function(f,g){this._saveStarted.push((new Date()).getTime());this.trigger("saveStarted",f,g)},this));this.saveInProgressManager.onSaveSuccess(b.bind(function(i,f,j,g,h){if(g&&g.fields){d.transformFieldHtml(g)}this.trigger("save",{issueId:i,issueKey:f,savedFieldIds:j,savedFieldTypes:h,response:g,shouldSkipSaveIssueSuccessHandler:this._shouldSkipSaveIssueSuccessHandler,duration:(new Date()).getTime()-this._saveStarted.shift()})},this));this.saveInProgressManager.onSaveError(b.bind(function(i,f,h,g){if(g&&g.fields){d.transformFieldHtml(g)}this.trigger("error",{issueId:i,issueKey:f,attemptedSavedIds:h,response:g,duration:(new Date()).getTime()-this._saveStarted.shift()})},this))},setSkipSaveIssueSuccessHandler:function(e){this._shouldSkipSaveIssueSuccessHandler=e},save:function(j,e,h,i,f,g){this.saveInProgressManager.saveIssue(j,e,h,i,f,g)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/services/SaveInProgressManager.js' */
define("jira/components/issueeditor/services/saveinprogressmanager",["require"],function(e){var i=e("jira/components/libs/underscore");var h=e("jira/components/libs/brace");var d=window.AJS.contextPath();var k=e("jira/util/events");var g=e("jira/components/issueviewer/legacy/issuefieldutil");var f=e("jira/dialog/form-dialog");var l=e("jquery");var b=e("jira/message");var a=e("jira/ajs/ajax/smart-ajax");var j=e("jira/components/issueeditor/eventtypes");var c=e("jira/components/utils/ajshelper");return h.Model.extend({namedAttributes:["savesInProgress"],namedEvents:["beforeSaving","savingStarted","saveSuccess","saveError"],initialize:function(){this.setSavesInProgress([])},saveIssue:function(t,n,p,o,u,r){this.triggerBeforeSaving();var v=this;var m;var q;q=i.extend(o,{issueId:t,atl_token:atl_token(),singleFieldEdit:true,fieldsToForcePresent:p});var s=i.extend({type:"POST",url:d+"/secure/AjaxIssueAction.jspa?decorator=none",headers:{"X-SITEMESH-OFF":true},error:function(w){v._handleSaveError(t,n,p,w)},success:function(A,y,z,w){var x=w.data;if(typeof x==="string"){v._handleHtmlResponse(t,n,p,x,r)}else{g.transformFieldHtml(x);v.triggerSaveSuccess(t,n,p,x,r)}},complete:function(){v.removeSaveInProgress(m);k.trigger(j.INLINE_EDIT_SAVE_COMPLETE)},data:q},u);m=a.makeRequest(s);this.addSaveInProgress(m);this.triggerSavingStarted(t,p,o)},hasSavesInProgress:function(){return this.getSavesInProgress().length>0},removeSaveInProgress:function(m){this.setSavesInProgress(i.without(this.getSavesInProgress(),m))},addSaveInProgress:function(m){var n=this.getSavesInProgress();n.push(m);this.setSavesInProgress(n)},_handleHtmlResponse:function(t,o,p,m,r){var u=this;var n=l(c.extractBodyFromResponse(m));var q=n.find("#atl_token").val();if(q){l("#atlassian-token").attr("content",q)}var s=new f({offsetTarget:"body",content:n});this.triggerSaveError(t,o,p);s._handleServerSuccess=function(v){s.hide();var w=u._parseResponse(v);if(w){g.transformFieldHtml(w);u.triggerSaveSuccess(t,o,p,w,r)}};s._handleServerError=function(w){s.hide();var v=u._parseResponse(w.responseText);if(v){g.transformFieldHtml(v);u.triggerSaveError(t,o,p,v)}};s.show()},_handleSaveError:function(q,m,n,p){var o=this._parseResponse(p.responseText);if(o){g.transformFieldHtml(o);this.triggerSaveError(q,m,n,o)}},_parseResponse:function(m){try{return JSON.parse(m)}catch(n){this._showFatalErrorMessage();return null}},_showFatalErrorMessage:function(){var m="<p>"+"Communications Breakdown"+"</p><p>"+"Close this dialog and press refresh in your browser"+"</p>";b.showErrorMsg(m,{closeable:true})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/services/UnloadInterceptor.js' */
define("jira/components/issueeditor/services/unloadinterceptor",["require"],function(c){var b=c("jira/components/libs/underscore");var a=c("jira/components/libs/marionette-1.4.1/controller");return a.extend({initialize:function(){this._afterEventHandlers=[];this.originalBeforeUnload=window.onbeforeunload;window.onbeforeunload=b.bind(this.onBeforeUnload,this)},addAfterEvent:function(d){this._afterEventHandlers.push(d)},removeAfterEvent:function(d){this._afterEventHandlers=b.without(this._afterEventHandlers,d)},onBeforeUnload:function(){var d;var e=arguments;if(b.isFunction(this.originalBeforeUnload)){d=this.originalBeforeUnload.apply(window,e)}if(!d){d=b.reduce(this._afterEventHandlers,function(f,g){if(f){return f}return g.apply(window,e)},d)}return d}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/InlineEditUtils.js' */
define("jira/components/issueeditor/inlineeditutils",["require"],function(d){var b=d("jira/util/events");var c=d("jira/components/issueeditor/eventtypes");var a={};a.BLUR_FOCUS_TIMEOUT=50;a.BlurTriggers={Default:function(h,l){l=l.nextAll(".save-options").andSelf();var k=":input, a[href], [tabindex]";var j;var i=e(l);var g={focus:function(){if(!i){i=true;b.trigger(c.INLINE_EDIT_FOCUSED,[h])}},blur:function(){if(j){clearTimeout(j)}j=setTimeout(f,a.BLUR_FOCUS_TIMEOUT)}};l.attr("tabindex",1).bind(g).delegate(k,g);function f(){if(!e(l)){i=false;b.trigger(c.INLINE_EDIT_BLURRED,[h])}}}};function e(g){var f=document.activeElement;return g.find(f).length>0||g.filter(f).length>0}a.BlurTriggerMapping={system:{summary:a.BlurTriggers.Default,priority:a.BlurTriggers.Default,issuetype:a.BlurTriggers.Default,components:a.BlurTriggers.Default,versions:a.BlurTriggers.Default,fixVersions:a.BlurTriggers.Default,assignee:a.BlurTriggers.Default,reporter:a.BlurTriggers.Default,environment:a.BlurTriggers.Default,description:a.BlurTriggers.Default,labels:a.BlurTriggers.Default,duedate:a.BlurTriggers.Default},custom:{"com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:datepicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:datetime":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:float":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:grouppicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:labels":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multigrouppicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multiselect":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multiversion":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:project":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:select":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:textarea":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:textfield":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:url":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:userpicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:version":a.BlurTriggers.Default}};b.bind(c.INLINE_EDIT_STARTED,function(j,g,f,k){var i;if(f){i=a.BlurTriggerMapping.custom[f];if(!i){var h=f.replace(/.+:(.+)/,"$1");i=a.BlurTriggerMapping.custom[h]}}else{i=a.BlurTriggerMapping.system[g]}if(i){i(g,k)}});return a});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/eventtypes.js' */
define("jira/components/issueeditor/eventtypes",["require"],function(a){var b=a("jira/components/issueviewer/eventtypes");b.INLINE_EDIT_SAVE_COMPLETE="inlineEditSaveComplete";b.INLINE_EDIT_STARTED="inlineEditStarted";b.BEFORE_INLINE_EDIT_CANCEL="inlineEditCancelled";b.INLINE_EDIT_BLURRED="inlineEditBlurred";b.INLINE_EDIT_FOCUSED="inlineEditFocused";b.INLINE_EDIT_REQUESTED="inlineEditRequested";b.LOCK_PANEL_REFRESHING="lockPanelRefreshing";b.UNLOCK_PANEL_REFRESHING="unlockPanelRefreshing";b.REFRESH_ISSUE_PAGE="refreshIssuePage";return b});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/cancelreasons.js' */
define("jira/components/issueeditor/cancelreasons",function(){return{escPressed:"escPressed"}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/analytics/ViewIssue.js' */
define("jira/components/issueeditor/analytics/viewissue",["require"],function(b){var a=b("jira/components/utils/ajshelper");return{triggerEditableFieldDoubleClick:function(){a.trigger("analyticsEvent",{name:"jira.viewissue.editable-field.double-click"})},triggerEditableFieldSingleClick:function(){a.trigger("analyticsEvent",{name:"jira.viewissue.editable-field.single-click"})},triggerEditableFieldClickPencilIcon:function(){a.trigger("analyticsEvent",{name:"jira.viewissue.editable-field.click.pencil-icon"})}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/namespace.js' */
AJS.namespace("JIRA.Components.IssueEditor",null,require("jira/components/issueeditor"));AJS.namespace("JIRA.Components.IssueEditor.AppModule",null,require("jira/components/issueeditor/appmodule"));AJS.namespace("JIRA.Components.IssueEditor.NoInlineAppModule",null,require("jira/components/issueeditor/noinlineappmodule"));AJS.namespace("JIRA.Components.IssueEditor.Controllers.EditIssue",null,require("jira/components/issueeditor/controllers/editissue"));AJS.namespace("JIRA.Components.IssueEditor.Controllers.Fields",null,require("jira/components/issueeditor/controllers/fields"));AJS.namespace("JIRA.Components.IssueEditor.Collections.Fields",null,require("jira/components/issueeditor/entities/fields"));AJS.namespace("JIRA.Components.IssueEditor.Models.Field",null,require("jira/components/issueeditor/entities/field"));AJS.namespace("JIRA.Components.IssueEditor.Services.FieldsLoader",null,require("jira/components/issueeditor/services/fieldsloader"));AJS.namespace("JIRA.Components.IssueEditor.Services.IssueSaver",null,require("jira/components/issueeditor/services/issuesaver"));AJS.namespace("JIRA.Components.IssueEditor.Services.SaveInProgressManager",null,require("jira/components/issueeditor/services/saveinprogressmanager"));AJS.namespace("JIRA.Components.IssueEditor.Services.UnloadInterceptor",null,require("jira/components/issueeditor/services/unloadinterceptor"));AJS.namespace("JIRA.Components.IssueEditor.Views.FieldView",null,require("jira/components/issueeditor/views/field"));AJS.namespace("JIRA.Components.IssueEditor.Views.LoadingError",null,require("jira/components/issueeditor/views/loadingerror"));AJS.namespace("JIRA.Components.IssueEditor.Views.ModalFieldView",null,require("jira/components/issueeditor/views/modalfield"));AJS.namespace("JIRA.Components.IssueEditor.Views.SaveError",null,require("jira/components/issueeditor/views/saveerror"));AJS.namespace("JIRA.Components.IssueEditor.InlineEditUtils",null,require("jira/components/issueeditor/inlineeditutils"));AJS.namespace("JIRA.Issues.InlineEdit.BlurTriggers",null,require("jira/components/issueeditor/inlineeditutils").BlurTriggers);AJS.namespace("JIRA.Issues.InlineEdit.BlurTriggerMapping",null,require("jira/components/issueeditor/inlineeditutils").BlurTriggerMapping);AJS.namespace("JIRA.Issues.CANCEL_REASON",null,require("jira/components/issueeditor/cancelreasons"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:inlineeditparams', location = 'util/InlineEditParams.js' */
define("jira/components/util/inlineeditparams",["require"],function(b){var c=b("wrm/data");var a=null;function d(){var e=c.claim("com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled");a=e===undefined?true:Boolean(e)}return{isEnabled:function(){if(a===null){d()}return a}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issuecomponentresolver', location = 'issuecomponentresolver/IssueComponentResolver.js' */
define("jira/components/issuecomponentresolver",["require"],function(c){var b=c("jira/components/util/inlineeditparams");var a=c("jira/components/issueviewer");var d=c("jira/components/issueeditor");return{resolve:function(){return b.isEnabled()?d:a}}});;
;
/* module-key = 'com.atlassian.plugin.jslibs:marionette-2.1.0-factory', location = 'factories/marionette/2.1.0/marionette-2.1.0-factory.js' */
(function(i){define("atlassian/libs/factories/marionette-2.1.0",function(){return function(n,o){var k={_:n,Backbone:o};i.call(k);return k.Marionette.noConflict()}})})(function(){var i=this,n=function(i,f,d){function j(a,b){var c=Error(a);c.name=b||"Error";throw c;}var n=f.ChildViewContainer,k=function(a){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();d.each(a,this.add,this)};d.extend(k.prototype,{add:function(a,b){var c=a.cid;this._views[c]=a;a.model&&(this._indexByModel[a.model.cid]=
c);b&&(this._indexByCustom[b]=c);this._updateLength();return this},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){return this.findByCid(this._indexByModel[a])},findByCustom:function(a){return this.findByCid(this._indexByCustom[a])},findByIndex:function(a){return d.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var b=a.cid;a.model&&delete this._indexByModel[a.model.cid];d.any(this._indexByCustom,function(a,d){if(a===b)return delete this._indexByCustom[d],
!0},this);delete this._views[b];this._updateLength();return this},call:function(a){this.apply(a,d.tail(arguments))},apply:function(a,b){d.each(this._views,function(c){d.isFunction(c[a])&&c[a].apply(c,b||[])})},_updateLength:function(){this.length=d.size(this._views)}});d.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(a){k.prototype[a]=function(){var b=[d.values(this._views)].concat(d.toArray(arguments));
return d[a].apply(d,b)}});f.ChildViewContainer=k;f.ChildViewContainer.VERSION="0.1.4";f.ChildViewContainer.noConflict=function(){f.ChildViewContainer=n;return this};var o=f.Wreqr,h=f.Wreqr={};f.Wreqr.VERSION="1.3.1";f.Wreqr.noConflict=function(){f.Wreqr=o;return this};var g=function(a){this.options=a;this._wreqrHandlers={};d.isFunction(this.initialize)&&this.initialize(a)};g.extend=f.Model.extend;d.extend(g.prototype,f.Events,{setHandlers:function(a){d.each(a,function(a,c){var e=null;d.isObject(a)&&
!d.isFunction(a)&&(e=a.context,a=a.callback);this.setHandler(c,a,e)},this)},setHandler:function(a,b,c){this._wreqrHandlers[a]={callback:b,context:c};this.trigger("handler:add",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(b)return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers=
{}}});h.Handlers=g;g=function(a){this.options=a;this._commands={};d.isFunction(this.initialize)&&this.initialize(a)};d.extend(g.prototype,f.Events,{getCommands:function(a){var b=this._commands[a];b||(b={command:a,instances:[]},this._commands[a]=b);return b},addCommand:function(a,b){this.getCommands(a).instances.push(b)},clearCommands:function(a){this.getCommands(a).instances=[]}});h.CommandStorage=g;g=h.Handlers.extend({storageType:h.CommandStorage,constructor:function(a){this.options=a||{};this._initializeStorage(this.options);
this.on("handler:add",this._executeCommands,this);var b=Array.prototype.slice.call(arguments);h.Handlers.prototype.constructor.apply(this,b)},execute:function(a,b){a=arguments[0];b=Array.prototype.slice.call(arguments,1);this.hasHandler(a)?this.getHandler(a).apply(this,b):this.storage.addCommand(a,b)},_executeCommands:function(a,b,c){var e=this.storage.getCommands(a);d.each(e.instances,function(a){b.apply(c,a)});this.storage.clearCommands(a)},_initializeStorage:function(a){a=a.storageType||this.storageType;
this.storage=d.isFunction(a)?new a:a}});h.Commands=g;h.RequestResponse=h.Handlers.extend({request:function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);if(this.hasHandler(a))return this.getHandler(a).apply(this,b)}});g=function(){};g.extend=f.Model.extend;d.extend(g.prototype,f.Events);h.EventAggregator=g;g=function(a){this.vent=new h.EventAggregator;this.reqres=new h.RequestResponse;this.commands=new h.Commands;this.channelName=a};d.extend(g.prototype,{reset:function(){this.vent.off();
this.vent.stopListening();this.reqres.removeAllHandlers();this.commands.removeAllHandlers();return this},connectEvents:function(a,b){this._connect("vent",a,b);return this},connectCommands:function(a,b){this._connect("commands",a,b);return this},connectRequests:function(a,b){this._connect("reqres",a,b);return this},_connect:function(a,b,c){if(b){var c=c||this,e="vent"===a?"on":"setHandler";d.each(b,function(b,f){this[a][e](f,d.bind(b,c))},this)}}});h.Channel=g;g=function(){this._channels={};this.vent=
{};this.commands={};this.reqres={};this._proxyMethods()};d.extend(g.prototype,{channel:function(a){if(!a)throw Error("Channel must receive a name");return this._getChannel(a)},_getChannel:function(a){var b=this._channels[a];b||(b=new h.Channel(a),this._channels[a]=b);return b},_proxyMethods:function(){d.each(["vent","commands","reqres"],function(a){d.each(t[a],function(b){var c=this;this[a][b]=function(d){var e=c._getChannel(d)[a],f=Array.prototype.slice.call(arguments,1);return e[b].apply(e,f)}},
this)},this)}});var t={vent:"on off trigger once stopListening listenTo listenToOnce".split(" "),commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},g=new g;h.radio=g;var u=f.ChildViewContainer.noConflict(),v=f.Wreqr.noConflict(),w=i.Marionette,e=f.Marionette={};e.VERSION="2.1.0";e.noConflict=function(){i.Marionette=w;return this};f.Marionette=e;e.Deferred=f.$.Deferred;var l=Array.prototype.slice;
e.extend=f.Model.extend;e.getOption=function(a,b){if(a&&b)return a.options&&void 0!==a.options[b]?a.options[b]:a[b]};e.proxyGetOption=function(a){return e.getOption(this,a)};e.normalizeMethods=function(a){var b={};d.each(a,function(a,e){d.isFunction(a)||(a=this[a]);a&&(b[e]=a)},this);return b};e.normalizeUIKeys=function(a,b){if("undefined"!==typeof a)return d.each(d.keys(a),function(c){var d=/@ui\.[a-zA-Z_$0-9]*/g;c.match(d)&&(a[c.replace(d,function(a){return b[a.slice(4)]})]=a[c],delete a[c])}),
a};e.actAsCollection=function(a,b){d.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(c){a[c]=function(){var a=[d.values(d.result(this,b))].concat(d.toArray(arguments));return d[c].apply(d,a)}})};var x=function(a,b,c){return c.toUpperCase()},y=/(^|:)(\w)/gi;e.triggerMethod=function(a){var b=this["on"+a.replace(y,x)],c;d.isFunction(b)&&(c=b.apply(this,d.tail(arguments)));d.isFunction(this.trigger)&&
this.trigger.apply(this,arguments);return c};var z=document.documentElement,q=function(a){a._isShown&&a._isRendered&&f.$.contains(z,a.el)&&d.isFunction(a.triggerMethod)&&a.triggerMethod("dom:refresh")};e.MonitorDOMRefresh=function(a){a.listenTo(a,"show",function(){a._isShown=!0;q(a)});a.listenTo(a,"render",function(){a._isRendered=!0;q(a)})};var A=function(a,b,c,e){e=e.split(/\s+/);d.each(e,function(d){var e=a[d];e||j('Method "'+d+'" was configured as an event handler, but does not exist.');a.listenTo(b,
c,e)})},B=function(a,b,c,d){a.listenTo(b,c,d)},C=function(a,b,c,e){e=e.split(/\s+/);d.each(e,function(d){a.stopListening(b,c,a[d])})},D=function(a,b,c,d){a.stopListening(b,c,d)},r=function(a,b,c,e,f){b&&c&&(d.isFunction(c)&&(c=c.call(a)),d.each(c,function(c,g){d.isFunction(c)?e(a,b,g,c):f(a,b,g,c)}))};e.bindEntityEvents=function(a,b,c){r(a,b,c,B,A)};e.unbindEntityEvents=function(a,b,c){r(a,b,c,D,C)};e.proxyBindEntityEvents=function(a,b){return e.bindEntityEvents(this,a,b)};e.proxyUnbindEntityEvents=
function(a,b){return e.unbindEntityEvents(this,a,b)};e.Callbacks=function(){this._deferred=e.Deferred();this._callbacks=[]};d.extend(e.Callbacks.prototype,{add:function(a,b){var c=d.result(this._deferred,"promise");this._callbacks.push({cb:a,ctx:b});c.then(function(c){b&&(c.context=b);a.call(c.context,c.options)})},run:function(a,b){this._deferred.resolve({options:a,context:b})},reset:function(){var a=this._callbacks;this._deferred=e.Deferred();this._callbacks=[];d.each(a,function(a){this.add(a.cb,
a.ctx)},this)}});e.Controller=function(a){this.options=a||{};d.isFunction(this.initialize)&&this.initialize(this.options)};e.Controller.extend=e.extend;d.extend(e.Controller.prototype,f.Events,{destroy:function(){var a=l.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(a));this.triggerMethod.apply(this,["destroy"].concat(a));this.stopListening();this.off();return this},triggerMethod:e.triggerMethod,getOption:e.proxyGetOption});e.Object=function(a){this.options=d.extend({},d.result(this,
"options"),a);this.initialize(this.options)};e.Object.extend=e.extend;d.extend(e.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy");this.triggerMethod("destroy");this.stopListening()},triggerMethod:e.triggerMethod,getOption:e.proxyGetOption,bindEntityEvents:e.proxyBindEntityEvents,unbindEntityEvents:e.proxyUnbindEntityEvents});d.extend(e.Object.prototype,f.Events);e.Region=function(a){this.options=a||{};this.el=this.getOption("el");(this.el=this.el instanceof
f.$?this.el[0]:this.el)||j('An "el" must be specified for a region.',"NoElError");this.$el=this.getEl(this.el);if(this.initialize){var b=l.apply(arguments);this.initialize.apply(this,b)}};d.extend(e.Region,{buildRegion:function(a,b){if(d.isString(a))return this._buildRegionFromSelector(a,b);if(a.selector||a.el||a.regionClass)return this._buildRegionFromObject(a,b);if(d.isFunction(a))return this._buildRegionFromRegionClass(a);j("Improper region configuration type. Please refer to http://marionettejs.com/docs/marionette.region.html#region-configuration-types")},
_buildRegionFromSelector:function(a,b){return new b({el:a})},_buildRegionFromObject:function(a,b){var c=a.regionClass||b,e=d.omit(a,"selector","regionClass");a.selector&&!e.el&&(e.el=a.selector);c=new c(e);a.parentEl&&(c.getEl=function(b){if(d.isObject(b))return f.$(b);var c=a.parentEl;d.isFunction(c)&&(c=c());return c.find(b)});return c},_buildRegionFromRegionClass:function(a){return new a}});d.extend(e.Region.prototype,f.Events,{show:function(a,b){this._ensureElement();var c=b||{},e=a!==this.currentView,
f=!!c.forceShow,g=!!this.currentView;!c.preventDestroy&&e&&this.empty();if(e||f)a.once("destroy",d.bind(this.empty,this)),a.render(),g&&this.triggerMethod("before:swap",a),this.triggerMethod("before:show",a),d.isFunction(a.triggerMethod)?a.triggerMethod("before:show"):this.triggerMethod.call(a,"before:show"),this.attachHtml(a),this.currentView=a,g&&this.triggerMethod("swap",a),this.triggerMethod("show",a),d.isFunction(a.triggerMethod)?a.triggerMethod("show"):this.triggerMethod.call(a,"show");return this},
_ensureElement:function(){d.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]);(!this.$el||0===this.$el.length)&&j('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(a){return f.$(a)},attachHtml:function(a){this.el.innerHTML="";this.el.appendChild(a.el)},empty:function(){var a=this.currentView;if(a)return this.triggerMethod("before:empty",a),this._destroyView(),this.triggerMethod("empty",a),delete this.currentView,this},_destroyView:function(){var a=this.currentView;
a.destroy&&!a.isDestroyed?a.destroy():a.remove&&a.remove()},attachView:function(a){this.currentView=a;return this},hasView:function(){return!!this.currentView},reset:function(){this.empty();this.$el&&(this.el=this.$el.selector);delete this.$el;return this},getOption:e.proxyGetOption,triggerMethod:e.triggerMethod});e.Region.extend=e.extend;g=e.Controller.extend({constructor:function(a){this._regions={};e.Controller.call(this,a)},addRegions:function(a,b){d.isFunction(a)&&(a=a.apply(this,arguments));
var c={};d.each(a,function(a,e){d.isString(a)&&(a={selector:a});a.selector&&(a=d.defaults({},a,b));var f=this.addRegion(e,a);c[e]=f},this);return c},addRegion:function(a,b){var c;c=d.isObject(b);var p=d.isString(b),f=!!b.selector;c=p||c&&f?e.Region.buildRegion(b,e.Region):d.isFunction(b)?e.Region.buildRegion(b,e.Region):b;this.triggerMethod("before:add:region",a,c);this._store(a,c);this.triggerMethod("add:region",a,c);return c},get:function(a){return this._regions[a]},getRegions:function(){return d.clone(this._regions)},
removeRegion:function(a){var b=this._regions[a];this._remove(a,b);return b},removeRegions:function(){var a=this.getRegions();d.each(this._regions,function(a,c){this._remove(c,a)},this);return a},emptyRegions:function(){var a=this.getRegions();d.each(a,function(a){a.empty()},this);return a},destroy:function(){this.removeRegions();return e.Controller.prototype.destroy.apply(this,arguments)},_store:function(a,b){this._regions[a]=b;this._setLength()},_remove:function(a,b){this.triggerMethod("before:remove:region",
a,b);b.empty();b.stopListening();delete this._regions[a];this._setLength();this.triggerMethod("remove:region",a,b)},_setLength:function(){this.length=d.size(this._regions)}});e.actAsCollection(g.prototype,"_regions");e.RegionManager=g;e.TemplateCache=function(a){this.templateId=a};d.extend(e.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];b||(b=new e.TemplateCache(a),this.templateCaches[a]=b);return b.load()},clear:function(){var a,b=l.call(arguments),c=b.length;if(0<
c)for(a=0;a<c;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}});d.extend(e.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a)},loadTemplate:function(a){var b=f.$(a).html();(!b||0===b.length)&&j('Could not find template: "'+a+'"',"NoTemplateError");return b},compileTemplate:function(a){return d.template(a)}});e.Renderer={render:function(a,b){a||
j("Cannot render the template since its false, null or undefined.","TemplateNotFoundError");return("function"===typeof a?a:e.TemplateCache.get(a))(b)}};e.View=f.View.extend({constructor:function(a){d.bindAll(this,"render");this.options=d.extend({},d.result(this,"options"),d.isFunction(a)?a.call(this):a);this.events=this.normalizeUIKeys(d.result(this,"events"));d.isObject(this.behaviors)&&new e.Behaviors(this);f.View.apply(this,arguments);e.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled)},
getTemplate:function(){return this.getOption("template")},serializeModel:function(a){return a.toJSON.apply(a,l.call(arguments,1))},mixinTemplateHelpers:function(a){var a=a||{},b=this.getOption("templateHelpers");d.isFunction(b)&&(b=b.call(this));return d.extend(a,b)},normalizeUIKeys:function(a){var b=d.result(this,"ui"),c=d.result(this,"_uiBindings");return e.normalizeUIKeys(a,c||b)},configureTriggers:function(){if(this.triggers){var a={},b=this.normalizeUIKeys(d.result(this,"triggers"));d.each(b,
function(b,e){var f=d.isObject(b),g=f?b.event:b;a[e]=function(a){if(a){var d=a.preventDefault,e=a.stopPropagation,p=f?b.stopPropagation:e;(f?b.preventDefault:d)&&d&&d.apply(a);p&&e&&e.apply(a)}this.triggerMethod(g,{view:this,model:this.model,collection:this.collection})}},this);return a}},delegateEvents:function(a){this._delegateDOMEvents(a);this.bindEntityEvents(this.model,this.getOption("modelEvents"));this.bindEntityEvents(this.collection,this.getOption("collectionEvents"));return this},_delegateDOMEvents:function(a){a=
a||this.events;d.isFunction(a)&&(a=a.call(this));var a=this.normalizeUIKeys(a),b={},c=d.result(this,"behaviorEvents")||{},e=this.configureTriggers();d.extend(b,c,a,e);f.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=l.call(arguments);f.View.prototype.undelegateEvents.apply(this,a);this.unbindEntityEvents(this.model,this.getOption("modelEvents"));this.unbindEntityEvents(this.collection,this.getOption("collectionEvents"));return this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed){var a=
Error("Cannot use a view thats already been destroyed.");a.name="ViewDestroyedError";throw a;}},destroy:function(){if(!this.isDestroyed){var a=l.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(a));this.isDestroyed=!0;this.triggerMethod.apply(this,["destroy"].concat(a));this.unbindUIElements();this.remove();return this}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=d.result(this,"_uiBindings");this.ui={};d.each(d.keys(a),function(b){this.ui[b]=
this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(d.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)},triggerMethod:e.triggerMethod,normalizeMethods:e.normalizeMethods,getOption:e.proxyGetOption,bindEntityEvents:e.proxyBindEntityEvents,unbindEntityEvents:e.proxyUnbindEntityEvents});e.ItemView=e.View.extend({constructor:function(){e.View.apply(this,arguments)},serializeData:function(){var a={};this.model?a=d.partial(this.serializeModel,
this.model).apply(this,arguments):this.collection&&(a={items:d.partial(this.serializeCollection,this.collection).apply(this,arguments)});return a},serializeCollection:function(a){return a.toJSON.apply(a,l.call(arguments,1))},render:function(){this._ensureViewIsIntact();this.triggerMethod("before:render",this);this._renderTemplate();this.bindUIElements();this.triggerMethod("render",this);return this},_renderTemplate:function(){var a=this.getTemplate();if(!1!==a){a||j("Cannot render the template since it is null or undefined.",
"UndefinedTemplateError");var b=this.serializeData(),b=this.mixinTemplateHelpers(b),a=e.Renderer.render(a,b,this);this.attachElContent(a);return this}},attachElContent:function(a){this.$el.html(a);return this},destroy:function(){if(!this.isDestroyed)return e.View.prototype.destroy.apply(this,arguments)}});e.CollectionView=e.View.extend({childViewEventPrefix:"childview",constructor:function(a){var b=a||{};this.sort=d.isUndefined(b.sort)?!0:b.sort;this._initChildViewStorage();e.View.apply(this,arguments);
this._initialEvents();this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment();this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer();this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1;this._triggerBeforeShowBufferedChildren();this.attachBuffer(this,this.elBuffer);this._triggerShowBufferedChildren();this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&d.invoke(this._bufferedChildren,"triggerMethod",
"before:show")},_triggerShowBufferedChildren:function(){this._isShown&&(d.each(this._bufferedChildren,function(a){d.isFunction(a.triggerMethod)?a.triggerMethod("show"):e.triggerMethod.call(a,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},
_onCollectionAdd:function(a){this.destroyEmptyView();var b=this.getChildView(a),c=this.collection.indexOf(a);this.addChild(a,b,c)},_onCollectionRemove:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},onShowCalled:function(){this.children.each(function(a){d.isFunction(a.triggerMethod)?a.triggerMethod("show"):e.triggerMethod.call(a,"show")})},render:function(){this._ensureViewIsIntact();this.triggerMethod("before:render",this);this._renderChildren();this.triggerMethod("render",
this);return this},resortView:function(){this.render()},_sortViews:function(){this.collection.find(function(a,b){var c=this.children.findByModel(a);return!c||c._index!==b},this)&&this.resortView()},_renderChildren:function(){this.destroyEmptyView();this.destroyChildren();this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var a;
this.collection.each(function(b,c){a=this.getChildView(b);this.addChild(b,a,c)},this)},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this.triggerMethod("before:render:empty");this._showingEmptyView=!0;var b=new f.Model;this.addEmptyView(b,a);this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.destroyChildren(),delete this._showingEmptyView)},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(a,
b){var c=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");d.isFunction(c)&&(c=c.call(this));c=this.buildChildView(a,b,c);this._isShown&&this.triggerMethod.call(c,"before:show");this.children.add(c);this.renderChildView(c,-1);this._isShown&&this.triggerMethod.call(c,"show")},getChildView:function(){var a=this.getOption("childView");a||j('A "childView" must be specified',"NoChildViewError");return a},addChild:function(a,b,c){var e=this.getOption("childViewOptions");d.isFunction(e)&&
(e=e.call(this,a,c));a=this.buildChildView(a,b,e);this._updateIndices(a,!0,c);this._addChildView(a,c);return a},_updateIndices:function(a,b,c){this.sort&&(b?(a._index=c,this.children.each(function(b){b._index>=a._index&&b._index++})):this.children.each(function(b){b._index>=a._index&&b._index--}))},_addChildView:function(a,b){this.proxyChildEvents(a);this.triggerMethod("before:add:child",a);this.children.add(a);this.renderChildView(a,b);this._isShown&&!this.isBuffering&&(d.isFunction(a.triggerMethod)?
a.triggerMethod("show"):e.triggerMethod.call(a,"show"));this.triggerMethod("add:child",a)},renderChildView:function(a,b){a.render();this.attachHtml(this,a,b);return a},buildChildView:function(a,b,c){a=d.extend({model:a},c);return new b(a)},removeChildView:function(a){a&&(this.triggerMethod("before:remove:child",a),a.destroy?a.destroy():a.remove&&a.remove(),this.stopListening(a),this.children.remove(a),this.triggerMethod("remove:child",a),this._updateIndices(a,!1));return a},isEmpty:function(){return!this.collection||
0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(a,b){a.$el.append(b)},attachHtml:function(a,b,c){a.isBuffering?(a.elBuffer.appendChild(b.el),a._bufferedChildren.push(b)):a._insertBefore(b,c)||a._insertAfter(b)},_insertBefore:function(a,b){var c;this.sort&&b<this.children.length-1&&(c=this.children.find(function(a){return a._index===b+1}));return c?(c.$el.before(a.el),!0):!1},_insertAfter:function(a){this.$el.append(a.el)},
_initChildViewStorage:function(){this.children=new u},destroy:function(){if(!this.isDestroyed)return this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),e.View.prototype.destroy.apply(this,arguments)},destroyChildren:function(){var a=this.children.map(d.identity);this.children.each(this.removeChildView,this);this.checkEmpty();return a},proxyChildEvents:function(a){var b=this.getOption("childViewEventPrefix");this.listenTo(a,"all",function(){var c=
l.call(arguments),e=c[0],f=this.normalizeMethods(d.result(this,"childEvents"));c[0]=b+":"+e;c.splice(1,0,a);"undefined"!==typeof f&&d.isFunction(f[e])&&f[e].apply(this,c.slice(1));this.triggerMethod.apply(this,c)},this)}});e.CompositeView=e.CollectionView.extend({constructor:function(){e.CollectionView.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),
this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))})},getChildView:function(){var a=this.getOption("childView")||this.constructor;a||j('A "childView" must be specified',"NoChildViewError");return a},serializeData:function(){var a={};this.model&&(a=d.partial(this.serializeModel,this.model).apply(this,arguments));return a},render:function(){this._ensureViewIsIntact();this.isRendered=!0;this.resetChildViewContainer();this.triggerMethod("before:render",
this);this._renderTemplate();this._renderChildren();this.triggerMethod("render",this);return this},_renderChildren:function(){this.isRendered&&e.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var a={},a=this.serializeData(),a=this.mixinTemplateHelpers(a);this.triggerMethod("before:render:template");var b=this.getTemplate(),a=e.Renderer.render(b,a,this);this.attachElContent(a);this.bindUIElements();this.triggerMethod("render:template")},attachElContent:function(a){this.$el.html(a);
return this},attachBuffer:function(a,b){this.getChildViewContainer(a).append(b)},_insertAfter:function(a){this.getChildViewContainer(this).append(a.el)},getChildViewContainer:function(a){if("$childViewContainer"in a)return a.$childViewContainer;var b;(b=e.getOption(a,"childViewContainer"))?(b=d.isFunction(b)?b.call(a):b,b="@"===b.charAt(0)&&a.ui?a.ui[b.substr(4)]:a.$(b),0>=b.length&&j('The specified "childViewContainer" was not found: '+a.childViewContainer,"ChildViewContainerMissingError")):b=a.$el;
return a.$childViewContainer=b},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}});e.LayoutView=e.ItemView.extend({regionClass:e.Region,constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);e.ItemView.call(this,a)},render:function(){this._ensureViewIsIntact();this._firstRender?this._firstRender=!1:this._reInitializeRegions();return e.ItemView.prototype.render.apply(this,arguments)},destroy:function(){if(this.isDestroyed)return this;
this.regionManager.destroy();return e.ItemView.prototype.destroy.apply(this,arguments)},addRegion:function(a,b){this.triggerMethod("before:region:add",a);var c={};c[a]=b;return this._buildRegions(c)[a]},addRegions:function(a){this.regions=d.extend({},this.regions,a);return this._buildRegions(a)},removeRegion:function(a){this.triggerMethod("before:region:remove",a);delete this.regions[a];return this.regionManager.removeRegion(a)},getRegion:function(a){return this.regionManager.get(a)},getRegions:function(){return this.regionManager.getRegions()},
_buildRegions:function(a){var b=this,c={regionClass:this.getOption("regionClass"),parentEl:function(){return b.$el}};return this.regionManager.addRegions(a,c)},_initializeRegions:function(a){var b;this._initRegionManager();b=d.isFunction(this.regions)?this.regions(a):this.regions||{};var c=this.getOption.call(a,"regions");d.isFunction(c)&&(c=c.call(this,a));d.extend(b,c);this.addRegions(b)},_reInitializeRegions:function(){this.regionManager.emptyRegions();this.regionManager.each(function(a){a.reset()})},
getRegionManager:function(){return new e.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager();this.listenTo(this.regionManager,"before:add:region",function(a){this.triggerMethod("before:add:region",a)});this.listenTo(this.regionManager,"add:region",function(a,b){this[a]=b;this.triggerMethod("add:region",a,b)});this.listenTo(this.regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)});this.listenTo(this.regionManager,"remove:region",
function(a,b){delete this[a];this.triggerMethod("remove:region",a,b)})}});g=function(a,b){this.view=b;this.defaults=d.result(this,"defaults")||{};this.options=d.extend({},this.defaults,a);this.$=function(){return this.view.$.apply(this.view,arguments)};this.initialize.apply(this,arguments)};d.extend(g.prototype,f.Events,{initialize:function(){},destroy:function(){this.stopListening()},triggerMethod:e.triggerMethod,getOption:e.proxyGetOption,bindEntityEvents:e.proxyBindEntityEvents,unbindEntityEvents:e.proxyUnbindEntityEvents});
g.extend=e.extend;e.Behavior=g;var m=function(a,b){b=m.parseBehaviors(a,b||d.result(a,"behaviors"));m.wrap(a,b,d.keys(s))},s={setElement:function(a,b){a.apply(this,d.tail(arguments,2));d.each(b,function(a){a.$el=this.$el;a.el=this.el},this);return this},destroy:function(a,b){var c=d.tail(arguments,2);a.apply(this,c);d.invoke(b,"destroy",c);return this},bindUIElements:function(a,b){a.apply(this);d.invoke(b,a)},unbindUIElements:function(a,b){a.apply(this);d.invoke(b,a)},triggerMethod:function(a,b){var c=
d.tail(arguments,2);a.apply(this,c);d.each(b,function(b){a.apply(b,c)})},delegateEvents:function(a,b){var c=d.tail(arguments,2);a.apply(this,c);d.each(b,function(a){e.bindEntityEvents(a,this.model,e.getOption(a,"modelEvents"));e.bindEntityEvents(a,this.collection,e.getOption(a,"collectionEvents"))},this);return this},undelegateEvents:function(a,b){var c=d.tail(arguments,2);a.apply(this,c);d.each(b,function(a){e.unbindEntityEvents(a,this.model,e.getOption(a,"modelEvents"));e.unbindEntityEvents(a,this.collection,
e.getOption(a,"collectionEvents"))},this);return this},behaviorEvents:function(a,b){var c={},f=d.result(this,"ui");d.each(b,function(a,b){var g={},h=d.clone(d.result(a,"events"))||{},i=d.result(a,"ui"),i=d.extend({},f,i),h=e.normalizeUIKeys(h,i);d.each(d.keys(h),function(c){var e=Array(b+2).join(" "),e=c+e,c=d.isFunction(h[c])?h[c]:a[h[c]];g[e]=d.bind(c,a)});c=d.extend(c,g)});return c}};d.extend(m,{behaviorsLookup:function(){throw Error("You must define where your behaviors are stored.See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup");
},getBehaviorClass:function(a,b){return a.behaviorClass?a.behaviorClass:d.isFunction(m.behaviorsLookup)?m.behaviorsLookup.apply(this,arguments)[b]:m.behaviorsLookup[b]},parseBehaviors:function(a,b){return d.chain(b).map(function(b,e){var f=new (m.getBehaviorClass(b,e))(b,a),g=m.parseBehaviors(a,d.result(f,"behaviors"));return[f].concat(g)}).flatten().value()},wrap:function(a,b,c){d.each(c,function(c){a[c]=d.partial(s[c],a[c],b)})}});e.Behaviors=m;e.AppRouter=f.Router.extend({constructor:function(a){f.Router.apply(this,
arguments);this.options=a||{};var b=this.getOption("appRoutes"),c=this._getController();this.processAppRoutes(c,b);this.on("route",this._processOnRoute,this)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},_processOnRoute:function(a,b){var c=d.invert(this.getOption("appRoutes"))[a];if(d.isFunction(this.onRoute))this.onRoute(a,c,b)},processAppRoutes:function(a,b){if(b){var c=d.keys(b).reverse();d.each(c,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return this.getOption("controller")},
_addAppRoute:function(a,b,c){var e=a[c];e||j('Method "'+c+'" was not found on the controller');this.route(b,c,d.bind(e,a))},getOption:e.proxyGetOption});e.Application=function(a){this._initializeRegions(a);this._initCallbacks=new e.Callbacks;this.submodules={};d.extend(this,a);this._initChannel()};d.extend(e.Application.prototype,f.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(a){this._initCallbacks.add(a)},
start:function(a){this.triggerMethod("before:start",a);this._initCallbacks.run(a,this);this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(a){return this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},getRegions:function(){return this._regionManager.getRegions()},module:function(a,b){var c=e.Module.getClass(b),d=l.call(arguments);
d.unshift(this);return c.create.apply(c,d)},getRegionManager:function(){return new e.RegionManager},_initializeRegions:function(a){var b=d.isFunction(this.regions)?this.regions(a):this.regions||{};this._initRegionManager();var c=e.getOption(a,"regions");d.isFunction(c)&&(c=c.call(this,a));d.extend(b,c);this.addRegions(b);return this},_initRegionManager:function(){this._regionManager=this.getRegionManager();this.listenTo(this._regionManager,"before:add:region",function(a){this.triggerMethod("before:add:region",
a)});this.listenTo(this._regionManager,"add:region",function(a,b){this[a]=b;this.triggerMethod("add:region",a,b)});this.listenTo(this._regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)});this.listenTo(this._regionManager,"remove:region",function(a,b){delete this[a];this.triggerMethod("remove:region",a,b)})},_initChannel:function(){this.channelName=d.result(this,"channelName")||"global";this.channel=d.result(this,"channel")||v.radio.channel(this.channelName);
this.vent=d.result(this,"vent")||this.channel.vent;this.commands=d.result(this,"commands")||this.channel.commands;this.reqres=d.result(this,"reqres")||this.channel.reqres},triggerMethod:e.triggerMethod,getOption:e.proxyGetOption});e.Application.extend=e.extend;e.Module=function(a,b,c){this.moduleName=a;this.options=d.extend({},this.options,c);this.initialize=c.initialize||this.initialize;this.submodules={};this._setupInitializersAndFinalizers();this.app=b;this.startWithParent=!0;d.isFunction(this.initialize)&&
this.initialize(a,b,this.options)};e.Module.extend=e.extend;d.extend(e.Module.prototype,f.Events,{initialize:function(){},addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(d.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&
(this._isInitialized=!1,this.triggerMethod("before:stop"),d.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,b){if(a){var c=d.flatten([this,this.app,f,e,f.$,d,b]);a.apply(this,c)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new e.Callbacks;this._finalizerCallbacks=
new e.Callbacks},triggerMethod:e.triggerMethod});d.extend(e.Module,{create:function(a,b,c){var e=a,f=l.call(arguments);f.splice(0,3);var b=b.split("."),g=[];g[b.length-1]=c;d.each(b,function(b,d){var h=e;e=this._getModule(h,b,a,c);this._addModuleDefinition(h,e,g[d],f)},this);return e},_getModule:function(a,b,c,e){var f=d.extend({},e),e=this.getClass(e),g=a[b];g||(g=new e(b,c,f),a[b]=g,a.submodules[b]=g);return g},getClass:function(a){var b=e.Module;return!a?b:a.prototype instanceof b?a:a.moduleClass||
b},_addModuleDefinition:function(a,b,c,d){var e=this._getDefine(c),c=this._getStartWithParent(c,b);e&&b.addDefinition(e,d);this._addStartWithParent(a,b,c)},_getStartWithParent:function(a,b){var c;return d.isFunction(a)&&a.prototype instanceof e.Module?(c=b.constructor.prototype.startWithParent,d.isUndefined(c)?!0:c):d.isObject(a)?(c=a.startWithParent,d.isUndefined(c)?!0:c):!0},_getDefine:function(a){return d.isFunction(a)&&!(a.prototype instanceof e.Module)?a:d.isObject(a)?a.define:null},_addStartWithParent:function(a,
b,c){b.startWithParent=b.startWithParent&&c;b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}});return e};if("function"===typeof define&&define.amd)define(["backbone","underscore"],function(k,f){return i.Marionette=n(i,k,f)});else if("undefined"!==typeof exports){var o=require("backbone"),k=require("underscore");module.exports=n(i,o,k)}else i.Marionette=n(i,i.Backbone,i._)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-2.1.0', location = 'libs/marionette-2.1.0.js' */
define("jira/components/libs/marionette-2.1.0",["require"],function(d){var e=d("atlassian/libs/factories/marionette-2.1.0");var h=d("jira/components/libs/backbone");var c=d("jira/components/libs/underscore");var g=e(c,h);function f(j,i){var k=c.defaults({},i||{},{isPrevented:false,emitter:this,preventDefault:function(){this.isPrevented=true}});this.trigger(j,k);return k}function b(j,i){var k=this.triggerPreventable(j,i);if(k.isPrevented){i.preventDefault()}}c.extend(g.View.prototype,{unwrapTemplate:function a(j){if(j&&!this.$el.hasClass(j)){return}if(this.$el.parent().length){var i=this.$el.children();this.$el.replaceWith(i);this.setElement(i)}else{this.setElement(this.$el.children())}},triggerPreventable:f,retriggerPreventable:b});c.extend(g.Controller.prototype,{triggerPreventable:f,retriggerPreventable:b});g.ViewManager=g.Object.extend({constructor:function(){this.views={};g.Controller.apply(this,arguments)},hideView:function(j){var i=this.views[j];if(i){this.stopListening(i);if(!i.isDestroyed){i.destroy()}delete this.views[j]}},showView:function(k,j){var i=this.buildView(k,j);i.render()},buildView:function(k,j){var i=this.views[k];if(!i){i=j.call(this);this.listenTo(i,"destroy",function(){this.hideView(k)});this.views[k]=i}return i},getView:function(i){return this.views[i]},onDestroy:function(){c.each(this.views,function(i,j){this.hideView(j)},this)}});return g});define("jira/components/lib/marionette-2.1.0",["require"],function(a){return a("jira/components/libs/marionette-2.1.0")});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:functional-utils', location = 'util/FunctionalUtils.js' */
define("jira/components/util/functionalutils",["require"],function(b){var a=b("jira/components/libs/underscore");return{lambda:function(c){return function(){return c}},isNotBlank:function(c){return !!c},bindObjectTo:function(d,c){a.map(d,function(f,e){if(a.isFunction(f)){d[e]=a.bind(f,c)}})}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issue-utils', location = 'content/js/util/Utils.js' */
AJS.namespace("JIRA.Issues.Actions",null,require("jira/components/util/events/issue-actions"));define("jira/issue/utils/xsrf-token-header",[],function(){return{"X-Atlassian-Token":"no-check"}});AJS.namespace("JIRA.Issues.XsrfTokenHeader",null,require("jira/issue/utils/xsrf-token-header"));define("jira/issue/utils",["require"],function(b){var c=b("jira/dialog/dialog-register");var a=b("underscore");return{isIssueDialog:function(d){return !!d.issueId||a.include(c,d)},isDeleteDialog:function(d){return d.options.id==="delete-issue-dialog"},isEditCommentDialog:function(d){return d.options.id==="edit-comment"},getEffectiveIssueKeyForDialog:function(d){var e=d&&d.$activeTrigger&&d.$activeTrigger.data("issuekey");if(e){return e}else{return JIRA.Issues.Api.getSelectedIssue().getKey()}},getEffectiveIssueIdForDialog:function(d){if(d.issueId){return d.issueId}else{return JIRA.Issues.Api.getSelectedIssue().getId()}},getAction:function(d){if(this.isDeleteDialog(d)){return JIRA.Issues.Actions.DELETE}else{if(this.isEditCommentDialog(d)){return JIRA.Issues.Actions.EDIT_COMMENT}else{return JIRA.Issues.Actions.UPDATE}}},getMessage:function(d){if(!this.isEditCommentDialog(d)){return d.options.issueMsg||"thanks_issue_updated"}},getMeta:function(d){if(this.isEditCommentDialog(d)){return{commentId:d.$activeTrigger.attr("id").replace("edit_comment_","")}}else{return{}}},getUpdateCommandForDialog:function(e){var d=this;if(this.isIssueDialog(e)){return{key:d.getEffectiveIssueKeyForDialog(e),id:d.getEffectiveIssueIdForDialog(e),action:d.getAction(e),message:d.getMessage(e),meta:d.getMeta(e)}}},debounce:function(d,f){var e=Array.prototype.slice.call(arguments,2);if(!d){console.error("JIRA.Issues.Utils.debounce: ctx must be defined")}clearTimeout(d[f+"DebounceTimeout"]);d[f].apply(d,e);if(!d[f+"DebounceTimeout"]){d[f+"Original"]=d[f];d[f]=a.debounce(function(){return d[f+"Original"].apply(d,arguments)},300)}d[f+"DebounceTimeout"]=setTimeout(function(){d[f]=d[f+"Original"];d[f+"DebounceTimeout"]=null},500)},waitForDeferreds:function(h,g,d){d=d||window;var f=[];var e=new jQuery.Deferred();a.each(h,function(){var i=g.apply(d,arguments);if(i&&i.promise){f.push(i)}});if(f.length){jQuery.when.apply(jQuery,f).then(function(){e.resolveWith(d)})}else{e.resolveWith(d)}return e.promise()},resolvedPromise:function(){return new jQuery.Deferred().resolve().promise()},patch:function(e,d,h){var i=e.hasOwnProperty(d);var f=e[d];e[d]=h;return function g(){if(i){e[d]=f}else{delete e[d]}}},isEmptyOrWhitespace:function(d){return d===undefined||d===null||a.isEmpty(d.trim())}}});AJS.namespace("JIRA.Issues.Utils",null,require("jira/issue/utils"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/AttributesMixinCreator.js' */
define("jira/issues/attributesmixincreator",["require"],function(b){var a=b("underscore");var c=b("jira/issues/mixins");return{create:function(e){var d={};if(a.indexOf(e,"id")===-1){e.unshift("id")}a.each(e,function(g){var h=c.createMethodName("set",g);d[h]=function(k,i){var j={};j[g]=k;this.set(j,i);return this};var f=c.createMethodName("get",g);d[f]=function(){return this.get(g)}});return d}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/EventsMixinCreator.js' */
define("jira/issues/eventsmixincreator",["require"],function(b){var a=b("underscore");var c=b("jira/issues/mixins");return{create:function(e){var d={};var f=function(h){var g=c.createMethodName("bind",h);d[g]=function(){return this.bind.apply(this,[h].concat(a.toArray(arguments)))};var j=c.createMethodName("unbind",h);d[j]=function(){return this.unbind.apply(this,[h].concat(a.toArray(arguments)))};var i=c.createMethodName("trigger",h);d[i]=function(){return this.trigger.apply(this,[h].concat(a.toArray(arguments)))};var k=c.createMethodName("one",h);d[k]=function(){var l=this;var m=arguments[0];var o=function(){l.unbind(h,o);m(arguments)};var n=a.toArray(arguments).slice(1);return this.bind.apply(this,[h,o].concat(n))}};a.each(e,a.bind(f,this));return d}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/Extensions.js' */
define("jira/issue/extensions",["require"],function(b){var l=b("underscore");var a=b("jira/issues/eventsmixincreator");var d=b("jira/issues/attributesmixincreator");function j(n,m){l.forEach(l.keys(m),function(r){var s=n.prototype;if("initialize"===r){var p=s.initialize;s.initialize=function(){m.initialize.apply(this,arguments);if(p){p.apply(this,arguments)}};return}if("validate"===r){var q=s.validate;s.validate=function(){var v=m.validate.apply(this,arguments);if(v){return v}if(q){return q.apply(this,arguments)}};return}if("defaults"===r){var t=s.defaults||(s.defaults={});var o=m[r];for(var u in o){if(t.hasOwnProperty(u)){throw"Mixin error: object "+n+" already has default "+u+" defined for mixin "+m}t[u]=o[u]}return}if("properties"===r){if(!l.isArray(m[r])){throw"Expects properties member on mixin to be an array"}if(!s.properties){s.properties=[]}s.properties=s.properties.concat(m[r]);return}if("namedEvents"===r){if(!l.isArray(m[r])){throw"Expects events member on mixin to be an array"}if(!s.namedEvents){s.namedEvents=[]}s.namedEvents=s.namedEvents.concat(m[r]);return}if(s.hasOwnProperty(r)){throw"Mixin error: object "+n+" already has property "+r+" for mixin "+m}s[r]=m[r]},this)}function e(n){return function m(q,r){var s;var p=l.extend({},q);var o;if(q&&q.mixins){o=q.mixins;delete p.mixins}s=n.call(this,p,r);if(o){l.each(q.mixins,function(t){j(s,t)})}if(s.prototype.namedEvents){j(s,a.create(s.prototype.namedEvents))}if(s.prototype.properties){j(s,d.create(s.prototype.properties))}s.extend=m;return s}}function h(p,n){var o=p.prototype;var m=n.prototype;m.set=function(t,u){var r;var s=this.properties;if(s){if(l.isObject(t)||t==null){r=t}else{r={};r[t]=u}for(var q in r){if(l.indexOf(s,q)<0){throw"Property '"+q+"' does not exist"}}}return o.set.apply(this,arguments)};m.get=function(q){if(this.properties&&l.indexOf(this.properties,q)<0){throw"Property '"+q+"' does not exist"}return o.get.apply(this,arguments)}}function f(o,n){var m=n.prototype;m.addListener=function(w,p,z,q){if(arguments.length<3){throw"The 'other', 'event', and 'callback' arguments are mandatory"}var u=p.charAt(0).toUpperCase()+p.slice(1);var y="on"+u;var v="off"+u;var x="bind"+u;var s="unbind"+u;var r;var t;if(w[y]){r=y;t=v||s;if(typeof w[r]!=="function"){throw"object does not have method "+y+"'"}if(typeof w[t]!=="function"){throw"object does not have method "+v+"'"}}else{r=x;t=s;if(typeof w[r]!=="function"){throw"object does not have event ["+p+"] registered'"}}w[r](z,q);this._cleanerUppers=this._cleanerUppers||[];this._cleanerUppers.push(function(){w[t](z,q)})};m.removeListeners=function(){if(this._cleanerUppers){l.each(this._cleanerUppers,function(p){p()})}}}function g(p,o){var m=o.prototype;var n=p.prototype.remove;m.remove=function(){this.removeListeners();return n.apply(this,arguments)};m.deactivate=function(){this.undelegateEvents();this.removeListeners()}}function c(m){var o=m.extend();var n=m.extend;o.extend=e(n);return o}function k(m){var n=c(m);h(m,n);return n}function i(m){var n=c(m);f(m,n);g(m,n);return n}return{applyModelExtensions:k,applyExtensions:c,applyViewExtensions:i}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseCollection.js' */
define("jira/issues/basecollection",["require"],function(b){var c=b("backbone");var a=b("jira/issue/extensions");return a.applyExtensions(c.Collection)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseEvented.js' */
define("jira/issues/baseevented",["require"],function(c){var e=c("backbone");var b=c("underscore");var a=c("jira/issue/extensions");var d=function(){this.initialize.apply(this,arguments)};b.extend(d.prototype,e.Events,{initialize:function(){}});d.extend=e.Model.extend;return a.applyExtensions(d)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseModel.js' */
define("jira/issues/basemodel",["require"],function(b){var c=b("backbone");var a=b("jira/issue/extensions");return a.applyModelExtensions(c.Model)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseRouter.js' */
define("jira/issues/baserouter",["require"],function(b){var c=b("backbone");var a=b("jira/issue/extensions");return a.applyExtensions(c.Router)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseView.js' */
define("jira/issues/baseview",["require"],function(b){var c=b("backbone");var a=b("jira/issue/extensions");return a.applyViewExtensions(c.View)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/Mixins.js' */
define("jira/issues/mixins",function(){return{createMethodName:function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/ModelUtils.js' */
define("jira/issues/modelutils",["require"],function(c){var i=c("underscore");var h=c("backbone");var e=c("jira/issue/utils");var b;function d(){this.modelEvents={}}d.prototype.captureEvent=function(l,k){var j=k[0];if(!this.modelEvents[l.cid]){this.modelEvents[l.cid]={model:l,events:{}}}this.modelEvents[l.cid].events[j]=k};d.prototype.replayEvents=function(){i.each(this.modelEvents,function(j){i.each(j.events,function(k){h.Events.trigger.apply(j.model,k)})})};function f(k){var j=this;if(k==="change"||k.indexOf("change:")===0){b.log.captureEvent(j,i.toArray(arguments))}else{h.Events.trigger.apply(j,arguments)}}var g=function(){if(b){return{commit:function(){}}}b={log:new d()};var j=e.patch(h.Model.prototype,"trigger",f);return{commit:function(){j();b.log.replayEvents();b=null}}};var a={transaction:function(l,k){var j=g();try{return l.apply(k)}finally{j.commit()}},makeTransactional:function(k){var l=function(m){return function(){var n=arguments;return a.transaction(function(){return m.apply(this,n)},this)}};var j=Array.prototype.slice.call(arguments,1);if(j.length===0){j=i.functions(k)}i.each(j,function(m){if(m.indexOf("_")!==0){k[m]=l(k[m])}})}};return a});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/namespace.js' */
AJS.namespace("JIRA.Issues.AttributesMixinCreator",null,require("jira/issues/attributesmixincreator"));AJS.namespace("JIRA.Issues.BaseCollection",null,require("jira/issues/basecollection"));AJS.namespace("JIRA.Issues.BaseEvented",null,require("jira/issues/baseevented"));AJS.namespace("JIRA.Issues.BaseModel",null,require("jira/issues/basemodel"));AJS.namespace("JIRA.Issues.BaseRouter",null,require("jira/issues/baserouter"));AJS.namespace("JIRA.Issues.BaseView",null,require("jira/issues/baseview"));AJS.namespace("JIRA.Issues.EventsMixinCreator",null,require("jira/issues/eventsmixincreator"));AJS.namespace("JIRA.Issues.Mixins",null,require("jira/issues/mixins"));AJS.namespace("JIRA.Issues.ModelUtils",null,require("jira/issues/modelutils"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/init.js' */
(function(){var b=require("jira/components/util/functionalutils");var a=require("underscore");a.mixin({lambda:b.lambda,isNotBlank:b.isNotBlank,bindObjectTo:b.bindObjectTo})})();;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/orderby.soy' */
// This file was automatically generated from orderby.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.OrderBy.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.OrderBy == 'undefined') { JIRA.Templates.OrderBy = {}; }


JIRA.Templates.OrderBy.orderBy = function(opt_data, opt_ignored) {
  return '' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<div class="order-by-container"><div class="order-by-fields"><a href="#" aria-haspopup="true" class="order-options aui-button aui-style-default jira-aui-dropdown2-trigger" title="' + soy.$$escapeHtml("Select the field that issues are ordered by.") + '">' + ((opt_data.sortBy && opt_data.sortBy.fieldId) ? '<span>' + soy.$$escapeHtml(AJS.format("Order by {0}",opt_data.sortBy.fieldName)) + '</span>' : '<span>' + soy.$$escapeHtml("Order by") + '</span>') + '</a></div><div class="order-by-direction">' + ((opt_data.sortBy) ? '<a href="#" aria-haspopup="false" class="order-by aui-button" title="' + soy.$$escapeHtml(AJS.format("Order by {0}",opt_data.sortBy.fieldName)) + '" data-field-id="' + soy.$$escapeHtml(opt_data.sortBy.fieldId) + '" data-direction="' + soy.$$escapeHtml(opt_data.sortBy.order) + '">' + ((opt_data.sortBy.order == 'ASC') ? '<span class="aui-icon aui-icon-small aui-iconfont-new-arrow-up">' + soy.$$escapeHtml(AJS.format("Order by {0}",opt_data.sortBy.fieldName)) + '</span>' : '<span class="aui-icon aui-icon-small aui-iconfont-new-arrow-down">' + soy.$$escapeHtml(AJS.format("Order by {0}",opt_data.sortBy.fieldName)) + '</span>') + '</a>' : '<a href="#" aria-haspopup="false" class="aui-button" aria-disabled="true" title="' + soy.$$escapeHtml("Order by") + '"><span class="aui-icon aui-icon-small aui-iconfont-new-arrow-up">' + soy.$$escapeHtml("Order by") + '</span></a>') + '</div></div>' : ((opt_data.sortBy && opt_data.sortBy.fieldId) ? '<a class="order-by ' + ((opt_data.sortBy.order == 'ASC') ? 'ascending' : 'descending') + '" data-field-id="' + soy.$$escapeHtml(opt_data.sortBy.fieldId) + '" data-direction="' + soy.$$escapeHtml(opt_data.sortBy.order) + '" href="#" title="' + soy.$$escapeHtml(AJS.format("Order by {0}",opt_data.sortBy.fieldName)) + '"><span>' + soy.$$escapeHtml(AJS.format("Order by {0}",opt_data.sortBy.fieldName)) + '</span><span class="aui-icon aui-icon-small aui-iconfont-' + ((opt_data.sortBy.order == 'ASC') ? 'up' : 'down') + '"></span></a>' : '<a class="order-by" title="' + soy.$$escapeHtml("Order by") + '"><span>' + soy.$$escapeHtml("Order by") + '</span></a>') + '<a class="order-options" title="' + soy.$$escapeHtml("Select the field that issues are ordered by.") + '">' + soy.$$escapeHtml("Select the field that issues are ordered by.") + '</a>');
};
if (goog.DEBUG) {
  JIRA.Templates.OrderBy.orderBy.soyTemplateName = 'JIRA.Templates.OrderBy.orderBy';
}


JIRA.Templates.OrderBy.orderByOptions = function(opt_data, opt_ignored) {
  var output = '<select id="order-by-options" multiple="multiple" class="hidden"><optgroup data-footer-text="' + soy.$$escapeHtml(opt_data.footer) + '">';
  var optionList83 = opt_data.options;
  var optionListLen83 = optionList83.length;
  for (var optionIndex83 = 0; optionIndex83 < optionListLen83; optionIndex83++) {
    var optionData83 = optionList83[optionIndex83];
    output += '<option title="' + soy.$$escapeHtml(optionData83.fieldName) + '" value="' + soy.$$escapeHtml(optionData83.fieldId) + '" data-meta="' + soy.$$escapeHtml(optionData83.meta) + '">' + soy.$$escapeHtml(optionData83.fieldName) + '</option>';
  }
  output += '</optgroup></select>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.OrderBy.orderByOptions.soyTemplateName = 'JIRA.Templates.OrderBy.orderByOptions';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/OrderByModel.js' */
define("jira/components/orderby/orderbymodel",["require"],function(c){var b=c("jira/components/libs/underscore");var d=c("jira/components/libs/brace");var e=c("jquery");var a=c("wrm/context-path");return d.Model.extend({namedEvents:["sort"],namedAttributes:["sortBy","jql"],initialize:function(){this.on("change:jql",this.updateSelectedSort,this)},updateSelectedSort:function(){e.ajax({type:"POST",url:a()+"/rest/orderbycomponent/latest/orderByOptions/primary",data:JSON.stringify({jql:this.getJql()}),contentType:"application/json",success:b.bind(function(f){this.setSortBy(f)},this)})},toggleSort:function(){this.setJql(this.getSortBy().toggleJql);this.triggerSort(this.getJql())},doSort:function(f){this.setJql(f);this.triggerSort(this.getJql())}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/OrderByView.js' */
define("jira/components/orderby/orderbyview",["require"],function(a){var e=a("jira/components/libs/underscore");var d=a("jira/components/libs/brace");var j=a("jquery");var g=a("jira/util/events");var f=a("jira/components/orderby/eventtypes");var b=a("jira/components/orderby/templates");var c=a("jira/components/orderby/orderbydropdownview");var i=a("jira/featureflags/feature-manager");var h=i.isFeatureEnabled("jira.spectrum.m1");return d.View.extend({template:b.orderBy,events:{"click a.order-by":"_onClickOrderBy","click a.order-options":"_toggleShowDropDown"},initialize:function(){this.model.on("change:sortBy",this.render,this)},render:function(){this.$el.html(this.template(this.model.toJSON()));return this},deactivate:function(){if(this.orderByDropDown){this.orderByDropDown.deactivate()}this.undelegateEvents()},_onClickOrderBy:function(m){var l=new j.Event(f.ISSUE_TABLE_REORDER);g.trigger(l);if(!l.isDefaultPrevented()){var k=j(m.currentTarget).data("field-id");if(k){this.model.toggleSort()}}m.preventDefault()},_toggleShowDropDown:function(k){if(!this.orderByDropDown){this.orderByDropDown=new c({model:this.model,offsetTarget:h?this.$("a.order-options"):this.$("a.order-by"),onHideCallback:function(){this.orderByDropDown=null}.bind(this)})}this.orderByDropDown.toggle();k.preventDefault()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/OrderByDropDownView.js' */
define("jira/components/orderby/orderbydropdownview",["require"],function(b){var l=b("jira/components/libs/underscore");var i=b("jira/components/libs/brace");var o=b("jquery");var n=b("jira/util/events");var m=b("jira/components/orderby/eventtypes");var g=b("jira/components/orderby/templates");var a=b("jira/ajs/layer/inline-layer");var d=b("jira/ajs/select/checkbox-multi-select");var h=b("jira/ajs/select/suggestions/select-suggest-handler");var k=b("jira/ajs/list/group-descriptor");var j=b("jira/ajs/list/item-descriptor");var f=b("jira/issues/baseview");var c=b("jira/issues/tipsy");var e=b("wrm/context-path");return i.View.extend({initialize:function(p){l.bindAll(this,"_onDropdownHidden","_onDropdownShown");this.offsetTarget=p.offsetTarget;this._onHideCallback=p.onHideCallback;this._pending=null;this._inlineLayer=null},deactivate:function(){if(this._inlineLayer){this._inlineLayer.hide()}f.prototype.deactivate.apply(this,arguments)},toggle:function(){if(!this._inlineLayer){this._pending=o.ajax(this._ajaxDefaults());this._inlineLayer=this._createInlineLayer(this._pending);this._inlineLayer.bind(a.EVENTS.show,this._onDropdownShown);this._inlineLayer.bind(a.EVENTS.hide,this._onDropdownHidden);this._inlineLayer.show()}else{this._inlineLayer.hide()}},_createInlineLayer:function(p){var q=l.bind(function(s){this._deferredAddTipsyToFooter(s);return this._renderInitialContent(s)},this);var r=new a({offsetTarget:this.offsetTarget,content:function(){return p.pipe(q)},width:218});if(this._onHideCallback){r.bind(a.EVENTS.hide,this._onHideCallback)}return r},_initSingleSelect:function(q){var r=q.find("select");r.bind("selected",l.bind(this._onFieldSelected,this));this.selectControl=new d({element:r,itemAttrDisplayed:"label",suggestionsHandler:h,ajaxOptions:this._ajaxDefaults({data:l.bind(function(s){return JSON.stringify(this._ajaxOptionsData(s))},this),query:true,minQueryLength:0,formatResponse:l.bind(function(s){this._removeTipsy();var u=new k();l.each(s.fields,function(v){u.addItem(new j({title:v.fieldName,value:v.fieldId,label:v.fieldName,meta:{sortJql:v.sortJql}}))});var t=this._getFooterText(s);if(t){u.footerText(t);this._deferredAddTipsyToFooter(s)}return[u]},this)})});var p=q.find("#order-by-options-input");p.focus()},_ajaxDefaults:function(q){var p={url:e()+"/rest/orderbycomponent/latest/orderByOptions",type:"POST",contentType:"application/json",data:JSON.stringify(this._ajaxOptionsData())};return l.extend(p,q)},_ajaxOptionsData:function(q){var p=this.model.getJql();var r=this.model.getSortBy();return{query:q,jql:p?p:undefined,sortBy:r?r.fieldId:undefined}},_renderInitialContent:function(p){var q=l.map(p.fields,function(r){return l.extend({},r,{meta:JSON.stringify({sortJql:r.sortJql})})});return o("<div></div>").addClass("order-dropdown").html(g.orderByOptions({options:q,footer:this._getFooterText(p)}))},_onDropdownShown:function(q,p){this._initSingleSelect(p)},_onDropdownHidden:function(){this._removeTipsy();o("div.order-dropdown").remove();this._inlineLayer=null},_onFieldSelected:function(r,q){var p=new o.Event(m.ISSUE_TABLE_REORDER);n.trigger(p);if(!p.isDefaultPrevented()){l.defer(l.bind(function(){if(this.selectControl.outstandingRequest){this.selectControl.outstandingRequest.reject()}a.current.hide();var s=q.meta();this.model.doSort(s.sortJql)},this))}},_getFooterText:function(p){if(typeof p.matchesCount==="number"&&typeof p.maxResults==="number"){var q=p.matchesCount-p.maxResults;if(q>0){return AJS.format("{0} more fields...",q)}}return""},_deferredAddTipsyToFooter:function(s){if(this._inlineLayer){var q=s.matchesCount;var t=Math.min(s.matchesCount,s.maxResults);var r=AJS.format("Showing {0} of {1} matching fields. Find more fields by typing in the search box.",t,q);var p=this;l.defer(function(){p._tipsyTrigger=new c({el:p._inlineLayer.$layer.find(".aui-list-section-footer"),tipsy:{title:function(){return r},className:"tipsy-front"}})})}},_removeTipsy:function(){if(this._tipsyTrigger){this._tipsyTrigger.hide();this._tipsyTrigger=null}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/OrderBy.js' */
define("jira/components/orderby",["require"],function(b){var c=b("jira/components/orderby/orderbyview");var a=b("jira/components/orderby/orderbymodel");return{create:function(f){var e;var d;f=f||{};e=new a({sortBy:f.sortBy,jql:f.jql});d=new c({model:e});return{onSort:function(){e.onSort.apply(e,arguments);return this},offSort:function(g){e.off("sort",g);return this},render:function(){d.render();return this},setElement:function(g){d.setElement(g);return this},getJql:function(){return e.getJql()},setJql:function(g){e.setJql(g);return this},setSortBy:function(g){e.setSortBy(g);return this}}}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/eventtypes.js' */
define("jira/components/orderby/eventtypes",[],function(){return{ISSUE_TABLE_REORDER:"issueTableReorder"}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/amd-wrapper.js' */
define("jira/components/orderby/templates",function(){return JIRA.Templates.OrderBy});AJS.namespace("JIRA.Templates.OrderBy",null,require("jira/components/orderby/templates"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/namespace.js' */
AJS.namespace("JIRA.Components.OrderBy",null,require("jira/components/orderby"));AJS.namespace("JIRA.Issues.OrderByDropDownView",null,require("jira/components/orderby/orderbydropdownview"));AJS.namespace("JIRA.Issues.OrderByView",null,require("jira/components/orderby/orderbyview"));AJS.namespace("JIRA.Issues.OrderByModel",null,require("jira/components/orderby/orderbymodel"));;
;
/* module-key = 'com.atlassian.plugin.jslibs:backbone.paginator-2.0.2-factory', location = 'factories/backbone.paginator/2.0.2/backbone.paginator-2.0.2-factory.js' */
(function(p){define("atlassian/libs/factories/backbone.paginator-2.0.2",function(){return function(q,l){p.call({_:q,Backbone:l});var r=l.PageableCollection.noConflict();r.VERSION="2.0.2";return r}})})(function(){var p=function(k,l){function n(a,b){if(!k.isNumber(a)||k.isNaN(a)||!k.isFinite(a)||~~a!==a)throw new TypeError("`"+b+"` must be a finite integer");return a}function p(a,b,d){if((a=a._events[b])&&a.length){var c=a[a.length-1],e=c.callback;c.callback=function(){try{e.apply(this,arguments),d()}catch(a){throw a;
}finally{c.callback=e}}}else d()}var m=k.extend,u=k.omit,v=k.clone,s=k.each,q=k.pick,r=k.contains,E=k.isEmpty,F=k.pairs,H=k.invert,A=k.isArray,B=k.isFunction,I=k.isObject,y=k.keys,z=k.isUndefined,w=Math.ceil,J=Math.floor,G=Math.max,C=l.Collection.prototype,K=/[\s'"]/g,M=/[<>\s'"]/g,L=l.PageableCollection=l.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",
totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(a,b){C.constructor.apply(this,arguments);var b=b||{},d=this.mode=b.mode||this.mode||x.mode,c=m({},x.queryParams,this.queryParams,b.queryParams||{});c.directions=m({},x.queryParams.directions,this.queryParams.directions,c.directions||{});this.queryParams=c;c=this.state=m({},x.state,this.state,b.state||{});c.currentPage=null==c.currentPage?c.firstPage:c.currentPage;
A(a)||(a=a?[a]:[]);a=a.slice();"server"!=d&&(null==c.totalRecords&&!E(a))&&(c.totalRecords=a.length);this.switchMode(d,m({fetch:!1,resetState:!1,models:a},b));var e=b.comparator;c.sortKey&&!e&&this.setSorting(c.sortKey,c.order,b);if("server"!=d&&(d=this.fullCollection,e&&b.full&&(this.comparator=null,d.comparator=e),b.full&&d.sort(),a&&!E(a)))this.reset(a,m({silent:!0},b)),this.getPage(c.currentPage),a.splice.apply(a,[0,a.length].concat(this.models));this._initState=v(this.state)},_makeFullCollection:function(a,
b){var d=["url","model","sync","comparator"],c=this.constructor.prototype,e,f,h,g={};e=0;for(f=d.length;e<f;e++)h=d[e],z(c[h])||(g[h]=c[h]);g=new (l.Collection.extend(g))(a,b);e=0;for(f=d.length;e<f;e++)h=d[e],this[h]!==c[h]&&(g[h]=this[h]);return g},_makeCollectionEventHandler:function(a,b){return function(d,c,e,f){var h=a._handlers;s(y(h),function(d){var c=h[d];a.off(d,c);b.off(d,c)});var g=v(a.state),o=g.firstPage,i=g.pageSize,j=(0===o?g.currentPage:g.currentPage-1)*i,t=j+i;if("add"==d){var k,
l,q,D,f=f||{};e==b?(l=b.indexOf(c),l>=j&&l<t&&(D=a,k=q=l-j)):(k=a.indexOf(c),D=b,q=!z(f.at)?f.at+j:j+k);f.onRemove||(++g.totalRecords,delete f.onRemove);a.state=a._checkState(g);if(D){D.add(c,m({},f||{},{at:q}));var r=k>=i?c:!z(f.at)&&q<t&&a.length>i?a.at(i):null;r&&p(e,d,function(){a.remove(r,{onAdd:true})})}}if("remove"==d)if(f.onAdd)delete f.onAdd;else{--g.totalRecords?(k=g.totalPages=w(g.totalRecords/i),g.lastPage=0===o?k-1:k||o,g.currentPage>k&&(g.currentPage=g.lastPage)):(g.totalRecords=null,
g.totalPages=null);a.state=a._checkState(g);var n,o=f.index;e==a?((n=b.at(t))?p(a,d,function(){a.push(n,{onRemove:true})}):!a.length&&g.totalRecords&&a.reset(b.models.slice(j-i,t-i),m({},f,{parse:!1})),b.remove(c)):o>=j&&o<t&&((n=b.at(t-1))&&p(a,d,function(){a.push(n,{onRemove:true})}),a.remove(c),!a.length&&g.totalRecords&&a.reset(b.models.slice(j-i,t-i),m({},f,{parse:!1})))}if("reset"==d)if(f=e,e=c,e==a&&null==f.from&&null==f.to)g=b.models.slice(0,j),i=b.models.slice(j+a.models.length),b.reset(g.concat(a.models).concat(i),
f);else if(e==b){if(!(g.totalRecords=b.models.length))g.totalRecords=null,g.totalPages=null;"client"==a.mode&&(g.lastPage=g.currentPage=g.firstPage);a.state=a._checkState(g);a.reset(b.models.slice(j,t),m({},f,{parse:!1}))}"sort"==d&&(f=e,c===b&&a.reset(b.models.slice(j,t),m({},f,{parse:!1})));s(y(h),function(d){var c=h[d];s([a,b],function(a){a.on(d,c);a=a._events[d]||[];a.unshift(a.pop())})})}},_checkState:function(a){var b=this.mode,d=this.links,c=a.totalRecords,e=a.pageSize,f=a.currentPage,h=a.firstPage,
g=a.totalPages;if(null!=c&&null!=e&&null!=f&&null!=h&&("infinite"==b?d:1)){c=n(c,"totalRecords");e=n(e,"pageSize");f=n(f,"currentPage");h=n(h,"firstPage");if(1>e)throw new RangeError("`pageSize` must be >= 1");g=a.totalPages=w(c/e);if(0>h||1<h)throw new RangeError("`firstPage must be 0 or 1`");a.lastPage=0===h?G(0,g-1):g||h;if("infinite"==b){if(!d[f+""])throw new RangeError("No link found for page "+f);}else if(f<h||0<g&&(h?f>g:f>=g))throw new RangeError("`currentPage` must be firstPage <= currentPage "+
(h?">":">=")+" totalPages if "+h+"-based. Got "+f+".");}return a},setPageSize:function(a,b){var a=n(a,"pageSize"),b=b||{first:!1},d=this.state,c=w(d.totalRecords/a),e=c?G(d.firstPage,J(c*d.currentPage/d.totalPages)):d.firstPage,d=this.state=this._checkState(m({},d,{pageSize:a,currentPage:b.first?d.firstPage:e,totalPages:c}));return this.getPage(d.currentPage,u(b,["first"]))},switchMode:function(a,b){if(!r(["server","client","infinite"],a))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');
var b=b||{fetch:!0,resetState:!0},d=this.state=b.resetState?v(this._initState):this._checkState(m({},this.state));this.mode=a;var c=this,e=this.fullCollection,f=this._handlers=this._handlers||{},h;if("server"!=a&&!e){e=this._makeFullCollection(b.models||[],b);e.pageableCollection=this;this.fullCollection=e;var g=this._makeCollectionEventHandler(this,e);s(["add","remove","reset","sort"],function(a){f[a]=h=k.bind(g,{},a);c.on(a,h);e.on(a,h)});e.comparator=this._fullComparator}else"server"==a&&e&&(s(y(f),
function(a){h=f[a];c.off(a,h);e.off(a,h)}),delete this._handlers,this._fullComparator=e.comparator,delete this.fullCollection);if("infinite"==a)for(var o=this.links={},i=d.firstPage,j=w(d.totalRecords/d.pageSize),i=0===i?G(0,j-1):j||i,d=d.firstPage;d<=i;d++)o[d]=this.url;else this.links&&delete this.links;return b.fetch?this.fetch(u(b,"fetch","resetState")):this},hasPreviousPage:function(){var a=this.state,b=a.currentPage;return"infinite"!=this.mode?b>a.firstPage:!!this.links[b-1]},hasNextPage:function(){var a=
this.state,b=this.state.currentPage;return"infinite"!=this.mode?b<a.lastPage:!!this.links[b+1]},getFirstPage:function(a){return this.getPage("first",a)},getPreviousPage:function(a){return this.getPage("prev",a)},getNextPage:function(a){return this.getPage("next",a)},getLastPage:function(a){return this.getPage("last",a)},getPage:function(a,b){var d=this.mode,c=this.fullCollection,b=b||{fetch:!1},e=this.state,f=e.firstPage,h=e.currentPage,g=e.lastPage,o=e.pageSize,i=a;switch(a){case "first":i=f;break;
case "prev":i=h-1;break;case "next":i=h+1;break;case "last":i=g;break;default:i=n(a,"index")}this.state=this._checkState(m({},e,{currentPage:i}));b.from=h;b.to=i;e=(0===f?i:i-1)*o;c=c&&c.length?c.models.slice(e,e+o):[];if(("client"==d||"infinite"==d&&!E(c))&&!b.fetch)return this.reset(c,u(b,"fetch")),this;"infinite"==d&&(b.url=this.links[i]);return this.fetch(u(b,"fetch"))},getPageByOffset:function(a,b){if(0>a)throw new RangeError("`offset must be > 0`");var a=n(a),d=J(a/this.state.pageSize);0!==
this.state.firstPage&&d++;d>this.state.lastPage&&(d=this.state.lastPage);return this.getPage(d,b)},sync:function(a,b,d){var c=this;if("infinite"==c.mode){var e=d.success,f=c.state.currentPage;d.success=function(a,b,o){var i=c.links,j=c.parseLinks(a,m({xhr:o},d));j.first&&(i[c.state.firstPage]=j.first);j.prev&&(i[f-1]=j.prev);j.next&&(i[f+1]=j.next);e&&e(a,b,o)}}return(C.sync||l.sync).call(c,a,b,d)},parseLinks:function(a,b){var d={},c=b.xhr.getResponseHeader("Link");if(c){var e=["first","prev","next"];
s(c.split(","),function(a){var a=a.split(";"),b=a[0].replace(M,""),a=a.slice(1);s(a,function(a){var c=a.split("="),a=c[0].replace(K,""),c=c[1].replace(K,"");"rel"==a&&r(e,c)&&(d[c]=b)})})}return d},parse:function(a,b){var d=this.parseState(a,v(this.queryParams),v(this.state),b);d&&(this.state=this._checkState(m({},this.state,d)));return this.parseRecords(a,b)},parseState:function(a,b,d){if(a&&2===a.length&&I(a[0])&&A(a[1])){var c=v(d),e=a[0];s(F(u(b,"directions")),function(a){var b=a[0],a=a[1],d=
e[a];!z(d)&&!k.isNull(d)&&(c[b]=e[a])});e.order&&(c.order=1*H(b.directions)[e.order]);return c}},parseRecords:function(a){return a&&2===a.length&&I(a[0])&&A(a[1])?a[1]:a},fetch:function(a){var a=a||{},b=this._checkState(this.state),d=this.mode;"infinite"==d&&!a.url&&(a.url=this.links[b.currentPage]);var c=a.data||{},e=a.url||this.url||"";B(e)&&(e=e.call(this));var f=e.indexOf("?");if(-1!=f){for(var h=e.slice(f+1),g,k,i={},j=decodeURIComponent,l=h.split("&"),n=0,r=l.length;n<r;n++)g=l[n].split("="),
h=g[0],g=g[1]||!0,h=j(h),g=j(g),k=i[h],A(k)?k.push(g):i[h]=k?[k,g]:g;m(c,i);e=e.slice(0,f)}a.url=e;a.data=c;h="client"==this.mode?q(this.queryParams,"sortKey","order"):u(q(this.queryParams,y(x.queryParams)),"directions");n=F(h);e=v(this);for(f=0;f<n.length;f++)i=n[f],l=i[0],j=i[1],j=B(j)?j.call(e):j,null!=b[l]&&null!=j&&(c[j]=b[l]);b.sortKey&&b.order?(f=B(h.order)?h.order.call(e):h.order,c[f]=this.queryParams.directions[b.order+""]):b.sortKey||delete c[h.order];b=F(u(this.queryParams,y(x.queryParams)));
for(f=0;f<b.length;f++)i=b[f],j=i[1],j=B(j)?j.call(e):j,null!=j&&(c[i[0]]=j);if("server"!=d){var p=this,s=this.fullCollection,w=a.success;a.success=function(b,c,e){e=e||{};z(a.silent)?delete e.silent:e.silent=a.silent;var f=b.models;if(d=="client")s.reset(f,e);else{s.add(f,m({at:s.length},m(e,{parse:false})));p.trigger("reset",p,e)}w&&w(b,c,e)};return C.fetch.call(this,m({},a,{silent:!0}))}return C.fetch.call(this,a)},_makeComparator:function(a,b,d){var c=this.state,a=a||c.sortKey,b=b||c.order;if(a&&
b)return d||(d=function(a,b){return a.get(b)}),function(c,f){var h=d(c,a),g=d(f,a),k;1===b&&(k=h,h=g,g=k);return h===g?0:h<g?-1:1}},setSorting:function(a,b,d){var c=this.state;c.sortKey=a;c.order=b=b||c.order;var c=this.fullCollection,e=!1,f=!1;a||(e=f=!0);var h=this.mode,d=m({side:"client"==h?h:"server",full:!0},d),a=this._makeComparator(a,b,d.sortValue),b=d.full,d=d.side;"client"==d?b?(c&&(c.comparator=a),e=!0):(this.comparator=a,f=!0):"server"==d&&!b&&(this.comparator=a);e&&(this.comparator=null);
f&&c&&(c.comparator=null);return this}}),x=L.prototype;return L},q=this._,l=this.Backbone;if("object"==typeof exports)module.exports=p(require("underscore"),require("backbone"));else if("function"==typeof define&&define.amd)define(["underscore","backbone"],p);else if("undefined"!==typeof q&&"undefined"!==typeof l){var r=l.PageableCollection,H=p(q,l);l.PageableCollection.noConflict=function(){l.PageableCollection=r;return H}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:backbone.paginator', location = 'libs/backbone.paginator.js' */
define("jira/components/libs/backbone.paginator",["require"],function(b){var c=b("atlassian/libs/factories/backbone.paginator-2.0.2");var d=b("jira/components/libs/backbone");var a=b("jira/components/libs/underscore");return c(a,d)});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:latest-search-store', location = 'search/LatestSearchStore.js' */
define("jira/components/search/latestStorage",["require"],function(c){var d=c("jquery");var b=c("jira/data/local-storage");var a="jira.issue.navigator.latest.search";return{get:function(){try{var h=b.getItem(a);if(h){var f=d.parseJSON(h);if(f.jql||f.filter){return f}}}catch(g){return{}}},save:function(f){try{b.setItem(a,JSON.stringify(f))}catch(e){}}}});AJS.namespace("JIRA.Issues.LatestSearch",null,require("jira/components/search/latestStorage"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:search', location = 'search/Search.js' */
define("jira/components/search",["require"],function(e){var b=e("wrm/context-path");var g=e("jira/components/libs/backbone");var d=e("jira/components/libs/underscore");var f=e("jquery");var c=e("jira/components/search/results");var a=e("jira/components/search/latestStorage");return g.Collection.extend({url:function(){return b()+"/rest/issueNav/1/issueTable"},searchParams:{jql:"",filterId:null,columnConfig:"explicit",columns:[],layoutKey:"split-view",startIndex:0},sync:function(){var h=d.toArray(arguments);var i=h[2];i.type="POST";i.headers={"X-Atlassian-Token":"no-check"};i.data={};d.each(d.keys(this.searchParams),function(j){if(this.searchParams[j]!==null){i.data[j]=this.searchParams[j]}},this);return g.Collection.prototype.sync.apply(this,h)},parse:function(i){var h=i&&i.issueTable;if(!h||!h.issueIds){return[]}return d.map(h.issueIds,function(k,j){return{id:k,key:h.issueKeys[j]}})},update:function(h){this.set(this.parse(h))},setPreloadedData:function(h){this.preloadedData=h;this.reset(h.response,{parse:true});return this.parseResults(h.jql,h.response)},parseResults:function(h,i){a.save({jql:h});return new c([],{issues:this.toJSON(),pageSize:i.issueTable.pageSize,totalRecordsInDB:i.issueTable.total,totalRecordsInSearch:this.length,jql:h})},search:function(h){this.searchParams.jql=h;var i=new f.Deferred();if(this.preloadedData&&this.preloadedData.jql===h){this.reset(this.preloadedData.response,{parse:true});i.resolve(this.parseResults(h,this.preloadedData.response));delete this.preloadedData}else{this.fetch({reset:true,success:d.bind(function(k,j){i.resolve(this.parseResults(k.searchParams.jql,j))},this),error:function(k,j){i.reject(j)}})}return i.promise()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:search', location = 'search/SearchResult.js' */
define("jira/components/search/result",["require"],function(b){var a=b("wrm/context-path");var c=b("jira/components/libs/backbone");return c.Model.extend({initialize:function(){this.url=function(){return a()+"/rest/api/2/issue/"+this.id+"?fields=summary,status,issuetype"}},parse:function(e){var d={};if(!e.inaccessible){d.id=parseInt(e.id,10);d.key=e.key;if(e.fields){d.summary=e.fields.summary;d.status=e.fields.status.name;d.type={description:e.fields.issuetype.description,iconUrl:e.fields.issuetype.iconUrl,name:e.fields.issuetype.name}}else{d.status=e.status;d.summary=e.summary;d.type=e.type}}else{d.id=parseInt(e.id,10);d.key=e.key;d.inaccessible=true}return d}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:search', location = 'search/SearchResults.js' */
define("jira/components/search/results",["require"],function(d){var a=d("wrm/context-path");var g=d("jira/components/libs/backbone.paginator");var c=d("jira/components/libs/underscore");var f=d("jquery");var h=d("jira/components/search/result");var e=d("jira/legacy/deprecator");var b=g.extend({initialize:function(j,i){i=i||{};this.allIssues=i.issues;this.state.pageSize=i.pageSize;this.state.totalRecords=i.totalRecordsInSearch;this.totalRecordsInDB=i.totalRecordsInDB;this.allowNoSelection=i.allowNoSelection;this.jql=i.jql},model:h,url:function(){return a()+"/rest/issueNav/1/issueTable/stable"},state:{firstPage:0,currentPage:0},queryParams:{currentPage:null,pageSize:null,totalPages:null,totalRecords:null,sortKey:null,directions:null},sync:function(){var i=c.toArray(arguments);var j=i[2];j.type="POST";j.headers={"X-Atlassian-Token":"no-check"};j.data.layoutKey="split-view";j.data.id=this._getStableKeys();return g.prototype.sync.apply(this,i)},isAtTheEndOfStableSearch:function(){var i=this.state.currentPage===this.state.lastPage;var j=this.totalRecordsInDB>this.state.totalRecords;return i&&j},setPreloadedData:function(i){this.preloadedData=i;this.reset(i.response,{parse:true})},_getStableKeys:function(i){var j=typeof i==="undefined"?this._getStartIndex():i;return c.pluck(this.allIssues,"id").slice(j,j+this.state.pageSize)},_getStartIndex:function(){return this.state.pageSize*this.state.currentPage},_loadPageAndSelect:function(i,l){var j=new f.Deferred();var k={fetch:true,reset:true};this.trigger("before:loadpage",{pageToLoad:i});this.getPage(i,k).done(c.bind(function(){this.select(l);j.resolve(this.length)},this)).fail(c.bind(function(m){j.reject(m);this.trigger("error:loadpage",m)},this));return j.promise()},fetch:function(i){var j;if(this.preloadedData&&c.isEqual(this.preloadedData.ids,this._getStableKeys(this.state.pageSize*i.to))){this.reset(this.preloadedData.response,{parse:true});j=new f.Deferred().resolve().promise();delete this.preloadedData}else{j=g.prototype.fetch.call(this,i)}return j},jumpToPage:function(j){var i=new f.Deferred();this._loadPageAndSelect(j,"first").done(i.resolve).fail(i.reject);return i.promise()},jumpToPageForIssue:function(q){var n=new f.Deferred();var m=(typeof q==="number");var p=(typeof q==="string");var l;var k;for(var o=0,j=this.allIssues.length;o<j&&!k;o++){if((m&&this.allIssues[o].id===q)||(p&&this.allIssues[o].key===q)){k=this.allIssues[o];l=Math.floor(o/this.state.pageSize)}}if(typeof l==="number"&&isFinite(l)){this._loadPageAndSelect(l,k.id).done(n.resolve)}else{if(this.allowNoSelection){this._loadPageAndSelect("first",null).done(c.bind(function(){this.trigger("selectIssueNotInList",new h({id:m?q:undefined,key:p?q:undefined}))},this)).done(n.resolve)}else{this._loadPageAndSelect("first","first").done(n.resolve)}}return n.promise()},parse:function(m,k){var j=k.data;var l=m&&m.issueTable;var i=this.allIssues;c.each(l.table,function(n,o){if(n===null){var q=j.id[o];var p=c.findWhere(i,{id:q});if(p){l.table[o]={id:p.id,key:p.key,inaccessible:true}}}});return g.prototype.parse.call(this,l)},parseState:function(){return{}},parseRecords:function(i){if(i.table){return i.table}else{return[]}},select:function(i){if(typeof i==="string"){switch(i){case"first":i=this.at(0);break;case"last":i=this.at(this.length-1);break;default:i=this.findWhere({key:i});break}}else{if(typeof i==="number"){i=this.get(i)}}if(this.selected!==i){this.unselect()}if(!i){return}this.selected=i;this.selected.trigger("select",this.selected)},unselect:function(){if(this.selected){this.selected.trigger("unselect",this.selected)}this.selected=null},navigate:function(l){var j=this.indexOf(this.selected);var k=j+l;var i=this.at(k);if(i){this.select(i)}else{if(l>0&&this.hasNextPage()){this._loadPageAndSelect("next","first")}else{if(l<0&&this.hasPreviousPage()){this._loadPageAndSelect("prev","last")}}}return{current:k,total:this.length}},selectNext:function(){return this.navigate(1)},selectPrev:function(){return this.navigate(-1)},_getIssueByNavigation:function(m){var k=this.indexOf(this.selected);var l=k+m;var j=this.at(l);var i=new f.Deferred();if(j){this.select(j);i.resolve(j)}else{if(m>0&&this.hasNextPage()){this._loadPageAndSelect("next","first").done(function(){i.resolve(this.selected)}.bind(this))}else{if(m<0&&this.hasPreviousPage()){this._loadPageAndSelect("prev","last").done(function(){i.resolve(this.selected)}.bind(this))}else{i.reject()}}}return i.promise()},getNextIssue:function(){return this._getIssueByNavigation(1)},getPreviousIssue:function(){return this._getIssueByNavigation(-1)},updateSelectedIssue:function(){if(this.selected){this.selected.fetch()}},updateIssue:function(j){var i=this.get(j);if(i){i.fetch()}},hasIssueInSearch:function(i){return !!c.where(this.allIssues,{key:i}).length},isEmptySearch:function(){return !this.allIssues.length},removeAndUpdateSelectionIfNeeded:function(n){var l=n.get("key");var j;var q=c.chain(this.allIssues).map(function(i){return i.key}).value();var p=c.indexOf(q,l);var k=p+1<q.length;var o=p-1>=0;if(k){j=q[p+1]}else{if(o){j=q[p-1]}else{j=null}}for(var m=0;m<this.allIssues.length;m++){var r=this.allIssues[m];if(r.key===l){this.allIssues.splice(m,1);break}}this.state.totalRecords=this.state.totalRecords-1;this.totalRecordsInDB=this.totalRecordsInDB-1;this.unselect();this.remove(n);if(j){return this.jumpToPageForIssue(j).done(c.bind(function(){this.trigger("issueDeleted")},this))}else{return new f.Deferred().resolve(0).promise().done(c.bind(function(){this.trigger("issueDeleted")},this))}},getIssueKeyForIndex:function(j){var i=this.allIssues[j];if(!i){return}return i.key},getIssueAtGlobalIndex:function(i){return this.allIssues[i]},getPositionOfIssueInSearchResults:function(j){var i=c.indexOf(c.pluck(this.allIssues,"id"),j);if(i>-1){return i}else{return null}},getPositionOfIssueInPage:function(k){var j=this.get(k);var i=this.indexOf(j);if(i>-1){return i}else{return null}},getTotalIssues:function(){return this.getTotalIssuesInSearch()},getTotalIssuesInSearch:function(){return this.allIssues.length},getTotalIssuesInDb:function(){return this.totalRecordsInDB}});e.prop(b.prototype,"getTotalIssues",{removeInVersion:"8.0",alternativeName:"jira/components/search/results#getTotalIssuesInSearch()",sinceVersion:"7.1",displayName:"Method jira/components/search/results#getTotalIssues()"});return b});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:underscore', location = '/inline-issue-create/lib/underscore/underscore-amd.js' */
define("jira/inline-issue-create/lib/underscore",["atlassian/libs/underscore-1.5.2"],function(a){return a});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:backbone', location = '/inline-issue-create/lib/backbone/backbone-amd.js' */
define("jira/inline-issue-create/lib/backbone",["atlassian/libs/factories/backbone-1.0.0","jira/inline-issue-create/lib/underscore","jquery"],function(a,b,c){return a(b,c)});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:brace', location = '/inline-issue-create/lib/backbone.brace/backbone.brace-amd.js' */
define("jira/inline-issue-create/lib/brace",["jira/inline-issue-create/lib/backbone","jira/inline-issue-create/lib/underscore","atlassian/libs/factories/brace-2014.09.03"],function(c,a,b){return b(a,c)});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:marionette', location = '/inline-issue-create/lib/backbone.marionette/backbone.marionette-amd.js' */
define("jira/inline-issue-create/lib/marionette",["jquery","jira/util/logger","jira/inline-issue-create/lib/backbone","jira/inline-issue-create/lib/underscore","atlassian/libs/factories/marionette-2.1.0"],function(f,c,h,b,e){var g=e(b,h);var d={unwrapTemplate:function a(){var i=this.$el.children();if(i.length>1){c.warn("[IIC] Unwrapping template with more than one child - some content will be lost")}var j=f(i.get(0));if(this.$el.parent().length){this.$el.replaceWith(j);this.setElement(j)}else{this.setElement(j)}}};b.extend(g.ItemView.prototype,d);b.extend(g.CompositeView.prototype,d);b.extend(g.CollectionView.prototype,d);b.extend(g.LayoutView.prototype,d);return g});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:placeholder', location = '/inline-issue-create/lib/jquery-placeholder.js' */
/*! MIT License - https://github.com/mathiasbynens/jquery-placeholder/blob/master/LICENSE-MIT.txt */
/*! http://mths.be/placeholder v2.0.8 by @mathias */
(function(i,k,f){var b=Object.prototype.toString.call(i.operamini)=="[object OperaMini]";var a="placeholder" in k.createElement("input")&&!b;var g="placeholder" in k.createElement("textarea")&&!b;var l=f.fn;var e=f.valHooks;var c=f.propHooks;var n;var m;if(a&&g){m=l.placeholder=function(){return this};m.input=m.textarea=true}else{m=l.placeholder=function(){var p=this;p.filter((a?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":d,"blur.placeholder":h}).data("placeholder-enabled",true).trigger("blur.placeholder");return p};m.input=a;m.textarea=g;n={get:function(q){var p=f(q);var r=p.data("placeholder-password");if(r){return r[0].value}return p.data("placeholder-enabled")&&p.hasClass("placeholder")?"":q.value},set:function(q,s){var p=f(q);var r=p.data("placeholder-password");if(r){return r[0].value=s}if(!p.data("placeholder-enabled")){return q.value=s}if(s==""){q.value=s;if(q!=o()){h.call(q)}}else{if(p.hasClass("placeholder")){d.call(q,true,s)||(q.value=s)}else{q.value=s}}return p}};if(!a){e.input=n;c.value=n}if(!g){e.textarea=n;c.value=n}f(function(){f(k).delegate("form","submit.placeholder",function(){var p=f(".placeholder",this).each(d);setTimeout(function(){p.each(h)},10)})});f(i).bind("beforeunload.placeholder",function(){f(".placeholder").each(function(){this.value=""})})}function j(q){var p={};var r=/^jQuery\d+$/;f.each(q.attributes,function(t,s){if(s.specified&&!r.test(s.name)){p[s.name]=s.value}});return p}function d(q,r){var p=this;var s=f(p);if(p.value==s.attr("placeholder")&&s.hasClass("placeholder")){if(s.data("placeholder-password")){s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id"));if(q===true){return s[0].value=r}s.focus()}else{p.value="";s.removeClass("placeholder");p==o()&&p.select()}}}function h(){var t;var p=this;var s=f(p);var r=this.id;if(p.value==""){if(p.type=="password"){if(!s.data("placeholder-textinput")){try{t=s.clone().attr({type:"text"})}catch(q){t=f("<input>").attr(f.extend(j(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":s,"placeholder-id":r}).bind("focus.placeholder",d);s.data({"placeholder-textinput":t,"placeholder-id":r}).before(t)}s=s.removeAttr("id").hide().prev().attr("id",r).show()}s.addClass("placeholder");s[0].value=s.attr("placeholder")}else{s.removeClass("placeholder")}}function o(){try{return k.activeElement}catch(p){}}}(this,document,jQuery));;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:util', location = '/inline-issue-create/util/util.js' */
define("jira/inline-issue-create/util",["jira/util/logger","jira/inline-issue-create/lib/underscore","jquery"],function(m,k,g){var j=(document.body||document.documentElement).style;var d=["oAnimationEnd","MSAnimationEnd","mozAnimationEnd","webkitAnimationEnd","animationend"];var l;return{cssAnimationsSupport:j.transition!==undefined||j.WebkitTransition!==undefined||j.MozTransition!==undefined||j.MsTransition!==undefined||j.OTransition!==undefined,addClassAndRemoveOnAnimationEnd:function c(q,p,n){var o;q=g(q);function r(){for(o=0;o<d.length;o++){q.off(d[o],r)}q.removeClass(p)}if(this.cssAnimationsSupport){for(o=0;o<d.length;o++){q.on(d[o],r)}}else{setTimeout(function(){q.removeClass(p)},n||1000)}q.addClass(p)},scrollElementToView:function h(s,n){var o=s[0].getBoundingClientRect();var r=n[0].getBoundingClientRect();var q=s.scrollTop();var p=0;if(r.top<o.top){p=r.top-o.top}else{if(o.bottom<r.bottom){p=r.bottom-o.bottom}}if(p!==0){s.scrollTop(q+p)}},keyCode:{ENTER:13,ESC:27},after:function b(o,q,n){if(!k.isFunction(n)){throw"Body is not a function"}o[q]=k.wrap(o[q],function p(s){var t=Array.prototype.slice.call(arguments,1);var r=s.apply(o,t);n.apply(this,k.union([r],t));return r})},error:function i(o){var n=Array.prototype.slice.call(arguments,1);if(k.isString(n[0])){n[0]="[IIC]"+n[0]}m.error.apply(m,n)},debug:function a(o){if(this.shouldDisplay(o)){var n=Array.prototype.slice.call(arguments,1);if(k.isString(n[0])){n[0]="[IIC]"+n[0]}m.debug.apply(m,n)}},trace:function f(o){if(this.shouldDisplay(o)){var n=Array.prototype.slice.call(arguments,1);if(k.isString(n[0])){n[0]="[IIC]"+n[0]}m.debug.apply(m,n)}},shouldDisplay:function(n){if(l==="all"||n===l){return true}return false},showLogsFor:function e(n){l=n}}});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:analytics', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-analytics.js' */
define("jira/inline-issue-create/analytics",["jira/inline-issue-create/lib/underscore","jira/analytics","jira/inline-issue-create/lib/marionette"],function(g,e,d){return d.Controller.extend({initialize:function c(j){this.loadTimestamp=new Date().getTime();var k=j.widget;this.widgetId=k.model.cid.substring(1);this.projects=k.projects;this.listenTo(k,"issueCreated",this.onIssueCreated);this.listenTo(k,"openCreateIssueDialog",this.onOpenCreateIssueDialog);this.listenTo(k,"activated",this.onActivated);this.listenTo(k,"deactivated",this.onDeactivated)},triggerAnalytics:function b(l,n){var j="";var m="";if(this.projects&&this.projects.size()>0){var o=this.projects.first();j=o.get("id");m=o.get("type")}var k=g.defaults({},n,{instance:parseInt(this.widgetId,10),timestarted:this.loadTimestamp,projectId:j,projectType:m});e.send({name:"jira.inlinecreate."+l,data:k})},onOpenCreateIssueDialog:function i(j){this.triggerAnalytics("openDialog",{reason:j.reason})},onIssueCreated:function a(j,l,m,k){if(k.source==="inline"){this.triggerAnalytics("issueCreatedInline")}else{this.triggerAnalytics("issueCreatedDialog")}},onDeactivated:function f(){this.triggerAnalytics("deactivated")},onActivated:function h(){this.triggerAnalytics("activated")}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-preffilable-create-issue-dialog', location = '/inline-issue-create/components/prefillable-create-issue-dialog/custom-form-container-factory.js' */
define("jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory",["jira/jquery/deferred","jquery","jira/inline-issue-create/lib/underscore"],function(b,c,a){var d=function(){var g=JIRA.Forms.Container;return g.extend({lazyInit:function f(){var h=this.options.call(this);this.prefilledValues=h.prefilledValues;this.prefilledValues.fieldsToRetain=a.keys(h.prefilledValues);this.prefilledValues=c.param(h.prefilledValues);this.options=function i(){return h};return this._super()},render:function e(){var h=this;var i=new b();this.lazyInit();if(a.isFunction(h.model.markFieldAsDirty)){Object.keys(this.options().prefilledValues).forEach(function(l){h.model.markFieldAsDirty(l)})}h.model.getUseConfigurableForm().done(function k(l){if(l===true){h.configurableForm.render(h.prefilledValues).done(function m(o,n){i.resolveWith(h,[h.$element]);h.$element.append(n)})}else{h.unconfigurableForm.render(h.prefilledValues).done(function m(o,n){i.resolveWith(h,[h.$element,n]);h.$element.append(n)})}}).fail(function j(){i.resolveWith(h,[h.$element])});return i.promise()}})};return{build:d}});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-preffilable-create-issue-dialog', location = '/inline-issue-create/components/prefillable-create-issue-dialog/prefillable-create-issue-dialog-init-form.js' */
define("jira/inline-issue-create/prefillable-create-issue-dialog/init-form",["jira/util/formatter","jira/inline-issue-create/lib/underscore","jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory"],function(c,b,a){return function(u,n){if(!b.isObject(n)){throw new Error("You must provide promise that will resolve with fieldValues to create this form. Use standard create issue form if you have none.")}var l=JIRA.Forms.CreateIssueModel;var q=JIRA.Forms.ConfigurableCreateIssueForm;var m=JIRA.Forms.UnconfigurableCreateIssueForm;var f=JIRA.Forms.CreateIssueError;var e=JIRA.applyErrorsToForm;var j=JIRA.applyErrorMessageToForm;var t;n.done(function o(v){t=v;t.prefilledFields=t.prefilledFields||{};t.errors=t.errors||{};t.errorMessages=t.errorMessages||{}}).fail(function k(){t={prefilledFields:{},errors:{},errorMessages:{}}});var g=a.build();var d=new g(function r(){var y={title:"Create Issue",id:"prefillable-create-issue-dialog",globalEventNamespaces:["PrefillableCreateIssueDialog"],issueType:undefined};var v=new l({projectId:undefined,issueType:undefined});var x=new q({model:v,title:y.title,globalEventNamespaces:y.globalEventNamespaces});var w=new m({model:v,title:y.title,globalEventNamespaces:y.globalEventNamespaces});return{globalEventNamespaces:y.globalEventNamespaces,model:v,errorHandler:new f(),configurableForm:x,unconfigurableForm:w,prefilledValues:t.prefilledFields}});var p=d.asDialog({windowTitle:"Create Issue",id:"prefillable-create-issue-dialog"});p.options.delayShowUntil=function i(){return n};d.asDialog=function h(){return d.dialog};p.onContentReady(function s(){if(b.keys(t.errors).length){t.errorMessages.unshift("Please fix the fields marked below.");e(d.$element,t.errors)}if(t.errorMessages.length){j(d.$element,t.errorMessages.join("<br/>"))}});u.resolve(d)}});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-preffilable-create-issue-dialog', location = '/inline-issue-create/components/prefillable-create-issue-dialog/prefillable-create-issue-dialog.js' */
define("jira/inline-issue-create/prefillable-create-issue-dialog",["jira/util/formatter","jira/jquery/deferred","wrm/require","jira/loading/loading","jira/flag","jira/inline-issue-create/prefillable-create-issue-dialog/init-form"],function(h,f,d,g,k,e){var a=AJS.dim;var i=AJS.undim;var c=function(){a();g.showLoadingIndicator()};var b=function(){i();g.hideLoadingIndicator()};var j=function j(m,n){var l=new f();if(n){c()}d(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"],e.bind(undefined,l,m)).fail(function(){if(n){b()}k.showErrorMsg(null,"The Jira server could not be contacted. This may be a temporary glitch or the server may be down.")});return l.promise()};return{createPrefillableCreateIssueForm:j}});define("jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory",["jira/jquery/deferred","jquery","jira/inline-issue-create/lib/underscore"],function(b,c,a){var e=JIRA.Forms.Container;var d=function(){return e.extend({lazyInit:function g(){var h=this.options.call(this);this.prefilledValues=h.prefilledValues;this.prefilledValues.fieldsToRetain=a.keys(h.prefilledValues);this.prefilledValues=c.param(h.prefilledValues);this.options=function i(){return h};return this._super()},render:function f(){var h=this;var i=new b();this.lazyInit();if(a.isFunction(h.model.markFieldAsDirty)){Object.keys(this.options().prefilledValues).forEach(function(l){h.model.markFieldAsDirty(l)})}h.model.getUseConfigurableForm().done(function k(l){if(l===true){h.configurableForm.render(h.prefilledValues).done(function m(o,n){i.resolveWith(h,[h.$element]);h.$element.append(n)})}else{h.unconfigurableForm.render(h.prefilledValues).done(function m(o,n){i.resolveWith(h,[h.$element,n]);h.$element.append(n)})}}).fail(function j(){i.resolveWith(h,[h.$element])});return i.promise()}})};return{build:d}});define("jira/inline-issue-create/prefillable-create-issue-dialog/ondone",["jira/util/formatter","jira/inline-issue-create/lib/underscore","jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory"],function(e,f,i){var d=JIRA.Forms.CreateIssueModel;var g=JIRA.Forms.ConfigurableCreateIssueForm;var c=JIRA.Forms.UnconfigurableCreateIssueForm;var h=JIRA.Forms.CreateIssueError;var a=JIRA.applyErrorsToForm;var b=JIRA.applyErrorMessageToForm;return function(t,l){if(!f.isObject(l)){throw new Error("You must provide promise that will resolve with fieldValues to create this form. Use standard create issue form if you have none.")}var n;l.done(function q(v){n=v;n.prefilledFields=n.prefilledFields||{};n.errors=n.errors||{};n.errorMessages=n.errorMessages||{}}).fail(function k(){n={prefilledFields:{},errors:{},errorMessages:{}}});var o=i.build();var j=new o(function s(){var y={title:"Create Issue",id:"prefillable-create-issue-dialog",globalEventNamespaces:["PrefillableCreateIssueDialog"],issueType:undefined};var v=new d({projectId:undefined,issueType:undefined});var x=new g({model:v,title:y.title,globalEventNamespaces:y.globalEventNamespaces});var w=new c({model:v,title:y.title,globalEventNamespaces:y.globalEventNamespaces});return{globalEventNamespaces:y.globalEventNamespaces,model:v,errorHandler:new h(),configurableForm:x,unconfigurableForm:w,prefilledValues:n.prefilledFields}});var p=j.asDialog({windowTitle:"Create Issue",id:"prefillable-create-issue-dialog"});p.options.delayShowUntil=function m(){return l};j.asDialog=function r(){return j.dialog};p.onContentReady(function u(){if(f.keys(n.errors).length){n.errorMessages.unshift("Please fix the fields marked below.");a(j.$element,n.errors)}if(n.errorMessages.length){b(j.$element,n.errorMessages.join("<br/>"))}});t.resolve(j)}});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-widget.soy' */
// This file was automatically generated from inline-issue-create-widget.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.InlineIssueCreate.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.InlineIssueCreate == 'undefined') { JIRA.Templates.InlineIssueCreate = {}; }


JIRA.Templates.InlineIssueCreate.trigger = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="iic' + ((opt_data.cssClass) ? ' ' + soy.$$escapeHtml(opt_data.cssClass) : '') + '"><div class="iic-trigger"><button type="button">' + soy.$$escapeHtml("Create issue") + '</button></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.trigger.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.trigger';
}


JIRA.Templates.InlineIssueCreate.widget = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="iic-widget' + ((opt_data.cssClass) ? ' ' + soy.$$escapeHtml(opt_data.cssClass) : '') + '"><form action="#" method="POST" class="iic-widget__form aui"><div class="iic-widget__issue-type-selector-container"></div><div><textarea name="summary" rows="1" cols="50" maxlength="255" class="iic-widget__summary" placeholder="' + soy.$$escapeHtml("What needs to be done?") + '">' + ((opt_data.summary) ? soy.$$escapeHtml(opt_data.summary) : '') + '</textarea><div class="iic-widget__footer"><div class="iic-widget__description-container"></div><button type="button" class="aui-button aui-button-subtle iic-widget__more" title="' + soy.$$escapeHtml("Open create dialog") + '"><span class="aui-icon aui-icon-small aui-iconfont-more">' + soy.$$escapeHtml("More") + '</span></button><button type="button" class="aui-button aui-button-link iic-widget__cancel">' + soy.$$escapeHtml("Cancel") + '</button></div></div></form></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.widget.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.widget';
}


JIRA.Templates.InlineIssueCreate.issueTypeSelector = function(opt_data, opt_ignored) {
  return '<div class="iic-widget__issue-type-selector"><button type="button" class="iic-widget__issue-type-selector__trigger aui-dropdown2-trigger" aria-owns="iic-issue-type-dropdown-' + soy.$$escapeHtml(opt_data.widgetId) + '" aria-haspopup="true">' + ((! opt_data.isLocked) ? '<img src="' + soy.$$escapeHtml(opt_data.issueTypeIconUrl) + '" width="16" height="16" />' : '<img src="data:image/gif;base64,R0lGODlhEAAQAMQAAP///+7u7t3d3bu7u6qqqpmZmYiIiHd3d2ZmZlVVVURERDMzMyIiIhEREQARAAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBwAQACwAAAAAEAAQAAAFdyAkQgGJJOWoQgIjBM8jkKsoPEzgyMGsCjPDw7ADpkQBxRDmSCRetpRA6Rj4kFBkgLC4IlUGhbNQIwXOYYWCXDufzYPDMaoKGBoKb886OjAKdgZAAgQkfCwzAgsDBAUCgl8jAQkHEAVkAoA1AgczlyIDczUDA2UhACH5BAUHABAALAAAAAAPABAAAAVjICSO0IGIATkqIiMKDaGKC8Q49jPMYsE0hQdrlABCGgvT45FKiRKQhWA0mPKGPAgBcTjsspBCAoH4gl+FmXNEUEBVAYHToJAVZK/XWoQQDAgBZioHaX8igigFKYYQVlkCjiMhACH5BAUHABAALAAAAAAQAA8AAAVgICSOUGGQqIiIChMESyo6CdQGdRqUENESI8FAdFgAFwqDISYwPB4CVSMnEhSej+FogNhtHyfRQFmIol5owmEta/fcKITB6y4choMBmk7yGgSAEAJ8JAVDgQFmKUCCZnwhACH5BAUHABAALAAAAAAQABAAAAViICSOYkGe4hFAiSImAwotB+si6Co2QxvjAYHIgBAqDoWCK2Bq6A40iA4yYMggNZKwGFgVCAQZotFwwJIF4QnxaC9IsZNgLtAJDKbraJCGzPVSIgEDXVNXA0JdgH6ChoCKKCEAIfkEBQcAEAAsAAAAABAADgAABUkgJI7QcZComIjPw6bs2kINLB5uW9Bo0gyQx8LkKgVHiccKVdyRlqjFSAApOKOtR810StVeU9RAmLqOxi0qRG3LptikAVQEh4UAACH5BAUHABAALAAAAAAQABAAAAVxICSO0DCQKBQQonGIh5AGB2sYkMHIqYAIN0EDRxoQZIaC6bAoMRSiwMAwCIwCggRkwRMJWKSAomBVCc5lUiGRUBjO6FSBwWggwijBooDCdiFfIlBRAlYBZQ0PWRANaSkED1oQYHgjDA8nM3kPfCmejiEAIfkEBQcAEAAsAAAAABAAEAAABWAgJI6QIJCoOIhFwabsSbiFAotGMEMKgZoB3cBUQIgURpFgmEI0EqjACYXwiYJBGAGBgGIDWsVicbiNEgSsGbKCIMCwA4IBCRgXt8bDACkvYQF6U1OADg8mDlaACQtwJCEAIfkEBQcAEAAsAAABABAADwAABV4gJEKCOAwiMa4Q2qIDwq4wiriBmItCCREHUsIwCgh2q8MiyEKODK7ZbHCoqqSjWGKI1d2kRp+RAWGyHg+DQUEmKliGx4HBKECIMwG61AgssAQPKA19EAxRKz4QCVIhACH5BAUHABAALAAAAAAQABAAAAVjICSOUBCQqHhCgiAOKyqcLVvEZOC2geGiK5NpQBAZCilgAYFMogo/J0lgqEpHgoO2+GIMUL6p4vFojhQNg8rxWLgYBQJCASkwEKLC17hYFJtRIwwBfRAJDk4ObwsidEkrWkkhACH5BAUHABAALAAAAQAQAA8AAAVcICSOUGAGAqmKpjis6vmuqSrUxQyPhDEEtpUOgmgYETCCcrB4OBWwQsGHEhQatVFhB/mNAojFVsQgBhgKpSHRTRxEhGwhoRg0CCXYAkKHHPZCZRAKUERZMAYGMCEAIfkEBQcAEAAsAAABABAADwAABV0gJI4kFJToGAilwKLCST6PUcrB8A70844CXenwILRkIoYyBRk4BQlHo3FIOQmvAEGBMpYSop/IgPBCFpCqIuEsIESHgkgoJxwQAjSzwb1DClwwgQhgAVVMIgVyKCEAIfkECQcAEAAsAAAAABAAEAAABWQgJI5kSQ6NYK7Dw6xr8hCw+ELC85hCIAq3Am0U6JUKjkHJNzIsFAqDqShQHRhY6bKqgvgGCZOSFDhAUiWCYQwJSxGHKqGAE/5EqIHBjOgyRQELCBB7EAQHfySDhGYQdDWGQyUhADs=" width="16" height="16" />') + '</button><div id="iic-issue-type-dropdown-' + soy.$$escapeHtml(opt_data.widgetId) + '" data-aui-alignment="top left" class="aui-dropdown2 aui-style-default iic-widget__issue-type-selector__dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"></ul></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.issueTypeSelector.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.issueTypeSelector';
}


JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem = function(opt_data, opt_ignored) {
  return '<li><a href="#" class="aui-icon-container" data-id="' + soy.$$escapeHtml(opt_data.id) + '" style="background-image: url(\'' + soy.$$escapeHtml(opt_data.iconUrl) + '\');">' + soy.$$escapeHtml(opt_data.name) + '</a></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem';
}


JIRA.Templates.InlineIssueCreate.description = function(opt_data, opt_ignored) {
  return '<div class="iic-widget__description' + ((! opt_data.issueTypeName) ? ' iic-widget__description_invisible' : '') + '">' + soy.$$escapeHtml("New") + ' <span class="iic-widget__description__selected-issue-type-name">' + ((opt_data.issueTypeName) ? soy.$$escapeHtml(opt_data.issueTypeName) : '') + '</span></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.description.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.description';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/possibleValues.js' */
define("jira/inline-issue-create/entities/possible-values",["jira/inline-issue-create/lib/backbone","jira/inline-issue-create/lib/underscore","wrm/context-path","jira/inline-issue-create/lib/brace"],function(k,l,d,h){return h.Collection.extend({url:function b(){var n=l.map(this.jqls,function(o){return"query="+encodeURIComponent(o)+"&"});return d()+"/rest/inline-create/1.0/context/possibleValues/"+this.getEntityName()+"?".concat.apply("?",n)},getEntityName:undefined,initialize:function e(n,o){this._initializeState(n,o)},_initializeState:function j(n,o){if(o&&o.jqls){this.jqls=o.jqls}else{this.jqls=undefined}this.fetching=false;this.initialized=false},parse:function c(n){return n.values},setJQLs:function f(n){if(l.isEqual(this.jqls,n)){return}this.jqls=n;this.fetch({reset:true})},reset:function g(){this.fetching=false;this.initialized=true;return k.Collection.prototype.reset.apply(this,arguments)},fetch:function a(o){var q=this;function n(){q.fetching=false;q.initialized=true;q.trigger("fetch:finished")}o=o||{};if(o.success){o.success=l.wrap(o.success,function p(r){n();return r.apply(q,Array.prototype.slice.call(arguments,1))})}else{o.success=n}this.trigger("fetch:started");this.fetching=true;return k.Collection.prototype.fetch.call(this,o)},isInitialized:function i(){return this.initialized},isFetching:function m(){return this.fetching}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/issueType.js' */
define("jira/inline-issue-create/entities/issue-type",["jira/inline-issue-create/lib/brace"],function(a){var b=a.Model.extend({namedAttributes:{id:"string",name:"string",description:"string",iconUrl:"string",subtask:"boolean"}});return b});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/issueTypes.js' */
define("jira/inline-issue-create/entities/issue-types",["jira/inline-issue-create/entities/possible-values","jira/inline-issue-create/entities/issue-type"],function(a,b){return a.extend({model:b,getEntityName:function(){return"issuetype"}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/project.js' */
define("jira/inline-issue-create/entities/project",["jira/inline-issue-create/lib/brace"],function(a){return a.Model.extend({namedAttributes:{id:"number",type:"string"}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/projects.js' */
define("jira/inline-issue-create/entities/projects",["jira/inline-issue-create/entities/possible-values","jira/inline-issue-create/entities/project"],function(b,c){return b.extend({model:c,comparator:function a(d){return d.getId()},getEntityName:function(){return"project"}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/inlineIssue.js' */
define("jira/inline-issue-create/entities/inline-issue",["jquery","wrm/context-path","jira/inline-issue-create/lib/brace"],function(f,b,c){return c.Model.extend({initialize:function a(){this._isSaving=false},save:function e(){var g=this;var h=f.ajax(b()+"/rest/inline-create/1.0/issue",{data:JSON.stringify(this.toJSON()),contentType:"application/json",type:"POST"});this._isSaving=true;return h.always(function i(){g._isSaving=false})},isSaving:function d(){return this._isSaving}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/inlineBootstrap.js' */
define("jira/inline-issue-create/entities/inline-bootstrap",["jira/inline-issue-create/lib/backbone","jira/inline-issue-create/lib/underscore","wrm/context-path","jira/util/logger","jira/inline-issue-create/lib/brace","jira/inline-issue-create/entities/projects","jira/inline-issue-create/entities/issue-types"],function(m,n,f,o,j,i,e){return j.Model.extend({issueTypesCollectionType:e,projectsCollectionType:i,namedAttributes:{hasCreateIssuePermission:"boolean",hasScheduleIssuePermission:"boolean"},initialize:function g(){this.issueTypes=new this.issueTypesCollectionType();this.projects=new this.projectsCollectionType()},url:function c(){var q=n.map(this.jqls,function(r){return"query="+encodeURIComponent(r)+"&"});return f()+"/rest/inline-create/1.0/context/bootstrap"+"?".concat.apply("?",q)},_initializeState:function l(q,r){if(r&&r.jqls){this.jqls=r.jqls}else{this.jqls=undefined}this.fetching=false;this.initialized=false},setJQLs:function b(q){if(n.isEqual(this.jqls,q)){return}this.jqls=q;this.fetch({reset:true})},parse:function d(r){var q=this;var t=n.map(r.issueTypes.values,function(u){return n.pick(u,n.keys(q.issueTypes.model.prototype.namedAttributes))});this.issueTypes.reset(t);var s=n.map(r.projects.values,function(u){return n.pick(u,n.keys(q.projects.model.prototype.namedAttributes))});this.projects.reset(s);return n.pick(r,"hasCreateIssuePermission","hasScheduleIssuePermission")},fetch:function a(s){var r=this;function q(){r.fetching=false;r.initialized=true;o.trace("inline.create.bootstrap.fetched")}s=s||{};if(s.success){s.success=n.wrap(s.success,function t(u){q();return u.apply(r,Array.prototype.slice.call(arguments,1))})}else{s.success=q}this.fetching=true;o.trace("inline.create.bootstrap.fetching");return m.Model.prototype.fetch.call(this,s)},isInitialized:function k(){return this.initialized},isFetching:function p(){return this.fetching},fireWhenInitialized:function h(q){if(this.isInitialized()&&(!this.isFetching())){q()}else{this.listenToOnce(this,"sync",q)}}})});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/description.js' */
define("jira/inline-issue-create/views/description",["jira/inline-issue-create/lib/marionette"],function(e){var a=e.ItemView.extend({template:JIRA.Templates.InlineIssueCreate.description,ui:{selectedIssueTypeName:".iic-widget__description__selected-issue-type-name"},modelEvents:{"change:selectedIssueType":function c(){var f=(this.model.getSelectedIssueType()&&this.model.getSelectedIssueType().getName())||"";if(f){this.$el.removeClass("iic-widget__description_invisible");this.ui.selectedIssueTypeName.text(f)}else{this.$el.addClass("iic-widget__description_invisible")}}},serializeData:function b(){var f={};if(this.model.getSelectedIssueType()){f=this.model.getSelectedIssueType().toJSON()}return{issueTypeName:f.name}},onRender:function d(){this.unwrapTemplate()}});return a});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/issueTypeDropdown.js' */
define("jira/inline-issue-create/views/issue-type-dropdown",["jira/inline-issue-create/lib/underscore","jquery","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/views/issue-type-dropdown-item"],function(k,c,j,g){var a=j.CompositeView.extend({childView:g,childViewOptions:function l(o,n){return{model:o,dropdownModel:this.model}},template:JIRA.Templates.InlineIssueCreate.issueTypeSelector,childViewContainer:".aui-list-truncate",ui:{trigger:".iic-widget__issue-type-selector__trigger",issueTypeIcon:".iic-widget__issue-type-selector__trigger img",issueTypeDropdown:".iic-widget__issue-type-selector__dropdown"},modelEvents:{"change:selectedIssueType":function d(){if(this.model.getSelectedIssueType()){this.ui.issueTypeIcon.attr("src",this.model.getSelectedIssueType().getIconUrl())}},"change:lockState":function f(n,o){this.render();if(o===this.model.constants.STATE_LOCK_SENDING){this.ui.trigger.attr("aria-disabled",true)}else{this.ui.trigger.attr("aria-disabled",false)}}},initialize:function b(){this.isDropdownShown=false;k.bindAll(this,"onDropdownShow")},serializeData:function i(){var n={};if(this.model.getSelectedIssueType()){n=this.model.getSelectedIssueType().toJSON()}return{widgetId:this.options.widgetId,isLocked:this.model.getLockState()!==this.model.constants.STATE_LOCK_UNLOCKED,issueTypeIconUrl:n.iconUrl}},onRender:function m(){this.unwrapTemplate();this.ui.issueTypeDropdown.on("aui-dropdown2-show",this.onDropdownShow)},onDropdownShow:function e(){var s=this.ui.issueTypeDropdown;s.appendTo(this.$el);var n=this.ui.issueTypeIcon.offset();var r=this.ui.issueTypeIcon.position();var o=this.ui.issueTypeIcon.outerHeight();var p=s.height();var q=c("body").outerHeight(true)<n.top+o+p;s.css({left:r.left,top:(q?r.top-p:r.top+o)+"px"})},onChildviewSelected:function h(n){this.trigger("issueTypeSelected",n.model)}});return a});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/issueTypeDropdownItem.js' */
define("jira/inline-issue-create/views/issue-type-dropdown-item",["jira/inline-issue-create/lib/marionette"],function(e){var b=e.ItemView.extend({template:JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem,initialize:function a(f){this.dropdownModel=f.dropdownModel},events:{"click a":function d(f){f.preventDefault();this.trigger("selected")}},onRender:function c(){this.unwrapTemplate()}});return b});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/defaultTrigger.js' */
define("jira/inline-issue-create/views/default-trigger",["jira/inline-issue-create/lib/marionette"],function(g){var d=g.ItemView.extend({template:JIRA.Templates.InlineIssueCreate.trigger,ui:{trigger:" .iic-trigger"},events:{"click @ui.trigger":function f(h){h.preventDefault();this.trigger("selected")}},initialize:function a(h){this.widget=h.widget;this.listenTo(this.widget,"activated",this.hide);this.listenTo(this.widget,"deactivated",this.show)},onRender:function e(){this.unwrapTemplate();if(this.widget.model.getState()===this.widget.model.constants.STATE_ACTIVE){this.hide()}},hide:function c(){this.ui.trigger.addClass("iic-trigger_hidden")},show:function b(){this.ui.trigger.removeClass("iic-trigger_hidden")}});return d});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/widget.js' */
define("jira/inline-issue-create/entities/widget-constants",[],function(){var a={STATE_CLOSED:"STATE_CLOSED",STATE_ACTIVE:"STATE_ACTIVE",STATE_LOCK_TEMP_INACTIVE:"STATE_LOCK_TEMP_INACTIVE",STATE_LOCK_SENDING:"STATE_LOCK_SENDING",STATE_LOCK_PERM_INACTIVE:"STATE_LOCK_PERM_INACTIVE",STATE_LOCK_UNLOCKED:"STATE_LOCK_UNLOCKED"};Object.freeze(a);return a});define("jira/inline-issue-create/entities/widget",["jira/inline-issue-create/lib/brace","jira/inline-issue-create/entities/issue-types","jira/inline-issue-create/entities/issue-type","jira/inline-issue-create/entities/widget-constants"],function(f,c,j,e){var a="iic.slectedIssueType";var k=e;var h=f.Model.extend({constants:k,defaults:{state:k.STATE_CLOSED,lockState:k.STATE_LOCK_UNLOCKED},namedAttributes:{summary:"",selectedIssueType:j,issueTypes:c,state:"",lastState:"",lockState:""},initialize:function d(m){var q;var o;if(!m||!m.selectedIssueType){if(localStorage){q=JSON.parse(localStorage.getItem(a))||{};q=q||{};o=this.getIssueTypes()&&this.getIssueTypes().find(function l(r){return r.getId()===q.id})}if(o){this.setSelectedIssueType(o)}else{if(this.getIssueTypes()){this.setSelectedIssueType(this.getIssueTypes().at(0))}}}this.on("change:selectedIssueType",function p(s){var r=this.getSelectedIssueType();if(r){localStorage.setItem(a,JSON.stringify(r.toJSON()))}});this.listenTo(this.getIssueTypes(),"reset",function n(){var r=this.getSelectedIssueType()&&this.getSelectedIssueType().getId();var s;if(!r){r=q.id}if(r!==undefined){s=this.getIssueTypes().get(r);if(s){this.setSelectedIssueType(s)}else{this.setSelectedIssueType(this.getIssueTypes().at(0))}}else{this.setSelectedIssueType(this.getIssueTypes().at(0))}})},changeState:function g(l){if(l===this.getState()){return}this.setLastState(this.getState());this.setState(l)},setSelectedIssueTypeIfAvailable:function i(m){if(m){var l=this.getIssueTypes().get(m.getId());if(l){this.setSelectedIssueType(l)}}},toIssueData:function b(){return{summary:this.getSummary(),issueTypeId:this.getSelectedIssueType()&&this.getSelectedIssueType().getId()}}});return h});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/widget.js' */
define("jira/inline-issue-create/views/widget",["jquery","jira/inline-issue-create/lib/underscore","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/util"],function(j,x,m,a){var i=500;var b=m.LayoutView.extend({template:JIRA.Templates.InlineIssueCreate.widget,regions:{issueTypeSelector:".iic-widget__issue-type-selector-container",description:".iic-widget__description-container"},ui:{summary:".iic-widget__summary",more:".iic-widget__more",cancel:".iic-widget__cancel",form:".iic-widget__form",withTitle:"[title]"},events:{"input @ui.summary":"onSummaryChange","change @ui.summary":"onSummaryChange","keyup @ui.summary":function(A){var z=this.ui.summary.val();if(z.length>255){this.ui.summary.val(z.substr(0,255))}this.onSummaryChange(A)},"keydown @ui.summary":function p(A){var z=this.ui.summary.val();if(A.keyCode===a.keyCode.ENTER){A.preventDefault();if(z!==""&&z.length<=255){if(this.model.getLockState()===this.model.constants.STATE_LOCK_UNLOCKED){this.ui.summary.blur();this.trigger("createIssue")}else{a.addClassAndRemoveOnAnimationEnd(this.$(".issue-type-selector"),"iic-error",i)}}else{a.addClassAndRemoveOnAnimationEnd(this.ui.summary,"iic-error",i)}}else{if(A.keyCode===a.keyCode.ESC){this.trigger("deactivate",{reason:"keypress"})}else{if(z.length>255){a.addClassAndRemoveOnAnimationEnd(this.ui.summary,"iic-error",i)}}}},"click @ui.cancel":function y(z){z.preventDefault();if(this.model.getLockState()!==this.model.constants.STATE_LOCK_SENDING){this.trigger("deactivate",{reason:"cancel"})}},"click @ui.more":function t(z){z.preventDefault();if(this.model.getLockState()!==this.model.constants.STATE_LOCK_SENDING){this.trigger("openFullIssueDialog")}}},modelEvents:{"change:summary":function r(){this.ui.summary.val(this.model.getSummary());this.adjustSummarySize()},"change:state":function s(z,A){if(A===this.model.constants.STATE_ACTIVE){this.activate()}else{if(A===this.model.constants.STATE_CLOSED){this.deactivate()}}},"change:lockState":function h(z,A){if(this.ui.summary.prop){if(A===this.model.constants.STATE_LOCK_SENDING){this.ui.summary.prop("disabled",true)}else{this.ui.summary.prop("disabled",false)}}}},initialize:function c(z){this.cssClass=z.cssClass||"";this.listenTo(this.issueTypeSelector,"show",function(){this.listenTo(this.issueTypeSelector.currentView,"issueTypeSelected",function(){this.focusSummary()})});x.bindAll(this,"adjustSummarySize","onBodyClick")},onClose:function g(){j(document).off("click.iic",this.onBodyClick)},onBodyClick:function l(z){if(!this.$el.is(z.target)&&this.$el.has(z.target).length===0){if(this.ui.summary.val()===""){this.trigger("deactivate",{reason:"cancel"})}else{if(this.ui.summary.is(":focus")){this.ui.summary.blur()}}}},serializeData:function n(){return{summary:this.model.getSummary(),cssClass:this.cssClass}},onRender:function k(){this.unwrapTemplate();this.ui.withTitle.tooltip({aria:true});var A=this;this.ui.summary.on("change cut paste drop keydown input",function z(){x.defer(A.adjustSummarySize)});x.defer(A.adjustSummarySize);this.ui.summary.placeholder();if(this.model.getState()===this.model.constants.STATE_ACTIVE){this.activate()}else{this.deactivate()}},adjustSummarySize:function d(){this.ui.summary.css("height","auto");var A=this.ui.summary.outerHeight();var z=Math.max(A+this.ui.summary.prop("scrollHeight")-this.ui.summary.prop("clientHeight"),A);if(z){this.ui.summary.height(z+"px")}},reset:function v(){this.ui.summary.attr("style","")},hide:function o(){this.$el.addClass("iic-widget_hidden");j(document).off("click.iic",this.onBodyClick)},show:function u(){this.$el.removeClass("iic-widget_hidden");this.adjustSummarySize();var z=this;x.defer(function(){j(document).off("click.iic",z.onBodyClick);j(document).on("click.iic",z.onBodyClick)})},focusSummary:function w(){this.ui.summary.focus()},activate:function f(){this.show();this.trigger("activated")},focus:function q(){this.focusSummary();this.trigger("focused")},deactivate:function e(){this.hide();this.trigger("deactivated")},onSummaryChange:function r(z){this.trigger("summaryChanged",this.ui.summary.val())}});return b});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-widget.js' */
define("jira/inline-issue-create/widget",["jira/util/formatter","wrm/context-path","jira/jquery/deferred","jquery","jira/inline-issue-create/lib/underscore","jira/util/logger","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/util","jira/inline-issue-create/entities/widget","jira/inline-issue-create/entities/issue-types","jira/inline-issue-create/entities/projects","jira/inline-issue-create/entities/inline-issue","jira/inline-issue-create/views/widget","jira/inline-issue-create/views/issue-type-dropdown","jira/inline-issue-create/views/description","jira/inline-issue-create/prefillable-create-issue-dialog","jira/inline-issue-create/analytics"],function(f,C,g,x,L,t,E,b,r,J,i,a,z,q,K,m,d){function I(M){if(L.isFunction(M.parameter)){M.context[M.fieldName]=new M.parameter(M.defaultOptions)}else{if(L.isObject(M.parameter)){M.context[M.fieldName]=M.parameter}else{if(undefined===M.parameter){M.context[M.fieldName]=new M.defaultConstructor(M.defaultOptions)}}}}var A=E.Controller.extend({initialize:function e(M){this._initializeComponents(M);if(M.jqls){this.setCurrentJQLs(M.jqls)}if(M.container){this.attach(M.container)}this._initializeEvents(M)},_initializeComponents:function G(M){if(L.isFunction(M.issueTypes)){this.issueTypes=new M.issueTypes(undefined,{jqls:M.jqls})}else{if(L.isObject(M.issueTypes)){this.issueTypes=M.issueTypes}else{this.issueTypes=new J(undefined,{jqls:M.jqls})}}if(L.isFunction(M.projects)){this.projects=new M.projects(undefined,{jqls:M.jqls})}else{if(L.isObject(M.projects)){this.projects=M.projects}else{this.projects=new i(undefined,{jqls:M.jqls})}}I({context:this,fieldName:"model",defaultOptions:{issueTypes:this.issueTypes},parameter:M.model,defaultConstructor:r});I({context:this,fieldName:"dropdownView",defaultOptions:{model:this.model,collection:this.issueTypes,widgetId:this.model.cid},parameter:M.dropdownView,defaultConstructor:q});I({context:this,fieldName:"descriptionView",defaultOptions:{model:this.model,widgetId:this.model.cid},parameter:M.descriptionView,defaultConstructor:K});this.view=new z({model:this.model,cssClass:M.cssClass});this.analytics=new d({widget:this});this._currentInlineIssue=undefined},_initializeEvents:function H(M){this.listenTo(this.view,"summaryChanged",function O(Q){this.model.setSummary(Q)});this.listenTo(this.view,"createIssue",this.createIssue);this.listenTo(this.view,"deactivate",this.deactivate);this.listenTo(this.view,"openFullIssueDialog",function P(){this.trigger("openCreateIssueDialog",{reason:"manual"});this.openCreateIssueDialog()});this.listenTo(this.model,"change:state",this.onStateChange);this.listenTo(this.model,"change:lockState",this.onLockStateChange);this.listenTo(this.issueTypes,"reset",this.checkWidgetLocked);this.listenTo(this.projects,"reset",this.checkWidgetLocked);this.on("issueCreated",function N(){this.model.setSummary("")});this.checkWidgetLocked()},render:function w(){this.view.issueTypeSelector.attachView(undefined);this.view.description.attachView(undefined);this.view.render();this.view.issueTypeSelector.show(this.dropdownView);this.view.description.show(this.descriptionView);this.listenTo(this.dropdownView,"issueTypeSelected",function(M){this.model.setSelectedIssueType(M)})},onStateChange:function(M,N){if(N===this.model.constants.STATE_ACTIVE){this.trigger("activated")}else{if(N===this.model.constants.STATE_CLOSED){this.trigger("deactivated")}}},onLockStateChange:function h(M,N){if(N===this.model.constants.STATE_LOCK_PERM_INACTIVE){if(this.model.getState()===this.model.constants.STATE_ACTIVE){this.deactivate()}}},activate:function l(){if(this.model.getLockState()!==this.model.constants.STATE_LOCK_PERM_INACTIVE){this.model.changeState(this.model.constants.STATE_ACTIVE);return true}else{return false}},deactivate:function c(){this.model.changeState(this.model.constants.STATE_CLOSED)},checkWidgetLocked:function y(){if(this.issueTypes.isFetching()||!this.issueTypes.isInitialized()){return this.model.setLockState(this.model.constants.STATE_LOCK_TEMP_INACTIVE)}if(this.projects.isFetching()||!this.projects.isInitialized()){return this.model.setLockState(this.model.constants.STATE_LOCK_TEMP_INACTIVE)}if(this._currentInlineIssue&&this._currentInlineIssue.isSaving()){return this.model.setLockState(this.model.constants.STATE_LOCK_SENDING)}if(!this.issueTypes.length){return this.model.setLockState(this.model.constants.STATE_LOCK_PERM_INACTIVE)}if(this.projects.length!==1){return this.model.setLockState(this.model.constants.STATE_LOCK_PERM_INACTIVE)}this.model.setLockState(this.model.constants.STATE_LOCK_UNLOCKED)},focus:function F(){this.view.focus()},reset:function B(){this.model.setSummary("");this.view.reset()},attach:function p(M){var N=x(M);N.append(this.view.el)},setCurrentJQLs:function s(M){this.jqls=M},setSummary:function D(M){this.model.setSummary(M)},getSummary:function o(){return this.model.getSummary()},setSelectedIssueTypeIfAvailable:function k(M){this.model.setSelectedIssueTypeIfAvailable(M)},getSelectedIssueType:function u(){return this.model.getSelectedIssueType()},setOverrides:function n(M){this.overrides=M},createIssue:function v(){var M=this;var Q={summary:this.model.getSummary(),contexts:this.jqls,issueTypeId:this.model.getSelectedIssueType().getId(),overrides:L.clone(this.overrides)};this.trigger("beforeIssueCreated",M,Q);this._currentInlineIssue=new a(Q);this._currentInlineIssue.save().done(function P(R){M.trigger("issueCreated",R.issue,R.prefilledFields,M,{source:"inline"});t.trace("inline.create.issue.created")}).fail(function N(R){var V=new g();M.openCreateIssueDialog(V);try{var U=JSON.parse(R.responseText);V.resolve({errors:U.errors,errorMessages:U.generalErrors,prefilledFields:U.prefilledFields})}catch(T){b.error(M,"Could not parse response: "+T,R);var S="Unfortunately, there is an internal communication error, so you must use the full dialog to create the issue. Please contact your administrator if this error keeps appearing.";V.resolve({errors:{},errorMessages:[S],prefilledFields:{}})}M.trigger("openCreateIssueDialog",{reason:"createFailed"})}).always(function O(){M.checkWidgetLocked()});this.checkWidgetLocked()},openCreateIssueDialog:function j(Q){var M=this;var N=this.model.toIssueData();if(this.projects.size()===1){N.project=this.projects.at(0).toJSON()}var O={summary:N.summary,contexts:this.jqls,issueTypeId:this.model.getSelectedIssueType()?this.model.getSelectedIssueType().getId():undefined,overrides:L.clone(this.overrides)};this.trigger("beforeIssueCreated",M,O);if(!Q){Q=this._resolveInlineContext(O,M)}var P=m.createPrefillableCreateIssueForm(Q.promise(),true);return P.pipe(function(T){var S=T.asDialog();function R(V,U){M.trigger("issueCreated",U,U.fields,M,{source:"dialog"});t.trace("inline.create.issue.created")}T.bind("initialized",function(){this.unconfigurableForm.bind("issueCreated",R);this.configurableForm.bind("issueCreated",R)});S.show();return S})},_resolveInlineContext:function(P,M){var Q=new g();var R=x.ajax(C()+"/rest/inline-create/1.0/context/resolve",{data:JSON.stringify(P),contentType:"application/json",type:"POST"});R.done(function N(S){Q.resolve({prefilledFields:S.createIssueInput})}).fail(function O(){Q.resolve({prefilledFields:{summary:P.summary?P.summary:"",issuetype:M.model.getSelectedIssueType()?M.model.getSelectedIssueType().getId():undefined}})});return Q}});return A});;
;
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-widget-group.js' */
define("jira/inline-issue-create/widget-group",["jira/inline-issue-create/lib/underscore","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/widget","jira/inline-issue-create/entities/inline-bootstrap","jira/util/logger"],function WidgetGroup(h,g,k,c,i){var d=g.Controller.extend({initialize:function e(l){this.TriggerView=l.TriggerView;this.Widget=k;this.widgets={};this.currentJQLs=undefined;this.createdCallback=l.createdCallback;this.activeWidget=undefined;this.inlineBootstrap=l.inlineBootstrap||new c();this.widgetOptions=h.defaults(l.widgetOptions||{},{issueTypes:this.inlineBootstrap.issueTypes,projects:this.inlineBootstrap.projects})},getWidget:function a(l){if(!this.widgets[l]){this.widgets[l]=this._createNewWidget(l)}return this.widgets[l]},setCurrentJqls:function j(l){this.currentJQLs=l;h.each(this.widgets,function m(n){n.widget.setCurrentJQLs(l)});this.inlineBootstrap.setJQLs(l)},activateWidget:function b(n){if(this.activeWidget===n){n.focus();return}var o=this.activeWidget;this.activeWidget=undefined;h.each(this.widgets,function m(p){if(p!==n){p.widget.deactivate()}});var l=n.activate();if(l){n.focus();this.activeWidget=n;this.trigger("widget:activated",n,o);if(o){n.setSummary(o.getSummary());n.setSelectedIssueTypeIfAvailable(o.getSelectedIssueType());o.reset()}}return l},_createNewWidget:function f(q){var n=this;var p=new this.Widget(this.widgetOptions);p.on("deactivated",function l(){if(n.activeWidget===p){n.activeWidget=undefined;p.reset()}});if(this.createdCallback){this.createdCallback(p,q)}if(this.currentJQLs){p.setCurrentJQLs(this.currentJQLs)}var m=new n.TriggerView({widget:p});m.on("selected",function(){n.activateWidget(p)});return{widget:p,trigger:m,render:function o(r){m.render();r.append(m.$el);p.attach(m.$el);p.render();n.trigger("widget:rendered",p,m,r);i.trace("inline.create.widget.rendered")}}}});return d});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:inline-issue-create', location = 'inline-issue-create/InlineIssueCreate.js' */
define("jira/components/inline-issue-create",["require"],function(c){var b=c("jira/components/libs/underscore");var f=c("jira/components/libs/marionette-2.1.0");var e=c("jira/inline-issue-create/widget");var a=c("jira/inline-issue-create/views/default-trigger");var d=c("jira/inline-issue-create/entities/inline-bootstrap");return f.Object.extend({_buildBootstrap:function(){this.bootstrap=new d();this.listenTo(this.bootstrap,{sync:function(){this.widget.setCurrentJQLs(this.bootstrap.jqls)}})},_buildWidget:function(){this.widget=new e({issueTypes:this.bootstrap.issueTypes,projects:this.bootstrap.projects});this.listenTo(this.widget,{issueCreated:function(h,g){this.trigger("issueCreated",{issue:h,fields:g})},activated:function(){this.trigger("activated")},deactivated:function(){this.trigger("deactivated")}})},_buildTrigger:function(){this.widgetTrigger=new a({widget:this.widget});this.listenTo(this.widgetTrigger,{selected:function(){this.activate();this.trigger("inlineIssueCreateOpened")}})},initialize:function(){this._buildBootstrap();this._buildWidget();this._buildTrigger();this.render()},setJQL:function(g){this.bootstrap.setJQLs([g])},render:function(){this.widgetTrigger.render();this.widget.render()},show:function(g){this.render();g.append(this.widgetTrigger.$el);this.widget.attach(g)},activate:function(){if(this.bootstrap.projects.length){var g=this.widget.activate();if(g){this.widget.focus()}}else{this.widget.openCreateIssueDialog()}},activateWithJQL:function(g){this.bootstrap.jqls=[g];this.bootstrap.fetch({reset:true}).done(b.bind(function(){if(this.bootstrap.projects.length){var h=this.widget.activate();if(h){this.widget.focus()}}},this))}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/SimpleIssueList.js' */
define("jira/components/simpleissuelist",["require"],function(b){var c=b("jira/components/simpleissuelist/controllers/list");var e=b("jira/components/simpleissuelist/services/api");var d=b("jira/components/simpleissuelist/services/inline-issue-create");var g=b("jira/components/libs/marionette-2.1.0");var a=b("jira/components/libs/underscore");var f=b("jquery");return g.Object.extend({initialize:function(){if(this.options.displayInlineIssueCreate){this.inlineIssueCreate=new d();this.listenTo(this.inlineIssueCreate,{issueCreated:function(i){this.trigger("issueCreated",i)},"activated deactivated":function(){a.defer(a.bind(function(){this.list.adjustSize()},this))}})}this.list=new c({baseURL:this.options.baseURL,inlineIssueCreate:this.inlineIssueCreate});this.listenTo(this.list,{goToPreviousPage:function(){this.trigger("list:pagination");this.searchResults.jumpToPage("prev")},goToNextPage:function(){this.trigger("list:pagination");this.searchResults.jumpToPage("next")},goToPage:function(i){this.trigger("list:pagination");this.searchResults.jumpToPage(i)},refresh:function(){this.trigger("refresh")},selectIssue:function(i){this.trigger("list:select",{id:i.id,key:i.key,absolutePosition:this.searchResults.getPositionOfIssueInSearchResults(i.id),relativePosition:this.searchResults.getPositionOfIssueInPage(i.id)});this.searchResults.select(i.id)},sort:function(i){this.trigger("sort",i)},update:function(){this.trigger("update")}});var h=a.extend({},AJS.namespace("JIRA.API.Issues"),e.init(this));AJS.namespace("JIRA.API.Issues",null,h)},load:function(h,i){if(this.searchResults){this.stopListening(this.searchResults);delete this.searchResults}this.searchResults=h;if(this.options.displayInlineIssueCreate){this.inlineIssueCreate.setJQL(this.searchResults.jql)}this.listenTo(this.searchResults,{"before:loadpage":function(){this.trigger("before:loadpage")},"error:loadpage":function(j){this.trigger("error:loadpage",j)},reset:function(){this.list.update(this.searchResults)},unselect:function(j){this.list.unselectIssue(j.get("id"))},select:function(j){var k=j.get("id")||null;if(k){this.list.selectIssue(j.get("id"))}this.trigger("select",{id:k,key:j.get("key")})},change:function(j){this.list.updateIssue(j)}});if(i){h.jumpToPageForIssue(i)}else{h.jumpToPage("first")}},show:function(h){this.list.render({el:h})},selectNext:function(){if(!this.searchResults){return}return this.searchResults.selectNext()},selectPrevious:function(){if(!this.searchResults){return}return this.searchResults.selectPrev()},selectIssue:function(h){this.searchResults.select(h)},_getIssueById:function(h){if(!this.searchResults){return}return this.searchResults.get(h)},refreshIssue:function(i){var h=this._getIssueById(i);if(!h){return}h.fetch()},updateIssue:function(j,i){var h=this._getIssueById(j);if(!h){return}h.set(i)},adjustSize:function(){this.list.adjustSize()},disableIssue:function(i){var h=this._getIssueById(i);if(!h){return}h.set("inaccessible",true)},removeIssue:function(i){var h=this._getIssueById(i);if(!h){return new f.Deferred().reject().promise()}return this.searchResults.removeAndUpdateSelectionIfNeeded(h)},onDestroy:function(){this.list.destroy()},focus:function(){this.list.focus()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/controllers/List.js' */
define("jira/components/simpleissuelist/controllers/list",["require"],function(b){var h=b("jira/components/simpleissuelist/views/pagination");var e=b("jira/components/simpleissuelist/views/issuelist");var a=b("jira/components/simpleissuelist/views/endstablesearch");var i=b("jira/components/simpleissuelist/views/layout");var g=b("jira/components/simpleissuelist/views/loading");var c=b("jira/components/simpleissuelist/views/refresh");var f=b("jira/components/libs/marionette-2.1.0");var d=b("jira/components/orderby");return f.ViewManager.extend({_buildPagination:function(){return this.buildView("pagination",function(){var j=new h({baseURL:this.baseURL});this.listenTo(j,{prev:function(){this.trigger("goToPreviousPage")},next:function(){this.trigger("goToNextPage")},"goto":function(k){this.trigger("goToPage",k)}});return j})},_buildList:function(){return this.buildView("list",function(){var j=new e();this.listenTo(j,{"childview:select":function(k){var l=k.model;this.trigger("selectIssue",{id:l.get("id"),key:l.get("key")})},update:function(){this.trigger("update")}});return j})},_buildEndStableSearch:function(){return this.buildView("endOfStableSearch",function(){return new a()})},_buildRefresh:function(){return this.buildView("refresh",function(){var j=new c();this.listenTo(j,{refresh:function(){this.trigger("refresh")}});return j})},_buildLayout:function(){return this.buildView("layout",function(){var j=new i();this.listenTo(j,{render:function(){this.getView("layout").getRegion("pagination").show(this.getView("pagination"));this.getView("layout").getRegion("searchResults").show(this.getView("list"));this.getView("layout").getRegion("refresh").show(this.getView("refresh"));this.getView("layout").getRegion("orderBy")._ensureElement();this.orderBy.setElement(this.getView("layout").getRegion("orderBy").$el);this.orderBy.render();if(this.inlineIssueCreate){this.getView("layout").inlineIssueCreateContainer._ensureElement();this.inlineIssueCreate.show(this.getView("layout").inlineIssueCreateContainer.$el)}}});return j})},_buildOrderBy:function(){this.orderBy=d.create();this.orderBy.onSort(function(j){this.trigger("sort",j)},this);return this.orderBy},_buildViews:function(){this._buildLayout();this._buildPagination();this._buildList();this._buildRefresh();this._buildEndStableSearch();this.getView("layout").render()},initialize:function(j){this._buildOrderBy();this.baseURL=j.baseURL;this.inlineIssueCreate=j.inlineIssueCreate;this._buildViews()},render:function(j){j=j||{};var k=j.el;k.append(this.getView("layout").$el);this.getView("layout").setElement(k)},onDestroy:function(){this.hideView("layout")},update:function(j){if(j.isAtTheEndOfStableSearch()){this.getView("layout").getRegion("endOfStableMessageContainer").show(this.getView("endOfStableSearch"))}else{this.getView("layout").getRegion("endOfStableMessageContainer").empty()}this.getView("list").update(j);this.getView("refresh").render();this.getView("pagination").update(j);this.orderBy.setElement(this.getView("layout").getRegion("orderBy").$el);this.orderBy.render();this.orderBy.setJql(j.jql);if(this.inlineIssueCreate){this.inlineIssueCreate.render()}this.adjustSize()},hideLoading:function(){this.hideView("loading")},showLoading:function(){this.showView("loading",function(){var j=new g();this.listenTo(j,{render:function(){this.getView("layout").$el.prepend(j.$el)}});return j})},updateIssue:function(j){this.getView("list").updateIssue(j)},unselectIssue:function(j){this.getView("list").unselectIssue(j)},selectIssue:function(j){this.getView("list").selectIssue(j)},adjustSize:function(){if(!this.getView("layout")){return}if(!this.getView("list")){return}var n=this.getView("layout").ui.listPanel;var s=this.getView("list").$el;var o=this.getView("layout").getRegion("orderBy").$el;var q=this.getView("layout").getRegion("pagination").$el;if(q){q=q.parent()}var l=s.offset().top+n.scrollTop();var p=(q?q.outerHeight():0);var j=window.innerHeight;var m=(o?o.outerHeight():0);var k=(!this.getView("endOfStableSearch")?0:this.getView("endOfStableSearch").$el.outerHeight());var r=this.getView("layout").inlineIssueCreateContainer.$el.outerHeight()||0;n.css("height",j+m-l-k-p-r);this.getView("list").scrollSelectedIssueIntoView()},focus:function(){if(this.getView("list")){this.getView("list").focus()}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/services/API.js' */
define("jira/components/simpleissuelist/services/api",function(){return{init:function(a){return{nextIssue:function(){a.selectNext()},previousIssue:function(){a.selectPrevious()}}}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/services/InlineIssueCreate.js' */
define("jira/components/simpleissuelist/services/inline-issue-create",["require"],function(a){return a("jira/components/inline-issue-create")});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/endofstablesearch.soy' */
// This file was automatically generated from endofstablesearch.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.endStableSearch = function(opt_data, opt_ignored) {
  return '<div class="end-of-stable-message"><p>' + soy.$$escapeHtml("Too many search results to display. Refine your search criteria and try again.") + '</p></div>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.endStableSearch.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.endStableSearch';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/issue.soy' */
// This file was automatically generated from issue.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.issue = function(opt_data, opt_ignored) {
  return '' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<li title="' + soy.$$escapeHtml(opt_data.summary) + '" data-key="' + soy.$$escapeHtml(opt_data.key) + '"><a class="splitview-issue-link" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.key) + '"><div><div><img height="16" width="16" alt="' + soy.$$escapeHtml(opt_data.typeName) + '" title="' + soy.$$escapeHtml(opt_data.typeName) + ' - ' + soy.$$escapeHtml(opt_data.typeDescription) + '" src="' + soy.$$escapeHtml(opt_data.typeIcon) + '"/></div><div class="issue-content-container"><span class="issue-link-key">' + soy.$$escapeHtml(opt_data.key) + '</span><span class="issue-link-summary">' + soy.$$escapeHtml(opt_data.summary) + '</span></div></div></a></li>' : '<li title="' + soy.$$escapeHtml(opt_data.summary) + '" data-key="' + soy.$$escapeHtml(opt_data.key) + '"><a class="splitview-issue-link" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.key) + '"><span class="issue-link-key"><img height="16" width="16" alt="' + soy.$$escapeHtml(opt_data.typeName) + '" title="' + soy.$$escapeHtml(opt_data.typeName) + ' - ' + soy.$$escapeHtml(opt_data.typeDescription) + '" src="' + soy.$$escapeHtml(opt_data.typeIcon) + '"/>&nbsp;' + soy.$$escapeHtml(opt_data.key) + '</span><span class="issue-link-summary">' + soy.$$escapeHtml(opt_data.summary) + '</span></a></li>');
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.issue.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.issue';
}


JIRA.Components.SimpleIssueList.Templates.inaccessibleIssue = function(opt_data, opt_ignored) {
  return '<li class="inaccessible-issue" data-key="' + soy.$$escapeHtml(opt_data.key) + '">' + soy.$$escapeHtml("This issue can no longer be opened") + '</li>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.inaccessibleIssue.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.inaccessibleIssue';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/issuelist.soy' */
// This file was automatically generated from issuelist.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.issueList = function(opt_data, opt_ignored) {
  return '<div class="list-content"><ol class="issue-list"></ol></div>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.issueList.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.issueList';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/layout.soy' */
// This file was automatically generated from layout.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.layout = function(opt_data, opt_ignored) {
  return '<div class="simple-issue-list"><div class="list-panel"><div class="list-ordering"></div><div class="search-results"></div></div><div class="end-of-stable-message-container"></div><div class="inline-issue-create-container"></div><div class="aui-group pagination-view count-pagination"><div class="refresh-container aui-item"></div><div class="pagination-container aui-item"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.layout.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.layout';
}


JIRA.Components.SimpleIssueList.Templates.loading = function(opt_data, opt_ignored) {
  return '<div class="loading"></div>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.loading.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.loading';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/pagination.soy' */
// This file was automatically generated from pagination.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.pagination = function(opt_data, opt_ignored) {
  var output = '<div class="pagination" data-displayable-total="' + soy.$$escapeHtml(opt_data.displayableTotal) + '">';
  var MAX_PAGES_DISPLAYED__soy6 = 5;
  var lastPage__soy7 = Math.floor((opt_data.displayableTotal - 1) / opt_data.pageSize);
  var pageNumber__soy8 = Math.floor(opt_data.startIndex / opt_data.pageSize);
  var urlFragment__soy9 = '' + ((opt_data.hasQueryString) ? soy.$$filterNoAutoescape(opt_data.searchQuery) + '&startIndex=' : soy.$$filterNoAutoescape(opt_data.searchQuery) + '?startIndex=');
  var prevStartIndex__soy19 = opt_data.startIndex - opt_data.pageSize;
  output += ((prevStartIndex__soy19 >= 0) ? (require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<a href="' + soy.$$escapeHtml(urlFragment__soy9) + soy.$$escapeHtml(prevStartIndex__soy19) + '" data-start-index="' + soy.$$escapeHtml(prevStartIndex__soy19) + '" class="nav-previous" title="' + soy.$$escapeHtml(AJS.format("Go to page {0} of {1}",pageNumber__soy8,lastPage__soy7 + 1)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-left">&lt;&lt; ' + soy.$$escapeHtml("Previous") + '</span></a>' : '<a href="' + soy.$$escapeHtml(urlFragment__soy9) + soy.$$escapeHtml(prevStartIndex__soy19) + '" data-start-index="' + soy.$$escapeHtml(prevStartIndex__soy19) + '" class="icon icon-previous nav-previous" title="' + soy.$$escapeHtml(AJS.format("Go to page {0} of {1}",pageNumber__soy8,lastPage__soy7 + 1)) + '"><span>&lt;&lt; ' + soy.$$escapeHtml("Previous") + '</span></a>' : '') + JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch({startPage: pageNumber__soy8 - Math.floor(MAX_PAGES_DISPLAYED__soy6 / 2), endPage: pageNumber__soy8 + Math.floor(MAX_PAGES_DISPLAYED__soy6 / 2), lastPage: lastPage__soy7, urlFragment: urlFragment__soy9, currentPage: pageNumber__soy8 + 1, maxPagesDisplayed: MAX_PAGES_DISPLAYED__soy6, pageSize: opt_data.pageSize, displayableTotal: opt_data.displayableTotal});
  var nextStartIndex__soy54 = Math.min(opt_data.startIndex + opt_data.pageSize, opt_data.displayableTotal);
  output += ((nextStartIndex__soy54 < opt_data.displayableTotal) ? (require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<a href="' + soy.$$escapeHtml(urlFragment__soy9) + soy.$$escapeHtml(nextStartIndex__soy54) + '" data-start-index="' + soy.$$escapeHtml(nextStartIndex__soy54) + '" class="nav-next" title="' + soy.$$escapeHtml(AJS.format("Go to page {0} of {1}",pageNumber__soy8 + 2,lastPage__soy7 + 1)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-right">' + soy.$$escapeHtml("Next") + ' &gt;&gt;</span></a>' : '<a href="' + soy.$$escapeHtml(urlFragment__soy9) + soy.$$escapeHtml(nextStartIndex__soy54) + '" data-start-index="' + soy.$$escapeHtml(nextStartIndex__soy54) + '" class="icon icon-next nav-next" title="' + soy.$$escapeHtml(AJS.format("Go to page {0} of {1}",pageNumber__soy8 + 2,lastPage__soy7 + 1)) + '"><span>' + soy.$$escapeHtml("Next") + ' &gt;&gt;</span></a>' : '') + '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.pagination.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.pagination';
}


JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch = function(opt_data, opt_ignored) {
  return '' + ((opt_data.lastPage < opt_data.maxPagesDisplayed) ? JIRA.Components.SimpleIssueList.Templates.numberLinks(soy.$$augmentMap(opt_data, {startPage: 0, endPage: opt_data.lastPage})) : (opt_data.startPage < 0) ? JIRA.Components.SimpleIssueList.Templates.numberLinks(soy.$$augmentMap(opt_data, {startPage: 0, endPage: opt_data.endPage - opt_data.startPage})) : (opt_data.endPage > opt_data.lastPage) ? JIRA.Components.SimpleIssueList.Templates.numberLinks(soy.$$augmentMap(opt_data, {startPage: opt_data.startPage - (opt_data.endPage - opt_data.lastPage), endPage: opt_data.lastPage})) : JIRA.Components.SimpleIssueList.Templates.numberLinks(opt_data));
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch';
}


JIRA.Components.SimpleIssueList.Templates.numberLinks = function(opt_data, opt_ignored) {
  var output = '';
  var size__soy102 = opt_data.endPage - opt_data.startPage + 1;
  if (size__soy102 > 1) {
    var iLimit105 = Math.round(size__soy102);
    for (var i105 = 0; i105 < iLimit105; i105++) {
      var pageIndex__soy106 = i105 + opt_data.startPage;
      var pageNumber__soy107 = pageIndex__soy106 + 1;
      var pageStartIndex__soy108 = pageIndex__soy106 * opt_data.pageSize;
      var pageEndIndex__soy109 = Math.min(pageStartIndex__soy108 + opt_data.pageSize, opt_data.displayableTotal);
      var pageBoundaries__soy110 = '' + soy.$$escapeHtml(AJS.format("Issues {0} - {1}",pageStartIndex__soy108 + 1,pageEndIndex__soy109));
      output += ' ' + ((pageNumber__soy107 == opt_data.currentPage) ? '<strong title="' + soy.$$escapeHtml(pageBoundaries__soy110) + '">' + soy.$$escapeHtml(pageNumber__soy107) + '</strong>' : '<a href="' + soy.$$escapeHtml(opt_data.urlFragment) + soy.$$escapeHtml(pageStartIndex__soy108) + '" data-page="' + soy.$$escapeHtml(pageNumber__soy107) + '" data-start-index="' + soy.$$escapeHtml(pageStartIndex__soy108) + '" title="' + soy.$$escapeHtml(pageBoundaries__soy110) + '">' + soy.$$escapeHtml(pageNumber__soy107) + '</a>');
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.numberLinks.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.numberLinks';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/refresh.soy' */
// This file was automatically generated from refresh.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.refresh = function(opt_data, opt_ignored) {
  return '<a href="#" class="refresh-table" title="' + soy.$$escapeHtml("Refresh results") + '"><span class="aui-icon aui-icon-small aui-iconfont-refresh-small">' + soy.$$escapeHtml("Refresh results") + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.refresh.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.refresh';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/amd-wrapper.js' */
define("jira/components/simpleissuelist/templates",function(){return JIRA.Components.SimpleIssueList.Templates});AJS.namespace("JIRA.Components.SimpleIssueList.Templates",null,require("jira/components/simpleissuelist/templates"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/EndStableSearch.js' */
define("jira/components/simpleissuelist/views/endstablesearch",["require"],function(a){var c=a("jira/components/libs/marionette-2.1.0");var b=a("jira/components/simpleissuelist/templates");return c.ItemView.extend({template:b.endStableSearch})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Issue.js' */
define("jira/components/simpleissuelist/views/issue",["require"],function(a){var c=a("jira/components/libs/marionette-2.1.0");var b=a("jira/components/simpleissuelist/templates");return c.ItemView.extend({template:b.issue,ui:{link:"a"},events:{simpleClick:function(d){d.preventDefault();this.trigger("select")}},serializeData:function(){var d=this.model;return{id:d.get("id"),key:d.get("key"),summary:d.get("summary"),typeName:d.get("type").name,typeDescription:d.get("type").description,typeIcon:d.get("type").iconUrl}},onRender:function(){this.unwrapTemplate()},highlight:function(){this.$el.addClass("focused");this.focus();this.scrollIntoView()},unhighlight:function(){this.$el.removeClass("focused")},scrollIntoView:function(){this.$el.scrollIntoViewForAuto()},focus:function(){this.ui.link.focus()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/InaccessibleIssue.js' */
define("jira/components/simpleissuelist/views/inaccessibleissue",["require"],function(a){var c=a("jira/components/simpleissuelist/views/issue");var b=a("jira/components/simpleissuelist/templates");return c.extend({template:b.inaccessibleIssue,triggers:{click:"select"},serializeData:function(){var d=this.model;return{key:d.get("key")}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/IssueList.js' */
define("jira/components/simpleissuelist/views/issuelist",["require"],function(a){var e=a("jira/components/libs/marionette-2.1.0");var d=a("jira/components/simpleissuelist/views/inaccessibleissue");var c=a("jira/components/simpleissuelist/views/issue");var b=a("jira/components/simpleissuelist/templates");return e.CompositeView.extend({template:b.issueList,childViewContainer:"ol",getChildView:function(f){if(f.get("inaccessible")){return d}else{return c}},_initialEvents:function(){},onUpdate:function(){if(this.collection.selected){var f=this.children.findByModel(this.collection.selected);if(f){f.highlight()}}},onRender:function(){this.unwrapTemplate()},update:function(f){this.collection=f;this.render();this.triggerMethod("update")},updateIssue:function(h){var f=this.children.findByModel(h);if(!f){return}this.removeChildView(f);var i=this.getChildView(h);var g=this.collection.indexOf(h);this.addChild(h,i,g);this.triggerMethod("update")},unselectIssue:function(h){if(!this.collection){return}var g=this.collection.get(h);if(!g){return}var f=this.children.findByModel(g);if(!f){return}f.unhighlight()},selectIssue:function(h){if(!this.collection){return}var g=this.collection.get(h);if(!g){return}var f=this.children.findByModel(g);if(!f){return}f.highlight()},scrollSelectedIssueIntoView:function(){if(!this.collection){return}var g=this.collection.selected;if(!g){return}var f=this.children.findByModel(g);if(!f){return}f.scrollIntoView()},focus:function(){if(!this.children||this.children.length<1){return}this.children.findByIndex(0).focus()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Layout.js' */
define("jira/components/simpleissuelist/views/layout",["require"],function(a){var c=a("jira/components/libs/marionette-2.1.0");var b=a("jira/components/simpleissuelist/templates");return c.LayoutView.extend({template:b.layout,regions:{pagination:".pagination-container",refresh:".refresh-container",searchResults:".search-results",orderBy:".list-ordering",endOfStableMessageContainer:".end-of-stable-message-container",inlineIssueCreateContainer:".inline-issue-create-container"},ui:{listPanel:".list-panel"},showLoading:function(){this.ui.listPanel.addClass("loading")},hideLoading:function(){this.ui.listPanel.removeClass("loading")}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Loading.js' */
define("jira/components/simpleissuelist/views/loading",["require"],function(a){var c=a("jira/components/libs/marionette-2.1.0");var b=a("jira/components/simpleissuelist/templates");return c.ItemView.extend({template:b.loading,onRender:function(){this.unwrapTemplate()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Pagination.js' */
define("jira/components/simpleissuelist/views/pagination",["require"],function(b){var d=b("jira/components/libs/marionette-2.1.0");var a=b("jira/components/libs/uri");var c=b("jira/components/simpleissuelist/templates");return d.ItemView.extend({template:c.pagination,ui:{prev:".nav-previous",next:".nav-next",page:"a[data-page]"},triggers:{"click @ui.prev":"prev","click @ui.next":"next"},onRender:function(){this.unwrapTemplate()},events:{"click @ui.page":function(f){var g=f.target.getAttribute("data-page");f.preventDefault();this.trigger("goto",parseInt(g,10)-1)}},update:function(e){this.collection=e;this.render()},serializeData:function(){if(!this.collection){return}var f=new a(this.options.baseURL);var e=f.query().length>0;return{startIndex:this.collection.state.pageSize*this.collection.state.currentPage,pageSize:this.collection.state.pageSize,searchQuery:f.toString(),hasQueryString:e,displayableTotal:this.collection.state.totalRecords}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Refresh.js' */
define("jira/components/simpleissuelist/views/refresh",["require"],function(a){var c=a("jira/components/libs/marionette-2.1.0");var b=a("jira/components/simpleissuelist/templates");return c.ItemView.extend({template:b.refresh,triggers:{click:"refresh"},onRender:function(){this.unwrapTemplate()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'pager/templates/pager.soy' */
// This file was automatically generated from pager.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Pager.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Pager == 'undefined') { JIRA.Components.Pager = {}; }
if (typeof JIRA.Components.Pager.Templates == 'undefined') { JIRA.Components.Pager.Templates = {}; }


JIRA.Components.Pager.Templates.Pager = function(opt_data, opt_ignored) {
  return '' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<div class="pager"><div class="showing">' + ((opt_data.position && opt_data.resultCount) ? '<span>' + soy.$$escapeHtml(AJS.format("{0} of {1}",opt_data.position,opt_data.resultCount)) + '</span>' : '') + '</div><div class="previous">' + ((opt_data.previousIssue && opt_data.position != 1) ? '<button data-id="' + soy.$$escapeHtml(opt_data.previousIssue.id) + '" data-key="' + soy.$$escapeHtml(opt_data.previousIssue.key) + '" class="aui-button aui-button-subtle" title="' + soy.$$escapeHtml("Previous Issue") + ' \'' + soy.$$escapeHtml(opt_data.previousIssue.key) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-up">' + soy.$$escapeHtml("Previous Issue") + '\'' + soy.$$escapeHtml(opt_data.previousIssue.key) + '\'</span></button>' : (opt_data.position && opt_data.resultCount) ? '<button class="aui-button aui-button-subtle" aria-disabled="true" title="' + soy.$$escapeHtml("Not available - this is the first issue") + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-up">' + soy.$$escapeHtml("Not available - this is the first issue") + '</span></button>' : '') + '</div><div class="next">' + ((opt_data.nextIssue && opt_data.position != opt_data.resultCount) ? '<button id="next-issue" data-id="' + soy.$$escapeHtml(opt_data.nextIssue.id) + '" data-key="' + soy.$$escapeHtml(opt_data.nextIssue.key) + '" class="aui-button aui-button-subtle" title="' + soy.$$escapeHtml("Next Issue") + ' \'' + soy.$$escapeHtml(opt_data.nextIssue.key) + '\'"><span class="aui-icon aui-icon-small aui-iconfont-chevron-down">' + soy.$$escapeHtml("Next Issue") + '\'' + soy.$$escapeHtml(opt_data.nextIssue.key) + '\'</span></button>' : (opt_data.position && opt_data.resultCount) ? (opt_data.isAtTheEndOfStableSearch) ? '<button class="aui-button aui-button-subtle" aria-disabled="true" title="' + soy.$$escapeHtml(AJS.format("Whoa, you\x27\x27ve got quite a few issues there. We can show you the first {0}, but you should refine your search to return fewer issues.",opt_data.stableSearchCount)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-down">' + soy.$$escapeHtml(AJS.format("Whoa, you\x27\x27ve got quite a few issues there. We can show you the first {0}, but you should refine your search to return fewer issues.",opt_data.stableSearchCount)) + '</span></button>' : '<button class="aui-button aui-button-subtle" aria-disabled="true" title="' + soy.$$escapeHtml("Not available - this is the last issue") + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-down">' + soy.$$escapeHtml("Not available - this is the last issue") + '</span></button>' : '') + '</div></div>' : '<ul class="pager"><li class="previous">' + ((opt_data.previousIssue && opt_data.position != 1) ? '<a data-id="' + soy.$$escapeHtml(opt_data.previousIssue.id) + '" data-key="' + soy.$$escapeHtml(opt_data.previousIssue.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.previousIssue.key) + '" rel="' + soy.$$escapeHtml(opt_data.previousIssue.key) + '" title="' + soy.$$escapeHtml("Previous Issue") + ' \'' + soy.$$escapeHtml(opt_data.previousIssue.key) + '\'"><span class="icon icon-page-prev"><span>' + soy.$$escapeHtml("Previous Issue") + ' \'' + soy.$$escapeHtml(opt_data.previousIssue.key) + '\'</span></span></a>' : (opt_data.position && opt_data.resultCount) ? '<span class="icon icon-page-prev-deactivated" title="' + soy.$$escapeHtml("Not available - this is the first issue") + '"></span>' : '') + '</li><li class="showing">' + ((opt_data.position && opt_data.resultCount) ? soy.$$escapeHtml(AJS.format("{0} of {1}",opt_data.position,opt_data.resultCount)) : '') + '</li><li class="next">' + ((opt_data.nextIssue && opt_data.position != opt_data.resultCount) ? '<a data-id="' + soy.$$escapeHtml(opt_data.nextIssue.id) + '" data-key="' + soy.$$escapeHtml(opt_data.nextIssue.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.nextIssue.key) + '" id="next-issue" rel="' + soy.$$escapeHtml(opt_data.nextIssue.key) + '" title="' + soy.$$escapeHtml("Next Issue") + ' \'' + soy.$$escapeHtml(opt_data.nextIssue.key) + '\'"><span class="icon icon-page-next"><span>' + soy.$$escapeHtml("Next Issue") + ' \'' + soy.$$escapeHtml(opt_data.nextIssue.key) + '\'</span></span></a>' : (opt_data.position && opt_data.resultCount) ? (opt_data.isAtTheEndOfStableSearch) ? '<span class="icon icon-page-next-deactivated" title="' + soy.$$escapeHtml(AJS.format("Whoa, you\x27\x27ve got quite a few issues there. We can show you the first {0}, but you should refine your search to return fewer issues.",opt_data.stableSearchCount)) + '"></span>' : '<span class="icon icon-page-next-deactivated" title="' + soy.$$escapeHtml("Not available - this is the last issue") + '"></span>' : '') + '</li></ul>');
};
if (goog.DEBUG) {
  JIRA.Components.Pager.Templates.Pager.soyTemplateName = 'JIRA.Components.Pager.Templates.Pager';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'pager/templates/amd-wrapper.js' */
define("jira/components/pager/templates",function(){return JIRA.Components.Pager.Templates});AJS.namespace("JIRA.Components.Pager.Templates",null,require("jira/components/pager/templates"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'pager/views/PagerView.js' */
define("jira/components/pager/views/pager",["require"],function(d){var f=d("jira/components/libs/marionette-2.1.0");var e=d("jira/components/pager/templates");var c=d("jira/components/utils/ajshelper");var b=d("jira/featureflags/feature-manager");var a=b.isFeatureEnabled("jira.spectrum.m1");return f.ItemView.extend({getTemplate:function(){if(this.searchResults&&this.searchResults.selected){return e.Pager}else{return false}},ui:{next:a?".next button":".next a",previous:a?".previous button":".previous a",nextIcon:a?".next span.aui-icon":".next span.icon"},triggers:{"simpleClick @ui.next":"next","simpleClick @ui.previous":"previous"},update:function(g){this.searchResults=g;this.undelegateEvents();this.render();this.delegateEvents()},onRender:function(){if(this.searchResults&&this.searchResults.selected){var h=this.searchResults.getIssueAtGlobalIndex(this.searchResults.allIssues.length-1);if(h.id===this.searchResults.selected.id&&this.searchResults.isAtTheEndOfStableSearch()){this.ui.nextIcon.tooltip({gravity:"ne"})}}var g=c.activeShortcuts();if(g){if(g.j&&this.ui.next.length){g.j._addShortcutTitle(this.ui.next)}if(g.k&&this.ui.previous.length){g.k._addShortcutTitle(this.ui.previous)}}},serializeData:function(){var g=this.searchResults;var j=g.selected;if(!j){return}var i=this.searchResults.getPositionOfIssueInSearchResults(this.searchResults.selected.id);var h={position:i+1,resultCount:this.searchResults.getTotalIssuesInDb()};var l=this.searchResults.getIssueAtGlobalIndex(i+1);if(l){h.nextIssue={id:l.id,key:l.key}}else{if(this.searchResults.isAtTheEndOfStableSearch()){h.isAtTheEndOfStableSearch=true;h.stableSearchCount=this.searchResults.allIssues.length}}var k=this.searchResults.getIssueAtGlobalIndex(i-1);if(k){h.previousIssue={id:k.id,key:k.key}}return h}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'pager/Pager.js' */
define("jira/components/pager",["require"],function(a){var b=a("jira/components/pager/views/pager");var c=a("jira/components/libs/marionette-2.1.0");return c.ViewManager.extend({_buildSearchResults:function(d){this._destroySearchResults();this.searchResults=d;this.listenTo(this.searchResults,{"select reset":function(){this.getView("view").update(this.searchResults)}})},_destroySearchResults:function(){if(!this.searchResults){return}this.stopListening(this.searchResults);delete this.searchResults},_buildView:function(){this.buildView("view",function(){var d=new b({el:this.el});this.listenTo(d,{next:function(){this.trigger("next")},previous:function(){this.trigger("previous")}});return d})},initialize:function(d){this.el=d.el;this._buildView()},onDestroy:function(){c.ViewManager.prototype.onDestroy.call(this);this._destroySearchResults()},load:function(d){this._buildSearchResults(d)},update:function(d){this.load(d);this.getView("view").update(d)},show:function(d){this.hideView("view");this.showView("view",function(){var e=new b({el:d});this.listenTo(e,{next:function(){this.trigger("next")},previous:function(){this.trigger("previous")}});return e})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:login-utils', location = 'content/js/util/LoginUtils.js' */
define("jira/issues/utils/login",["require"],function(c){var d=c("jira/util/data/meta");var a=c("wrm/context-path");var b=a();return{isLoggedIn:function(){return !!this.loggedInUserName()},loggedInUserName:function(){return d.get("remote-user")},currentContextRelativePath:function(){var f=this._getWindowLocation();var g=f.protocol+"//"+f.host+(b||"");var e=f.href;if(e.indexOf(g)===0){return e.substr(g.length)}return e},redirectUrlToCurrent:function(){var e=this.currentContextRelativePath();return b+"/login.jsp?os_destination="+encodeURIComponent(e)},redirectUrl:function(e){return b+"/login.jsp?os_destination="+encodeURIComponent(e)},_getWindowLocation:function(){return window.location}}});AJS.namespace("JIRA.Issues.LoginUtils",null,require("jira/issues/utils/login"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:empty-results-modifier', location = 'util/EmptyResultsModifier.js' */
define("jira/components/util/empty-results-modifier",["require"],function(d){var b=d("wrm/context-path");var a=d("jira/issues/utils/login");var c=b();return{modifyLink:function(e){var f=e.$(".no-results-hint a");if(a.isLoggedIn()){f.addClass("create-issue").attr("href",b()+"/secure/CreateIssue!default.jspa")}else{f.addClass("login-link").attr("href",a.redirectUrlToCurrent())}}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'lib/jquery.ui.sidebar.js' */
/*!
 * jQuery UI Sidebar
 * http://jqueryui.com
 *
 * Depends:
 *   jquery.ui.widget.js
 */
(function(a){a.widget("ui.sidebar",{version:"0.1",options:{minWidth:function(b){return 50},maxWidth:function(b){return window.innerWidth},resize:a.noop,easeOff:0},_create:function(){_.bindAll(this,"_handleDrag","_persist","_setContainment","_setHandlePosition","updatePosition");if(this.options.easeOff){this.updatePosition=_.debounce(this.updatePosition,this.options.easeOff)}if(!this.options.id){console.error("ui.sidebar: You must specify an id")}this._addHandle();this._restore();a(window).resize(_.debounce(this.updatePosition,30))},_restore:function(){if(window.localStorage){var b=localStorage.getItem("ui.sidebar."+this.options.id);if(b){this._setWidth(b)}}},_persist:function(){if(window.localStorage){localStorage.setItem("ui.sidebar."+this.options.id,this.element.outerWidth())}},_setContainment:function(){var b=window.innerHeight;this._elementLeft=this.element.offset().left;this._minLeft=this._elementLeft+this.options.minWidth(this);this._maxLeft=Math.max(this._minLeft,this._elementLeft+this.options.maxWidth(this));this.handle.draggable({containment:[this._minLeft,b,this._maxLeft,b]})},_handleDrag:function(d,b){var c=b.position.left-this._elementLeft;this._setWidth(c,true)},_setWidth:function(e,d){if(!d){var c=this.options.maxWidth(this);var b=this.options.minWidth(this);if(e>c){e=c}else{if(e<b){e=b}}}e-=this.element.outerWidth()-this.element.width();this.element.width(e);this.options.resize(e)},_addHandle:function(){var b=document.createElement("div");b.setAttribute("class","ui-sidebar");this.handle=a(b).appendTo(this.element);this.handle.draggable({axis:"x",drag:this._handleDrag,stop:this._persist});this.handle.mousedown(this._setContainment);_.defer(this._setHandlePosition)},_setHandlePosition:function(){this._setContainment();if(this._minLeft===this._maxLeft){this.handle.hide()}else{var c=this.element.offset();var b=c.left+this.element.outerWidth();this.handle.css({top:c.top,left:b,height:this.element.outerHeight()}).show()}},updatePosition:function(){this._setHandlePosition();this._setWidth(this.handle.offset().left-this._elementLeft-window.pageXOffset);this._persist()}})})(jQuery);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/templates/detailslayout.soy' */
// This file was automatically generated from detailslayout.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.DetailsLayout.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.DetailsLayout == 'undefined') { JIRA.Components.DetailsLayout = {}; }
if (typeof JIRA.Components.DetailsLayout.Templates == 'undefined') { JIRA.Components.DetailsLayout.Templates = {}; }


JIRA.Components.DetailsLayout.Templates.container = function(opt_data, opt_ignored) {
  return '<div class="details-layout"></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.container.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.container';
}


JIRA.Components.DetailsLayout.Templates.layout = function(opt_data, opt_ignored) {
  return '<div class="aui-group split-view"><div class="aui-item list-results-panel"></div><div class="aui-item detail-panel"><div class="issue-container"></div><div class="tools-container"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.layout.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.layout';
}


JIRA.Components.DetailsLayout.Templates.empty = function(opt_data, opt_ignored) {
  return '<div><div class="navigator-content empty-results">' + ((opt_data.loggedIn) ? '<div class="no-results no-results-message"><h2>' + soy.$$escapeHtml("No issues were found to match your search") + '</h2><p class="no-results-hint">' + soy.$$filterNoAutoescape(AJS.format("Try modifying your search criteria or {0}creating a new issue{1}.",'<a class="create-issue" href="' + "" + '/secure/CreateIssue!default.jspa">','</a>')) + '</p></div>' : '<div class="no-results not-logged-in-message"><h2>' + soy.$$escapeHtml("No issues were found to match your search") + '</h2><p class="no-results-hint">' + soy.$$filterNoAutoescape("Try \x3ca\x3elogging in\x3c/a\x3e to see more results.") + '</p></div>') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.empty.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.empty';
}


JIRA.Components.DetailsLayout.Templates.loading = function(opt_data, opt_ignored) {
  return '<div class="loading"></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.loading.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.loading';
}


JIRA.Components.DetailsLayout.Templates.tools = function(opt_data, opt_ignored) {
  return '<div class="issue-tools"><div class="pager-container"></div><div class="expand-container"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.tools.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.tools';
}


JIRA.Components.DetailsLayout.Templates.expand = function(opt_data, opt_ignored) {
  return '<button title="' + soy.$$escapeHtml(AJS.format("Expand issue ( {0} )",opt_data.expandShortcutKey ? opt_data.expandShortcutKey : '')) + '" class="aui-button aui-button-subtle expand"><span class="aui-icon aui-icon-small aui-iconfont-focus">' + soy.$$escapeHtml(AJS.format("Expand issue ( {0} )",opt_data.expandShortcutKey ? opt_data.expandShortcutKey : '')) + '</span></button>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.expand.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.expand';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/templates/amd-wrapper.js' */
define("jira/components/detailslayout/templates",function(){return JIRA.Components.DetailsLayout.Templates});AJS.namespace("JIRA.Components.DetailsLayout.Templates",null,require("jira/components/detailslayout/templates"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/controllers/Tools.js' */
define("jira/components/detailslayout/controllers/tools",["require"],function(a){var d=a("jira/components/libs/marionette-2.1.0");var c=a("jira/components/pager");var b=a("jira/components/detailslayout/views/tools");return d.ViewManager.extend({initialize:function(e){this.showExpand=e.showExpand;this._buildTools();this._buildPager()},show:function(e){this.toolsView.setElement(e);this.toolsView.render()},load:function(e){this.pager.update(e)},onDestroy:function(){this.pager.destroy();d.ViewManager.prototype.onDestroy.call(this)},_buildTools:function(){this.toolsView=this.buildView("toolsView",function(){var e=new b({showExpand:this.showExpand});this.listenTo(e,{render:function(){e.pager._ensureElement();this.pager.show(e.pager.$el)},expand:function(){this.trigger("expand")}});return e})},_buildPager:function(){this.pager=new c();this.listenTo(this.pager,{next:function(){this.trigger("pager:next")},previous:function(){this.trigger("pager:previous")}})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Container.js' */
define("jira/components/detailslayout/views/container",["require"],function(a){var c=a("jira/components/libs/marionette-2.1.0");var b=a("jira/components/detailslayout/templates");return c.ItemView.extend({template:b.container,onRender:function(){this.unwrapTemplate()},showView:function(d){this.$el.append(d.$el)},showLoading:function(d){this.$el.prepend(d.$el)},hideLoading:function(d){d.$el.detach()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Empty.js' */
define("jira/components/detailslayout/views/empty",["require"],function(d){var f=d("jira/components/libs/marionette-2.1.0");var e=d("jira/components/detailslayout/templates");var b=d("jira/issues/utils/login");var a=d("wrm/context-path");var c=d("jira/components/util/empty-results-modifier");return f.ItemView.extend({template:e.empty,serializeData:function(){return{loggedIn:b.isLoggedIn()}},onRender:function(){c.modifyLink(this);this.unwrapTemplate()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Tools.js' */
define("jira/components/detailslayout/views/tools",["require"],function(a){var e=a("jira/components/libs/marionette-2.1.0");var c=a("jira/components/detailslayout/templates");var d=a("jira/ajs/keyboardshortcut/keyboard-shortcut");var b=e.ItemView.extend({template:c.expand,triggers:{click:"expand"},serializeData:function(){return{expandShortcutKey:d.getKeyboardShortcutKeys("fullscreen.issue")}},onRender:function(){this.unwrapTemplate();this.$el.tooltip({gravity:"e"})},onDestroy:function(){if(this.$el.tooltip){this.$el.tooltip("hide")}}});return e.LayoutView.extend({initialize:function(f){this.showExpand=f.showExpand||false;this._initSubview()},template:c.tools,regions:{pager:".pager-container",expand:".expand-container"},_initSubview:function(){this._expandSubview=new b();this.listenTo(this._expandSubview,"expand",function(){this.trigger("expand")}.bind(this))},onRender:function(){if(this.showExpand){this.expand.show(this._expandSubview);if(d.initialised&&!d.initialised.isResolved()){d.initialised.then(function(){this._expandSubview.render()}.bind(this))}}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Layout.js' */
define("jira/components/detailslayout/views/layout",["require"],function(b){var d=b("jira/components/libs/marionette-2.1.0");var a=b("jira/components/libs/underscore");var c=b("jira/components/detailslayout/templates");return d.LayoutView.extend({template:c.layout,regions:{issuesList:".list-results-panel",issueComponent:".issue-container",tools:".tools-container"},ui:{detailPanel:".detail-panel"},onRender:function(){this.issuesList._ensureElement()},maximizeDetailPanelHeight:function(){var e=this.ui.detailPanel.offset().top;this.ui.detailPanel.css("height",window.innerHeight-e)},showDraggable:function(){var e=0;this.issuesList.$el.sidebar({id:"layoutview-draggable",minWidth:function(){return 250},maxWidth:a.bind(function(){return this.$el.width()-500},this),resize:a.bind(function(f){if(f!==e){e=f;this.trigger("resize")}},this)})},updateDraggable:function(){this.issuesList.$el.sidebar("updatePosition")}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Loading.js' */
define("jira/components/detailslayout/views/loading",["require"],function(a){var c=a("jira/components/libs/marionette-2.1.0");var b=a("jira/components/detailslayout/templates");return c.ItemView.extend({template:b.loading,onRender:function(){this.unwrapTemplate()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/DetailsLayout.js' */
define("jira/components/detailslayout",["require"],function(b){var k=b("jira/components/libs/underscore");var f=b("jira/components/issuecomponentresolver");var g=b("jira/components/libs/marionette-2.1.0");var d=b("jira/components/simpleissuelist");var i=b("jira/components/detailslayout/views/container");var a=b("jira/components/detailslayout/views/empty");var j=b("jira/components/detailslayout/views/layout");var h=b("jira/components/detailslayout/views/loading");var c=b("jira/components/detailslayout/controllers/tools");function e(n,m,l){var p;var o=m;return function(){var q=arguments;clearTimeout(p);p=setTimeout(function(){n.apply(this,q);o=m},o);o=l}}return g.ViewManager.extend({_buildIssueComponent:function(){var n=f.resolve();var m=this.issueComponent=new n();var l=this.options;this._loadIssueInViewerComponent=e(k.bind(function(o){m.loadIssue({id:o.id,key:o.key,detailView:!l.shouldUpdateCurrentProject}).always(k.bind(function(){this.hideLoading()},this))},this),100,500);this.listenTo(m,{loadError:function(o){this.simpleIssueList.disableIssue(o.issueId);this.trigger("editorError")},loadComplete:function(o,p){this.adjustSize();this.simpleIssueList.updateIssue(o.id,{key:o.get("entity").key,summary:o.get("entity").summary,status:o.get("entity").status.name});var q={issueKey:o.get("entity").key,issueId:o.id,issueEditorOptions:p,projectId:o.get("projectId"),projectKey:o.get("projectKey"),projectType:o.get("projectType")};if(p&&p.loadReason==="issues-cache-refresh"){this.trigger("editorLoadedFromCache",q)}else{this.trigger("editorLoaded",q)}},fieldsLoaded:function(){this.trigger("editorFieldsLoaded")},saveSuccess:function(o){this.simpleIssueList.refreshIssue(o.issueId);this.trigger("editor:saveSuccess",{event:o.issueId,savedFieldIds:o.savedFieldIds,savedFieldTypes:o.savedFieldTypes,duration:o.duration})},editField:function(o){this.trigger("editor:editField",o)},editFieldCancel:function(o){this.trigger("editor:editFieldCancel",o)},linkToIssue:function(o){this.trigger("linkToIssue",o)},refineViewer:function(o){o.preventDefault();this.updateIssueComponent(o.query)},linkInErrorMessage:function(o){o.preventDefault();this.simpleIssueList.selectIssue(o.issueData.id)},individualPanelRendered:function(o){this.trigger("individualPanelRendered",o)}})},_buildSimpleIssueList:function(){this.simpleIssueList=new d({baseURL:this.baseURL,displayInlineIssueCreate:this.options.displayInlineIssueCreate});this.listenTo(this.simpleIssueList,{select:function(l){this.trigger("select",l)},update:function(){this.trigger("list:update")},refresh:function(){this.trigger("list:refresh")},sort:function(l){this.trigger("list:sort",l)},"list:select":function(l){this.trigger("list:select",{id:l.id,key:l.key,absolutePosition:l.absolutePosition,relativePosition:l.relativePosition})},"list:pagination":function(){this.trigger("list:pagination")},"before:loadpage":function(){this.showLoading()},"error:loadpage":function(l){this.hideLoading();this.trigger("error:loadpage",l)},issueCreated:function(l){this.trigger("issueCreated",l)}})},_buildContainerView:function(){this.containerView=this.buildView("containerView",function(){var l=new i();this.listenTo(l,{render:function(){this.getView("layoutView").render();this.getView("emptyView").render();this.getView("loadingView").render();l.$el.prepend(this.getView("layoutView").$el)}});return l})},_buildEmptyView:function(){this.emptyView=this.buildView("emptyView",function(){var l;if(typeof this.options.emptyViewFactory==="function"){l=this.options.emptyViewFactory()}else{l=new a()}this.listenTo(l,{render:function(){this.containerView.$el.append(l.$el);this.adjustSize();this.trigger("empty")}});return l})},_showEmptyView:function(){this.layoutView.$el.detach();this.containerView.$el.empty();this.containerView.showView(this.emptyView);this.adjustSize();this.trigger("empty")},_buildTools:function(){this.tools=new c({showExpand:this.useExpand});this.listenTo(this.tools,{expand:function(){this.trigger("expand")},"pager:next":function(){var l=this.selectNext();this.trigger("pager:next",l)},"pager:previous":function(){var l=this.selectPrevious();this.trigger("pager:previous",l)}})},_buildLayoutView:function(){this.layoutView=this.buildView("layoutView",function(){var l=new j();this.listenTo(l,{render:function(){l.issueComponent._ensureElement();this.issueComponent.setContainer(l.issueComponent.$el);l.issuesList._ensureElement();this.simpleIssueList.show(l.issuesList.$el);l.tools._ensureElement();this.tools.show(l.tools.$el)},resize:function(){this.adjustSize()}});return l})},_buildLoadingView:function(){this.loadingView=this.buildView("loadingView",function(){return new h()})},_buildComponents:function(){this._buildIssueComponent();this._buildSimpleIssueList();this._buildTools()},_buildViews:function(){this._buildLayoutView();this._buildEmptyView();this._buildLoadingView();this._buildContainerView();this.containerView.render()},initialize:function(l){this.baseURL=l.baseURL;this.useExpand=l.useExpand||false;this._buildComponents();this._buildViews()},_showLoadingView:function(){this.containerView.showLoading(this.loadingView)},_hideLoadingView:function(){this.containerView.hideLoading(this.loadingView)},_showLayoutView:function(){this.emptyView.$el.detach();this.containerView.showView(this.layoutView);this.layoutView.showDraggable();this.adjustSize()},show:function(l){l.replaceWith(this.containerView.$el);return this.containerView.$el},onDestroy:function(){this.tools.destroy();this.issueComponent.close();this.simpleIssueList.destroy();g.ViewManager.prototype.onDestroy.call(this)},showLoading:function(){this._showLoadingView()},hideLoading:function(){this._hideLoadingView()},load:function(l,m){if(this.searchResults){this.stopListening(this.searchResults);delete this.searchResults}this.searchResults=l;this.listenTo(this.searchResults,{issueDeleted:function(){if(!this.searchResults.length){this._showEmptyView()}},"select selectIssueNotInList":function(n){this.showLoading();this._loadIssueInViewerComponent({id:n.id,key:n.get("key")})}});if(this.searchResults.isEmptySearch()){this._showEmptyView()}else{this.simpleIssueList.load(this.searchResults,m);this.tools.load(this.searchResults);this._showLayoutView()}this.trigger("list:render")},adjustSize:function(){k.defer(k.bind(function(){if(this.getView("layoutView")){this.simpleIssueList.adjustSize();this.getView("layoutView").maximizeDetailPanelHeight();this.issueComponent.applyResponsiveDesign();this.getView("layoutView").updateDraggable()}if(this.getView("emptyView")){var m=this.getView("emptyView").$el;var l=m.length&&m.offset().top;m.css("height",window.innerHeight-l)}},this))},refreshIssue:function(l){this.simpleIssueList.refreshIssue(l);return this.issueComponent.refreshIssue()},removeIssue:function(l){this.showLoading();return this.simpleIssueList.removeIssue(l).always(k.bind(function(){this.hideLoading()},this)).done(k.bind(function(m){if(m===0){this._showEmptyView()}},this))},getActiveIssueId:function(){return this.issueComponent.getIssueId()},getActiveIssueKey:function(){return this.issueComponent.getIssueKey()},getActiveProjectId:function(){return this.issueComponent.getProjectId()},getActiveProjectKey:function(){return this.issueComponent.getProjectKey()},getActiveProjectType:function(){return this.issueComponent.getProjectType()},selectNext:function(){return this.simpleIssueList.selectNext()},selectPrevious:function(){return this.simpleIssueList.selectPrevious()},updateIssueComponent:function(l){this.showLoading();this.listenToOnce(this.issueComponent,"loadComplete",function(){this.hideLoading()});this.issueComponent.updateIssueWithQuery(l)},isLoading:function(){return this.issueComponent.isCurrentlyLoading()},hasSavesInProgress:function(){if("hasSavesInProgress" in this.issueComponent){return this.issueComponent.hasSavesInProgress()}else{return false}},canDismissComment:function(){return this.issueComponent.canDismissComment()},getEditorFields:function(){if("getFields" in this.issueComponent){return this.issueComponent.getFields()}else{return undefined}},abortPending:function(){return this.issueComponent.abortPending()},beforeHide:function(){return this.issueComponent.beforeHide()},beforeShow:function(){return this.issueComponent.beforeShow()},removeIssueMetadata:function(){return this.issueComponent.removeIssueMetadata()},editField:function(l){if("editField" in this.issueComponent){return this.issueComponent.editField(l)}},focusList:function(){this.simpleIssueList.focus()},focusEditor:function(){this.issueComponent.focus()}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:marionette', location = '/sidebar/lib/backbone.marionette.mixins.js' */
define("jira/projects/libs/marionette-mixins",[],function(){return function a(d,f){function e(i,h){var g=this;var j=d.defaults({},h||{},{isPrevented:false,emitter:this,preventDefault:function(){this.isPrevented=true;g.trigger(i+":prevented",this)}});this.trigger(i,j);return j}function c(h,g){var i=this.triggerPreventable(h,g);if(i.isPrevented){g.preventDefault()}}d.extend(f.View.prototype,{unwrapTemplate:function b(){if(this.$el.parent().length){var g=this.$el.children();this.$el.replaceWith(g);this.setElement(g)}else{this.setElement(this.$el.children())}},triggerPreventable:e,retriggerPreventable:c});d.extend(f.Controller.prototype,{triggerPreventable:e,retriggerPreventable:c});f.ViewManager=f.Controller.extend({constructor:function(){f.Controller.apply(this,arguments);this.views={}},hideView:function(h){var g=this.views[h];if(g){this.stopListening(g);if(!g.isDestroyed){g.destroy()}delete this.views[h]}},showView:function(i,h){var g=this.buildView(i,h);g.render()},buildView:function(i,h){var g=this.views[i];if(!g){g=h.call(this);this.listenTo(g,"destroy",function(){this.hideView(i)});this.views[i]=g}return g},getView:function(g){return this.views[g]}});return f}});;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:marionette', location = '/sidebar/lib/backbone.marionette.adapter.js' */
define("jira/projects/libs/marionette",["backbone","underscore","atlassian/libs/factories/marionette-2.1.0","jira/projects/libs/marionette-mixins"],function(e,b,c,a){var d;d=c(b,e);d=a(b,d);return d});AJS.namespace("JIRA.Projects.Libs.Marionette",null,require("jira/projects/libs/marionette"));;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/templates/templates.soy' */
// This file was automatically generated from templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Projects.Subnavigator.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Projects == 'undefined') { JIRA.Projects = {}; }
if (typeof JIRA.Projects.Subnavigator == 'undefined') { JIRA.Projects.Subnavigator = {}; }
if (typeof JIRA.Projects.Subnavigator.Templates == 'undefined') { JIRA.Projects.Subnavigator.Templates = {}; }


JIRA.Projects.Subnavigator.Templates.content = function(opt_data, opt_ignored) {
  var output = '<div id="subnav-opts' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" class="subnav-opts subnavigator-content aui-dropdown2 aui-style-default">';
  var itemGroupList9 = opt_data.itemGroups;
  var itemGroupListLen9 = itemGroupList9.length;
  for (var itemGroupIndex9 = 0; itemGroupIndex9 < itemGroupListLen9; itemGroupIndex9++) {
    var itemGroupData9 = itemGroupList9[itemGroupIndex9];
    output += JIRA.Projects.Subnavigator.Templates.itemSection({items: itemGroupData9, hideSelectedItem: opt_data.hideSelectedItem});
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.content.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.content';
}


JIRA.Projects.Subnavigator.Templates.itemSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.items.length > 0) {
    output += '<div class="aui-dropdown2-section"><ul class="aui-list-truncate">';
    var itemList19 = opt_data.items;
    var itemListLen19 = itemList19.length;
    for (var itemIndex19 = 0; itemIndex19 < itemListLen19; itemIndex19++) {
      var itemData19 = itemList19[itemIndex19];
      output += JIRA.Projects.Subnavigator.Templates.item({item: itemData19, hideSelectedItem: opt_data.hideSelectedItem});
    }
    output += '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.itemSection.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.itemSection';
}


JIRA.Projects.Subnavigator.Templates.item = function(opt_data, opt_ignored) {
  return '<li' + ((opt_data.item.description) ? ' title="' + soy.$$escapeHtml(opt_data.item.description) + '"' : '') + '>' + ((opt_data.item.link) ? '<a data-item-id="' + soy.$$escapeHtml(opt_data.item.id) + '" href="' + soy.$$escapeHtml(opt_data.item.link) + '">' + soy.$$escapeHtml(opt_data.item.label) + '</a>' : '<a ' + ((! opt_data.hideSelectedItem) ? 'class="aui-dropdown2-radio' + ((opt_data.item.selected) ? ' checked' : '') + '"' : '') + ' data-item-id="' + soy.$$escapeHtml(opt_data.item.id) + '">' + soy.$$escapeHtml(opt_data.item.label) + '</a>') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.item.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.item';
}


JIRA.Projects.Subnavigator.Templates.trigger = function(opt_data, opt_ignored) {
  return '' + ((opt_data.renderAsButton) ? '<button id="subnav-trigger' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" class="subnav-trigger subnavigator-trigger aui-button aui-button-link aui-dropdown2-trigger" aria-owns="subnav-opts' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" role="menu" aria-haspopup="true">' + soy.$$escapeHtml(opt_data.label) + '</button>' : '<span id="subnav-trigger' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" class="subnav-trigger subnavigator-trigger">' + soy.$$escapeHtml(opt_data.label) + '</button>');
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.trigger.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.trigger';
}


JIRA.Projects.Subnavigator.Templates.title = function(opt_data, opt_ignored) {
  return '<span class="subnavigator-title" title="' + soy.$$escapeHtml(opt_data.title) + '">' + soy.$$escapeHtml(opt_data.title) + '</span>';
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.title.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.title';
}
;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/templates/templates.js' */
(function(){var a=JIRA.Projects.Subnavigator.Templates;define("jira/projects/components/subnavigator/templates",[],function(){return a})})();;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/views/Content.js' */
define("jira/projects/components/subnavigator/views/content",["jira/projects/components/subnavigator/templates","underscore","jira/projects/libs/marionette","jquery"],function(b,a,d,c){return d.ItemView.extend({template:b.content,tooltipTimer:null,ui:{item:"li"},initialize:function(){this.tooltipTimeout=this.options.tooltipTimeout||600;this.hideSelectedItem=a.has(this.options,"hideSelectedItem")?this.options.hideSelectedItem:true},_hideTooltips:function(){clearTimeout(this.tooltipTimer);c(".tipsy").remove()},events:{"click @ui.item":function(g){this._hideTooltips();var f=c(g.target).attr("data-item-id");this.trigger("click",f)},"mouseenter @ui.item":function(e){this._hideTooltips();this.tooltipTimer=setTimeout(function(){c(e.currentTarget).tipsy("show")},this.tooltipTimeout)},"mouseleave @ui.item":"_hideTooltips","aui-dropdown2-hide":"_hideTooltips"},serializeData:function(){var e=this.model.get("selectedItem");var g=this.model.get("itemGroups");var f=this.hideSelectedItem;if(e){g=a.map(g,function(h){if(f){return a.reject(h,function(i){return i.id===e.id})}else{return a.map(h,function(j){var i=a.clone(j);if(i.id===e.id){i.selected=true}return i})}})}return{itemGroups:g,hideSelectedItem:f,idSuffix:this.options.id||""}},onRender:function(){this.unwrapTemplate();this._hideTooltips();c(this.ui.item).tooltip({gravity:"w",trigger:"manual"})}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/views/Trigger.js' */
define("jira/projects/components/subnavigator/views/trigger",["jira/projects/components/subnavigator/templates","jira/projects/libs/marionette"],function(a,b){return b.ItemView.extend({template:a.trigger,serializeData:function(){return{label:this.model.get("selectedItem").label,renderAsButton:this.model.getAllItems().length>1,idSuffix:this.options.id||""}},onRender:function(){this.unwrapTemplate()}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/views/StaticTrigger.js' */
define("jira/projects/components/subnavigator/views/static-trigger",["jira/projects/components/subnavigator/views/trigger"],function(a){return a.extend({serializeData:function(){return{label:this.options.label,renderAsButton:true,idSuffix:this.options.id||""}},onRender:function(){this.unwrapTemplate();this.$el.removeClass("subnav-trigger")}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/views/Title.js' */
define("jira/projects/components/subnavigator/views/title",["jira/projects/components/subnavigator/templates","jira/projects/libs/marionette"],function(a,b){return b.ItemView.extend({template:a.title,serializeData:function(){var c=this.model.get("selectedItem");return{title:c.label}}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/entities/Items.js' */
define("jira/projects/components/subnavigator/entities/items",["underscore","backbone"],function(a,b){return b.Model.extend({defaults:{itemGroups:[],selectedItem:null},isEmpty:function(){return a.isEmpty(this.getAllItems())},selectItem:function(d){var c=this.getAllItems();this.set("selectedItem",a.find(c,function(e){return e.id===d})||a.first(c))},getAllItems:function(){return a.flatten(this.get("itemGroups"))}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/Subnavigator.js' */
define("jira/projects/components/subnavigator/subnavigator",["jira/projects/components/subnavigator/views/trigger","jira/projects/components/subnavigator/views/title","jira/projects/components/subnavigator/views/static-trigger","jira/projects/components/subnavigator/views/content","jira/projects/components/subnavigator/entities/items","jira/projects/libs/marionette","jira/util/browser","underscore","jquery"],function(h,e,a,b,c,f,d,g,i){return f.Controller.extend({_shouldShow:function(){return !this.model.isEmpty()},_shouldShowTriggerView:function(){if(this.options.changeViewText){var j=this.model.getAllItems().length;return j>1}else{return true}},_sanitizeItems:function(){var j=this.options.itemGroups;if(j&&j[0]){if(!g.isArray(j[0])){return[j]}}return j},_buildModel:function(){this.model=new c({itemGroups:this._sanitizeItems()});this.model.selectItem(this.options.selectedItem);this.listenTo(this.model,"change:selectedItem",this.show)},_buildTitleView:function(){this.titleView=new e({model:this.model});this.titleView.setElement(i(this.options.titlePlaceholder))},_buildTriggerView:function(){if(this.options.changeViewText){this.triggerView=new a({model:this.model,id:this.options.id,label:this.options.changeViewText})}else{this.triggerView=new h({model:this.model,id:this.options.id})}this.triggerView.setElement(i(this.options.triggerPlaceholder))},_buildContentView:function(){this.contentView=new b({model:this.model,id:this.options.id,hideSelectedItem:this.options.hideSelectedItem});this.contentView.setElement(i(this.options.contentPlaceholder));this.listenTo(this.contentView,"click",function(l){this.model.selectItem(l);var k=this.model.get("selectedItem");var j=this.triggerPreventable("itemSelected",{item:k});if(j.isPrevented){return}if(k.link){d.reloadViaWindowLocation(k.link)}}.bind(this))},initialize:function(){this._buildModel();if(this._shouldShow()){this._buildTriggerView();this._buildContentView();if(this.options.titlePlaceholder){this._buildTitleView()}}},show:function(){if(this._shouldShow()){if(this._shouldShowTriggerView()){this.triggerView.render();this.contentView.render()}if(this.titleView){this.titleView.render()}}},selectItem:function(j){if(this._shouldShow()){this.model.selectItem(j)}}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/Subnavigator-namespaces.js' */
AJS.namespace("JIRA.Projects.Subnavigator",null,require("jira/projects/components/subnavigator/subnavigator"));AJS.namespace("JIRA.Projects.Subnavigator.Views.Content",null,require("jira/projects/components/subnavigator/views/content"));AJS.namespace("JIRA.Projects.Subnavigator.Views.StaticTrigger",null,require("jira/projects/components/subnavigator/views/static-trigger"));AJS.namespace("JIRA.Projects.Subnavigator.Views.Title",null,require("jira/projects/components/subnavigator/views/title"));AJS.namespace("JIRA.Projects.Subnavigator.Views.Trigger",null,require("jira/projects/components/subnavigator/views/trigger"));AJS.namespace("JIRA.Projects.Subnavigator.Entities.Items",null,require("jira/projects/components/subnavigator/entities/items"));AJS.namespace("JIRA.Projects.Subnavigator.Templates",null,require("jira/projects/components/subnavigator/templates"));;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:data', location = 'data/web-resource-manager.js' */
define("jira/projects/data/WRM",window.WRM);;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:projects-api', location = 'page/projects-api.js' */
define("jira/api/projects",["wrm/data"],function(d){var a=d.claim("project-key");var c=d.claim("project-id");var b=d.claim("project-name");var e=d.claim("project-type");return{getCurrentProjectId:function(){return c},getCurrentProjectKey:function(){return a},getCurrentProjectName:function(){return b},getCurrentProjectType:function(){return e}}});AJS.namespace("JIRA.API.Projects",null,require("jira/api/projects"));;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:apis', location = 'js/apis/projects.js' */
define("jira/projectissuenavigator/apis/projects",["jira/api/projects"],function(a){return a});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-uri', location = 'js/libs/uri.js' */
define("jira/projectissuenavigator/libs/uri",["require"],function(a){return a("atlassian/libs/uri-1.14.1")});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-underscore', location = 'js/libs/underscore.js' */
define("jira/projectissuenavigator/libs/underscore",["require"],function(a){return a("underscore")});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-backbone', location = 'js/libs/backbone.js' */
define("jira/projectissuenavigator/libs/backbone",["require"],function(a){var b=a("backbone");return b});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-marionette', location = 'js/libs/marionette.js' */
define("jira/projectissuenavigator/libs/marionette",["require"],function(a){return a("jira/components/libs/marionette-2.1.0")});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-ajshelper', location = 'js/libs/ajshelper.js' */
define("jira/projectissuenavigator/libs/ajshelper",[],function(){var a=window.AJS;return{format:a.format.bind(a),trigger:a.trigger.bind(a)}});;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'probe.js' */
!function(){var n,t,e,r,i,o,u,a,c,s,f,l,h,d,y,p,v,m,w;n=function(){return window}(),t=function(n){return!(!n.performance||!n.performance.now)}(n),e=[],r=function(n){return function(t){n.unshift({addReporter:t})}}(e),i=function(n){return function(t){for(;n.length;)t(n.splice(0,1)[0]);n.unshift=t,n.push=t}}(e),o=function(n,t){return function(e){n.push({end:{key:e.key,timestamp:t.performance.now()}})}}(e,n),u=function(n){return n.document}(n),a=function(n){return n.Promise}(n),c=function(){function n(){this._={}}var t=function(e){var r=e[0],i=e[1];i instanceof n?e.length>=3?Object.keys(i._).forEach(function(n){t([r,i._[n],n].concat(e.slice(2)))}):Object.keys(i._).forEach(function(n){t([r,i._[n],n])}):Array.isArray(i)&&r.apply(null,[i].concat(e.slice(2)))};n.prototype.forEach=function(n){t([n,this])},n.prototype.add=function(){for(var t=this,e=null,r=null,i=0;i<arguments.length;i++){if(r=arguments[i],i===arguments.length-1&&Array.isArray(t)){t.push(r);break}i<arguments.length-2&&!t._.hasOwnProperty(r)?t._[r]=new n:i!==arguments.length-2||t._.hasOwnProperty(r)||(t._[r]=[]),t=t._[r],e=r}};var e=function(n,t){if(0!==n.length){var r=n.pop(),i=r[0],o=r[1];i===t?e(n,i):o._.hasOwnProperty(t)&&delete o._[t],0===Object.keys(o).length&&e(n,i)}};return n.prototype.remove=function(){for(var n,t=!1,r=null,i=this,o=[[r,i]],u=null,a=0;a<arguments.length;a++)if(u=arguments[a],Array.isArray(i))n=i.indexOf(u),n>-1&&(i.splice(n,1),0===i.length&&o.length>1&&e(o,r),t=!0);else{if(!i._.hasOwnProperty(u))break;a===arguments.length-1&&(delete i._[u],0===Object.keys(i).length&&o.length>1&&e(o,r),t=!0),r=u,i=i._[u],o.push([r,i])}return t},n.prototype.get=function(n){return this._.hasOwnProperty(n)?this._[n]:[]},n}(),s=function(n,t,e,r){function i(n){return!n||null==n||"null"===n||"undefined"===n}function o(t,e,r){l||(c.observe(n,{attributes:!0,childList:!0,subtree:!0}),l=!0),s.add(t,e,r)}function u(t,e){var r=n.querySelectorAll(t);return r.length&&(i(e)||Array.prototype.every.call(r,function(n){return!n.querySelector(e)}))}function a(n,e){var r;n.forEach||(n=[n]),!i(e)&&Array.isArray(e)&&(e=e.join(", "));var a=new t(function(i,a){var c=[],f=[];n.forEach(function(n){var r,i;u(n,e)||(r=new t(function(t){o(n,e,t),i=function(){s.remove(n,e,t)},f.push(i)}),c.push(r))});var l=function(){f.forEach(function(n){n()})};t.all(c).then(l).then(i,a),r=function(){l(),a()}});return a.dismiss=r,a}var c,s,f=r.MutationObserver,l=!1;return f&&t?(s=new e,c=new f(function(){s.forEach(function(n,t,e){u(e,t)&&(n.forEach(function(n){n()}),s.remove(e,t))})}),a):void 0}(u,a,c,n),f=function(n){return!!n}(s),l=function(n){function t(){c(),n.body.classList.add(u)}function e(){function e(){n.body.classList.remove(u),n.removeEventListener(i,s),n.removeEventListener(o,c),r=null}if(r)return r;var c,s,f=!1;return r=new Promise(function(e,r){"visible"!==n.visibilityState?r():(s=function(){f=!0},c=function(n){n.animationName===a&&(f?r():e())},n.addEventListener(i,s),n.addEventListener(o,c),t())}),r.then(e,e),r}var r,i="visibilitychange",o="animationend",u="browser-metrics-visibility-test",a="browser-metrics-visibility-animation",c=function(){var t=n.createElement("style"),e=["."+u+" {","-webkit-animation-duration: 0.001s;","animation-duration: 0.001s;","-webkit-animation-name: "+a+";","animation-name: "+a+";","-webkit-animation-iteration-count: 1;","animation-iteration-count: 1;","}","@keyframes "+a+" {}","@-webkit-keyframes "+a+" {","from {}","to {}","}"].join("\n");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(n.createTextNode(e)),n.head.appendChild(t),c=function(){}};return e}(u),h=function(n,t,e,r,i){function o(n){return Array.isArray(n)||(n=[n]),n.map(function(n){return"string"==typeof n?{selector:n,hasNone:null}:n})}function u(n){return Array.isArray(n)||"string"==typeof n}function a(n){return u(n)&&(n={rules:n}),n.rules=o(n.rules),n.requirePaint="undefined"==typeof n.requirePaint?!1:n.requirePaint,n}return function(i,o){if(n){i=a(i);var u=function(){},c=new e(function(n,r){var o=[],a=i.rules.map(function(n){var e=new t(n.selector,n.hasNone);return o.push(function(){e.dismiss()}),e});u=function(){o.forEach(function(n){n()}),r()},e.all(a).then(function(n){}).then(n,r)});return c.cancel=u,i.requirePaint&&(c=c.then(r)),"function"==typeof o&&c.then(o),c}}}(f,s,a,l,n),d=function(n,t){function e(){return r}var r=!1;return n.addEventListener("DOMContentLoaded",function(){t.setTimeout(function(){r=!0})}),e}(u,n),y=function(n,t,e,r,i,o,u){function a(){c=null}var c;return function(o){var s="isInitial"in o?o.isInitial:i()===!1,f="threshold"in o?o.threshold:1e3,l="reporters"in o?o.reporters:[];r.push({start:{key:o.key,isInitial:s,threshold:f,timestamp:s?0:u.performance.now(),reporters:Array.isArray(l)?l:[l]}}),c&&(c.cancel(),a()),o.ready&&e&&(c=n(o.ready),c.then(function(){t({key:o.key})}).then(a,a))}}(h,o,f,e,d,a,n),p=function(n){return function(t){n.push({subscribe:t})}}(e),v=function(){return window}(),m=function(n){return n.performance}(v),w=function(n,t,e,r,i,o,u){var a=function(){};return u?{start:n?i:a,end:n?r:a,addReporter:n?t:a,delegateTo:n?e:a,subscribe:n?o:a}:void 0}(t,r,i,o,y,p,m),window["browser-metrics"]=w,window.define&&window.define("internal/browser-metrics",function(){return w})}();;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'internal/browser-metrics-aa-beacon.js' */
!function(){var e={};e=function(e){function n(e,n){Object.keys(n).forEach(function(r){e[r]=n[r]})}Object.defineProperty(e,"__esModule",{value:!0});var r,t=[],o=[];return e.addUrlCleaner=function(e){o.push(e)},e.cleanUrl=function(e){return o.reduce(function(n,r){var t=r(e);return t.length>n.length?t:n},"")},e.addReportMarshaller=function(e){t.push(e)},e.setEventQueue=function(e){r=e},e.beacon=function(e){var o={};t.forEach(function(r){var t=r(e);"object"==typeof t&&n(o,t)});var a={name:"browser.metrics.navigation",properties:o};(r||AJS.EventQueue).push(a)},e}(e),window["browser-metrics-aa-beacon"]=e,window.define&&window.define("internal/browser-metrics-aa-beacon",function(){return e})}();;
;
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'loader.js' */
!function(){var n={},r={};r=function(n,r,i){function e(){t===u&&o&&(o(),o=null)}Object.defineProperty(n,"__esModule",{value:!0});var t=0,u=0,o=null,c={install:function(n){t+=1,n(function(){u+=1,e()})}};return r["browser-metrics-plugin"]=c,i.require(["wrc!browser-metrics-plugin.contrib"],function(){r.require(["internal/browser-metrics-plugin/collector"],function(n){o=function(){n.install()},e()})}),n}(r,n=window,n.WRM)}();;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:metrics', location = 'content/js/util/metrics.js' */
define("jira/issues/navigator/metrics",["internal/browser-metrics"],function(a){function b(c,e){var f=document.querySelectorAll(c);for(var d=0;d<f.length;d++){f[d].classList.add(e)}}return{notifyIssueView:function(d){d=Boolean(d);var e="#key-val";var c=".issue-body-content:not(.browser-metrics-stale)";if(!d){b(c,"browser-metrics-stale")}a.start({isInitial:d,key:"jira.issue.view",ready:[{selector:e,requireUpdate:false},{selector:c,requireUpdate:false}]})},notifyIssueNavList:function(){var c=".navigator-content";var d="#issuetable:not(.browser-metrics-stale), .error:not(.browser-metrics-stale), .no-results-hint:not(.browser-metrics-stale), #errorPageContainer:not(.browser-metrics-stale)";b(d,"browser-metrics-stale");a.start({key:"jira.issue.nav-list",ready:[{selector:c,requireUpdate:false},{selector:d,requireUpdate:false}]})}}});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'templates/issuesearch.soy' */
// This file was automatically generated from issuesearch.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Issues.Projects.IssueSearch.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Issues == 'undefined') { JIRA.Issues = {}; }
if (typeof JIRA.Issues.Projects == 'undefined') { JIRA.Issues.Projects = {}; }
if (typeof JIRA.Issues.Projects.IssueSearch == 'undefined') { JIRA.Issues.Projects.IssueSearch = {}; }
if (typeof JIRA.Issues.Projects.IssueSearch.Templates == 'undefined') { JIRA.Issues.Projects.IssueSearch.Templates = {}; }


JIRA.Issues.Projects.IssueSearch.Templates.defaultEmptyState = function(opt_data, opt_ignored) {
  return '' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<div class="no-results no-results-message"><h2>' + soy.$$escapeHtml("No issues were found to match your search") + '</h2><p class="no-results-hint">' + soy.$$escapeHtml("Try modifying your filter or creating a new issue below.") + '</p></div>' : '<div class="jira-adbox jira-adbox-medium no-results no-results-message"><h3>' + soy.$$escapeHtml("No issues were found to match your search") + '</h3><p class="no-results-hint">' + soy.$$escapeHtml("Try modifying your filter or creating a new issue below.") + '</p></div>');
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueSearch.Templates.defaultEmptyState.soyTemplateName = 'JIRA.Issues.Projects.IssueSearch.Templates.defaultEmptyState';
}


JIRA.Issues.Projects.IssueSearch.Templates.emptyState = function(opt_data, opt_ignored) {
  return '<div><div class="navigator-content empty-results">' + soy.$$filterNoAutoescape(opt_data.content) + '<div class="inline-issue-create-container"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueSearch.Templates.emptyState.soyTemplateName = 'JIRA.Issues.Projects.IssueSearch.Templates.emptyState';
}


JIRA.Issues.Projects.IssueSearch.Templates.issueCreatedFlag = function(opt_data, opt_ignored) {
  var output = '';
  var link__soy22 = '<a class="issue-created-key issue-link" data-issue-key="' + opt_data.issueKey + '" href="' + "" + '/projects/' + opt_data.projectKey + '/issues/' + opt_data.issueKey + '">' + opt_data.issueKey + ' - ' + opt_data.summary + '</a>';
  output += AJS.format("{0} {1} has been successfully created.","Issue",link__soy22);
  return output;
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueSearch.Templates.issueCreatedFlag.soyTemplateName = 'JIRA.Issues.Projects.IssueSearch.Templates.issueCreatedFlag';
}


JIRA.Issues.Projects.IssueSearch.Templates.issueSearch = function(opt_data, opt_ignored) {
  return '<div class="issue-search"><header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-group aui-group-split"><div class="aui-item subnavigation"><h1><span id="issues-subnavigation-title" class="subnavigator-title"></span><span id="issues-subnavigation-trigger"></span></h1><span id="issues-subnavigation-content"></span></div><div class="aui-item"><div id="full-issue-navigator"><a href="' + soy.$$escapeHtml("") + '/issues/">' + soy.$$escapeHtml("View all issues and filters") + '</a></div></div></div></div></header><div class="details-layout"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueSearch.Templates.issueSearch.soyTemplateName = 'JIRA.Issues.Projects.IssueSearch.Templates.issueSearch';
}
;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'templates/issueview.soy' */
// This file was automatically generated from issueview.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Issues.Projects.IssueView.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Issues == 'undefined') { JIRA.Issues = {}; }
if (typeof JIRA.Issues.Projects == 'undefined') { JIRA.Issues.Projects = {}; }
if (typeof JIRA.Issues.Projects.IssueView == 'undefined') { JIRA.Issues.Projects.IssueView = {}; }
if (typeof JIRA.Issues.Projects.IssueView.Templates == 'undefined') { JIRA.Issues.Projects.IssueView.Templates = {}; }


JIRA.Issues.Projects.IssueView.Templates.issueView = function(opt_data, opt_ignored) {
  return '<div class="issue-view"><div class="navigation-tools"><div class="pager-container"></div><div class="collapse-container"></div></div><div class="issue-container">' + ((opt_data.serverRenderedViewIssue) ? JIRA.Components.IssueViewer.Templates.layout(opt_data) : '') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueView.Templates.issueView.soyTemplateName = 'JIRA.Issues.Projects.IssueView.Templates.issueView';
}


JIRA.Issues.Projects.IssueView.Templates.issueCollapse = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<button title="' + soy.$$escapeHtml(AJS.format("Collapse issue ( {0} )",opt_data.collapseShortcutKey ? opt_data.collapseShortcutKey : '')) + '" class="aui-button aui-button-subtle collapse"><span class="aui-icon aui-icon-small aui-iconfont-unfocus">' + soy.$$escapeHtml(AJS.format("Collapse issue ( {0} )",opt_data.collapseShortcutKey ? opt_data.collapseShortcutKey : '')) + '</span></button>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueView.Templates.issueCollapse.soyTemplateName = 'JIRA.Issues.Projects.IssueView.Templates.issueCollapse';
}
;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/ProjectIssueNavigator.js' */
define("jira/projectissuenavigator",["require"],function(h){var s=h("jira/projectissuenavigator/libs/underscore");var j=h("jira/projectissuenavigator/services/analytics");var o=h("jira/projectissuenavigator/services/api");var t=h("jira/projectissuenavigator/services/filters");var c=h("jira/projectissuenavigator/services/dialogscleaner");var l=h("jira/projectissuenavigator/pages/issuesearch");var n=h("jira/projectissuenavigator/pages/issueview");var k=h("jquery");var f=h("jira/projectissuenavigator/libs/marionette");var e=h("jira/projectissuenavigator/services/metrics");var q=h("jira/projectissuenavigator/services/router");var m=h("jira/projectissuenavigator/entities/navigatorstate");var p=h("jira/projectissuenavigator/services/traces");var d=h("jira/projectissuenavigator/services/jiraevents");var a=h("wrm/data");var g=h("jira/components/search");var r=h("jira/projectissuenavigator/services/keyboardshortcuts");var i=h("jira/projectissuenavigator/services/urlhelper");var b=h("jira/projectissuenavigator/services/browser");return f.Object.extend({_initializedFromPageLoad:true,initialize:function(u){u=s.defaults({},u,{el:k("<div></div>"),canCreateIssues:false,emptyViewContent:""});this.el=u.el;this.canCreateIssues=u.canCreateIssues;this.emptyViewContent=u.emptyViewContent},_buildSearch:function(){this.searchService=new g();var w=a.claim("com.atlassian.jira.jira-issue-navigator-components:search-data");if(w){var u=this.searchService.setPreloadedData(w);var v=a.claim("com.atlassian.jira.jira-issue-navigator-components:search-results");if(v){u.setPreloadedData(v)}this.state.set("searchResults",u)}},_buildIssueView:function(){this.issueView=new n({state:this.state,search:this.searchService,showCollapse:this.state.has("filter")});this.listenTo(this.issueView,{collapse:function(u){e.startIssueSearch();j.collapseIssue({source:u});this._showIssueSearch()},linkToIssue:function(){e.startIssueView()},issueDelete:function(w){e.startIssueSearch();var v=this.state.get("searchResults");if(!v){this._destroyIssueView();this._showIssueSearch()}else{var u=v.get(w.issueId);v.removeAndUpdateSelectionIfNeeded(u).done(function(){if(v.selected){this.state.set("issue",v.selected.get("key"))}this._destroyIssueView();this._showIssueSearch()}.bind(this))}},updateUrl:function(u){this.router.updateURL({project:this.state.get("project"),issue:u.issueKey,filter:this.state.get("filter"),orderby:this.state.get("orderby"),replaceHistory:this._initializedFromPageLoad,keepParameters:this._initializedFromPageLoad,isIssueView:true});this._initializedFromPageLoad=false},editorFieldsLoaded:this._notifyIssueViewEditorFieldsLoaded.bind(this),loadError:function(u){u=u||[];this.jiraEvents.triggerRefreshIssuePage(u.issueId)},individualPanelRendered:function(u){this.jiraEvents.triggerNewContentAddedFromPanelRefreshed(u)},viewRendered:function(u,v){this.jiraEvents.triggerNewContentAddedFromPageLoad(u);this.jiraEvents.triggerRefreshToggleBlocks(v)},panelRendered:function(w,v,u){this.jiraEvents.triggerPanelRefreshed(w,v,u)}})},_buildKeyboardShortuts:function(){var u=new r();this.listenTo(u,{focusIssueList:function(){if(this.issueSearch){this.issueSearch.focusIssueList()}},focusIssueEditor:function(){if(this.issueSearch){this.issueSearch.focusIssueEditor()}else{if(this.issueView){this.issueView.focusIssueEditor()}}}})},_notifyIssueViewEditorLoadedAndInThePage:function(u){u=u||{};this.jiraEvents.triggerNewContentAddedFromPanelRefreshed(this.issueView.el);if(!u.existingMarkup){this.jiraEvents.triggerRefreshIssuePage(this.issueView.getIssueId())}p.traceEditorLoaded();j.triggerProjectNavViewIssue({issueId:this.issueView.getIssueId(),issueKey:this.issueView.getIssueKey(),projectId:this.issueView.getProjectId(),projectKey:this.issueView.getProjectKey(),projectType:this.issueView.getProjectType()});e.endIssueView()},_notifyIssueViewEditorFieldsLoaded:function(){p.traceEditorFieldsLoaded()},_notifyIssueSearchEditorLoadedAndInThePage:function(u){u=u||{};this.jiraEvents.triggerNewContentAddedFromPanelRefreshed(this.issueSearch.el);if(!u.issueRefreshedEvent){this.jiraEvents.triggerRefreshIssuePage(this.issueSearch.getIssueId())}j.triggerProjectNavViewIssue({issueId:this.issueSearch.getIssueId(),issueKey:this.issueSearch.getIssueKey(),projectId:this.issueSearch.getProjectId(),projectKey:this.issueSearch.getProjectKey(),projectType:this.issueSearch.getProjectType()});p.traceEditorLoaded()},_showIssueView:function(u){this._buildIssueView();o.useImplementation(this._getAPIImplementation(this.issueView));function v(w){this.listenTo(this.issueView,{editorLoaded:this._notifyIssueViewEditorLoadedAndInThePage.bind(this)});w=s.defaults({},w,{existingMarkup:false});this._notifyIssueViewEditorLoadedAndInThePage(w);this.issueView.adjustSize();this.issueView.focusIssueEditor()}if(u.existingMarkup===true){this.issueView.attach(this.el.find(".issue-view"));this.issueView.loadFromPage(u.issueKey).always(function(){v.call(this,{existingMarkup:true})}.bind(this))}else{this.issueView.render();this.issueView.load(u.issueKey).always(function(){this._activateIssueViewPage();v.call(this,{existingMarkup:false})}.bind(this))}},_destroyIssueView:function(){if(this.issueView){this.issueView.destroy();this.stopListening(this.issueView);delete this.issueView}},_buildIssueSearch:function(){this.issueSearch=new l({canCreateIssues:this.canCreateIssues,emptyViewContent:this.emptyViewContent,state:this.state,search:this.searchService});this.listenTo(this.issueSearch,{linkToIssue:function(u){e.startIssueView();this.state.unset("searchResults");this.state.unset("filter");this._showIssueView({issueKey:u.issueKey})},expand:function(u){e.startIssueView();j.expandIssue({source:u});this._stateBeforeExpand=new m({filter:this.state.get("filter"),searchResults:this.state.get("searchResults"),issue:this.state.get("issue")});this._showIssueView({issueKey:this.issueSearch.getIssueKey()})},filterSelected:function(u){j.filterSelect(u)},goToFullIssueNavigator:function(){j.goToFullIssueNavigator()},issueSelectedInList:function(u){j.issueSelectedInList(u)},manageFilters:function(){j.manageFilters()},"list:update":function(){p.traceListLoaded()},editorLoaded:function(u){this._notifyIssueSearchEditorLoadedAndInThePage(u)},editorFieldsLoaded:function(){this._notifyIssueViewEditorFieldsLoaded()},editorError:function(){p.traceEditorError()},"pager:next":function(u){j.pager("next",u)},"pager:previous":function(u){j.pager("previous",u)},"issue:select issue:empty":function(){this.router.updateURL({project:this.state.get("project"),issue:this.state.get("issue"),filter:this.state.get("filter"),orderby:this.state.get("orderby"),replaceHistory:this._initializedFromPageLoad});this._initializedFromPageLoad=false},"editor:saveSuccess":function(u){j.editorFieldSaved(u)},"editor:editField":function(u){j.editFieldStarted(u)},"editor:editFieldCancel":function(u){j.editFieldCancelled(u)}})},_activateIssueSearchPage:function(){this._destroyIssueView();this._activatePage(this.issueSearch)},_activateIssueViewPage:function(){this._destroyIssueSearch();this._activatePage(this.issueView)},_showIssueSearch:function(u){u=u||{};if(!this.issueSearch){this._buildIssueSearch();this._activateIssueSearchPage();o.useImplementation(this._getAPIImplementation(this.issueSearch));this.issueSearch.show()}if(this.state.has("searchResults")){this.issueSearch.load()}else{if(this._stateBeforeExpand){this.state.set({searchResults:this._stateBeforeExpand.get("searchResults"),issue:this._stateBeforeExpand.get("issue"),filter:this._stateBeforeExpand.get("filter")});delete this._stateBeforeExpand;this.issueSearch.load()}else{this.issueSearch.search({filter:u.filter||t.getDefaultFilterId(),issue:u.issue||null,orderby:u.orderby||null,startIndex:u.startIndex||null})}}},_destroyIssueSearch:function(){if(this.issueSearch){this.issueSearch.destroy();this.stopListening(this.issueSearch);delete this.issueSearch}},_activatePage:function(u){this.el.find(".content").empty().append(u.el)},_scrollToAnchor:function(){var u=i.getAnchor();b.scrollIntoView(u)},_buildRouter:function(){this.router=new q();this.listenTo(this.router,{"route:browse:initial":function(u){e.startIssueViewFromPageLoad();this.state.update(u);this._showIssueView({existingMarkup:a.claim("com.atlassian.jira.jira-projects-issue-navigator:server-rendered"),issueKey:u.issue});this._scrollToAnchor()},"route:browse":function(u){e.startIssueView();if(!u.filter){this.state.unset("searchResults")}this.state.update(u);this._showIssueView({existingMarkup:false,issueKey:u.issue});c.clean();this._scrollToAnchor()},"route:issues:initial":function(u){e.startIssueSearchFromPageLoad();u.filter=t.sanitiseFilter(u.filter);this.state.update(u);this._showIssueSearch(u);j.filterSelect({filterId:u.filter,source:"url"})},"route:issues":function(u){e.startIssueSearch();this.state.unset("searchResults");u.filter=t.sanitiseFilter(u.filter);this.state.update(u);this._showIssueSearch(u);j.filterSelect({filterId:u.filter,source:"url"});c.clean()}})},_getAPIImplementation:function(v){var w=this;var u={viewSelectedIssue:function(){if(!w.issueView){e.startIssueView();w.state.unset("searchResults");w.state.unset("filter");w._showIssueView({issueKey:w.issueSearch.getIssueKey()})}},returnToSearch:function(){if(!w.issueSearch){e.startIssueSearch();w._showIssueSearch({issue:w.state.get("issue")})}},isFullScreenIssueVisible:function(){return Boolean(w.issueView)},isQueryValid:function(){return true}};return s.extend({},o.getDefaultImplementation(),v.getAPIImplementation(),u)},start:function(){k(document.body).addClass("page-type-split page-issue-navigator");this._buildRouter();this.state=new m();this.jiraEvents=new d();this._buildSearch();this._buildKeyboardShortuts();t.initialize();o.init();this.router.start();var u;k(window).on("scroll resize",s.bind(function(){if(!u){u=requestAnimationFrame(s.bind(function(){this.adjustSize();u=null},this))}},this));this.adjustSize()},adjustSize:function(){if(this.issueView){this.issueView.adjustSize()}if(this.issueSearch){this.issueSearch.adjustSize()}}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Analytics.js' */
define("jira/projectissuenavigator/services/analytics",function(){var a=require("jira/projectissuenavigator/libs/ajshelper");return{filterSelect:function(b){a.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.filter.select",data:{filterId:b.filterId,source:b.source}})},goToFullIssueNavigator:function(){a.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.load.full.issue.nav"})},expandIssue:function(b){a.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.expand",data:{source:b.source}})},collapseIssue:function(b){a.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.collapse",data:{source:b.source}})},issueSelectedInList:function(b){a.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.select.issue",data:{issueKey:b.key,source:"list",sameProject:true}})},triggerProjectNavViewIssue:function(b){a.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.view.issue",data:{issueId:b.issueId,projectId:b.projectId,projectType:b.projectType,issueMatchesProjectContext:b.issueKey==null?false:b.issueKey.indexOf(b.projectKey+"-")===0}})},manageFilters:function(){a.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.filter.manage"})},pager:function(c,b){a.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.pager",data:{current:b.current,total:b.total,direction:c}})},editorFieldSaved:function(b){a.trigger("analyticsEvent",{name:"kickass.inlineEdit",data:{issueId:b.issueId,savedFieldIds:b.savedFieldIds,savedFieldTypes:b.savedFieldTypes,source:"jira.projectissuenav.global"}})},editFieldStarted:function(b){a.trigger("analyticsEvent",{name:"kickass.inlineEdit.start",data:{issueId:b.issueId,fieldId:b.fieldId,fieldType:b.fieldType,source:"jira.projectissuenav.global"}})},editFieldCancelled:function(b){a.trigger("analyticsEvent",{name:"kickass.inlineEdit.cancel",data:{issueId:b.issueId,fieldId:b.fieldId,fieldType:b.fieldType,source:"jira.projectissuenav.global"}})}}});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/API.js' */
define("jira/projectissuenavigator/services/api",["require"],function(d){var c=d("jira/projectissuenavigator/libs/underscore");var a=function(){};var b={nextIssue:a,previousIssue:a,getActiveIssueId:a,getActiveIssueKey:a,refreshActiveIssue:a,refreshIssue:a,editField:a,getFields:a,isSaving:a,isLoading:a,hasAccessibleIssue:a,showLoadError:a,waitForSavesToComplete:a,viewSelectedIssue:a,returnToSearch:a,focusSearch:a,toggleFilterPanel:a,isQueryValid:a,isFullScreenIssueVisible:a,switchLayouts:a,openFocusShifter:a,toggleFullscreenIssue:a};var f=b;function h(i){var j={};i.forEach(function(k){j[k]=function(){return f[k].apply(f,arguments)}});return j}function g(){var i=h(["nextIssue","previousIssue","getActiveIssueId","getActiveIssueKey","refreshActiveIssue","refreshIssue","editField","getFields","isSaving","isLoading","hasAccessibleIssue","showLoadError","waitForSavesToComplete","viewSelectedIssue","returnToSearch","focusSearch","toggleFilterPanel","isQueryValid","isFullScreenIssueVisible","switchLayouts","openFocusShifter","toggleFullscreenIssue"],f);return i}function e(j){var i={viewSelectedIssue:function(){j.viewSelectedIssue()},nextIssue:function(){j.nextIssue()},returnToSearch:function(){j.returnToSearch()},focusSearch:function(){j.focusSearch()},toggleFilterPanel:function(){j.toggleFilterPanel()},isQueryValid:function(){return j.isQueryValid()},isFullScreenIssueVisible:function(){return j.isFullScreenIssueVisible()},switchLayouts:function(){j.switchLayouts()},openFocusShifter:function(){j.openFocusShifter()},waitForSavesToComplete:function(){j.waitForSavesToComplete()},prevIssue:function(){j.previousIssue()},getSelectedIssueId:function(){return j.getActiveIssueId()},getSelectedIssueKey:function(){return j.getActiveIssueKey()},refreshSelectedIssue:function(){return j.refreshActiveIssue()},editFieldOnSelectedIssue:function(k){return j.editField(k)},getFieldsOnSelectedIssue:function(){return j.getFields()},hasSavesInProgress:function(){return j.isSaving()},isCurrentlyLoadingIssue:function(){return j.isLoading()},isSelectedIssueAccessible:function(){return j.hasAccessibleIssue()},issueIsVisible:function(){return j.hasAccessibleIssue()},showInlineIssueLoadError:function(){return j.showLoadError()},updateIssue:function(k){k=k||{};return j.refreshIssue(k.id)},toggleFullscreenIssue:function(){j.toggleFullscreenIssue()}};AJS.namespace("JIRA.Issues.Api",null,i)}return{getDefaultImplementation:function(){return c.clone(b)},init:function(){var i=g();e(i);AJS.namespace("JIRA.API.IssueSearch",null,i)},useImplementation:function(i){f=i}}});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Browser.js' */
define("jira/projectissuenavigator/services/browser",function(){return{getCurrentUrl:function(){return document.location.href},hasPushState:function(){return !!(window.history&&window.history.pushState)},locationReplace:function(a){return window.location.replace(a)},locationAssign:function(a){return window.location.assign(a)},getDocument:function(){return document},scrollIntoView:function(b){var a=document.getElementById(b);if(a){a.scrollIntoView()}}}});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Filters.js' */
define("jira/projectissuenavigator/services/filters",["require"],function(d){var e=d("wrm/context-path")();var j=d("jira/projectissuenavigator/libs/underscore");var g=d("wrm/data");var c=d("jira/projectissuenavigator/libs/ajshelper");var b=d("jira/projectissuenavigator/apis/projects");var a;var l;var k;var f;var i;function h(m){return j.indexBy(j.flatten(m),"id")}return{initialize:function(){a=g.claim("com.atlassian.jira.jira-projects-issue-navigator:generic-filters")||[];l=g.claim("com.atlassian.jira.jira-projects-issue-navigator:project-filters")||[];k=g.claim("com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters");i=g.claim("com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority")||[this.getAllIssuesFilterId()];f=b.getCurrentProjectId()},getExtraLinks:function(){return[{id:"manage",label:"Manage Filters",link:e+"/secure/ManageFilters.jspa?searchShareType=project&projectShare="+f+"&Search=Search&filterView=search"}]},getAvailableFilters:function(m){var n=[];if(a&&a.length){n.push(a)}if(l&&l.length){n.push(l);if(m&&k){n.push(this.getExtraLinks())}}return n},getDefaultFilterId:function(){return j.find(i,j.bind(function(m){return !!j.findWhere(j.flatten(this.getAvailableFilters()),{id:m})},this))},getJQL:function(n,m,p){var o=j.findWhere(j.flatten(this.getAvailableFilters()),{id:n});if(o){return c.format(o.jql,m,p||o.defaultOrderby)}},getAllIssuesFilterId:function(){return"allissues"},sanitiseFilter:function(m){if(j.some(j.flatten(this.getAvailableFilters()),function(n){return n.id===m})){return m}return this.getDefaultFilterId()},filterSupportsInlineIssueCreate:function(m){var o=h(this.getAvailableFilters(false));var n=o[m];return Boolean(n&&n.supportsInlineIssueCreate)}}});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/DialogsOverrider.js' */
define("jira/projectissuenavigator/services/dialogsoverrider",["require"],function(d){var i=d("jira/dialog/dialog");var k=d("jira/util/events");var c=d("jira/dialog/form-dialog");var l=d("jquery");var f=d("jira/dialog/labels-dialog");var h=d("jira/projectissuenavigator/libs/marionette");function a(m){return function(){var n=i.current;m.trigger("quickEdit",{issueId:n.issueId,issueKey:n.issueKey,message:n.options.issueMsg||"thanks_issue_updated"})}}function b(m){return function(){var n=i.current;m.trigger("quickCreateSubtask",{issueId:n.issueId,issueKey:n.issueKey,message:n.options.issueMsg||"thanks_issue_updated"})}}function g(m){return(typeof m.isIssueDialog==="boolean"&&m.isIssueDialog)||(l.isFunction(m.isIssueDialog)&&m.isIssueDialog())}function j(n,o,m){return function(r,q,p){if(p){p.issueId=o(p);p.issueKey=m(p);if(g(p)&&p.options.id!=="clone-issue-dialog"){p._performRedirect=function(){this.redirected=false};p.options.onDialogFinished=function(){p.hide();var s;if(p.options.id==="delete-issue-dialog"){s="issueDelete"}else{s="issueUpdate"}n.trigger(s,{issueId:p.issueId,issueKey:p.issueKey,message:p.options.issueMsg||"thanks_issue_updated"})}}}}}function e(){return function(){l("body").css("overflow","")}}return h.Object.extend({_overrideLabelsDialogSubmitResponse:function(){this.oldLabelsDialogSubmitReponse=f.prototype._handleSubmitResponse;f.prototype._handleSubmitResponse=function(){return c.prototype._handleSubmitResponse.apply(this,arguments)};this.currentLabelsDialogSubmitResponse=f.prototype._handleSubmitResponse},_restoreLabelsDialogSubmitResponse:function(){if(f.prototype._handleSubmitResponse!==this.currentLabelsDialogSubmitResponse){return}f.prototype._handleSubmitResponse=this.oldLabelsDialogSubmitReponse},initialize:function(m){this._overrideLabelsDialogSubmitResponse();this.handlerDialogShow=j(this,m.getIssueId,m.getIssueKey);this.handlerDialogHide=e(this,m.getIssueId,m.getIssueKey);k.bind("Dialog.show",this.handlerDialogShow);k.bind("Dialog.hide",this.handlerDialogHide);this.handlerQuickEditSuccess=a(this);k.bind("QuickEdit.sessionComplete",this.handlerQuickEditSuccess);this.handlerQuickCreateSubtaskSuccess=b(this);k.bind("QuickCreateSubtask.sessionComplete",this.handlerQuickCreateSubtaskSuccess)},destroy:function(){this._restoreLabelsDialogSubmitResponse();k.unbind("Dialog.show",this.handlerDialogShow);k.unbind("Dialog.hide",this.handlerDialogHide);k.unbind("QuickEdit.sessionComplete",this.handlerQuickEditSuccess);k.unbind("QuickCreateSubtask.sessionComplete",this.handlerQuickCreateSubtaskSuccess)}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/DialogsCleaner.js' */
define("jira/projectissuenavigator/services/dialogscleaner",["require"],function(b){var a=b("jira/dialog/dialog");return{clean:function(){if(a.current){a.current.hide()}}}});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/FocusShifter.js' */
define("jira/projectissuenavigator/services/focusshifter",["require"],function(e){var g=e("jira/projectissuenavigator/libs/marionette");var f=e("jquery");var d=e("jira/projectissuenavigator/libs/underscore");var c=e("jira/shifter");function b(h){return d.chain(h.models).filter(function(i){return i.id!=="comment"&&i.isEditable()}).map(function(i){return{label:i.getLabel(),value:i.id}}).value()}function a(h){return function(){var j=h.getFields();var i=j?b(j):[];return{id:"edit-fields",name:"Edit Fields",context:h.getIssueKey(),weight:100,getSuggestions:function(){return new f.Deferred().resolve(i)},onSelection:function(k){var l=h.getFields().get(k);h.editField(l)}}}}return g.Object.extend({initialize:function(h){this.provider=a(h);c.register(this.provider)},onDestroy:function(){c.unregister(this.provider)},show:function(){c.show()}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/InlineIssueCreate.js' */
define("jira/projectissuenavigator/services/inline-issue-create",["require"],function(a){var b=a("jira/components/inline-issue-create");return b});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/JiraEvents.js' */
define("jira/projectissuenavigator/services/jiraevents",["require"],function(e){var c=e("jira/util/events");var d=e("jira/util/events/types");var b=e("jira/components/issueviewer/eventtypes");var a=e("jira/util/events/reasons");var f=e("jquery");var g=e("jira/projectissuenavigator/libs/marionette");return g.Object.extend({initialize:function(){this.deferredEvents=[];this.isDeferring=true;f(function(){setTimeout(this._drainDeferredEvents.bind(this),0)}.bind(this))},triggerNewContentAddedFromPanelRefreshed:function(h){this.trigger(d.NEW_CONTENT_ADDED,[f(h),a.panelRefreshed])},triggerRefreshIssuePage:function(h){this.trigger(b.ISSUE_REFRESHED,[h])},triggerNewContentAddedFromPageLoad:function(h){this.trigger(d.NEW_CONTENT_ADDED,[f(h),a.pageLoad])},triggerRefreshToggleBlocks:function(h){this.trigger(d.REFRESH_TOGGLE_BLOCKS,[h])},triggerPanelRefreshed:function(j,i,h){this.trigger(b.PANEL_REFRESHED,[j,i,h])},_drainDeferredEvents:function(){this.isDeferring=false;this.deferredEvents.forEach(function(h){this.trigger(h[0],h[1])}.bind(this));this.deferredEvents.length=0},trigger:function(h,i){if(this.isDeferring){this.deferredEvents.push([h,i])}else{c.trigger(h,i)}}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/KeyboardShortcuts.js' */
define("jira/projectissuenavigator/services/keyboardshortcuts",["require"],function(a){var f=a("jira/projectissuenavigator/services/browser");var i=a("jquery");var h=a("jira/ajs/keyboardshortcut/keyboard-shortcut-toggle");var c=a("jira/projectissuenavigator/libs/marionette");function e(){return i(f.getDocument()).find("div.aui-blanket").length>0}function b(j){return(j.which===i.ui.keyCode.LEFT||j.which===i.ui.keyCode.RIGHT)}function g(){return !h.areKeyboardShortcutsDisabled()}function d(k){if(g()&&!e()&&b(k)){var j=i(k.target);var l=j.is(":not(:input)");if(j==null||l){if(k.which===i.ui.keyCode.LEFT){this.trigger("focusIssueList")}else{if(k.which===i.ui.keyCode.RIGHT){this.trigger("focusIssueEditor")}}}}}return c.Object.extend({initialize:function(){i(f.getDocument()).on("keydown",d.bind(this))}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/LinksCapturer.js' */
define("jira/projectissuenavigator/services/linkscapturer",["require"],function(b){var c=b("jquery");var a=b("jira/projectissuenavigator/libs/underscore");var d=b("jira/projectissuenavigator/libs/marionette");return d.Object.extend({initialize:function(e){e=e||{};this.el=c(e.el);this.linkHandler=a.bind(function(){this.trigger("linkToFullIssueNavigator")},this);this.linkToFullIssueNavigator()},linkToFullIssueNavigator:function(){this.el.on("click","#full-issue-navigator",this.linkHandler)},destroy:function(){this.el.off("click","#full-issue-navigator",this.linkHandler)}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Metrics.js' */
define("jira/projectissuenavigator/services/metrics",["require"],function(a){var b=a("internal/browser-metrics");return{startIssueView:function(){b.start({key:"jira.project.issue.view-issue"})},startIssueSearch:function(){b.start({key:"jira.project.issue.nav-detail"})},startIssueViewFromPageLoad:function(){b.start({key:"jira.project.issue.view-issue",isInitial:true,ready:[{selector:"#key-val",requireUpdate:false},".issue-body-content"]})},startIssueSearchFromPageLoad:function(){b.start({key:"jira.project.issue.nav-detail",isInitial:true})},endIssueView:function(){b.end({key:"jira.project.issue.view-issue"})},endIssueSearch:function(){b.end({key:"jira.project.issue.nav-detail"})}}});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Notifications.js' */
define("jira/projectissuenavigator/services/notifications",["require"],function(b){var c=b("jira/message");var a=b("jira/projectissuenavigator/libs/ajshelper");var d={thanks_issue_updated:"{0} has been updated.",thanks_issue_transitioned:"{0} has been updated.",thanks_issue_assigned:"{0} has been assigned.",thanks_issue_commented:"{0} has been updated with your comment.",thanks_issue_worklogged:"Work has been logged on {0}.",thanks_issue_voted:"Your vote on {0} has been updated.",thanks_issue_watched:"Your watcher status on {0} has been updated.",thanks_issue_moved:"{0} has been moved.",thanks_issue_linked:"The links on {0} have been updated.",thanks_issue_cloned:"{0} has been cloned.",thanks_issue_labelled:"The labels on {0} have been updated.",thanks_issue_deleted:"{0} has been deleted.",thanks_issue_attached:"The file(s) have been attached to {0}."};return{show:function(f,e){var g=d[f||"thanks_issue_updated"];if(g&&e){g=a.format(g,e)}c.showSuccessMsg(g||f,{closeable:true})}}});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Router.js' */
define("jira/projectissuenavigator/services/router",["require"],function(d){var h=d("jira/projectissuenavigator/libs/backbone");var f=d("jira/projectissuenavigator/services/urlhelper");var g=d("jira/projectissuenavigator/services/browser");var e=d("jira/util/data/meta");var c=d("wrm/context-path")();var b=d("jira/projectissuenavigator/libs/uri");var a=d("jira/projectissuenavigator/libs/underscore");return h.Router.extend({initialize:function(){this._isFirstLoad=true;this.route(/.*/,function(){var j=f.extractStateFromCurrentUrl();var k={issue:j.issue,filter:j.filter,orderby:j.orderby,startIndex:j.startIndex,project:j.project};var i=(function(l,m){if(this._isFirstLoad){this._isFirstLoad=false;this.trigger(m,k)}else{this.trigger(l,k)}}.bind(this));if(f.isBrowseUrl()){i("route:browse","route:browse:initial")}else{i("route:issues","route:issues:initial")}})},updateURL:function(l){l=l||{};this._updatePermalinkState(l);var j={issue:l.issue,project:l.project,filter:l.filter,orderby:l.orderby};var k=l.isIssueView?f.generateBrowseUrl(j):f.generateUrl(j);var i=new b(k);var n=new b(g.getCurrentUrl());var m=new b({path:n.path(),query:n.query(),fragment:n.fragment()});if(i.equals(m)){return}if(l.keepParameters){i.search(a.extend(m.search(true),i.search(true)));i.hash(m.hash());k=i.toString()}this.navigate(k,{trigger:false,replace:!!l.replaceHistory})},goTo:function(i){i=i||{};g.locationAssign(f.generateUrl({project:i.project,issue:i.issue,filter:i.filter,orderby:i.orderby}))},_getBaseurl:function(){return b.build(a.extend(a.pick(b.parse(g.getCurrentUrl()),"protocol","hostname","port","username","password"),{path:c}))},_getServerBaseurl:function(){var i=e.get("jira-base-url");if(i){return i}return this._getBaseurl()},_updatePermalinkState:function(i){if(i.issue){e.set("viewissue-permlink",new b(this._getServerBaseurl()+"/browse/"+i.issue).normalize().toString())}},start:function(){var i=f.generateRootUrl();var l=g.hasPushState();var k=f.getApplicationUrl();var j=k&&!f.isHashUrl();if(!l&&j){g.locationReplace(i+k.replace(/^\//,"#"));return}h.history.start({root:"",pushState:true})}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Traces.js' */
define("jira/projectissuenavigator/services/traces",function(){return{traceListLoaded:function(){JIRA.trace("sidebarissuenavigator.list.loaded");JIRA.trace("jira.search.finished")},traceEditorLoaded:function(){JIRA.trace("sidebarissuenavigator.editor.loaded")},traceEditorFieldsLoaded:function(){JIRA.trace("sidebarissuenavigator.editorfields.loaded")},traceEditorError:function(){JIRA.trace("sidebarissuenavigator.editor.error")},traceIssueViewRender:function(){JIRA.trace("jira.project.issueview.render")},traceIssueUpdated:function(){JIRA.trace("jira.issue.update")}}});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/URLHelper.js' */
define("jira/projectissuenavigator/services/urlhelper",["require"],function(a){var e=a("wrm/context-path")();var j=a("jira/projectissuenavigator/services/browser");var i=a("jira/projectissuenavigator/libs/uri");function c(l,m){var k=l.search(true).filter;if(k){m.filter=k}else{m.filter=null}}function h(k,m){var l=k.search(true).orderby;if(l){m.orderby=l}else{m.orderby=null}}function d(l,m){var k=l.filename();if(k){m.issue=k}}function b(k,l){var m=k.search(true).startIndex;if(m){l.startIndex=m}else{l.startIndex=null}}function g(k){var l=new i("");if(k.issue){l.filename(k.issue)}if(k.filter){l.setSearch("filter",k.filter)}else{l.removeSearch("filter")}if(k.orderby){l.setSearch("orderby",k.orderby)}else{l.removeSearch("orderby")}return l.toString()}function f(l){var k=new i("");if(l){k.path(e+"/projects/"+l+"/issues")}return k.toString()}return{extractProjectKeyFromCurrentUrl:function(){var l=new i(j.getCurrentUrl()).pathname();var k;if(this.isBrowseUrl(l)){k=l.match(/\/([A-Z0-9]+)\-[0-9]+$/)}else{k=l.match(/\/projects\/([^\/]+?)\/issues/)}if(k){return k[1]}else{return null}},extractIssueKeyFromCurrentUrl:function(){var l=new i(j.getCurrentUrl()).pathname();var k=l.match(/\/([A-Z0-9]+\-[0-9]+)$/);if(k){return k[1]}else{return null}},generateUrl:function(l){var k=f(l.project);var n=g(l);var m=j.hasPushState()?"/":"#";return k+m+n},generateBrowseUrl:function(l){var k=new i("");k.path(e+"/browse/");var m=g(l);return k.toString()+m},extractStateFromCurrentUrl:function(){var k=new i(this.getApplicationUrl());if(this.isHashUrl()){k=new i(k.fragment())}var l={};c(k,l);h(k,l);d(k,l);b(k,l);l.project=this.extractProjectKeyFromCurrentUrl();return l},generateRootUrl:function(k){k=k||this.extractProjectKeyFromCurrentUrl();return f(k)},getApplicationUrl:function(){var k=j.getCurrentUrl();var l=new RegExp(this.isBrowseUrl(k)?"^.*/browse/":"^.*"+this.generateRootUrl()+"");return k.replace(l,"")},isBrowseUrl:function(k){k=k||j.getCurrentUrl();return k.indexOf("/browse/")>-1},isHashUrl:function(){var l=this.getApplicationUrl();var k=l.match(/^#/);return !!k},getAnchor:function(){return new i(j.getCurrentUrl()).fragment()}}});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/pages/issueview/views/IssueView.js' */
define("jira/projectissuenavigator/pages/issueview/views/issue",["require"],function(b){var e=b("jira/projectissuenavigator/libs/marionette");var c=b("jira/projectissuenavigator/pages/issueview/templates");var d=b("jira/ajs/keyboardshortcut/keyboard-shortcut");var a=e.ItemView.extend({template:c.issueCollapse,rendered:false,triggers:{click:"collapse"},onRender:function(){this.unwrapTemplate();this.$el.tooltip({gravity:"e"})},onDestroy:function(){if(this.$el.tooltip){this.$el.tooltip("hide")}},serializeData:function(){return{collapseShortcutKey:d.getKeyboardShortcutKeys("fullscreen.issue")}}});return e.LayoutView.extend({template:c.issueView,className:"wrapper",rendered:false,regions:{issueContainer:".issue-container",pager:".pager-container",collapse:".collapse-container"},initialize:function(f){this.showCollapse=f.showCollapse||false;this._initSubview()},_initSubview:function(){this._collapseSubview=new a();this.listenTo(this._collapseSubview,"collapse",function(){this.trigger("collapse")}.bind(this))},maximizeHeight:function(){this.$el.css("height",window.innerHeight-this.$el.offset().top)},onRender:function(){if(this.showCollapse){this.collapse.show(this._collapseSubview);if(d.initialised&&!d.initialised.isResolved()){d.initialised.then(function(){this._collapseSubview.render()}.bind(this))}}this.unwrapTemplate(this.className);this.rendered=true},attach:function(f){this.setElement(f);this.bindUIElements();this.triggerMethod("render")},templateHelpers:function(){return this.options}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/pages/issueview/IssueView.js' */
define("jira/projectissuenavigator/pages/issueview",["require"],function(b){var m=b("jira/projectissuenavigator/libs/underscore");var p=b("jira/components/issueviewer/services/darkfeatures");var g=b("jira/projectissuenavigator/services/dialogsoverrider");var k=b("jira/projectissuenavigator/services/focusshifter");var c=b("jira/components/issuecomponentresolver");var j=b("jira/projectissuenavigator/pages/issueview/views/issue");var h=b("jira/components/issueviewer/templates");var l=b("jira/flag");var o=b("jquery");var i=b("jira/projectissuenavigator/libs/marionette");var d=b("jira/projectissuenavigator/services/metrics");var f=b("jira/projectissuenavigator/services/notifications");var a=b("jira/components/pager");var n=b("jira/projectissuenavigator/services/traces");var e=b("wrm/data");return i.Object.extend({initialize:function(q){this.showCollapse=q.showCollapse||false;this.state=q.state;this._buildIssueView();this._buildIssueComponent();this._buildDialogsOverrider();this._buildFocusShifter();this._buildPager()},onDestroy:function(){this.issueComponent.close();this.issueView.destroy();this.dialogsOverrider.destroy();this.focusShifter.destroy();this._destroyPager();if(this.el){this.el.remove()}},_destroyPager:function(){if(this.pager){this.pager.destroy();this.stopListening(this.pager);delete this.pager}},render:function(){this.issueView.render();this.el=this.issueView.$el},attach:function(q){this.issueView.attach(q);this.el=this.issueView.$el},loadFromPage:function(q){this._updateState(q);this._updateURL(q);this._updatePager();return this.issueComponent.loadIssueRenderedByTheServer({key:q,project:{id:e.claim("projectId"),key:e.claim("projectKey"),projectType:e.claim("projectType")},detailView:false})},load:function(q){this._updateState(q);this._updateURL(q);this._updatePager();return this.issueComponent.loadIssue({key:q,detailView:false})},_updateURL:function(q){if(p.REDIRECT_FROM_GLOBAL_TO_PROJECT.enabled()){this.trigger("updateUrl",{issueKey:q})}},_updatePager:function(){var r=this.state.get("searchResults");var q=this.state.get("issue");if(r&&r.hasIssueInSearch(q)){if(!r.selected||r.selected.get("key")!==q){r.select(q)}this.pager.update(r)}else{this._destroyPager()}},_updateState:function(q){this.state.set("issue",q)},adjustSize:function(){this.issueView.maximizeHeight();this.issueComponent.applyResponsiveDesign()},_buildIssueView:function(){this.issueView=new j({showCollapse:this.showCollapse});this.listenTo(this.issueView,{render:function(){this.issueView.issueContainer._ensureElement();this.issueComponent.setContainer(this.issueView.issueContainer.$el);if(this.pager){this.issueView.pager._ensureElement();this.pager.show(this.issueView.pager.$el)}},collapse:function(){this.trigger("collapse","ui-button")}})},_buildIssueComponent:function(){var q=c.resolve();this.issueComponent=new q({useJIRAEvents:false});this.listenTo(this.issueComponent,{fieldsLoaded:function(){this.trigger("editorFieldsLoaded")},loadError:function(r){this.trigger("loadError",r)},loadComplete:function(r,s){this.trigger("editorLoaded",s)},linkToIssue:function(r){this.trigger("linkToIssue",r);this.state.unset("searchResults");this.state.unset("filter");this.load(r.issueKey)},individualPanelRendered:function(r){this.trigger("individualPanelRendered",r)},renderMainView:function(r,s){this.trigger("viewRendered",r,s)},panelRendered:function(t,s,r){this.trigger("panelRendered",t,s,r)},refineViewer:function(r){r.preventDefault();this.issueComponent.updateIssueWithQuery(r.query)}})},_buildDialogsOverrider:function(){function q(t,s,r){return r&&r.$activeTrigger&&r.$activeTrigger.data(t)||(typeof s==="function")&&s()}this.dialogsOverrider=new g({getIssueId:m.partial(q,"issueid",this.issueComponent.getIssueId.bind(this.issueComponent)),getIssueKey:m.partial(q,"issuekey",this.issueComponent.getIssueKey.bind(this.issueComponent))});this.listenTo(this.dialogsOverrider,{"quickEdit quickCreateSubtask issueUpdate":function(r){this.issueComponent.refreshIssue().done(function(){f.show(r.message,r.issueKey);n.traceIssueUpdated()})},issueDelete:function(r){f.show(r.message,r.issueKey);if(r.issueKey===this.state.get("issue")){this.trigger("issueDelete",r)}else{this.issueComponent.refreshIssue()}}})},_buildFocusShifter:function(){this.focusShifter=new k(this.issueComponent)},getIssueId:function(){return this.issueComponent.getIssueId()},getIssueKey:function(){return this.issueComponent.getIssueKey()},getProjectId:function(){return this.issueComponent.getProjectId()},getProjectKey:function(){return this.issueComponent.getProjectKey()},getProjectType:function(){return this.issueComponent.getProjectType()},_buildPager:function(){this.pager=new a();this.listenTo(this.pager,{next:function(){this._loadNextIssue()},previous:function(){this._loadPreviousIssue()}})},_loadNextIssue:function(){var q=this.state.get("searchResults");if(!q){return}q.getNextIssue().done(function(r){this._loadIssueFromPager(r,"pager:next")}.bind(this))},_loadPreviousIssue:function(){var q=this.state.get("searchResults");if(!q){return}q.getPreviousIssue().done(function(r){this._loadIssueFromPager(r,"pager:previous")}.bind(this))},_loadIssueFromPager:function(q,r){var s=this.state.get("searchResults");this.trigger(r,{current:s.getPositionOfIssueInSearchResults(q.id),total:s.length});this.load(q.get("key"))},getAPIImplementation:function(){var q=this;return{nextIssue:function(){var r=q.state.get("searchResults");if(!r){return}d.startIssueSearch();return q._loadNextIssue()},previousIssue:function(){var r=q.state.get("searchResults");if(!r){return}d.startIssueSearch();return q._loadPreviousIssue()},getActiveIssueId:function(){return q.issueComponent.getIssueId()},getActiveIssueKey:function(){return q.issueComponent.getIssueKey()},refreshActiveIssue:function(){d.startIssueSearch();return q.issueComponent.refreshIssue()},refreshIssue:function(){d.startIssueSearch();return q.issueComponent.refreshIssue()},editField:function(s){if(!("getFields" in q.issueComponent)){return false}var r=q.issueComponent.getFields();var t=r&&r.get(s);var u=t&&t.isEditable();if(u){q.issueComponent.editField(t)}return u},getFields:function(){if(!("getFields" in q.issueComponent)){return undefined}var r=q.issueComponent.getFields();return r.length?r:undefined},isSaving:function(){if(!("hasSavesInProgress" in q.issueComponent)){return false}return q.issueComponent.hasSavesInProgress()},isLoading:function(){return q.issueComponent.isCurrentlyLoading()},hasAccessibleIssue:function(){return !q.issueComponent.isShowingError()},showLoadError:function(){return l.showErrorMsg("",h.Body.errorsLoading(),{persistent:false})},waitForSavesToComplete:function(){if(!("hasSavesInProgress" in q.issueComponent)){return new o.Deferred().resolve().promise()}var s=new o.Deferred();if(!q.issueComponent.hasSavesInProgress()){s.resolve()}else{var r=function(){m.defer(function(){if(!q.issueComponent.hasSavesInProgress()){s.resolve()}})};q.issueComponent.once("saveSuccess",r)}return s.promise()},openFocusShifter:function(){q.focusShifter.show()},toggleFullscreenIssue:function(){if(q.showCollapse){q.trigger("collapse","kb-shortcut")}}}},focusIssueEditor:function(){this.issueComponent.focus()}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/pages/issuesearch/IssueSearch.js' */
define("jira/projectissuenavigator/pages/issuesearch",["require"],function(k){var v=k("jira/projectissuenavigator/libs/underscore");var o=k("jira/components/detailslayout");var e=k("jira/projectissuenavigator/services/dialogsoverrider");var n=k("jira/projectissuenavigator/pages/issuesearch/views/empty");var w=k("jira/projectissuenavigator/services/filters");var p=k("jira/projectissuenavigator/services/focusshifter");var s=k("jira/projectissuenavigator/services/inline-issue-create");var c=k("jira/util/events");var h=k("jira/flag");var m=k("jquery");var d=k("jira/projectissuenavigator/services/linkscapturer");var i=k("jira/projectissuenavigator/libs/marionette");var a=k("jira/message");var r=k("jira/util/data/meta");var g=k("jira/projectissuenavigator/services/metrics");var b=k("jira/projectissuenavigator/services/notifications");var t=k("jira/ajs/ajax/smart-ajax");var f=k("jira/projectissuenavigator/pages/issuesearch/templates");var q=k("jira/components/util/events");var j=k("jira/projectissuenavigator/libs/uri");var l=k("jira/projectissuenavigator/services/urlhelper");var u=JIRA.Projects.Subnavigator;return i.Object.extend({initialize:function(x){this.el=m(f.issueSearch());this._buildState(x.state);this._buildSearch(x.search);this._buildSubnavigation();if(x.canCreateIssues){this._buildInlineIssueCreate()}this._buildDetailsLayout();this._buildLinksCapturer();this._buildDialogsOverrider();this._buildFocusShifter()},_buildState:function(x){this.state=x},_setTitleText:function(x){var z=w.getAvailableFilters(true);var y=v.chain(z).flatten().findWhere({id:x}).value();var A=this.el.find("#issues-subnavigation-title");A.text((y&&y.label)||"")},_buildSubnavigation:function(){var x=this.state.get("filter")||w.getDefaultFilterId();this._setTitleText(x);this.subnavigation=new u({triggerPlaceholder:this.el.find("#issues-subnavigation-trigger"),contentPlaceholder:this.el.find("#issues-subnavigation-content"),itemGroups:w.getAvailableFilters(true),selectedItem:x,hideSelectedItem:false,changeViewText:"Switch filter"});this.listenTo(this.subnavigation,{itemSelected:function(y){if(y.item.id==="manage"){this.trigger("manageFilters")}else{if(y.item.jql){g.startIssueSearch();y.preventDefault();this._setTitleText(y.item.id);this.search({filter:y.item.id,issue:null,orderby:null});this.trigger("filterSelected",{filterId:y.item.id,source:"subnavigator"})}}}})},_buildInlineIssueCreate:function(){this.inlineIssueCreate=new s();this.listenTo(this.inlineIssueCreate,{issueCreated:function(x){g.startIssueSearch();this.search({issue:x.issue.issueKey})}})},_buildDetailsLayout:function(){var x={baseURL:l.generateRootUrl(this.state.get("project")),useExpand:true};if(this.options.canCreateIssues){x.displayInlineIssueCreate=true;x.emptyViewFactory=v.bind(function(){this.emptyView=new n({emptyViewContent:this.options.emptyViewContent});return this.emptyView},this)}this.detailsLayout=new o(x);this.listenTo(this.detailsLayout,{select:function(y){this.state.set("issue",y.key);this.trigger("issue:select",{issue:y.key})},empty:function(){this.state.unset("issue");if(this.options.canCreateIssues){this.emptyView.inlineIssueCreateContainer._ensureElement();this.inlineIssueCreate.show(this.emptyView.inlineIssueCreateContainer.$el);this.inlineIssueCreate.activateWithJQL(this.state.get("searchResults").jql)}this.trigger("issue:empty")},"list:update":function(){this.trigger("list:update")},"list:sort":function(y){g.startIssueSearch();var z=y.match(/ORDER +BY +(.*)$/i);if(!z){return}this.search({orderby:z[1]})},"list:refresh":function(){g.startIssueSearch();this.search({issue:null})},"list:select":function(y){g.startIssueSearch();this.trigger("issueSelectedInList",y)},render:function(){c.trigger(q.LAYOUT_RENDERED)},"editorLoadedFromCache editorLoaded":function(y){g.endIssueSearch();r.set("viewissue-permlink",this._getFullScreenURL(y.issueKey));this.trigger("editorLoaded",{issueRefreshedEvent:(y.issueEditorOptions||{}).issueRefreshedEvent||false})},linkToIssue:function(y){this.trigger("linkToIssue",y)},"list:pagination":function(){g.startIssueSearch()},"error:loadpage":function(y){this.showErrorFlagFromResponse(y)},"editor:saveSuccess":function(y){this.trigger("editor:saveSuccess",{issueId:y.event,savedFieldIds:y.savedFieldIds,savedFieldTypes:y.savedFieldTypes,duration:y.duration})},"editor:editField":function(y){this.trigger("editor:editField",y)},"editor:editFieldCancel":function(y){this.trigger("editor:editFieldCancel",y)},"pager:next":function(y){g.startIssueSearch();this.trigger("pager:next",y)},"pager:previous":function(y){g.startIssueSearch();this.trigger("pager:previous",y)},expand:function(){this.trigger("expand","ui-button")},editorError:function(){this.trigger("editorError")},editorFieldsLoaded:function(){this.trigger("editorFieldsLoaded")},individualPanelRendered:function(y){this.trigger("individualPanelRendered",y)}});if(this.options.canCreateIssues){this.listenTo(this.detailsLayout,{issueCreated:function(y){if(w.filterSupportsInlineIssueCreate(this.state.get("filter"))){g.startIssueSearch();this.search({issue:y.issue.issueKey})}else{a.showSuccessMsg(f.issueCreatedFlag({issueKey:y.issue.issueKey,projectKey:this.state.get("project"),summary:y.fields.summary}),{closeable:true})}}})}},_buildSearch:function(x){this.searchService=x},_buildLinksCapturer:function(){this.linksCapturer=new d({el:this.el});this.listenTo(this.linksCapturer,{linkToFullIssueNavigator:function(){this.trigger("goToFullIssueNavigator")}})},_buildDialogsOverrider:function(){function x(A,z,y){return y&&y.$activeTrigger&&y.$activeTrigger.data(A)||(typeof z==="function")&&z()}this.dialogsOverrider=new e({getIssueId:v.partial(x,"issueid",v.bind(this.detailsLayout.getActiveIssueId,this.detailsLayout)),getIssueKey:v.partial(x,"issuekey",v.bind(this.detailsLayout.getActiveIssueKey,this.detailsLayout))});this.listenTo(this.dialogsOverrider,{"quickEdit quickCreateSubtask issueUpdate":function(y){this.detailsLayout.refreshIssue(y.issueId).done(v.bind(function(){b.show(y.message,y.issueKey)},this))},issueDelete:function(y){this.removeIssue(y.issueId).done(v.bind(function(){b.show(y.message,y.issueKey)},this))}})},_buildFocusShifter:function(){this.focusShifter=new p(this.detailsLayout.issueComponent)},_getFullScreenURL:function(x){var y=r.get("jira-base-url");return new j(y+"/browse/"+x).normalize().toString()},load:function(){var z=this.state.get("searchResults");var y=this.state.get("filter");var A=w.getAllIssuesFilterId()===y;var x=this.state.get("issue");var B=z.hasIssueInSearch(x);this._setTitleText(y);this.subnavigation.selectItem(y);if(!x){this.detailsLayout.load(z);return}if(B){this.detailsLayout.load(z,x);return}if(!A){this.search({filter:w.getAllIssuesFilterId()});this.trigger("filterSelected",{filterId:w.getAllIssuesFilterId(),source:"issueFilterMismatch"});return}this.detailsLayout.load(z)},search:function(y){y=y||{};this.state.update({issue:y.issue,filter:y.filter,orderby:y.orderby});this.detailsLayout.showLoading();var x=w.getJQL(this.state.get("filter"),this.state.get("project"),this.state.get("orderby"));this.searchService.search(x).done(v.bind(function(z){this.state.update({searchResults:z});if(!this.state.has("issue")&&y.startIndex){this.state.update({issue:z.getIssueKeyForIndex(y.startIndex)})}this.load()},this)).fail(v.bind(function(z){this.detailsLayout.hideLoading();this.showErrorFlagFromResponse(z)},this))},show:function(){this.subnavigation.show();this.detailsLayout.show(m(this.el).find(".details-layout"))},onDestroy:function(){this.subnavigation.destroy();if(this.inlineIssueCreate){this.inlineIssueCreate.destroy()}this.detailsLayout.destroy();this.linksCapturer.destroy();this.dialogsOverrider.destroy();this.focusShifter.destroy()},adjustSize:function(){this.detailsLayout.adjustSize()},showErrorFlagFromResponse:function(x){if(typeof x==="undefined"||x.statusText===t.SmartAjaxResult.TIMEOUT||x.status===401||x.hasData){return this.showErrorFlag(t.buildSimpleErrorContent(x))}else{var y=JSON.parse(x.responseText);if(x.status===400&&y.errorMessages.length>0){return this.showErrorFlag(y.errorMessages[0])}else{return this.showErrorFlag(t.buildSimpleErrorContent(x))}}},showErrorFlag:function(y){var x=AJS.escapeHtml(y);return h.showErrorMsg("",x,{persistent:false})},removeIssue:function(x){return this.detailsLayout.removeIssue(x)},getIssueId:function(){return this.detailsLayout.getActiveIssueId()},getIssueKey:function(){return this.detailsLayout.getActiveIssueKey()},getProjectId:function(){return this.detailsLayout.getActiveProjectId()},getProjectKey:function(){return this.detailsLayout.getActiveProjectKey()},getProjectType:function(){return this.detailsLayout.getActiveProjectType()},getAPIImplementation:function(){var x=this;return{nextIssue:function(){g.startIssueSearch();return x.detailsLayout.selectNext()},previousIssue:function(){g.startIssueSearch();return x.detailsLayout.selectPrevious()},getActiveIssueId:function(){return x.getIssueId()},getActiveIssueKey:function(){return x.getIssueKey()},refreshActiveIssue:function(){g.startIssueSearch();var y=x.detailsLayout.getActiveIssueId();return x.detailsLayout.refreshIssue(y)},refreshIssue:function(y){g.startIssueSearch();return x.detailsLayout.refreshIssue(y)},editField:function(z){var y=x.detailsLayout.issueComponent.getFields();var A=y&&y.get(z);var B=A&&A.isEditable();if(B){x.detailsLayout.issueComponent.editField(A)}return B},getFields:function(){var y=x.detailsLayout.issueComponent.getFields();return y.length?y:undefined},isSaving:function(){return x.detailsLayout.issueComponent.hasSavesInProgress()},isLoading:function(){return x.detailsLayout.isLoading()},hasAccessibleIssue:function(){return Boolean(x.detailsLayout.searchResults&&x.detailsLayout.searchResults.length&&x.detailsLayout.searchResults.selected&&!x.detailsLayout.searchResults.selected.get("inaccessible"))},showLoadError:function(){return x.showErrorFlag(JIRA.Components.IssueViewer.Templates.Body.errorsLoading())},waitForSavesToComplete:function(){var z=new m.Deferred();if(!x.detailsLayout.issueComponent.hasSavesInProgress()){z.resolve()}else{var y=function(){v.defer(function(){if(!x.detailsLayout.issueComponent.hasSavesInProgress()){z.resolve()}})};x.once("editor:saveSuccess",y)}return z.promise()},openFocusShifter:function(){x.focusShifter.show()},toggleFullscreenIssue:function(){x.trigger("expand","kb-shortcut")}}},focusIssueList:function(){this.detailsLayout.focusList()},focusIssueEditor:function(){this.detailsLayout.focusEditor()}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/pages/issuesearch/views/Empty.js' */
define("jira/projectissuenavigator/pages/issuesearch/views/empty",["require"],function(a){var c=a("jira/projectissuenavigator/libs/marionette");var b=a("jira/projectissuenavigator/pages/issuesearch/templates");return c.LayoutView.extend({initialize:function(){this.content=this.options.emptyViewContent||b.defaultEmptyState()},template:b.emptyState,regions:{inlineIssueCreateContainer:".inline-issue-create-container"},serializeData:function(){return{content:this.content}},onRender:function(){this.unwrapTemplate()}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/entities/NavigatorState.js' */
define("jira/projectissuenavigator/entities/navigatorstate",["require"],function(b){var a=b("jira/projectissuenavigator/libs/underscore");var c=b("jira/projectissuenavigator/libs/backbone");return c.Model.extend({defaults:{project:undefined,issue:undefined,filter:undefined,orderby:undefined,searchResults:undefined,startIndex:undefined},update:function(d){a.each(d,function(f,e){if(f===null){this.unset(e)}else{if(f!==undefined){this.set(e,f)}}}.bind(this))}})});;
;
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/templates/amd-wrapper.js' */
define("jira/projectissuenavigator/templates",function(){return JIRA.Issues.Projects.Templates});define("jira/projectissuenavigator/pages/issuesearch/templates",function(){return JIRA.Issues.Projects.IssueSearch.Templates});define("jira/projectissuenavigator/pages/issueview/templates",function(){return JIRA.Issues.Projects.IssueView.Templates});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:commons_runtime', location = 'dist/runtime.2ea9b8ebd35f0596524c.js' */
/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	var parentJsonpFunction = window["jiraDevelopmentIntegrationPluginJsonp"];
/******/ 	window["jiraDevelopmentIntegrationPluginJsonp"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [], result;
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/ 		if(executeModules) {
/******/ 			for(i=0; i < executeModules.length; i++) {
/******/ 				result = __webpack_require__(__webpack_require__.s = executeModules[i]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	};
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// objects to store loaded and loading chunks
/******/ 	var installedChunks = {
/******/ 		"runtime": 0
/******/ 	};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData === 0) {
/******/ 			return new Promise(function(resolve) { resolve(); });
/******/ 		}
/******/
/******/ 		// a Promise means "currently loading".
/******/ 		if(installedChunkData) {
/******/ 			return installedChunkData[2];
/******/ 		}
/******/
/******/ 		// setup Promise in chunk cache
/******/ 		var promise = new Promise(function(resolve, reject) {
/******/ 			installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 		});
/******/ 		installedChunkData[2] = promise;
/******/
/******/ 		// start chunk loading
/******/ 		var head = document.getElementsByTagName('head')[0];
/******/
/******/ 		var WRMChildChunkIds = {"0":true,"1":true,"2":true,"3":true,"4":true,"5":true,"6":true,"7":true,"8":true,"9":true,"10":true,"11":true,"12":true,"13":true,"14":true};
/******/ 		if (WRMChildChunkIds[chunkId]) {
/******/ 		    WRM.require('wrc!com.atlassian.jira.plugins.jira-development-integration-plugin:' + chunkId)
/******/ 		    return promise;
/******/ 		}
/******/ 		var script = document.createElement('script');
/******/ 		script.type = 'text/javascript';
/******/ 		script.charset = 'utf-8';
/******/ 		script.async = true;
/******/ 		script.timeout = 120000;
/******/
/******/ 		if (__webpack_require__.nc) {
/******/ 			script.setAttribute("nonce", __webpack_require__.nc);
/******/ 		}
/******/ 		script.src = __webpack_require__.p + "" + ({"column-module":"column-module","devstatus-admin":"devstatus-admin","devstatus-admin-summary":"devstatus-admin-summary","devstatus-triggers":"devstatus-triggers","devstatus-view-issue":"devstatus-view-issue","releasereport":"releasereport","smart-commits":"smart-commits"}[chunkId]||chunkId) + "." + {"0":"6825172d3de56f8fe75d","1":"dc33a64c14e72190b4fa","2":"6ef8cba184f63661da7d","3":"4507d530691c3a53de25","4":"eb530ffc41f8e15a4b45","5":"c38b52758ec108bb98a6","6":"b89605e21423a081d987","7":"0ce9e40d2820bfa71df7","8":"64567d428119bc70457e","9":"4731de44e1f635bef8ff","10":"8fe3f79d315453699d36","11":"9696a01896bdeaedf9b1","12":"b774db5e64988590d35c","13":"c42da6ada5b8288f6a0b","14":"91df11ac76eb51e751ca","column-module":"8ef50e6cb5d90eb66cd2","devstatus-admin":"4fab471b01624918a400","devstatus-admin-summary":"f0721f96e26c1970a60d","devstatus-triggers":"67541c17affe2a758e8b","devstatus-view-issue":"db31d611e52e0febdb0b","releasereport":"1820c575819ee6422613","smart-commits":"736e9a39c16dd40e2e49"}[chunkId] + ".js";
/******/ 		var timeout = setTimeout(onScriptComplete, 120000);
/******/ 		script.onerror = script.onload = onScriptComplete;
/******/ 		function onScriptComplete() {
/******/ 			// avoid mem leaks in IE.
/******/ 			script.onerror = script.onload = null;
/******/ 			clearTimeout(timeout);
/******/ 			var chunk = installedChunks[chunkId];
/******/ 			if(chunk !== 0) {
/******/ 				if(chunk) {
/******/ 					chunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));
/******/ 				}
/******/ 				installedChunks[chunkId] = undefined;
/******/ 			}
/******/ 		};
/******/ 		head.appendChild(script);
/******/
/******/ 		return promise;
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/ 	if (typeof AJS !== "undefined") {
/******/ 	    __webpack_require__.p = AJS.contextPath() + "/download/resources/com.atlassian.jira.plugins.jira-development-integration-plugin:assets-DEV_PSEUDO_HASH/";
/******/ 	}
/******/ })
/************************************************************************/
/******/ ([]);
//# sourceMappingURL=runtime.2ea9b8ebd35f0596524c.js.map;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:entrypoint-devstatus-view-issue', location = 'dist/devstatus-view-issue.db31d611e52e0febdb0b.js' */
jiraDevelopmentIntegrationPluginJsonp(["devstatus-view-issue"],{

/***/ "./js/util/DevStatusNavigation.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

/**
 * This is an attempt to avoid direct interaction with the 'window' object in Javascript land.
 * This also includes all interactions with objects such as 'location' or 'document', because they are simply a reference
 *    from 'window.location' and 'window.document' respectively.
 *
 * There are 2 main reasons for doing this:
 * 1. To allow the JS code to be QUnit testable. 'window' object is not mock-able, hence does not respond well
 *    when testing modules that refresh or navigate away from the page.
 * 2. To avoid the incident where important JS events are not run when the browser navigates away from the current page.
 *    This will allow the currently queue-ed up events to be completed first before the browser trashes the Javascript state
 *    and navigates away.
 */
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__("jira.webresources:wrm-context-path/require('wrm/context-path')"), __webpack_require__("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')")], __WEBPACK_AMD_DEFINE_RESULT__ = function (wrmContextPath, _) {
    return {
        getUrl: function getUrl() {
            return window.location.href;
        },
        reload: function reload() {
            _.defer(function () {
                window.location.reload();
            });
        },
        navigate: function navigate(url) {
            _.defer(function () {
                window.location = url;
            });
        },
        redirectToLogin: function redirectToLogin() {
            this.navigate(wrmContextPath() + '/login.jsp?permissionViolation=true&os_destination=' + encodeURIComponent(window.location.href));
        }
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./js/util/DevStatusURLUtils.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__("jira.webresources:jquery/require('jquery')"), __webpack_require__("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"), __webpack_require__, __webpack_require__("jira.webresources:parse-uri/require('jira/libs/parse-uri')")], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, require, parseUri) {
    var devStatusNavigate = __webpack_require__("./js/util/DevStatusNavigation.js");
    return {
        getDetailDialogParam: function getDetailDialogParam() {
            var url = this._removeKickAssIHashFromUrl(devStatusNavigate.getUrl());
            var parsedUri = parseUri(url);
            return parsedUri && parsedUri.queryKey && parsedUri.queryKey['devStatusDetailDialog'];
        },
        getUrlWithDetailDialogParam: function getUrlWithDetailDialogParam(summaryType) {
            var currentUrl = this._removeKickAssIHashFromUrl(devStatusNavigate.getUrl());
            var parsedUri = parseUri(currentUrl);

            /**
            * Insert/replace devStatusDetailDialog param/query into the url
            */
            parsedUri.queryKey['devStatusDetailDialog'] = encodeURIComponent(summaryType);
            return this.createUrlFromParsedUri(parsedUri);
        },

        getCreateReviewDetailUrl: function getCreateReviewDetailUrl(applicationType) {
            return this.getUrlWithDetailDialogParam('create-review-' + applicationType);
        },

        isCreateReviewDetailDialogLink: function isCreateReviewDetailDialogLink(dialogToOpen) {
            return dialogToOpen && dialogToOpen.lastIndexOf && dialogToOpen.lastIndexOf('create-review-', 0) === 0;
        },

        getCreateReviewDetailDialogApplicationType: function getCreateReviewDetailDialogApplicationType(dialogToOpen) {
            return dialogToOpen.substring('create-review-'.length);
        },

        _removeKickAssIHashFromUrl: function _removeKickAssIHashFromUrl(url) {
            /**
            * In order to support single page app behaviour for issue nav/view issue in IE,
            * KickAss appended 'i#' prefix between the base URL and the KA url, because IE doesn't support push state
            * For example: http://localhost:2990/jira/i#browse/DEV-1
            *
            * parseUri and the logic in getUrlWithDetailDialogParam simply wouldn't work with an URL format like the above,
            * instead, we need to remove the i# prefix to get the regular non-IE-specific URL
            *
            * KA will automatically redirect from a regular URL to a i# url for IE.
            */
            return url.replace('i#', '');
        },
        /**
        * Copied from JIRA Agile.
        * See https://stash.atlassian.com/projects/JAG/repos/jira-agile/browse/greenhopper/src/main/resources/includes/js/lib/ajs-future.js#118
        *
        * Transformed the uri object from {@code parseUri} into url string
        *
        * @param uri object from {@code parseUri}
        * @returns {string}
        */
        createUrlFromParsedUri: function createUrlFromParsedUri(uri) {
            var params = [];
            $.each(uri.queryKey, function (name, value) {
                if (_.isObject(value)) {
                    $.each(value, function (index, innerVal) {
                        params.push(name + '=' + innerVal);
                    });
                } else {
                    params.push(name + '=' + value);
                }
            });

            var url = '';
            if (uri.protocol) {
                url += uri.protocol + '://';
            }
            if (uri.authority) {
                url += uri.authority;
            }
            if (uri.path) {
                url += uri.path;
            }
            if (params.length > 0) {
                url += '?' + params.join('&');
            }
            if (uri.anchor) {
                url += '#' + uri.anchor;
            }
            return url;
        }
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "./js/viewissue/DevStatusInit.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var devStatusStatePersist = __webpack_require__("./js/viewissue/DevStatusStatePersist.js");
var jQuery = __webpack_require__("jira.webresources:jquery/require('jquery')");

devStatusStatePersist.setDetailDialogParam();

jQuery(function () {
    return __webpack_require__.e/* require */(0).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__("./js/viewissue/DevStatusApp.js")]; (function (devStatusApp) {
        return devStatusApp.documentReadyInit(jQuery(document));
    }.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}).catch(__webpack_require__.oe);
});

/***/ }),

/***/ "./js/viewissue/DevStatusStatePersist.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__("jira.webresources:jira-metadata/require('jira/util/data/meta')"), __webpack_require__("./js/util/DevStatusURLUtils.js")], __WEBPACK_AMD_DEFINE_RESULT__ = function (Meta, devStatusURL) {
    return {
        setDetailDialogParam: function setDetailDialogParam() {
            /**
             * Attempt to get the summary type data from url parameter to automatically open the detail dialog.
             *
             * This is done on 'page load' as opposed to 'document ready' because KickAss will immediately strip off
             * non-KA parameter from the URL (the only KA parameter is jql and startIndex).
             *
             * Data is stored in AJS.Meta with key "fusion-open-detail-dialog", which will be later read by DevStatusModule
             * after all summary data has been loaded
             */
            Meta.set('fusion-open-detail-dialog', devStatusURL.getDetailDialogParam());
        }
    };
}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),

/***/ "jira.webresources:ajs-underscorejs-amd-shim/require('underscore')":
/***/ (function(module, exports) {

module.exports = require('underscore');

/***/ }),

/***/ "jira.webresources:jira-metadata/require('jira/util/data/meta')":
/***/ (function(module, exports) {

module.exports = require('jira/util/data/meta');

/***/ }),

/***/ "jira.webresources:jquery/require('jquery')":
/***/ (function(module, exports) {

module.exports = require('jquery');

/***/ }),

/***/ "jira.webresources:parse-uri/require('jira/libs/parse-uri')":
/***/ (function(module, exports) {

module.exports = require('jira/libs/parse-uri');

/***/ }),

/***/ "jira.webresources:wrm-context-path/require('wrm/context-path')":
/***/ (function(module, exports) {

module.exports = require('wrm/context-path');

/***/ })

},["./js/viewissue/DevStatusInit.js"]);
//# sourceMappingURL=devstatus-view-issue.db31d611e52e0febdb0b.js.map;
;
/* module-key = 'net.customware.plugins.connector.atlassian.jira-connector-plugin:mergetable-js', location = 'net/customware/plugins/connector/jira/action/customfield/mergetable.js' */
var $=AJS.$;$.fn.mergeTable=function(b){var e=function(g,h){var f=$(g).find(".mergeTable tbody");$(h).find("tr").each(function(j,k){f.append($(this)[0].outerHTML)});$(h).remove()};var d=$(b).find(".remotefieldheader").first();var a=$(b).find(".remotefieldbody").first();var c=$(b).find(".remotefieldfooter").first();if($(b+" .mergeTable").length===0){$(b).append('<table class="confluenceTable mergeTable"><tbody></tbody></table>')}e(b,d);e(b,a);e(b,c)};;
;
/* module-key = 'net.customware.plugins.connector.atlassian.jira-connector-plugin:commentbutton-js', location = 'net/customware/plugins/connector/jira/issue/comment/comment.js' */
AJS.$(function(){var b=AJS.$;function a(){b(".activity-comment .action-links").each(function(){var c=b(this);var d=c.parents(".activity-comment");if(c.find("a.connector-push-comment").length===0&&d.length>0){var e="publish-comment-"+d[0].id.substring(8)+"-trigger";c.append('<a href="#" title="Publish this comment to linked systems" class="connector-push-comment" id="'+e+'"></a>')}})}a();JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(f,c,d){if(d==="panelRefreshed"){a()}});b(document).on("click","a.connector-push-comment",function(e){e.preventDefault();var c=b(this);var g=c.parents(".activity-comment");if(g.length>0){var d=g[0].id.substring(8);var f=contextPath+"/plugins/servlet/customware/connector/comment/pushcomment.action?id="+d;var h="publish-comment-"+d+"-dialog";if(!JIRA.Dialogs[h]){JIRA.Dialogs[h]=new JIRA.FormDialog({id:h,trigger:"#publish-comment-"+d+"-trigger",url:f,handleRedirect:true,ajaxOptions:{data:{decorator:"dialog",inline:"true"},url:f},issueMsg:"connector_comment_pushed"});JIRA.Dialogs[h].show()}}})});;
;
/* module-key = 'net.customware.plugins.connector.atlassian.jira-connector-plugin:rol-refresh', location = 'net/customware/plugins/connector/jira/action/customfield/remotefield-expire-cache.js' */
AJS.$(function(){AJS.$("#details-module").append('<div class="button-spinner"></div>');var a=function(b){var c={cache:{system:b.attr("data-system"),key:b.attr("data-key"),object:b.attr("data-object"),id:b.attr("data-id")}};return JSON.stringify(c)};AJS.$.fn.expire=function(){var b=AJS.$(".button-spinner");var c=this;b.spin();AJS.$.ajax({type:"DELETE",url:contextPath+"/rest/customware/core/1.0/cache/expire",data:a(AJS.$(c)),contentType:"application/json",success:function(){window.location=window.location.href},error:function(){AJS.$("#cache_error_"+AJS.$(c).data("customfield")).removeClass("hidden").addClass("show");b.spinStop()}});return false}});;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:soy-resources', location = 'templates/soy/scheduled-issues-table.soy' */
// This file was automatically generated from scheduled-issues-table.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace TheScheduler.Templates.ScheduledIssueTable.
 */

if (typeof TheScheduler == 'undefined') { var TheScheduler = {}; }
if (typeof TheScheduler.Templates == 'undefined') { TheScheduler.Templates = {}; }
if (typeof TheScheduler.Templates.ScheduledIssueTable == 'undefined') { TheScheduler.Templates.ScheduledIssueTable = {}; }


TheScheduler.Templates.ScheduledIssueTable.scheduledIssueTable = function(opt_data, opt_ignored) {
  var output = '<div style="position:relative;"><table class="aui" id="scheduled-issues-table"><thead><tr><th class="select-column"></th><th class="name-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Name") + '">' + soy.$$escapeHtml("Name") + '</span></th><th class="state-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("State") + '">' + soy.$$escapeHtml("State") + '</span></th><th class="description-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Description") + '">' + soy.$$escapeHtml("Description") + '</span></th><th class="summary-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Summary") + '">' + soy.$$escapeHtml("Summary") + '</span></th><th class="project-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Project") + '">' + soy.$$escapeHtml("Project") + '</span></th><th class="issue-type-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Issue Type") + '">' + soy.$$escapeHtml("Issue Type") + '</span></th><th class="priority-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Priority") + '">' + soy.$$escapeHtml("Priority") + '</span></th><th class="reporter-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Reporter") + '">' + soy.$$escapeHtml("Reporter") + '</span></th><th class="assignee-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Assignee") + '">' + soy.$$escapeHtml("Assignee") + '</span></th><th class="created-by-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Created by") + '">' + soy.$$escapeHtml("Created by") + '</span></th><th class="created-at-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Created at") + '">' + soy.$$escapeHtml("Created at") + '</span></th><th class="modified-by-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Modified by") + '">' + soy.$$escapeHtml("Modified by") + '</span></th><th class="modified-at-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Modified at") + '">' + soy.$$escapeHtml("Modified at") + '</span></th><th class="prev-fire-time-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Previous Execution Time") + '">' + soy.$$escapeHtml("Previous Execution Time") + '</span></th><th class="next-fire-time-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Next Execution Time") + '">' + soy.$$escapeHtml("Next Execution Time") + '</span></th><th class="fire-count-column"><span class="scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Execution Count") + '">' + soy.$$escapeHtml("Execution Count") + '</span></th><th class="links-column">' + soy.$$escapeHtml("Links") + '</th><th class="shared-column">' + soy.$$escapeHtml("Shared with") + '</th><th class="triggers-column">' + soy.$$escapeHtml("Triggers") + '</th><th class="triggers-expressions-column">' + soy.$$escapeHtml("Triggers expressions") + '</th><th class="actions-column">' + soy.$$escapeHtml("Actions") + '</th></tr><tr class="filters-row"><th class="select-column"><input class="select-all" type="checkbox" value="select-all" /></th><th><form class="aui ajs-dirty-warning-exempt"><input type="text" data-column-index="1" class="table-filter" placeholder="' + soy.$$escapeHtml("Search...") + '" /></form></th><th><form class="aui ajs-dirty-warning-exempt"><select id="tsp-schedules-issues-list-filter-states" multiple="" data-column-index="2" data-not-exact-match="true" class="select-filter" placeholder="' + soy.$$escapeHtml("Search...") + '"></select></form></th><th><form class="aui ajs-dirty-warning-exempt"><input type="text" data-column-index="3" class="table-filter" placeholder="' + soy.$$escapeHtml("Search...") + '" /></form></th><th><form class="aui ajs-dirty-warning-exempt"><input type="text" data-column-index="4" class="table-filter" placeholder="' + soy.$$escapeHtml("Search...") + '" /></form></th><th><form class="aui ajs-dirty-warning-exempt"><select id="tsp-schedules-issues-list-filter-projects" multiple="" data-column-index="5" class="select-filter" placeholder="' + soy.$$escapeHtml("Search...") + '"></select></form></th><th><form class="aui ajs-dirty-warning-exempt"><select id="tsp-schedules-issues-list-filter-issue-types" multiple="" data-column-index="6" class="select-filter" placeholder="' + soy.$$escapeHtml("Search...") + '"></select></form></th><th><form class="aui ajs-dirty-warning-exempt"><select id="tsp-schedules-issues-list-filter-priorities" multiple="" data-column-index="7" class="select-filter" placeholder="' + soy.$$escapeHtml("Search...") + '"></select></form></th><th><form class="aui ajs-dirty-warning-exempt"><input type="text" data-column-index="8" class="table-filter" placeholder="' + soy.$$escapeHtml("Search...") + '" /></form></th><th><form class="aui ajs-dirty-warning-exempt"><input type="text" data-column-index="9" class="table-filter" placeholder="' + soy.$$escapeHtml("Search...") + '" /></form></th><th><form class="aui ajs-dirty-warning-exempt"><input type="text" data-column-index="10" class="table-filter" placeholder="' + soy.$$escapeHtml("Search...") + '" /></form></th><th></th><th><form class="aui ajs-dirty-warning-exempt"><input type="text" data-column-index="12" class="table-filter" placeholder="' + soy.$$escapeHtml("Search...") + '" /></form></th><th></th><th></th><th></th><th></th><th></th><th><form class="aui ajs-dirty-warning-exempt"><input type="text" data-column-index="18" class="table-filter" placeholder="' + soy.$$escapeHtml("Search...") + '" /></form></th><th></th><th></th><th></th></tr></thead><tbody>';
  var scheduledIssueList134 = opt_data.scheduledIssues;
  var scheduledIssueListLen134 = scheduledIssueList134.length;
  for (var scheduledIssueIndex134 = 0; scheduledIssueIndex134 < scheduledIssueListLen134; scheduledIssueIndex134++) {
    var scheduledIssueData134 = scheduledIssueList134[scheduledIssueIndex134];
    output += '<tr><td class="select-column">' + TheScheduler.Templates.ScheduledIssueTable.selectColumn(opt_data) + '</td><td class="name-column">' + TheScheduler.Templates.ScheduledIssueTable.nameColumn(opt_data) + '</td><td class="description-column">' + TheScheduler.Templates.ScheduledIssueTable.descriptionColumn(opt_data) + '</td><td class="summary-column">' + TheScheduler.Templates.ScheduledIssueTable.summaryColumn(opt_data) + '</td><td class="project-column">' + TheScheduler.Templates.ScheduledIssueTable.projectColumn(opt_data) + '</td><td class="issue-type-column">' + TheScheduler.Templates.ScheduledIssueTable.issueTypeColumn(opt_data) + '</td><td class="priority-column">' + TheScheduler.Templates.ScheduledIssueTable.priorityColumn(opt_data) + '</td><td class="reporter-column">' + TheScheduler.Templates.ScheduledIssueTable.reporterColumn(opt_data) + '</td><td class="assignee-column">' + TheScheduler.Templates.ScheduledIssueTable.assigneeColumn(opt_data) + '</td><td class="created-by-column">' + TheScheduler.Templates.ScheduledIssueTable.createdByColumn(opt_data) + '</td><td class="created-at-column">' + TheScheduler.Templates.ScheduledIssueTable.createdAtColumn(opt_data) + '</td><td class="modified-by-column">' + TheScheduler.Templates.ScheduledIssueTable.modifiedByColumn(opt_data) + '</td><td class="modified-at-column">' + TheScheduler.Templates.ScheduledIssueTable.modifiedAtColumn(opt_data) + '</td><td class="prev-fire-time-column">' + TheScheduler.Templates.ScheduledIssueTable.prevFireTimeColumn(opt_data) + '</td><td class="next-fire-time-column">' + TheScheduler.Templates.ScheduledIssueTable.nextFireTimeColumn(opt_data) + '</td><td class="fire-count-column">' + TheScheduler.Templates.ScheduledIssueTable.fireCountColumn(opt_data) + '</td><td class="created-issues-column">' + TheScheduler.Templates.ScheduledIssueTable.createdIssuesColumn(opt_data) + '</td><td class="links-column">' + TheScheduler.Templates.ScheduledIssueTable.linksColumn(opt_data) + '</td><td class="shared-column">' + TheScheduler.Templates.ScheduledIssueTable.sharedColumn(opt_data) + '</td><td class="triggers-column">' + TheScheduler.Templates.ScheduledIssueTable.triggersColumn(opt_data) + '</td><td class="triggers-expressions-column">' + TheScheduler.Templates.ScheduledIssueTable.triggersExpressionsColumn(opt_data) + '</td><td class="actions-column">' + TheScheduler.Templates.ScheduledIssueTable.actionsColumn(opt_data) + '</td></tr>';
  }
  output += '</tbody></table><div id="scheduled-issues-table-blanket" class="the-scheduler-blanket"><center><div class="aui-icon aui-icon-wait" style="margin-top:42px"></div></center></div></div>';
  return output;
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.scheduledIssueTable.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.scheduledIssueTable';
}


TheScheduler.Templates.ScheduledIssueTable.selectColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.scheduledIssue.hasManagePermission) ? '<input class="select-one" type="checkbox" value="' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" />' : '');
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.selectColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.selectColumn';
}


TheScheduler.Templates.ScheduledIssueTable.nameColumn = function(opt_data, opt_ignored) {
  return '<div class="scheduled-issues-sortable-hidden-value">' + soy.$$escapeHtml(opt_data.scheduledIssue.name) + '</div><span style="margin-right: 10px;">' + ((opt_data.manageScheduledJobs) ? '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/secure/ManageScheduledJob!default.jspa?scheduledJobId=' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" >' + soy.$$escapeHtml(opt_data.scheduledIssue.name) + '</a>' : (opt_data.scheduledIssue.hasManagePermission) ? '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/projects/' + soy.$$escapeHtml(opt_data.scheduledIssue.projectKey) + '?selectedItem=pl.com.tt.jira.plugin.theschedulerpro:scheduled-issues-project-tab-panel-link&scheduledJobId=' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" >' + soy.$$escapeHtml(opt_data.scheduledIssue.name) + '</a>' : soy.$$escapeHtml(opt_data.scheduledIssue.name)) + '</span>' + ((opt_data.scheduledIssue.subtasksCount > 0) ? '<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-complete">' + soy.$$escapeHtml(AJS.format("{0} subtask(s)",opt_data.scheduledIssue.subtasksCount)) + '</span>' : '');
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.nameColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.nameColumn';
}


TheScheduler.Templates.ScheduledIssueTable.stateColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.scheduledIssue.state == 'ACTIVE') ? '<span class="aui-lozenge aui-lozenge-success">' + soy.$$escapeHtml("ACTIVE") + '</span>' : (opt_data.scheduledIssue.state == 'INACTIVE') ? '<span class="aui-lozenge">' + soy.$$escapeHtml("INACTIVE") + '</span>' : (opt_data.scheduledIssue.state == 'INVALID') ? '<span class="aui-lozenge aui-lozenge-error errors-tooltip-enabled tooltip-performance" id="errors-tooltip-' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '">' + soy.$$escapeHtml("INVALID") + '</span>' + ((opt_data.scheduledIssue.hasManagePermission) ? ((opt_data.scheduledIssue.validationResult.subtaskConfigValid == false && opt_data.scheduledIssue.createAsSubtask == false) ? '<a style="margin-left:5px;" href="' + soy.$$escapeHtml(opt_data.contextPath) + '/projects/' + soy.$$escapeHtml(opt_data.scheduledIssue.projectKey) + '?selectedItem=pl.com.tt.jira.plugin.theschedulerpro:scheduled-issues-project-tab-panel-link&scheduledJobId=' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" class="edit-link">' : '<a style="margin-left:5px;" href="' + soy.$$escapeHtml(opt_data.contextPath) + '/secure/pl.com.tt.thescheduler.EditScheduledIssue!default.jspa?scheduledIssueId=' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + ((opt_data.manageScheduledJobs) ? '&$manageScheduledJobs=true' : '') + '" class="edit-link">') + '<span class="aui-icon aui-icon-small aui-iconfont-edit">Edit</span><span>' + soy.$$escapeHtml("Fix ") + '</span></a>' : '') : (opt_data.scheduledIssue.state == 'EXPIRED') ? '<span class="aui-lozenge aui-lozenge-current">' + soy.$$escapeHtml("EXPIRED") + '</span>' : (opt_data.scheduledIssue.state == 'PENDING') ? '<span class="aui-lozenge aui-lozenge-complete">' + soy.$$escapeHtml("PENDING") + '</span>' : (opt_data.scheduledIssue.state == 'CALENDAR_DAY_OFF') ? '<span class="aui-lozenge aui-lozenge-current">' + soy.$$escapeHtml("CALENDAR DAY OFF") + '</span>' : '');
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.stateColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.stateColumn';
}


TheScheduler.Templates.ScheduledIssueTable.descriptionColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.scheduledIssue.description) ? soy.$$escapeHtml(opt_data.scheduledIssue.description) : '<span class="not-applicable-element">' + soy.$$escapeHtml("None") + '</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.descriptionColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.descriptionColumn';
}


TheScheduler.Templates.ScheduledIssueTable.summaryColumn = function(opt_data, opt_ignored) {
  return '' + soy.$$escapeHtml(opt_data.scheduledIssue.summary);
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.summaryColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.summaryColumn';
}


TheScheduler.Templates.ScheduledIssueTable.performanceWarningMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-message aui-message-warning" id="scheduled-issues-table-warning-message" style="display: none;"><p class="title scheduler-tooltip-enabled help-cursor">' + soy.$$escapeHtml("Performance warning") + '</p><p>' + soy.$$escapeHtml("Some trigger intervals can lead to JIRA performance issues.") + '</p></div>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.performanceWarningMessage.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.performanceWarningMessage';
}


TheScheduler.Templates.ScheduledIssueTable.errorsTooltip = function(opt_data, opt_ignored) {
  var output = '<style type="text/css">\n\t\tol.errors-tooltip {\n\t\t\tlist-style-type: decimal-leading-zero;\n\t\t    list-style-position: inside;\n\t\t    padding-left: 0px;\n\t\t    text-align: left;\n\t\t}\n\t\t/*.tipsy-inner {\n\t\t\tmax-width: none;\n\t\t}*/\n\t\t</style><ol class="errors-tooltip">';
  var errorFieldList288 = soy.$$getMapKeys(opt_data.validationResult.errors);
  var errorFieldListLen288 = errorFieldList288.length;
  for (var errorFieldIndex288 = 0; errorFieldIndex288 < errorFieldListLen288; errorFieldIndex288++) {
    var errorFieldData288 = errorFieldList288[errorFieldIndex288];
    output += '<li>' + soy.$$escapeHtml(errorFieldData288) + ': ' + soy.$$escapeHtml(opt_data.validationResult.errors[errorFieldData288]) + '</li>';
  }
  var errorMessageList295 = opt_data.validationResult.errorMessages;
  var errorMessageListLen295 = errorMessageList295.length;
  for (var errorMessageIndex295 = 0; errorMessageIndex295 < errorMessageListLen295; errorMessageIndex295++) {
    var errorMessageData295 = errorMessageList295[errorMessageIndex295];
    output += '<li>' + soy.$$escapeHtml(errorMessageData295) + '</li>';
  }
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.errorsTooltip.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.errorsTooltip';
}


TheScheduler.Templates.ScheduledIssueTable.warningsTooltip = function(opt_data, opt_ignored) {
  return '<style type="text/css">\n\t\tol.warnings-tooltip {\n\t\t\tlist-style-type: decimal-leading-zero;\n\t\t    list-style-position: inside;\n\t\t    padding-left: 0px;\n\t\t    text-align: left;\n\t\t}\n\t\t/*.tipsy-inner {\n\t\t\tmax-width: none;\n\t\t}*/\n\t\t</style><ol class="warnings-tooltip">' + soy.$$escapeHtml(opt_data.message) + '</ol>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.warningsTooltip.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.warningsTooltip';
}


TheScheduler.Templates.ScheduledIssueTable.prevFireTimeColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.scheduledIssue.prevFireTime) ? '<span class="scheduled-issues-timestamp">' + soy.$$escapeHtml(opt_data.scheduledIssue.prevFireTime) + '</span>' + soy.$$escapeHtml(opt_data.scheduledIssue.prevFireTimeFormatted) : '<span class="scheduled-issues-timestamp">0000000000000</span>Never Fired');
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.prevFireTimeColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.prevFireTimeColumn';
}


TheScheduler.Templates.ScheduledIssueTable.nextFireTimeColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.scheduledIssue.nextFireTime && opt_data.scheduledIssue.disabled == false) ? '<span class="scheduled-issues-timestamp">' + soy.$$escapeHtml(opt_data.scheduledIssue.nextFireTime) + '</span>' + soy.$$escapeHtml(opt_data.scheduledIssue.nextFireTimeFormatted) : '<span class="scheduled-issues-timestamp">0000000000000</span><span class="not-applicable-element">N/A</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.nextFireTimeColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.nextFireTimeColumn';
}


TheScheduler.Templates.ScheduledIssueTable.fireCountColumn = function(opt_data, opt_ignored) {
  return '<span class="scheduled-issues-sortable-hidden-value">' + soy.$$escapeHtml(opt_data.scheduledIssue.fireCount + 1000000) + '</span><span class="aui-badge">' + soy.$$escapeHtml(opt_data.scheduledIssue.fireCount) + '</span>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.fireCountColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.fireCountColumn';
}


TheScheduler.Templates.ScheduledIssueTable.linksColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.scheduledIssue.createLinked == 'None') ? '<span class="not-applicable-element">' + soy.$$escapeHtml(opt_data.scheduledIssue.createLinked) + '</span>' : '<span class="aui-lozenge aui-lozenge-complete">' + soy.$$escapeHtml(opt_data.scheduledIssue.createLinked) + '</span> <span class="aui-lozenge aui-lozenge-moved aui-lozenge-subtle">' + soy.$$escapeHtml(opt_data.scheduledIssue.createLinkedType) + '</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.linksColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.linksColumn';
}


TheScheduler.Templates.ScheduledIssueTable.sharedColumn = function(opt_data, opt_ignored) {
  var output = '';
  var share__soy342 = opt_data.scheduledIssue.scheduledIssueShareBean;
  output += '<ul>';
  if (share__soy342.everyone == true) {
    output += '<li><strong>' + soy.$$escapeHtml("Everyone") + '</strong></li>';
  } else {
    output += (share__soy342.lead == true) ? '<li><strong>' + soy.$$escapeHtml("Project Lead") + '</strong></li>' : '';
    if (share__soy342.roles) {
      output += '<li><strong>Roles: </strong>';
      var roleList358 = share__soy342.roles;
      var roleListLen358 = roleList358.length;
      for (var roleIndex358 = 0; roleIndex358 < roleListLen358; roleIndex358++) {
        var roleData358 = roleList358[roleIndex358];
        output += soy.$$escapeHtml(roleData358) + ((! (roleIndex358 == roleListLen358 - 1)) ? ', ' : '');
      }
      output += '</li>';
    }
    if (share__soy342.users) {
      output += '<li><strong>Users: </strong>';
      var userList368 = share__soy342.users;
      var userListLen368 = userList368.length;
      for (var userIndex368 = 0; userIndex368 < userListLen368; userIndex368++) {
        var userData368 = userList368[userIndex368];
        output += soy.$$escapeHtml(userData368) + ((! (userIndex368 == userListLen368 - 1)) ? ', ' : '');
      }
      output += '</li>';
    }
    if (share__soy342.groups) {
      output += '<li><strong>Groups: </strong>';
      var groupList378 = share__soy342.groups;
      var groupListLen378 = groupList378.length;
      for (var groupIndex378 = 0; groupIndex378 < groupListLen378; groupIndex378++) {
        var groupData378 = groupList378[groupIndex378];
        output += soy.$$escapeHtml(groupData378) + ((! (groupIndex378 == groupListLen378 - 1)) ? ', ' : '');
      }
      output += '</li>';
    }
    output += (! share__soy342.lead && ! share__soy342.roles && ! share__soy342.users && ! share__soy342.groups) ? '<span class="not-applicable-element">' + soy.$$escapeHtml("Not Shared") + '</span>' : '';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.sharedColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.sharedColumn';
}


TheScheduler.Templates.ScheduledIssueTable.triggersColumn = function(opt_data, opt_ignored) {
  var output = ((opt_data.scheduledIssue.calendar) ? (opt_data.scheduledIssue.calendar.calendarType == 'PROJECT') ? '<span class="aui-lozenge aui-lozenge-complete calendar-link">' + soy.$$escapeHtml("Project Calendar") + ': ' + soy.$$escapeHtml(opt_data.scheduledIssue.calendar.name) + '</span>' : (opt_data.scheduledIssue.calendar.calendarType == 'GLOBAL') ? '<span class="aui-lozenge aui-lozenge-complete calendar-link">' + soy.$$escapeHtml("Global Calendar") + ': ' + soy.$$escapeHtml(opt_data.scheduledIssue.calendar.name) + '</span>' : '' : '') + '<ul>';
  var triggerList408 = opt_data.scheduledIssue.triggers;
  var triggerListLen408 = triggerList408.length;
  if (triggerListLen408 > 0) {
    for (var triggerIndex408 = 0; triggerIndex408 < triggerListLen408; triggerIndex408++) {
      var triggerData408 = triggerList408[triggerIndex408];
      output += ((triggerIndex408 < 2) ? '<li>' : '<li style="display: none;">') + '<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-complete cron-expression-summary scheduler-tooltip-enabled  help-cursor" title="' + soy.$$escapeHtml(triggerData408.triggerExpression) + '">' + soy.$$escapeHtml(triggerData408.triggerExpressionSummary) + ', <i>' + soy.$$escapeHtml(triggerData408.timeZoneFormatted) + '</i></span>' + ((triggerData408.startDateFormatted || triggerData408.endDateFormatted) ? '<span title="' + ((triggerData408.startDateFormatted) ? soy.$$escapeHtml("Starts at") + ' ' + soy.$$escapeHtml(triggerData408.startDateFormatted) + '; ' : '') + ((triggerData408.endDateFormatted) ? soy.$$escapeHtml("Ends at") + ' ' + soy.$$escapeHtml(triggerData408.endDateFormatted) + '; ' : '') + ((triggerData408.startDateFormatted || triggerData408.endDateFormatted) ? soy.$$escapeHtml(triggerData408.timeZoneFormatted) : '') + '" class=\'aui-icon aui-icon-small aui-iconfont-calendar help-cursor scheduler-tooltip-enabled  help-cursor\'>help</span>' : '') + '</li>';
    }
  } else {
    output += '<li class="not-applicable-element">' + soy.$$escapeHtml("There are no triggers configured") + '</li>';
  }
  output += ((opt_data.scheduledIssue.triggers.length > 2) ? '<li class="expand-triggers"><a href="#">' + soy.$$escapeHtml("Expand...") + ' </a><span class="aui-badge">' + soy.$$escapeHtml(opt_data.scheduledIssue.triggers.length - 2) + '</span></li><li class="collapse-triggers" style="display: none;"><a href="#">' + soy.$$escapeHtml("Collapse...") + ' </a></li>' : '') + '</ul>';
  return output;
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.triggersColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.triggersColumn';
}


TheScheduler.Templates.ScheduledIssueTable.triggersExpressionsColumn = function(opt_data, opt_ignored) {
  var output = ((opt_data.scheduledIssue.calendar) ? (opt_data.scheduledIssue.calendar.calendarType == 'PROJECT') ? '<span class="aui-lozenge aui-lozenge-complete calendar-link">' + soy.$$escapeHtml("Project Calendar") + ': ' + soy.$$escapeHtml(opt_data.scheduledIssue.calendar.name) + '</span>' : (opt_data.scheduledIssue.calendar.calendarType == 'GLOBAL') ? '<span class="aui-lozenge aui-lozenge-complete calendar-link">' + soy.$$escapeHtml("Global Calendar") + ': ' + soy.$$escapeHtml(opt_data.scheduledIssue.calendar.name) + '</span>' : '' : '') + '<ul>';
  var triggerList475 = opt_data.scheduledIssue.triggers;
  var triggerListLen475 = triggerList475.length;
  if (triggerListLen475 > 0) {
    for (var triggerIndex475 = 0; triggerIndex475 < triggerListLen475; triggerIndex475++) {
      var triggerData475 = triggerList475[triggerIndex475];
      output += ((triggerIndex475 < 2) ? '<li>' : '<li style="display: none;">') + '<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-complete cron-expression-summary scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml(triggerData475.triggerExpressionSummary) + ', ' + soy.$$escapeHtml(triggerData475.timeZoneFormatted) + '">' + soy.$$escapeHtml(triggerData475.triggerExpression) + '</span>' + ((triggerData475.startDateFormatted || triggerData475.endDateFormatted) ? '<span title="' + ((triggerData475.startDateFormatted) ? soy.$$escapeHtml("Starts at") + ' ' + soy.$$escapeHtml(triggerData475.startDateFormatted) + '; ' : '') + ((triggerData475.endDateFormatted) ? soy.$$escapeHtml("Ends at") + ' ' + soy.$$escapeHtml(triggerData475.endDateFormatted) : '') + '" class=\'aui-icon aui-icon-small aui-iconfont-calendar help-cursor scheduler-tooltip-enabled help-cursor\'>help</span>' : '') + '</li>';
    }
  } else {
    output += '<li class="not-applicable-element">' + soy.$$escapeHtml("There are no triggers configured") + '</li>';
  }
  output += ((opt_data.scheduledIssue.triggers.length > 2) ? '<li class="expand-triggers"><a href="#">' + soy.$$escapeHtml("Expand...") + ' </a><span class="aui-badge">' + soy.$$escapeHtml(opt_data.scheduledIssue.triggers.length - 2) + '</span></li><li class="collapse-triggers" style="display: none;"><a href="#">' + soy.$$escapeHtml("Collapse...") + ' </a></li>' : '') + '</ul>';
  return output;
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.triggersExpressionsColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.triggersExpressionsColumn';
}


TheScheduler.Templates.ScheduledIssueTable.actionsColumn = function(opt_data, opt_ignored) {
  return ((opt_data.scheduledIssue.triggerPerformanceIssues) ? '<span class="aui-lozenge aui-lozenge-current warnings-tooltip-enabled tooltip-performance" id="warnings-tooltip-' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '">!</span>' : '<span class="aui-lozenge aui-lozenge-current warnings-tooltip-disabled tooltip-performance" id="warnings-tooltip-' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '">!</span>') + '<ul class="operations-list"><li><span class="aui-icon aui-icon-wait" style="margin-right: 5px; visibility: hidden;">' + soy.$$escapeHtml("Firing scheduled issue...") + '</span>' + ((opt_data.scheduledIssue.validationResult.valid && opt_data.scheduledIssue.hasManagePermission) ? '<a class="fire-link scheduler-tooltip-enabled" title="' + soy.$$escapeHtml("Run this scheduled issue now") + '" href="' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" siname="' + soy.$$escapeHtml(opt_data.scheduledIssue.name) + '" >' + soy.$$escapeHtml("Execute") + '</a>' : '<span class="not-applicable-element" >' + soy.$$escapeHtml("Execute") + '</span>') + '</li><li><a class="more-link aui-dropdown2-trigger aui-style-default" style="padding-right: 0px !important;" href="#more-link-' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" aria-owns="more-link-' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" aria-haspopup="true" data-container="more-link-' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '">' + soy.$$escapeHtml("More") + '</a><div id="more-link-' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" class="aui-dropdown2 aui-style-default actions-dropdown"><ul class="aui-list-truncate" style="border-bottom: 1px solid #CCC;"><li><a href="' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" name="show-created-issues" class="view-issues">' + soy.$$escapeHtml("Show created issues") + '</span></a></li><li><a class="show-future-fires-link" href="' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '">' + soy.$$escapeHtml("Show upcoming issues") + '</a></li></ul><ul class="aui-list-truncate"><li>' + ((opt_data.scheduledIssue.hasManagePermission) ? '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/secure/pl.com.tt.thescheduler.EditScheduledIssue!default.jspa?scheduledIssueId=' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + ((opt_data.manageScheduledJobs) ? '&manageScheduledJobs=true' : '') + '" class="edit-link"><span>' + soy.$$escapeHtml("Edit") + '</span></a>' : '<span class="not-applicable-element">' + soy.$$escapeHtml("Edit") + '</span>') + '</li><li>' + ((opt_data.scheduledIssue.hasSharePermission) ? '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/secure/ShareScheduledIssue!default.jspa?scheduledIssueId=' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" class="edit-link"><span>' + soy.$$escapeHtml("Manage Access") + '</span></a>' : '<span class="not-applicable-element">' + soy.$$escapeHtml("Manage Access") + '</span>') + '</li><li>' + ((opt_data.scheduledIssue.hasManagePermission) ? (opt_data.scheduledIssue.disabled) ? '<a href="' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" class="enable-link"><span>' + soy.$$escapeHtml("Enable") + '</span></a>' : '<a href="' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" class="disable-link"><span>' + soy.$$escapeHtml("Disable") + '</span></a>' : (opt_data.scheduledIssue.disabled) ? '<span class="not-applicable-element">' + soy.$$escapeHtml("Enable") + '</span>' : '<span class="not-applicable-element">' + soy.$$escapeHtml("Disable") + '</span>') + '</li><li>' + ((opt_data.scheduledIssue.hasClonePermission) ? '<a href="' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" class="clone-link"><span>' + soy.$$escapeHtml("Clone") + '</span></a>' : '<span class="not-applicable-element">' + soy.$$escapeHtml("Clone") + '</span>') + '</li><li>' + ((opt_data.scheduledIssue.hasManagePermission) ? '<a href="' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '" class="delete-link"><span>' + soy.$$escapeHtml("Delete") + '</span></a>' : '<span class="not-applicable-element">' + soy.$$escapeHtml("Delete") + '</span>') + '</li></ul></div></li></ul>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.actionsColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.actionsColumn';
}


TheScheduler.Templates.ScheduledIssueTable.projectColumn = function(opt_data, opt_ignored) {
  return '' + soy.$$escapeHtml(opt_data.scheduledIssue.projectName);
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.projectColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.projectColumn';
}


TheScheduler.Templates.ScheduledIssueTable.issueTypeColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.scheduledIssue.issueTypeName) ? '<img src="' + soy.$$escapeHtml(opt_data.scheduledIssue.issueTypeIcon) + '" class="scheduler-tooltip-enabled" style="vertical-align: text-bottom; margin-right: 3px;" height="16" width="16" border="0" align="absmiddle" alt="' + soy.$$escapeHtml(opt_data.scheduledIssue.issueTypeName) + '" title="' + soy.$$escapeHtml(opt_data.scheduledIssue.issueTypeName) + '">' + soy.$$escapeHtml(opt_data.scheduledIssue.issueTypeName) : '<img src="' + soy.$$escapeHtml(opt_data.contextPath) + '/images/icons/issuetypes/undefined.png" class="scheduler-tooltip-enabled" style="vertical-align: text-bottom;  margin-right: 3px;" height="16" width="16" border="0" align="absmiddle" alt="' + soy.$$escapeHtml("N/A") + '" title="' + soy.$$escapeHtml("N/A") + '">' + soy.$$escapeHtml("N/A"));
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.issueTypeColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.issueTypeColumn';
}


TheScheduler.Templates.ScheduledIssueTable.priorityColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.scheduledIssue.priorityName) ? '<img src="' + soy.$$escapeHtml(opt_data.scheduledIssue.priorityIcon) + '" class="scheduler-tooltip-enabled" style="vertical-align: text-bottom;  margin-right: 3px;" height="16" width="16" border="0" align="absmiddle" alt="' + soy.$$escapeHtml(opt_data.scheduledIssue.priorityName) + '" title="' + soy.$$escapeHtml(opt_data.scheduledIssue.priorityName) + '">' + soy.$$escapeHtml(opt_data.scheduledIssue.priorityName) : soy.$$escapeHtml("N/A"));
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.priorityColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.priorityColumn';
}


TheScheduler.Templates.ScheduledIssueTable.reporterColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.scheduledIssue.reporter) ? '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/secure/ViewProfile.jspa?name=' + soy.$$escapeHtml(opt_data.scheduledIssue.reporter) + '">' + soy.$$escapeHtml(opt_data.scheduledIssue.reporterFullName) + '</a>' : '<span class="aui-lozenge aui-lozenge-current warnings-tooltip-enabled tooltip-reporter" id="warnings-tooltip-' + soy.$$escapeHtml(opt_data.scheduledIssue.id) + '">!</span><a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/secure/ViewProfile.jspa?name=' + soy.$$escapeHtml(opt_data.scheduledIssue.creator) + '">' + soy.$$escapeHtml(opt_data.scheduledIssue.createdByFullName) + '</a>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.reporterColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.reporterColumn';
}


TheScheduler.Templates.ScheduledIssueTable.assigneeColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.scheduledIssue.assignee == '-2') ? '<span>' + soy.$$escapeHtml("Unassigned") + '</span>' : (opt_data.scheduledIssue.assignee == '-1') ? '<span>' + soy.$$escapeHtml("Automatic") + '</span>' : (opt_data.scheduledIssue.assignee) ? '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/secure/ViewProfile.jspa?name=' + soy.$$escapeHtml(opt_data.scheduledIssue.assignee) + '">' + soy.$$escapeHtml(opt_data.scheduledIssue.assigneeFullName) + '</a>' : '<span class="not-applicable-element">N/A</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.assigneeColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.assigneeColumn';
}


TheScheduler.Templates.ScheduledIssueTable.createdByColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.scheduledIssue.createdBy) ? '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/secure/ViewProfile.jspa?name=' + soy.$$escapeHtml(opt_data.scheduledIssue.createdBy) + '">' + soy.$$escapeHtml(opt_data.scheduledIssue.createdByFullName) + '</a>' : '<span class="not-applicable-element">N/A</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.createdByColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.createdByColumn';
}


TheScheduler.Templates.ScheduledIssueTable.createdAtColumn = function(opt_data, opt_ignored) {
  return '<span class="scheduled-issues-timestamp">' + soy.$$escapeHtml(opt_data.scheduledIssue.createdAt) + '</span>' + soy.$$escapeHtml(opt_data.scheduledIssue.createdAtFormatted);
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.createdAtColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.createdAtColumn';
}


TheScheduler.Templates.ScheduledIssueTable.modifiedByColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.scheduledIssue.modifiedBy) ? '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/secure/ViewProfile.jspa?name=' + soy.$$escapeHtml(opt_data.scheduledIssue.modifiedBy) + '">' + soy.$$escapeHtml(opt_data.scheduledIssue.modifiedByFullName) + '</a>' : '<span class="not-applicable-element">N/A</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.modifiedByColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.modifiedByColumn';
}


TheScheduler.Templates.ScheduledIssueTable.modifiedAtColumn = function(opt_data, opt_ignored) {
  return '<span class="scheduled-issues-timestamp">' + soy.$$escapeHtml(opt_data.scheduledIssue.modifiedAt) + '</span>' + soy.$$escapeHtml(opt_data.scheduledIssue.modifiedAtFormatted);
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.modifiedAtColumn.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.modifiedAtColumn';
}


TheScheduler.Templates.ScheduledIssueTable.deleteScheduledIssueDialog = function(opt_data, opt_ignored) {
  return '<form method="post" class="aui" action="#"><div class="aui-message warning" style="margin-top: -10px;"><span class="aui-icon icon-warning"></span><p>Do you really want to delete this scheduled issue?</p></div></form><div id="delete-real-issues-checkbox" class="checkbox" style="float: left; height: 30px; line-height: 30px; display: none;"><input class="checkbox" type="checkbox" name="cbOne" id="cbOne"><label for="cbOne">Delete real issues as well.</label></div><span id="delete-scheduled-issue-progress" class="aui-icon aui-icon-wait" style="margin-right: 10px; visibility: hidden;">Deleting scheduled issue...</span>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.deleteScheduledIssueDialog.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.deleteScheduledIssueDialog';
}


TheScheduler.Templates.ScheduledIssueTable.deleteSelectedScheduledIssuesDialog = function(opt_data, opt_ignored) {
  return '';
};
if (goog.DEBUG) {
  TheScheduler.Templates.ScheduledIssueTable.deleteSelectedScheduledIssuesDialog.soyTemplateName = 'TheScheduler.Templates.ScheduledIssueTable.deleteSelectedScheduledIssuesDialog';
}
;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:soy-resources', location = 'templates/soy/si-subtasks-table.soy' */
// This file was automatically generated from si-subtasks-table.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace TheScheduler.Templates.SISubtaskTable.
 */

if (typeof TheScheduler == 'undefined') { var TheScheduler = {}; }
if (typeof TheScheduler.Templates == 'undefined') { TheScheduler.Templates = {}; }
if (typeof TheScheduler.Templates.SISubtaskTable == 'undefined') { TheScheduler.Templates.SISubtaskTable = {}; }


TheScheduler.Templates.SISubtaskTable.siSubtaskTable = function(opt_data, opt_ignored) {
  var output = '<table class="aui" id="si-subtask-table"><thead><tr><th class="index-column"></th><th class="summary-column">' + soy.$$escapeHtml("Summary") + '</th><th class="subtask-type-column">' + soy.$$escapeHtml("Issue Type") + '</th><th class="priority-column">' + soy.$$escapeHtml("Priority") + '</th><th class="assignee-column">' + soy.$$escapeHtml("Assignee") + '</th><th class="sequence-column"></th><th class="actions-column"></th><th class="sequence-number-column"></th></tr></thead><tbody>';
  var subtaskList12 = opt_data.siSubtasks;
  var subtaskListLen12 = subtaskList12.length;
  if (subtaskListLen12 > 0) {
    for (var subtaskIndex12 = 0; subtaskIndex12 < subtaskListLen12; subtaskIndex12++) {
      var subtaskData12 = subtaskList12[subtaskIndex12];
      output += '<tr><td class="index-column"></td><td class="summary-column">' + TheScheduler.Templates.SISubtaskTable.summaryColumn({subtask: subtaskData12}) + '</td><td class="subtask-type-column">' + TheScheduler.Templates.SISubtaskTable.subtaskTypeColumn({subtask: subtaskData12, contextPath: opt_data.contextPath}) + '</td><td class="priority-column">' + TheScheduler.Templates.SISubtaskTable.priorityColumn({subtask: subtaskData12, contextPath: opt_data.contextPath}) + '</td><td class="assignee-column">' + TheScheduler.Templates.SISubtaskTable.assigneeColumn({subtask: subtaskData12, contextPath: opt_data.contextPath}) + '</td><td class="sequence-column">' + TheScheduler.Templates.SISubtaskTable.sequenceColumn({subtask: subtaskData12}) + '</td><td class="delete-link-column">' + TheScheduler.Templates.SISubtaskTable.deleteLinkColumn({subtask: subtaskData12}) + '</td><td class="sequence-number-column"></td></tr>';
    }
  } else {
    output += '<tr><td colspan="15">' + soy.$$escapeHtml("There are no Sub-Tasks for this Scheduled Issue") + '</td></tr>';
  }
  output += '</tbody></table>';
  return output;
};
if (goog.DEBUG) {
  TheScheduler.Templates.SISubtaskTable.siSubtaskTable.soyTemplateName = 'TheScheduler.Templates.SISubtaskTable.siSubtaskTable';
}


TheScheduler.Templates.SISubtaskTable.summaryColumn = function(opt_data, opt_ignored) {
  return '' + soy.$$escapeHtml(opt_data.subtask.summary);
};
if (goog.DEBUG) {
  TheScheduler.Templates.SISubtaskTable.summaryColumn.soyTemplateName = 'TheScheduler.Templates.SISubtaskTable.summaryColumn';
}


TheScheduler.Templates.SISubtaskTable.subtaskTypeColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.subtask.issueTypeName) ? '<img src="' + soy.$$escapeHtml(opt_data.subtask.issueTypeIcon) + '" class="scheduler-tooltip-enabled" style="vertical-align: text-bottom;" height="16" width="16" border="0" align="absmiddle" alt="' + soy.$$escapeHtml(opt_data.subtask.issueTypeName) + '" title="' + soy.$$escapeHtml(opt_data.subtask.issueTypeName) + '">&nbsp;' + soy.$$escapeHtml(opt_data.subtask.issueTypeName) : '<img src="' + soy.$$escapeHtml(opt_data.contextPath) + '/images/icons/issuetypes/undefined.png" class="scheduler-tooltip-enabled" style="vertical-align: text-bottom;" height="16" width="16" border="0" align="absmiddle" alt="N/A" title="N/A">&nbsp;N/A');
};
if (goog.DEBUG) {
  TheScheduler.Templates.SISubtaskTable.subtaskTypeColumn.soyTemplateName = 'TheScheduler.Templates.SISubtaskTable.subtaskTypeColumn';
}


TheScheduler.Templates.SISubtaskTable.priorityColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.subtask.priorityName) ? '<img src="' + soy.$$escapeHtml(opt_data.subtask.priorityIcon) + '" class="scheduler-tooltip-enabled" style="vertical-align: text-bottom;" height="16" width="16" border="0" align="absmiddle" alt="' + soy.$$escapeHtml(opt_data.subtask.priorityName) + '" title="' + soy.$$escapeHtml(opt_data.subtask.priorityName) + '">&nbsp;' + soy.$$escapeHtml(opt_data.subtask.priorityName) : soy.$$escapeHtml("N/A"));
};
if (goog.DEBUG) {
  TheScheduler.Templates.SISubtaskTable.priorityColumn.soyTemplateName = 'TheScheduler.Templates.SISubtaskTable.priorityColumn';
}


TheScheduler.Templates.SISubtaskTable.assigneeColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.subtask.assignee == '-2') ? '<span>' + soy.$$escapeHtml("Unassigned") + '</span>' : (opt_data.subtask.assignee == '-1') ? '<span>' + soy.$$escapeHtml("Automatic") + '</span>' : (opt_data.subtask.assignee) ? '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/secure/ViewProfile.jspa?name=' + soy.$$escapeHtml(opt_data.subtask.assignee) + '">' + soy.$$escapeHtml(opt_data.subtask.assigneeFullName) + '</a>' : '<span class="not-applicable-element">N/A</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.SISubtaskTable.assigneeColumn.soyTemplateName = 'TheScheduler.Templates.SISubtaskTable.assigneeColumn';
}


TheScheduler.Templates.SISubtaskTable.actionsColumn = function(opt_data, opt_ignored) {
  return ((! opt_data.subtask.validationResult.valid) ? '<span class="aui-lozenge aui-lozenge-error errors-tooltip-enabled tooltip-performance" id="errors-tooltip-' + soy.$$escapeHtml(opt_data.subtask.id) + '">' + soy.$$escapeHtml("INVALID") + '</span>' : '') + '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/secure/pl.com.tt.thescheduler.EditScheduledIssueSubtask!default.jspa?subtaskId=' + soy.$$escapeHtml(opt_data.subtask.id) + '&scheduledJobId=' + soy.$$escapeHtml(opt_data.subtask.parentScheduledJobId) + '" class="edit-si-subtask-link"><span class="icon-default aui-icon aui-icon-small aui-iconfont-edit"></span></a><a href="' + soy.$$escapeHtml(opt_data.subtask.id) + '" class="delete-si-subtask-link"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete"></span></a>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.SISubtaskTable.actionsColumn.soyTemplateName = 'TheScheduler.Templates.SISubtaskTable.actionsColumn';
}


TheScheduler.Templates.SISubtaskTable.sequenceColumn = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.subtask.id) + '" class="move-up-si-subtask-link"><span class="icon-default aui-icon aui-icon-small aui-iconfont-up"></span></a><a href="' + soy.$$escapeHtml(opt_data.subtask.id) + '" class="move-down-si-subtask-link"><span class="icon-default aui-icon aui-icon-small aui-iconfont-down"></span></a>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.SISubtaskTable.sequenceColumn.soyTemplateName = 'TheScheduler.Templates.SISubtaskTable.sequenceColumn';
}
;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:soy-resources', location = 'templates/soy/triggers-table.soy' */
// This file was automatically generated from triggers-table.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace TheScheduler.Templates.TriggerTable.
 */

if (typeof TheScheduler == 'undefined') { var TheScheduler = {}; }
if (typeof TheScheduler.Templates == 'undefined') { TheScheduler.Templates = {}; }
if (typeof TheScheduler.Templates.TriggerTable == 'undefined') { TheScheduler.Templates.TriggerTable = {}; }


TheScheduler.Templates.TriggerTable.triggerTable = function(opt_data, opt_ignored) {
  var output = '<div id="trigger-table-empty-div" ' + ((opt_data.triggers.length == 0) ? ' style="display: block;" ' : ' style="display: none;" ') + '><div class="aui-message hint shadowed" style="margin-top: 20px;"><p class="title">' + soy.$$escapeHtml("Please use above form to add your first trigger.") + '</p></div></div><div id="trigger-table-not-empty-div" ' + ((opt_data.triggers.length > 0) ? ' style="display: block;" ' : ' style="display: none;" ') + '><div id="trigger-table-desc-message-div" style="margin-top: 20px;"></div><div id="trigger-table-div" style="margin-top: 20px; -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px; border: 1px solid #DDDDDD;"><table class="aui" id="trigger-table" style="-webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px;"><thead><tr><th class="select-column"><input id="select-all" type="checkbox" value="select-all" /></th><th class="trigger-expression-column"><span title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Triggers expressions") + '">' + soy.$$escapeHtml("Triggers expressions") + '</span></th><th class="trigger-expression-summary-column"><span title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Triggers expressions summary") + '">' + soy.$$escapeHtml("Triggers expressions summary") + '</span></th><th class="start-date-column"><span title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Start Date") + '">' + soy.$$escapeHtml("Start Date") + '</span></th><th class="end-date-column"><span title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("End Date") + '">' + soy.$$escapeHtml("End Date") + '</span></th><th class="time-zone-column"><span title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Time zone") + '">' + soy.$$escapeHtml("Time zone") + '</span></th><th class="actions-column">' + soy.$$escapeHtml("Actions") + '</th></tr></thead><tbody>';
  var triggerList50 = opt_data.triggers;
  var triggerListLen50 = triggerList50.length;
  if (triggerListLen50 > 0) {
    for (var triggerIndex50 = 0; triggerIndex50 < triggerListLen50; triggerIndex50++) {
      var triggerData50 = triggerList50[triggerIndex50];
      output += '<tr><td class="select-column">' + TheScheduler.Templates.TriggerTable.selectColumn({trigger: triggerData50}) + '</td><td class="trigger-expression-column">' + soy.$$escapeHtml(triggerData50.triggerExpression) + '</td><td class="trigger-expression-summary-column">' + soy.$$escapeHtml(triggerData50.triggerExpressionSummary) + '</td><td class="start-date-column">' + TheScheduler.Templates.TriggerTable.startDateColumn({trigger: triggerData50}) + '</td><td class="end-date-column">' + TheScheduler.Templates.TriggerTable.endDateColumn({trigger: triggerData50}) + '</td><td class="time-zone-column">' + soy.$$escapeHtml(triggerData50.timeZoneFormatted) + '</td><td class="actions-column">' + TheScheduler.Templates.TriggerTable.actionsColumn({trigger: triggerData50}) + '</td></tr>';
    }
  } else {
    output += '<tr><td colspan="7">Please add trigger...</td></tr>';
  }
  output += '</tbody><tfoot><tr style="border-bottom: none;"><td colspan="7" style="text-align: right;"><ul class="operations-list"><li><a id="triggers-table-show-selected-future-fire-times" href="javascript:void(0)">' + soy.$$escapeHtml("Show executions") + '</a></li><li><a id="delete-selected-triggers-link" href="#">' + soy.$$escapeHtml("Delete Selected") + '</a></li></ul></td></tr></tfoot></table></div></div>';
  return output;
};
if (goog.DEBUG) {
  TheScheduler.Templates.TriggerTable.triggerTable.soyTemplateName = 'TheScheduler.Templates.TriggerTable.triggerTable';
}


TheScheduler.Templates.TriggerTable.selectColumn = function(opt_data, opt_ignored) {
  return '<input class="select-one" type="checkbox" value="' + soy.$$escapeHtml(opt_data.trigger.id) + '" />';
};
if (goog.DEBUG) {
  TheScheduler.Templates.TriggerTable.selectColumn.soyTemplateName = 'TheScheduler.Templates.TriggerTable.selectColumn';
}


TheScheduler.Templates.TriggerTable.startDateColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.trigger.startDateFormatted) ? soy.$$escapeHtml(opt_data.trigger.startDateFormatted) : '<span style="font-style: italic; color: #CCC;">' + soy.$$escapeHtml("N/A") + '</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.TriggerTable.startDateColumn.soyTemplateName = 'TheScheduler.Templates.TriggerTable.startDateColumn';
}


TheScheduler.Templates.TriggerTable.endDateColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.trigger.endDateFormatted) ? soy.$$escapeHtml(opt_data.trigger.endDateFormatted) : '<span style="font-style: italic; color: #CCC;">' + soy.$$escapeHtml("N/A") + '</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.TriggerTable.endDateColumn.soyTemplateName = 'TheScheduler.Templates.TriggerTable.endDateColumn';
}


TheScheduler.Templates.TriggerTable.actionsColumn = function(opt_data, opt_ignored) {
  return '<ul class="operations-list"><li><a class="show-trigger-fire-times" href="' + soy.$$escapeHtml(opt_data.trigger.id) + '">' + soy.$$escapeHtml("Executions") + '</a></li><li><a class="delete-trigger-link" href="' + soy.$$escapeHtml(opt_data.trigger.id) + '">' + soy.$$escapeHtml("Delete") + '</a></li></ul>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.TriggerTable.actionsColumn.soyTemplateName = 'TheScheduler.Templates.TriggerTable.actionsColumn';
}
;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:soy-resources', location = 'templates/soy/configure-columns-inline-dialog.soy' */
// This file was automatically generated from configure-columns-inline-dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace TheScheduler.Templates.ConfigureColumnsInlineDialog.
 */

if (typeof TheScheduler == 'undefined') { var TheScheduler = {}; }
if (typeof TheScheduler.Templates == 'undefined') { TheScheduler.Templates = {}; }
if (typeof TheScheduler.Templates.ConfigureColumnsInlineDialog == 'undefined') { TheScheduler.Templates.ConfigureColumnsInlineDialog = {}; }


TheScheduler.Templates.ConfigureColumnsInlineDialog.configureColumnsInlineDialog = function(opt_data, opt_ignored) {
  return '<style type="text/css">\n\t\t#configure-columns-dialog-content div.checkbox {\n\t\t\tpadding-top: 5px;\n\t\t\tpadding-bottom: 5px;\n\t\t}\n\n\t\t#configure-columns-dialog-content div.checkbox label {\n\t\t\tmargin-left: 5px;\n\t\t\tvertical-align: text-bottom;\n\t\t}\n\t</style><div id="configure-columns-dialog-content" style="padding: 7px;"><div style="overflow:auto; padding: 5px 0px; margin-bottom: 5px; border-bottom: 1px solid #CCC;"><div style="float:left;"><h3>' + soy.$$escapeHtml("Select Columns") + '</h3></div><div style="float:right;"><button id="refresh-columns-button" class="aui-button scheduler-tooltip-enabled"><div id="refresh-columns-button-content"><span class="aui-icon aui-icon-small aui-iconfont-build refresh-icon" data-unicode="UTF+E016"> </span>Restore default</div><div id="refresh-columns-button-spinner"></div></button></div></div><div style="clear: both;"><div style="float: left; width: 50%;"><!--div class="checkbox"><label><input class="checkbox" type="checkbox" name="name" id="1" />' + soy.$$escapeHtml("Name") + '</label></div--><div class="checkbox"><label><input class="checkbox" type="checkbox" name="description" id="3" />' + soy.$$escapeHtml("Description") + '</label></div><div class="checkbox"><label><input class="checkbox" type="checkbox" name="triggers" id="19" />' + soy.$$escapeHtml("Triggers") + '</label></div><div class="checkbox"><label><input class="checkbox" type="checkbox" name="triggers-expressions" id="20" />' + soy.$$escapeHtml("Triggers expressions") + '</label></div><div class="checkbox"><label><input class="checkbox" type="checkbox" name="shared-expressions" id="18" />' + soy.$$escapeHtml("Shared with") + '</label></div></div><div style="float: left; width: 50%;"><div class="checkbox"><label><input class="checkbox" type="checkbox" name="created-by" id="10" />' + soy.$$escapeHtml("Created by") + '</label></div><div class="checkbox"><label><input class="checkbox" type="checkbox" name="created-at" id="11" />' + soy.$$escapeHtml("Created at") + '</label></div><div class="checkbox"><label><input class="checkbox" type="checkbox" name="modified-by" id="12" />' + soy.$$escapeHtml("Modified by") + '</label></div><div class="checkbox"><label><input class="checkbox" type="checkbox" name="modified-at" id="13" />' + soy.$$escapeHtml("Modified at") + '</label></div><div class="checkbox"><label><input class="checkbox" type="checkbox" name="links" id="17" />' + soy.$$escapeHtml("Links") + '</label></div></div></div><div style="clear: both; border-top: 1px solid #CCC; margin-top: 5px; padding-top: 5px;"><div style="float: left; width: 50%;"><div class="checkbox"><label><input class="checkbox" type="checkbox" name="prev-fire-time" id="14" />' + soy.$$escapeHtml("Previous Execution Time") + '</label></div><div class="checkbox"><label><input class="checkbox" type="checkbox" name="next-fire-time" id="15" />' + soy.$$escapeHtml("Next Execution Time") + '</label></div></div><div style="float: left; width: 50%;"><div class="checkbox"><label><input class="checkbox" type="checkbox" name="fire-count" id="16" />' + soy.$$escapeHtml("Execution Count") + '</label></div></div></div><div style="clear: both; border-top: 1px solid #CCC; margin-top: 5px; padding-top: 5px;"><div style="float: left; width: 50%;"><div class="checkbox"><label><input class="checkbox" type="checkbox" name="project" id="5" />' + soy.$$escapeHtml("Project") + '</label></div><div class="checkbox"><label><input class="checkbox" type="checkbox" name="issue-type" id="6" />' + soy.$$escapeHtml("Issue Type") + '</label></div><div class="checkbox"><label><input class="checkbox" type="checkbox" name="priority" id="7" />' + soy.$$escapeHtml("Priority") + '</label></div></div><div style="float: left; width: 50%;"><div class="checkbox"><label><input class="checkbox" type="checkbox" name="reporter" id="8" />' + soy.$$escapeHtml("Reporter") + '</label></div><div class="checkbox"><label><input class="checkbox" type="checkbox" name="assignee" id="9" />' + soy.$$escapeHtml("Assignee") + '</label></div><div class="checkbox"><label><input class="checkbox" type="checkbox" name="summary" id="4" />' + soy.$$escapeHtml("Summary") + '</label></div></div></div></div>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.ConfigureColumnsInlineDialog.configureColumnsInlineDialog.soyTemplateName = 'TheScheduler.Templates.ConfigureColumnsInlineDialog.configureColumnsInlineDialog';
}
;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:soy-resources', location = 'templates/soy/dialogs.soy' */
// This file was automatically generated from dialogs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace TheScheduler.Templates.Dialogs.
 */

if (typeof TheScheduler == 'undefined') { var TheScheduler = {}; }
if (typeof TheScheduler.Templates == 'undefined') { TheScheduler.Templates = {}; }
if (typeof TheScheduler.Templates.Dialogs == 'undefined') { TheScheduler.Templates.Dialogs = {}; }


TheScheduler.Templates.Dialogs.clonePanel = function(opt_data, opt_ignored) {
  return '<!-- clone dialog --><section role="dialog" id="tsp-si-clone-dialog" class="aui-layer aui-dialog2 aui-dialog2-medium" aria-hidden="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml("Clone Scheduled Issue") + '</h2><!-- Close icon --><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a></header><div class="aui-dialog2-content"><div class="dialog-panel-body clone-panel"><form id="tsp-si-clone-form" method="post" action="#" class="aui"><div class="field-group"><label for="clone-name-tf">' + soy.$$escapeHtml("Name") + ': <span class="aui-icon icon-required">' + soy.$$escapeHtml("Required") + '</span></label><input name="clone-name-tf" id="clone-name-tf" class="text large-field" type="text" value="Clone of Name"><div id="no-name-error-div" style="display:none" class="error"><span>' + soy.$$escapeHtml("Specify name for a clone!") + '</span></div><div id="name-not-unique-error-div" style="display:none" class="error"><span>' + soy.$$escapeHtml("Clone name must be unique and shorter than 255 chars!") + '</span></div></div><div class="field-group"><label for="clone-description-tf">' + soy.$$escapeHtml("Description") + ':</label><input name="clone-description-tf" id="clone-description-tf" class="text large-field" type="text" value=""></div><div id="no-name-error-div" style="display:none" class="error"><span>' + soy.$$escapeHtml("Specify name for a clone!") + '</span></div></form><div id="license-is-not-valid" style="display:none; color:red;" class="error"><span>' + soy.$$escapeHtml("License for The Scheduler plugin is invalid, some of the functionalities will not work. Please contact your JIRA administrator to renew license.") + '</span></div></div></div><footer class="aui-dialog2-footer"><!-- Actions to render on the right of the footer --><div class="aui-dialog2-footer-actions"><span id="clone-progress" class="aui-icon aui-icon-wait" style="margin-right: 10px; display:none;">' + soy.$$escapeHtml("Cloning...") + '</span><label style="margin-right:10px;"><input class="checkbox" type="checkbox" id="editAfterClone" />' + soy.$$escapeHtml("Edit cloned issue") + '</label><button id="tsp-si-clone-button" class="button-panel-button button-panel-submit-button aui-button">' + soy.$$escapeHtml("Clone") + '</button><button id="tsp-si-clone-close-button" class="aui-button aui-button-link">' + soy.$$escapeHtml("Cancel") + '</a></div><!-- Hint text is rendered on the left of the footer --><div class="aui-dialog2-footer-hint"> </div></footer></section><!-- clone dialog end-->';
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.clonePanel.soyTemplateName = 'TheScheduler.Templates.Dialogs.clonePanel';
}


TheScheduler.Templates.Dialogs.deleteSelectedPanel = function(opt_data, opt_ignored) {
  return '<!-- delete selected SI --><section role="dialog" id="tsp-si-delete-selected-dialog" class="aui-layer aui-dialog2 aui-dialog2-medium" aria-hidden="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml("Delete Scheduled Issues") + '</h2><!-- Close icon --><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a></header><div class="aui-dialog2-content"><div class="dialog-panel-body delete-selected-panel" style="height: 163px;"><div class="aui-message error shadowed"><p class="title">' + soy.$$escapeHtml("Bulk delete warning!") + '</p><span class="aui-icon aui-icon-small aui-iconfont-error" style="color:#fff;"></span><p>' + soy.$$escapeHtml(AJS.format("Number of Scheduled Issues selected to delete: {0}. Are you sure to proceed?",opt_data.scheduledIssues.length)) + '</p></div><span id="delete-selected-progress" class="aui-icon aui-icon-wait" style="margin-right: 10px; visibility: hidden;">' + soy.$$escapeHtml("Deleting selected scheduled issues...") + '</span></div></div><footer class="aui-dialog2-footer"><!-- Actions to render on the right of the footer --><div class="aui-dialog2-footer-actions"><span id="delete-selected-progress" class="aui-icon aui-icon-wait" style="margin-right: 10px; display:none;">' + soy.$$escapeHtml("Deleting...") + '</span><button id="tsp-si-delete-selected-button" class="button-panel-button button-panel-submit-button aui-button">' + soy.$$escapeHtml("Delete") + '</button><button id="tsp-si-delete-selected-close-button" class="aui-button aui-button-link">' + soy.$$escapeHtml("Cancel") + '</a></div><!-- Hint text is rendered on the left of the footer --><div class="aui-dialog2-footer-hint"> </div></footer></section><!-- END delete selected SI -->';
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.deleteSelectedPanel.soyTemplateName = 'TheScheduler.Templates.Dialogs.deleteSelectedPanel';
}


TheScheduler.Templates.Dialogs.deletePanel = function(opt_data, opt_ignored) {
  return '\n            <style type="text/css">\n                    .scheduled-issue-field {\n                            padding: 0px 0px 0px 100px;\n                            margin: 0px 0px 5px 0px;\n                            clear: both;\n                    }\n\n                    .scheduled-issue-field label {\n                            display: block;\n                            width: 90px;\n                            margin-left: -100px;\n                            float: left;\n\n                            font-weight: bold;\n                    }\n\n                    .scheduled-issue-field span {\n                            margin: 0px;\n                            padding: 0px;\n                    }\n            </style>\n    <section role="dialog" id="tsp-si-delete-dialog" class="aui-layer aui-dialog2 aui-dialog2-small" aria-hidden="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml("Delete Scheduled Issue") + '</h2><!-- Close icon --><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a></header><div class="aui-dialog2-content"><div class="dialog-panel-body clone-panel"><div class="scheduled-issue-field"><label>' + soy.$$escapeHtml("Name") + '</label><span>' + soy.$$truncate(soy.$$escapeHtml(opt_data.scheduledIssue.name), 25, true) + '</span></div>' + ((opt_data.scheduledIssue.description) ? '<div class="scheduled-issue-field"><label>' + soy.$$escapeHtml("Description") + '</label><span>' + soy.$$truncate(soy.$$escapeHtml(opt_data.scheduledIssue.description), 100, true) + '</span></div>' : '') + '<div class="scheduled-issue-field"><label>' + soy.$$escapeHtml("Created by") + '</label><span>' + ((opt_data.scheduledIssue.createdBy) ? soy.$$escapeHtml(opt_data.scheduledIssue.createdByFullName) : 'N/A') + '</span></div></div></div><footer class="aui-dialog2-footer"><!-- Actions to render on the right of the footer --><div class="aui-dialog2-footer-actions"><span id="delete-scheduled-issue-progress" class="aui-icon aui-icon-wait" style="margin-right: 10px; visibility: hidden;">' + soy.$$escapeHtml("Deleting...") + '</span><button id="tsp-si-delete-button" class="button-panel-button button-panel-submit-button aui-button">' + soy.$$escapeHtml("Delete") + '</button><button id="tsp-si-delete-close-button" class="aui-button aui-button-link">' + soy.$$escapeHtml("Cancel") + '</a></div><!-- Hint text is rendered on the left of the footer --><div class="aui-dialog2-footer-hint"> </div></footer></section>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.deletePanel.soyTemplateName = 'TheScheduler.Templates.Dialogs.deletePanel';
}


TheScheduler.Templates.Dialogs.deleteSubtask = function(opt_data, opt_ignored) {
  return '<!-- delete subtask -->\n            <style type="text/css">\n                    .scheduled-issue-field {\n                            padding: 0px 0px 0px 100px;\n                            margin: 0px 0px 5px 0px;\n                            clear: both;\n                    }\n\n                    .scheduled-issue-field label {\n                            display: block;\n                            width: 90px;\n                            margin-left: -100px;\n                            float: left;\n\n                            font-weight: bold;\n                    }\n\n                    .scheduled-issue-field span {\n                            margin: 0px;\n                            padding: 0px;\n                    }\n            </style>\n    <section role="dialog" id="tsp-delete-subtask-dialog" class="aui-layer aui-dialog2 aui-dialog2-small" aria-hidden="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml("Delete Sub-Task") + '</h2><!-- Close icon --><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a></header><div class="aui-dialog2-content"><div class="scheduled-issue-field"><label>' + soy.$$escapeHtml("Summary") + '</label><span>' + soy.$$truncate(soy.$$escapeHtml(opt_data.scheduledIssueSubtask.summary), 25, true) + '</span></div><div class="scheduled-issue-field"><label>' + soy.$$escapeHtml("Description") + '</label><span>' + soy.$$truncate(soy.$$escapeHtml(opt_data.scheduledIssueSubtask.description), 100, true) + '</span></div></div><footer class="aui-dialog2-footer"><!-- Actions to render on the right of the footer --><div class="aui-dialog2-footer-actions"><span id="delete-subtask-progress" class="aui-icon aui-icon-wait" style="margin-right: 10px; display:none;">' + soy.$$escapeHtml("Deleting...") + '</span><button id="tsp-delete-subtask-button" class="button-panel-button button-panel-submit-button aui-button">' + soy.$$escapeHtml("Delete") + '</button><button id="tsp-delete-subtask-close-button" class="aui-button aui-button-link">' + soy.$$escapeHtml("Cancel") + '</a></div><!-- Hint text is rendered on the left of the footer --><div class="aui-dialog2-footer-hint"> </div></footer></section><!-- END delete subtask -->';
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.deleteSubtask.soyTemplateName = 'TheScheduler.Templates.Dialogs.deleteSubtask';
}


TheScheduler.Templates.Dialogs.showFutureFiresPanel = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="tsp-si-show-future-fires-dialog" class="aui-layer aui-dialog2 aui-dialog2-xlarge" aria-hidden="true" data-aui-remove-on-hide="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml("Upcoming Scheduled Issues executions") + '</h2><span class="aui-dialog2-header-secondary"><input id="future-fires-filter-input" placeholder="' + soy.$$escapeHtml("Filter") + '" type="text" class="jiras-text-field" /></span></header><div class="aui-dialog2-content"><div class="dialog-panel-body clone-panel"><form action="javascript:void(0)" class="aui" style="margin-top: 0px;"><div class="aui-group aui-group-split"><div class="aui-item">' + ((opt_data.scheduledIssueName) ? '<h3>' + soy.$$escapeHtml("Upcoming executions for Scheduled Issue") + ': ' + soy.$$escapeHtml(opt_data.scheduledIssueName) + '</h3>' : (opt_data.projectName) ? '<h3>' + soy.$$escapeHtml("Upcoming executions for Project") + ': ' + soy.$$escapeHtml(opt_data.projectName) + '</h3>' : '<h3>' + soy.$$escapeHtml("Upcoming executions for all Scheduled Issues") + '</h3>') + '</div><div class="aui-item tsp-center-vertically-child"><span>' + soy.$$escapeHtml("Select the maximum amount to show") + ':</span><select id="future-fires-limit" class="select medium-field" style="margin-left: 10px; margin-right:10px;"><option value="10" selected="selected">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="500">500</option></select><span class="aui-icon aui-icon-wait" id="future-fires-loading" style="display: none; margin-left: 5px;">' + soy.$$escapeHtml("Refreshing...") + '</span></div></div></form><table class="aui" id="future-fires-table"><thead><tr><th class="execution-time-column">' + soy.$$escapeHtml("Execution time") + '</th><th class="scheduled-issue-name-column">' + soy.$$escapeHtml("Scheduled Job") + '</th><th class="project-column">' + soy.$$escapeHtml("Project") + '</th><th class="action-column">' + soy.$$escapeHtml("Action") + '</th></tr></thead><tbody></tbody></table></div></div><footer class="aui-dialog2-footer"><!-- Actions to render on the right of the footer --><div class="aui-dialog2-footer-actions"><button id="tsp-si-show-future-fires-close-button" class="aui-button aui-button-link">' + soy.$$escapeHtml("Close") + '</a></div><!-- Hint text is rendered on the left of the footer --><div class="aui-dialog2-footer-hint"> </div></footer></section>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.showFutureFiresPanel.soyTemplateName = 'TheScheduler.Templates.Dialogs.showFutureFiresPanel';
}


TheScheduler.Templates.Dialogs.issueTypeColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.fireRecord.issueTypeName) ? '<span class="scheduled-issues-sortable-hidden-value">' + soy.$$escapeHtml(opt_data.fireRecord.issueTypeName) + '</span><img src="' + soy.$$escapeHtml(opt_data.fireRecord.issueTypeIcon) + '" style="vertical-align: text-bottom;" height="16" width="16" border="0" align="absmiddle" alt="' + soy.$$escapeHtml(opt_data.fireRecord.issueTypeName) + '" title="' + soy.$$escapeHtml(opt_data.fireRecord.issueTypeName) + '">&nbsp;' + soy.$$escapeHtml(opt_data.fireRecord.issueTypeName) : '<span class="scheduled-issues-sortable-hidden-value">00000000</span><span class="not-applicable-element">N/A</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.issueTypeColumn.soyTemplateName = 'TheScheduler.Templates.Dialogs.issueTypeColumn';
}


TheScheduler.Templates.Dialogs.summaryColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.fireRecord.issueSummary) ? soy.$$escapeHtml(opt_data.fireRecord.issueSummary) : '<span class="not-applicable-element">N/A</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.summaryColumn.soyTemplateName = 'TheScheduler.Templates.Dialogs.summaryColumn';
}


TheScheduler.Templates.Dialogs.showCreatedIssuesPanel = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="tsp-si-show-created-issues-dialog" class="aui-layer aui-dialog2 aui-dialog2-xlarge" aria-hidden="true" data-aui-remove-on-hide="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml("Execution History") + '</h2><span class="aui-dialog2-header-secondary"><input id="created-issues-filter-input" placeholder="' + soy.$$escapeHtml("Filter") + '" type="text" class="jiras-text-field" /></span></header><div class="aui-dialog2-content"><div class="dialog-panel-body clone-panel"><form action="javascript:void(0)" class="aui" style="margin-top: 0px;"><div class="aui-group aui-group-split"><div class="aui-item">' + ((opt_data.scheduledIssueName) ? '<h3>' + soy.$$escapeHtml("Execution history for Scheduled Issue") + ': ' + soy.$$escapeHtml(opt_data.scheduledIssueName) + '</h3>' : (opt_data.projectName) ? '<h3>' + soy.$$escapeHtml("Execution history for Project") + ': ' + soy.$$escapeHtml(opt_data.projectName) + '</h3>' : '<h3>' + soy.$$escapeHtml("Execution history for all Scheduled Issues") + '</h3>') + '</div><div class="aui-item tsp-center-vertically-child"><span>' + soy.$$escapeHtml("Select the maximum amount to show") + ':</span><select id="created-issues-limit" class="select medium-field" style="margin-left: 10px; margin-right:10px;"><option value="10" selected="selected">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="500">500</option></select><span class="aui-icon aui-icon-wait" id="created-issues-loading" style="display: none; margin-left: 5px;">' + soy.$$escapeHtml("Refreshing...") + '</span></div></div></form><div id="created-issues-message-bar"></div><table class="aui" id="created-issues-table"><thead><tr><th><span class="created-issues-dialog-tooltip-enabled" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Execution time") + '">' + soy.$$escapeHtml("Execution time") + '</span></th><th><span class="created-issues-dialog-tooltip-enabled" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Scheduled Job") + '">' + soy.$$escapeHtml("Scheduled Job") + '</span></th><th><span class="created-issues-dialog-tooltip-enabled" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Project") + '">' + soy.$$escapeHtml("Project") + '</span></th><th><span class="created-issues-dialog-tooltip-enabled" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Executed by") + '">' + soy.$$escapeHtml("Executed by") + '</span></th><th><span class="created-issues-dialog-tooltip-enabled" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Executed action") + '">' + soy.$$escapeHtml("Executed action") + '</span></th><th><span class="created-issues-dialog-tooltip-enabled" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Executed status") + '">' + soy.$$escapeHtml("Executed status") + '</span></th><th><span class="created-issues-dialog-tooltip-enabled" title="' + soy.$$escapeHtml("Sort by column") + ': ' + soy.$$escapeHtml("Issue") + '">' + soy.$$escapeHtml("Issue") + '</span></th></tr></thead><tbody></tbody></table></div></div><footer class="aui-dialog2-footer"><!-- Actions to render on the right of the footer --><div class="aui-dialog2-footer-actions"><button id="tsp-si-show-created-issues-close-button" class="aui-button aui-button-link">' + soy.$$escapeHtml("Close") + '</a></div><!-- Hint text is rendered on the left of the footer --><div class="aui-dialog2-footer-hint"> </div></footer></section>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.showCreatedIssuesPanel.soyTemplateName = 'TheScheduler.Templates.Dialogs.showCreatedIssuesPanel';
}


TheScheduler.Templates.Dialogs.creationTimeColumn = function(opt_data, opt_ignored) {
  return '<span class="scheduled-issues-timestamp">' + soy.$$escapeHtml(opt_data.createdIssue.createdTimestamp) + '</span>' + soy.$$escapeHtml(opt_data.createdIssue.createdTimeString) + ((opt_data.createdIssue.firedManually == true) ? '<span style="margin-left: 5px;" class="aui-lozenge merge-lozenge scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("This action has been performed manually.") + '">M</span>' : '');
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.creationTimeColumn.soyTemplateName = 'TheScheduler.Templates.Dialogs.creationTimeColumn';
}


TheScheduler.Templates.Dialogs.projectColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.createdIssue.projectKey) ? '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/browse/' + soy.$$escapeHtml(opt_data.createdIssue.projectKey) + '">' + soy.$$escapeHtml(opt_data.createdIssue.projectKey) + '</a>' : soy.$$escapeHtml("N/A"));
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.projectColumn.soyTemplateName = 'TheScheduler.Templates.Dialogs.projectColumn';
}


TheScheduler.Templates.Dialogs.createdByColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.createdIssue.firedManually == true) ? '<span class="tsp-outer-icon-span"><span class="tsp-aui-avatar aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="' + soy.$$escapeHtml(opt_data.createdIssue.firedByAvatar) + '" alt="' + soy.$$escapeHtml(opt_data.createdIssue.firedByFullName) + '"></span></span>&nbsp;' + soy.$$escapeHtml(opt_data.createdIssue.firedByFullName) + '</span>' : '<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-complete"> The Scheduler </span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.createdByColumn.soyTemplateName = 'TheScheduler.Templates.Dialogs.createdByColumn';
}


TheScheduler.Templates.Dialogs.executedActionColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.createdIssue.executedAction == 'None') ? '<span style="margin-left: 5px;" class="aui-lozenge aui-lozenge-subtle scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Nothing has been done due to the highest priority.") + '">' + soy.$$escapeHtml("None") + '</span>' : (opt_data.createdIssue.executedAction == 'Create issue') ? '<span style="margin-left: 5px;" class="aui-lozenge aui-lozenge-subtle aui-lozenge-success"> ' + soy.$$escapeHtml("CREATE ISSUE") + ' </span>' : (opt_data.createdIssue.executedAction == 'Calendar day off') ? '<span style="margin-left: 5px;" class="aui-lozenge aui-lozenge-subtle aui-lozenge-current"> ' + soy.$$escapeHtml("CALENDAR DAY OFF") + ' </span>' : (opt_data.createdIssue.executedAction == 'Increase priority') ? '<span style="margin-left: 5px;" class="aui-lozenge aui-lozenge-subtle aui-lozenge-complete"> ' + soy.$$escapeHtml("INCREASE PRIORITY") + ' </span>' : (opt_data.createdIssue.executedAction == 'Fail') ? '<span style="margin-left: 5px;" class="aui-lozenge aui-lozenge-subtle aui-lozenge-error"> ' + soy.$$escapeHtml("FAILED") + ' </span>' : (opt_data.createdIssue.executedAction == 'N/A') ? '<span style="margin-left: 5px;" class="aui-lozenge aui-lozenge-subtle scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Action \x22N/A\x22 is assigned to this execution because it was triggered by previous version of The Scheduler Plugin, which does not save information about the executed action.") + '">N/A</span>' : '');
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.executedActionColumn.soyTemplateName = 'TheScheduler.Templates.Dialogs.executedActionColumn';
}


TheScheduler.Templates.Dialogs.executedStatusColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.createdIssue.executedStatus == 'Completed') ? '<span style="margin-left: 5px;" class="aui-lozenge aui-lozenge-subtle aui-lozenge-success"> ' + soy.$$escapeHtml("COMPLETED") + ' </span>' : (opt_data.createdIssue.executedStatus == 'Failed') ? '<span style="margin-left: 5px;" class="aui-lozenge aui-lozenge-subtle aui-lozenge-error"> ' + soy.$$escapeHtml("FAILED") + ' </span>' : (opt_data.createdIssue.executedStatus == 'N/A') ? '<span style="margin-left: 5px;" class="aui-lozenge aui-lozenge-subtle scheduler-tooltip-enabled help-cursor" title="' + soy.$$escapeHtml("Status \x22N/A\x22 is assigned to this execution because it was triggered by previous version of The Scheduler Plugin, which does not save information about the executed status.") + '">N/A</span>' : '');
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.executedStatusColumn.soyTemplateName = 'TheScheduler.Templates.Dialogs.executedStatusColumn';
}


TheScheduler.Templates.Dialogs.renderScheduledIssueNameColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.createdIssue.userHasAccess) ? '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/projects/' + soy.$$escapeHtml(opt_data.createdIssue.projectKey) + '?selectedItem=pl.com.tt.jira.plugin.theschedulerpro:scheduled-issues-project-tab-panel-link&scheduledJobId=' + soy.$$escapeHtml(opt_data.createdIssue.scheduledJobId) + '">' + soy.$$escapeHtml(opt_data.createdIssue.scheduledIssueName) + '</a>' : '<span>' + soy.$$escapeHtml(opt_data.createdIssue.scheduledIssueName) + '</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.renderScheduledIssueNameColumn.soyTemplateName = 'TheScheduler.Templates.Dialogs.renderScheduledIssueNameColumn';
}


TheScheduler.Templates.Dialogs.scheduledJobColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.createdIssue.scheduledJobName) ? (opt_data.createdIssue.userHasAccess) ? '<a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/projects/' + soy.$$escapeHtml(opt_data.createdIssue.projectKey) + '?selectedItem=pl.com.tt.jira.plugin.theschedulerpro:scheduled-issues-project-tab-panel-link&scheduledJobId=' + soy.$$escapeHtml(opt_data.createdIssue.scheduledJobId) + '">' + soy.$$escapeHtml(opt_data.createdIssue.scheduledJobName) + '</a>' : '<span>' + soy.$$escapeHtml(opt_data.createdIssue.scheduledJobName) + '</span>' : '<span><span class="aui-lozenge aui-lozenge-subtle aui-lozenge-error">' + soy.$$escapeHtml("deleted") + '</span></span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.scheduledJobColumn.soyTemplateName = 'TheScheduler.Templates.Dialogs.scheduledJobColumn';
}


TheScheduler.Templates.Dialogs.issueKeyColumn = function(opt_data, opt_ignored) {
  return '' + ((opt_data.createdIssue.issueKey) ? '<span class="scheduled-issues-sortable-hidden-value">' + soy.$$escapeHtml(opt_data.createdIssue.issueId) + '</span>' : '<span class="scheduled-issues-sortable-hidden-value">000000000</span>') + ((opt_data.createdIssue.issueTypeName) ? '<img src="' + soy.$$escapeHtml(opt_data.createdIssue.issueTypeIcon) + '" style="vertical-align: text-bottom;" height="16" width="16" border="0" align="absmiddle" alt="' + soy.$$escapeHtml(opt_data.createdIssue.issueTypeName) + '" title="' + soy.$$escapeHtml(opt_data.createdIssue.issueTypeName) + '">&nbsp;' : '') + ((opt_data.createdIssue.issueKey) ? '<span class="scheduled-issues-sortable-hidden-value">' + soy.$$escapeHtml(opt_data.issueSortableName) + '</span><a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/browse/' + soy.$$escapeHtml(opt_data.createdIssue.issueKey) + '">' + soy.$$escapeHtml(opt_data.createdIssue.issueKey) + '</a>' : '<span class="not-applicable-element">N/A</span>');
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.issueKeyColumn.soyTemplateName = 'TheScheduler.Templates.Dialogs.issueKeyColumn';
}


TheScheduler.Templates.Dialogs.errorPanel = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="tsp-si-error-dialog" class="aui-layer aui-dialog2 aui-dialog2-small aui-dialog2-warning" aria-hidden="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml(opt_data.errorTitle) + '</h2><!-- Close icon --><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a></header><div class="aui-dialog2-content"><p><span class="aui-icon aui-icon-small aui-iconfont-error"></span>' + soy.$$escapeHtml(opt_data.errorMessage) + '</p></div><footer class="aui-dialog2-footer"><!-- Actions to render on the right of the footer --><div class="aui-dialog2-footer-actions"><button id="tsp-si-delete-close-button" class="aui-button aui-button-link">' + soy.$$escapeHtml("Cancel") + '</a></div><!-- Hint text is rendered on the left of the footer --><div class="aui-dialog2-footer-hint"> </div></footer>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.errorPanel.soyTemplateName = 'TheScheduler.Templates.Dialogs.errorPanel';
}


TheScheduler.Templates.Dialogs.fireConfirmationDialog = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="scheduler-fire-confirmation-dialog" class="aui-layer aui-dialog2 aui-dialog2-small" aria-hidden="true" data-aui-remove-on-hide="true"><!-- Dialog header --><header class="aui-dialog2-header"><!-- The dialog\'s title --><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml("Execute Scheduled Issue") + '</h2><!-- Close icon --><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a></header><!-- Main dialog content --><div class="aui-dialog2-content"><p>' + soy.$$escapeHtml("You are about to manually create new Issue based on Scheduled Issue ") + ' <b>' + soy.$$escapeHtml(opt_data.scheduledIssueName) + '</b></p><p>' + soy.$$escapeHtml("Do you want to proceed?") + '</p></div><!-- Dialog footer --><footer class="aui-dialog2-footer"><!-- Actions to render on the right of the footer --><div class="aui-dialog2-footer-actions"><button id="scheduler-fire-confirmation-dialog-submit-button" class="aui-button aui-button-primary">' + soy.$$escapeHtml("OK") + '</button><button id="scheduler-fire-confirmation-dialog-close-button" class="aui-button aui-button-link">' + soy.$$escapeHtml("Cancel") + '</button></div><!-- Hint text is rendered on the left of the footer --><div class="aui-dialog2-footer-hint"><label><input class="checkbox" type="checkbox" id="scheduler-fire-confirmation-dialog-checkbox" />' + soy.$$escapeHtml("Dont ask me again") + '</label></div></footer></section>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.fireConfirmationDialog.soyTemplateName = 'TheScheduler.Templates.Dialogs.fireConfirmationDialog';
}


TheScheduler.Templates.Dialogs.fireSelectedConfirmationDialog = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="scheduler-fire-selected-confirmation-dialog" class="aui-layer aui-dialog2 aui-dialog2-small" aria-hidden="true" data-aui-remove-on-hide="true"><!-- Dialog header --><header class="aui-dialog2-header"><!-- The dialog\'s title --><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml("Execute selected Scheduled Issues") + '</h2><!-- Close icon --><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a></header><!-- Main dialog content --><div class="aui-dialog2-content"><p>' + soy.$$escapeHtml(AJS.format("You are about to manually execute number of selected Scheduled Issues: {0}",opt_data.selectedSICount)) + '</p><p>' + soy.$$escapeHtml("Do you want to proceed?") + '</p></div><!-- Dialog footer --><footer class="aui-dialog2-footer"><!-- Actions to render on the right of the footer --><div class="aui-dialog2-footer-actions"><button id="scheduler-fire-selected-confirmation-dialog-submit-button" class="aui-button aui-button-primary">' + soy.$$escapeHtml("OK") + '</button><button id="scheduler-fire-selected-confirmation-dialog-close-button" class="aui-button aui-button-link">' + soy.$$escapeHtml("Cancel") + '</button></div><!-- Hint text is rendered on the left of the footer --><div class="aui-dialog2-footer-hint"><label><input class="checkbox" type="checkbox" id="scheduler-fire-selected-confirmation-dialog-checkbox" />' + soy.$$escapeHtml("Dont ask me again") + '</label></div></footer></section>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.fireSelectedConfirmationDialog.soyTemplateName = 'TheScheduler.Templates.Dialogs.fireSelectedConfirmationDialog';
}


TheScheduler.Templates.Dialogs.triggerFutureFireTimesDialog = function(opt_data, opt_ignored) {
  var output = '<section role="dialog" id="tsp-trigger-future-fire-times-dialog" class="aui-layer aui-dialog2 aui-dialog2-large" aria-hidden="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + soy.$$escapeHtml("Execution times") + '</h2><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a></header><div class="aui-dialog2-content">';
  if (opt_data.fireTimes.length == 0) {
    output += soy.$$escapeHtml("No triggers are selected");
  } else {
    if (opt_data.fireTimes.workflowTriggers.length > 0) {
      output += '<h2>' + soy.$$escapeHtml("Workflow triggers") + '</h2><table class="aui"><thead><tr><th>' + soy.$$escapeHtml("Triggers expressions summary") + '</th></tr></thead><tbody>';
      var fireTimeList440 = opt_data.fireTimes.workflowTriggers;
      var fireTimeListLen440 = fireTimeList440.length;
      for (var fireTimeIndex440 = 0; fireTimeIndex440 < fireTimeListLen440; fireTimeIndex440++) {
        var fireTimeData440 = fireTimeList440[fireTimeIndex440];
        output += '<tr><td>' + soy.$$escapeHtml(fireTimeData440.triggerExpressionSummary) + '</td></tr>';
      }
      output += '</tbody></table>';
    }
    if (opt_data.fireTimes.timeTriggers.length > 0) {
      output += '<h2>' + soy.$$escapeHtml("Time triggers") + '</h2><table class="aui"><thead><tr><th>' + soy.$$escapeHtml("Execution time") + '</th><th>' + soy.$$escapeHtml("Triggers expressions") + '</th><th>' + soy.$$escapeHtml("Triggers expressions summary") + '</th></tr></thead><tbody>';
      var fireTimeList457 = opt_data.fireTimes.timeTriggers;
      var fireTimeListLen457 = fireTimeList457.length;
      for (var fireTimeIndex457 = 0; fireTimeIndex457 < fireTimeListLen457; fireTimeIndex457++) {
        var fireTimeData457 = fireTimeList457[fireTimeIndex457];
        output += '<tr><td>' + ((fireTimeData457.cancelledByCalendar) ? '<s>' + soy.$$escapeHtml(fireTimeData457.fireTimeString) + '</s><span class="aui-lozenge aui-lozenge-current" style="margin-left: 10px;">' + soy.$$escapeHtml("CALENDAR DAY OFF") + '</span>' : soy.$$escapeHtml(fireTimeData457.fireTimeString)) + '</td><td>' + soy.$$escapeHtml(fireTimeData457.triggerExpression) + '</td><td>' + soy.$$escapeHtml(fireTimeData457.triggerExpressionSummary) + ((fireTimeData457.startDateFormatted || fireTimeData457.endDateFormatted) ? '<span title="' + ((fireTimeData457.startDateFormatted) ? soy.$$escapeHtml("Starts at") + ' ' + soy.$$escapeHtml(fireTimeData457.startDateFormatted) + '; ' : '') + ((fireTimeData457.endDateFormatted) ? soy.$$escapeHtml("Ends at") + ' ' + soy.$$escapeHtml(fireTimeData457.endDateFormatted) + ';' : '') + '" class="aui-icon aui-icon-small aui-iconfont-calendar help-cursor scheduler-tooltip-enabled" style="margin-left: 10px;"></span>' : '') + '</td></tr>';
      }
      output += '</tbody></table>';
    }
  }
  output += '</div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button id="tsp-trigger-future-fire-times-dialog-close-button" class="aui-button aui-button">' + soy.$$escapeHtml("OK") + '</button></div></footer></section>';
  return output;
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.triggerFutureFireTimesDialog.soyTemplateName = 'TheScheduler.Templates.Dialogs.triggerFutureFireTimesDialog';
}


TheScheduler.Templates.Dialogs.showCalendarDatesDialog = function(opt_data, opt_ignored) {
  return '<section role="dialog" id="tsp-show-calendar-dates-dialog" class="aui-layer aui-dialog2 aui-dialog2-medium" aria-hidden="true" data-aui-remove-on-hide="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">' + ((opt_data.calendarType == 'PROJECT') ? soy.$$escapeHtml("Project Calendar") + ': ' + soy.$$escapeHtml(opt_data.calendarName) : (opt_data.calendarType == 'GLOBAL') ? soy.$$escapeHtml("Global Calendar") + ': ' + soy.$$escapeHtml(opt_data.calendarName) : '') + '</h2><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a></header><div class="aui-dialog2-content"><h2>' + soy.$$escapeHtml("Calendar dates") + '</h2><table id="tsp-show-calendar-dates-dialog-table" class="aui"><thead><tr><th class="date-description-column">' + soy.$$escapeHtml("Description") + '</th><th class="date-date-column">' + soy.$$escapeHtml("Date") + '</th></tr></thead><tbody></tbody></table></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button id="tsp-show-calendar-dates-dialog-close-button" class="aui-button aui-button">' + soy.$$escapeHtml("OK") + '</button></div></footer></section>';
};
if (goog.DEBUG) {
  TheScheduler.Templates.Dialogs.showCalendarDatesDialog.soyTemplateName = 'TheScheduler.Templates.Dialogs.showCalendarDatesDialog';
}
;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-dialog2', location = 'src/js/aui/dialog2.js' */
("undefined"===typeof window?global:window).__df7047d25e7ae0c2f22a17f939177597=function(){function f(a){return a&&a.__esModule?a:{"default":a}}function e(a){var c=this.$el=a?(0,g.default)(a):(0,g.default)(aui.dialog.dialog2({}));g.default.each(i,function(a,b){var d="data-"+a;c[0].hasAttribute(d)||c.attr(d,b)})}var h={};"use strict";Object.defineProperty(h,"__esModule",{value:!0});var g=f(__700a145ba3db9966cc95664c892049f8),j=f(__65ca28a9d6b0f244027266ff8e6a6d1c),k=f(__28c84e7bb75f6c3b0ba124d57bd69571),
b=f(__3ada4a8272640e5242be87f12c7e0fdf),l=f(__d2e8fc66dac2ecebdc205fcab991f687),i={"aui-focus":"false","aui-blanketed":"true"};e.prototype.on=function(a,c){(0,b.default)(this.$el).on(a,c);return this};e.prototype.off=function(a,c){(0,b.default)(this.$el).off(a,c);return this};e.prototype.show=function(){(0,b.default)(this.$el).show();return this};e.prototype.hide=function(){(0,b.default)(this.$el).hide();return this};e.prototype.remove=function(){(0,b.default)(this.$el).remove();return this};e.prototype.isVisible=
function(){return(0,b.default)(this.$el).isVisible()};var d=(0,l.default)("dialog2",e);d.on=function(a,c){b.default.on(a,".aui-dialog2",c);return this};d.off=function(a,c){b.default.off(a,".aui-dialog2",c);return this};(0,g.default)(document).on("click",".aui-dialog2-header-close",function(a){a.preventDefault();d((0,g.default)(this).closest(".aui-dialog2")).hide()});d.on("show",function(a,c){var b;[".aui-dialog2-content",".aui-dialog2-footer",".aui-dialog2-header"].some(function(a){b=c.find(a+" :aui-tabbable");
return b.length});b&&b.first().focus()});d.on("hide",function(a,c){var d=(0,b.default)(c);c.data("aui-remove-on-hide")&&d.remove()});(0,j.default)("aui/dialog2",d);(0,k.default)("dialog2",d);h.default=d;return h=h["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:dialog2', location = 'src/soy/dialog2.soy' */
// This file was automatically generated from dialog2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.dialog.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.dialog == 'undefined') { aui.dialog = {}; }


aui.dialog.dialog2 = function(opt_data, opt_ignored) {
  return '' + aui.dialog.dialog2Chrome({id: opt_data.id, titleId: opt_data.id ? opt_data.id + '-dialog-title' : null, modal: opt_data.modal, tagName: opt_data.tagName, removeOnHide: opt_data.removeOnHide, visible: opt_data.visible, size: opt_data.size, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: '' + aui.dialog.dialog2Content({id: null, titleText: opt_data.titleText, titleContent: opt_data.titleContent, headerActionContent: opt_data.headerActionContent, headerSecondaryContent: opt_data.headerSecondaryContent, modal: opt_data.modal, content: opt_data.content, footerHintText: opt_data.footerHintText, footerHintContent: opt_data.footerHintContent, footerActionContent: opt_data.footerActionContent})});
};
if (goog.DEBUG) {
  aui.dialog.dialog2.soyTemplateName = 'aui.dialog.dialog2';
}


aui.dialog.dialog2Chrome = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.titleId) ? ' aria-labelledby="' + soy.$$escapeHtml(opt_data.titleId) + '"' : '') + ' role="dialog" class=" aui-layer aui-dialog2 aui-dialog2-' + soy.$$escapeHtml(opt_data.size ? opt_data.size : 'medium') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.modal) ? 'data-aui-modal="true"' : '') + ((opt_data.removeOnHide) ? 'data-aui-remove-on-hide="true"' : '') + ((opt_data.visible != true) ? 'aria-hidden="true"' : '') + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + '>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Chrome.soyTemplateName = 'aui.dialog.dialog2Chrome';
}


aui.dialog.dialog2Content = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + aui.dialog.dialog2Header({titleId: opt_data.id ? opt_data.id + '-dialog-title' : null, titleText: opt_data.titleText, titleContent: opt_data.titleContent, actionContent: opt_data.headerActionContent, secondaryContent: opt_data.headerSecondaryContent, modal: opt_data.modal}) + aui.dialog.dialog2Panel(opt_data) + aui.dialog.dialog2Footer({hintText: opt_data.footerHintText, hintContent: opt_data.footerHintContent, actionContent: opt_data.footerActionContent});
};
if (goog.DEBUG) {
  aui.dialog.dialog2Content.soyTemplateName = 'aui.dialog.dialog2Content';
}


aui.dialog.dialog2Header = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<header' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-header' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><h2 ' + ((opt_data.titleId) ? ' id="' + soy.$$escapeHtml(opt_data.titleId) + '"' : '') + ' class="aui-dialog2-header-main">' + ((opt_data.titleText) ? soy.$$escapeHtml(opt_data.titleText) : '') + ((opt_data.titleContent) ? soy.$$filterNoAutoescape(opt_data.titleContent) : '') + '</h2>' + ((opt_data.actionContent) ? '<div class="aui-dialog2-header-actions">' + soy.$$filterNoAutoescape(opt_data.actionContent) + '</div>' : '') + ((opt_data.secondaryContent) ? '<div class="aui-dialog2-header-secondary">' + soy.$$filterNoAutoescape(opt_data.secondaryContent) + '</div>' : '') + ((opt_data.modal != true) ? '<a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml("Close") + '</span></a>' : '') + '</header>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Header.soyTemplateName = 'aui.dialog.dialog2Header';
}


aui.dialog.dialog2Footer = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<footer' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-footer' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.actionContent) ? '<div class="aui-dialog2-footer-actions">' + soy.$$filterNoAutoescape(opt_data.actionContent) + '</div>' : '') + ((opt_data.hintText || opt_data.hintContent) ? '<div class="aui-dialog2-footer-hint">' + ((opt_data.hintText) ? soy.$$escapeHtml(opt_data.hintText) : '') + ((opt_data.hintContent) ? soy.$$filterNoAutoescape(opt_data.hintContent) : '') + '</div>' : '') + '</footer>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Footer.soyTemplateName = 'aui.dialog.dialog2Footer';
}


aui.dialog.dialog2Panel = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-content' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Panel.soyTemplateName = 'aui.dialog.dialog2Panel';
}
;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-vendor-jquery-plugins-jquery-select2', location = 'src/js-vendor/jquery/plugins/jquery.select2.js' */
("undefined"===typeof window?global:window).__63e2d0d906dfc9cc19eb6e8389c4f5a3=function(){var y=jQuery;"undefined"==typeof y.fn.each2&&y.extend(y.fn,{each2:function(a){for(var b=y([0]),c=-1,d=this.length;++c<d&&(b.context=b[0]=this[c])&&!1!==a.call(b[0],c,b););return this}});var e=jQuery,w=function(a){var b,c,d,g;if(!a||1>a.length)return a;b="";c=0;for(d=a.length;c<d;c++)g=a.charAt(c),b+=O[g]||g;return b},k=function(a,b){for(var c=0,d=b.length;c<d;c+=1)if(m(a,b[c]))return c;return-1},m=function(a,
b){return a===b?!0:void 0===a||void 0===b||null===a||null===b?!1:a.constructor===String?a+""===b+"":b.constructor===String?b+""===a+"":!1},B=function(a,b){var c,d,g;if(null===a||1>a.length)return[];c=a.split(b);d=0;for(g=c.length;d<g;d+=1)c[d]=e.trim(c[d]);return c},G=function(a){a.on("keydown",function(){void 0===e.data(a,"keyup-change-value")&&e.data(a,"keyup-change-value",a.val())});a.on("keyup",function(){var b=e.data(a,"keyup-change-value");void 0!==b&&a.val()!==b&&(e.removeData(a,"keyup-change-value"),
a.trigger("keyup-change"))})},H=function(a,b,c){var c=c||void 0,d;return function(){var g=arguments;window.clearTimeout(d);d=window.setTimeout(function(){b.apply(c,g)},a)}},j=function(a){a.preventDefault();a.stopPropagation()},z=function(a,b,c){var d,g=[],h;(d=a.attr("class"))&&e((""+d).split(" ")).each2(function(){0===this.indexOf("select2-")&&g.push(this)});(d=b.attr("class"))&&e((""+d).split(" ")).each2(function(){0!==this.indexOf("select2-")&&(h=c(this))&&g.push(h)});a.attr("class",g.join(" "))},
I=function(a,b,c,d){var g=w(a.toUpperCase()).indexOf(w(b.toUpperCase())),b=b.length;0>g?c.push(d(a)):(c.push(d(a.substring(0,g))),c.push("<span class='select2-match'>"),c.push(d(a.substring(g,g+b))),c.push("</span>"),c.push(d(a.substring(g+b,a.length))))},J=function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})},K=function(a){var b,c=null,d=a.quietMillis||100,g=a.url,h=this;return function(l){window.clearTimeout(b);
b=window.setTimeout(function(){var b=a.data,d=g,t=a.transport||e.fn.select2.ajaxDefaults.transport,f=e.extend({},e.fn.select2.ajaxDefaults.params,{type:a.type||"GET",cache:a.cache||!1,jsonpCallback:a.jsonpCallback||void 0,dataType:a.dataType||"json"}),b=b?b.call(h,l.term,l.page,l.context):null,d="function"===typeof d?d.call(h,l.term,l.page,l.context):d;c&&c.abort();a.params&&(e.isFunction(a.params)?e.extend(f,a.params.call(h)):e.extend(f,a.params));e.extend(f,{url:d,dataType:a.dataType,data:b,success:function(b){b=
a.results(b,l.page);l.callback(b)}});c=t.call(h,f)},d)}},L=function(a){var b=a,c,d,g=function(a){return""+a.text};e.isArray(b)&&(d=b,b={results:d});!1===e.isFunction(b)&&(d=b,b=function(){return d});a=b();a.text&&(g=a.text,e.isFunction(g)||(c=a.text,g=function(a){return a[c]}));return function(a){var c=a.term,d={results:[]},n;if(c==="")a.callback(b());else{n=function(b,d){var i,f,b=b[0];if(b.children){i={};for(f in b)b.hasOwnProperty(f)&&(i[f]=b[f]);i.children=[];e(b.children).each2(function(a,b){n(b,
i.children)});(i.children.length||a.matcher(c,g(i),b))&&d.push(i)}else a.matcher(c,g(b),b)&&d.push(b)};e(b().results).each2(function(a,b){n(b,d.results)});a.callback(d)}}},M=function(a){var b=e.isFunction(a);return function(c){var d=c.term,g={results:[]};e(b?a():a).each(function(){var a=void 0!==this.text,b=a?this.text:this;if(""===d||c.matcher(d,b))g.results.push(a?this:{id:this,text:this})});c.callback(g)}},r=function(a,b){if(e.isFunction(a))return!0;if(!a)return!1;throw Error(b+" must be a function or a falsy value");
},o=function(a){return e.isFunction(a)?a():a},N=function(a){var b=0;e.each(a,function(a,d){d.children?b+=N(d.children):b++});return b},P=function(a,b,c,d){var g=a,h=!1,e,i,f,t;if(d.createSearchChoice&&d.tokenSeparators&&!(1>d.tokenSeparators.length)){for(;;){h=-1;i=0;for(f=d.tokenSeparators.length;i<f&&!(t=d.tokenSeparators[i],h=a.indexOf(t),0<=h);i++);if(0>h)break;e=a.substring(0,h);a=a.substring(h+t.length);if(0<e.length&&(e=d.createSearchChoice.call(this,e,b),void 0!==e&&null!==e&&void 0!==d.id(e)&&
null!==d.id(e))){h=!1;i=0;for(f=b.length;i<f;i++)if(m(d.id(e),d.id(b[i]))){h=!0;break}h||c(e)}}if(g!==a)return a}},C=function(a,b){var c=function(){};c.prototype=new a;c.prototype.constructor=c;c.prototype.parent=a.prototype;c.prototype=e.extend(c.prototype,b);return c};if(void 0===window.Select2){var f,s,D,E,A,v,x={x:0,y:0},F;f={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){a=
a.which?a.which:a;switch(a){case f.LEFT:case f.RIGHT:case f.UP:case f.DOWN:return!0}return!1},isControl:function(a){switch(a.which){case f.SHIFT:case f.CTRL:case f.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){a=a.which?a.which:a;return 112<=a&&123>=a}};var O={"\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A",
"\u00c4":"A","\u01de":"A","\u1ea2":"A","\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C",
"\u00c7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E",
"\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H",
"\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K",
"\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N",
"\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O",
"\u1ed8":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R",
"\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U",
"\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W",
"\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a",
"\u1e9a":"a","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av",
"\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e",
"\u00e8":"e","\u00e9":"e","\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g",
"\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i",
"\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l",
"\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o",
"\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p",
"\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s",
"\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u",
"\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y",
"\u1e8f":"y","\u00ff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};s=e(document);var Q=1;A=function(){return Q++};s.on("mousemove",function(a){x.x=a.pageX;x.y=a.pageY});s=C(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(a){var b,c;this.opts=a=this.prepareOpts(a);
this.id=a.id;void 0!==a.element.data("select2")&&null!==a.element.data("select2")&&a.element.data("select2").destroy();this.container=this.createContainer();this.containerId="s2id_"+(a.element.attr("id")||"autogen"+A());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);var d=!1,g;this.body=function(){!1===d&&(g=a.element.closest("body"),d=!0);return g};z(this.container,this.opts.element,this.opts.adaptContainerCssClass);
this.container.attr("style",a.element.attr("style"));this.container.css(o(a.containerCss));this.container.addClass(o(a.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",j);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");z(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(o(a.dropdownCssClass));
this.dropdown.data("select2",this);this.dropdown.on("click",j);this.results=b=this.container.find(".select2-results");this.search=c=this.container.find("input.select2-input");this.resultsPage=this.queryCount=0;this.context=null;this.initContainer();this.container.on("click",j);this.results.on("mousemove",function(a){(void 0===x||x.x!==a.pageX||x.y!==a.pageY)&&e(a.target).trigger("mousemove-filtered",a)});this.dropdown.on("mousemove-filtered touchstart touchmove touchend",".select2-results",this.bind(this.highlightUnderEvent));
var h=this.results,l=H(80,function(a){h.trigger("scroll-debounced",a)});h.on("scroll",function(a){0<=k(a.target,h.get())&&l(a)});this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded));e(this.container).on("change",".select2-input",function(a){a.stopPropagation()});e(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()});e.fn.mousewheel&&b.mousewheel(function(a,c,d,g){c=b.scrollTop();0<g&&0>=c-g?(b.scrollTop(0),j(a)):0>g&&b.get(0).scrollHeight-
b.scrollTop()+g<=b.height()&&(b.scrollTop(b.get(0).scrollHeight-b.height()),j(a))});G(c);c.on("keyup-change input paste",this.bind(this.updateResults));c.on("focus",function(){c.addClass("select2-focused")});c.on("blur",function(){c.removeClass("select2-focused")});this.dropdown.on("mouseup",".select2-results",this.bind(function(a){0<e(a.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(a),this.selectHighlighted(a))}));this.dropdown.on("click mouseup mousedown",function(a){a.stopPropagation()});
e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());null!==a.maximumInputLength&&this.search.attr("maxlength",a.maximumInputLength);var i=a.element.prop("disabled");void 0===i&&(i=!1);this.enable(!i);i=a.element.prop("readonly");void 0===i&&(i=!1);this.readonly(i);if(!(i=F)){i=e("<div class='select2-measure-scrollbar'></div>");i.appendTo("body");var f={width:i.width()-i[0].clientWidth,height:i.height()-i[0].clientHeight};i.remove();i=f}F=i;this.autofocus=a.element.prop("autofocus");
a.element.prop("autofocus",!1);this.autofocus&&this.focus();this.nextSearchTerm=void 0},destroy:function(){var a=this.opts.element,b=a.data("select2");this.close();this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null);void 0!==b&&(b.container.remove(),b.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show())},
optionToData:function(a){if(a.is("option"))return{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:m(a.attr("locked"),"locked")||m(a.data("locked"),!0)};if(a.is("optgroup"))return{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}},prepareOpts:function(a){var b,c,d,g=this;b=a.element;"select"===b.get(0).tagName.toLowerCase()&&(this.select=c=a.element);c&&e.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),
function(){if(this in a)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");});a=e.extend({},{populateResults:function(b,c,d){var f,t=this.opts.id;f=function(b,c,h){var l,j,m,k,o,u,q,b=a.sortResults(b,c,d);l=0;for(j=b.length;l<j;l=l+1){m=b[l];o=m.disabled===true;k=!o&&t(m)!==void 0;u=m.children&&m.children.length>0;q=e("<li></li>");q.addClass("select2-results-dept-"+h);q.addClass("select2-result");q.addClass(k?"select2-result-selectable":"select2-result-unselectable");
o&&q.addClass("select2-disabled");u&&q.addClass("select2-result-with-children");q.addClass(g.opts.formatResultCssClass(m));k=e(document.createElement("div"));k.addClass("select2-result-label");o=a.formatResult(m,k,d,g.opts.escapeMarkup);o!==void 0&&k.html(o);q.append(k);if(u){u=e("<ul></ul>");u.addClass("select2-result-sub");f(m.children,u,h+1);q.append(u)}q.data("select2-data",m);c.append(q)}};f(c,b,0)}},e.fn.select2.defaults,a);"function"!==typeof a.id&&(d=a.id,a.id=function(a){return a[d]});if(e.isArray(a.element.data("select2Tags"))){if("tags"in
a)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+a.element.attr("id");a.tags=a.element.data("select2Tags")}if(c)a.query=this.bind(function(a){var c={results:[],more:false},d=a.term,e,f,p;p=function(b,c){var e;if(b.is("option"))a.matcher(d,b.text(),b)&&c.push(g.optionToData(b));else if(b.is("optgroup")){e=g.optionToData(b);b.children().each2(function(a,b){p(b,e.children)});e.children.length>0&&c.push(e)}};e=b.children();if(this.getPlaceholder()!==void 0&&
e.length>0)(f=this.getPlaceholderOption())&&(e=e.not(f));e.each2(function(a,b){p(b,c.results)});a.callback(c)}),a.id=function(a){return a.id},a.formatResultCssClass=function(a){return a.css};else if(!("query"in a))if("ajax"in a){if((c=a.element.data("ajax-url"))&&0<c.length)a.ajax.url=c;a.query=K.call(a.element,a.ajax)}else if("data"in a)a.query=L(a.data);else if("tags"in a&&(a.query=M(a.tags),void 0===a.createSearchChoice&&(a.createSearchChoice=function(a){return{id:e.trim(a),text:e.trim(a)}}),void 0===
a.initSelection))a.initSelection=function(b,c){var d=[];e(B(b.val(),a.separator)).each(function(){var b={id:this,text:this},c=a.tags;e.isFunction(c)&&(c=c());e(c).each(function(){if(m(this.id,b.id)){b=this;return false}});d.push(b)});c(d)};if("function"!==typeof a.query)throw"query function not defined for Select2 "+a.element.attr("id");return a},monitorSource:function(){var a=this.opts.element,b,c;a.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&
this.initSelection()}));b=this.bind(function(){var b=a.prop("disabled");void 0===b&&(b=!1);this.enable(!b);b=a.prop("readonly");void 0===b&&(b=!1);this.readonly(b);z(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(o(this.opts.containerCssClass));z(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(o(this.opts.dropdownCssClass))});a.on("propertychange.select2",b);void 0===this.mutationCallback&&(this.mutationCallback=function(a){a.forEach(b)});
c=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;void 0!==c&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new c(this.mutationCallback),this.propertyObserver.observe(a.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(a){a=e.Event("select2-selecting",{val:this.id(a),object:a});this.opts.element.trigger(a);return!a.isDefaultPrevented()},triggerChange:function(a){a=a||{};a=e.extend({},a,{type:"change",
val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(a);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var a=this._enabled&&!this._readonly;if(a===this.enabledInterface)return!1;this.container.toggleClass("select2-container-disabled",!a);this.close();this.enabledInterface=a;return!0},
enable:function(a){void 0===a&&(a=!0);this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){void 0===a&&(a=!1);if(this._readonly===a)return!1;this._readonly=a;this.opts.element.prop("readonly",a);this.enableInterface();return!0},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var a=this.dropdown,b=this.container.offset(),c=this.container.outerHeight(!1),
d=this.container.outerWidth(!1),g=a.outerHeight(!1),h=e(window),f=h.width(),i=h.height(),n=h.scrollLeft()+f,j=h.scrollTop()+i,c=b.top+c,p=b.left,j=c+g<=j,m=b.top-g>=this.body().scrollTop(),k=a.outerWidth(!1),r=p+k<=n,s;a.hasClass("select2-drop-above")?(g=!0,!m&&j&&(s=!0,g=!1)):(g=!1,!j&&m&&(g=s=!0));s&&(a.hide(),b=this.container.offset(),c=this.container.outerHeight(!1),d=this.container.outerWidth(!1),a.outerHeight(!1),n=h.scrollLeft()+f,h.scrollTop(),c=b.top+c,p=b.left,k=a.outerWidth(!1),r=p+k<=
n,a.show());this.opts.dropdownAutoWidth?(h=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),k=a.outerWidth(!1)+(h.scrollHeight===h.clientHeight?0:F.width),k>d?d=k:k=d,r=p+k<=n):this.container.removeClass("select2-drop-auto-width");"static"!==this.body().css("position")&&(n=this.body().offset(),c-=n.top,p-=n.left);r||(p=b.left+d-k);d={left:p,width:d};g?(d.bottom=i-b.top,d.top="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(d.top=
c,d.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above"));d=e.extend(d,o(this.opts.dropdownCss));a.css(d)},shouldOpen:function(){var a;if(this.opened()||!1===this._enabled||!0===this._readonly)return!1;a=e.Event("select2-opening");this.opts.element.trigger(a);return!a.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen())return!1;
this.opening();return!0},opening:function(){var a=this.containerId,b="scroll."+a,c="resize."+a,d="orientationchange."+a;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body());a=e("#select2-drop-mask");0==a.length&&(a=e(document.createElement("div")),a.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),a.hide(),a.appendTo(this.body()),
a.on("mousedown touchstart click",function(a){var b=e("#select2-drop");0<b.length&&(b=b.data("select2"),b.opts.selectOnBlur&&b.selectHighlighted({noFocus:!0}),b.close({focus:!0}),a.preventDefault(),a.stopPropagation())}));this.dropdown.prev()[0]!==a[0]&&this.dropdown.before(a);e("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");a.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var g=this;this.container.parents().add(window).each(function(){e(this).on(c+
" "+b+" "+d,function(){g.positionDropdown()})})},close:function(){if(this.opened()){var a=this.containerId,b="scroll."+a,c="resize."+a,d="orientationchange."+a;this.container.parents().add(window).each(function(){e(this).off(b).off(c).off(d)});this.clearDropdownAlignmentPreference();e("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");
this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(a){this.open();this.search.val(a);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return o(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var a=this.results,b,c,d,g;c=this.highlight();0>c||(0==c?a.scrollTop(0):(b=this.findHighlightableChoices().find(".select2-result-label"),d=e(b[c]),g=d.offset().top+d.outerHeight(!0),c===b.length-1&&(b=a.find("li.select2-more-results"),
0<b.length&&(g=b.offset().top+b.outerHeight(!0))),b=a.offset().top+a.outerHeight(!0),g>b&&a.scrollTop(a.scrollTop()+(g-b)),g=d.offset().top-a.offset().top,0>g&&"none"!=d.css("display")&&a.scrollTop(a.scrollTop()+g)))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(a){for(var b=this.findHighlightableChoices(),c=this.highlight();-1<c&&c<b.length;){var c=c+a,d=e(b[c]);if(d.hasClass("select2-result-selectable")&&
!d.hasClass("select2-disabled")&&!d.hasClass("select2-selected")){this.highlight(c);break}}},highlight:function(a){var b=this.findHighlightableChoices();if(0===arguments.length)return k(b.filter(".select2-highlighted")[0],b.get());a>=b.length&&(a=b.length-1);0>a&&(a=0);this.removeHighlight();b=e(b[a]);b.addClass("select2-highlighted");this.ensureHighlightVisible();(b=b.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(b),choice:b})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},
countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(a){a=e(a.target).closest(".select2-result-selectable");if(0<a.length&&!a.is(".select2-highlighted")){var b=this.findHighlightableChoices();this.highlight(b.index(a))}else 0==a.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var a=this.results,b=a.find("li.select2-more-results"),c,d=this.resultsPage+1,e=this,h=this.search.val(),f=this.context;0!==b.length&&(c=b.offset().top-a.offset().top-
a.height(),c<=this.opts.loadMorePadding&&(b.addClass("select2-active"),this.opts.query({element:this.opts.element,term:h,page:d,context:f,matcher:this.opts.matcher,callback:this.bind(function(c){e.opened()&&(e.opts.populateResults.call(this,a,c.results,{term:h,page:d,context:f}),e.postprocessResults(c,!1,!1),!0===c.more?(b.detach().appendTo(a).text(e.opts.formatLoadMore(d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):b.remove(),e.positionDropdown(),e.resultsPage=d,e.context=c.context,
this.opts.element.trigger({type:"select2-loaded",items:c}))})})))},tokenize:function(){},updateResults:function(a){function b(){d.removeClass("select2-active");i.positionDropdown()}function c(a){g.html(a);b()}var d=this.search,g=this.results,h=this.opts,f,i=this;f=d.val();var n=e.data(this.container,"select2-last-term"),j;if(!(!0!==a&&n&&m(f,n))&&(e.data(this.container,"select2-last-term",f),!(!0!==a&&(!1===this.showSearchInput||!this.opened())))){j=++this.queryCount;n=this.getMaximumSelectionSize();
if(1<=n&&(f=this.data(),e.isArray(f)&&f.length>=n&&r(h.formatSelectionTooBig,"formatSelectionTooBig"))){c("<li class='select2-selection-limit'>"+h.formatSelectionTooBig(n)+"</li>");return}d.val().length<h.minimumInputLength?(r(h.formatInputTooShort,"formatInputTooShort")?c("<li class='select2-no-results'>"+h.formatInputTooShort(d.val(),h.minimumInputLength)+"</li>"):c(""),a&&this.showSearch&&this.showSearch(!0)):h.maximumInputLength&&d.val().length>h.maximumInputLength?r(h.formatInputTooLong,"formatInputTooLong")?
c("<li class='select2-no-results'>"+h.formatInputTooLong(d.val(),h.maximumInputLength)+"</li>"):c(""):(h.formatSearching&&0===this.findHighlightableChoices().length&&c("<li class='select2-searching'>"+h.formatSearching()+"</li>"),d.addClass("select2-active"),this.removeHighlight(),f=this.tokenize(),void 0!=f&&null!=f&&d.val(f),this.resultsPage=1,h.query({element:h.element,term:d.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(f){var l;j==this.queryCount&&(this.opened()?
(this.context=void 0===f.context?null:f.context,this.opts.createSearchChoice&&""!==d.val()&&(l=this.opts.createSearchChoice.call(i,d.val(),f.results),void 0!==l&&null!==l&&void 0!==i.id(l)&&null!==i.id(l)&&0===e(f.results).filter(function(){return m(i.id(this),i.id(l))}).length&&f.results.unshift(l)),0===f.results.length&&r(h.formatNoMatches,"formatNoMatches"))?c("<li class='select2-no-results'>"+h.formatNoMatches(d.val())+"</li>"):(g.empty(),i.opts.populateResults.call(this,g,f.results,{term:d.val(),
page:this.resultsPage,context:null}),!0===f.more&&r(h.formatLoadMore,"formatLoadMore")&&(g.append("<li class='select2-more-results'>"+i.opts.escapeMarkup(h.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){i.loadMoreIfNeeded()},10)),this.postprocessResults(f,a),b(),this.opts.element.trigger({type:"select2-loaded",items:f})):this.search.removeClass("select2-active"))})}))}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});
this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var a=this.search;a[0]!==document.activeElement&&window.setTimeout(function(){var b=a[0],c=a.val().length;a.focus();a.is(":visible")&&b===document.activeElement&&(b.setSelectionRange?b.setSelectionRange(c,c):b.createTextRange&&(b=b.createTextRange(),
b.collapse(!1),b.select()))},0)},selectHighlighted:function(a){var b=this.highlight(),c=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");c?(this.highlight(b),this.onSelect(c,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||(void 0!==(a=this.getPlaceholderOption())?a.text():void 0)},getPlaceholderOption:function(){if(this.select){var a=
this.select.children("option").first();if(void 0!==this.opts.placeholderOption)return"first"===this.opts.placeholderOption&&a||"function"===typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.text()&&""===a.val())return a}},initContainerWidth:function(){var a=function(){var a,c,d,g;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||
"resolve"===this.opts.width){a=this.opts.element.attr("style");if(void 0!==a){a=a.split(";");d=0;for(g=a.length;d<g;d+=1)if(c=a[d].replace(/\s/g,""),c=c.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==c&&1<=c.length)return c[1]}return"resolve"===this.opts.width?(a=this.opts.element.css("width"),0<a.indexOf("%")?a:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);
null!==a&&this.container.css("width",a)}});D=C(s,{createContainer:function(){return e(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>   <span class='select2-arrow'><b></b></span></a><input class='select2-focusser select2-offscreen' type='text'/><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>   </div>   <ul class='select2-results'>   </ul></div>")},
enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var a,b;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0);this.parent.opening.apply(this,arguments);!1!==this.showSearchInput&&this.search.val(this.focusser.val());this.search.focus();a=this.search.get(0);a.createTextRange?(a=a.createTextRange(),a.collapse(!1),a.select()):a.setSelectionRange&&(b=this.search.val().length,a.setSelectionRange(b,
b));""===this.search.val()&&void 0!=this.nextSearchTerm&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(e.Event("select2-open"))},close:function(a){this.opened()&&(this.parent.close.apply(this,arguments),a=a||{focus:!0},this.focusser.removeAttr("disabled"),a.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},
cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var a,b=this.container,c=this.dropdown;0>this.opts.minimumResultsForSearch?this.showSearch(!1):this.showSearch(!0);this.selection=a=b.find(".select2-choice");this.focusser=b.find(".select2-focusser");this.focusser.attr("id",
"s2id_autogen"+A());e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled())if(a.which===f.PAGE_UP||a.which===f.PAGE_DOWN)j(a);else switch(a.which){case f.UP:case f.DOWN:this.moveHighlight(a.which===f.UP?-1:1);j(a);break;case f.ENTER:this.selectHighlighted();j(a);break;case f.TAB:this.selectHighlighted({noFocus:!0});break;case f.ESC:this.cancel(a),
j(a)}}));this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&!(a.which===f.TAB||f.isControl(a)||f.isFunctionKey(a)||a.which===f.ESC))if(!1===this.opts.openOnEnter&&a.which===f.ENTER)j(a);else if(a.which==f.DOWN||a.which==f.UP||a.which==f.ENTER&&this.opts.openOnEnter)!a.altKey&&(!a.ctrlKey&&!a.shiftKey&&!a.metaKey)&&(this.open(),
j(a));else if(a.which==f.DELETE||a.which==f.BACKSPACE)this.opts.allowClear&&this.clear(),j(a)}));G(this.focusser);this.focusser.on("keyup-change input",this.bind(function(a){0<=this.opts.minimumResultsForSearch&&(a.stopPropagation(),this.opened()||this.open())}));a.on("mousedown","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),a.preventDefault(),a.stopImmediatePropagation(),this.close(),this.selection.focus())}));a.on("mousedown",this.bind(function(a){this.container.hasClass("select2-container-active")||
this.opts.element.trigger(e.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();j(a)}));c.on("mousedown",this.bind(function(){this.search.focus()}));a.on("focus",this.bind(function(a){j(a)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),
this.opts.element.trigger(e.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(a){var b=this.selection.data("select2-data");if(b){var c=e.Event("select2-clearing");this.opts.element.trigger(c);c.isDefaultPrevented()||
(c=this.getPlaceholderOption(),this.opts.element.val(c?c.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==a&&(this.opts.element.trigger({type:"select2-removed",val:this.id(b),choice:b}),this.triggerChange({removed:b})))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){void 0!==
b&&null!==b&&(a.updateSelection(b),a.close(),a.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var a;return!this.getPlaceholder()?!1:void 0!==(a=this.getPlaceholderOption())&&a.prop("selected")||""===this.opts.element.val()||void 0===this.opts.element.val()||null===this.opts.element.val()},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),b=this;"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(a,d){var e=a.find("option").filter(function(){return this.selected});
d(b.optionToData(e))}:"data"in a&&(a.initSelection=a.initSelection||function(b,d){var g=b.val(),f=null;a.query({matcher:function(b,c,d){(b=m(g,a.id(d)))&&(f=d);return b},callback:!e.isFunction(d)?e.noop:function(){d(f)}})});return a},getPlaceholder:function(){return this.select&&void 0===this.getPlaceholderOption()?void 0:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();this.isPlaceholderOptionSelected()&&void 0!==a&&!(this.select&&void 0===this.getPlaceholderOption())&&
(this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear"))},postprocessResults:function(a,b,c){var d=0,e=this;this.findHighlightableChoices().each2(function(a,b){if(m(e.id(b.data("select2-data")),e.opts.element.val()))return d=a,!1});!1!==c&&(!0===b&&0<=d?this.highlight(d):this.highlight(0));!0===b&&(b=this.opts.minimumResultsForSearch,0<=b&&this.showSearch(N(a.results)>=b))},showSearch:function(a){this.showSearchInput!==
a&&(this.showSearchInput=a,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!a),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!a),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",a))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a));this.updateSelection(a);this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a});this.nextSearchTerm=
this.opts.nextSearchTerm(a,this.search.val());this.close();(!b||!b.noFocus)&&this.focusser.focus();m(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var b=this.selection.find(".select2-chosen"),c;this.selection.data("select2-data",a);b.empty();null!==a&&(c=this.opts.formatSelection(a,b,this.opts.escapeMarkup));void 0!==c&&b.append(c);a=this.opts.formatSelectionCssClass(a,b);void 0!==a&&b.addClass(a);this.selection.removeClass("select2-default");this.opts.allowClear&&
void 0!==this.getPlaceholder()&&this.container.addClass("select2-allowclear")},val:function(){var a,b=!1,c=null,d=this,e=this.data();if(0===arguments.length)return this.opts.element.val();a=arguments[0];1<arguments.length&&(b=arguments[1]);if(this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){c=d.optionToData(b);return!1}),this.updateSelection(c),this.setPlaceholder(),b&&this.triggerChange({added:c,removed:e});else if(!a&&0!==a)this.clear(b);
else{if(void 0===this.opts.initSelection)throw Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a);this.opts.initSelection(this.opts.element,function(a){d.opts.element.val(!a?"":d.id(a));d.updateSelection(a);d.setPlaceholder();b&&d.triggerChange({added:a,removed:e})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(a){var b,c=!1;if(0===arguments.length)return b=this.selection.data("select2-data"),void 0==b&&(b=null),b;1<arguments.length&&
(c=arguments[1]);a?(b=this.data(),this.opts.element.val(!a?"":this.id(a)),this.updateSelection(a),c&&this.triggerChange({added:a,removed:b})):this.clear(c)}});E=C(s,{createContainer:function(){return e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   </ul></div>")},
prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),b=this;"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(a,d){var e=[];a.find("option").filter(function(){return this.selected}).each2(function(a,c){e.push(b.optionToData(c))});d(e)}:"data"in a&&(a.initSelection=a.initSelection||function(b,d){var g=B(b.val(),a.separator),f=[];a.query({matcher:function(b,c,d){(b=e.grep(g,function(b){return m(b,a.id(d))}).length)&&f.push(d);return b},callback:!e.isFunction(d)?
e.noop:function(){for(var b=[],c=0;c<g.length;c++)for(var e=g[c],j=0;j<f.length;j++){var k=f[j];if(m(e,a.id(k))){b.push(k);f.splice(j,1);break}}d(b)}})});return a},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");if(!b.length||!(a&&a[0]==b[0]))b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a))},destroy:function(){e("label[for='"+
this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var a;this.searchContainer=this.container.find(".select2-search-field");this.selection=a=this.container.find(".select2-choices");var b=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){b.search[0].focus();b.selectChoice(e(this))});this.search.attr("id","s2id_autogen"+A());e("label[for='"+this.opts.element.attr("id")+"']").attr("for",
this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(b){var d,g;if(this.isInterfaceEnabled()){++this.keydowns;var h=a.find(".select2-search-choice-focus"),l=h.prev(".select2-search-choice:not(.select2-locked)"),i=h.next(".select2-search-choice:not(.select2-locked)");d=this.search;d=e(d)[0];var k=0;g=0;"selectionStart"in
d?(k=d.selectionStart,g=d.selectionEnd-k):"selection"in document&&(d.focus(),k=document.selection.createRange(),g=document.selection.createRange().text.length,k.moveStart("character",-d.value.length),k=k.text.length-g);d=k;if(h.length&&(b.which==f.LEFT||b.which==f.RIGHT||b.which==f.BACKSPACE||b.which==f.DELETE||b.which==f.ENTER))g=h,b.which==f.LEFT&&l.length?g=l:b.which==f.RIGHT?g=i.length?i:null:b.which===f.BACKSPACE?(this.unselect(h.first()),this.search.width(10),g=l.length?l:i):b.which==f.DELETE?
(this.unselect(h.first()),this.search.width(10),g=i.length?i:null):b.which==f.ENTER&&(g=null),this.selectChoice(g),j(b),(!g||!g.length)&&this.open();else if((b.which===f.BACKSPACE&&1==this.keydowns||b.which==f.LEFT)&&0==d&&!g)this.selectChoice(a.find(".select2-search-choice:not(.select2-locked)").last()),j(b);else{this.selectChoice(null);if(this.opened())switch(b.which){case f.UP:case f.DOWN:this.moveHighlight(b.which===f.UP?-1:1);j(b);return;case f.ENTER:this.selectHighlighted();j(b);return;case f.TAB:this.selectHighlighted({noFocus:!0});
this.close();return;case f.ESC:this.cancel(b);j(b);return}b.which===f.TAB||f.isControl(b)||f.isFunctionKey(b)||b.which===f.BACKSPACE||b.which===f.ESC||b.which===f.ENTER&&(!1===this.opts.openOnEnter||b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)||(this.open(),(b.which===f.PAGE_UP||b.which===f.PAGE_DOWN)&&j(b),b.which===f.ENTER&&j(b))}}}));this.search.on("keyup",this.bind(function(){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(a){this.container.removeClass("select2-container-active");
this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();a.stopImmediatePropagation();this.opts.element.trigger(e.Event("select2-blur"))}));this.container.on("click",".select2-choices",this.bind(function(a){this.isInterfaceEnabled()&&!(0<e(a.target).closest(".select2-search-choice").length)&&(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),
this.focusSearch(),a.preventDefault())}));this.container.on("focus",".select2-choices",this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,
arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){if(b!==void 0&&b!==null){a.updateSelection(b);a.close();a.clearSearch()}})}},clearSearch:function(){var a=this.getPlaceholder(),b=this.getMaxSearchWidth();void 0!==a&&
0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.search.width(0<b?b:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();this.updateResults(!0);this.search.focus();this.opts.element.trigger(e.Event("select2-open"))},
close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(a){var b=[],c=[],d=this;e(a).each(function(){0>k(d.id(this),b)&&(b.push(d.id(this)),c.push(this))});a=c;this.selection.find(".select2-search-choice").remove();e(a).each(function(){d.addSelectedChoice(this)});d.postprocessResults()},tokenize:function(){var a=this.search.val(),a=this.opts.tokenizer.call(this,
a,this.data(),this.bind(this.onSelect),this.opts);null!=a&&void 0!=a&&(this.search.val(a),0<a.length&&this.open())},onSelect:function(a,b){this.triggerSelect(a)&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&
this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),(!b||!b.noFocus)&&this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(a){var b=!a.locked,c=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),d=e("<li class='select2-search-choice select2-locked'><div></div></li>"),
c=b?c:d,d=this.id(a),f=this.getVal(),h;h=this.opts.formatSelection(a,c.find("div"),this.opts.escapeMarkup);void 0!=h&&c.find("div").replaceWith("<div>"+h+"</div>");h=this.opts.formatSelectionCssClass(a,c.find("div"));void 0!=h&&c.addClass(h);if(b)c.find(".select2-search-choice-close").on("mousedown",j).on("click dblclick",this.bind(function(a){this.isInterfaceEnabled()&&(e(a.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(a.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");
this.close();this.focusSearch()})).dequeue(),j(a))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));c.data("select2-data",a);c.insertBefore(this.searchContainer);f.push(d);this.setVal(f)},unselect:function(a){var b=this.getVal(),c,d,a=a.closest(".select2-search-choice");if(0===a.length)throw"Invalid argument: "+a+". Must be .select2-search-choice";if(c=a.data("select2-data")){for(;0<=
(d=k(this.id(c),b));)b.splice(d,1),this.setVal(b),this.select&&this.postprocessResults();b=e.Event("select2-removing");b.val=this.id(c);b.choice=c;this.opts.element.trigger(b);b.isDefaultPrevented()||(a.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},postprocessResults:function(a,b,c){var d=this.getVal(),b=this.results.find(".select2-result"),e=this.results.find(".select2-result-with-children"),f=this;b.each2(function(a,b){var c=
f.id(b.data("select2-data"));0<=k(c,d)&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))});e.each2(function(a,b){!b.is(".select2-result-selectable")&&0===b.find(".select2-result-selectable:not(.select2-selected)").length&&b.addClass("select2-selected")});-1==this.highlight()&&!1!==c&&f.highlight(0);!this.opts.createSearchChoice&&0<!b.filter(".select2-result:not(.select2-selected)").length&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&
r(f.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+f.opts.formatNoMatches(f.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-(this.search.outerWidth(!1)-this.search.width())},resizeSearch:function(){var a,b,c,d,f=this.search.outerWidth(!1)-this.search.width();a=this.search;v||(c=a[0].currentStyle||window.getComputedStyle(a[0],null),v=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",
display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),v.attr("class","select2-sizer"),e("body").append(v));v.text(a.val());a=v.width()+10;b=this.search.offset().left;c=this.selection.width();d=this.selection.offset().left;b=c-(b-d)-f;b<a&&(b=c-f);40>b&&(b=c-f);0>=b&&(b=a);this.search.width(Math.floor(b))},getVal:function(){var a;if(this.select)return a=this.select.val(),
null===a?[]:a;a=this.opts.element.val();return B(a,this.opts.separator)},setVal:function(a){var b;this.select?this.select.val(a):(b=[],e(a).each(function(){0>k(this,b)&&b.push(this)}),this.opts.element.val(0===b.length?"":b.join(this.opts.separator)))},buildChangeDetails:function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)m(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),0<c&&c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(a,b){var c,
d=this;if(0===arguments.length)return this.getVal();c=this.data();c.length||(c=[]);if(!a&&0!==a)this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),b&&this.triggerChange({added:this.data(),removed:c});else{this.setVal(a);if(this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),b&&this.triggerChange(this.buildChangeDetails(c,this.data()));else{if(void 0===this.opts.initSelection)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,
function(a){var f=e.map(a,d.id);d.setVal(f);d.updateSelection(a);d.clearSearch();b&&d.triggerChange(d.buildChangeDetails(c,d.data()))})}this.clearSearch()}},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var a=[],b=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();
this.selection.find(".select2-search-choice").each(function(){a.push(b.opts.id(e(this).data("select2-data")))});this.setVal(a);this.triggerChange()},data:function(a,b){var c=this,d,f;if(0===arguments.length)return this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();f=this.data();a||(a=[]);d=e.map(a,function(a){return c.opts.id(a)});this.setVal(d);this.updateSelection(a);this.clearSearch();b&&this.triggerChange(this.buildChangeDetails(f,this.data()))}});
e.fn.select2=function(){var a=Array.prototype.slice.call(arguments,0),b,c,d,f,h,j="val destroy opened open close focus isFocused container dropdown onSortStart onSortEnd enable disable readonly positionDropdown data search".split(" "),i=["opened","isFocused","container","dropdown"],m=["val","data"],o={search:"externalSearch"};this.each(function(){if(0===a.length||"object"===typeof a[0])b=0===a.length?{}:e.extend({},a[0]),b.element=e(this),"select"===b.element.get(0).tagName.toLowerCase()?h=b.element.prop("multiple"):
(h=b.multiple||!1,"tags"in b&&(b.multiple=h=!0)),c=h?new E:new D,c.init(b);else if("string"===typeof a[0]){if(0>k(a[0],j))throw"Unknown method: "+a[0];f=void 0;c=e(this).data("select2");if(void 0!==c&&(d=a[0],"container"===d?f=c.container:"dropdown"===d?f=c.dropdown:(o[d]&&(d=o[d]),f=c[d].apply(c,a.slice(1))),0<=k(a[0],i)||k(a[0],m)&&1==a.length))return!1}else throw"Invalid arguments to select2 plugin: "+a;});return void 0===f?this:f};e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,
openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){b=[];I(a.text,c.term,b,d);return b.join("")},formatSelection:function(a,b,c){return a?c(a.text):void 0},sortResults:function(a){return a},formatResultCssClass:function(){},formatSelectionCssClass:function(){},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},formatInputTooLong:function(a,
b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return 0<=w(""+b).toUpperCase().indexOf(w(""+a).toUpperCase())},separator:",",tokenSeparators:[],
tokenizer:P,escapeMarkup:J,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){}};e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:K,local:L,tags:M},util:{debounce:H,markMatch:I,escapeMarkup:J,stripDiacritics:w},"class":{"abstract":s,single:D,multi:E}}}return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-select2', location = 'src/js/aui/select2.js' */
("undefined"===typeof window?global:window).__7dc2a1c33ff678de05f5aa1a9414d108=function(){"use strict";var b=__700a145ba3db9966cc95664c892049f8,d=b&&b.__esModule?b:{"default":b};__63e2d0d906dfc9cc19eb6e8389c4f5a3;var e=d.default.fn.select2;d.default.fn.auiSelect2=function(b){var c;if(d.default.isPlainObject(b)){var a=d.default.extend({},b);c=a.hasAvatar?" aui-has-avatar":"";a.containerCssClass="aui-select2-container"+c+(a.containerCssClass?" "+a.containerCssClass:"");a.dropdownCssClass="aui-select2-drop aui-dropdown2 aui-style-default"+
c+(a.dropdownCssClass?" "+a.dropdownCssClass:"");c=Array.prototype.slice.call(arguments,1);c.unshift(a)}else c=arguments.length?arguments:[{containerCssClass:"aui-select2-container",dropdownCssClass:"aui-select2-drop aui-dropdown2 aui-style-default"}];return e.apply(this,c)};return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-expander', location = 'src/js/aui/expander.js' */
("undefined"===typeof window?global:window).__0477e1bf0caf4e570768f66b495137e7=function(){"use strict";var c=__700a145ba3db9966cc95664c892049f8,d=c&&c.__esModule?c:{"default":c},e=(0,d.default)(document),f=function(a){var b={};b.$trigger=(0,d.default)(a.currentTarget);b.$content=e.find("#"+b.$trigger.attr("aria-controls"));b.triggerIsParent=0!==b.$content.parent().filter(b.$trigger).length;b.$shortContent=b.triggerIsParent?b.$trigger.find(".aui-expander-short-content"):null;b.height=b.$content.css("min-height");
b.isCollapsible=!1!==b.$trigger.data("collapsible");b.replaceText=b.$trigger.attr("data-replace-text");b.replaceSelector=b.$trigger.data("replace-selector");return b},g=function(a){if(a.replaceText){var b=a.replaceSelector?a.$trigger.find(a.replaceSelector):a.$trigger;a.$trigger.attr("data-replace-text",b.text());b.text(a.replaceText)}};e.on({"aui-expander-invoke":function(a){var a=(0,d.default)(a.currentTarget),b=e.find("#"+a.attr("aria-controls")),c=!1!==a.data("collapsible");"true"===b.attr("aria-expanded")&&
c?a.trigger("aui-expander-collapse"):a.trigger("aui-expander-expand")},"aui-expander-expand":function(a){a=f(a);"true"!==a.$content.attr("aria-expanded")&&(a.$content.attr("aria-expanded","true"),a.$trigger.attr("aria-expanded","true"),0<a.$content.outerHeight()&&a.$content.attr("aria-hidden","false"),g(a),a.triggerIsParent&&a.$shortContent.hide(),a.$trigger.trigger("aui-expander-expanded"))},"aui-expander-collapse":function(a){a=f(a);"true"===a.$content.attr("aria-expanded")&&(g(a),a.$content.attr("aria-expanded",
"false"),a.$trigger.attr("aria-expanded","false"),a.triggerIsParent&&a.$shortContent.show(),0===a.$content.outerHeight()&&a.$content.attr("aria-hidden","true"),a.$trigger.trigger("aui-expander-collapsed"))},"click.aui-expander":function(a){(0,d.default)(a.currentTarget).trigger("aui-expander-invoke",a.currentTarget)}},".aui-expander-trigger");return{}}.call(this);;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/libs/jquery-1.10.1.js' */
/*!
 * jQueryTS JavaScript Library v1.10.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQueryTS Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-30T21:49Z
 */
(function(a1,aD){var af,aq,az=typeof aD,aI=a1.location,l=a1.document,bV=l.documentElement,be=a1.jQueryTS,J=a1.$TS,X={},a5=[],s="1.10.1",aF=a5.concat,al=a5.push,a3=a5.slice,aJ=a5.indexOf,x=X.toString,S=X.hasOwnProperty,aN=s.trim,bt=function(e,b3){return new bt.fn.init(e,b3,aq)},bA=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Z=/\S+/g,A=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bq=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bh=/^[\],:{}\s]*$/,bj=/(?:^|:|,)(?:\s*\[)+/g,bG=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,aX=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bR=/^-ms-/,aS=/-([\da-z])/gi,I=function(e,b3){return b3.toUpperCase()},bW=function(e){if(l.addEventListener||e.type==="load"||l.readyState==="complete"){bk();bt.ready()}},bk=function(){if(l.addEventListener){l.removeEventListener("DOMContentLoaded",bW,false);a1.removeEventListener("load",bW,false)}else{l.detachEvent("onreadystatechange",bW);a1.detachEvent("onload",bW)}};bt.fn=bt.prototype={jquery:s,constructor:bt,init:function(e,b4,b6){var b3,b5;if(!e){return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b3=[null,e,null]}else{b3=bq.exec(e)}if(b3&&(b3[1]||!b4)){if(b3[1]){b4=b4 instanceof bt?b4[0]:b4;bt.merge(this,bt.parseHTML(b3[1],b4&&b4.nodeType?b4.ownerDocument||b4:l,true));if(a.test(b3[1])&&bt.isPlainObject(b4)){for(b3 in b4){if(bt.isFunction(this[b3])){this[b3](b4[b3])}else{this.attr(b3,b4[b3])}}}return this}else{b5=l.getElementById(b3[2]);if(b5&&b5.parentNode){if(b5.id!==b3[2]){return b6.find(e)}this.length=1;this[0]=b5}this.context=l;this.selector=e;return this}}else{if(!b4||b4.jquery){return(b4||b6).find(e)}else{return this.constructor(b4).find(e)}}}else{if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else{if(bt.isFunction(e)){return b6.ready(e)}}}if(e.selector!==aD){this.selector=e.selector;this.context=e.context}return bt.makeArray(e,this)},selector:"",length:0,toArray:function(){return a3.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(e){var b3=bt.merge(this.constructor(),e);b3.prevObject=this;b3.context=this.context;return b3},each:function(b3,e){return bt.each(this,b3,e)},ready:function(e){bt.ready.promise().done(e);return this},slice:function(){return this.pushStack(a3.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b4){var e=this.length,b3=+b4+(b4<0?e:0);return this.pushStack(b3>=0&&b3<e?[this[b3]]:[])},map:function(e){return this.pushStack(bt.map(this,function(b4,b3){return e.call(b4,b3,b4)}))},end:function(){return this.prevObject||this.constructor(null)},push:al,sort:[].sort,splice:[].splice};bt.fn.init.prototype=bt.fn;bt.extend=bt.fn.extend=function(){var e,b8,b3,b4,cb,b9,b7=arguments[0]||{},b6=1,b5=arguments.length,ca=false;if(typeof b7==="boolean"){ca=b7;b7=arguments[1]||{};b6=2}if(typeof b7!=="object"&&!bt.isFunction(b7)){b7={}}if(b5===b6){b7=this;--b6}for(;b6<b5;b6++){if((cb=arguments[b6])!=null){for(b4 in cb){e=b7[b4];b3=cb[b4];if(b7===b3){continue}if(ca&&b3&&(bt.isPlainObject(b3)||(b8=bt.isArray(b3)))){if(b8){b8=false;b9=e&&bt.isArray(e)?e:[]}else{b9=e&&bt.isPlainObject(e)?e:{}}b7[b4]=bt.extend(ca,b9,b3)}else{if(b3!==aD){b7[b4]=b3}}}}}return b7};bt.extend({expando:"jQueryTS"+(s+Math.random()).replace(/\D/g,""),noConflict:function(e){if(a1.$TS===bt){a1.$TS=J}if(e&&a1.jQueryTS===bt){a1.jQueryTS=be}return bt},isReady:false,readyWait:1,holdReady:function(e){if(e){bt.readyWait++}else{bt.ready(true)}},ready:function(e){if(e===true?--bt.readyWait:bt.isReady){return}if(!l.body){return setTimeout(bt.ready)}bt.isReady=true;if(e!==true&&--bt.readyWait>0){return}af.resolveWith(l,[bt]);if(bt.fn.trigger){bt(l).trigger("ready").off("ready")}},isFunction:function(e){return bt.type(e)==="function"},isArray:Array.isArray||function(e){return bt.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){if(e==null){return String(e)}return typeof e==="object"||typeof e==="function"?X[x.call(e)]||"object":typeof e},isPlainObject:function(b5){var b3;if(!b5||bt.type(b5)!=="object"||b5.nodeType||bt.isWindow(b5)){return false}try{if(b5.constructor&&!S.call(b5,"constructor")&&!S.call(b5.constructor.prototype,"isPrototypeOf")){return false}}catch(b4){return false}if(bt.support.ownLast){for(b3 in b5){return S.call(b5,b3)}}for(b3 in b5){}return b3===aD||S.call(b5,b3)},isEmptyObject:function(b3){var e;for(e in b3){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(b6,b4,b5){if(!b6||typeof b6!=="string"){return null}if(typeof b4==="boolean"){b5=b4;b4=false}b4=b4||l;var b3=a.exec(b6),e=!b5&&[];if(b3){return[b4.createElement(b3[1])]}b3=bt.buildFragment([b6],b4,e);if(e){bt(e).remove()}return bt.merge([],b3.childNodes)},parseJSON:function(e){if(a1.JSON&&a1.JSON.parse){return a1.JSON.parse(e)}if(e===null){return e}if(typeof e==="string"){e=bt.trim(e);if(e){if(bh.test(e.replace(bG,"@").replace(aX,"]").replace(bj,""))){return(new Function("return "+e))()}}}bt.error("Invalid JSON: "+e)},parseXML:function(b5){var b3,b4;if(!b5||typeof b5!=="string"){return null}try{if(a1.DOMParser){b4=new DOMParser();b3=b4.parseFromString(b5,"text/xml")}else{b3=new ActiveXObject("Microsoft.XMLDOM");b3.async="false";b3.loadXML(b5)}}catch(b6){b3=aD}if(!b3||!b3.documentElement||b3.getElementsByTagName("parsererror").length){bt.error("Invalid XML: "+b5)}return b3},noop:function(){},globalEval:function(e){if(e&&bt.trim(e)){(a1.execScript||function(b3){a1["eval"].call(a1,b3)})(e)}},camelCase:function(e){return e.replace(bR,"ms-").replace(aS,I)},nodeName:function(b3,e){return b3.nodeName&&b3.nodeName.toLowerCase()===e.toLowerCase()},each:function(b7,b8,b3){var b6,b4=0,b5=b7.length,e=Y(b7);if(b3){if(e){for(;b4<b5;b4++){b6=b8.apply(b7[b4],b3);if(b6===false){break}}}else{for(b4 in b7){b6=b8.apply(b7[b4],b3);if(b6===false){break}}}}else{if(e){for(;b4<b5;b4++){b6=b8.call(b7[b4],b4,b7[b4]);if(b6===false){break}}}else{for(b4 in b7){b6=b8.call(b7[b4],b4,b7[b4]);if(b6===false){break}}}}return b7},trim:aN&&!aN.call("\uFEFF\xA0")?function(e){return e==null?"":aN.call(e)}:function(e){return e==null?"":(e+"").replace(A,"")},makeArray:function(e,b4){var b3=b4||[];if(e!=null){if(Y(Object(e))){bt.merge(b3,typeof e==="string"?[e]:e)}else{al.call(b3,e)}}return b3},inArray:function(b5,b3,b4){var e;if(b3){if(aJ){return aJ.call(b3,b5,b4)}e=b3.length;b4=b4?b4<0?Math.max(0,e+b4):b4:0;for(;b4<e;b4++){if(b4 in b3&&b3[b4]===b5){return b4}}}return -1},merge:function(b6,b4){var e=b4.length,b5=b6.length,b3=0;if(typeof e==="number"){for(;b3<e;b3++){b6[b5++]=b4[b3]}}else{while(b4[b3]!==aD){b6[b5++]=b4[b3++]}}b6.length=b5;return b6},grep:function(b3,b8,e){var b7,b4=[],b5=0,b6=b3.length;e=!!e;for(;b5<b6;b5++){b7=!!b8(b3[b5],b5);if(e!==b7){b4.push(b3[b5])}}return b4},map:function(b4,b9,e){var b8,b6=0,b7=b4.length,b3=Y(b4),b5=[];if(b3){for(;b6<b7;b6++){b8=b9(b4[b6],b6,e);if(b8!=null){b5[b5.length]=b8}}}else{for(b6 in b4){b8=b9(b4[b6],b6,e);if(b8!=null){b5[b5.length]=b8}}}return aF.apply([],b5)},guid:1,proxy:function(b6,b5){var e,b4,b3;if(typeof b5==="string"){b3=b6[b5];b5=b6;b6=b3}if(!bt.isFunction(b6)){return aD}e=a3.call(arguments,2);b4=function(){return b6.apply(b5||this,e.concat(a3.call(arguments)))};b4.guid=b6.guid=b6.guid||bt.guid++;return b4},access:function(e,b7,b9,b8,b5,cb,ca){var b4=0,b3=e.length,b6=b9==null;if(bt.type(b9)==="object"){b5=true;for(b4 in b9){bt.access(e,b7,b4,b9[b4],true,cb,ca)}}else{if(b8!==aD){b5=true;if(!bt.isFunction(b8)){ca=true}if(b6){if(ca){b7.call(e,b8);b7=null}else{b6=b7;b7=function(cd,cc,ce){return b6.call(bt(cd),ce)}}}if(b7){for(;b4<b3;b4++){b7(e[b4],b9,ca?b8:b8.call(e[b4],b4,b7(e[b4],b9)))}}}}return b5?e:b6?b7.call(e):b3?b7(e[0],b9):cb},now:function(){return(new Date()).getTime()},swap:function(b7,b6,b8,b5){var b4,b3,e={};for(b3 in b6){e[b3]=b7.style[b3];b7.style[b3]=b6[b3]}b4=b8.apply(b7,b5||[]);for(b3 in b6){b7.style[b3]=e[b3]}return b4}});bt.ready.promise=function(b6){if(!af){af=bt.Deferred();if(l.readyState==="complete"){setTimeout(bt.ready)}else{if(l.addEventListener){l.addEventListener("DOMContentLoaded",bW,false);a1.addEventListener("load",bW,false)}else{l.attachEvent("onreadystatechange",bW);a1.attachEvent("onload",bW);var b5=false;try{b5=a1.frameElement==null&&l.documentElement}catch(b4){}if(b5&&b5.doScroll){(function b3(){if(!bt.isReady){try{b5.doScroll("left")}catch(b7){return setTimeout(b3,50)}bk();bt.ready()}})()}}}}return af.promise(b6)};bt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b3,e){X["[object "+e+"]"]=e.toLowerCase()});function Y(b4){var b3=b4.length,e=bt.type(b4);if(bt.isWindow(b4)){return false}if(b4.nodeType===1&&b3){return true}return e==="array"||e!=="function"&&(b3===0||typeof b3==="number"&&b3>0&&(b3-1) in b4)}aq=bt(l);
/*!
     * Sizzle CSS Selector Engine v1.9.4-pre
     * http://sizzlejs.com/
     *
     * Copyright 2013 jQueryTS Foundation, Inc. and other contributors
     * Released under the MIT license
     * http://jquery.org/license
     *
     * Date: 2013-05-27
     */
(function(dg,ch){var cx,dj,cc,cm,cI,cL,cX,dn,cJ,c0,cC,cn,c9,c4,dh,cb,cG,db="sizzle"+-(new Date()),cK=dg.document,dk=0,c5=0,b6=cA(),da=cA(),cH=cA(),cY=false,cE=function(){return 0},df=typeof ch,cS=1<<31,cP=({}).hasOwnProperty,dd=[],de=dd.pop,cN=dd.push,b4=dd.push,cl=dd.slice,ca=dd.indexOf||function(dq){var dp=0,e=this.length;for(;dp<e;dp++){if(this[dp]===dq){return dp}}return -1},b5="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",co="[\\x20\\t\\r\\n\\f]",b3="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cM=b3.replace("w","w#"),c7="\\["+co+"*("+b3+")"+co+"*(?:([*^$|!~]?=)"+co+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cM+")|)|)"+co+"*\\]",cj=":("+b3+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+c7.replace(3,8)+")*)|.*)\\)|)",cq=new RegExp("^"+co+"+|((?:^|[^\\\\])(?:\\\\.)*)"+co+"+$","g"),cu=new RegExp("^"+co+"*,"+co+"*"),cB=new RegExp("^"+co+"*([>+~]|"+co+")"+co+"*"),c2=new RegExp(co+"*[+~]"),cs=new RegExp("="+co+"*([^\\]'\"]*)"+co+"*\\]","g"),cU=new RegExp(cj),cV=new RegExp("^"+cM+"$"),c3={ID:new RegExp("^#("+b3+")"),CLASS:new RegExp("^\\.("+b3+")"),TAG:new RegExp("^("+b3.replace("w","w*")+")"),ATTR:new RegExp("^"+c7),PSEUDO:new RegExp("^"+cj),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+co+"*(even|odd|(([+-]|)(\\d*)n|)"+co+"*(?:([+-]|)"+co+"*(\\d+)|))"+co+"*\\)|)","i"),bool:new RegExp("^(?:"+b5+")$","i"),needsContext:new RegExp("^"+co+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+co+"*((?:-\\d)?\\d*)"+co+"*\\)|)(?=[^-]|$)","i")},cR=/^[^{]+\{\s*\[native \w/,cT=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,b9=/^(?:input|select|textarea|button)$/i,ck=/^h\d$/i,cO=/'|\\/g,cr=new RegExp("\\\\([\\da-f]{1,6}"+co+"?|("+co+")|.)","ig"),c6=function(e,dr,dp){var dq="0x"+dr-65536;return dq!==dq||dp?dr:dq<0?String.fromCharCode(dq+65536):String.fromCharCode(dq>>10|55296,dq&1023|56320)};try{b4.apply((dd=cl.call(cK.childNodes)),cK.childNodes);dd[cK.childNodes.length].nodeType}catch(cD){b4={apply:dd.length?function(dp,e){cN.apply(dp,cl.call(e))}:function(dr,dq){var e=dr.length,dp=0;while((dr[e++]=dq[dp++])){}dr.length=e-1}}}function cv(dw,dp,dA,dC){var dB,dt,du,dy,dz,ds,dr,e,dq,dx;if((dp?dp.ownerDocument||dp:cK)!==cC){c0(dp)}dp=dp||cC;dA=dA||[];if(!dw||typeof dw!=="string"){return dA}if((dy=dp.nodeType)!==1&&dy!==9){return[]}if(c9&&!dC){if((dB=cT.exec(dw))){if((du=dB[1])){if(dy===9){dt=dp.getElementById(du);if(dt&&dt.parentNode){if(dt.id===du){dA.push(dt);return dA}}else{return dA}}else{if(dp.ownerDocument&&(dt=dp.ownerDocument.getElementById(du))&&cG(dp,dt)&&dt.id===du){dA.push(dt);return dA}}}else{if(dB[2]){b4.apply(dA,dp.getElementsByTagName(dw));return dA}else{if((du=dB[3])&&dj.getElementsByClassName&&dp.getElementsByClassName){b4.apply(dA,dp.getElementsByClassName(du));return dA}}}}if(dj.qsa&&(!c4||!c4.test(dw))){e=dr=db;dq=dp;dx=dy===9&&dw;if(dy===1&&dp.nodeName.toLowerCase()!=="object"){ds=cg(dw);if((dr=dp.getAttribute("id"))){e=dr.replace(cO,"\\$&")}else{dp.setAttribute("id",e)}e="[id='"+e+"'] ";dz=ds.length;while(dz--){ds[dz]=e+cf(ds[dz])}dq=c2.test(dw)&&dp.parentNode||dp;dx=ds.join(",")}if(dx){try{b4.apply(dA,dq.querySelectorAll(dx));return dA}catch(dv){}finally{if(!dr){dp.removeAttribute("id")}}}}}return di(dw.replace(cq,"$1"),dp,dA,dC)}function cF(e){return cR.test(e+"")}function cA(){var dp=[];function e(dq,dr){if(dp.push(dq+=" ")>cm.cacheLength){delete e[dp.shift()]}return(e[dq]=dr)}return e}function ci(e){e[db]=true;return e}function cd(dp){var dr=cC.createElement("div");try{return !!dp(dr)}catch(dq){return false}finally{if(dr.parentNode){dr.parentNode.removeChild(dr)}dr=null}}function dl(e,dq,dt){e=e.split("|");var ds,dp=e.length,dr=dt?null:dq;while(dp--){if(!(ds=cm.attrHandle[e[dp]])||ds===dq){cm.attrHandle[e[dp]]=dr}}}function cQ(dp,e){var dq=dp.getAttributeNode(e);return dq&&dq.specified?dq.value:dp[e]===true?e.toLowerCase():null}function cy(dp,e){return dp.getAttribute(e,e.toLowerCase()==="type"?1:2)}function ct(e){if(e.nodeName.toLowerCase()==="input"){return e.defaultValue}}function b7(dp,e){var dr=e&&dp,dq=dr&&dp.nodeType===1&&e.nodeType===1&&(~e.sourceIndex||cS)-(~dp.sourceIndex||cS);if(dq){return dq}if(dr){while((dr=dr.nextSibling)){if(dr===e){return -1}}}return dp?1:-1}function cw(e){return function(dq){var dp=dq.nodeName.toLowerCase();return dp==="input"&&dq.type===e}}function b8(e){return function(dq){var dp=dq.nodeName.toLowerCase();return(dp==="input"||dp==="button")&&dq.type===e}}function c8(e){return ci(function(dp){dp=+dp;return ci(function(dq,du){var ds,dr=e([],dq.length,dp),dt=dr.length;while(dt--){if(dq[(ds=dr[dt])]){dq[ds]=!(du[ds]=dq[ds])}}})})}cL=cv.isXML=function(e){var dp=e&&(e.ownerDocument||e).documentElement;return dp?dp.nodeName!=="HTML":false};dj=cv.support={};c0=cv.setDocument=function(dp){var dq=dp?dp.ownerDocument||dp:cK,e=dq.parentWindow;if(dq===cC||dq.nodeType!==9||!dq.documentElement){return cC}cC=dq;cn=dq.documentElement;c9=!cL(dq);if(e&&e.frameElement){e.attachEvent("onbeforeunload",function(){c0()})}dj.attributes=cd(function(dr){dr.innerHTML="<a href='#'></a>";dl("type|href|height|width",cy,dr.firstChild.getAttribute("href")==="#");dl(b5,cQ,dr.getAttribute("disabled")==null);dr.className="i";return !dr.getAttribute("className")});dj.input=cd(function(dr){dr.innerHTML="<input>";dr.firstChild.setAttribute("value","");return dr.firstChild.getAttribute("value")===""});dl("value",ct,dj.attributes&&dj.input);dj.getElementsByTagName=cd(function(dr){dr.appendChild(dq.createComment(""));return !dr.getElementsByTagName("*").length});dj.getElementsByClassName=cd(function(dr){dr.innerHTML="<div class='a'></div><div class='a i'></div>";dr.firstChild.className="i";return dr.getElementsByClassName("i").length===2});dj.getById=cd(function(dr){cn.appendChild(dr).id=db;return !dq.getElementsByName||!dq.getElementsByName(db).length});if(dj.getById){cm.find.ID=function(dt,ds){if(typeof ds.getElementById!==df&&c9){var dr=ds.getElementById(dt);return dr&&dr.parentNode?[dr]:[]}};cm.filter.ID=function(ds){var dr=ds.replace(cr,c6);return function(dt){return dt.getAttribute("id")===dr}}}else{delete cm.find.ID;cm.filter.ID=function(ds){var dr=ds.replace(cr,c6);return function(du){var dt=typeof du.getAttributeNode!==df&&du.getAttributeNode("id");return dt&&dt.value===dr}}}cm.find.TAG=dj.getElementsByTagName?function(dr,ds){if(typeof ds.getElementsByTagName!==df){return ds.getElementsByTagName(dr)}}:function(dr,dv){var dw,du=[],dt=0,ds=dv.getElementsByTagName(dr);if(dr==="*"){while((dw=ds[dt++])){if(dw.nodeType===1){du.push(dw)}}return du}return ds};cm.find.CLASS=dj.getElementsByClassName&&function(ds,dr){if(typeof dr.getElementsByClassName!==df&&c9){return dr.getElementsByClassName(ds)}};dh=[];c4=[];if((dj.qsa=cF(dq.querySelectorAll))){cd(function(dr){dr.innerHTML="<select><option selected=''></option></select>";if(!dr.querySelectorAll("[selected]").length){c4.push("\\["+co+"*(?:value|"+b5+")")}if(!dr.querySelectorAll(":checked").length){c4.push(":checked")}});cd(function(ds){var dr=dq.createElement("input");dr.setAttribute("type","hidden");ds.appendChild(dr).setAttribute("t","");if(ds.querySelectorAll("[t^='']").length){c4.push("[*^$]="+co+"*(?:''|\"\")")}if(!ds.querySelectorAll(":enabled").length){c4.push(":enabled",":disabled")}ds.querySelectorAll("*,:x");c4.push(",.*:")})}if((dj.matchesSelector=cF((cb=cn.webkitMatchesSelector||cn.mozMatchesSelector||cn.oMatchesSelector||cn.msMatchesSelector)))){cd(function(dr){dj.disconnectedMatch=cb.call(dr,"div");cb.call(dr,"[s!='']:x");dh.push("!=",cj)})}c4=c4.length&&new RegExp(c4.join("|"));dh=dh.length&&new RegExp(dh.join("|"));cG=cF(cn.contains)||cn.compareDocumentPosition?function(ds,dr){var du=ds.nodeType===9?ds.documentElement:ds,dt=dr&&dr.parentNode;return ds===dt||!!(dt&&dt.nodeType===1&&(du.contains?du.contains(dt):ds.compareDocumentPosition&&ds.compareDocumentPosition(dt)&16))}:function(ds,dr){if(dr){while((dr=dr.parentNode)){if(dr===ds){return true}}}return false};dj.sortDetached=cd(function(dr){return dr.compareDocumentPosition(dq.createElement("div"))&1});cE=cn.compareDocumentPosition?function(ds,dr){if(ds===dr){cY=true;return 0}var dt=dr.compareDocumentPosition&&ds.compareDocumentPosition&&ds.compareDocumentPosition(dr);if(dt){if(dt&1||(!dj.sortDetached&&dr.compareDocumentPosition(ds)===dt)){if(ds===dq||cG(cK,ds)){return -1}if(dr===dq||cG(cK,dr)){return 1}return cJ?(ca.call(cJ,ds)-ca.call(cJ,dr)):0}return dt&4?-1:1}return ds.compareDocumentPosition?-1:1}:function(ds,dr){var dy,dv=0,dx=ds.parentNode,du=dr.parentNode,dt=[ds],dw=[dr];if(ds===dr){cY=true;return 0}else{if(!dx||!du){return ds===dq?-1:dr===dq?1:dx?-1:du?1:cJ?(ca.call(cJ,ds)-ca.call(cJ,dr)):0}else{if(dx===du){return b7(ds,dr)}}}dy=ds;while((dy=dy.parentNode)){dt.unshift(dy)}dy=dr;while((dy=dy.parentNode)){dw.unshift(dy)}while(dt[dv]===dw[dv]){dv++}return dv?b7(dt[dv],dw[dv]):dt[dv]===cK?-1:dw[dv]===cK?1:0};return dq};cv.matches=function(dp,e){return cv(dp,null,null,e)};cv.matchesSelector=function(dq,ds){if((dq.ownerDocument||dq)!==cC){c0(dq)}ds=ds.replace(cs,"='$1']");if(dj.matchesSelector&&c9&&(!dh||!dh.test(ds))&&(!c4||!c4.test(ds))){try{var dp=cb.call(dq,ds);if(dp||dj.disconnectedMatch||dq.document&&dq.document.nodeType!==11){return dp}}catch(dr){}}return cv(ds,cC,null,[dq]).length>0};cv.contains=function(e,dp){if((e.ownerDocument||e)!==cC){c0(e)}return cG(e,dp)};cv.attr=function(dq,e){if((dq.ownerDocument||dq)!==cC){c0(dq)}var dp=cm.attrHandle[e.toLowerCase()],dr=(dp&&cP.call(cm.attrHandle,e.toLowerCase())?dp(dq,e,!c9):ch);return dr===ch?dj.attributes||!c9?dq.getAttribute(e):(dr=dq.getAttributeNode(e))&&dr.specified?dr.value:null:dr};cv.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};cv.uniqueSort=function(dq){var dr,ds=[],e=0,dp=0;cY=!dj.detectDuplicates;cJ=!dj.sortStable&&dq.slice(0);dq.sort(cE);if(cY){while((dr=dq[dp++])){if(dr===dq[dp]){e=ds.push(dp)}}while(e--){dq.splice(ds[e],1)}}return dq};cI=cv.getText=function(ds){var dr,dp="",dq=0,e=ds.nodeType;if(!e){for(;(dr=ds[dq]);dq++){dp+=cI(dr)}}else{if(e===1||e===9||e===11){if(typeof ds.textContent==="string"){return ds.textContent}else{for(ds=ds.firstChild;ds;ds=ds.nextSibling){dp+=cI(ds)}}}else{if(e===3||e===4){return ds.nodeValue}}}return dp};cm=cv.selectors={cacheLength:50,createPseudo:ci,match:c3,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cr,c6);e[3]=(e[4]||e[5]||"").replace(cr,c6);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){cv.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+((e[7]+e[8])||e[3]==="odd")}else{if(e[3]){cv.error(e[0])}}return e},PSEUDO:function(dp){var e,dq=!dp[5]&&dp[2];if(c3.CHILD.test(dp[0])){return null}if(dp[3]&&dp[4]!==ch){dp[2]=dp[4]}else{if(dq&&cU.test(dq)&&(e=cg(dq,true))&&(e=dq.indexOf(")",dq.length-e)-dq.length)){dp[0]=dp[0].slice(0,e);dp[2]=dq.slice(0,e)}}return dp.slice(0,3)}},filter:{TAG:function(dp){var e=dp.replace(cr,c6).toLowerCase();return dp==="*"?function(){return true}:function(dq){return dq.nodeName&&dq.nodeName.toLowerCase()===e}},CLASS:function(e){var dp=b6[e+" "];return dp||(dp=new RegExp("(^|"+co+")"+e+"("+co+"|$)"))&&b6(e,function(dq){return dp.test(typeof dq.className==="string"&&dq.className||typeof dq.getAttribute!==df&&dq.getAttribute("class")||"")})},ATTR:function(dq,dp,e){return function(ds){var dr=cv.attr(ds,dq);if(dr==null){return dp==="!="}if(!dp){return true}dr+="";return dp==="="?dr===e:dp==="!="?dr!==e:dp==="^="?e&&dr.indexOf(e)===0:dp==="*="?e&&dr.indexOf(e)>-1:dp==="$="?e&&dr.slice(-e.length)===e:dp==="~="?(" "+dr+" ").indexOf(e)>-1:dp==="|="?dr===e||dr.slice(0,e.length+1)===e+"-":false}},CHILD:function(dp,ds,dr,dt,dq){var dv=dp.slice(0,3)!=="nth",e=dp.slice(-4)!=="last",du=ds==="of-type";return dt===1&&dq===0?function(dw){return !!dw.parentNode}:function(dC,dA,dF){var dw,dI,dD,dH,dE,dz,dB=dv!==e?"nextSibling":"previousSibling",dG=dC.parentNode,dy=du&&dC.nodeName.toLowerCase(),dx=!dF&&!du;if(dG){if(dv){while(dB){dD=dC;while((dD=dD[dB])){if(du?dD.nodeName.toLowerCase()===dy:dD.nodeType===1){return false}}dz=dB=dp==="only"&&!dz&&"nextSibling"}return true}dz=[e?dG.firstChild:dG.lastChild];if(e&&dx){dI=dG[db]||(dG[db]={});dw=dI[dp]||[];dE=dw[0]===dk&&dw[1];dH=dw[0]===dk&&dw[2];dD=dE&&dG.childNodes[dE];while((dD=++dE&&dD&&dD[dB]||(dH=dE=0)||dz.pop())){if(dD.nodeType===1&&++dH&&dD===dC){dI[dp]=[dk,dE,dH];break}}}else{if(dx&&(dw=(dC[db]||(dC[db]={}))[dp])&&dw[0]===dk){dH=dw[1]}else{while((dD=++dE&&dD&&dD[dB]||(dH=dE=0)||dz.pop())){if((du?dD.nodeName.toLowerCase()===dy:dD.nodeType===1)&&++dH){if(dx){(dD[db]||(dD[db]={}))[dp]=[dk,dH]}if(dD===dC){break}}}}}dH-=dq;return dH===dt||(dH%dt===0&&dH/dt>=0)}}},PSEUDO:function(dr,dq){var e,dp=cm.pseudos[dr]||cm.setFilters[dr.toLowerCase()]||cv.error("unsupported pseudo: "+dr);if(dp[db]){return dp(dq)}if(dp.length>1){e=[dr,dr,"",dq];return cm.setFilters.hasOwnProperty(dr.toLowerCase())?ci(function(du,dw){var dt,ds=dp(du,dq),dv=ds.length;while(dv--){dt=ca.call(du,ds[dv]);du[dt]=!(dw[dt]=ds[dv])}}):function(ds){return dp(ds,0,e)}}return dp}},pseudos:{not:ci(function(e){var dp=[],dq=[],dr=cX(e.replace(cq,"$1"));return dr[db]?ci(function(dt,dy,dw,du){var dx,ds=dr(dt,null,du,[]),dv=dt.length;while(dv--){if((dx=ds[dv])){dt[dv]=!(dy[dv]=dx)}}}):function(du,dt,ds){dp[0]=du;dr(dp,null,ds,dq);return !dq.pop()}}),has:ci(function(e){return function(dp){return cv(e,dp).length>0}}),contains:ci(function(e){return function(dp){return(dp.textContent||dp.innerText||cI(dp)).indexOf(e)>-1}}),lang:ci(function(e){if(!cV.test(e||"")){cv.error("unsupported lang: "+e)}e=e.replace(cr,c6).toLowerCase();return function(dq){var dp;do{if((dp=c9?dq.lang:dq.getAttribute("xml:lang")||dq.getAttribute("lang"))){dp=dp.toLowerCase();return dp===e||dp.indexOf(e+"-")===0}}while((dq=dq.parentNode)&&dq.nodeType===1);return false}}),target:function(e){var dp=dg.location&&dg.location.hash;return dp&&dp.slice(1)===e.id},root:function(e){return e===cn},focus:function(e){return e===cC.activeElement&&(!cC.hasFocus||cC.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var dp=e.nodeName.toLowerCase();return(dp==="input"&&!!e.checked)||(dp==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4){return false}}return true},parent:function(e){return !cm.pseudos.empty(e)},header:function(e){return ck.test(e.nodeName)},input:function(e){return b9.test(e.nodeName)},button:function(dp){var e=dp.nodeName.toLowerCase();return e==="input"&&dp.type==="button"||e==="button"},text:function(dp){var e;return dp.nodeName.toLowerCase()==="input"&&dp.type==="text"&&((e=dp.getAttribute("type"))==null||e.toLowerCase()===dp.type)},first:c8(function(){return[0]}),last:c8(function(e,dp){return[dp-1]}),eq:c8(function(e,dq,dp){return[dp<0?dp+dq:dp]}),even:c8(function(e,dq){var dp=0;for(;dp<dq;dp+=2){e.push(dp)}return e}),odd:c8(function(e,dq){var dp=1;for(;dp<dq;dp+=2){e.push(dp)}return e}),lt:c8(function(e,dr,dq){var dp=dq<0?dq+dr:dq;for(;--dp>=0;){e.push(dp)}return e}),gt:c8(function(e,dr,dq){var dp=dq<0?dq+dr:dq;for(;++dp<dr;){e.push(dp)}return e})}};for(cx in {radio:true,checkbox:true,file:true,password:true,image:true}){cm.pseudos[cx]=cw(cx)}for(cx in {submit:true,reset:true}){cm.pseudos[cx]=b8(cx)}function cg(ds,dx){var dp,dt,dv,dw,du,dq,e,dr=da[ds+" "];if(dr){return dx?0:dr.slice(0)}du=ds;dq=[];e=cm.preFilter;while(du){if(!dp||(dt=cu.exec(du))){if(dt){du=du.slice(dt[0].length)||du}dq.push(dv=[])}dp=false;if((dt=cB.exec(du))){dp=dt.shift();dv.push({value:dp,type:dt[0].replace(cq," ")});du=du.slice(dp.length)}for(dw in cm.filter){if((dt=c3[dw].exec(du))&&(!e[dw]||(dt=e[dw](dt)))){dp=dt.shift();dv.push({value:dp,type:dw,matches:dt});du=du.slice(dp.length)}}if(!dp){break}}return dx?du.length:du?cv.error(ds):da(ds,dq).slice(0)}function cf(dr){var dq=0,dp=dr.length,e="";for(;dq<dp;dq++){e+=dr[dq].value}return e}function cp(ds,dq,dr){var e=dq.dir,dt=dr&&e==="parentNode",dp=c5++;return dq.first?function(dw,dv,du){while((dw=dw[e])){if(dw.nodeType===1||dt){return ds(dw,dv,du)}}}:function(dy,dw,dv){var dA,du,dx,dz=dk+" "+dp;if(dv){while((dy=dy[e])){if(dy.nodeType===1||dt){if(ds(dy,dw,dv)){return true}}}}else{while((dy=dy[e])){if(dy.nodeType===1||dt){dx=dy[db]||(dy[db]={});if((du=dx[e])&&du[0]===dz){if((dA=du[1])===true||dA===cc){return dA===true}}else{du=dx[e]=[dz];du[1]=ds(dy,dw,dv)||cc;if(du[1]===true){return true}}}}}}}function dm(e){return e.length>1?function(ds,dr,dp){var dq=e.length;while(dq--){if(!e[dq](ds,dr,dp)){return false}}return true}:e[0]}function c1(e,dp,dq,dr,du){var ds,dx=[],dt=0,dv=e.length,dw=dp!=null;for(;dt<dv;dt++){if((ds=e[dt])){if(!dq||dq(ds,dr,du)){dx.push(ds);if(dw){dp.push(dt)}}}}return dx}function ce(dq,dp,ds,dr,dt,e){if(dr&&!dr[db]){dr=ce(dr)}if(dt&&!dt[db]){dt=ce(dt,e)}return ci(function(dE,dB,dw,dD){var dG,dC,dy,dx=[],dF=[],dv=dB.length,du=dE||cz(dp||"*",dw.nodeType?[dw]:dw,[]),dz=dq&&(dE||!dp)?c1(du,dx,dq,dw,dD):du,dA=ds?dt||(dE?dq:dv||dr)?[]:dB:dz;if(ds){ds(dz,dA,dw,dD)}if(dr){dG=c1(dA,dF);dr(dG,[],dw,dD);dC=dG.length;while(dC--){if((dy=dG[dC])){dA[dF[dC]]=!(dz[dF[dC]]=dy)}}}if(dE){if(dt||dq){if(dt){dG=[];dC=dA.length;while(dC--){if((dy=dA[dC])){dG.push((dz[dC]=dy))}}dt(null,(dA=[]),dG,dD)}dC=dA.length;while(dC--){if((dy=dA[dC])&&(dG=dt?ca.call(dE,dy):dx[dC])>-1){dE[dG]=!(dB[dG]=dy)}}}}else{dA=c1(dA===dB?dA.splice(dv,dA.length):dA);if(dt){dt(null,dB,dA,dD)}else{b4.apply(dB,dA)}}})}function dc(du){var dp,ds,dq,dt=du.length,dx=cm.relative[du[0].type],dy=dx||cm.relative[" "],dr=dx?1:0,dv=cp(function(dz){return dz===dp},dy,true),dw=cp(function(dz){return ca.call(dp,dz)>-1},dy,true),e=[function(dB,dA,dz){return(!dx&&(dz||dA!==dn))||((dp=dA).nodeType?dv(dB,dA,dz):dw(dB,dA,dz))}];for(;dr<dt;dr++){if((ds=cm.relative[du[dr].type])){e=[cp(dm(e),ds)]}else{ds=cm.filter[du[dr].type].apply(null,du[dr].matches);if(ds[db]){dq=++dr;for(;dq<dt;dq++){if(cm.relative[du[dq].type]){break}}return ce(dr>1&&dm(e),dr>1&&cf(du.slice(0,dr-1).concat({value:du[dr-2].type===" "?"*":""})).replace(cq,"$1"),ds,dr<dq&&dc(du.slice(dr,dq)),dq<dt&&dc((du=du.slice(dq))),dq<dt&&cf(du))}e.push(ds)}}return dm(e)}function cZ(dr,dq){var dt=0,e=dq.length>0,ds=dr.length>0,dp=function(dD,dx,dC,dB,dJ){var dy,dz,dE,dI=[],dH=0,dA="0",du=dD&&[],dF=dJ!=null,dG=dn,dw=dD||ds&&cm.find.TAG("*",dJ&&dx.parentNode||dx),dv=(dk+=dG==null?1:Math.random()||0.1);if(dF){dn=dx!==cC&&dx;cc=dt}for(;(dy=dw[dA])!=null;dA++){if(ds&&dy){dz=0;while((dE=dr[dz++])){if(dE(dy,dx,dC)){dB.push(dy);break}}if(dF){dk=dv;cc=++dt}}if(e){if((dy=!dE&&dy)){dH--}if(dD){du.push(dy)}}}dH+=dA;if(e&&dA!==dH){dz=0;while((dE=dq[dz++])){dE(du,dI,dx,dC)}if(dD){if(dH>0){while(dA--){if(!(du[dA]||dI[dA])){dI[dA]=de.call(dB)}}}dI=c1(dI)}b4.apply(dB,dI);if(dF&&!dD&&dI.length>0&&(dH+dq.length)>1){cv.uniqueSort(dB)}}if(dF){dk=dv;dn=dG}return du};return e?ci(dp):dp}cX=cv.compile=function(e,dt){var dq,dp=[],ds=[],dr=cH[e+" "];if(!dr){if(!dt){dt=cg(e)}dq=dt.length;while(dq--){dr=dc(dt[dq]);if(dr[db]){dp.push(dr)}else{ds.push(dr)}}dr=cH(e,cZ(ds,dp))}return dr};function cz(dp,ds,dr){var dq=0,e=ds.length;for(;dq<e;dq++){cv(dp,ds[dq],dr)}return dr}function di(dq,e,dr,du){var ds,dw,dp,dx,dv,dt=cg(dq);if(!du){if(dt.length===1){dw=dt[0]=dt[0].slice(0);if(dw.length>2&&(dp=dw[0]).type==="ID"&&dj.getById&&e.nodeType===9&&c9&&cm.relative[dw[1].type]){e=(cm.find.ID(dp.matches[0].replace(cr,c6),e)||[])[0];if(!e){return dr}dq=dq.slice(dw.shift().value.length)}ds=c3.needsContext.test(dq)?0:dw.length;while(ds--){dp=dw[ds];if(cm.relative[(dx=dp.type)]){break}if((dv=cm.find[dx])){if((du=dv(dp.matches[0].replace(cr,c6),c2.test(dw[0].type)&&e.parentNode||e))){dw.splice(ds,1);dq=du.length&&cf(dw);if(!dq){b4.apply(dr,du);return dr}break}}}}}cX(dq,dt)(du,e,!c9,dr,c2.test(dq));return dr}cm.pseudos.nth=cm.pseudos.eq;function cW(){}cW.prototype=cm.filters=cm.pseudos;cm.setFilters=new cW();dj.sortStable=db.split("").sort(cE).join("")===db;c0();[0,0].sort(cE);dj.detectDuplicates=cY;bt.find=cv;bt.expr=cv.selectors;bt.expr[":"]=bt.expr.pseudos;bt.unique=cv.uniqueSort;bt.text=cv.getText;bt.isXMLDoc=cv.isXML;bt.contains=cv.contains})(a1);var bY={};function ab(b3){var e=bY[b3]={};bt.each(b3.match(Z)||[],function(b5,b4){e[b4]=true});return e}bt.Callbacks=function(cc){cc=typeof cc==="string"?(bY[cc]||ab(cc)):bt.extend({},cc);var b6,b5,e,b7,b8,b4,b9=[],ca=!cc.once&&[],b3=function(cd){b5=cc.memory&&cd;e=true;b8=b4||0;b4=0;b7=b9.length;b6=true;for(;b9&&b8<b7;b8++){if(b9[b8].apply(cd[0],cd[1])===false&&cc.stopOnFalse){b5=false;break}}b6=false;if(b9){if(ca){if(ca.length){b3(ca.shift())}}else{if(b5){b9=[]}else{cb.disable()}}}},cb={add:function(){if(b9){var ce=b9.length;(function cd(cf){bt.each(cf,function(ch,cg){var ci=bt.type(cg);if(ci==="function"){if(!cc.unique||!cb.has(cg)){b9.push(cg)}}else{if(cg&&cg.length&&ci!=="string"){cd(cg)}}})})(arguments);if(b6){b7=b9.length}else{if(b5){b4=ce;b3(b5)}}}return this},remove:function(){if(b9){bt.each(arguments,function(cf,cd){var ce;while((ce=bt.inArray(cd,b9,ce))>-1){b9.splice(ce,1);if(b6){if(ce<=b7){b7--}if(ce<=b8){b8--}}}})}return this},has:function(cd){return cd?bt.inArray(cd,b9)>-1:!!(b9&&b9.length)},empty:function(){b9=[];b7=0;return this},disable:function(){b9=ca=b5=aD;return this},disabled:function(){return !b9},lock:function(){ca=aD;if(!b5){cb.disable()}return this},locked:function(){return !ca},fireWith:function(ce,cd){cd=cd||[];cd=[ce,cd.slice?cd.slice():cd];if(b9&&(!e||ca)){if(b6){ca.push(cd)}else{b3(cd)}}return this},fire:function(){cb.fireWith(this,arguments);return this},fired:function(){return !!e}};return cb};bt.extend({Deferred:function(b4){var b3=[["resolve","done",bt.Callbacks("once memory"),"resolved"],["reject","fail",bt.Callbacks("once memory"),"rejected"],["notify","progress",bt.Callbacks("memory")]],b5="pending",b6={state:function(){return b5},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var b7=arguments;return bt.Deferred(function(b8){bt.each(b3,function(ca,b9){var cc=b9[0],cb=bt.isFunction(b7[ca])&&b7[ca];e[b9[1]](function(){var cd=cb&&cb.apply(this,arguments);if(cd&&bt.isFunction(cd.promise)){cd.promise().done(b8.resolve).fail(b8.reject).progress(b8.notify)}else{b8[cc+"With"](this===b6?b8.promise():this,cb?[cd]:arguments)}})});b7=null}).promise()},promise:function(b7){return b7!=null?bt.extend(b7,b6):b6}},e={};b6.pipe=b6.then;bt.each(b3,function(b8,b7){var ca=b7[2],b9=b7[3];b6[b7[1]]=ca.add;if(b9){ca.add(function(){b5=b9},b3[b8^1][2].disable,b3[2][2].lock)}e[b7[0]]=function(){e[b7[0]+"With"](this===e?b6:this,arguments);return this};e[b7[0]+"With"]=ca.fireWith});b6.promise(e);if(b4){b4.call(e,e)}return e},when:function(b6){var b4=0,b8=a3.call(arguments),e=b8.length,b3=e!==1||(b6&&bt.isFunction(b6.promise))?e:0,cb=b3===1?b6:bt.Deferred(),b5=function(cd,ce,cc){return function(cf){ce[cd]=this;cc[cd]=arguments.length>1?a3.call(arguments):cf;if(cc===ca){cb.notifyWith(ce,cc)}else{if(!(--b3)){cb.resolveWith(ce,cc)}}}},ca,b7,b9;if(e>1){ca=new Array(e);b7=new Array(e);b9=new Array(e);for(;b4<e;b4++){if(b8[b4]&&bt.isFunction(b8[b4].promise)){b8[b4].promise().done(b5(b4,b9,b8)).fail(cb.reject).progress(b5(b4,b7,ca))}else{--b3}}}if(!b3){cb.resolveWith(b9,b8)}return cb.promise()}});bt.support=(function(ce){var cd,cb,ca,cc,b9,b5,b7,b4,b6,b3=l.createElement("div");b3.setAttribute("className","t");b3.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";cd=b3.getElementsByTagName("*")||[];cb=b3.getElementsByTagName("a")[0];if(!cb||!cb.style||!cd.length){return ce}cc=l.createElement("select");b5=cc.appendChild(l.createElement("option"));ca=b3.getElementsByTagName("input")[0];cb.style.cssText="top:1px;float:left;opacity:.5";ce.getSetAttribute=b3.className!=="t";ce.leadingWhitespace=b3.firstChild.nodeType===3;ce.tbody=!b3.getElementsByTagName("tbody").length;ce.htmlSerialize=!!b3.getElementsByTagName("link").length;ce.style=/top/.test(cb.getAttribute("style"));ce.hrefNormalized=cb.getAttribute("href")==="/a";ce.opacity=/^0.5/.test(cb.style.opacity);ce.cssFloat=!!cb.style.cssFloat;ce.checkOn=!!ca.value;ce.optSelected=b5.selected;ce.enctype=!!l.createElement("form").enctype;ce.html5Clone=l.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>";ce.inlineBlockNeedsLayout=false;ce.shrinkWrapBlocks=false;ce.pixelPosition=false;ce.deleteExpando=true;ce.noCloneEvent=true;ce.reliableMarginRight=true;ce.boxSizingReliable=true;ca.checked=true;ce.noCloneChecked=ca.cloneNode(true).checked;cc.disabled=true;ce.optDisabled=!b5.disabled;try{delete b3.test}catch(b8){ce.deleteExpando=false}ca=l.createElement("input");ca.setAttribute("value","");ce.input=ca.getAttribute("value")==="";ca.value="t";ca.setAttribute("type","radio");ce.radioValue=ca.value==="t";ca.setAttribute("checked","t");ca.setAttribute("name","t");b9=l.createDocumentFragment();b9.appendChild(ca);ce.appendChecked=ca.checked;ce.checkClone=b9.cloneNode(true).cloneNode(true).lastChild.checked;if(b3.attachEvent){b3.attachEvent("onclick",function(){ce.noCloneEvent=false});b3.cloneNode(true).click()}for(b6 in {submit:true,change:true,focusin:true}){b3.setAttribute(b7="on"+b6,"t");ce[b6+"Bubbles"]=b7 in a1||b3.attributes[b7].expando===false}b3.style.backgroundClip="content-box";b3.cloneNode(true).style.backgroundClip="";ce.clearCloneStyle=b3.style.backgroundClip==="content-box";for(b6 in bt(ce)){break}ce.ownLast=b6!=="0";bt(function(){var cf,ci,ch,cg="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",e=l.getElementsByTagName("body")[0];if(!e){return}cf=l.createElement("div");cf.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";e.appendChild(cf).appendChild(b3);b3.innerHTML="<table><tr><td></td><td>t</td></tr></table>";ch=b3.getElementsByTagName("td");ch[0].style.cssText="padding:0;margin:0;border:0;display:none";b4=(ch[0].offsetHeight===0);ch[0].style.display="";ch[1].style.display="none";ce.reliableHiddenOffsets=b4&&(ch[0].offsetHeight===0);b3.innerHTML="";b3.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";bt.swap(e,e.style.zoom!=null?{zoom:1}:{},function(){ce.boxSizing=b3.offsetWidth===4});if(a1.getComputedStyle){ce.pixelPosition=(a1.getComputedStyle(b3,null)||{}).top!=="1%";ce.boxSizingReliable=(a1.getComputedStyle(b3,null)||{width:"4px"}).width==="4px";ci=b3.appendChild(l.createElement("div"));ci.style.cssText=b3.style.cssText=cg;ci.style.marginRight=ci.style.width="0";b3.style.width="1px";ce.reliableMarginRight=!parseFloat((a1.getComputedStyle(ci,null)||{}).marginRight)}if(typeof b3.style.zoom!==az){b3.innerHTML="";b3.style.cssText=cg+"width:1px;padding:1px;display:inline;zoom:1";ce.inlineBlockNeedsLayout=(b3.offsetWidth===3);b3.style.display="block";b3.innerHTML="<div></div>";b3.firstChild.style.width="5px";ce.shrinkWrapBlocks=(b3.offsetWidth!==3);if(ce.inlineBlockNeedsLayout){e.style.zoom=1}}e.removeChild(cf);cf=b3=ch=ci=null});cd=cc=b9=b5=cb=ca=null;return ce})({});var bw=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aK=/([A-Z])/g;function a9(b5,b3,b7,b6){if(!bt.acceptData(b5)){return}var b9,b8,ca=bt.expando,cb=b5.nodeType,e=cb?bt.cache:b5,b4=cb?b5[ca]:b5[ca]&&ca;if((!b4||!e[b4]||(!b6&&!e[b4].data))&&b7===aD&&typeof b3==="string"){return}if(!b4){if(cb){b4=b5[ca]=a5.pop()||bt.guid++}else{b4=ca}}if(!e[b4]){e[b4]=cb?{}:{toJSON:bt.noop}}if(typeof b3==="object"||typeof b3==="function"){if(b6){e[b4]=bt.extend(e[b4],b3)}else{e[b4].data=bt.extend(e[b4].data,b3)}}b8=e[b4];if(!b6){if(!b8.data){b8.data={}}b8=b8.data}if(b7!==aD){b8[bt.camelCase(b3)]=b7}if(typeof b3==="string"){b9=b8[b3];if(b9==null){b9=b8[bt.camelCase(b3)]}}else{b9=b8}return b9}function W(b6,b4,e){if(!bt.acceptData(b6)){return}var b8,b5,b7=b6.nodeType,b3=b7?bt.cache:b6,b9=b7?b6[bt.expando]:bt.expando;if(!b3[b9]){return}if(b4){b8=e?b3[b9]:b3[b9].data;if(b8){if(!bt.isArray(b4)){if(b4 in b8){b4=[b4]}else{b4=bt.camelCase(b4);if(b4 in b8){b4=[b4]}else{b4=b4.split(" ")}}}else{b4=b4.concat(bt.map(b4,bt.camelCase))}b5=b4.length;while(b5--){delete b8[b4[b5]]}if(e?!K(b8):!bt.isEmptyObject(b8)){return}}}if(!e){delete b3[b9].data;if(!K(b3[b9])){return}}if(b7){bt.cleanData([b6],true)}else{if(bt.support.deleteExpando||b3!=b3.window){delete b3[b9]}else{b3[b9]=null}}}bt.extend({cache:{},noData:{applet:true,embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){e=e.nodeType?bt.cache[e[bt.expando]]:e[bt.expando];return !!e&&!K(e)},data:function(b3,e,b4){return a9(b3,e,b4)},removeData:function(b3,e){return W(b3,e)},_data:function(b3,e,b4){return a9(b3,e,b4,true)},_removeData:function(b3,e){return W(b3,e,true)},acceptData:function(b3){if(b3.nodeType&&b3.nodeType!==1&&b3.nodeType!==9){return false}var e=b3.nodeName&&bt.noData[b3.nodeName.toLowerCase()];return !e||e!==true&&b3.getAttribute("classid")===e}});bt.fn.extend({data:function(b5,b8){var b3,e,b7=null,b4=0,b6=this[0];if(b5===aD){if(this.length){b7=bt.data(b6);if(b6.nodeType===1&&!bt._data(b6,"parsedAttrs")){b3=b6.attributes;for(;b4<b3.length;b4++){e=b3[b4].name;if(e.indexOf("data-")===0){e=bt.camelCase(e.slice(5));by(b6,e,b7[e])}}bt._data(b6,"parsedAttrs",true)}}return b7}if(typeof b5==="object"){return this.each(function(){bt.data(this,b5)})}return arguments.length>1?this.each(function(){bt.data(this,b5,b8)}):b6?by(b6,b5,bt.data(b6,b5)):null},removeData:function(e){return this.each(function(){bt.removeData(this,e)})}});function by(b5,b4,b6){if(b6===aD&&b5.nodeType===1){var b3="data-"+b4.replace(aK,"-$1").toLowerCase();b6=b5.getAttribute(b3);if(typeof b6==="string"){try{b6=b6==="true"?true:b6==="false"?false:b6==="null"?null:+b6+""===b6?+b6:bw.test(b6)?bt.parseJSON(b6):b6}catch(b7){}bt.data(b5,b4,b6)}else{b6=aD}}return b6}function K(b3){var e;for(e in b3){if(e==="data"&&bt.isEmptyObject(b3[e])){continue}if(e!=="toJSON"){return false}}return true}bt.extend({queue:function(b4,b3,b5){var e;if(b4){b3=(b3||"fx")+"queue";e=bt._data(b4,b3);if(b5){if(!e||bt.isArray(b5)){e=bt._data(b4,b3,bt.makeArray(b5))}else{e.push(b5)}}return e||[]}},dequeue:function(b7,b6){b6=b6||"fx";var b3=bt.queue(b7,b6),b8=b3.length,b5=b3.shift(),e=bt._queueHooks(b7,b6),b4=function(){bt.dequeue(b7,b6)};if(b5==="inprogress"){b5=b3.shift();b8--}if(b5){if(b6==="fx"){b3.unshift("inprogress")}delete e.stop;b5.call(b7,b4,e)}if(!b8&&e){e.empty.fire()}},_queueHooks:function(b4,b3){var e=b3+"queueHooks";return bt._data(b4,e)||bt._data(b4,e,{empty:bt.Callbacks("once memory").add(function(){bt._removeData(b4,b3+"queue");bt._removeData(b4,e)})})}});bt.fn.extend({queue:function(e,b3){var b4=2;if(typeof e!=="string"){b3=e;e="fx";b4--}if(arguments.length<b4){return bt.queue(this[0],e)}return b3===aD?this:this.each(function(){var b5=bt.queue(this,e,b3);bt._queueHooks(this,e);if(e==="fx"&&b5[0]!=="inprogress"){bt.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bt.dequeue(this,e)})},delay:function(b3,e){b3=bt.fx?bt.fx.speeds[b3]||b3:b3;e=e||"fx";return this.queue(e,function(b5,b4){var b6=setTimeout(b5,b3);b4.stop=function(){clearTimeout(b6)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b4,b8){var b3,b5=1,b9=bt.Deferred(),b7=this,e=this.length,b6=function(){if(!(--b5)){b9.resolveWith(b7,[b7])}};if(typeof b4!=="string"){b8=b4;b4=aD}b4=b4||"fx";while(e--){b3=bt._data(b7[e],b4+"queueHooks");if(b3&&b3.empty){b5++;b3.empty.add(b6)}}b6();return b9.promise(b8)}});var a7,bZ,bL=/[\t\r\n\f]/g,ag=/\r/g,aC=/^(?:input|select|textarea|button|object)$/i,B=/^(?:a|area)$/i,an=/^(?:checked|selected)$/i,bO=bt.support.getSetAttribute,bF=bt.support.input;bt.fn.extend({attr:function(e,b3){return bt.access(this,bt.attr,e,b3,arguments.length>1)},removeAttr:function(e){return this.each(function(){bt.removeAttr(this,e)})},prop:function(e,b3){return bt.access(this,bt.prop,e,b3,arguments.length>1)},removeProp:function(e){e=bt.propFix[e]||e;return this.each(function(){try{this[e]=aD;delete this[e]}catch(b3){}})},addClass:function(b9){var b3,e,ca,b6,b4,b5=0,b7=this.length,b8=typeof b9==="string"&&b9;if(bt.isFunction(b9)){return this.each(function(cb){bt(this).addClass(b9.call(this,cb,this.className))})}if(b8){b3=(b9||"").match(Z)||[];for(;b5<b7;b5++){e=this[b5];ca=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bL," "):" ");if(ca){b4=0;while((b6=b3[b4++])){if(ca.indexOf(" "+b6+" ")<0){ca+=b6+" "}}e.className=bt.trim(ca)}}}return this},removeClass:function(b9){var b3,e,ca,b6,b4,b5=0,b7=this.length,b8=arguments.length===0||typeof b9==="string"&&b9;if(bt.isFunction(b9)){return this.each(function(cb){bt(this).removeClass(b9.call(this,cb,this.className))})}if(b8){b3=(b9||"").match(Z)||[];for(;b5<b7;b5++){e=this[b5];ca=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bL," "):"");if(ca){b4=0;while((b6=b3[b4++])){while(ca.indexOf(" "+b6+" ")>=0){ca=ca.replace(" "+b6+" "," ")}}e.className=b9?bt.trim(ca):""}}}return this},toggleClass:function(b5,b3){var b4=typeof b5,e=typeof b3==="boolean";if(bt.isFunction(b5)){return this.each(function(b6){bt(this).toggleClass(b5.call(this,b6,this.className,b3),b3)})}return this.each(function(){if(b4==="string"){var b8,b7=0,b6=bt(this),b9=b3,ca=b5.match(Z)||[];while((b8=ca[b7++])){b9=e?b9:!b6.hasClass(b8);b6[b9?"addClass":"removeClass"](b8)}}else{if(b4===az||b4==="boolean"){if(this.className){bt._data(this,"__className__",this.className)}this.className=this.className||b5===false?"":bt._data(this,"__className__")||""}}})},hasClass:function(e){var b5=" "+e+" ",b4=0,b3=this.length;for(;b4<b3;b4++){if(this[b4].nodeType===1&&(" "+this[b4].className+" ").replace(bL," ").indexOf(b5)>=0){return true}}return false},val:function(b5){var b3,e,b6,b4=this[0];if(!arguments.length){if(b4){e=bt.valHooks[b4.type]||bt.valHooks[b4.nodeName.toLowerCase()];if(e&&"get" in e&&(b3=e.get(b4,"value"))!==aD){return b3}b3=b4.value;return typeof b3==="string"?b3.replace(ag,""):b3==null?"":b3}return}b6=bt.isFunction(b5);return this.each(function(b7){var b8;if(this.nodeType!==1){return}if(b6){b8=b5.call(this,b7,bt(this).val())}else{b8=b5}if(b8==null){b8=""}else{if(typeof b8==="number"){b8+=""}else{if(bt.isArray(b8)){b8=bt.map(b8,function(b9){return b9==null?"":b9+""})}}}e=bt.valHooks[this.type]||bt.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,b8,"value")===aD){this.value=b8}})}});bt.extend({valHooks:{option:{get:function(e){var b3=bt.find.attr(e,"value");return b3!=null?b3:e.text}},select:{get:function(e){var b8,b4,ca=e.options,b6=e.selectedIndex,b5=e.type==="select-one"||b6<0,b9=b5?null:[],b7=b5?b6+1:ca.length,b3=b6<0?b7:b5?b6:0;for(;b3<b7;b3++){b4=ca[b3];if((b4.selected||b3===b6)&&(bt.support.optDisabled?!b4.disabled:b4.getAttribute("disabled")===null)&&(!b4.parentNode.disabled||!bt.nodeName(b4.parentNode,"optgroup"))){b8=bt(b4).val();if(b5){return b8}b9.push(b8)}}return b9},set:function(b6,b7){var b8,b5,b3=b6.options,e=bt.makeArray(b7),b4=b3.length;while(b4--){b5=b3[b4];if((b5.selected=bt.inArray(bt(b5).val(),e)>=0)){b8=true}}if(!b8){b6.selectedIndex=-1}return e}}},attr:function(b6,b5,b7){var e,b4,b3=b6.nodeType;if(!b6||b3===3||b3===8||b3===2){return}if(typeof b6.getAttribute===az){return bt.prop(b6,b5,b7)}if(b3!==1||!bt.isXMLDoc(b6)){b5=b5.toLowerCase();e=bt.attrHooks[b5]||(bt.expr.match.bool.test(b5)?bZ:a7)}if(b7!==aD){if(b7===null){bt.removeAttr(b6,b5)}else{if(e&&"set" in e&&(b4=e.set(b6,b7,b5))!==aD){return b4}else{b6.setAttribute(b5,b7+"");return b7}}}else{if(e&&"get" in e&&(b4=e.get(b6,b5))!==null){return b4}else{b4=bt.find.attr(b6,b5);return b4==null?aD:b4}}},removeAttr:function(b4,b6){var e,b5,b3=0,b7=b6&&b6.match(Z);if(b7&&b4.nodeType===1){while((e=b7[b3++])){b5=bt.propFix[e]||e;if(bt.expr.match.bool.test(e)){if(bF&&bO||!an.test(e)){b4[b5]=false}else{b4[bt.camelCase("default-"+e)]=b4[b5]=false}}else{bt.attr(b4,e,"")}b4.removeAttribute(bO?e:b5)}}},attrHooks:{type:{set:function(e,b3){if(!bt.support.radioValue&&b3==="radio"&&bt.nodeName(e,"input")){var b4=e.value;e.setAttribute("type",b3);if(b4){e.value=b4}return b3}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(b7,b5,b8){var b4,e,b6,b3=b7.nodeType;if(!b7||b3===3||b3===8||b3===2){return}b6=b3!==1||!bt.isXMLDoc(b7);if(b6){b5=bt.propFix[b5]||b5;e=bt.propHooks[b5]}if(b8!==aD){return e&&"set" in e&&(b4=e.set(b7,b8,b5))!==aD?b4:(b7[b5]=b8)}else{return e&&"get" in e&&(b4=e.get(b7,b5))!==null?b4:b7[b5]}},propHooks:{tabIndex:{get:function(b3){var e=bt.find.attr(b3,"tabindex");return e?parseInt(e,10):aC.test(b3.nodeName)||B.test(b3.nodeName)&&b3.href?0:-1}}}});bZ={set:function(b3,b4,e){if(b4===false){bt.removeAttr(b3,e)}else{if(bF&&bO||!an.test(e)){b3.setAttribute(!bO&&bt.propFix[e]||e,e)}else{b3[bt.camelCase("default-"+e)]=b3[e]=true}}return e}};bt.each(bt.expr.match.bool.source.match(/\w+/g),function(b4,b3){var e=bt.expr.attrHandle[b3]||bt.find.attr;bt.expr.attrHandle[b3]=bF&&bO||!an.test(b3)?function(b8,b6,b9){var b7=bt.expr.attrHandle[b6],b5=b9?aD:(bt.expr.attrHandle[b6]=aD)!=e(b8,b6,b9)?b6.toLowerCase():null;bt.expr.attrHandle[b6]=b7;return b5}:function(b6,b5,b7){return b7?aD:b6[bt.camelCase("default-"+b5)]?b5.toLowerCase():null}});if(!bF||!bO){bt.attrHooks.value={set:function(b3,b4,e){if(bt.nodeName(b3,"input")){b3.defaultValue=b4}else{return a7&&a7.set(b3,b4,e)}}}}if(!bO){a7={set:function(b4,b5,b3){var e=b4.getAttributeNode(b3);if(!e){b4.setAttributeNode((e=b4.ownerDocument.createAttribute(b3)))}e.value=b5+="";return b3==="value"||b5===b4.getAttribute(b3)?b5:aD}};bt.expr.attrHandle.id=bt.expr.attrHandle.name=bt.expr.attrHandle.coords=function(b4,b3,b5){var e;return b5?aD:(e=b4.getAttributeNode(b3))&&e.value!==""?e.value:null};bt.valHooks.button={get:function(b4,b3){var e=b4.getAttributeNode(b3);return e&&e.specified?e.value:aD},set:a7.set};bt.attrHooks.contenteditable={set:function(b3,b4,e){a7.set(b3,b4===""?false:b4,e)}};bt.each(["width","height"],function(b3,e){bt.attrHooks[e]={set:function(b4,b5){if(b5===""){b4.setAttribute(e,"auto");return b5}}}})}if(!bt.support.hrefNormalized){bt.each(["href","src"],function(b3,e){bt.propHooks[e]={get:function(b4){return b4.getAttribute(e,4)}}})}if(!bt.support.style){bt.attrHooks.style={get:function(e){return e.style.cssText||aD},set:function(e,b3){return(e.style.cssText=b3+"")}}}if(!bt.support.optSelected){bt.propHooks.selected={get:function(b3){var e=b3.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}}}bt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){bt.propFix[this.toLowerCase()]=this});if(!bt.support.enctype){bt.propFix.enctype="encoding"}bt.each(["radio","checkbox"],function(){bt.valHooks[this]={set:function(e,b3){if(bt.isArray(b3)){return(e.checked=bt.inArray(bt(e).val(),b3)>=0)}}};if(!bt.support.checkOn){bt.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});var bH=/^(?:input|select|textarea)$/i,a2=/^key/,bM=/^(?:mouse|contextmenu)|click/,bB=/^(?:focusinfocus|focusoutblur)$/,bu=/^([^.]*)(?:\.(.+)|)$/;function O(){return true}function U(){return false}function ah(){try{return l.activeElement}catch(e){}}bt.event={global:{},add:function(b6,cb,cg,b8,b7){var b9,ch,ci,b4,cd,ca,cf,b5,ce,e,b3,cc=bt._data(b6);if(!cc){return}if(cg.handler){b4=cg;cg=b4.handler;b7=b4.selector}if(!cg.guid){cg.guid=bt.guid++}if(!(ch=cc.events)){ch=cc.events={}}if(!(ca=cc.handle)){ca=cc.handle=function(cj){return typeof bt!==az&&(!cj||bt.event.triggered!==cj.type)?bt.event.dispatch.apply(ca.elem,arguments):aD};ca.elem=b6}cb=(cb||"").match(Z)||[""];ci=cb.length;while(ci--){b9=bu.exec(cb[ci])||[];ce=b3=b9[1];e=(b9[2]||"").split(".").sort();if(!ce){continue}cd=bt.event.special[ce]||{};ce=(b7?cd.delegateType:cd.bindType)||ce;cd=bt.event.special[ce]||{};cf=bt.extend({type:ce,origType:b3,data:b8,handler:cg,guid:cg.guid,selector:b7,needsContext:b7&&bt.expr.match.needsContext.test(b7),namespace:e.join(".")},b4);if(!(b5=ch[ce])){b5=ch[ce]=[];b5.delegateCount=0;if(!cd.setup||cd.setup.call(b6,b8,e,ca)===false){if(b6.addEventListener){b6.addEventListener(ce,ca,false)}else{if(b6.attachEvent){b6.attachEvent("on"+ce,ca)}}}}if(cd.add){cd.add.call(b6,cf);if(!cf.handler.guid){cf.handler.guid=cg.guid}}if(b7){b5.splice(b5.delegateCount++,0,cf)}else{b5.push(cf)}bt.event.global[ce]=true}b6=null},remove:function(b5,cb,ci,b6,ca){var b8,cf,b9,b7,ch,cg,cd,b4,ce,e,b3,cc=bt.hasData(b5)&&bt._data(b5);if(!cc||!(cg=cc.events)){return}cb=(cb||"").match(Z)||[""];ch=cb.length;while(ch--){b9=bu.exec(cb[ch])||[];ce=b3=b9[1];e=(b9[2]||"").split(".").sort();if(!ce){for(ce in cg){bt.event.remove(b5,ce+cb[ch],ci,b6,true)}continue}cd=bt.event.special[ce]||{};ce=(b6?cd.delegateType:cd.bindType)||ce;b4=cg[ce]||[];b9=b9[2]&&new RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)");b7=b8=b4.length;while(b8--){cf=b4[b8];if((ca||b3===cf.origType)&&(!ci||ci.guid===cf.guid)&&(!b9||b9.test(cf.namespace))&&(!b6||b6===cf.selector||b6==="**"&&cf.selector)){b4.splice(b8,1);if(cf.selector){b4.delegateCount--}if(cd.remove){cd.remove.call(b5,cf)}}}if(b7&&!b4.length){if(!cd.teardown||cd.teardown.call(b5,e,cc.handle)===false){bt.removeEvent(b5,ce,cc.handle)}delete cg[ce]}}if(bt.isEmptyObject(cg)){delete cc.handle;bt._removeData(b5,"events")}},trigger:function(b3,ca,b6,ch){var cb,b5,cf,cg,cd,b9,b8,b7=[b6||l],ce=S.call(b3,"type")?b3.type:b3,b4=S.call(b3,"namespace")?b3.namespace.split("."):[];cf=b9=b6=b6||l;if(b6.nodeType===3||b6.nodeType===8){return}if(bB.test(ce+bt.event.triggered)){return}if(ce.indexOf(".")>=0){b4=ce.split(".");ce=b4.shift();b4.sort()}b5=ce.indexOf(":")<0&&"on"+ce;b3=b3[bt.expando]?b3:new bt.Event(ce,typeof b3==="object"&&b3);b3.isTrigger=ch?2:3;b3.namespace=b4.join(".");b3.namespace_re=b3.namespace?new RegExp("(^|\\.)"+b4.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b3.result=aD;if(!b3.target){b3.target=b6}ca=ca==null?[b3]:bt.makeArray(ca,[b3]);cd=bt.event.special[ce]||{};if(!ch&&cd.trigger&&cd.trigger.apply(b6,ca)===false){return}if(!ch&&!cd.noBubble&&!bt.isWindow(b6)){cg=cd.delegateType||ce;if(!bB.test(cg+ce)){cf=cf.parentNode}for(;cf;cf=cf.parentNode){b7.push(cf);b9=cf}if(b9===(b6.ownerDocument||l)){b7.push(b9.defaultView||b9.parentWindow||a1)}}b8=0;while((cf=b7[b8++])&&!b3.isPropagationStopped()){b3.type=b8>1?cg:cd.bindType||ce;cb=(bt._data(cf,"events")||{})[b3.type]&&bt._data(cf,"handle");if(cb){cb.apply(cf,ca)}cb=b5&&cf[b5];if(cb&&bt.acceptData(cf)&&cb.apply&&cb.apply(cf,ca)===false){b3.preventDefault()}}b3.type=ce;if(!ch&&!b3.isDefaultPrevented()){if((!cd._default||cd._default.apply(b7.pop(),ca)===false)&&bt.acceptData(b6)){if(b5&&b6[ce]&&!bt.isWindow(b6)){b9=b6[b5];if(b9){b6[b5]=null}bt.event.triggered=ce;try{b6[ce]()}catch(cc){}bt.event.triggered=aD;if(b9){b6[b5]=b9}}}}return b3.result},dispatch:function(e){e=bt.event.fix(e);var b6,b7,cb,b3,b5,ca=[],b9=a3.call(arguments),b4=(bt._data(this,"events")||{})[e.type]||[],b8=bt.event.special[e.type]||{};b9[0]=e;e.delegateTarget=this;if(b8.preDispatch&&b8.preDispatch.call(this,e)===false){return}ca=bt.event.handlers.call(this,e,b4);b6=0;while((b3=ca[b6++])&&!e.isPropagationStopped()){e.currentTarget=b3.elem;b5=0;while((cb=b3.handlers[b5++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(cb.namespace)){e.handleObj=cb;e.data=cb.data;b7=((bt.event.special[cb.origType]||{}).handle||cb.handler).apply(b3.elem,b9);if(b7!==aD){if((e.result=b7)===false){e.preventDefault();e.stopPropagation()}}}}}if(b8.postDispatch){b8.postDispatch.call(this,e)}return e.result},handlers:function(e,b4){var b3,b9,b7,b6,b8=[],b5=b4.delegateCount,ca=e.target;if(b5&&ca.nodeType&&(!e.button||e.type!=="click")){for(;ca!=this;ca=ca.parentNode||this){if(ca.nodeType===1&&(ca.disabled!==true||e.type!=="click")){b7=[];for(b6=0;b6<b5;b6++){b9=b4[b6];b3=b9.selector+" ";if(b7[b3]===aD){b7[b3]=b9.needsContext?bt(b3,this).index(ca)>=0:bt.find(b3,this,null,[ca]).length}if(b7[b3]){b7.push(b9)}}if(b7.length){b8.push({elem:ca,handlers:b7})}}}}if(b5<b4.length){b8.push({elem:this,handlers:b4.slice(b5)})}return b8},fix:function(b5){if(b5[bt.expando]){return b5}var b3,b8,b7,b4=b5.type,e=b5,b6=this.fixHooks[b4];if(!b6){this.fixHooks[b4]=b6=bM.test(b4)?this.mouseHooks:a2.test(b4)?this.keyHooks:{}}b7=b6.props?this.props.concat(b6.props):this.props;b5=new bt.Event(e);b3=b7.length;while(b3--){b8=b7[b3];b5[b8]=e[b8]}if(!b5.target){b5.target=e.srcElement||l}if(b5.target.nodeType===3){b5.target=b5.target.parentNode}b5.metaKey=!!b5.metaKey;return b6.filter?b6.filter(b5,e):b5},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b3,e){if(b3.which==null){b3.which=e.charCode!=null?e.charCode:e.keyCode}return b3}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b5,b4){var e,b6,b7,b3=b4.button,b8=b4.fromElement;if(b5.pageX==null&&b4.clientX!=null){b6=b5.target.ownerDocument||l;b7=b6.documentElement;e=b6.body;b5.pageX=b4.clientX+(b7&&b7.scrollLeft||e&&e.scrollLeft||0)-(b7&&b7.clientLeft||e&&e.clientLeft||0);b5.pageY=b4.clientY+(b7&&b7.scrollTop||e&&e.scrollTop||0)-(b7&&b7.clientTop||e&&e.clientTop||0)}if(!b5.relatedTarget&&b8){b5.relatedTarget=b8===b5.target?b4.toElement:b8}if(!b5.which&&b3!==aD){b5.which=(b3&1?1:(b3&2?3:(b3&4?2:0)))}return b5}},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==ah()&&this.focus){try{this.focus();return false}catch(b3){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===ah()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(bt.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}},_default:function(e){return bt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==aD){e.originalEvent.returnValue=e.result}}}},simulate:function(b4,b6,b5,b3){var b7=bt.extend(new bt.Event(),b5,{type:b4,isSimulated:true,originalEvent:{}});if(b3){bt.event.trigger(b7,null,b6)}else{bt.event.dispatch.call(b6,b7)}if(b7.isDefaultPrevented()){b5.preventDefault()}}};bt.removeEvent=l.removeEventListener?function(b3,e,b4){if(b3.removeEventListener){b3.removeEventListener(e,b4,false)}}:function(b4,b3,b5){var e="on"+b3;if(b4.detachEvent){if(typeof b4[e]===az){b4[e]=null}b4.detachEvent(e,b5)}};bt.Event=function(b3,e){if(!(this instanceof bt.Event)){return new bt.Event(b3,e)}if(b3&&b3.type){this.originalEvent=b3;this.type=b3.type;this.isDefaultPrevented=(b3.defaultPrevented||b3.returnValue===false||b3.getPreventDefault&&b3.getPreventDefault())?O:U}else{this.type=b3}if(e){bt.extend(this,e)}this.timeStamp=b3&&b3.timeStamp||bt.now();this[bt.expando]=true};bt.Event.prototype={isDefaultPrevented:U,isPropagationStopped:U,isImmediatePropagationStopped:U,preventDefault:function(){var b3=this.originalEvent;this.isDefaultPrevented=O;if(!b3){return}if(b3.preventDefault){b3.preventDefault()}else{b3.returnValue=false}},stopPropagation:function(){var b3=this.originalEvent;this.isPropagationStopped=O;if(!b3){return}if(b3.stopPropagation){b3.stopPropagation()}b3.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=O;this.stopPropagation()}};bt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b3,e){bt.event.special[b3]={delegateType:e,bindType:e,handle:function(b6){var b4,b8=this,b7=b6.relatedTarget,b5=b6.handleObj;if(!b7||(b7!==b8&&!bt.contains(b8,b7))){b6.type=b5.origType;b4=b5.handler.apply(this,arguments);b6.type=e}return b4}}});if(!bt.support.submitBubbles){bt.event.special.submit={setup:function(){if(bt.nodeName(this,"form")){return false}bt.event.add(this,"click._submit keypress._submit",function(b5){var b4=b5.target,b3=bt.nodeName(b4,"input")||bt.nodeName(b4,"button")?b4.form:aD;if(b3&&!bt._data(b3,"submitBubbles")){bt.event.add(b3,"submit._submit",function(e){e._submit_bubble=true});bt._data(b3,"submitBubbles",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bt.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bt.nodeName(this,"form")){return false}bt.event.remove(this,"._submit")}}}if(!bt.support.changeBubbles){bt.event.special.change={setup:function(){if(bH.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bt.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bt.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bt.event.simulate("change",this,e,true)})}return false}bt.event.add(this,"beforeactivate._change",function(b4){var b3=b4.target;if(bH.test(b3.nodeName)&&!bt._data(b3,"changeBubbles")){bt.event.add(b3,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bt.event.simulate("change",this.parentNode,e,true)}});bt._data(b3,"changeBubbles",true)}})},handle:function(b3){var e=b3.target;if(this!==e||b3.isSimulated||b3.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b3.handleObj.handler.apply(this,arguments)}},teardown:function(){bt.event.remove(this,"._change");return !bH.test(this.nodeName)}}}if(!bt.support.focusinBubbles){bt.each({focus:"focusin",blur:"focusout"},function(b5,e){var b3=0,b4=function(b6){bt.event.simulate(e,b6.target,bt.event.fix(b6),true)};bt.event.special[e]={setup:function(){if(b3++===0){l.addEventListener(b5,b4,true)}},teardown:function(){if(--b3===0){l.removeEventListener(b5,b4,true)}}}})}bt.fn.extend({on:function(b4,e,b7,b6,b3){var b5,b8;if(typeof b4==="object"){if(typeof e!=="string"){b7=b7||e;e=aD}for(b5 in b4){this.on(b5,e,b7,b4[b5],b3)}return this}if(b7==null&&b6==null){b6=e;b7=e=aD}else{if(b6==null){if(typeof e==="string"){b6=b7;b7=aD}else{b6=b7;b7=e;e=aD}}}if(b6===false){b6=U}else{if(!b6){return this}}if(b3===1){b8=b6;b6=function(b9){bt().off(b9);return b8.apply(this,arguments)};b6.guid=b8.guid||(b8.guid=bt.guid++)}return this.each(function(){bt.event.add(this,b4,b6,b7,e)})},one:function(b3,e,b5,b4){return this.on(b3,e,b5,b4,1)},off:function(b4,e,b6){var b3,b5;if(b4&&b4.preventDefault&&b4.handleObj){b3=b4.handleObj;bt(b4.delegateTarget).off(b3.namespace?b3.origType+"."+b3.namespace:b3.origType,b3.selector,b3.handler);return this}if(typeof b4==="object"){for(b5 in b4){this.off(b5,e,b4[b5])}return this}if(e===false||typeof e==="function"){b6=e;e=aD}if(b6===false){b6=U}return this.each(function(){bt.event.remove(this,b4,b6,e)})},trigger:function(e,b3){return this.each(function(){bt.event.trigger(e,b3,this)})},triggerHandler:function(e,b4){var b3=this[0];if(b3){return bt.event.trigger(e,b4,b3,true)}}});var ak=/^.[^:#\[\.,]*$/,bs=/^(?:parents|prev(?:Until|All))/,w=bt.expr.match.needsContext,bx={children:true,contents:true,next:true,prev:true};bt.fn.extend({find:function(b3){var b6,b5=[],b4=this,e=b4.length;if(typeof b3!=="string"){return this.pushStack(bt(b3).filter(function(){for(b6=0;b6<e;b6++){if(bt.contains(b4[b6],this)){return true}}}))}for(b6=0;b6<e;b6++){bt.find(b3,b4[b6],b5)}b5=this.pushStack(e>1?bt.unique(b5):b5);b5.selector=this.selector?this.selector+" "+b3:b3;return b5},has:function(b5){var b4,b3=bt(b5,this),e=b3.length;return this.filter(function(){for(b4=0;b4<e;b4++){if(bt.contains(this,b3[b4])){return true}}})},not:function(e){return this.pushStack(aL(this,e||[],true))},filter:function(e){return this.pushStack(aL(this,e||[],false))},is:function(e){return !!aL(this,typeof e==="string"&&w.test(e)?bt(e):e||[],false).length},closest:function(b6,b5){var b7,b4=0,e=this.length,b3=[],b8=w.test(b6)||typeof b6!=="string"?bt(b6,b5||this.context):0;for(;b4<e;b4++){for(b7=this[b4];b7&&b7!==b5;b7=b7.parentNode){if(b7.nodeType<11&&(b8?b8.index(b7)>-1:b7.nodeType===1&&bt.find.matchesSelector(b7,b6))){b7=b3.push(b7);break}}}return this.pushStack(b3.length>1?bt.unique(b3):b3)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof e==="string"){return bt.inArray(this[0],bt(e))}return bt.inArray(e.jquery?e[0]:e,this)},add:function(e,b3){var b5=typeof e==="string"?bt(e,b3):bt.makeArray(e&&e.nodeType?[e]:e),b4=bt.merge(this.get(),b5);return this.pushStack(bt.unique(b4))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function aV(b3,e){do{b3=b3[e]}while(b3&&b3.nodeType!==1);return b3}bt.each({parent:function(b3){var e=b3.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bt.dir(e,"parentNode")},parentsUntil:function(b3,e,b4){return bt.dir(b3,"parentNode",b4)},next:function(e){return aV(e,"nextSibling")},prev:function(e){return aV(e,"previousSibling")},nextAll:function(e){return bt.dir(e,"nextSibling")},prevAll:function(e){return bt.dir(e,"previousSibling")},nextUntil:function(b3,e,b4){return bt.dir(b3,"nextSibling",b4)},prevUntil:function(b3,e,b4){return bt.dir(b3,"previousSibling",b4)},siblings:function(e){return bt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bt.sibling(e.firstChild)},contents:function(e){return bt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bt.merge([],e.childNodes)}},function(e,b3){bt.fn[e]=function(b6,b4){var b5=bt.map(this,b3,b6);if(e.slice(-5)!=="Until"){b4=b6}if(b4&&typeof b4==="string"){b5=bt.filter(b4,b5)}if(this.length>1){if(!bx[e]){b5=bt.unique(b5)}if(bs.test(e)){b5=b5.reverse()}}return this.pushStack(b5)}});bt.extend({filter:function(b5,e,b4){var b3=e[0];if(b4){b5=":not("+b5+")"}return e.length===1&&b3.nodeType===1?bt.find.matchesSelector(b3,b5)?[b3]:[]:bt.find.matches(b5,bt.grep(e,function(b6){return b6.nodeType===1}))},dir:function(b4,b3,b6){var e=[],b5=b4[b3];while(b5&&b5.nodeType!==9&&(b6===aD||b5.nodeType!==1||!bt(b5).is(b6))){if(b5.nodeType===1){e.push(b5)}b5=b5[b3]}return e},sibling:function(b4,b3){var e=[];for(;b4;b4=b4.nextSibling){if(b4.nodeType===1&&b4!==b3){e.push(b4)}}return e}});function aL(b4,e,b3){if(bt.isFunction(e)){return bt.grep(b4,function(b6,b5){return !!e.call(b6,b5,b6)!==b3})}if(e.nodeType){return bt.grep(b4,function(b5){return(b5===e)!==b3})}if(typeof e==="string"){if(ak.test(e)){return bt.filter(e,b4,b3)}e=bt.filter(e,b4)}return bt.grep(b4,function(b5){return(bt.inArray(b5,e)>=0)!==b3})}function y(e){var b4=d.split("|"),b3=e.createDocumentFragment();if(b3.createElement){while(b4.length){b3.createElement(b4.pop())}}return b3}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aT=/ jQueryTS\d+="(?:null|\d+)"/g,G=new RegExp("<(?:"+d+")[\\s/>]","i"),b2=/^\s+/,aA=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,m=/<([\w:]+)/,bX=/<tbody/i,F=/<|&#?\w+;/,ai=/<(?:script|style|link)/i,q=/^(?:checkbox|radio)$/i,bT=/checked\s*(?:[^=]|=\s*.checked.)/i,bz=/^$|\/(?:java|ecma)script/i,ao=/^true\/(.*)/,aH=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Q={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:bt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},aP=y(l),j=aP.appendChild(l.createElement("div"));Q.optgroup=Q.option;Q.tbody=Q.tfoot=Q.colgroup=Q.caption=Q.thead;Q.th=Q.td;bt.fn.extend({text:function(e){return bt.access(this,function(b3){return b3===aD?bt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||l).createTextNode(b3))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b3=aZ(this,e);b3.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b3=aZ(this,e);b3.insertBefore(e,b3.firstChild)}})},before:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,b6){var b5,b3=e?bt.filter(e,this):this,b4=0;for(;(b5=b3[b4])!=null;b4++){if(!b6&&b5.nodeType===1){bt.cleanData(k(b5))}if(b5.parentNode){if(b6&&bt.contains(b5.ownerDocument,b5)){br(k(b5,"script"))}b5.parentNode.removeChild(b5)}}return this},empty:function(){var b3,e=0;for(;(b3=this[e])!=null;e++){if(b3.nodeType===1){bt.cleanData(k(b3,false))}while(b3.firstChild){b3.removeChild(b3.firstChild)}if(b3.options&&bt.nodeName(b3,"select")){b3.options.length=0}}return this},clone:function(b3,e){b3=b3==null?false:b3;e=e==null?b3:e;return this.map(function(){return bt.clone(this,b3,e)})},html:function(e){return bt.access(this,function(b6){var b5=this[0]||{},b4=0,b3=this.length;if(b6===aD){return b5.nodeType===1?b5.innerHTML.replace(aT,""):aD}if(typeof b6==="string"&&!ai.test(b6)&&(bt.support.htmlSerialize||!G.test(b6))&&(bt.support.leadingWhitespace||!b2.test(b6))&&!Q[(m.exec(b6)||["",""])[1].toLowerCase()]){b6=b6.replace(aA,"<$1></$2>");try{for(;b4<b3;b4++){b5=this[b4]||{};if(b5.nodeType===1){bt.cleanData(k(b5,false));b5.innerHTML=b6}}b5=0}catch(b7){}}if(b5){this.empty().append(b6)}},null,e,arguments.length)},replaceWith:function(){var e=bt.map(this,function(b4){return[b4.nextSibling,b4.parentNode]}),b3=0;this.domManip(arguments,function(b6){var b5=e[b3++],b4=e[b3++];if(b4){if(b5&&b5.parentNode!==b4){b5=this.nextSibling}bt(this).remove();b4.insertBefore(b6,b5)}},true);return b3?this:this.remove()},detach:function(e){return this.remove(e,true)},domManip:function(cb,cg,b4){cb=aF.apply([],cb);var b9,b5,e,b7,ce,ca,b8=0,b6=this.length,cd=this,cf=b6-1,cc=cb[0],b3=bt.isFunction(cc);if(b3||!(b6<=1||typeof cc!=="string"||bt.support.checkClone||!bT.test(cc))){return this.each(function(ci){var ch=cd.eq(ci);if(b3){cb[0]=cc.call(this,ci,ch.html())}ch.domManip(cb,cg,b4)})}if(b6){ca=bt.buildFragment(cb,this[0].ownerDocument,false,!b4&&this);b9=ca.firstChild;if(ca.childNodes.length===1){ca=b9}if(b9){b7=bt.map(k(ca,"script"),t);e=b7.length;for(;b8<b6;b8++){b5=ca;if(b8!==cf){b5=bt.clone(b5,true,true);if(e){bt.merge(b7,k(b5,"script"))}}cg.call(this[b8],b5,b8)}if(e){ce=b7[b7.length-1].ownerDocument;bt.map(b7,bc);for(b8=0;b8<e;b8++){b5=b7[b8];if(bz.test(b5.type||"")&&!bt._data(b5,"globalEval")&&bt.contains(ce,b5)){if(b5.src){bt._evalUrl(b5.src)}else{bt.globalEval((b5.text||b5.textContent||b5.innerHTML||"").replace(aH,""))}}}}ca=b9=null}}return this}});function aZ(b3,e){return bt.nodeName(b3,"table")&&bt.nodeName(e.nodeType===1?e:e.firstChild,"tr")?b3.getElementsByTagName("tbody")[0]||b3.appendChild(b3.ownerDocument.createElement("tbody")):b3}function t(e){e.type=(bt.find.attr(e,"type")!==null)+"/"+e.type;return e}function bc(b3){var e=ao.exec(b3.type);if(e){b3.type=e[1]}else{b3.removeAttribute("type")}return b3}function br(e,b4){var b5,b3=0;for(;(b5=e[b3])!=null;b3++){bt._data(b5,"globalEval",!b4||bt._data(b4[b3],"globalEval"))}}function ap(b9,b3){if(b3.nodeType!==1||!bt.hasData(b9)){return}var b6,b5,e,b8=bt._data(b9),b7=bt._data(b3,b8),b4=b8.events;if(b4){delete b7.handle;b7.events={};for(b6 in b4){for(b5=0,e=b4[b6].length;b5<e;b5++){bt.event.add(b3,b6,b4[b6][b5])}}}if(b7.data){b7.data=bt.extend({},b7.data)}}function N(b6,b3){var b7,b5,b4;if(b3.nodeType!==1){return}b7=b3.nodeName.toLowerCase();if(!bt.support.noCloneEvent&&b3[bt.expando]){b4=bt._data(b3);for(b5 in b4.events){bt.removeEvent(b3,b5,b4.handle)}b3.removeAttribute(bt.expando)}if(b7==="script"&&b3.text!==b6.text){t(b3).text=b6.text;bc(b3)}else{if(b7==="object"){if(b3.parentNode){b3.outerHTML=b6.outerHTML}if(bt.support.html5Clone&&(b6.innerHTML&&!bt.trim(b3.innerHTML))){b3.innerHTML=b6.innerHTML}}else{if(b7==="input"&&q.test(b6.type)){b3.defaultChecked=b3.checked=b6.checked;if(b3.value!==b6.value){b3.value=b6.value}}else{if(b7==="option"){b3.defaultSelected=b3.selected=b6.defaultSelected}else{if(b7==="input"||b7==="textarea"){b3.defaultValue=b6.defaultValue}}}}}}bt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b3){bt.fn[e]=function(b4){var b5,b7=0,b6=[],b9=bt(b4),b8=b9.length-1;for(;b7<=b8;b7++){b5=b7===b8?this:this.clone(true);bt(b9[b7])[b3](b5);al.apply(b6,b5.get())}return this.pushStack(b6)}});function k(b5,e){var b3,b6,b4=0,b7=typeof b5.getElementsByTagName!==az?b5.getElementsByTagName(e||"*"):typeof b5.querySelectorAll!==az?b5.querySelectorAll(e||"*"):aD;if(!b7){for(b7=[],b3=b5.childNodes||b5;(b6=b3[b4])!=null;b4++){if(!e||bt.nodeName(b6,e)){b7.push(b6)}else{bt.merge(b7,k(b6,e))}}}return e===aD||e&&bt.nodeName(b5,e)?bt.merge([b5],b7):b7}function bU(e){if(q.test(e.type)){e.defaultChecked=e.checked}}bt.extend({clone:function(b3,b5,e){var b7,b4,ca,b6,b8,b9=bt.contains(b3.ownerDocument,b3);if(bt.support.html5Clone||bt.isXMLDoc(b3)||!G.test("<"+b3.nodeName+">")){ca=b3.cloneNode(true)}else{j.innerHTML=b3.outerHTML;j.removeChild(ca=j.firstChild)}if((!bt.support.noCloneEvent||!bt.support.noCloneChecked)&&(b3.nodeType===1||b3.nodeType===11)&&!bt.isXMLDoc(b3)){b7=k(ca);b8=k(b3);for(b6=0;(b4=b8[b6])!=null;++b6){if(b7[b6]){N(b4,b7[b6])}}}if(b5){if(e){b8=b8||k(b3);b7=b7||k(ca);for(b6=0;(b4=b8[b6])!=null;b6++){ap(b4,b7[b6])}}else{ap(b3,ca)}}b7=k(ca,"script");if(b7.length>0){br(b7,!b9&&k(b3,"script"))}b7=b8=b4=null;return ca},buildFragment:function(b3,b5,ca,cf){var cb,b7,b9,ce,cg,cd,b4,b8=b3.length,b6=y(b5),e=[],cc=0;for(;cc<b8;cc++){b7=b3[cc];if(b7||b7===0){if(bt.type(b7)==="object"){bt.merge(e,b7.nodeType?[b7]:b7)}else{if(!F.test(b7)){e.push(b5.createTextNode(b7))}else{ce=ce||b6.appendChild(b5.createElement("div"));cg=(m.exec(b7)||["",""])[1].toLowerCase();b4=Q[cg]||Q._default;ce.innerHTML=b4[1]+b7.replace(aA,"<$1></$2>")+b4[2];cb=b4[0];while(cb--){ce=ce.lastChild}if(!bt.support.leadingWhitespace&&b2.test(b7)){e.push(b5.createTextNode(b2.exec(b7)[0]))}if(!bt.support.tbody){b7=cg==="table"&&!bX.test(b7)?ce.firstChild:b4[1]==="<table>"&&!bX.test(b7)?ce:0;cb=b7&&b7.childNodes.length;while(cb--){if(bt.nodeName((cd=b7.childNodes[cb]),"tbody")&&!cd.childNodes.length){b7.removeChild(cd)}}}bt.merge(e,ce.childNodes);ce.textContent="";while(ce.firstChild){ce.removeChild(ce.firstChild)}ce=b6.lastChild}}}}if(ce){b6.removeChild(ce)}if(!bt.support.appendChecked){bt.grep(k(e,"input"),bU)}cc=0;while((b7=e[cc++])){if(cf&&bt.inArray(b7,cf)!==-1){continue}b9=bt.contains(b7.ownerDocument,b7);ce=k(b6.appendChild(b7),"script");if(b9){br(ce)}if(ca){cb=0;while((b7=ce[cb++])){if(bz.test(b7.type||"")){ca.push(b7)}}}}ce=null;return b6},cleanData:function(b3,cb){var b5,ca,b4,b6,b7=0,cc=bt.expando,e=bt.cache,b8=bt.support.deleteExpando,b9=bt.event.special;for(;(b5=b3[b7])!=null;b7++){if(cb||bt.acceptData(b5)){b4=b5[cc];b6=b4&&e[b4];if(b6){if(b6.events){for(ca in b6.events){if(b9[ca]){bt.event.remove(b5,ca)}else{bt.removeEvent(b5,ca,b6.handle)}}}if(e[b4]){delete e[b4];if(b8){delete b5[cc]}else{if(typeof b5.removeAttribute!==az){b5.removeAttribute(cc)}else{b5[cc]=null}}a5.push(b4)}}}}},_evalUrl:function(e){return bt.ajax({url:e,type:"GET",dataType:"script",async:false,global:false,"throws":true})}});bt.fn.extend({wrapAll:function(e){if(bt.isFunction(e)){return this.each(function(b4){bt(this).wrapAll(e.call(this,b4))})}if(this[0]){var b3=bt(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b3.insertBefore(this[0])}b3.map(function(){var b4=this;while(b4.firstChild&&b4.firstChild.nodeType===1){b4=b4.firstChild}return b4}).append(this)}return this},wrapInner:function(e){if(bt.isFunction(e)){return this.each(function(b3){bt(this).wrapInner(e.call(this,b3))})}return this.each(function(){var b3=bt(this),b4=b3.contents();if(b4.length){b4.wrapAll(e)}else{b3.append(e)}})},wrap:function(e){var b3=bt.isFunction(e);return this.each(function(b4){bt(this).wrapAll(b3?e.call(this,b4):e)})},unwrap:function(){return this.parent().each(function(){if(!bt.nodeName(this,"body")){bt(this).replaceWith(this.childNodes)}}).end()}});var aB,bn,C,bg=/alpha\([^)]*\)/i,aQ=/opacity\s*=\s*([^)]*)/,bm=/^(top|right|bottom|left)$/,D=/^(none|table(?!-c[ea]).+)/,aW=/^margin/,a8=new RegExp("^("+bA+")(.*)$","i"),T=new RegExp("^("+bA+")(?!px)[a-z%]+$","i"),P=new RegExp("^([+-])=("+bA+")","i"),bi={BODY:"block"},bb={position:"absolute",visibility:"hidden",display:"block"},bC={letterSpacing:0,fontWeight:400},bS=["Top","Right","Bottom","Left"],at=["Webkit","O","Moz","ms"];function b(b5,b3){if(b3 in b5){return b3}var b6=b3.charAt(0).toUpperCase()+b3.slice(1),e=b3,b4=at.length;while(b4--){b3=at[b4]+b6;if(b3 in b5){return b3}}return e}function M(b3,e){b3=e||b3;return bt.css(b3,"display")==="none"||!bt.contains(b3.ownerDocument,b3)}function p(b8,e){var b9,b6,b7,b3=[],b4=0,b5=b8.length;for(;b4<b5;b4++){b6=b8[b4];if(!b6.style){continue}b3[b4]=bt._data(b6,"olddisplay");b9=b6.style.display;if(e){if(!b3[b4]&&b9==="none"){b6.style.display=""}if(b6.style.display===""&&M(b6)){b3[b4]=bt._data(b6,"olddisplay",bE(b6.nodeName))}}else{if(!b3[b4]){b7=M(b6);if(b9&&b9!=="none"||!b7){bt._data(b6,"olddisplay",b7?b9:bt.css(b6,"display"))}}}}for(b4=0;b4<b5;b4++){b6=b8[b4];if(!b6.style){continue}if(!e||b6.style.display==="none"||b6.style.display===""){b6.style.display=e?b3[b4]||"":"none"}}return b8}bt.fn.extend({css:function(e,b3){return bt.access(this,function(b8,b5,b9){var b4,b7,ca={},b6=0;if(bt.isArray(b5)){b7=bn(b8);b4=b5.length;for(;b6<b4;b6++){ca[b5[b6]]=bt.css(b8,b5[b6],false,b7)}return ca}return b9!==aD?bt.style(b8,b5,b9):bt.css(b8,b5)},e,b3,arguments.length>1)},show:function(){return p(this,true)},hide:function(){return p(this)},toggle:function(b3){var e=typeof b3==="boolean";return this.each(function(){if(e?b3:M(this)){bt(this).show()}else{bt(this).hide()}})}});bt.extend({cssHooks:{opacity:{get:function(b4,b3){if(b3){var e=C(b4,"opacity");return e===""?"1":e}}}},cssNumber:{columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bt.support.cssFloat?"cssFloat":"styleFloat"},style:function(b5,b4,cb,b6){if(!b5||b5.nodeType===3||b5.nodeType===8||!b5.style){return}var b9,ca,cc,b7=bt.camelCase(b4),b3=b5.style;b4=bt.cssProps[b7]||(bt.cssProps[b7]=b(b3,b7));cc=bt.cssHooks[b4]||bt.cssHooks[b7];if(cb!==aD){ca=typeof cb;if(ca==="string"&&(b9=P.exec(cb))){cb=(b9[1]+1)*b9[2]+parseFloat(bt.css(b5,b4));ca="number"}if(cb==null||ca==="number"&&isNaN(cb)){return}if(ca==="number"&&!bt.cssNumber[b7]){cb+="px"}if(!bt.support.clearCloneStyle&&cb===""&&b4.indexOf("background")===0){b3[b4]="inherit"}if(!cc||!("set" in cc)||(cb=cc.set(b5,cb,b6))!==aD){try{b3[b4]=cb}catch(b8){}}}else{if(cc&&"get" in cc&&(b9=cc.get(b5,false,b6))!==aD){return b9}return b3[b4]}},css:function(b8,b6,b3,b7){var b5,b9,e,b4=bt.camelCase(b6);b6=bt.cssProps[b4]||(bt.cssProps[b4]=b(b8.style,b4));e=bt.cssHooks[b6]||bt.cssHooks[b4];if(e&&"get" in e){b9=e.get(b8,true,b3)}if(b9===aD){b9=C(b8,b6,b7)}if(b9==="normal"&&b6 in bC){b9=bC[b6]}if(b3===""||b3){b5=parseFloat(b9);return b3===true||bt.isNumeric(b5)?b5||0:b9}return b9}});if(a1.getComputedStyle){bn=function(e){return a1.getComputedStyle(e,null)};C=function(b6,b4,b8){var b5,b3,ca,b7=b8||bn(b6),b9=b7?b7.getPropertyValue(b4)||b7[b4]:aD,e=b6.style;if(b7){if(b9===""&&!bt.contains(b6.ownerDocument,b6)){b9=bt.style(b6,b4)}if(T.test(b9)&&aW.test(b4)){b5=e.width;b3=e.minWidth;ca=e.maxWidth;e.minWidth=e.maxWidth=e.width=b9;b9=b7.width;e.width=b5;e.minWidth=b3;e.maxWidth=ca}}return b9}}else{if(l.documentElement.currentStyle){bn=function(e){return e.currentStyle};C=function(b5,b3,b8){var b4,b7,b9,b6=b8||bn(b5),ca=b6?b6[b3]:aD,e=b5.style;if(ca==null&&e&&e[b3]){ca=e[b3]}if(T.test(ca)&&!bm.test(b3)){b4=e.left;b7=b5.runtimeStyle;b9=b7&&b7.left;if(b9){b7.left=b5.currentStyle.left}e.left=b3==="fontSize"?"1em":ca;ca=e.pixelLeft+"px";e.left=b4;if(b9){b7.left=b9}}return ca===""?"auto":ca}}}function aG(e,b4,b5){var b3=a8.exec(b4);return b3?Math.max(0,b3[1]-(b5||0))+(b3[2]||"px"):b4}function au(b6,b3,e,b8,b5){var b4=e===(b8?"border":"content")?4:b3==="width"?1:0,b7=0;for(;b4<4;b4+=2){if(e==="margin"){b7+=bt.css(b6,e+bS[b4],true,b5)}if(b8){if(e==="content"){b7-=bt.css(b6,"padding"+bS[b4],true,b5)}if(e!=="margin"){b7-=bt.css(b6,"border"+bS[b4]+"Width",true,b5)}}else{b7+=bt.css(b6,"padding"+bS[b4],true,b5);if(e!=="padding"){b7+=bt.css(b6,"border"+bS[b4]+"Width",true,b5)}}}return b7}function u(b6,b3,e){var b5=true,b7=b3==="width"?b6.offsetWidth:b6.offsetHeight,b4=bn(b6),b8=bt.support.boxSizing&&bt.css(b6,"boxSizing",false,b4)==="border-box";if(b7<=0||b7==null){b7=C(b6,b3,b4);if(b7<0||b7==null){b7=b6.style[b3]}if(T.test(b7)){return b7}b5=b8&&(bt.support.boxSizingReliable||b7===b6.style[b3]);b7=parseFloat(b7)||0}return(b7+au(b6,b3,e||(b8?"border":"content"),b5,b4))+"px"}function bE(b4){var b3=l,e=bi[b4];if(!e){e=a0(b4,b3);if(e==="none"||!e){aB=(aB||bt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b3.documentElement);b3=(aB[0].contentWindow||aB[0].contentDocument).document;b3.write("<!doctype html><html><body>");b3.close();e=a0(b4,b3);aB.detach()}bi[b4]=e}return e}function a0(e,b5){var b3=bt(b5.createElement(e)).appendTo(b5.body),b4=bt.css(b3[0],"display");b3.remove();return b4}bt.each(["height","width"],function(b3,e){bt.cssHooks[e]={get:function(b6,b5,b4){if(b5){return b6.offsetWidth===0&&D.test(bt.css(b6,"display"))?bt.swap(b6,bb,function(){return u(b6,e,b4)}):u(b6,e,b4)}},set:function(b6,b7,b4){var b5=b4&&bn(b6);return aG(b6,b7,b4?au(b6,e,b4,bt.support.boxSizing&&bt.css(b6,"boxSizing",false,b5)==="border-box",b5):0)}}});if(!bt.support.opacity){bt.cssHooks.opacity={get:function(b3,e){return aQ.test((e&&b3.currentStyle?b3.currentStyle.filter:b3.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b6,b7){var b5=b6.style,b3=b6.currentStyle,e=bt.isNumeric(b7)?"alpha(opacity="+b7*100+")":"",b4=b3&&b3.filter||b5.filter||"";b5.zoom=1;if((b7>=1||b7==="")&&bt.trim(b4.replace(bg,""))===""&&b5.removeAttribute){b5.removeAttribute("filter");if(b7===""||b3&&!b3.filter){return}}b5.filter=bg.test(b4)?b4.replace(bg,e):b4+" "+e}}}bt(function(){if(!bt.support.reliableMarginRight){bt.cssHooks.marginRight={get:function(b3,e){if(e){return bt.swap(b3,{display:"inline-block"},C,[b3,"marginRight"])}}}}if(!bt.support.pixelPosition&&bt.fn.position){bt.each(["top","left"],function(e,b3){bt.cssHooks[b3]={get:function(b5,b4){if(b4){b4=C(b5,b3);return T.test(b4)?bt(b5).position()[b3]+"px":b4}}}})}});if(bt.expr&&bt.expr.filters){bt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||(!bt.support.reliableHiddenOffsets&&((e.style&&e.style.display)||bt.css(e,"display"))==="none")};bt.expr.filters.visible=function(e){return !bt.expr.filters.hidden(e)}}bt.each({margin:"",padding:"",border:"Width"},function(e,b3){bt.cssHooks[e+b3]={expand:function(b6){var b5=0,b4={},b7=typeof b6==="string"?b6.split(" "):[b6];for(;b5<4;b5++){b4[e+bS[b5]+b3]=b7[b5]||b7[b5-2]||b7[0]}return b4}};if(!aW.test(e)){bt.cssHooks[e+b3].set=aG}});var bv=/%20/g,aO=/\[\]$/,R=/\r?\n/g,c=/^(?:submit|button|image|reset|file)$/i,ar=/^(?:input|select|textarea|keygen)/i;bt.fn.extend({serialize:function(){return bt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=bt.prop(this,"elements");return e?bt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!bt(this).is(":disabled")&&ar.test(this.nodeName)&&!c.test(e)&&(this.checked||!q.test(e))}).map(function(e,b3){var b4=bt(this).val();return b4==null?null:bt.isArray(b4)?bt.map(b4,function(b5){return{name:b3.name,value:b5.replace(R,"\r\n")}}):{name:b3.name,value:b4.replace(R,"\r\n")}}).get()}});bt.param=function(e,b4){var b5,b3=[],b6=function(b7,b8){b8=bt.isFunction(b8)?b8():(b8==null?"":b8);b3[b3.length]=encodeURIComponent(b7)+"="+encodeURIComponent(b8)};if(b4===aD){b4=bt.ajaxSettings&&bt.ajaxSettings.traditional}if(bt.isArray(e)||(e.jquery&&!bt.isPlainObject(e))){bt.each(e,function(){b6(this.name,this.value)})}else{for(b5 in e){i(b5,e[b5],b4,b6)}}return b3.join("&").replace(bv,"+")};function i(b4,b6,b3,b5){var e;if(bt.isArray(b6)){bt.each(b6,function(b8,b7){if(b3||aO.test(b4)){b5(b4,b7)}else{i(b4+"["+(typeof b7==="object"?b8:"")+"]",b7,b3,b5)}})}else{if(!b3&&bt.type(b6)==="object"){for(e in b6){i(b4+"["+e+"]",b6[e],b3,b5)}}else{b5(b4,b6)}}}bt.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b3,e){bt.fn[e]=function(b5,b4){return arguments.length>0?this.on(e,null,b5,b4):this.trigger(e)}});bt.fn.extend({hover:function(e,b3){return this.mouseenter(e).mouseleave(b3||e)},bind:function(e,b4,b3){return this.on(e,null,b4,b3)},unbind:function(e,b3){return this.off(e,null,b3)},delegate:function(e,b3,b5,b4){return this.on(b3,e,b5,b4)},undelegate:function(e,b3,b4){return arguments.length===1?this.off(e,"**"):this.off(b3,e||"**",b4)}});var b1,V,bN=bt.now(),ax=/\?/,am=/#.*$/,L=/([?&])_=[^&]*/,ad=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,z=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,o=/^(?:GET|HEAD)$/,aE=/^\/\//,aR=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b0=bt.fn.load,v={},a6={},aU="*/".concat("*");try{V=aI.href}catch(bf){V=l.createElement("a");V.href="";V=V.href}b1=aR.exec(V.toLowerCase())||[];function bK(e){return function(b6,b7){if(typeof b6!=="string"){b7=b6;b6="*"}var b3,b4=0,b5=b6.toLowerCase().match(Z)||[];if(bt.isFunction(b7)){while((b3=b5[b4++])){if(b3[0]==="+"){b3=b3.slice(1)||"*";(e[b3]=e[b3]||[]).unshift(b7)}else{(e[b3]=e[b3]||[]).push(b7)}}}}}function n(e,b4,b8,b5){var b3={},b6=(e===a6);function b7(b9){var ca;b3[b9]=true;bt.each(e[b9]||[],function(cc,cb){var cd=cb(b4,b8,b5);if(typeof cd==="string"&&!b6&&!b3[cd]){b4.dataTypes.unshift(cd);b7(cd);return false}else{if(b6){return !(ca=cd)}}});return ca}return b7(b4.dataTypes[0])||!b3["*"]&&b7("*")}function r(b4,b5){var e,b3,b6=bt.ajaxSettings.flatOptions||{};for(b3 in b5){if(b5[b3]!==aD){(b6[b3]?b4:(e||(e={})))[b3]=b5[b3]}}if(e){bt.extend(true,b4,e)}return b4}bt.fn.load=function(b5,b8,b9){if(typeof b5!=="string"&&b0){return b0.apply(this,arguments)}var e,b4,b6,b3=this,b7=b5.indexOf(" ");if(b7>=0){e=b5.slice(b7,b5.length);b5=b5.slice(0,b7)}if(bt.isFunction(b8)){b9=b8;b8=aD}else{if(b8&&typeof b8==="object"){b6="POST"}}if(b3.length>0){bt.ajax({url:b5,type:b6,dataType:"html",data:b8}).done(function(ca){b4=arguments;b3.html(e?bt("<div>").append(bt.parseHTML(ca)).find(e):ca)}).complete(b9&&function(cb,ca){b3.each(b9,b4||[cb.responseText,ca,cb])})}return this};bt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,b3){bt.fn[b3]=function(b4){return this.on(b3,b4)}});bt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:V,type:"GET",isLocal:z.test(b1[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":aU,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":bt.parseJSON,"text xml":bt.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(b3,e){return e?r(r(b3,bt.ajaxSettings),e):r(bt.ajaxSettings,b3)},ajaxPrefilter:bK(v),ajaxTransport:bK(a6),ajax:function(b7,b4){if(typeof b7==="object"){b4=b7;b7=aD}b4=b4||{};var cg,ci,b8,cn,cc,b3,cj,b5,cb=bt.ajaxSetup({},b4),cp=cb.context||cb,ce=cb.context&&(cp.nodeType||cp.jquery)?bt(cp):bt.event,co=bt.Deferred(),cl=bt.Callbacks("once memory"),b9=cb.statusCode||{},cf={},cm={},b6=0,ca="canceled",ch={readyState:0,getResponseHeader:function(cq){var e;if(b6===2){if(!b5){b5={};while((e=ad.exec(cn))){b5[e[1].toLowerCase()]=e[2]}}e=b5[cq.toLowerCase()]}return e==null?null:e},getAllResponseHeaders:function(){return b6===2?cn:null},setRequestHeader:function(cq,cr){var e=cq.toLowerCase();if(!b6){cq=cm[e]=cm[e]||cq;cf[cq]=cr}return this},overrideMimeType:function(e){if(!b6){cb.mimeType=e}return this},statusCode:function(cq){var e;if(cq){if(b6<2){for(e in cq){b9[e]=[b9[e],cq[e]]}}else{ch.always(cq[ch.status])}}return this},abort:function(cq){var e=cq||ca;if(cj){cj.abort(e)}cd(0,e);return this}};co.promise(ch).complete=cl.add;ch.success=ch.done;ch.error=ch.fail;cb.url=((b7||cb.url||V)+"").replace(am,"").replace(aE,b1[1]+"//");cb.type=b4.method||b4.type||cb.method||cb.type;cb.dataTypes=bt.trim(cb.dataType||"*").toLowerCase().match(Z)||[""];if(cb.crossDomain==null){cg=aR.exec(cb.url.toLowerCase());cb.crossDomain=!!(cg&&(cg[1]!==b1[1]||cg[2]!==b1[2]||(cg[3]||(cg[1]==="http:"?"80":"443"))!==(b1[3]||(b1[1]==="http:"?"80":"443"))))}if(cb.data&&cb.processData&&typeof cb.data!=="string"){cb.data=bt.param(cb.data,cb.traditional)}n(v,cb,b4,ch);if(b6===2){return ch}b3=cb.global;if(b3&&bt.active++===0){bt.event.trigger("ajaxStart")}cb.type=cb.type.toUpperCase();cb.hasContent=!o.test(cb.type);b8=cb.url;if(!cb.hasContent){if(cb.data){b8=(cb.url+=(ax.test(b8)?"&":"?")+cb.data);delete cb.data}if(cb.cache===false){cb.url=L.test(b8)?b8.replace(L,"$1_="+bN++):b8+(ax.test(b8)?"&":"?")+"_="+bN++}}if(cb.ifModified){if(bt.lastModified[b8]){ch.setRequestHeader("If-Modified-Since",bt.lastModified[b8])}if(bt.etag[b8]){ch.setRequestHeader("If-None-Match",bt.etag[b8])}}if(cb.data&&cb.hasContent&&cb.contentType!==false||b4.contentType){ch.setRequestHeader("Content-Type",cb.contentType)}ch.setRequestHeader("Accept",cb.dataTypes[0]&&cb.accepts[cb.dataTypes[0]]?cb.accepts[cb.dataTypes[0]]+(cb.dataTypes[0]!=="*"?", "+aU+"; q=0.01":""):cb.accepts["*"]);for(ci in cb.headers){ch.setRequestHeader(ci,cb.headers[ci])}if(cb.beforeSend&&(cb.beforeSend.call(cp,ch,cb)===false||b6===2)){return ch.abort()}ca="abort";for(ci in {success:1,error:1,complete:1}){ch[ci](cb[ci])}cj=n(a6,cb,b4,ch);if(!cj){cd(-1,"No Transport")}else{ch.readyState=1;if(b3){ce.trigger("ajaxSend",[ch,cb])}if(cb.async&&cb.timeout>0){cc=setTimeout(function(){ch.abort("timeout")},cb.timeout)}try{b6=1;cj.send(cf,cd)}catch(ck){if(b6<2){cd(-1,ck)}else{throw ck}}}function cd(cu,cq,cv,cs){var e,cy,cw,ct,cx,cr=cq;if(b6===2){return}b6=2;if(cc){clearTimeout(cc)}cj=aD;cn=cs||"";ch.readyState=cu>0?4:0;e=cu>=200&&cu<300||cu===304;if(cv){ct=g(cb,ch,cv)}ct=ac(cb,ct,ch,e);if(e){if(cb.ifModified){cx=ch.getResponseHeader("Last-Modified");if(cx){bt.lastModified[b8]=cx}cx=ch.getResponseHeader("etag");if(cx){bt.etag[b8]=cx}}if(cu===204||cb.type==="HEAD"){cr="nocontent"}else{if(cu===304){cr="notmodified"}else{cr=ct.state;cy=ct.data;cw=ct.error;e=!cw}}}else{cw=cr;if(cu||!cr){cr="error";if(cu<0){cu=0}}}ch.status=cu;ch.statusText=(cq||cr)+"";if(e){co.resolveWith(cp,[cy,cr,ch])}else{co.rejectWith(cp,[ch,cr,cw])}ch.statusCode(b9);b9=aD;if(b3){ce.trigger(e?"ajaxSuccess":"ajaxError",[ch,cb,e?cy:cw])}cl.fireWith(cp,[ch,cr]);if(b3){ce.trigger("ajaxComplete",[ch,cb]);if(!(--bt.active)){bt.event.trigger("ajaxStop")}}}return ch},getJSON:function(e,b3,b4){return bt.get(e,b3,b4,"json")},getScript:function(e,b3){return bt.get(e,aD,b3,"script")}});bt.each(["get","post"],function(e,b3){bt[b3]=function(b4,b6,b7,b5){if(bt.isFunction(b6)){b5=b5||b7;b7=b6;b6=aD}return bt.ajax({url:b4,type:b3,dataType:b5,data:b6,success:b7})}});function g(ca,b9,b6){var e,b5,b4,b7,b3=ca.contents,b8=ca.dataTypes;while(b8[0]==="*"){b8.shift();if(b5===aD){b5=ca.mimeType||b9.getResponseHeader("Content-Type")}}if(b5){for(b7 in b3){if(b3[b7]&&b3[b7].test(b5)){b8.unshift(b7);break}}}if(b8[0] in b6){b4=b8[0]}else{for(b7 in b6){if(!b8[0]||ca.converters[b7+" "+b8[0]]){b4=b7;break}if(!e){e=b7}}b4=b4||e}if(b4){if(b4!==b8[0]){b8.unshift(b4)}return b6[b4]}}function ac(ce,b6,cb,b4){var b3,b9,cc,b7,b5,cd={},ca=ce.dataTypes.slice();if(ca[1]){for(cc in ce.converters){cd[cc.toLowerCase()]=ce.converters[cc]}}b9=ca.shift();while(b9){if(ce.responseFields[b9]){cb[ce.responseFields[b9]]=b6}if(!b5&&b4&&ce.dataFilter){b6=ce.dataFilter(b6,ce.dataType)}b5=b9;b9=ca.shift();if(b9){if(b9==="*"){b9=b5}else{if(b5!=="*"&&b5!==b9){cc=cd[b5+" "+b9]||cd["* "+b9];if(!cc){for(b3 in cd){b7=b3.split(" ");if(b7[1]===b9){cc=cd[b5+" "+b7[0]]||cd["* "+b7[0]];if(cc){if(cc===true){cc=cd[b3]}else{if(cd[b3]!==true){b9=b7[0];ca.unshift(b7[1])}}break}}}}if(cc!==true){if(cc&&ce["throws"]){b6=cc(b6)}else{try{b6=cc(b6)}catch(b8){return{state:"parsererror",error:cc?b8:"No conversion from "+b5+" to "+b9}}}}}}}}return{state:"success",data:b6}}bt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){bt.globalEval(e);return e}}});bt.ajaxPrefilter("script",function(e){if(e.cache===aD){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bt.ajaxTransport("script",function(b4){if(b4.crossDomain){var e,b3=l.head||bt("head")[0]||l.documentElement;return{send:function(b5,b6){e=l.createElement("script");e.async=true;if(b4.scriptCharset){e.charset=b4.scriptCharset}e.src=b4.url;e.onload=e.onreadystatechange=function(b8,b7){if(b7||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e)}e=null;if(!b7){b6(200,"success")}}};b3.insertBefore(e,b3.firstChild)},abort:function(){if(e){e.onload(aD,true)}}}}});var bp=[],a4=/(=)\?(?=&|$)|\?\?/;bt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bp.pop()||(bt.expando+"_"+(bN++));this[e]=true;return e}});bt.ajaxPrefilter("json jsonp",function(b5,e,b6){var b8,b3,b4,b7=b5.jsonp!==false&&(a4.test(b5.url)?"url":typeof b5.data==="string"&&!(b5.contentType||"").indexOf("application/x-www-form-urlencoded")&&a4.test(b5.data)&&"data");if(b7||b5.dataTypes[0]==="jsonp"){b8=b5.jsonpCallback=bt.isFunction(b5.jsonpCallback)?b5.jsonpCallback():b5.jsonpCallback;if(b7){b5[b7]=b5[b7].replace(a4,"$1"+b8)}else{if(b5.jsonp!==false){b5.url+=(ax.test(b5.url)?"&":"?")+b5.jsonp+"="+b8}}b5.converters["script json"]=function(){if(!b4){bt.error(b8+" was not called")}return b4[0]};b5.dataTypes[0]="json";b3=a1[b8];a1[b8]=function(){b4=arguments};b6.always(function(){a1[b8]=b3;if(b5[b8]){b5.jsonpCallback=e.jsonpCallback;bp.push(b8)}if(b4&&bt.isFunction(b3)){b3(b4[0])}b4=b3=aD});return"script"}});var ae,av,aw=0,aM=a1.ActiveXObject&&function(){var e;for(e in ae){ae[e](aD,true)}};function bD(){try{return new a1.XMLHttpRequest()}catch(b3){}}function bd(){try{return new a1.ActiveXObject("Microsoft.XMLHTTP")}catch(b3){}}bt.ajaxSettings.xhr=a1.ActiveXObject?function(){return !this.isLocal&&bD()||bd()}:bD;av=bt.ajaxSettings.xhr();bt.support.cors=!!av&&("withCredentials" in av);av=bt.support.ajax=!!av;if(av){bt.ajaxTransport(function(e){if(!e.crossDomain||bt.support.cors){var b3;return{send:function(b9,b4){var b7,b5,b8=e.xhr();if(e.username){b8.open(e.type,e.url,e.async,e.username,e.password)}else{b8.open(e.type,e.url,e.async)}if(e.xhrFields){for(b5 in e.xhrFields){b8[b5]=e.xhrFields[b5]}}if(e.mimeType&&b8.overrideMimeType){b8.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!b9["X-Requested-With"]){b9["X-Requested-With"]="XMLHttpRequest"}try{for(b5 in b9){b8.setRequestHeader(b5,b9[b5])}}catch(b6){}b8.send((e.hasContent&&e.data)||null);b3=function(cc,cb){var ca,cd,cg,ce;try{if(b3&&(cb||b8.readyState===4)){b3=aD;if(b7){b8.onreadystatechange=bt.noop;if(aM){delete ae[b7]}}if(cb){if(b8.readyState!==4){b8.abort()}}else{ce={};ca=b8.status;cd=b8.getAllResponseHeaders();if(typeof b8.responseText==="string"){ce.text=b8.responseText}try{cg=b8.statusText}catch(cf){cg=""}if(!ca&&e.isLocal&&!e.crossDomain){ca=ce.text?200:404}else{if(ca===1223){ca=204}}}}}catch(ch){if(!cb){b4(-1,ch)}}if(ce){b4(ca,cg,ce,cd)}};if(!e.async){b3()}else{if(b8.readyState===4){setTimeout(b3)}else{b7=++aw;if(aM){if(!ae){ae={};bt(a1).unload(aM)}ae[b7]=b3}b8.onreadystatechange=b3}}},abort:function(){if(b3){b3(aD,true)}}}}})}var H,aa,bQ=/^(?:toggle|show|hide)$/,bJ=new RegExp("^(?:([+-])=|)("+bA+")([a-z%]*)$","i"),bP=/queueHooks$/,ay=[h],aY={"*":[function(e,b8){var ca=this.createTween(e,b8),b6=ca.cur(),b5=bJ.exec(b8),b9=b5&&b5[3]||(bt.cssNumber[e]?"":"px"),b3=(bt.cssNumber[e]||b9!=="px"&&+b6)&&bJ.exec(bt.css(ca.elem,e)),b4=1,b7=20;if(b3&&b3[3]!==b9){b9=b9||b3[3];b5=b5||[];b3=+b6||1;do{b4=b4||".5";b3=b3/b4;bt.style(ca.elem,e,b3+b9)}while(b4!==(b4=ca.cur()/b6)&&b4!==1&&--b7)}if(b5){b3=ca.start=+b3||+b6||0;ca.unit=b9;ca.end=b5[1]?b3+(b5[1]+1)*b5[2]:+b5[2]}return ca}]};function bl(){setTimeout(function(){H=aD});return(H=bt.now())}function ba(b6,b8,b5){var b3,b7=(aY[b8]||[]).concat(aY["*"]),e=0,b4=b7.length;for(;e<b4;e++){if((b3=b7[e].call(b5,b8,b6))){return b3}}}function f(b4,b8,cb){var cc,e,b7=0,b3=ay.length,ca=bt.Deferred().always(function(){delete b6.elem}),b6=function(){if(e){return false}var ci=H||bl(),cf=Math.max(0,b5.startTime+b5.duration-ci),cd=cf/b5.duration||0,ch=1-cd,ce=0,cg=b5.tweens.length;for(;ce<cg;ce++){b5.tweens[ce].run(ch)}ca.notifyWith(b4,[b5,ch,cf]);if(ch<1&&cg){return cf}else{ca.resolveWith(b4,[b5]);return false}},b5=ca.promise({elem:b4,props:bt.extend({},b8),opts:bt.extend(true,{specialEasing:{}},cb),originalProperties:b8,originalOptions:cb,startTime:H||bl(),duration:cb.duration,tweens:[],createTween:function(cf,cd){var ce=bt.Tween(b4,b5.opts,cf,cd,b5.opts.specialEasing[cf]||b5.opts.easing);b5.tweens.push(ce);return ce},stop:function(ce){var cd=0,cf=ce?b5.tweens.length:0;if(e){return this}e=true;for(;cd<cf;cd++){b5.tweens[cd].run(1)}if(ce){ca.resolveWith(b4,[b5,ce])}else{ca.rejectWith(b4,[b5,ce])}return this}}),b9=b5.props;aj(b9,b5.opts.specialEasing);for(;b7<b3;b7++){cc=ay[b7].call(b5,b4,b9,b5.opts);if(cc){return cc}}bt.map(b9,ba,b5);if(bt.isFunction(b5.opts.start)){b5.opts.start.call(b4,b5)}bt.fx.timer(bt.extend(b6,{elem:b4,anim:b5,queue:b5.opts.queue}));return b5.progress(b5.opts.progress).done(b5.opts.done,b5.opts.complete).fail(b5.opts.fail).always(b5.opts.always)}function aj(b5,b7){var b4,b3,b8,b6,e;for(b4 in b5){b3=bt.camelCase(b4);b8=b7[b3];b6=b5[b4];if(bt.isArray(b6)){b8=b6[1];b6=b5[b4]=b6[0]}if(b4!==b3){b5[b3]=b6;delete b5[b4]}e=bt.cssHooks[b3];if(e&&"expand" in e){b6=e.expand(b6);delete b5[b3];for(b4 in b6){if(!(b4 in b5)){b5[b4]=b6[b4];b7[b4]=b8}}}else{b7[b3]=b8}}}bt.Animation=bt.extend(f,{tweener:function(b3,b6){if(bt.isFunction(b3)){b6=b3;b3=["*"]}else{b3=b3.split(" ")}var b5,e=0,b4=b3.length;for(;e<b4;e++){b5=b3[e];aY[b5]=aY[b5]||[];aY[b5].unshift(b6)}},prefilter:function(b3,e){if(e){ay.unshift(b3)}else{ay.push(b3)}}});function h(b5,b9,e){var b4,cb,b7,ce,cf,cc,b6=this,ca={},b3=b5.style,b8=b5.nodeType&&M(b5),cd=bt._data(b5,"fxshow");if(!e.queue){cf=bt._queueHooks(b5,"fx");if(cf.unqueued==null){cf.unqueued=0;cc=cf.empty.fire;cf.empty.fire=function(){if(!cf.unqueued){cc()}}}cf.unqueued++;b6.always(function(){b6.always(function(){cf.unqueued--;if(!bt.queue(b5,"fx").length){cf.empty.fire()}})})}if(b5.nodeType===1&&("height" in b9||"width" in b9)){e.overflow=[b3.overflow,b3.overflowX,b3.overflowY];if(bt.css(b5,"display")==="inline"&&bt.css(b5,"float")==="none"){if(!bt.support.inlineBlockNeedsLayout||bE(b5.nodeName)==="inline"){b3.display="inline-block"}else{b3.zoom=1}}}if(e.overflow){b3.overflow="hidden";if(!bt.support.shrinkWrapBlocks){b6.always(function(){b3.overflow=e.overflow[0];b3.overflowX=e.overflow[1];b3.overflowY=e.overflow[2]})}}for(b4 in b9){cb=b9[b4];if(bQ.exec(cb)){delete b9[b4];b7=b7||cb==="toggle";if(cb===(b8?"hide":"show")){continue}ca[b4]=cd&&cd[b4]||bt.style(b5,b4)}}if(!bt.isEmptyObject(ca)){if(cd){if("hidden" in cd){b8=cd.hidden}}else{cd=bt._data(b5,"fxshow",{})}if(b7){cd.hidden=!b8}if(b8){bt(b5).show()}else{b6.done(function(){bt(b5).hide()})}b6.done(function(){var cg;bt._removeData(b5,"fxshow");for(cg in ca){bt.style(b5,cg,ca[cg])}});for(b4 in ca){ce=ba(b8?cd[b4]:0,b4,b6);if(!(b4 in cd)){cd[b4]=ce.start;if(b8){ce.end=ce.start;ce.start=b4==="width"||b4==="height"?1:0}}}}}function E(b4,b3,b6,e,b5){return new E.prototype.init(b4,b3,b6,e,b5)}bt.Tween=E;E.prototype={constructor:E,init:function(b5,b3,b7,e,b6,b4){this.elem=b5;this.prop=b7;this.easing=b6||"swing";this.options=b3;this.start=this.now=this.cur();this.end=e;this.unit=b4||(bt.cssNumber[b7]?"":"px")},cur:function(){var e=E.propHooks[this.prop];return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(b4){var b3,e=E.propHooks[this.prop];if(this.options.duration){this.pos=b3=bt.easing[this.easing](b4,this.options.duration*b4,0,1,this.options.duration)}else{this.pos=b3=b4}this.now=(this.end-this.start)*b3+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{E.propHooks._default.set(this)}return this}};E.prototype.init.prototype=E.prototype;E.propHooks={_default:{get:function(b3){var e;if(b3.elem[b3.prop]!=null&&(!b3.elem.style||b3.elem.style[b3.prop]==null)){return b3.elem[b3.prop]}e=bt.css(b3.elem,b3.prop,"");return !e||e==="auto"?0:e},set:function(e){if(bt.fx.step[e.prop]){bt.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bt.cssProps[e.prop]]!=null||bt.cssHooks[e.prop])){bt.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bt.each(["toggle","show","hide"],function(b3,e){var b4=bt.fn[e];bt.fn[e]=function(b5,b7,b6){return b5==null||typeof b5==="boolean"?b4.apply(this,arguments):this.animate(bI(e,true),b5,b7,b6)}});bt.fn.extend({fadeTo:function(e,b5,b4,b3){return this.filter(M).css("opacity",0).show().end().animate({opacity:b5},e,b4,b3)},animate:function(b8,b5,b7,b6){var b4=bt.isEmptyObject(b8),e=bt.speed(b5,b7,b6),b3=function(){var b9=f(this,bt.extend({},b8),e);if(b4||bt._data(this,"finish")){b9.stop(true)}};b3.finish=b3;return b4||e.queue===false?this.each(b3):this.queue(e.queue,b3)},stop:function(b4,b3,e){var b5=function(b6){var b7=b6.stop;delete b6.stop;b7(e)};if(typeof b4!=="string"){e=b3;b3=b4;b4=aD}if(b3&&b4!==false){this.queue(b4||"fx",[])}return this.each(function(){var b9=true,b6=b4!=null&&b4+"queueHooks",b8=bt.timers,b7=bt._data(this);if(b6){if(b7[b6]&&b7[b6].stop){b5(b7[b6])}}else{for(b6 in b7){if(b7[b6]&&b7[b6].stop&&bP.test(b6)){b5(b7[b6])}}}for(b6=b8.length;b6--;){if(b8[b6].elem===this&&(b4==null||b8[b6].queue===b4)){b8[b6].anim.stop(e);b9=false;b8.splice(b6,1)}}if(b9||!e){bt.dequeue(this,b4)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var b5,b8=bt._data(this),b4=b8[e+"queue"],b3=b8[e+"queueHooks"],b7=bt.timers,b6=b4?b4.length:0;b8.finish=true;bt.queue(this,e,[]);if(b3&&b3.stop){b3.stop.call(this,true)}for(b5=b7.length;b5--;){if(b7[b5].elem===this&&b7[b5].queue===e){b7[b5].anim.stop(true);b7.splice(b5,1)}}for(b5=0;b5<b6;b5++){if(b4[b5]&&b4[b5].finish){b4[b5].finish.call(this)}}delete b8.finish})}});function bI(b4,b6){var b5,e={height:b4},b3=0;b6=b6?1:0;for(;b3<4;b3+=2-b6){b5=bS[b3];e["margin"+b5]=e["padding"+b5]=b4}if(b6){e.opacity=e.width=b4}return e}bt.each({slideDown:bI("show"),slideUp:bI("hide"),slideToggle:bI("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b3){bt.fn[e]=function(b4,b6,b5){return this.animate(b3,b4,b6,b5)}});bt.speed=function(b4,b5,b3){var e=b4&&typeof b4==="object"?bt.extend({},b4):{complete:b3||!b3&&b5||bt.isFunction(b4)&&b4,duration:b4,easing:b3&&b5||b5&&!bt.isFunction(b5)&&b5};e.duration=bt.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bt.fx.speeds?bt.fx.speeds[e.duration]:bt.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bt.isFunction(e.old)){e.old.call(this)}if(e.queue){bt.dequeue(this,e.queue)}};return e};bt.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bt.timers=[];bt.fx=E.prototype.init;bt.fx.tick=function(){var b4,b3=bt.timers,e=0;H=bt.now();for(;e<b3.length;e++){b4=b3[e];if(!b4()&&b3[e]===b4){b3.splice(e--,1)}}if(!b3.length){bt.fx.stop()}H=aD};bt.fx.timer=function(e){if(e()&&bt.timers.push(e)){bt.fx.start()}};bt.fx.interval=13;bt.fx.start=function(){if(!aa){aa=setInterval(bt.fx.tick,bt.fx.interval)}};bt.fx.stop=function(){clearInterval(aa);aa=null};bt.fx.speeds={slow:600,fast:200,_default:400};bt.fx.step={};if(bt.expr&&bt.expr.filters){bt.expr.filters.animated=function(e){return bt.grep(bt.timers,function(b3){return e===b3.elem}).length}}bt.fn.offset=function(b3){if(arguments.length){return b3===aD?this:this.each(function(b8){bt.offset.setOffset(this,b3,b8)})}var e,b7,b5={top:0,left:0},b4=this[0],b6=b4&&b4.ownerDocument;if(!b6){return}e=b6.documentElement;if(!bt.contains(e,b4)){return b5}if(typeof b4.getBoundingClientRect!==az){b5=b4.getBoundingClientRect()}b7=bo(b6);return{top:b5.top+(b7.pageYOffset||e.scrollTop)-(e.clientTop||0),left:b5.left+(b7.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}};bt.offset={setOffset:function(b5,ce,b8){var b9=bt.css(b5,"position");if(b9==="static"){b5.style.position="relative"}var b7=bt(b5),b3=b7.offset(),e=bt.css(b5,"top"),cc=bt.css(b5,"left"),cd=(b9==="absolute"||b9==="fixed")&&bt.inArray("auto",[e,cc])>-1,cb={},ca={},b4,b6;if(cd){ca=b7.position();b4=ca.top;b6=ca.left}else{b4=parseFloat(e)||0;b6=parseFloat(cc)||0}if(bt.isFunction(ce)){ce=ce.call(b5,b8,b3)}if(ce.top!=null){cb.top=(ce.top-b3.top)+b4}if(ce.left!=null){cb.left=(ce.left-b3.left)+b6}if("using" in ce){ce.using.call(b5,cb)}else{b7.css(cb)}}};bt.fn.extend({position:function(){if(!this[0]){return}var b4,b5,e={top:0,left:0},b3=this[0];if(bt.css(b3,"position")==="fixed"){b5=b3.getBoundingClientRect()}else{b4=this.offsetParent();b5=this.offset();if(!bt.nodeName(b4[0],"html")){e=b4.offset()}e.top+=bt.css(b4[0],"borderTopWidth",true);e.left+=bt.css(b4[0],"borderLeftWidth",true)}return{top:b5.top-e.top-bt.css(b3,"marginTop",true),left:b5.left-e.left-bt.css(b3,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||bV;while(e&&(!bt.nodeName(e,"html")&&bt.css(e,"position")==="static")){e=e.offsetParent}return e||bV})}});bt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b4,b3){var e=/Y/.test(b3);bt.fn[b4]=function(b5){return bt.access(this,function(b6,b9,b8){var b7=bo(b6);if(b8===aD){return b7?(b3 in b7)?b7[b3]:b7.document.documentElement[b9]:b6[b9]}if(b7){b7.scrollTo(!e?b8:bt(b7).scrollLeft(),e?b8:bt(b7).scrollTop())}else{b6[b9]=b8}},b4,b5,arguments.length,null)}});function bo(e){return bt.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bt.each({Height:"height",Width:"width"},function(e,b3){bt.each({padding:"inner"+e,content:b3,"":"outer"+e},function(b4,b5){bt.fn[b5]=function(b9,b8){var b7=arguments.length&&(b4||typeof b9!=="boolean"),b6=b4||(b9===true||b8===true?"margin":"border");return bt.access(this,function(cb,ca,cc){var cd;if(bt.isWindow(cb)){return cb.document.documentElement["client"+e]}if(cb.nodeType===9){cd=cb.documentElement;return Math.max(cb.body["scroll"+e],cd["scroll"+e],cb.body["offset"+e],cd["offset"+e],cd["client"+e])}return cc===aD?bt.css(cb,ca,b6):bt.style(cb,ca,cc,b6)},b3,b7?b9:aD,b7,null)}})});bt.fn.size=function(){return this.length};bt.fn.andSelf=bt.fn.addBack;if(typeof module==="object"&&module&&typeof module.exports==="object"){module.exports=bt}else{a1.jQueryTS=a1.$TS=bt;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return bt})}}})(window);;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/libs/jquery.json-2.4.js' */
(function($){var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON=typeof JSON==="object"&&JSON.stringify?JSON.stringify:function(o){if(o===null){return"null"}var pairs,k,name,val,type=$.type(o);if(type==="undefined"){return undefined}if(type==="number"||type==="boolean"){return String(o)}if(type==="string"){return $.quoteString(o)}if(typeof o.toJSON==="function"){return $.toJSON(o.toJSON())}if(type==="date"){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();if(month<10){month="0"+month}if(day<10){day="0"+day}if(hours<10){hours="0"+hours}if(minutes<10){minutes="0"+minutes}if(seconds<10){seconds="0"+seconds}if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}pairs=[];if($.isArray(o)){for(k=0;k<o.length;k++){pairs.push($.toJSON(o[k])||"null")}return"["+pairs.join(",")+"]"}if(typeof o==="object"){for(k in o){if(hasOwn.call(o,k)){type=typeof k;if(type==="number"){name='"'+k+'"'}else{if(type==="string"){name=$.quoteString(k)}else{continue}}type=typeof o[k];if(type!=="function"&&type!=="undefined"){val=$.toJSON(o[k]);pairs.push(name+":"+val)}}}return"{"+pairs.join(",")+"}"}};$.evalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")};$.secureEvalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+str+")")}throw new SyntaxError("Error parsing JSON, source is not valid.")};$.quoteString=function(str){if(str.match(escape)){return'"'+str.replace(escape,function(a){var c=meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+str+'"'}}(jQueryTS));;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/libs/jquery.cookie.js' */
/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQueryTS)}}(function(e){var a=/\+/g;function d(g){return g}function b(g){return decodeURIComponent(g.replace(a," "))}function f(g){if(g.indexOf('"')===0){g=g.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{return c.json?JSON.parse(g):g}catch(h){}}var c=e.cookie=function(p,o,u){if(o!==undefined){u=e.extend({},c.defaults,u);if(typeof u.expires==="number"){var q=u.expires,s=u.expires=new Date();s.setDate(s.getDate()+q)}o=c.json?JSON.stringify(o):String(o);return(document.cookie=[c.raw?p:encodeURIComponent(p),"=",c.raw?o:encodeURIComponent(o),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join(""))}var g=c.raw?d:b;var r=document.cookie.split("; ");var v=p?undefined:{};for(var n=0,k=r.length;n<k;n++){var m=r[n].split("=");var h=g(m.shift());var j=g(m.join("="));if(p&&p===h){v=f(j);break}if(!p){v[h]=f(j)}}return v};c.defaults={};e.removeCookie=function(h,g){if(e.cookie(h)!==undefined){e.cookie(h,"",e.extend({},g,{expires:-1}));return true}return false}}));;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/libs/jquery.dataTables.js' */
/*! DataTables 1.10.5
 * 2008-2014 SpryMedia Ltd - datatables.net/license
 */
(function(b,a,c){(function(d){if(typeof define==="function"&&define.amd){define("datatables",["jQueryTS"],d)}else{if(typeof exports==="object"){module.exports=d(require("jQueryTS"))}else{if(jQueryTS&&!jQueryTS.fn.dataTable){d(jQueryTS)}}}}(function(bo){var N;var I;var J;var bk;var aB;var a7={};var W=/[\r\n]/g;var aU=/<.*?>/g;var am=/^[\w\+\-]/;var bw=/[\w\+\-]$/;var aD=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g");var bG=/[',$%\u2009\u202F]/g;var bC=function(bR){return !bR||bR===true||bR==="-"?true:false};var F=function(bS){var bR=parseInt(bS,10);return !isNaN(bR)&&isFinite(bS)?bR:null};var bE=function(bS,bR){if(!a7[bR]){a7[bR]=new RegExp(m(bR),"g")}return typeof bS==="string"&&bR!=="."?bS.replace(/\./g,"").replace(a7[bR],"."):bS};var aj=function(bU,bR,bT){var bS=typeof bU==="string";if(bR&&bS){bU=bE(bU,bR)}if(bT&&bS){bU=bU.replace(bG,"")}return bC(bU)||(!isNaN(parseFloat(bU))&&isFinite(bU))};var bM=function(bR){return bC(bR)||typeof bR==="string"};var j=function(bU,bR,bT){if(bC(bU)){return true}var bS=bM(bU);return !bS?null:aj(D(bU),bR,bT)?true:null};var au=function(bS,bW,bV){var bT=[];var bU=0,bR=bS.length;if(bV!==c){for(;bU<bR;bU++){if(bS[bU]&&bS[bU][bW]){bT.push(bS[bU][bW][bV])}}}else{for(;bU<bR;bU++){if(bS[bU]){bT.push(bS[bU][bW])}}}return bT};var t=function(bT,bR,bX,bW){var bU=[];var bV=0,bS=bR.length;if(bW!==c){for(;bV<bS;bV++){if(bT[bR[bV]][bX]){bU.push(bT[bR[bV]][bX][bW])}}}else{for(;bV<bS;bV++){bU.push(bT[bR[bV]][bX])}}return bU};var bg=function(bR,bV){var bT=[];var bS;if(bV===c){bV=0;bS=bR}else{bS=bV;bV=bR}for(var bU=bV;bU<bS;bU++){bT.push(bU)}return bT};var ad=function(bS){var bT=[];for(var bU=0,bR=bS.length;bU<bR;bU++){if(bS[bU]){bT.push(bS[bU])}}return bT};var D=function(bR){return bR.replace(aU,"")};var aH=function(bX){var bU=[],bW,bV,bR=bX.length,bT,bS=0;again:for(bV=0;bV<bR;bV++){bW=bX[bV];for(bT=0;bT<bS;bT++){if(bU[bT]===bW){continue again}}bU.push(bW);bS++}return bU};function T(bV){var bU="a aa ai ao as b fn i m o s ",bR,bT,bS={};bo.each(bV,function(bW,bX){bR=bW.match(/^([^A-Z]+?)([A-Z])/);if(bR&&bU.indexOf(bR[1]+" ")!==-1){bT=bW.replace(bR[0],bR[2].toLowerCase());bS[bT]=bW;if(bR[1]==="o"){T(bV[bW])}}});bV._hungarianMap=bS}function aa(bU,bR,bT){if(!bU._hungarianMap){T(bU)}var bS;bo.each(bR,function(bV,bW){bS=bU._hungarianMap[bV];if(bS!==c&&(bT||bR[bS]===c)){if(bS.charAt(0)==="o"){if(!bR[bS]){bR[bS]={}}bo.extend(true,bR[bS],bR[bV]);aa(bU[bS],bR[bS],bT)}else{bR[bS]=bR[bV]}}})}function aS(bU){var bT=N.defaults.oLanguage;var bS=bU.sZeroRecords;if(!bU.sEmptyTable&&bS&&bT.sEmptyTable==="No data available in table"){R(bU,bU,"sZeroRecords","sEmptyTable")}if(!bU.sLoadingRecords&&bS&&bT.sLoadingRecords==="Loading..."){R(bU,bU,"sZeroRecords","sLoadingRecords")}if(bU.sInfoThousands){bU.sThousands=bU.sInfoThousands}var bR=bU.sDecimal;if(bR){bs(bR)}}var aM=function(bT,bS,bR){if(bT[bS]!==c){bT[bR]=bT[bS]}};function a4(bU){aM(bU,"ordering","bSort");aM(bU,"orderMulti","bSortMulti");aM(bU,"orderClasses","bSortClasses");aM(bU,"orderCellsTop","bSortCellsTop");aM(bU,"order","aaSorting");aM(bU,"orderFixed","aaSortingFixed");aM(bU,"paging","bPaginate");aM(bU,"pagingType","sPaginationType");aM(bU,"pageLength","iDisplayLength");aM(bU,"searching","bFilter");var bT=bU.aoSearchCols;if(bT){for(var bS=0,bR=bT.length;bS<bR;bS++){if(bT[bS]){aa(N.models.oSearch,bT[bS])}}}}function X(bR){aM(bR,"orderable","bSortable");aM(bR,"orderData","aDataSort");aM(bR,"orderSequence","asSorting");aM(bR,"orderDataType","sortDataType")}function be(bS){var bR=bS.oBrowser;var bU=bo("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(bo("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(bo('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body");var bT=bU.find(".test");bR.bScrollOversize=bT[0].offsetWidth===100;bR.bScrollbarLeft=bT.offset().left!==1;bU.remove()}function aV(bV,bX,bZ,bR,bT,bS){var bU=bR,bY,bW=false;if(bZ!==c){bY=bZ;bW=true}while(bU!==bT){if(!bV.hasOwnProperty(bU)){continue}bY=bW?bX(bY,bV[bU],bU,bV):bV[bU];bW=true;bU+=bS}return bY}function O(bV,bU){var bW=N.defaults.column;var bR=bV.aoColumns.length;var bT=bo.extend({},N.models.oColumn,bW,{nTh:bU?bU:a.createElement("th"),sTitle:bW.sTitle?bW.sTitle:bU?bU.innerHTML:"",aDataSort:bW.aDataSort?bW.aDataSort:[bR],mData:bW.mData?bW.mData:bR,idx:bR});bV.aoColumns.push(bT);var bS=bV.aoPreSearchCols;bS[bR]=bo.extend({},N.models.oSearch,bS[bR]);a2(bV,bR,bo(bU).data())}function a2(bT,b2,b1){var bX=bT.aoColumns[b2];var bR=bT.oClasses;var bS=bo(bX.nTh);if(!bX.sWidthOrig){bX.sWidthOrig=bS.attr("width")||null;var b3=(bS.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);if(b3){bX.sWidthOrig=b3[1]}}if(b1!==c&&b1!==null){X(b1);aa(N.defaults.column,b1);if(b1.mDataProp!==c&&!b1.mData){b1.mData=b1.mDataProp}if(b1.sType){bX._sManualType=b1.sType}if(b1.className&&!b1.sClass){b1.sClass=b1.className}bo.extend(bX,b1);R(bX,b1,"sWidth","sWidthOrig");if(typeof b1.iDataSort==="number"){bX.aDataSort=[b1.iDataSort]}R(bX,b1,"aDataSort")}var b0=bX.mData;var bW=ao(b0);var bZ=bX.mRender?ao(bX.mRender):null;var bV=function(b4){return typeof b4==="string"&&b4.indexOf("@")!==-1};bX._bAttrSrc=bo.isPlainObject(b0)&&(bV(b0.sort)||bV(b0.type)||bV(b0.filter));bX.fnGetData=function(b6,b5,b7){var b4=bW(b6,b5,c,b7);return bZ&&b5?bZ(b4,b5,b6,b7):b4};bX.fnSetData=function(b4,b6,b5){return ax(b0)(b4,b6,b5)};if(typeof b0!=="number"){bT._rowReadObject=true}if(!bT.oFeatures.bSort){bX.bSortable=false;bS.addClass(bR.sSortableNone)}var bU=bo.inArray("asc",bX.asSorting)!==-1;var bY=bo.inArray("desc",bX.asSorting)!==-1;if(!bX.bSortable||(!bU&&!bY)){bX.sSortingClass=bR.sSortableNone;bX.sSortingClassJUI=""}else{if(bU&&!bY){bX.sSortingClass=bR.sSortableAsc;bX.sSortingClassJUI=bR.sSortJUIAscAllowed}else{if(!bU&&bY){bX.sSortingClass=bR.sSortableDesc;bX.sSortingClassJUI=bR.sSortJUIDescAllowed}else{bX.sSortingClass=bR.sSortable;bX.sSortingClassJUI=bR.sSortJUI}}}}function aJ(bV){if(bV.oFeatures.bAutoWidth!==false){var bU=bV.aoColumns;bx(bV);for(var bT=0,bS=bU.length;bT<bS;bT++){bU[bT].nTh.style.width=bU[bT].sWidth}}var bR=bV.oScroll;if(bR.sY!==""||bR.sX!==""){l(bV)}L(bV,null,"column-sizing",[bV])}function r(bT,bR){var bS=p(bT,"bVisible");return typeof bS[bR]==="number"?bS[bR]:null}function bJ(bT,bR){var bS=p(bT,"bVisible");var bU=bo.inArray(bR,bS);return bU!==-1?bU:null}function aQ(bR){return p(bR,"bVisible").length}function p(bT,bS){var bR=[];bo.map(bT.aoColumns,function(bV,bU){if(bV[bS]){bR.push(bU)}});return bR}function v(bU){var bV=bU.aoColumns;var bZ=bU.aoData;var b1=N.ext.type.detect;var b0,b4,bY,bS,bX,bW;var bT,b2,b3,bR;for(b0=0,b4=bV.length;b0<b4;b0++){bT=bV[b0];bR=[];if(!bT.sType&&bT._sManualType){bT.sType=bT._sManualType}else{if(!bT.sType){for(bY=0,bS=b1.length;bY<bS;bY++){for(bX=0,bW=bZ.length;bX<bW;bX++){if(bR[bX]===c){bR[bX]=bv(bU,bX,b0,"type")}b3=b1[bY](bR[bX],bU);if(!b3&&bY!==b1.length-1){break}if(b3==="html"){break}}if(b3){bT.sType=b3;break}}if(!bT.sType){bT.sType="string"}}}}}function k(bS,b2,bT,b1){var bY,bU,bX,b3,bW,b0,bR;var bV=bS.aoColumns;if(b2){for(bY=b2.length-1;bY>=0;bY--){bR=b2[bY];var bZ=bR.targets!==c?bR.targets:bR.aTargets;if(!bo.isArray(bZ)){bZ=[bZ]}for(bX=0,b3=bZ.length;bX<b3;bX++){if(typeof bZ[bX]==="number"&&bZ[bX]>=0){while(bV.length<=bZ[bX]){O(bS)}b1(bZ[bX],bR)}else{if(typeof bZ[bX]==="number"&&bZ[bX]<0){b1(bV.length+bZ[bX],bR)}else{if(typeof bZ[bX]==="string"){for(bW=0,b0=bV.length;bW<b0;bW++){if(bZ[bX]=="_all"||bo(bV[bW].nTh).hasClass(bZ[bX])){b1(bW,bR)}}}}}}}}if(bT){for(bY=0,bU=bT.length;bY<bU;bY++){b1(bY,bT[bY])}}}function aO(bS,b1,b0,bX){var bZ=bS.aoData.length;var bR=bo.extend(true,{},N.models.oRow,{src:b0?"dom":"data"});bR._aData=b1;bS.aoData.push(bR);var bW,bU;var bV=bS.aoColumns;for(var bY=0,bT=bV.length;bY<bT;bY++){if(b0){bm(bS,bZ,bY,bv(bS,bZ,bY))}bV[bY].sType=null}bS.aiDisplayMaster.push(bZ);if(b0||!bS.oFeatures.bDeferRender){P(bS,bZ,b0,bX)}return bZ}function bQ(bS,bR){var bT;if(!(bR instanceof bo)){bR=bo(bR)}return bR.map(function(bU,bV){bT=bf(bS,bV);return aO(bS,bT.data,bV,bT.cells)})}function bt(bR,bS){return(bS._DT_RowIndex!==c)?bS._DT_RowIndex:null}function a0(bR,bS,bT){return bo.inArray(bT,bR.aoData[bS].anCells)}function bv(bU,bR,bV,bX){var bY=bU.iDraw;var bS=bU.aoColumns[bV];var bT=bU.aoData[bR]._aData;var bZ=bS.sDefaultContent;var bW=bS.fnGetData(bT,bX,{settings:bU,row:bR,col:bV});if(bW===c){if(bU.iDrawError!=bY&&bZ===null){aN(bU,0,"Requested unknown parameter "+(typeof bS.mData=="function"?"{function}":"'"+bS.mData+"'")+" for row "+bR,4);bU.iDrawError=bY}return bZ}if((bW===bT||bW===null)&&bZ!==null){bW=bZ}else{if(typeof bW==="function"){return bW.call(bT)}}if(bW===null&&bX=="display"){return""}return bW}function bm(bS,bT,bW,bV){var bR=bS.aoColumns[bW];var bU=bS.aoData[bT]._aData;bR.fnSetData(bU,bV,{settings:bS,row:bT,col:bW})}var K=/\[.*?\]$/;var f=/\(\)$/;function ak(bR){return bo.map(bR.match(/(\\.|[^\.])+/g),function(bS){return bS.replace(/\\./g,".")})}function ao(bS){if(bo.isPlainObject(bS)){var bT={};bo.each(bS,function(bU,bV){if(bV){bT[bU]=ao(bV)}});return function(bW,bV,bY,bX){var bU=bT[bV]||bT._;return bU!==c?bU(bW,bV,bY,bX):bW}}else{if(bS===null){return function(bU){return bU}}else{if(typeof bS==="function"){return function(bV,bU,bX,bW){return bS(bV,bU,bX,bW)}}else{if(typeof bS==="string"&&(bS.indexOf(".")!==-1||bS.indexOf("[")!==-1||bS.indexOf("(")!==-1)){var bR=function(b2,b3,bU){var b5,bY,b0,bX;if(bU!==""){var b4=ak(bU);for(var b1=0,bW=b4.length;b1<bW;b1++){b5=b4[b1].match(K);bY=b4[b1].match(f);if(b5){b4[b1]=b4[b1].replace(K,"");if(b4[b1]!==""){b2=b2[b4[b1]]}b0=[];b4.splice(0,b1+1);bX=b4.join(".");for(var bZ=0,b6=b2.length;bZ<b6;bZ++){b0.push(bR(b2[bZ],b3,bX))}var bV=b5[0].substring(1,b5[0].length-1);b2=(bV==="")?b0:b0.join(bV);break}else{if(bY){b4[b1]=b4[b1].replace(f,"");b2=b2[b4[b1]]();continue}}if(b2===null||b2[b4[b1]]===c){return c}b2=b2[b4[b1]]}}return b2};return function(bV,bU){return bR(bV,bU,bS)}}else{return function(bV,bU){return bV[bS]}}}}}}function ax(bS){if(bo.isPlainObject(bS)){return ax(bS._)}else{if(bS===null){return function(){}}else{if(typeof bS==="function"){return function(bT,bV,bU){bS(bT,"set",bV,bU)}}else{if(typeof bS==="string"&&(bS.indexOf(".")!==-1||bS.indexOf("[")!==-1||bS.indexOf("(")!==-1)){var bR=function(b1,bX,bT){var b4=ak(bT),b2;var b3=b4[b4.length-1];var b5,bY,bU,bW;for(var b0=0,bV=b4.length-1;b0<bV;b0++){b5=b4[b0].match(K);bY=b4[b0].match(f);if(b5){b4[b0]=b4[b0].replace(K,"");b1[b4[b0]]=[];b2=b4.slice();b2.splice(0,b0+1);bW=b2.join(".");for(var bZ=0,b6=bX.length;bZ<b6;bZ++){bU={};bR(bU,bX[bZ],bW);b1[b4[b0]].push(bU)}return}else{if(bY){b4[b0]=b4[b0].replace(f,"");b1=b1[b4[b0]](bX)}}if(b1[b4[b0]]===null||b1[b4[b0]]===c){b1[b4[b0]]={}}b1=b1[b4[b0]]}if(b3.match(f)){b1=b1[b3.replace(f,"")](bX)}else{b1[b3.replace(K,"")]=bX}};return function(bT,bU){return bR(bT,bU,bS)}}else{return function(bT,bU){bT[bS]=bU}}}}}}function bH(bR){return au(bR.aoData,"_aData")}function bi(bR){bR.aoData.length=0;bR.aiDisplayMaster.length=0;bR.aiDisplay.length=0}function a5(bS,bU,bW){var bV=-1;for(var bT=0,bR=bS.length;bT<bR;bT++){if(bS[bT]==bU){bV=bT}else{if(bS[bT]>bU){bS[bT]--}}}if(bV!=-1&&bW===c){bS.splice(bV,1)}}function B(bU,bS,bR,bV){var b0=bU.aoData[bS];var bW,bY;var bT=function(b1,b2){while(b1.childNodes.length){b1.removeChild(b1.firstChild)}b1.innerHTML=bv(bU,bS,b2,"display")};if(bR==="dom"||((!bR||bR==="auto")&&b0.src==="dom")){b0._aData=bf(bU,b0,bV,bV===c?c:b0._aData).data}else{var bZ=b0.anCells;if(bZ){if(bV!==c){bT(bZ[bV],bV)}else{for(bW=0,bY=bZ.length;bW<bY;bW++){bT(bZ[bW],bW)}}}}b0._aSortData=null;b0._aFilterData=null;var bX=bU.aoColumns;if(bV!==c){bX[bV].sType=null}else{for(bW=0,bY=bX.length;bW<bY;bW++){bX[bW].sType=null}ac(b0)}}function bf(bY,b7,b1,b5){var b2=[],bX=b7.firstChild,bR,bU,bT,b0=0,bV,bW=bY.aoColumns,b3=bY._rowReadObject;b5=b5||b3?{}:[];var b4=function(ca,cc){if(typeof ca==="string"){var b9=ca.indexOf("@");if(b9!==-1){var b8=ca.substring(b9+1);var cb=ax(ca);cb(b5,cc.getAttribute(b8))}}};var b6=function(b8){if(b1===c||b1===b0){bU=bW[b0];bV=bo.trim(b8.innerHTML);if(bU&&bU._bAttrSrc){var b9=ax(bU.mData._);b9(b5,bV);b4(bU.mData.sort,b8);b4(bU.mData.type,b8);b4(bU.mData.filter,b8)}else{if(b3){if(!bU._setter){bU._setter=ax(bU.mData)}bU._setter(b5,bV)}else{b5[b0]=bV}}}b0++};if(bX){while(bX){bR=bX.nodeName.toUpperCase();if(bR=="TD"||bR=="TH"){b6(bX);b2.push(bX)}bX=bX.nextSibling}}else{b2=b7.anCells;for(var bZ=0,bS=b2.length;bZ<bS;bZ++){b6(b2[bZ])}}return{data:b5,cells:b2}}function P(bS,bZ,bR,bX){var b2=bS.aoData[bZ],bV=b2._aData,b1=[],b0,bW,bU,bY,bT;if(b2.nTr===null){b0=bR||a.createElement("tr");b2.nTr=b0;b2.anCells=b1;b0._DT_RowIndex=bZ;ac(b2);for(bY=0,bT=bS.aoColumns.length;bY<bT;bY++){bU=bS.aoColumns[bY];bW=bR?bX[bY]:a.createElement(bU.sCellType);b1.push(bW);if(!bR||bU.mRender||bU.mData!==bY){bW.innerHTML=bv(bS,bZ,bY,"display")}if(bU.sClass){bW.className+=" "+bU.sClass}if(bU.bVisible&&!bR){b0.appendChild(bW)}else{if(!bU.bVisible&&bR){bW.parentNode.removeChild(bW)}}if(bU.fnCreatedCell){bU.fnCreatedCell.call(bS.oInstance,bW,bv(bS,bZ,bY),bV,bZ,bY)}}L(bS,"aoRowCreatedCallback",null,[b0,bV,bZ])}b2.nTr.setAttribute("role","row")}function ac(bU){var bT=bU.nTr;var bS=bU._aData;if(bT){if(bS.DT_RowId){bT.id=bS.DT_RowId}if(bS.DT_RowClass){var bR=bS.DT_RowClass.split(" ");bU.__rowc=bU.__rowc?aH(bU.__rowc.concat(bR)):bR;bo(bT).removeClass(bU.__rowc.join(" ")).addClass(bS.DT_RowClass)}if(bS.DT_RowAttr){bo(bT).attr(bS.DT_RowAttr)}if(bS.DT_RowData){bo(bT).data(bS.DT_RowData)}}}function aL(bR){var bV,b0,bZ,b2,bU;var bW=bR.nTHead;var bX=bR.nTFoot;var bY=bo("th, td",bW).length===0;var bT=bR.oClasses;var bS=bR.aoColumns;if(bY){b2=bo("<tr/>").appendTo(bW)}for(bV=0,b0=bS.length;bV<b0;bV++){bU=bS[bV];bZ=bo(bU.nTh).addClass(bU.sClass);if(bY){bZ.appendTo(b2)}if(bR.oFeatures.bSort){bZ.addClass(bU.sSortingClass);if(bU.bSortable!==false){bZ.attr("tabindex",bR.iTabIndex).attr("aria-controls",bR.sTableId);C(bR,bU.nTh,bV)}}if(bU.sTitle!=bZ.html()){bZ.html(bU.sTitle)}S(bR,"header")(bR,bZ,bU,bT)}if(bY){aw(bR.aoHeader,bW)}bo(bW).find(">tr").attr("role","row");bo(bW).find(">tr>th, >tr>td").addClass(bT.sHeaderTH);bo(bX).find(">tr>th, >tr>td").addClass(bT.sFooterTH);if(bX!==null){var b1=bR.aoFooter[0];for(bV=0,b0=b1.length;bV<b0;bV++){bU=bS[bV];bU.nTf=b1[bV].cell;if(bU.sClass){bo(bU.nTf).addClass(bU.sClass)}}}}function a6(bU,b3,b6){var bZ,bW,bY,b2,bX,b0,bV,b5;var bT=[];var b1=[];var bR=bU.aoColumns.length;var bS,b4;if(!b3){return}if(b6===c){b6=false}for(bZ=0,bW=b3.length;bZ<bW;bZ++){bT[bZ]=b3[bZ].slice();bT[bZ].nTr=b3[bZ].nTr;for(bY=bR-1;bY>=0;bY--){if(!bU.aoColumns[bY].bVisible&&!b6){bT[bZ].splice(bY,1)}}b1.push([])}for(bZ=0,bW=bT.length;bZ<bW;bZ++){b5=bT[bZ].nTr;if(b5){while((bV=b5.firstChild)){b5.removeChild(bV)}}for(bY=0,b2=bT[bZ].length;bY<b2;bY++){bS=1;b4=1;if(b1[bZ][bY]===c){b5.appendChild(bT[bZ][bY].cell);b1[bZ][bY]=1;while(bT[bZ+bS]!==c&&bT[bZ][bY].cell==bT[bZ+bS][bY].cell){b1[bZ+bS][bY]=1;bS++}while(bT[bZ][bY+b4]!==c&&bT[bZ][bY].cell==bT[bZ][bY+b4].cell){for(bX=0;bX<bS;bX++){b1[bZ+bX][bY+b4]=1}b4++}bo(bT[bZ][bY].cell).attr("rowspan",bS).attr("colspan",b4)}}}}function a3(bT){var cd=L(bT,"aoPreDrawCallback","preDraw",[bT]);if(bo.inArray(false,cd)!==-1){w(bT,false);return}var cc,b8,b4;var bX=[];var cf=0;var b1=bT.asStripeClasses;var b6=b1.length;var b2=bT.aoOpenRows.length;var b7=bT.oLanguage;var b3=bT.iInitDisplayStart;var cb=y(bT)=="ssp";var bW=bT.aiDisplay;bT.bDrawing=true;if(b3!==c&&b3!==-1){bT._iDisplayStart=cb?b3:b3>=bT.fnRecordsDisplay()?0:b3;bT.iInitDisplayStart=-1}var bS=bT._iDisplayStart;var bU=bT.fnDisplayEnd();if(bT.bDeferLoading){bT.bDeferLoading=false;bT.iDraw++;w(bT,false)}else{if(!cb){bT.iDraw++}else{if(!bT.bDestroying&&!af(bT)){return}}}if(bW.length!==0){var bV=cb?0:bS;var bR=cb?bT.aoData.length:bU;for(var b9=bV;b9<bR;b9++){var bZ=bW[b9];var b0=bT.aoData[bZ];if(b0.nTr===null){P(bT,bZ)}var ce=b0.nTr;if(b6!==0){var ca=b1[cf%b6];if(b0._sRowStripe!=ca){bo(ce).removeClass(b0._sRowStripe).addClass(ca);b0._sRowStripe=ca}}L(bT,"aoRowCallback",null,[ce,b0._aData,cf,b9]);bX.push(ce);cf++}}else{var b5=b7.sZeroRecords;if(bT.iDraw==1&&y(bT)=="ajax"){b5=b7.sLoadingRecords}else{if(b7.sEmptyTable&&bT.fnRecordsTotal()===0){b5=b7.sEmptyTable}}bX[0]=bo("<tr/>",{"class":b6?b1[0]:""}).append(bo("<td />",{valign:"top",colSpan:aQ(bT),"class":bT.oClasses.sRowEmpty}).html(b5))[0]}L(bT,"aoHeaderCallback","header",[bo(bT.nTHead).children("tr")[0],bH(bT),bS,bU,bW]);L(bT,"aoFooterCallback","footer",[bo(bT.nTFoot).children("tr")[0],bH(bT),bS,bU,bW]);var bY=bo(bT.nTBody);bY.children().detach();bY.append(bo(bX));L(bT,"aoDrawCallback","draw",[bT]);bT.bSorted=false;bT.bFiltered=false;bT.bDrawing=false}function ai(bV,bS){var bU=bV.oFeatures,bR=bU.bSort,bT=bU.bFilter;if(bR){x(bV)}if(bT){u(bV,bV.oPreviousSearch)}else{bV.aiDisplay=bV.aiDisplayMaster.slice()}if(bS!==true){bV._iDisplayStart=0}bV._drawHold=bS;a3(bV);bV._drawHold=false}function i(bV){var b8=bV.oClasses;var b5=bo(bV.nTable);var bX=bo("<div/>").insertBefore(b5);var bW=bV.oFeatures;var bS=bo("<div/>",{id:bV.sTableId+"_wrapper","class":b8.sWrapper+(bV.nTFoot?"":" "+b8.sNoFooter)});bV.nHolding=bX[0];bV.nTableWrapper=bS[0];bV.nTableReinsertBefore=bV.nTable.nextSibling;var bY=bV.sDom.split("");var b3,bZ,bU,b9,b7,b1;for(var b4=0;b4<bY.length;b4++){b3=null;bZ=bY[b4];if(bZ=="<"){bU=bo("<div/>")[0];b9=bY[b4+1];if(b9=="'"||b9=='"'){b7="";b1=2;while(bY[b4+b1]!=b9){b7+=bY[b4+b1];b1++}if(b7=="H"){b7=b8.sJUIHeader}else{if(b7=="F"){b7=b8.sJUIFooter}}if(b7.indexOf(".")!=-1){var b2=b7.split(".");bU.id=b2[0].substr(1,b2[0].length-1);bU.className=b2[1]}else{if(b7.charAt(0)=="#"){bU.id=b7.substr(1,b7.length-1)}else{bU.className=b7}}b4+=b1}bS.append(bU);bS=bo(bU)}else{if(bZ==">"){bS=bS.parent()}else{if(bZ=="l"&&bW.bPaginate&&bW.bLengthChange){b3=aR(bV)}else{if(bZ=="f"&&bW.bFilter){b3=q(bV)}else{if(bZ=="r"&&bW.bProcessing){b3=bB(bV)}else{if(bZ=="t"){b3=bA(bV)}else{if(bZ=="i"&&bW.bInfo){b3=g(bV)}else{if(bZ=="p"&&bW.bPaginate){b3=aA(bV)}else{if(N.ext.feature.length!==0){var b6=N.ext.feature;for(var b0=0,bR=b6.length;b0<bR;b0++){if(bZ==b6[b0].cFeature){b3=b6[b0].fnInit(bV);break}}}}}}}}}}}if(b3){var bT=bV.aanFeatures;if(!bT[bZ]){bT[bZ]=[]}bT[bZ].push(b3);bS.append(b3)}}bX.replaceWith(bS)}function aw(bX,bS){var b4=bo(bS).children("tr");var b3,b1;var bZ,bW,bV,bT,b5,b0,bY,b6,bR;var b2;var bU=function(b7,ca,b9){var b8=b7[ca];while(b8[b9]){b9++}return b9};bX.splice(0,bX.length);for(bZ=0,bT=b4.length;bZ<bT;bZ++){bX.push([])}for(bZ=0,bT=b4.length;bZ<bT;bZ++){b3=b4[bZ];bY=0;b1=b3.firstChild;while(b1){if(b1.nodeName.toUpperCase()=="TD"||b1.nodeName.toUpperCase()=="TH"){b6=b1.getAttribute("colspan")*1;bR=b1.getAttribute("rowspan")*1;b6=(!b6||b6===0||b6===1)?1:b6;bR=(!bR||bR===0||bR===1)?1:bR;b0=bU(bX,bZ,bY);b2=b6===1?true:false;for(bV=0;bV<b6;bV++){for(bW=0;bW<bR;bW++){bX[bZ+bW][b0+bV]={cell:b1,unique:b2};bX[bZ+bW].nTr=b3}}}b1=b1.nextSibling}}}function bh(bY,bS,bW){var bT=[];if(!bW){bW=bY.aoHeader;if(bS){bW=[];aw(bW,bS)}}for(var bV=0,bR=bW.length;bV<bR;bV++){for(var bU=0,bX=bW[bV].length;bU<bX;bU++){if(bW[bV][bU].unique&&(!bT[bU]||!bY.bSortCellsTop)){bT[bU]=bW[bV][bU].cell}}}return bT}function av(bS,bT,bX){L(bS,"aoServerParams","serverParams",[bT]);if(bT&&bo.isArray(bT)){var bU={};var bV=/(.*?)\[\]$/;bo.each(bT,function(b3,b4){var b2=b4.name.match(bV);if(b2){var b1=b2[0];if(!bU[b1]){bU[b1]=[]}bU[b1].push(b4.value)}else{bU[b4.name]=b4.value}});bT=bU}var bR;var bY=bS.ajax;var bZ=bS.oInstance;if(bo.isPlainObject(bY)&&bY.data){bR=bY.data;var b0=bo.isFunction(bR)?bR(bT):bR;bT=bo.isFunction(bR)&&b0?b0:bo.extend(true,bT,b0);delete bY.data}var bW={data:bT,success:function(b2){var b1=b2.error||b2.sError;if(b1){bS.oApi._fnLog(bS,0,b1)}bS.json=b2;L(bS,null,"xhr",[bS,b2]);bX(b2)},dataType:"json",cache:false,type:bS.sServerMethod,error:function(b4,b1,b3){var b2=bS.oApi._fnLog;if(b1=="parsererror"){b2(bS,0,"Invalid JSON response",1)}else{if(b4.readyState===4){b2(bS,0,"Ajax error",7)}}w(bS,false)}};bS.oAjaxData=bT;L(bS,null,"preXhr",[bS,bT]);if(bS.fnServerData){bS.fnServerData.call(bZ,bS.sAjaxSource,bo.map(bT,function(b2,b1){return{name:b1,value:b2}}),bX,bS)}else{if(bS.sAjaxSource||typeof bY==="string"){bS.jqXHR=bo.ajax(bo.extend(bW,{url:bY||bS.sAjaxSource}))}else{if(bo.isFunction(bY)){bS.jqXHR=bY.call(bZ,bT,bX,bS)}else{bS.jqXHR=bo.ajax(bo.extend(bW,bY));bY.data=bR}}}}function af(bR){if(bR.bAjaxDataGet){bR.iDraw++;w(bR,true);av(bR,bL(bR),function(bS){V(bR,bS)});return false}return true}function bL(bW){var bX=bW.aoColumns,b3=bX.length,bT=bW.oFeatures,bR=bW.oPreviousSearch,b2=bW.aoPreSearchCols,b0,bZ=[],bS,bV,b5,bY=aI(bW),b7=bW._iDisplayStart,b1=bT.bPaginate!==false?bW._iDisplayLength:-1;var bU=function(b8,b9){bZ.push({name:b8,value:b9})};bU("sEcho",bW.iDraw);bU("iColumns",b3);bU("sColumns",au(bX,"sName").join(","));bU("iDisplayStart",b7);bU("iDisplayLength",b1);var b4={draw:bW.iDraw,columns:[],order:[],start:b7,length:b1,search:{value:bR.sSearch,regex:bR.bRegex}};for(b0=0;b0<b3;b0++){bV=bX[b0];b5=b2[b0];bS=typeof bV.mData=="function"?"function":bV.mData;b4.columns.push({data:bS,name:bV.sName,searchable:bV.bSearchable,orderable:bV.bSortable,search:{value:b5.sSearch,regex:b5.bRegex}});bU("mDataProp_"+b0,bS);if(bT.bFilter){bU("sSearch_"+b0,b5.sSearch);bU("bRegex_"+b0,b5.bRegex);bU("bSearchable_"+b0,bV.bSearchable)}if(bT.bSort){bU("bSortable_"+b0,bV.bSortable)}}if(bT.bFilter){bU("sSearch",bR.sSearch);bU("bRegex",bR.bRegex)}if(bT.bSort){bo.each(bY,function(b8,b9){b4.order.push({column:b9.col,dir:b9.dir});bU("iSortCol_"+b8,b9.col);bU("sSortDir_"+b8,b9.dir)});bU("iSortingCols",bY.length)}var b6=N.ext.legacy.ajax;if(b6===null){return bW.sAjaxSource?bZ:b4}return b6?bZ:b4}function V(bR,bZ){var bW=function(b0,b1){return bZ[b0]!==c?bZ[b0]:bZ[b1]};var bU=bW("sEcho","draw");var bV=bW("iTotalRecords","recordsTotal");var bY=bW("iTotalDisplayRecords","recordsFiltered");if(bU){if(bU*1<bR.iDraw){return}bR.iDraw=bU*1}bi(bR);bR._iRecordsTotal=parseInt(bV,10);bR._iRecordsDisplay=parseInt(bY,10);var bS=bu(bR,bZ);for(var bT=0,bX=bS.length;bT<bX;bT++){aO(bR,bS[bT])}bR.aiDisplay=bR.aiDisplayMaster.slice();bR.bAjaxDataGet=false;a3(bR);if(!bR._bInitComplete){aC(bR,bZ)}bR.bAjaxDataGet=true;w(bR,false)}function bu(bT,bS){var bR=bo.isPlainObject(bT.ajax)&&bT.ajax.dataSrc!==c?bT.ajax.dataSrc:bT.sAjaxDataProp;if(bR==="data"){return bS.aaData||bS[bR]}return bR!==""?ao(bR)(bS):bS}function q(bU){var bV=bU.oClasses;var bT=bU.sTableId;var bX=bU.oLanguage;var bW=bU.oPreviousSearch;var bS=bU.aanFeatures;var b2='<input type="search" class="'+bV.sFilterInput+'"/>';var b1=bX.sSearch;b1=b1.match(/_INPUT_/)?b1.replace("_INPUT_",b2):b1+b2;var bR=bo("<div/>",{id:!bS.f?bT+"_filter":null,"class":bV.sFilter}).append(bo("<label/>").append(b1));var b0=function(){var b4=bS.f;var b3=!this.value?"":this.value;if(b3!=bW.sSearch){u(bU,{sSearch:b3,bRegex:bW.bRegex,bSmart:bW.bSmart,bCaseInsensitive:bW.bCaseInsensitive});bU._iDisplayStart=0;a3(bU)}};var bZ=bU.searchDelay!==null?bU.searchDelay:y(bU)==="ssp"?400:0;var bY=bo("input",bR).val(bW.sSearch).attr("placeholder",bX.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",bZ?al(b0,bZ):b0).bind("keypress.DT",function(b3){if(b3.keyCode==13){return false}}).attr("aria-controls",bT);bo(bU.nTable).on("search.dt.DT",function(b4,b3){if(bU===b3){try{if(bY[0]!==a.activeElement){bY.val(bW.sSearch)}}catch(b5){}}});return bR[0]}function u(bU,bY,bX){var bT=bU.oPreviousSearch;var bW=bU.aoPreSearchCols;var bV=function(bZ){bT.sSearch=bZ.sSearch;bT.bRegex=bZ.bRegex;bT.bSmart=bZ.bSmart;bT.bCaseInsensitive=bZ.bCaseInsensitive};var bS=function(bZ){return bZ.bEscapeRegex!==c?!bZ.bEscapeRegex:bZ.bRegex};v(bU);if(y(bU)!="ssp"){ay(bU,bY.sSearch,bX,bS(bY),bY.bSmart,bY.bCaseInsensitive);bV(bY);for(var bR=0;bR<bW.length;bR++){Y(bU,bW[bR].sSearch,bR,bS(bW[bR]),bW[bR].bSmart,bW[bR].bCaseInsensitive)}ar(bU)}else{bV(bY)}bU.bFiltered=true;L(bU,null,"search",[bU])}function ar(bU){var bT=N.ext.search;var bX=bU.aiDisplay;var bZ,bS;for(var bW=0,bY=bT.length;bW<bY;bW++){var b0=[];for(var bV=0,bR=bX.length;bV<bR;bV++){bS=bX[bV];bZ=bU.aoData[bS];if(bT[bW](bU,bZ._aFilterData,bS,bZ._aData,bV)){b0.push(bS)}}bX.length=0;bX.push.apply(bX,b0)}}function Y(bS,bR,bW,bZ,b0,bU){if(bR===""){return}var bX;var bY=bS.aiDisplay;var bT=aW(bR,bZ,b0,bU);for(var bV=bY.length-1;bV>=0;bV--){bX=bS.aoData[bY[bV]]._aFilterData[bW];if(!bT.test(bX)){bY.splice(bV,1)}}}function ay(bS,b0,bR,bZ,b2,bV){var bU=aW(b0,bZ,b2,bV);var bT=bS.oPreviousSearch.sSearch;var bX=bS.aiDisplayMaster;var bY,b1,bW;if(N.ext.search.length!==0){bR=true}b1=aE(bS);if(b0.length<=0){bS.aiDisplay=bX.slice()}else{if(b1||bR||bT.length>b0.length||b0.indexOf(bT)!==0||bS.bSorted){bS.aiDisplay=bX.slice()}bY=bS.aiDisplay;for(bW=bY.length-1;bW>=0;bW--){if(!bU.test(bS.aoData[bY[bW]]._sFilterRow)){bY.splice(bW,1)}}}}function aW(bT,bU,bV,bR){bT=bU?bT:m(bT);if(bV){var bS=bo.map(bT.match(/"[^"]+"|[^ ]+/g)||"",function(bX){if(bX.charAt(0)==='"'){var bW=bX.match(/^"(.*)"$/);bX=bW?bW[1]:bX}return bX.replace('"',"")});bT="^(?=.*?"+bS.join(")(?=.*?")+").*$"}return new RegExp(bT,bR?"i":"")}function m(bR){return bR.replace(aD,"\\$1")}var e=bo("<div>")[0];var aq=e.textContent!==c;function aE(bS){var bU=bS.aoColumns;var bT;var bW,bV,b0,bR,bZ,bX,b2;var b1=N.ext.type.search;var bY=false;for(bW=0,b0=bS.aoData.length;bW<b0;bW++){b2=bS.aoData[bW];if(!b2._aFilterData){bZ=[];for(bV=0,bR=bU.length;bV<bR;bV++){bT=bU[bV];if(bT.bSearchable){bX=bv(bS,bW,bV,"filter");if(b1[bT.sType]){bX=b1[bT.sType](bX)}if(bX===null){bX=""}if(typeof bX!=="string"&&bX.toString){bX=bX.toString()}}else{bX=""}if(bX.indexOf&&bX.indexOf("&")!==-1){e.innerHTML=bX;bX=aq?e.textContent:e.innerText}if(bX.replace){bX=bX.replace(/[\r\n]/g,"")}bZ.push(bX)}b2._aFilterData=bZ;b2._sFilterRow=bZ.join("  ");bY=true}}return bY}function bz(bR){return{search:bR.sSearch,smart:bR.bSmart,regex:bR.bRegex,caseInsensitive:bR.bCaseInsensitive}}function aF(bR){return{sSearch:bR.search,bSmart:bR.smart,bRegex:bR.regex,bCaseInsensitive:bR.caseInsensitive}}function g(bS){var bT=bS.sTableId,bR=bS.aanFeatures.i,bU=bo("<div/>",{"class":bS.oClasses.sInfo,id:!bR?bT+"_info":null});if(!bR){bS.aoDrawCallback.push({fn:at,sName:"information"});bU.attr("role","status").attr("aria-live","polite");bo(bS.nTable).attr("aria-describedby",bT+"_info")}return bU[0]}function at(bU){var bR=bU.aanFeatures.i;if(bR.length===0){return}var bT=bU.oLanguage,bS=bU._iDisplayStart+1,bV=bU.fnDisplayEnd(),bY=bU.fnRecordsTotal(),bX=bU.fnRecordsDisplay(),bW=bX?bT.sInfo:bT.sInfoEmpty;if(bX!==bY){bW+=" "+bT.sInfoFiltered}bW+=bT.sInfoPostFix;bW=bq(bU,bW);var bZ=bT.fnInfoCallback;if(bZ!==null){bW=bZ.call(bU.oInstance,bU,bS,bV,bY,bX,bW)}bo(bR).html(bW)}function bq(bU,bW){var bS=bU.fnFormatNumber,bX=bU._iDisplayStart+1,bR=bU._iDisplayLength,bV=bU.fnRecordsDisplay(),bT=bR===-1;return bW.replace(/_START_/g,bS.call(bU,bX)).replace(/_END_/g,bS.call(bU,bU.fnDisplayEnd())).replace(/_MAX_/g,bS.call(bU,bU.fnRecordsTotal())).replace(/_TOTAL_/g,bS.call(bU,bV)).replace(/_PAGE_/g,bS.call(bU,bT?1:Math.ceil(bX/bR))).replace(/_PAGES_/g,bS.call(bU,bT?1:Math.ceil(bV/bR)))}function h(bX){var bU,bR,bY=bX.iInitDisplayStart;var bT=bX.aoColumns,bW;var bV=bX.oFeatures;if(!bX.bInitialised){setTimeout(function(){h(bX)},200);return}i(bX);aL(bX);a6(bX,bX.aoHeader);a6(bX,bX.aoFooter);w(bX,true);if(bV.bAutoWidth){bx(bX)}for(bU=0,bR=bT.length;bU<bR;bU++){bW=bT[bU];if(bW.sWidth){bW.nTh.style.width=bK(bW.sWidth)}}ai(bX);var bS=y(bX);if(bS!="ssp"){if(bS=="ajax"){av(bX,[],function(b0){var bZ=bu(bX,b0);for(bU=0;bU<bZ.length;bU++){aO(bX,bZ[bU])}bX.iInitDisplayStart=bY;ai(bX);w(bX,false);aC(bX,b0)},bX)}else{w(bX,false);aC(bX)}}}function aC(bS,bR){bS._bInitComplete=true;if(bR){aJ(bS)}L(bS,"aoInitComplete","init",[bS,bR])}function aT(bS,bT){var bR=parseInt(bT,10);bS._iDisplayLength=bR;bl(bS);L(bS,null,"length",[bS,bR])}function aR(bW){var bX=bW.oClasses,bU=bW.sTableId,bT=bW.aLengthMenu,bR=bo.isArray(bT[0]),bV=bR?bT[0]:bT,bZ=bR?bT[1]:bT;var b0=bo("<select/>",{name:bU+"_length","aria-controls":bU,"class":bX.sLengthSelect});for(var bY=0,b1=bV.length;bY<b1;bY++){b0[0][bY]=new Option(bZ[bY],bV[bY])}var bS=bo("<div><label/></div>").addClass(bX.sLength);if(!bW.aanFeatures.l){bS[0].id=bU+"_length"}bS.children().append(bW.oLanguage.sLengthMenu.replace("_MENU_",b0[0].outerHTML));bo("select",bS).val(bW._iDisplayLength).bind("change.DT",function(b2){aT(bW,bo(this).val());a3(bW)});bo(bW.nTable).bind("length.dt.DT",function(b4,b3,b2){if(bW===b3){bo("select",bS).val(b2)}});return bS[0]}function aA(bU){var bT=bU.sPaginationType,bW=N.ext.pager[bT],bS=typeof bW==="function",bX=function(bY){a3(bY)},bV=bo("<div/>").addClass(bU.oClasses.sPaging+bT)[0],bR=bU.aanFeatures;if(!bS){bW.fnInit(bU,bV,bX)}if(!bR.p){bV.id=bU.sTableId+"_paginate";bU.aoDrawCallback.push({fn:function(b1){if(bS){var bY=b1._iDisplayStart,b3=b1._iDisplayLength,bZ=b1.fnRecordsDisplay(),b6=b3===-1,b4=b6?0:Math.ceil(bY/b3),b0=b6?1:Math.ceil(bZ/b3),b5=bW(b4,b0),b2,b7;for(b2=0,b7=bR.p.length;b2<b7;b2++){S(b1,"pageButton")(b1,bR.p[b2],b2,b5,b4,b0)}}else{bW.fnUpdate(b1,bX)}},sName:"pagination"})}return bV}function aG(bT,bU,bX){var bW=bT._iDisplayStart,bR=bT._iDisplayLength,bS=bT.fnRecordsDisplay();if(bS===0||bR===-1){bW=0}else{if(typeof bU==="number"){bW=bU*bR;if(bW>bS){bW=0}}else{if(bU=="first"){bW=0}else{if(bU=="previous"){bW=bR>=0?bW-bR:0;if(bW<0){bW=0}}else{if(bU=="next"){if(bW+bR<bS){bW+=bR}}else{if(bU=="last"){bW=Math.floor((bS-1)/bR)*bR}else{aN(bT,0,"Unknown paging action: "+bU,5)}}}}}}var bV=bT._iDisplayStart!==bW;bT._iDisplayStart=bW;if(bV){L(bT,null,"page",[bT]);if(bX){a3(bT)}}return bV}function bB(bR){return bo("<div/>",{id:!bR.aanFeatures.r?bR.sTableId+"_processing":null,"class":bR.oClasses.sProcessing}).html(bR.oLanguage.sProcessing).insertBefore(bR.nTable)[0]}function w(bS,bR){if(bS.oFeatures.bProcessing){bo(bS.aanFeatures.r).css("display",bR?"block":"none")}L(bS,null,"processing",[bS,bR])}function bA(b5){var b4=bo(b5.nTable);b4.attr("role","grid");var bR=b5.oScroll;if(bR.sX===""&&bR.sY===""){return b5.nTable}var bZ=bR.sX;var bY=bR.sY;var b6=b5.oClasses;var b3=b4.children("caption");var bS=b3.length?b3[0]._captionSide:null;var bV=bo(b4[0].cloneNode(false));var b8=bo(b4[0].cloneNode(false));var bX=b4.children("tfoot");var b0="<div/>";var bW=function(b9){return !b9?null:bK(b9)};if(bR.sX&&b4.attr("width")==="100%"){b4.removeAttr("width")}if(!bX.length){bX=null}var b2=bo(b0,{"class":b6.sScrollWrapper}).append(bo(b0,{"class":b6.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:bZ?bW(bZ):"100%"}).append(bo(b0,{"class":b6.sScrollHeadInner}).css({"box-sizing":"content-box",width:bR.sXInner||"100%"}).append(bV.removeAttr("id").css("margin-left",0).append(bS==="top"?b3:null).append(b4.children("thead"))))).append(bo(b0,{"class":b6.sScrollBody}).css({overflow:"auto",height:bW(bY),width:bW(bZ)}).append(b4));if(bX){b2.append(bo(b0,{"class":b6.sScrollFoot}).css({overflow:"hidden",border:0,width:bZ?bW(bZ):"100%"}).append(bo(b0,{"class":b6.sScrollFootInner}).append(b8.removeAttr("id").css("margin-left",0).append(bS==="bottom"?b3:null).append(b4.children("tfoot")))))}var bT=b2.children();var b1=bT[0];var b7=bT[1];var bU=bX?bT[2]:null;if(bZ){bo(b7).on("scroll.DT",function(b9){var ca=this.scrollLeft;b1.scrollLeft=ca;if(bX){bU.scrollLeft=ca}})}b5.nScrollHead=b1;b5.nScrollBody=b7;b5.nScrollFoot=bU;b5.aoDrawCallback.push({fn:l,sName:"scrolling"});return b2[0]}function l(cr){var cm=cr.oScroll,bW=cm.sX,ch=cm.sXInner,bT=cm.sY,cf=cm.iBarWidth,ck=bo(cr.nScrollHead),b9=ck[0].style,bV=ck.children("div"),bS=bV[0].style,cu=bV.children("table"),b2=cr.nScrollBody,cd=bo(b2),b8=b2.style,cn=bo(cr.nScrollFoot),cc=cn.children("div"),ca=cc.children("table"),b0=bo(cr.nTHead),cb=bo(cr.nTable),ce=cb[0],bY=ce.style,b7=cr.nTFoot?bo(cr.nTFoot):null,bZ=cr.oBrowser,b4=bZ.bScrollOversize,bU,bX,cp,cs,b5,b3,cj=[],cl=[],cg=[],ct,b1,cv,b6=function(cw){var cx=cw.style;cx.paddingTop="0";cx.paddingBottom="0";cx.borderTopWidth="0";cx.borderBottomWidth="0";cx.height=0};cb.children("thead, tfoot").remove();b5=b0.clone().prependTo(cb);bU=b0.find("tr");cp=b5.find("tr");b5.find("th, td").removeAttr("tabindex");if(b7){b3=b7.clone().prependTo(cb);bX=b7.find("tr");cs=b3.find("tr")}if(!bW){b8.width="100%";ck[0].style.width="100%"}bo.each(bh(cr,b5),function(cw,cx){ct=r(cr,cw);cx.style.width=cr.aoColumns[ct].sWidth});if(b7){a8(function(cw){cw.style.width=""},cs)}if(cm.bCollapse&&bT!==""){b8.height=(cd[0].offsetHeight+b0[0].offsetHeight)+"px"}cv=cb.outerWidth();if(bW===""){bY.width="100%";if(b4&&(cb.find("tbody").height()>b2.offsetHeight||cd.css("overflow-y")=="scroll")){bY.width=bK(cb.outerWidth()-cf)}}else{if(ch!==""){bY.width=bK(ch)}else{if(cv==cd.width()&&cd.height()<cb.height()){bY.width=bK(cv-cf);if(cb.outerWidth()>cv-cf){bY.width=bK(cv)}}else{bY.width=bK(cv)}}}cv=cb.outerWidth();a8(b6,cp);a8(function(cw){cg.push(cw.innerHTML);cj.push(bK(bo(cw).css("width")))},cp);a8(function(cx,cw){cx.style.width=cj[cw]},bU);bo(cp).height(0);if(b7){a8(b6,cs);a8(function(cw){cl.push(bK(bo(cw).css("width")))},cs);a8(function(cx,cw){cx.style.width=cl[cw]},bX);bo(cs).height(0)}a8(function(cx,cw){cx.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+cg[cw]+"</div>";cx.style.width=cj[cw]},cp);if(b7){a8(function(cx,cw){cx.innerHTML="";cx.style.width=cl[cw]},cs)}if(cb.outerWidth()<cv){b1=((b2.scrollHeight>b2.offsetHeight||cd.css("overflow-y")=="scroll"))?cv+cf:cv;if(b4&&(b2.scrollHeight>b2.offsetHeight||cd.css("overflow-y")=="scroll")){bY.width=bK(b1-cf)}if(bW===""||ch!==""){aN(cr,1,"Possible column misalignment",6)}}else{b1="100%"}b8.width=bK(b1);b9.width=bK(b1);if(b7){cr.nScrollFoot.style.width=bK(b1)}if(!bT){if(b4){b8.height=bK(ce.offsetHeight+cf)}}if(bT&&cm.bCollapse){b8.height=bK(bT);var cq=(bW&&ce.offsetWidth>b2.offsetWidth)?cf:0;if(ce.offsetHeight<b2.offsetHeight){b8.height=bK(ce.offsetHeight+cq)}}var bR=cb.outerWidth();cu[0].style.width=bK(bR);bS.width=bK(bR);var ci=cb.height()>b2.clientHeight||cd.css("overflow-y")=="scroll";var co="padding"+(bZ.bScrollbarLeft?"Left":"Right");bS[co]=ci?cf+"px":"0px";if(b7){ca[0].style.width=bK(bR);cc[0].style.width=bK(bR);cc[0].style[co]=ci?cf+"px":"0px"}cd.scroll();if((cr.bSorted||cr.bFiltered)&&!cr._drawHold){b2.scrollTop=0}}function a8(bW,bT,bS){var bU=0,bV=0,bR=bT.length;var bY,bX;while(bV<bR){bY=bT[bV].firstChild;bX=bS?bS[bV].firstChild:null;while(bY){if(bY.nodeType===1){if(bS){bW(bY,bX,bU)}else{bW(bY,bU)}bU++}bY=bY.nextSibling;bX=bS?bX.nextSibling:null}bV++}}var a1=/<.*?>/g;function bx(bX){var b5=bX.nTable,bU=bX.aoColumns,bT=bX.oScroll,b2=bT.sY,b3=bT.sX,bW=bT.sXInner,b9=bU.length,b7=p(bX,"bVisible"),b6=bo("th",bX.nTHead),b0=b5.style.width||b5.getAttribute("width"),bZ=b5.parentNode,b8=false,b4,bV,ca,b1,bR;for(b4=0;b4<b7.length;b4++){bV=bU[b7[b4]];if(bV.sWidth!==null){bV.sWidth=ag(bV.sWidthOrig,bZ);b8=true}}if(!b8&&!b3&&!b2&&b9==aQ(bX)&&b9==b6.length){for(b4=0;b4<b9;b4++){bU[b4].sWidth=bK(b6.eq(b4).width())}}else{var bY=bo(b5).clone().empty().css("visibility","hidden").removeAttr("id").append(bo(bX.nTHead).clone(false)).append(bo(bX.nTFoot).clone(false)).append(bo("<tbody><tr/></tbody>"));bY.find("tfoot th, tfoot td").css("width","");var bS=bY.find("tbody tr");b6=bh(bX,bY.find("thead")[0]);for(b4=0;b4<b7.length;b4++){bV=bU[b7[b4]];b6[b4].style.width=bV.sWidthOrig!==null&&bV.sWidthOrig!==""?bK(bV.sWidthOrig):""}if(bX.aoData.length){for(b4=0;b4<b7.length;b4++){ca=b7[b4];bV=bU[ca];bo(aK(bX,ca)).clone(false).append(bV.sContentPadding).appendTo(bS)}}bY.appendTo(bZ);if(b3&&bW){bY.width(bW)}else{if(b3){bY.css("width","auto");if(bY.width()<bZ.offsetWidth){bY.width(bZ.offsetWidth)}}else{if(b2){bY.width(bZ.offsetWidth)}else{if(b0){bY.width(b0)}}}}az(bX,bY[0]);if(b3){var cb=0;for(b4=0;b4<b7.length;b4++){bV=bU[b7[b4]];bR=bo(b6[b4]).outerWidth();cb+=bV.sWidthOrig===null?bR:parseInt(bV.sWidth,10)+bR-bo(b6[b4]).width()}bY.width(bK(cb));b5.style.width=bK(cb)}for(b4=0;b4<b7.length;b4++){bV=bU[b7[b4]];b1=bo(b6[b4]).width();if(b1){bV.sWidth=bK(b1)}}b5.style.width=bK(bY.css("width"));bY.remove()}if(b0){b5.style.width=bK(b0)}if((b0||b3)&&!bX._reszEvt){bo(b).bind("resize.DT-"+bX.sInstance,al(function(){aJ(bX)}));bX._reszEvt=true}}function al(bR,bU){var bT=bU!==c?bU:200,bS,bV;return function(){var bY=this,bX=+new Date(),bW=arguments;if(bS&&bX<bS+bT){clearTimeout(bV);bV=setTimeout(function(){bS=c;bR.apply(bY,bW)},bT)}else{bS=bX;bR.apply(bY,bW)}}}function ag(bS,bR){if(!bS){return 0}var bU=bo("<div/>").css("width",bK(bS)).appendTo(bR||a.body);var bT=bU[0].offsetWidth;bU.remove();return bT}function az(bT,bU){var bR=bT.oScroll;if(bR.sX||bR.sY){var bS=!bR.sX?bR.iBarWidth:0;bU.style.width=bK(bo(bU).outerWidth()-bS)}}function aK(bS,bU){var bR=ab(bS,bU);if(bR<0){return null}var bT=bS.aoData[bR];return !bT.nTr?bo("<td/>").html(bv(bS,bR,bU,"display"))[0]:bT.anCells[bU]}function ab(bW,bX){var bV,bR=-1,bT=-1;for(var bU=0,bS=bW.aoData.length;bU<bS;bU++){bV=bv(bW,bU,bX,"display")+"";bV=bV.replace(a1,"");if(bV.length>bR){bR=bV.length;bT=bU}}return bT}function bK(bR){if(bR===null){return"0px"}if(typeof bR=="number"){return bR<0?"0px":bR+"px"}return bR.match(/\d$/)?bR+"px":bR}function bb(){if(!N.__scrollbarWidth){var bT=bo("<p/>").css({width:"100%",height:200,padding:0})[0];var bU=bo("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(bT).appendTo("body");var bS=bT.offsetWidth;bU.css("overflow","scroll");var bR=bT.offsetWidth;if(bS===bR){bR=bU[0].clientWidth}bU.remove();N.__scrollbarWidth=bS-bR}return N.__scrollbarWidth}function aI(bU){var bZ,bT,bW,b0,bX=[],b2=[],b4=bU.aoColumns,bY,b3,bR,b1,bV=bU.aaSortingFixed,b6=bo.isPlainObject(bV),bS=[],b5=function(b7){if(b7.length&&!bo.isArray(b7[0])){bS.push(b7)}else{bS.push.apply(bS,b7)}};if(bo.isArray(bV)){b5(bV)}if(b6&&bV.pre){b5(bV.pre)}b5(bU.aaSorting);if(b6&&bV.post){b5(bV.post)}for(bZ=0;bZ<bS.length;bZ++){b1=bS[bZ][0];bY=b4[b1].aDataSort;for(bW=0,b0=bY.length;bW<b0;bW++){b3=bY[bW];bR=b4[b3].sType||"string";if(bS[bZ]._idx===c){bS[bZ]._idx=bo.inArray(bS[bZ][1],b4[b3].asSorting)}bX.push({src:b1,col:b3,dir:bS[bZ][1],index:bS[bZ]._idx,type:bR,formatter:N.ext.type.order[bR+"-pre"]})}}return bX}function x(bW){var b8,bU,b5,b7,b9,b4,bR,b1,bX,cd=[],b0=N.ext.type.order,b2=bW.aoData,b6=bW.aoColumns,bS,cc,bV,bZ,b3,ca=0,bY,bT=bW.aiDisplayMaster,cb;v(bW);cb=aI(bW);for(b8=0,bU=cb.length;b8<bU;b8++){bY=cb[b8];if(bY.formatter){ca++}G(bW,bY.col)}if(y(bW)!="ssp"&&cb.length!==0){for(b8=0,b5=bT.length;b8<b5;b8++){cd[bT[b8]]=b8}if(ca===cb.length){bT.sort(function(cm,cl){var cn,ck,ce,cj,cf,cg=cb.length,ci=b2[cm]._aSortData,ch=b2[cl]._aSortData;for(ce=0;ce<cg;ce++){cf=cb[ce];cn=ci[cf.col];ck=ch[cf.col];cj=cn<ck?-1:cn>ck?1:0;if(cj!==0){return cf.dir==="asc"?cj:-cj}}cn=cd[cm];ck=cd[cl];return cn<ck?-1:cn>ck?1:0})}else{bT.sort(function(co,cn){var cp,cm,cf,ce,ck,cg,cl,ch=cb.length,cj=b2[co]._aSortData,ci=b2[cn]._aSortData;for(cf=0;cf<ch;cf++){cg=cb[cf];cp=cj[cg.col];cm=ci[cg.col];cl=b0[cg.type+"-"+cg.dir]||b0["string-"+cg.dir];ck=cl(cp,cm);if(ck!==0){return ck}}cp=cd[co];cm=cd[cn];return cp<cm?-1:cp>cm?1:0})}}bW.bSorted=true}function bd(bV){var b1;var b0;var bW=bV.aoColumns;var bX=aI(bV);var bY=bV.oLanguage.oAria;for(var bZ=0,bT=bW.length;bZ<bT;bZ++){var bS=bW[bZ];var bU=bS.asSorting;var b2=bS.sTitle.replace(/<.*?>/g,"");var bR=bS.nTh;bR.removeAttribute("aria-sort");if(bS.bSortable){if(bX.length>0&&bX[0].col==bZ){bR.setAttribute("aria-sort",bX[0].dir=="asc"?"ascending":"descending");b0=bU[bX[0].index+1]||bU[0]}else{b0=bU[0]}b1=b2+(b0==="asc"?bY.sSortAscending:bY.sSortDescending)}else{b1=b2}bR.setAttribute("aria-label",b1)}}function bj(bU,bW,bR,b0){var bS=bU.aoColumns[bW];var bY=bU.aaSorting;var bV=bS.asSorting;var bZ;var bX=function(b2,b3){var b1=b2._idx;if(b1===c){b1=bo.inArray(b2[1],bV)}return b1+1<bV.length?b1+1:b3?null:0};if(typeof bY[0]==="number"){bY=bU.aaSorting=[bY]}if(bR&&bU.oFeatures.bSortMulti){var bT=bo.inArray(bW,au(bY,"0"));if(bT!==-1){bZ=bX(bY[bT],true);if(bZ===null){bY.splice(bT,1)}else{bY[bT][1]=bV[bZ];bY[bT]._idx=bZ}}else{bY.push([bW,bV[0],0]);bY[bY.length-1]._idx=0}}else{if(bY.length&&bY[0][0]==bW){bZ=bX(bY[0]);bY.length=1;bY[0][1]=bV[bZ];bY[0]._idx=bZ}else{bY.length=0;bY.push([bW,bV[0]]);bY[0]._idx=0}}ai(bU);if(typeof b0=="function"){b0(bU)}}function C(bT,bS,bV,bU){var bR=bT.aoColumns[bV];bc(bS,{},function(bW){if(bR.bSortable===false){return}if(bT.oFeatures.bProcessing){w(bT,true);setTimeout(function(){bj(bT,bV,bW.shiftKey,bU);if(y(bT)!=="ssp"){w(bT,false)}},0)}else{bj(bT,bV,bW.shiftKey,bU)}})}function ae(bW){var bX=bW.aLastSort;var bS=bW.oClasses.sSortColumn;var bU=aI(bW);var bV=bW.oFeatures;var bT,bR,bY;if(bV.bSort&&bV.bSortClasses){for(bT=0,bR=bX.length;bT<bR;bT++){bY=bX[bT].src;bo(au(bW.aoData,"anCells",bY)).removeClass(bS+(bT<2?bT+1:3))}for(bT=0,bR=bU.length;bT<bR;bT++){bY=bU[bT].src;bo(au(bW.aoData,"anCells",bY)).addClass(bS+(bT<2?bT+1:3))}}bW.aLastSort=bU}function G(bR,bW){var bS=bR.aoColumns[bW];var b0=N.ext.order[bS.sSortDataType];var bY;if(b0){bY=b0.call(bR.oInstance,bR,bW,bJ(bR,bW))}var bZ,bU;var bV=N.ext.type.order[bS.sType+"-pre"];for(var bT=0,bX=bR.aoData.length;bT<bX;bT++){bZ=bR.aoData[bT];if(!bZ._aSortData){bZ._aSortData=[]}if(!bZ._aSortData[bW]||b0){bU=b0?bY[bT]:bv(bR,bT,bW,"sort");bZ._aSortData[bW]=bV?bV(bU):bU}}}function bp(bR){if(!bR.oFeatures.bStateSave||bR.bDestroying){return}var bS={time:+new Date(),start:bR._iDisplayStart,length:bR._iDisplayLength,order:bo.extend(true,[],bR.aaSorting),search:bz(bR.oPreviousSearch),columns:bo.map(bR.aoColumns,function(bT,bU){return{visible:bT.bVisible,search:bz(bR.aoPreSearchCols[bU])}})};L(bR,"aoStateSaveParams","stateSaveParams",[bR,bS]);bR.oSavedState=bS;bR.fnStateSaveCallback.call(bR.oInstance,bR,bS)}function bO(bT,bY){var bW,bZ;var bU=bT.aoColumns;if(!bT.oFeatures.bStateSave){return}var bR=bT.fnStateLoadCallback.call(bT.oInstance,bT);if(!bR||!bR.time){return}var bX=L(bT,"aoStateLoadParams","stateLoadParams",[bT,bR]);if(bo.inArray(false,bX)!==-1){return}var bV=bT.iStateDuration;if(bV>0&&bR.time<+new Date()-(bV*1000)){return}if(bU.length!==bR.columns.length){return}bT.oLoadedState=bo.extend(true,{},bR);bT._iDisplayStart=bR.start;bT.iInitDisplayStart=bR.start;bT._iDisplayLength=bR.length;bT.aaSorting=[];bo.each(bR.order,function(b1,b0){bT.aaSorting.push(b0[0]>=bU.length?[0,b0[1]]:b0)});bo.extend(bT.oPreviousSearch,aF(bR.search));for(bW=0,bZ=bR.columns.length;bW<bZ;bW++){var bS=bR.columns[bW];bU[bW].bVisible=bS.visible;bo.extend(bT.aoPreSearchCols[bW],aF(bS.search))}L(bT,"aoStateLoaded","stateLoaded",[bT,bR])}function an(bT){var bS=N.settings;var bR=bo.inArray(bT,au(bS,"nTable"));return bR!==-1?bS[bR]:null}function aN(bU,bW,bV,bR){bV="DataTables warning: "+(bU!==null?"table id="+bU.sTableId+" - ":"")+bV;if(bR){bV+=". For more information about this error, please see http://datatables.net/tn/"+bR}if(!bW){var bT=N.ext;var bS=bT.sErrMode||bT.errMode;L(bU,null,"error",[bU,bR,bV]);if(bS=="alert"){alert(bV)}else{if(bS=="throw"){throw new Error(bV)}else{if(typeof bS=="function"){bS(bU,bR,bV)}}}}else{if(b.console&&console.log){console.log(bV)}}}function R(bS,bU,bR,bT){if(bo.isArray(bR)){bo.each(bR,function(bV,bW){if(bo.isArray(bW)){R(bS,bU,bW[0],bW[1])}else{R(bS,bU,bW)}});return}if(bT===c){bT=bR}if(bU[bR]!==c){bS[bT]=bU[bR]}}function aX(bR,bT,bS){var bU;for(var bV in bT){if(bT.hasOwnProperty(bV)){bU=bT[bV];if(bo.isPlainObject(bU)){if(!bo.isPlainObject(bR[bV])){bR[bV]={}}bo.extend(true,bR[bV],bU)}else{if(bS&&bV!=="data"&&bV!=="aaData"&&bo.isArray(bU)){bR[bV]=bU.slice()}else{bR[bV]=bU}}}}return bR}function bc(bT,bS,bR){bo(bT).bind("click.DT",bS,function(bU){bT.blur();bR(bU)}).bind("keypress.DT",bS,function(bU){if(bU.which===13){bU.preventDefault();bR(bU)}}).bind("selectstart.DT",function(){return false})}function bN(bU,bS,bR,bT){if(bR){bU[bS].push({fn:bR,sName:bT})}}function L(bT,bU,bV,bS){var bR=[];if(bU){bR=bo.map(bT[bU].slice().reverse(),function(bX,bW){return bX.fn.apply(bT.oInstance,bS)})}if(bV!==null){bo(bT.nTable).trigger(bV+".dt",bS)}return bR}function bl(bT){var bU=bT._iDisplayStart,bS=bT.fnDisplayEnd(),bR=bT._iDisplayLength;if(bU>=bS){bU=bS-bR}bU-=(bU%bR);if(bR===-1||bU<0){bU=0}bT._iDisplayStart=bU}function S(bS,bR){var bU=bS.renderer;var bT=N.ext.renderer[bR];if(bo.isPlainObject(bU)&&bU[bR]){return bT[bU[bR]]||bT._}else{if(typeof bU==="string"){return bT[bU]||bT._}}return bT._}function y(bR){if(bR.oFeatures.bServerSide){return"ssp"}else{if(bR.ajax||bR.sAjaxSource){return"ajax"}}return"dom"}N=function(bT){this.jQueryTS=function(bX,bW){return this.api(true).jQueryTS(bX,bW)};this._=function(bX,bW){return this.api(true).rows(bX,bW).data()};this.api=function(bW){return bW?new J(an(this[I.iApiIndex])):new J(this)};this.fnAddData=function(bY,bZ){var bW=this.api(true);var bX=bo.isArray(bY)&&(bo.isArray(bY[0])||bo.isPlainObject(bY[0]))?bW.rows.add(bY):bW.row.add(bY);if(bZ===c||bZ){bW.draw()}return bX.flatten().toArray()};this.fnAdjustColumnSizing=function(bZ){var bY=this.api(true).columns.adjust();var bX=bY.settings()[0];var bW=bX.oScroll;if(bZ===c||bZ){bY.draw(false)}else{if(bW.sX!==""||bW.sY!==""){l(bX)}}};this.fnClearTable=function(bX){var bW=this.api(true).clear();if(bX===c||bX){bW.draw()}};this.fnClose=function(bW){this.api(true).row(bW).child.hide()};this.fnDeleteRow=function(b0,b2,b1){var bX=this.api(true);var bZ=bX.rows(b0);var bW=bZ.settings()[0];var bY=bW.aoData[bZ[0][0]];bZ.remove();if(b2){b2.call(this,bW,bY)}if(b1===c||b1){bX.draw()}return bY};this.fnDestroy=function(bW){this.api(true).destroy(bW)};this.fnDraw=function(bW){this.api(true).draw(!bW)};this.fnFilter=function(b0,bX,bY,b2,b1,bW){var bZ=this.api(true);if(bX===null||bX===c){bZ.search(b0,bY,b2,bW)}else{bZ.column(bX).search(b0,bY,b2,bW)}bZ.draw()};this.fnGetData=function(bZ,bW){var bY=this.api(true);if(bZ!==c){var bX=bZ.nodeName?bZ.nodeName.toLowerCase():"";return bW!==c||bX=="td"||bX=="th"?bY.cell(bZ,bW).data():bY.row(bZ).data()||null}return bY.data().toArray()};this.fnGetNodes=function(bX){var bW=this.api(true);return bX!==c?bW.row(bX).node():bW.rows().nodes().flatten().toArray()};this.fnGetPosition=function(bY){var bX=this.api(true);var bZ=bY.nodeName.toUpperCase();if(bZ=="TR"){return bX.row(bY).index()}else{if(bZ=="TD"||bZ=="TH"){var bW=bX.cell(bY).index();return[bW.row,bW.columnVisible,bW.column]}}return null};this.fnIsOpen=function(bW){return this.api(true).row(bW).child.isShown()};this.fnOpen=function(bX,bW,bY){return this.api(true).row(bX).child(bW,bY).show().child()[0]};this.fnPageChange=function(bW,bY){var bX=this.api(true).page(bW);if(bY===c||bY){bX.draw(false)}};this.fnSetColumnVis=function(bX,bW,bZ){var bY=this.api(true).column(bX).visible(bW);if(bZ===c||bZ){bY.columns.adjust().draw()}};this.fnSettings=function(){return an(this[I.iApiIndex])};this.fnSort=function(bW){this.api(true).order(bW).draw()};this.fnSortListener=function(bX,bW,bY){this.api(true).order.listener(bX,bW,bY)};this.fnUpdate=function(b0,bZ,bW,b1,bY){var bX=this.api(true);if(bW===c||bW===null){bX.row(bZ).data(b0)}else{bX.cell(bZ,bW).data(b0)}if(bY===c||bY){bX.columns.adjust()}if(b1===c||b1){bX.draw()}return 0};this.fnVersionCheck=I.fnVersionCheck;var bU=this;var bS=bT===c;var bR=this.length;if(bS){bT={}}this.oApi=this.internal=I.internal;for(var bV in N.ext.internal){if(bV){this[bV]=ah(bV)}}this.each(function(){var cg={};var cc=bR>1?aX(cg,bT,true):bT;var cm=0,ck,cl,cp,cj,bW;var b7=this.getAttribute("id");var b5=false;var ca=N.defaults;var b6=bo(this);if(this.nodeName.toLowerCase()!="table"){aN(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}a4(ca);X(ca.column);aa(ca,ca,true);aa(ca.column,ca.column,true);aa(ca,bo.extend(cc,b6.data()));var b2=N.settings;for(cm=0,ck=b2.length;cm<ck;cm++){var cd=b2[cm];if(cd.nTable==this||cd.nTHead.parentNode==this||(cd.nTFoot&&cd.nTFoot.parentNode==this)){var ci=cc.bRetrieve!==c?cc.bRetrieve:ca.bRetrieve;var b9=cc.bDestroy!==c?cc.bDestroy:ca.bDestroy;if(bS||ci){return cd.oInstance}else{if(b9){cd.oInstance.fnDestroy();break}else{aN(cd,0,"Cannot reinitialise DataTable",3);return}}}if(cd.sTableId==this.id){b2.splice(cm,1);break}}if(b7===null||b7===""){b7="DataTables_Table_"+(N.ext._unique++);this.id=b7}var b3=bo.extend(true,{},N.models.oSettings,{nTable:this,oApi:bU.internal,oInit:cc,sDestroyWidth:b6[0].style.width,sInstance:b7,sTableId:b7});b2.push(b3);b3.oInstance=(bU.length===1)?bU:b6.dataTable();a4(cc);if(cc.oLanguage){aS(cc.oLanguage)}if(cc.aLengthMenu&&!cc.iDisplayLength){cc.iDisplayLength=bo.isArray(cc.aLengthMenu[0])?cc.aLengthMenu[0][0]:cc.aLengthMenu[0]}cc=aX(bo.extend(true,{},ca),cc);R(b3.oFeatures,cc,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]);R(b3,cc,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bjQueryTSUI","bJUI"]]);R(b3.oScroll,cc,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);R(b3.oLanguage,cc,"fnInfoCallback");bN(b3,"aoDrawCallback",cc.fnDrawCallback,"user");bN(b3,"aoServerParams",cc.fnServerParams,"user");bN(b3,"aoStateSaveParams",cc.fnStateSaveParams,"user");bN(b3,"aoStateLoadParams",cc.fnStateLoadParams,"user");bN(b3,"aoStateLoaded",cc.fnStateLoaded,"user");bN(b3,"aoRowCallback",cc.fnRowCallback,"user");bN(b3,"aoRowCreatedCallback",cc.fnCreatedRow,"user");bN(b3,"aoHeaderCallback",cc.fnHeaderCallback,"user");bN(b3,"aoFooterCallback",cc.fnFooterCallback,"user");bN(b3,"aoInitComplete",cc.fnInitComplete,"user");bN(b3,"aoPreDrawCallback",cc.fnPreDrawCallback,"user");var b8=b3.oClasses;if(cc.bjQueryTSUI){bo.extend(b8,N.ext.oJUIClasses,cc.oClasses);if(cc.sDom===ca.sDom&&ca.sDom==="lfrtip"){b3.sDom='<"H"lfr>t<"F"ip>'}if(!b3.renderer){b3.renderer="jQueryTSui"}else{if(bo.isPlainObject(b3.renderer)&&!b3.renderer.header){b3.renderer.header="jQueryTSui"}}}else{bo.extend(b8,N.ext.classes,cc.oClasses)}b6.addClass(b8.sTable);if(b3.oScroll.sX!==""||b3.oScroll.sY!==""){b3.oScroll.iBarWidth=bb()}if(b3.oScroll.sX===true){b3.oScroll.sX="100%"}if(b3.iInitDisplayStart===c){b3.iInitDisplayStart=cc.iDisplayStart;b3._iDisplayStart=cc.iDisplayStart}if(cc.iDeferLoading!==null){b3.bDeferLoading=true;var cq=bo.isArray(cc.iDeferLoading);b3._iRecordsDisplay=cq?cc.iDeferLoading[0]:cc.iDeferLoading;b3._iRecordsTotal=cq?cc.iDeferLoading[1]:cc.iDeferLoading}var cf=b3.oLanguage;bo.extend(true,cf,cc.oLanguage);if(cf.sUrl!==""){bo.ajax({dataType:"json",url:cf.sUrl,success:function(cs){aS(cs);aa(ca.oLanguage,cs);bo.extend(true,cf,cs);h(b3)},error:function(){h(b3)}});b5=true}if(cc.asStripeClasses===null){b3.asStripeClasses=[b8.sStripeOdd,b8.sStripeEven]}var cn=b3.asStripeClasses;var b1=bo("tbody tr",this).eq(0);if(bo.inArray(true,bo.map(cn,function(ct,cs){return b1.hasClass(ct)}))!==-1){bo("tbody tr",this).removeClass(cn.join(" "));b3.asDestroyStripes=cn.slice()}var ch=[];var b0;var ce=this.getElementsByTagName("thead");if(ce.length!==0){aw(b3.aoHeader,ce[0]);ch=bh(b3)}if(cc.aoColumns===null){b0=[];for(cm=0,ck=ch.length;cm<ck;cm++){b0.push(null)}}else{b0=cc.aoColumns}for(cm=0,ck=b0.length;cm<ck;cm++){O(b3,ch?ch[cm]:null)}k(b3,cc.aoColumnDefs,b0,function(ct,cs){a2(b3,ct,cs)});if(b1.length){var cr=function(cs,ct){return cs.getAttribute("data-"+ct)!==null?ct:null};bo.each(bf(b3,b1[0]).cells,function(cv,cs){var ct=b3.aoColumns[cv];if(ct.mData===cv){var cu=cr(cs,"sort")||cr(cs,"order");var cw=cr(cs,"filter")||cr(cs,"search");if(cu!==null||cw!==null){ct.mData={_:cv+".display",sort:cu!==null?cv+".@data-"+cu:c,type:cu!==null?cv+".@data-"+cu:c,filter:cw!==null?cv+".@data-"+cw:c};a2(b3,cv)}}})}var b4=b3.oFeatures;if(cc.bStateSave){b4.bStateSave=true;bO(b3,cc);bN(b3,"aoDrawCallback",bp,"state_save")}if(cc.aaSorting===c){var bZ=b3.aaSorting;for(cm=0,ck=bZ.length;cm<ck;cm++){bZ[cm][1]=b3.aoColumns[cm].asSorting[0]}}ae(b3);if(b4.bSort){bN(b3,"aoDrawCallback",function(){if(b3.bSorted){var cs=aI(b3);var ct={};bo.each(cs,function(cu,cv){ct[cv.src]=cv.dir});L(b3,null,"order",[b3,cs,ct]);bd(b3)}})}bN(b3,"aoDrawCallback",function(){if(b3.bSorted||y(b3)==="ssp"||b4.bDeferRender){ae(b3)}},"sc");be(b3);var bY=b6.children("caption").each(function(){this._captionSide=b6.css("caption-side")});var co=b6.children("thead");if(co.length===0){co=bo("<thead/>").appendTo(this)}b3.nTHead=co[0];var bX=b6.children("tbody");if(bX.length===0){bX=bo("<tbody/>").appendTo(this)}b3.nTBody=bX[0];var cb=b6.children("tfoot");if(cb.length===0&&bY.length>0&&(b3.oScroll.sX!==""||b3.oScroll.sY!=="")){cb=bo("<tfoot/>").appendTo(this)}if(cb.length===0||cb.children().length===0){b6.addClass(b8.sNoFooter)}else{if(cb.length>0){b3.nTFoot=cb[0];aw(b3.aoFooter,b3.nTFoot)}}if(cc.aaData){for(cm=0;cm<cc.aaData.length;cm++){aO(b3,cc.aaData[cm])}}else{if(b3.bDeferLoading||y(b3)=="dom"){bQ(b3,bo(b3.nTBody).children("tr"))}}b3.aiDisplay=b3.aiDisplayMaster.slice();b3.bInitialised=true;if(b5===false){h(b3)}});bU=null;return this};var U=[];var o=Array.prototype;var bP=function(bT){var bR,bV;var bU=N.settings;var bS=bo.map(bU,function(bX,bW){return bX.nTable});if(!bT){return[]}else{if(bT.nTable&&bT.oApi){return[bT]}else{if(bT.nodeName&&bT.nodeName.toLowerCase()==="table"){bR=bo.inArray(bT,bS);return bR!==-1?[bU[bR]]:null}else{if(bT&&typeof bT.settings==="function"){return bT.settings().toArray()}else{if(typeof bT==="string"){bV=bo(bT)}else{if(bT instanceof bo){bV=bT}}}}}}if(bV){return bV.map(function(bW){bR=bo.inArray(this,bS);return bR!==-1?bU[bR]:null}).toArray()}};J=function(bT,bV){if(!this instanceof J){throw"DT API must be constructed as a new object"}var bU=[];var bW=function(bY){var bX=bP(bY);if(bX){bU.push.apply(bU,bX)}};if(bo.isArray(bT)){for(var bS=0,bR=bT.length;bS<bR;bS++){bW(bT[bS])}}else{bW(bT)}this.context=aH(bU);if(bV){this.push.apply(this,bV.toArray?bV.toArray():bV)}this.selector={rows:null,cols:null,opts:null};J.extend(this,this,U)};N.Api=J;J.prototype={concat:o.concat,context:[],each:function(bT){for(var bS=0,bR=this.length;bS<bR;bS++){bT.call(this,this[bS],bS,this)}return this},eq:function(bR){var bS=this.context;return bS.length>bR?new J(bS[bR],this[bR]):null},filter:function(bU){var bS=[];if(o.filter){bS=o.filter.call(this,bU,this)}else{for(var bT=0,bR=this.length;bT<bR;bT++){if(bU.call(this,this[bT],bT,this)){bS.push(this[bT])}}}return new J(this.context,bS)},flatten:function(){var bR=[];return new J(this.context,bR.concat.apply(bR,this.toArray()))},join:o.join,indexOf:o.indexOf||function(bT,bU){for(var bS=(bU||0),bR=this.length;bS<bR;bS++){if(this[bS]===bT){return bS}}return -1},iterator:function(b8,bT,bU,bW){var b6=[],b7,b3,bR,b1,b0,bS=this.context,bV,bY,b5,b2=this.selector;if(typeof b8==="string"){bW=bU;bU=bT;bT=b8;b8=false}for(b3=0,bR=bS.length;b3<bR;b3++){var bZ=new J(bS[b3]);if(bT==="table"){b7=bU.call(bZ,bS[b3],b3);if(b7!==c){b6.push(b7)}}else{if(bT==="columns"||bT==="rows"){b7=bU.call(bZ,bS[b3],this[b3],b3);if(b7!==c){b6.push(b7)}}else{if(bT==="column"||bT==="column-rows"||bT==="row"||bT==="cell"){bY=this[b3];if(bT==="column-rows"){bV=aP(bS[b3],b2.opts)}for(b1=0,b0=bY.length;b1<b0;b1++){b5=bY[b1];if(bT==="cell"){b7=bU.call(bZ,bS[b3],b5.row,b5.column,b3,b1)}else{b7=bU.call(bZ,bS[b3],b5,b3,b1,bV)}if(b7!==c){b6.push(b7)}}}}}}if(b6.length||bW){var bX=new J(bS,b8?b6.concat.apply([],b6):b6);var b4=bX.selector;b4.rows=b2.rows;b4.cols=b2.cols;b4.opts=b2.opts;return bX}return this},lastIndexOf:o.lastIndexOf||function(bR,bS){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(bU){var bS=[];if(o.map){bS=o.map.call(this,bU,this)}else{for(var bT=0,bR=this.length;bT<bR;bT++){bS.push(bU.call(this,this[bT],bT))}}return new J(this.context,bS)},pluck:function(bR){return this.map(function(bS){return bS[bR]})},pop:o.pop,push:o.push,reduce:o.reduce||function(bR,bS){return aV(this,bR,bS,0,this.length,1)},reduceRight:o.reduceRight||function(bR,bS){return aV(this,bR,bS,this.length-1,-1,-1)},reverse:o.reverse,selector:null,shift:o.shift,sort:o.sort,splice:o.splice,toArray:function(){return o.slice.call(this)},to$:function(){return bo(this)},tojQueryTS:function(){return bo(this)},unique:function(){return new J(this.context,aH(this))},unshift:o.unshift};J.extend=function(bZ,bV,bS){if(!bS.length||!bV||(!(bV instanceof J)&&!bV.__dt_wrapper)){return}var bW,bY,bU,bR,bT,b0,bX=function(b2,b1,b3){return function(){var b4=b1.apply(b2,arguments);J.extend(b4,b4,b3.methodExt);return b4}};for(bW=0,bY=bS.length;bW<bY;bW++){bT=bS[bW];bV[bT.name]=typeof bT.val==="function"?bX(bZ,bT.val,bT):bo.isPlainObject(bT.val)?{}:bT.val;bV[bT.name].__dt_wrapper=true;J.extend(bZ,bV[bT.name],bT.propExt)}};J.register=bk=function(bT,bV){if(bo.isArray(bT)){for(var bY=0,bU=bT.length;bY<bU;bY++){J.register(bT[bY],bV)}return}var bZ,b2,bW=bT.split("."),bX=U,b1,bS;var b0=function(b6,b4){for(var b5=0,b3=b6.length;b5<b3;b5++){if(b6[b5].name===b4){return b6[b5]}}return null};for(bZ=0,b2=bW.length;bZ<b2;bZ++){bS=bW[bZ].indexOf("()")!==-1;b1=bS?bW[bZ].replace("()",""):bW[bZ];var bR=b0(bX,b1);if(!bR){bR={name:b1,val:{},methodExt:[],propExt:[]};bX.push(bR)}if(bZ===b2-1){bR.val=bV}else{bX=bS?bR.methodExt:bR.propExt}}};J.registerPlural=aB=function(bR,bT,bS){J.register(bR,bS);J.register(bT,function(){var bU=bS.apply(this,arguments);if(bU===this){return this}else{if(bU instanceof J){return bU.length?bo.isArray(bU[0])?new J(bU.context,bU[0]):bU[0]:c}}return bU})};var d=function(bR,bS){if(typeof bR==="number"){return[bS[bR]]}var bT=bo.map(bS,function(bV,bU){return bV.nTable});return bo(bT).filter(bR).map(function(bV){var bU=bo.inArray(this,bT);return bS[bU]}).toArray()};bk("tables()",function(bR){return bR?new J(d(bR,this.context)):this});bk("table()",function(bR){var bT=this.tables(bR);var bS=bT.context;return bS.length?new J(bS[0]):bT});aB("tables().nodes()","table().node()",function(){return this.iterator("table",function(bR){return bR.nTable},1)});aB("tables().body()","table().body()",function(){return this.iterator("table",function(bR){return bR.nTBody},1)});aB("tables().header()","table().header()",function(){return this.iterator("table",function(bR){return bR.nTHead},1)});aB("tables().footer()","table().footer()",function(){return this.iterator("table",function(bR){return bR.nTFoot},1)});aB("tables().containers()","table().container()",function(){return this.iterator("table",function(bR){return bR.nTableWrapper},1)});bk("draw()",function(bR){return this.iterator("table",function(bS){ai(bS,bR===false)})});bk("page()",function(bR){if(bR===c){return this.page.info().page}return this.iterator("table",function(bS){aG(bS,bR)})});bk("page.info()",function(bV){if(this.context.length===0){return c}var bU=this.context[0],bW=bU._iDisplayStart,bR=bU._iDisplayLength,bS=bU.fnRecordsDisplay(),bT=bR===-1;return{page:bT?0:Math.floor(bW/bR),pages:bT?1:Math.ceil(bS/bR),start:bW,end:bU.fnDisplayEnd(),length:bR,recordsTotal:bU.fnRecordsTotal(),recordsDisplay:bS}});bk("page.len()",function(bR){if(bR===c){return this.context.length!==0?this.context[0]._iDisplayLength:c}return this.iterator("table",function(bS){aT(bS,bR)})});var H=function(bT,bR,bU){if(y(bT)=="ssp"){ai(bT,bR)}else{w(bT,true);av(bT,[],function(bX){bi(bT);var bY=bu(bT,bX);for(var bW=0,bV=bY.length;bW<bV;bW++){aO(bT,bY[bW])}ai(bT,bR);w(bT,false)})}if(bU){var bS=new J(bT);bS.one("draw",function(){bU(bS.ajax.json())})}};bk("ajax.json()",function(){var bR=this.context;if(bR.length>0){return bR[0].json}});bk("ajax.params()",function(){var bR=this.context;if(bR.length>0){return bR[0].oAjaxData}});bk("ajax.reload()",function(bS,bR){return this.iterator("table",function(bT){H(bT,bR===false,bS)})});bk("ajax.url()",function(bS){var bR=this.context;if(bS===c){if(bR.length===0){return c}bR=bR[0];return bR.ajax?bo.isPlainObject(bR.ajax)?bR.ajax.url:bR.ajax:bR.sAjaxSource}return this.iterator("table",function(bT){if(bo.isPlainObject(bT.ajax)){bT.ajax.url=bS}else{bT.ajax=bS}})});bk("ajax.url().load()",function(bS,bR){return this.iterator("table",function(bT){H(bT,bR===false,bS)})});var ap=function(bS,bY){var bT=[],bW,bX,bV,b0,bU,bR,bZ=typeof bS;if(!bS||bZ==="string"||bZ==="function"||bS.length===c){bS=[bS]}for(bV=0,b0=bS.length;bV<b0;bV++){bX=bS[bV]&&bS[bV].split?bS[bV].split(","):[bS[bV]];for(bU=0,bR=bX.length;bU<bR;bU++){bW=bY(typeof bX[bU]==="string"?bo.trim(bX[bU]):bX[bU]);if(bW&&bW.length){bT.push.apply(bT,bW)}}}return bT};var bF=function(bR){if(!bR){bR={}}if(bR.filter&&!bR.search){bR.search=bR.filter}return{search:bR.search||"none",order:bR.order||"current",page:bR.page||"all"}};var z=function(bT){for(var bS=0,bR=bT.length;bS<bR;bS++){if(bT[bS].length>0){bT[0]=bT[bS];bT.length=1;bT.context=[bT.context[bS]];return bT}}bT.length=0;return bT};var aP=function(bT,bR){var bU,b0,bV,bY=[],bZ=bT.aiDisplay,bW=bT.aiDisplayMaster;var b1=bR.search,bS=bR.order,bX=bR.page;if(y(bT)=="ssp"){return b1==="removed"?[]:bg(0,bW.length)}else{if(bX=="current"){for(bU=bT._iDisplayStart,b0=bT.fnDisplayEnd();bU<b0;bU++){bY.push(bZ[bU])}}else{if(bS=="current"||bS=="applied"){bY=b1=="none"?bW.slice():b1=="applied"?bZ.slice():bo.map(bW,function(b3,b2){return bo.inArray(b3,bZ)===-1?b3:null})}else{if(bS=="index"||bS=="original"){for(bU=0,b0=bT.aoData.length;bU<b0;bU++){if(b1=="none"){bY.push(bU)}else{bV=bo.inArray(bU,bZ);if((bV===-1&&b1=="removed")||(bV>=0&&b1=="applied")){bY.push(bU)}}}}}}}return bY};var E=function(bS,bR,bT){return ap(bR,function(bZ){var bW=F(bZ);var bX,bU;if(bW!==null&&!bT){return[bW]}var bY=aP(bS,bT);if(bW!==null&&bo.inArray(bW,bY)!==-1){return[bW]}else{if(!bZ){return bY}}if(typeof bZ==="function"){return bo.map(bY,function(b0){var b1=bS.aoData[b0];return bZ(b0,b1._aData,b1.nTr)?b0:null})}var bV=ad(t(bS.aoData,bY,"nTr"));if(bZ.nodeName){if(bo.inArray(bZ,bV)!==-1){return[bZ._DT_RowIndex]}}return bo(bV).filter(bZ).map(function(){return this._DT_RowIndex}).toArray()})};bk("rows()",function(bR,bS){if(bR===c){bR=""}else{if(bo.isPlainObject(bR)){bS=bR;bR=""}}bS=bF(bS);var bT=this.iterator("table",function(bU){return E(bU,bR,bS)},1);bT.selector.rows=bR;bT.selector.opts=bS;return bT});bk("rows().nodes()",function(){return this.iterator("row",function(bR,bS){return bR.aoData[bS].nTr||c},1)});bk("rows().data()",function(){return this.iterator(true,"rows",function(bR,bS){return t(bR.aoData,bS,"_aData")},1)});aB("rows().cache()","row().cache()",function(bR){return this.iterator("row",function(bS,bU){var bT=bS.aoData[bU];return bR==="search"?bT._aFilterData:bT._aSortData},1)});aB("rows().invalidate()","row().invalidate()",function(bR){return this.iterator("row",function(bS,bT){B(bS,bT,bR)})});aB("rows().indexes()","row().index()",function(){return this.iterator("row",function(bR,bS){return bS},1)});aB("rows().remove()","row().remove()",function(){var bR=this;return this.iterator("row",function(bW,bY,bV){var bX=bW.aoData;bX.splice(bY,1);for(var bU=0,bT=bX.length;bU<bT;bU++){if(bX[bU].nTr!==null){bX[bU].nTr._DT_RowIndex=bU}}var bS=bo.inArray(bY,bW.aiDisplay);a5(bW.aiDisplayMaster,bY);a5(bW.aiDisplay,bY);a5(bR[bV],bY,false);bl(bW)})});bk("rows.add()",function(bT){var bS=this.iterator("table",function(bX){var bY,bW,bU;var bV=[];for(bW=0,bU=bT.length;bW<bU;bW++){bY=bT[bW];if(bY.nodeName&&bY.nodeName.toUpperCase()==="TR"){bV.push(bQ(bX,bY)[0])}else{bV.push(aO(bX,bY))}}return bV},1);var bR=this.rows(-1);bR.pop();bR.push.apply(bR,bS.toArray());return bR});bk("row()",function(bR,bS){return z(this.rows(bR,bS))});bk("row().data()",function(bS){var bR=this.context;if(bS===c){return bR.length&&this.length?bR[0].aoData[this[0]]._aData:c}bR[0].aoData[this[0]]._aData=bS;B(bR[0],this[0],"data");return this});bk("row().node()",function(){var bR=this.context;return bR.length&&this.length?bR[0].aoData[this[0]].nTr||null:null});bk("row.add()",function(bS){if(bS instanceof bo&&bS.length){bS=bS[0]}var bR=this.iterator("table",function(bT){if(bS.nodeName&&bS.nodeName.toUpperCase()==="TR"){return bQ(bT,bS)[0]}return aO(bT,bS)});return this.row(bR[0])});var Z=function(bU,bY,bX,bR){var bW=[];var bT=function(b0,bZ){if(b0.nodeName&&b0.nodeName.toLowerCase()==="tr"){bW.push(b0)}else{var b1=bo("<tr><td/></tr>").addClass(bZ);bo("td",b1).addClass(bZ).html(b0)[0].colSpan=aQ(bU);bW.push(b1[0])}};if(bo.isArray(bX)||bX instanceof bo){for(var bV=0,bS=bX.length;bV<bS;bV++){bT(bX[bV],bR)}}else{bT(bX,bR)}if(bY._details){bY._details.remove()}bY._details=bo(bW);if(bY._detailsShow){bY._details.insertAfter(bY.nTr)}};var A=function(bT,bR){var bS=bT.context;if(bS.length){var bU=bS[0].aoData[bR!==c?bR:bT[0]];if(bU._details){bU._details.remove();bU._detailsShow=c;bU._details=c}}};var ba=function(bT,bS){var bR=bT.context;if(bR.length&&bT.length){var bU=bR[0].aoData[bT[0]];if(bU._details){bU._detailsShow=bS;if(bS){bU._details.insertAfter(bU.nTr)}else{bU._details.detach()}by(bR[0])}}};var by=function(bW){var bV=new J(bW);var bU=".dt.DT_details";var bT="draw"+bU;var bR="column-visibility"+bU;var bS="destroy"+bU;var bX=bW.aoData;bV.off(bT+" "+bR+" "+bS);if(au(bX,"_details").length>0){bV.on(bT,function(bZ,bY){if(bW!==bY){return}bV.rows({page:"current"}).eq(0).each(function(b0){var b1=bX[b0];if(b1._detailsShow){b1._details.insertAfter(b1.nTr)}})});bV.on(bR,function(b3,b0,bY,b2){if(bW!==b0){return}var b5,b4=aQ(b0);for(var b1=0,bZ=bX.length;b1<bZ;b1++){b5=bX[b1];if(b5._details){b5._details.children("td[colspan]").attr("colspan",b4)}}});bV.on(bS,function(b1,bZ){if(bW!==bZ){return}for(var b0=0,bY=bX.length;b0<bY;b0++){if(bX[b0]._details){A(bV,b0)}}})}};var n="";var s=n+"row().child";var aY=s+"()";bk(aY,function(bT,bR){var bS=this.context;if(bT===c){return bS.length&&this.length?bS[0].aoData[this[0]]._details:c}else{if(bT===true){this.child.show()}else{if(bT===false){A(this)}else{if(bS.length&&this.length){Z(bS[0],bS[0].aoData[this[0]],bT,bR)}}}}return this});bk([s+".show()",aY+".show()"],function(bR){ba(this,true);return this});bk([s+".hide()",aY+".hide()"],function(){ba(this,false);return this});bk([s+".remove()",aY+".remove()"],function(){A(this);return this});bk(s+".isShown()",function(){var bR=this.context;if(bR.length&&this.length){return bR[0].aoData[this[0]]._detailsShow||false}return false});var a9=/^(.+):(name|visIdx|visible)$/;var aZ=function(bW,bV,bU,bT,bX){var bS=[];for(var bY=0,bR=bX.length;bY<bR;bY++){bS.push(bv(bW,bX[bY],bV))}return bS};var bD=function(bU,bR,bV){var bT=bU.aoColumns,bW=au(bT,"sName"),bS=au(bT,"nTh");return ap(bR,function(b1){var bY=F(b1);if(b1===""){return bg(bT.length)}if(bY!==null){return[bY>=0?bY:bT.length+bY]}if(typeof b1==="function"){var b2=aP(bU,bV);return bo.map(bT,function(b4,b3){return b1(b3,aZ(bU,b3,0,0,b2),bS[b3])?b3:null})}var bZ=typeof b1==="string"?b1.match(a9):"";if(bZ){switch(bZ[2]){case"visIdx":case"visible":var bX=parseInt(bZ[1],10);if(bX<0){var b0=bo.map(bT,function(b3,b4){return b3.bVisible?b4:null});return[b0[b0.length+bX]]}return[r(bU,bX)];case"name":return bo.map(bW,function(b3,b4){return b3===bZ[1]?b4:null})}}else{return bo(bS).filter(b1).map(function(){return bo.inArray(this,bS)}).toArray()}})};var M=function(bT,bU,bR,bY){var b0=bT.aoColumns,bS=b0[bU],bW=bT.aoData,b3,b2,bV,b1,bZ;if(bR===c){return bS.bVisible}if(bS.bVisible===bR){return}if(bR){var bX=bo.inArray(true,au(b0,"bVisible"),bU+1);for(bV=0,b1=bW.length;bV<b1;bV++){bZ=bW[bV].nTr;b2=bW[bV].anCells;if(bZ){bZ.insertBefore(b2[bU],b2[bX]||null)}}}else{bo(au(bT.aoData,"anCells",bU)).detach()}bS.bVisible=bR;a6(bT,bT.aoHeader);a6(bT,bT.aoFooter);if(bY===c||bY){aJ(bT);if(bT.oScroll.sX||bT.oScroll.sY){l(bT)}}L(bT,null,"column-visibility",[bT,bU,bR]);bp(bT)};bk("columns()",function(bR,bS){if(bR===c){bR=""}else{if(bo.isPlainObject(bR)){bS=bR;bR=""}}bS=bF(bS);var bT=this.iterator("table",function(bU){return bD(bU,bR,bS)},1);bT.selector.cols=bR;bT.selector.opts=bS;return bT});aB("columns().header()","column().header()",function(bR,bS){return this.iterator("column",function(bU,bT){return bU.aoColumns[bT].nTh},1)});aB("columns().footer()","column().footer()",function(bR,bS){return this.iterator("column",function(bU,bT){return bU.aoColumns[bT].nTf},1)});aB("columns().data()","column().data()",function(){return this.iterator("column-rows",aZ,1)});aB("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(bS,bR){return bS.aoColumns[bR].mData},1)});aB("columns().cache()","column().cache()",function(bR){return this.iterator("column-rows",function(bV,bU,bT,bS,bW){return t(bV.aoData,bW,bR==="search"?"_aFilterData":"_aSortData",bU)},1)});aB("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(bU,bT,bS,bR,bV){return t(bU.aoData,bV,"anCells",bT)},1)});aB("columns().visible()","column().visible()",function(bS,bR){return this.iterator("column",function(bU,bT){if(bS===c){return bU.aoColumns[bT].bVisible}M(bU,bT,bS,bR)})});aB("columns().indexes()","column().index()",function(bR){return this.iterator("column",function(bT,bS){return bR==="visible"?bJ(bT,bS):bS},1)});bk("columns.adjust()",function(){return this.iterator("table",function(bR){aJ(bR)},1)});bk("column.index()",function(bT,bR){if(this.context.length!==0){var bS=this.context[0];if(bT==="fromVisible"||bT==="toData"){return r(bS,bR)}else{if(bT==="fromData"||bT==="toVisible"){return bJ(bS,bR)}}}});bk("column()",function(bR,bS){return z(this.columns(bR,bS))});var br=function(bU,bV,bR){var bY=bU.aoData;var b5=aP(bU,bR);var b3=ad(t(bY,b5,"anCells"));var b2=bo([].concat.apply([],b3));var b4;var bT=bU.aoColumns.length;var bZ,bX,b0,bW,bS,b1;return ap(bV,function(b6){var b7=typeof b6==="function";if(b6===null||b6===c||b7){bZ=[];for(bX=0,b0=b5.length;bX<b0;bX++){b4=b5[bX];for(bW=0;bW<bT;bW++){bS={row:b4,column:bW};if(b7){b1=bU.aoData[b4];if(b6(bS,bv(bU,b4,bW),b1.anCells[bW])){bZ.push(bS)}}else{bZ.push(bS)}}}return bZ}if(bo.isPlainObject(b6)){return[b6]}return b2.filter(b6).map(function(b8,b9){b4=b9.parentNode._DT_RowIndex;return{row:b4,column:bo.inArray(b9,bY[b4].anCells)}}).toArray()})};bk("cells()",function(bU,bR,bS){if(bo.isPlainObject(bU)){if(typeof bU.row!==c){bS=bR;bR=null}else{bS=bU;bU=null}}if(bo.isPlainObject(bR)){bS=bR;bR=null}if(bR===null||bR===c){return this.iterator("table",function(b2){return br(b2,bU,bF(bS))})}var bV=this.columns(bR,bS);var b1=this.rows(bU,bS);var bY,bX,bZ,bW,bT;var b0=this.iterator("table",function(b3,b2){bY=[];for(bX=0,bZ=b1[b2].length;bX<bZ;bX++){for(bW=0,bT=bV[b2].length;bW<bT;bW++){bY.push({row:b1[b2][bX],column:bV[b2][bW]})}}return bY},1);bo.extend(b0.selector,{cols:bR,rows:bU,opts:bS});return b0});aB("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(bT,bU,bS){var bR=bT.aoData[bU].anCells;return bR?bR[bS]:c},1)});bk("cells().data()",function(){return this.iterator("cell",function(bS,bT,bR){return bv(bS,bT,bR)},1)});aB("cells().cache()","cell().cache()",function(bR){bR=bR==="search"?"_aFilterData":"_aSortData";return this.iterator("cell",function(bT,bU,bS){return bT.aoData[bU][bR][bS]},1)});aB("cells().render()","cell().render()",function(bR){return this.iterator("cell",function(bT,bU,bS){return bv(bT,bU,bS,bR)},1)});aB("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(bS,bT,bR){return{row:bT,column:bR,columnVisible:bJ(bS,bR)}},1)});aB("cells().invalidate()","cell().invalidate()",function(bR){return this.iterator("cell",function(bT,bU,bS){B(bT,bU,bR,bS)})});bk("cell()",function(bR,bT,bS){return z(this.cells(bR,bT,bS))});bk("cell().data()",function(bT){var bS=this.context;var bR=this[0];if(bT===c){return bS.length&&bR.length?bv(bS[0],bR[0].row,bR[0].column):c}bm(bS[0],bR[0].row,bR[0].column,bT);B(bS[0],bR[0].row,"data",bR[0].column);return this});bk("order()",function(bR,bT){var bS=this.context;if(bR===c){return bS.length!==0?bS[0].aaSorting:c}if(typeof bR==="number"){bR=[[bR,bT]]}else{if(!bo.isArray(bR[0])){bR=Array.prototype.slice.call(arguments)}}return this.iterator("table",function(bU){bU.aaSorting=bR.slice()})});bk("order.listener()",function(bS,bR,bT){return this.iterator("table",function(bU){C(bU,bS,bR,bT)})});bk(["columns().order()","column().order()"],function(bR){var bS=this;return this.iterator("table",function(bV,bU){var bT=[];bo.each(bS[bU],function(bX,bW){bT.push([bW,bR])});bV.aaSorting=bT})});bk("search()",function(bS,bU,bV,bT){var bR=this.context;if(bS===c){return bR.length!==0?bR[0].oPreviousSearch.sSearch:c}return this.iterator("table",function(bW){if(!bW.oFeatures.bFilter){return}u(bW,bo.extend({},bW.oPreviousSearch,{sSearch:bS+"",bRegex:bU===null?false:bU,bSmart:bV===null?true:bV,bCaseInsensitive:bT===null?true:bT}),1)})});aB("columns().search()","column().search()",function(bR,bT,bU,bS){return this.iterator("column",function(bX,bW){var bV=bX.aoPreSearchCols;if(bR===c){return bV[bW].sSearch}if(!bX.oFeatures.bFilter){return}bo.extend(bV[bW],{sSearch:bR+"",bRegex:bT===null?false:bT,bSmart:bU===null?true:bU,bCaseInsensitive:bS===null?true:bS});u(bX,bX.oPreviousSearch,1)})});bk("state()",function(){return this.context.length?this.context[0].oSavedState:null});bk("state.clear()",function(){return this.iterator("table",function(bR){bR.fnStateSaveCallback.call(bR.oInstance,bR,{})})});bk("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});bk("state.save()",function(){return this.iterator("table",function(bR){bp(bR)})});N.versionCheck=N.fnVersionCheck=function(bT){var bX=N.version.split(".");var bU=bT.split(".");var bS,bW;for(var bV=0,bR=bU.length;bV<bR;bV++){bS=parseInt(bX[bV],10)||0;bW=parseInt(bU[bV],10)||0;if(bS===bW){continue}return bS>bW}return true};N.isDataTable=N.fnIsDataTable=function(bT){var bR=bo(bT).get(0);var bS=false;bo.each(N.settings,function(bU,bV){if(bV.nTable===bR||bo("table",bV.nScrollHead)[0]===bR||bo("table",bV.nScrollFoot)[0]===bR){bS=true}});return bS};N.tables=N.fnTables=function(bR){return bo.map(N.settings,function(bS){if(!bR||(bR&&bo(bS.nTable).is(":visible"))){return bS.nTable}})};N.util={throttle:al,escapeRegex:m};N.camelToHungarian=aa;bk("jQueryTS()",function(bR,bT){var bU=this.rows(bT).nodes(),bS=bo(bU);return bo([].concat(bS.filter(bR).toArray(),bS.find(bR).toArray()))});bo.each(["on","one","off"],function(bS,bR){bk(bR+"()",function(){var bT=Array.prototype.slice.call(arguments);if(!bT[0].match(/\.dt\b/)){bT[0]+=".dt"}var bU=bo(this.tables().nodes());bU[bR].apply(bU,bT);return this})});bk("clear()",function(){return this.iterator("table",function(bR){bi(bR)})});bk("settings()",function(){return new J(this.context,this.context)});bk("data()",function(){return this.iterator("table",function(bR){return au(bR.aoData,"_aData")}).flatten()});bk("destroy()",function(bR){bR=bR||false;return this.iterator("table",function(bS){var b1=bS.nTableWrapper.parentNode;var bT=bS.oClasses;var b3=bS.nTable;var bW=bS.nTBody;var bY=bS.nTHead;var bZ=bS.nTFoot;var b4=bo(b3);var bV=bo(bW);var bX=bo(bS.nTableWrapper);var b5=bo.map(bS.aoData,function(b6){return b6.nTr});var bU,b2;bS.bDestroying=true;L(bS,"aoDestroyCallback","destroy",[bS]);if(!bR){new J(bS).columns().visible(true)}bX.unbind(".DT").find(":not(tbody *)").unbind(".DT");bo(b).unbind(".DT-"+bS.sInstance);if(b3!=bY.parentNode){b4.children("thead").detach();b4.append(bY)}if(bZ&&b3!=bZ.parentNode){b4.children("tfoot").detach();b4.append(bZ)}b4.detach();bX.detach();bS.aaSorting=[];bS.aaSortingFixed=[];ae(bS);bo(b5).removeClass(bS.asStripeClasses.join(" "));bo("th, td",bY).removeClass(bT.sSortable+" "+bT.sSortableAsc+" "+bT.sSortableDesc+" "+bT.sSortableNone);if(bS.bJUI){bo("th span."+bT.sSortIcon+", td span."+bT.sSortIcon,bY).detach();bo("th, td",bY).each(function(){var b6=bo("div."+bT.sSortJUIWrapper,this);bo(this).append(b6.contents());b6.detach()})}if(!bR&&b1){b1.insertBefore(b3,bS.nTableReinsertBefore)}bV.children().detach();bV.append(b5);b4.css("width",bS.sDestroyWidth).removeClass(bT.sTable);b2=bS.asDestroyStripes.length;if(b2){bV.children().each(function(b6){bo(this).addClass(bS.asDestroyStripes[b6%b2])})}var b0=bo.inArray(bS,N.settings);if(b0!==-1){N.settings.splice(b0,1)}})});N.version="1.10.5";N.settings=[];N.models={};N.models.oSearch={bCaseInsensitive:true,sSearch:"",bRegex:false,bSmart:true};N.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null};N.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:false,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};N.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:true,bDeferRender:false,bDestroy:false,bFilter:true,bInfo:true,bjQueryTSUI:false,bLengthChange:true,bPaginate:true,bProcessing:false,bRetrieve:false,bScrollCollapse:false,bServerSide:false,bSort:true,bSortMulti:true,bSortCellsTop:false,bSortClasses:true,bStateSave:false,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(bR){return bR.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(bR){try{return JSON.parse((bR.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+bR.sInstance+"_"+location.pathname))}catch(bS){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(bR,bS){try{(bR.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+bR.sInstance+"_"+location.pathname,JSON.stringify(bS))}catch(bT){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:bo.extend({},N.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null};T(N.defaults);N.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:true,bSortable:true,bVisible:true,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};T(N.defaults.column);N.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:false,bScrollbarLeft:false},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:false,bInitialised:false,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:true,jqXHR:null,json:c,oAjaxData:c,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:false,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:false,bSorted:false,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return y(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return y(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var bR=this._iDisplayLength,bW=this._iDisplayStart,bT=bW+bR,bS=this.aiDisplay.length,bU=this.oFeatures,bV=bU.bPaginate;if(bU.bServerSide){return bV===false||bR===-1?bW+bS:Math.min(bW+bR,this._iRecordsDisplay)}else{return !bV||bT>bS||bR===-1?bS:bT}},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}};N.ext=I={buttons:{},classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:N.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:N.version};bo.extend(I,{afnFiltering:I.search,aTypes:I.type.detect,ofnSearch:I.type.search,oSort:I.type.order,afnSortData:I.order,aoFeatures:I.feature,oApi:I.internal,oStdClasses:I.classes,oPagination:I.pager});bo.extend(N.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});(function(){var bS="";bS="";var bT=bS+"ui-state-default";var bU=bS+"css_right ui-icon ui-icon-";var bR=bS+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";bo.extend(N.ext.oJUIClasses,N.ext.classes,{sPageButton:"fg-button ui-button "+bT,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:bT+" sorting_asc",sSortDesc:bT+" sorting_desc",sSortable:bT+" sorting",sSortableAsc:bT+" sorting_asc_disabled",sSortableDesc:bT+" sorting_desc_disabled",sSortableNone:bT+" sorting_disabled",sSortJUIAsc:bU+"triangle-1-n",sSortJUIDesc:bU+"triangle-1-s",sSortJUI:bU+"carat-2-n-s",sSortJUIAscAllowed:bU+"carat-1-n",sSortJUIDescAllowed:bU+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+bT,sScrollFoot:"dataTables_scrollFoot "+bT,sHeaderTH:bT,sFooterTH:bT,sJUIHeader:bR+" ui-corner-tl ui-corner-tr",sJUIFooter:bR+" ui-corner-bl ui-corner-br"})}());var bI=N.ext.pager;function bn(bW,bR){var bS=[],bU=bI.numbers_length,bV=Math.floor(bU/2),bT=1;if(bR<=bU){bS=bg(0,bR)}else{if(bW<=bV){bS=bg(0,bU-2);bS.push("ellipsis");bS.push(bR-1)}else{if(bW>=bR-1-bV){bS=bg(bR-(bU-2),bR);bS.splice(0,0,"ellipsis");bS.splice(0,0,0)}else{bS=bg(bW-1,bW+2);bS.push("ellipsis");bS.push(bR-1);bS.splice(0,0,"ellipsis");bS.splice(0,0,0)}}}bS.DT_el="span";return bS}bo.extend(bI,{simple:function(bS,bR){return["previous","next"]},full:function(bS,bR){return["first","previous","next","last"]},simple_numbers:function(bS,bR){return["previous",bn(bS,bR),"next"]},full_numbers:function(bS,bR){return["first","previous",bn(bS,bR),"next","last"]},_numbers:bn,numbers_length:7});bo.extend(true,N.ext.renderer,{pageButton:{_:function(bX,b4,b3,b2,b1,bV){var bY=bX.oClasses;var bU=bX.oLanguage.oPaginate;var bT,bS,bR=0;var bZ=function(b6,cb){var b9,b5,ca,b8;var cc=function(cd){aG(bX,cd.data.action,true)};for(b9=0,b5=cb.length;b9<b5;b9++){b8=cb[b9];if(bo.isArray(b8)){var b7=bo("<"+(b8.DT_el||"div")+"/>").appendTo(b6);bZ(b7,b8)}else{bT="";bS="";switch(b8){case"ellipsis":b6.append("<span>&hellip;</span>");break;case"first":bT=bU.sFirst;bS=b8+(b1>0?"":" "+bY.sPageButtonDisabled);break;case"previous":bT=bU.sPrevious;bS=b8+(b1>0?"":" "+bY.sPageButtonDisabled);break;case"next":bT=bU.sNext;bS=b8+(b1<bV-1?"":" "+bY.sPageButtonDisabled);break;case"last":bT=bU.sLast;bS=b8+(b1<bV-1?"":" "+bY.sPageButtonDisabled);break;default:bT=b8+1;bS=b1===b8?bY.sPageButtonActive:"";break}if(bT){ca=bo("<a>",{"class":bY.sPageButton+" "+bS,"aria-controls":bX.sTableId,"data-dt-idx":bR,tabindex:bX.iTabIndex,id:b3===0&&typeof b8==="string"?bX.sTableId+"_"+b8:null}).html(bT).appendTo(b6);bc(ca,{action:b8},cc);bR++}}}};var bW;try{bW=bo(a.activeElement).data("dt-idx")}catch(b0){}bZ(bo(b4).empty(),b2);if(bW){bo(b4).find("[data-dt-idx="+bW+"]").focus()}}}});bo.extend(N.ext.type.detect,[function(bT,bS){var bR=bS.oLanguage.sDecimal;return aj(bT,bR)?"num"+bR:null},function(bT,bS){if(bT&&!(bT instanceof Date)&&(!am.test(bT)||!bw.test(bT))){return null}var bR=Date.parse(bT);return(bR!==null&&!isNaN(bR))||bC(bT)?"date":null},function(bT,bS){var bR=bS.oLanguage.sDecimal;return aj(bT,bR,true)?"num-fmt"+bR:null},function(bT,bS){var bR=bS.oLanguage.sDecimal;return j(bT,bR)?"html-num"+bR:null},function(bT,bS){var bR=bS.oLanguage.sDecimal;return j(bT,bR,true)?"html-num-fmt"+bR:null},function(bS,bR){return bC(bS)||(typeof bS==="string"&&bS.indexOf("<")!==-1)?"html":null}]);bo.extend(N.ext.type.search,{html:function(bR){return bC(bR)?bR:typeof bR==="string"?bR.replace(W," ").replace(aU,""):""},string:function(bR){return bC(bR)?bR:typeof bR==="string"?bR.replace(W," "):bR}});var Q=function(bU,bR,bT,bS){if(bU!==0&&(!bU||bU==="-")){return -Infinity}if(bR){bU=bE(bU,bR)}if(bU.replace){if(bT){bU=bU.replace(bT,"")}if(bS){bU=bU.replace(bS,"")}}return bU*1};function bs(bR){bo.each({num:function(bS){return Q(bS,bR)},"num-fmt":function(bS){return Q(bS,bR,bG)},"html-num":function(bS){return Q(bS,bR,aU)},"html-num-fmt":function(bS){return Q(bS,bR,aU,bG)}},function(bS,bT){I.type.order[bS+bR+"-pre"]=bT;if(bS.match(/^html\-/)){I.type.search[bS+bR]=I.type.search.html}})}bo.extend(I.type.order,{"date-pre":function(bR){return Date.parse(bR)||0},"html-pre":function(bR){return bC(bR)?"":bR.replace?bR.replace(/<.*?>/g,"").toLowerCase():bR+""},"string-pre":function(bR){return bC(bR)?"":typeof bR==="string"?bR.toLowerCase():!bR.toString?"":bR.toString()},"string-asc":function(bR,bS){return((bR<bS)?-1:((bR>bS)?1:0))},"string-desc":function(bR,bS){return((bR<bS)?1:((bR>bS)?-1:0))}});bs("");bo.extend(true,N.ext.renderer,{header:{_:function(bU,bR,bT,bS){bo(bU.nTable).on("order.dt.DT",function(bY,bV,bX,bW){if(bU!==bV){return}var bZ=bT.idx;bR.removeClass(bT.sSortingClass+" "+bS.sSortAsc+" "+bS.sSortDesc).addClass(bW[bZ]=="asc"?bS.sSortAsc:bW[bZ]=="desc"?bS.sSortDesc:bT.sSortingClass)})},jQueryTSui:function(bU,bR,bT,bS){bo("<div/>").addClass(bS.sSortJUIWrapper).append(bR.contents()).append(bo("<span/>").addClass(bS.sSortIcon+" "+bT.sSortingClassJUI)).appendTo(bR);bo(bU.nTable).on("order.dt.DT",function(bY,bV,bX,bW){if(bU!==bV){return}var bZ=bT.idx;bR.removeClass(bS.sSortAsc+" "+bS.sSortDesc).addClass(bW[bZ]=="asc"?bS.sSortAsc:bW[bZ]=="desc"?bS.sSortDesc:bT.sSortingClass);bR.find("span."+bS.sSortIcon).removeClass(bS.sSortJUIAsc+" "+bS.sSortJUIDesc+" "+bS.sSortJUI+" "+bS.sSortJUIAscAllowed+" "+bS.sSortJUIDescAllowed).addClass(bW[bZ]=="asc"?bS.sSortJUIAsc:bW[bZ]=="desc"?bS.sSortJUIDesc:bT.sSortingClassJUI)})}}});N.render={number:function(bT,bS,bR,bU){return{display:function(bY){var bW=bY<0?"-":"";bY=Math.abs(parseFloat(bY));var bX=parseInt(bY,10);var bV=bR?bS+(bY-bX).toFixed(bR).substring(2):"";return bW+(bU||"")+bX.toString().replace(/\B(?=(\d{3})+(?!\d))/g,bT)+bV}}}};function ah(bR){return function(){var bS=[an(this[N.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return N.ext.internal[bR].apply(this,bS)}}bo.extend(N.ext.internal,{_fnExternApiFunc:ah,_fnBuildAjax:av,_fnAjaxUpdate:af,_fnAjaxParameters:bL,_fnAjaxUpdateDraw:V,_fnAjaxDataSrc:bu,_fnAddColumn:O,_fnColumnOptions:a2,_fnAdjustColumnSizing:aJ,_fnVisibleToColumnIndex:r,_fnColumnIndexToVisible:bJ,_fnVisbleColumns:aQ,_fnGetColumns:p,_fnColumnTypes:v,_fnApplyColumnDefs:k,_fnHungarianMap:T,_fnCamelToHungarian:aa,_fnLanguageCompat:aS,_fnBrowserDetect:be,_fnAddData:aO,_fnAddTr:bQ,_fnNodeToDataIndex:bt,_fnNodeToColumnIndex:a0,_fnGetCellData:bv,_fnSetCellData:bm,_fnSplitObjNotation:ak,_fnGetObjectDataFn:ao,_fnSetObjectDataFn:ax,_fnGetDataMaster:bH,_fnClearTable:bi,_fnDeleteIndex:a5,_fnInvalidate:B,_fnGetRowElements:bf,_fnCreateTr:P,_fnBuildHead:aL,_fnDrawHead:a6,_fnDraw:a3,_fnReDraw:ai,_fnAddOptionsHtml:i,_fnDetectHeader:aw,_fnGetUniqueThs:bh,_fnFeatureHtmlFilter:q,_fnFilterComplete:u,_fnFilterCustom:ar,_fnFilterColumn:Y,_fnFilter:ay,_fnFilterCreateSearch:aW,_fnEscapeRegex:m,_fnFilterData:aE,_fnFeatureHtmlInfo:g,_fnUpdateInfo:at,_fnInfoMacros:bq,_fnInitialise:h,_fnInitComplete:aC,_fnLengthChange:aT,_fnFeatureHtmlLength:aR,_fnFeatureHtmlPaginate:aA,_fnPageChange:aG,_fnFeatureHtmlProcessing:bB,_fnProcessingDisplay:w,_fnFeatureHtmlTable:bA,_fnScrollDraw:l,_fnApplyToChildren:a8,_fnCalculateColumnWidths:bx,_fnThrottle:al,_fnConvertToWidth:ag,_fnScrollingWidthAdjust:az,_fnGetWidestNode:aK,_fnGetMaxLenString:ab,_fnStringToCss:bK,_fnScrollBarWidth:bb,_fnSortFlatten:aI,_fnSort:x,_fnSortAria:bd,_fnSortListener:bj,_fnSortAttachListener:C,_fnSortingClasses:ae,_fnSortData:G,_fnSaveState:bp,_fnLoadState:bO,_fnSettingsFromNode:an,_fnLog:aN,_fnMap:R,_fnBindAction:bc,_fnCallbackReg:bN,_fnCallbackFire:L,_fnLengthOverflow:bl,_fnRenderer:S,_fnDataSource:y,_fnRowAttributes:ac,_fnCalculateEnd:function(){}});bo.fn.dataTable=N;bo.fn.dataTableSettings=N.settings;bo.fn.dataTableExt=N.ext;bo.fn.DataTable=function(bR){return bo(this).dataTable(bR).api()};bo.each(N,function(bS,bR){bo.fn.DataTable[bS]=bR});return bo.fn.dataTable}))}(window,document));;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/libs/jquery.ba-throttle-debounce.js' */
/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/libs/moment.js' */
(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):b.moment=a()}(this,(function(){var ca;function eB(){return ca.apply(null,arguments)}function aR(e3){ca=e3}function V(e3){return e3 instanceof Array||Object.prototype.toString.call(e3)==="[object Array]"}function v(e3){return e3!=null&&Object.prototype.toString.call(e3)==="[object Object]"}function ch(e4){if(Object.getOwnPropertyNames){return(Object.getOwnPropertyNames(e4).length===0)}else{var e3;for(e3 in e4){if(e4.hasOwnProperty(e3)){return false}}return true}}function F(e3){return e3===void 0}function q(e3){return typeof e3==="number"||Object.prototype.toString.call(e3)==="[object Number]"}function eu(e3){return e3 instanceof Date||Object.prototype.toString.call(e3)==="[object Date]"}function bn(e3,e6){var e5=[],e4;for(e4=0;e4<e3.length;++e4){e5.push(e6(e3[e4],e4))}return e5}function dk(e4,e3){return Object.prototype.hasOwnProperty.call(e4,e3)}function eW(e4,e3){for(var e5 in e3){if(dk(e3,e5)){e4[e5]=e3[e5]}}if(dk(e3,"toString")){e4.toString=e3.toString}if(dk(e3,"valueOf")){e4.valueOf=e3.valueOf}return e4}function cv(e5,e6,e3,e4){return ac(e5,e6,e3,e4,true).utc()}function cr(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function bb(e3){if(e3._pf==null){e3._pf=cr()}return e3._pf}var dp;if(Array.prototype.some){dp=Array.prototype.some}else{dp=function(e4){var e6=Object(this);var e3=e6.length>>>0;for(var e5=0;e5<e3;e5++){if(e5 in e6&&e4.call(this,e6[e5],e5,e6)){return true}}return false}}function an(e4){if(e4._isValid==null){var e5=bb(e4);var e6=dp.call(e5.parsedDateParts,function(e7){return e7!=null});var e3=!isNaN(e4._d.getTime())&&e5.overflow<0&&!e5.empty&&!e5.invalidMonth&&!e5.invalidWeekday&&!e5.weekdayMismatch&&!e5.nullInput&&!e5.invalidFormat&&!e5.userInvalidated&&(!e5.meridiem||(e5.meridiem&&e6));if(e4._strict){e3=e3&&e5.charsLeftOver===0&&e5.unusedTokens.length===0&&e5.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(e4)){e4._isValid=e3}else{return e3}}return e4._isValid}function N(e4){var e3=cv(NaN);if(e4!=null){eW(bb(e3),e4)}else{bb(e3).userInvalidated=true}return e3}var cS=eB.momentProperties=[];function p(e7,e6){var e3,e5,e4;if(!F(e6._isAMomentObject)){e7._isAMomentObject=e6._isAMomentObject}if(!F(e6._i)){e7._i=e6._i}if(!F(e6._f)){e7._f=e6._f}if(!F(e6._l)){e7._l=e6._l}if(!F(e6._strict)){e7._strict=e6._strict}if(!F(e6._tzm)){e7._tzm=e6._tzm}if(!F(e6._isUTC)){e7._isUTC=e6._isUTC}if(!F(e6._offset)){e7._offset=e6._offset}if(!F(e6._pf)){e7._pf=bb(e6)}if(!F(e6._locale)){e7._locale=e6._locale}if(cS.length>0){for(e3=0;e3<cS.length;e3++){e5=cS[e3];e4=e6[e5];if(!F(e4)){e7[e5]=e4}}}return e7}var dd=false;function ep(e3){p(this,e3);this._d=new Date(e3._d!=null?e3._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(dd===false){dd=true;eB.updateOffset(this);dd=false}}function cb(e3){return e3 instanceof ep||(e3!=null&&e3._isAMomentObject!=null)}function dh(e3){if(e3<0){return Math.ceil(e3)||0}else{return Math.floor(e3)}}function cP(e3){var e5=+e3,e4=0;if(e5!==0&&isFinite(e5)){e4=dh(e5)}return e4}function bZ(e8,e7,e4){var e3=Math.min(e8.length,e7.length),e5=Math.abs(e8.length-e7.length),e9=0,e6;for(e6=0;e6<e3;e6++){if((e4&&e8[e6]!==e7[e6])||(!e4&&cP(e8[e6])!==cP(e7[e6]))){e9++}}return e9+e5}function dc(e3){if(eB.suppressDeprecationWarnings===false&&(typeof console!=="undefined")&&console.warn){console.warn("Deprecation warning: "+e3)}}function ee(e4,e3){var e5=true;return eW(function(){if(eB.deprecationHandler!=null){eB.deprecationHandler(null,e4)}if(e5){var e7=[];var e6;for(var e9=0;e9<arguments.length;e9++){e6="";if(typeof arguments[e9]==="object"){e6+="\n["+e9+"] ";for(var e8 in arguments[0]){e6+=e8+": "+arguments[0][e8]+", "}e6=e6.slice(0,-2)}else{e6=arguments[e9]}e7.push(e6)}dc(e4+"\nArguments: "+Array.prototype.slice.call(e7).join("")+"\n"+(new Error()).stack);e5=false}return e3.apply(this,arguments)},e3)}var aa={};function eO(e3,e4){if(eB.deprecationHandler!=null){eB.deprecationHandler(e3,e4)}if(!aa[e3]){dc(e4);aa[e3]=true}}eB.suppressDeprecationWarnings=false;eB.deprecationHandler=null;function a6(e3){return e3 instanceof Function||Object.prototype.toString.call(e3)==="[object Function]"}function dm(e3){var e5,e4;for(e4 in e3){e5=e3[e4];if(a6(e5)){this[e4]=e5}else{this["_"+e4]=e5}}this._config=e3;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+(/\d{1,2}/).source)}function d6(e5,e3){var e4=eW({},e5),e6;for(e6 in e3){if(dk(e3,e6)){if(v(e5[e6])&&v(e3[e6])){e4[e6]={};eW(e4[e6],e5[e6]);eW(e4[e6],e3[e6])}else{if(e3[e6]!=null){e4[e6]=e3[e6]}else{delete e4[e6]}}}}for(e6 in e5){if(dk(e5,e6)&&!dk(e3,e6)&&v(e5[e6])){e4[e6]=eW({},e4[e6])}}return e4}function cC(e3){if(e3!=null){this.set(e3)}}var bW;if(Object.keys){bW=Object.keys}else{bW=function(e5){var e4,e3=[];for(e4 in e5){if(dk(e5,e4)){e3.push(e4)}}return e3}}var cj={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function d(e5,e6,e4){var e3=this._calendar[e5]||this._calendar.sameElse;return a6(e3)?e3.call(e6,e4):e3}var dW={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function cJ(e3){var e4=this._longDateFormat[e3],e5=this._longDateFormat[e3.toUpperCase()];if(e4||!e5){return e4}this._longDateFormat[e3]=e5.replace(/MMMM|MM|DD|dddd/g,function(e6){return e6.slice(1)});return this._longDateFormat[e3]}var al="Invalid date";function en(){return this._invalidDate}var b6="%d";var e1=/\d{1,2}/;function ez(e3){return this._ordinal.replace("%d",e3)}var ey={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function T(e6,e5,e4,e7){var e3=this._relativeTime[e4];return(a6(e3))?e3(e6,e5,e4,e7):e3.replace(/%d/i,e6)}function dX(e5,e3){var e4=this._relativeTime[e5>0?"future":"past"];return a6(e4)?e4(e3):e4.replace(/%s/i,e3)}var cK={};function ce(e5,e3){var e4=e5.toLowerCase();cK[e4]=cK[e4+"s"]=cK[e3]=e5}function cO(e3){return typeof e3==="string"?cK[e3]||cK[e3.toLowerCase()]:undefined}function dK(e5){var e4={},e3,e6;for(e6 in e5){if(dk(e5,e6)){e3=cO(e6);if(e3){e4[e3]=e5[e6]}}}return e4}var bs={};function dV(e4,e3){bs[e4]=e3}function bp(e3){var e4=[];for(var e5 in e3){e4.push({unit:e5,priority:bs[e5]})}e4.sort(function(e7,e6){return e7.priority-e6.priority});return e4}function co(e8,e7,e4){var e6=""+Math.abs(e8),e5=e7-e6.length,e3=e8>=0;return(e3?(e4?"+":""):"-")+Math.pow(10,Math.max(0,e5)).toString().substr(1)+e6}var bQ=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var bP=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var bO={};var a9={};function cx(e4,e5,e3,e7){var e6=e7;if(typeof e7==="string"){e6=function(){return this[e7]()}}if(e4){a9[e4]=e6}if(e5){a9[e5[0]]=function(){return co(e6.apply(this,arguments),e5[1],e5[2])}}if(e3){a9[e3]=function(){return this.localeData().ordinal(e6.apply(this,arguments),e4)}}}function aw(e3){if(e3.match(/\[[\s\S]/)){return e3.replace(/^\[|\]$/g,"")}return e3.replace(/\\/g,"")}function bx(e5){var e6=e5.match(bQ),e3,e4;for(e3=0,e4=e6.length;e3<e4;e3++){if(a9[e6[e3]]){e6[e3]=a9[e6[e3]]}else{e6[e3]=aw(e6[e3])}}return function(e9){var e7="",e8;for(e8=0;e8<e4;e8++){e7+=a6(e6[e8])?e6[e8].call(e9,e5):e6[e8]}return e7}}function af(e3,e4){if(!e3.isValid()){return e3.localeData().invalidDate()}e4=bF(e4,e3.localeData());bO[e4]=bO[e4]||bx(e4);return bO[e4](e3)}function bF(e6,e3){var e4=5;function e5(e7){return e3.longDateFormat(e7)||e7}bP.lastIndex=0;while(e4>=0&&bP.test(e6)){e6=e6.replace(bP,e5);bP.lastIndex=0;e4-=1}return e6}var aK=/\d/;var aJ=/\d\d/;var aI=/\d{3}/;var aH=/\d{4}/;var aG=/[+-]?\d{6}/;var aq=/\d\d?/;var ck=/\d\d\d\d?/;var ed=/\d\d\d\d\d\d?/;var ap=/\d{1,3}/;var ao=/\d{1,4}/;var am=/[+-]?\d{1,6}/;var r=/\d+/;var B=/[+-]?\d+/;var bH=/Z|[+-]\d\d:?\d\d/gi;var cE=/Z|[+-]\d\d(?::?\d\d)?/gi;var eP=/[+-]?\d+(\.\d{1,3})?/;var a8=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var a3={};function bd(e3,e4,e5){a3[e3]=a6(e4)?e4:function(e7,e6){return(e7&&e5)?e5:e4}}function bE(e4,e3){if(!dk(a3,e4)){return new RegExp(di(e4))}return a3[e4](e3._strict,e3._locale)}function di(e3){return cg(e3.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e4,e8,e7,e6,e5){return e8||e7||e6||e5}))}function cg(e3){return e3.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var g={};function bU(e4,e6){var e3,e5=e6;if(typeof e4==="string"){e4=[e4]}if(q(e6)){e5=function(e7,e8){e8[e6]=cP(e7)}}for(e3=0;e3<e4.length;e3++){g[e4[e3]]=e5}}function X(e3,e4){bU(e3,function(e5,e8,e6,e7){e6._w=e6._w||{};e4(e5,e6._w,e6,e7)})}function u(e5,e3,e4){if(e3!=null&&dk(g,e5)){g[e5](e3,e4._a,e4,e5)}}var eQ=0;var i=1;var es=2;var eF=3;var dH=4;var ai=5;var bJ=6;var ci=7;var h=8;cx("Y",0,0,function(){var e3=this.year();return e3<=9999?""+e3:"+"+e3});cx(0,["YY",2],0,function(){return this.year()%100});cx(0,["YYYY",4],0,"year");cx(0,["YYYYY",5],0,"year");cx(0,["YYYYYY",6,true],0,"year");ce("year","y");dV("year",1);bd("Y",B);bd("YY",aq,aJ);bd("YYYY",ao,aH);bd("YYYYY",am,aG);bd("YYYYYY",am,aG);bU(["YYYYY","YYYYYY"],eQ);bU("YYYY",function(e3,e4){e4[eQ]=e3.length===2?eB.parseTwoDigitYear(e3):cP(e3)});bU("YY",function(e3,e4){e4[eQ]=eB.parseTwoDigitYear(e3)});bU("Y",function(e3,e4){e4[eQ]=parseInt(e3,10)});function dF(e3){return dZ(e3)?366:365}function dZ(e3){return(e3%4===0&&e3%100!==0)||e3%400===0}eB.parseTwoDigitYear=function(e3){return cP(e3)+(cP(e3)>68?1900:2000)};var cG=eb("FullYear",true);function cV(){return dZ(this.year())}function eb(e3,e4){return function(e5){if(e5!=null){aM(this,e3,e5);eB.updateOffset(this,e4);return this}else{return dA(this,e3)}}}function dA(e4,e3){return e4.isValid()?e4._d["get"+(e4._isUTC?"UTC":"")+e3]():NaN}function aM(e4,e3,e5){if(e4.isValid()&&!isNaN(e5)){if(e3==="FullYear"&&dZ(e4.year())){e4._d["set"+(e4._isUTC?"UTC":"")+e3](e5,e4.month(),bG(e5,e4.month()))}else{e4._d["set"+(e4._isUTC?"UTC":"")+e3](e5)}}}function az(e3){e3=cO(e3);if(a6(this[e3])){return this[e3]()}return this}function at(e3,e6){if(typeof e3==="object"){e3=dK(e3);var e5=bp(e3);for(var e4=0;e4<e5.length;e4++){this[e5[e4].unit](e3[e5[e4].unit])}}else{e3=cO(e3);if(a6(this[e3])){return this[e3](e6)}}return this}function ea(e4,e3){return((e4%e3)+e3)%e3}var cQ;if(Array.prototype.indexOf){cQ=Array.prototype.indexOf}else{cQ=function(e4){var e3;for(e3=0;e3<this.length;++e3){if(this[e3]===e4){return e3}}return -1}}function bG(e4,e5){if(isNaN(e4)||isNaN(e5)){return NaN}var e3=ea(e5,12);e4+=(e5-e3)/12;return e3===1?(dZ(e4)?29:28):(31-e3%7%2)}cx("M",["MM",2],"Mo",function(){return this.month()+1});cx("MMM",0,0,function(e3){return this.localeData().monthsShort(this,e3)});cx("MMMM",0,0,function(e3){return this.localeData().months(this,e3)});ce("month","M");dV("month",8);bd("M",aq);bd("MM",aq,aJ);bd("MMM",function(e4,e3){return e3.monthsShortRegex(e4)});bd("MMMM",function(e4,e3){return e3.monthsRegex(e4)});bU(["M","MM"],function(e3,e4){e4[i]=cP(e3)-1});bU(["MMM","MMMM"],function(e3,e7,e4,e5){var e6=e4._locale.monthsParse(e3,e5,e4._strict);if(e6!=null){e7[i]=e6}else{bb(e4).invalidMonth=e3}});var b3=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var P="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function a1(e3,e4){if(!e3){return V(this._months)?this._months:this._months.standalone}return V(this._months)?this._months[e3.month()]:this._months[(this._months.isFormat||b3).test(e4)?"format":"standalone"][e3.month()]}var d0="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ba(e3,e4){if(!e3){return V(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}return V(this._monthsShort)?this._monthsShort[e3.month()]:this._monthsShort[b3.test(e4)?"format":"standalone"][e3.month()]}function bC(e4,e9,e3){var e6,e7,e8,e5=e4.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(e6=0;e6<12;++e6){e8=cv([2000,e6]);this._shortMonthsParse[e6]=this.monthsShort(e8,"").toLocaleLowerCase();this._longMonthsParse[e6]=this.months(e8,"").toLocaleLowerCase()}}if(e3){if(e9==="MMM"){e7=cQ.call(this._shortMonthsParse,e5);return e7!==-1?e7:null}else{e7=cQ.call(this._longMonthsParse,e5);return e7!==-1?e7:null}}else{if(e9==="MMM"){e7=cQ.call(this._shortMonthsParse,e5);if(e7!==-1){return e7}e7=cQ.call(this._longMonthsParse,e5);return e7!==-1?e7:null}else{e7=cQ.call(this._longMonthsParse,e5);if(e7!==-1){return e7}e7=cQ.call(this._shortMonthsParse,e5);return e7!==-1?e7:null}}}function da(e4,e8,e3){var e5,e7,e6;if(this._monthsParseExact){return bC.call(this,e4,e8,e3)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(e5=0;e5<12;e5++){e7=cv([2000,e5]);if(e3&&!this._longMonthsParse[e5]){this._longMonthsParse[e5]=new RegExp("^"+this.months(e7,"").replace(".","")+"$","i");this._shortMonthsParse[e5]=new RegExp("^"+this.monthsShort(e7,"").replace(".","")+"$","i")}if(!e3&&!this._monthsParse[e5]){e6="^"+this.months(e7,"")+"|^"+this.monthsShort(e7,"");this._monthsParse[e5]=new RegExp(e6.replace(".",""),"i")}if(e3&&e8==="MMMM"&&this._longMonthsParse[e5].test(e4)){return e5}else{if(e3&&e8==="MMM"&&this._shortMonthsParse[e5].test(e4)){return e5}else{if(!e3&&this._monthsParse[e5].test(e4)){return e5}}}}}function aV(e3,e4){var e5;if(!e3.isValid()){return e3}if(typeof e4==="string"){if(/^\d+$/.test(e4)){e4=cP(e4)}else{e4=e3.localeData().monthsParse(e4);if(!q(e4)){return e3}}}e5=Math.min(e3.date(),bG(e3.year(),e4));e3._d["set"+(e3._isUTC?"UTC":"")+"Month"](e4,e5);return e3}function eE(e3){if(e3!=null){aV(this,e3);eB.updateOffset(this,true);return this}else{return dA(this,"Month")}}function bM(){return bG(this.year(),this.month())}var df=a8;function dj(e3){if(this._monthsParseExact){if(!dk(this,"_monthsRegex")){dl.call(this)}if(e3){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!dk(this,"_monthsShortRegex")){this._monthsShortRegex=df}return this._monthsShortStrictRegex&&e3?this._monthsShortStrictRegex:this._monthsShortRegex}}var ew=a8;function cY(e3){if(this._monthsParseExact){if(!dk(this,"_monthsRegex")){dl.call(this)}if(e3){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!dk(this,"_monthsRegex")){this._monthsRegex=ew}return this._monthsStrictRegex&&e3?this._monthsStrictRegex:this._monthsRegex}}function dl(){function e8(fa,e9){return e9.length-fa.length}var e7=[],e3=[],e6=[],e4,e5;for(e4=0;e4<12;e4++){e5=cv([2000,e4]);e7.push(this.monthsShort(e5,""));e3.push(this.months(e5,""));e6.push(this.months(e5,""));e6.push(this.monthsShort(e5,""))}e7.sort(e8);e3.sort(e8);e6.sort(e8);for(e4=0;e4<12;e4++){e7[e4]=cg(e7[e4]);e3[e4]=cg(e3[e4])}for(e4=0;e4<24;e4++){e6[e4]=cg(e6[e4])}this._monthsRegex=new RegExp("^("+e6.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+e3.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+e7.join("|")+")","i")}function d7(fa,e3,e8,e7,e9,e6,e5){var e4=new Date(fa,e3,e8,e7,e9,e6,e5);if(fa<100&&fa>=0&&isFinite(e4.getFullYear())){e4.setFullYear(fa)}return e4}function du(e4){var e3=new Date(Date.UTC.apply(null,arguments));if(e4<100&&e4>=0&&isFinite(e3.getUTCFullYear())){e3.setUTCFullYear(e4)}return e3}function bi(e4,e7,e6){var e3=7+e7-e6,e5=(7+du(e4,0,e3).getUTCDay()-e7)%7;return -e5+e3-1}function bA(e6,e4,e5,fc,fa){var fb=(7+e5-fc)%7,e3=bi(e6,fc,fa),e8=1+7*(e4-1)+fb+e3,e9,e7;if(e8<=0){e9=e6-1;e7=dF(e9)+e8}else{if(e8>dF(e6)){e9=e6+1;e7=e8-dF(e6)}else{e9=e6;e7=e8}}return{year:e9,dayOfYear:e7}}function eq(e7,e9,e8){var e5=bi(e7.year(),e9,e8),e6=Math.floor((e7.dayOfYear()-e5-1)/7)+1,e3,e4;if(e6<1){e4=e7.year()-1;e3=e6+E(e4,e9,e8)}else{if(e6>E(e7.year(),e9,e8)){e3=e6-E(e7.year(),e9,e8);e4=e7.year()+1}else{e4=e7.year();e3=e6}}return{week:e3,year:e4}}function E(e4,e7,e5){var e3=bi(e4,e7,e5),e6=bi(e4+1,e7,e5);return(dF(e4)-e3+e6)/7}cx("w",["ww",2],"wo","week");cx("W",["WW",2],"Wo","isoWeek");ce("week","w");ce("isoWeek","W");dV("week",5);dV("isoWeek",5);bd("w",aq);bd("ww",aq,aJ);bd("W",aq);bd("WW",aq,aJ);X(["w","ww","W","WW"],function(e3,e6,e4,e5){e6[e5.substr(0,1)]=cP(e3)});function bo(e3){return eq(e3,this._week.dow,this._week.doy).week}var b2={dow:0,doy:6};function ag(){return this._week.dow}function c8(){return this._week.doy}function J(e3){var e4=this.localeData().week(this);return e3==null?e4:this.add((e3-e4)*7,"d")}function x(e3){var e4=eq(this,1,4).week;return e3==null?e4:this.add((e3-e4)*7,"d")}cx("d",0,"do","day");cx("dd",0,0,function(e3){return this.localeData().weekdaysMin(this,e3)});cx("ddd",0,0,function(e3){return this.localeData().weekdaysShort(this,e3)});cx("dddd",0,0,function(e3){return this.localeData().weekdays(this,e3)});cx("e",0,0,"weekday");cx("E",0,0,"isoWeekday");ce("day","d");ce("weekday","e");ce("isoWeekday","E");dV("day",11);dV("weekday",11);dV("isoWeekday",11);bd("d",aq);bd("e",aq);bd("E",aq);bd("dd",function(e4,e3){return e3.weekdaysMinRegex(e4)});bd("ddd",function(e4,e3){return e3.weekdaysShortRegex(e4)});bd("dddd",function(e4,e3){return e3.weekdaysRegex(e4)});X(["dd","ddd","dddd"],function(e3,e6,e4,e5){var e7=e4._locale.weekdaysParse(e3,e5,e4._strict);if(e7!=null){e6.d=e7}else{bb(e4).invalidWeekday=e3}});X(["d","e","E"],function(e3,e6,e4,e5){e6[e5]=cP(e3)});function bh(e4,e3){if(typeof e4!=="string"){return e4}if(!isNaN(e4)){return parseInt(e4,10)}e4=e3.weekdaysParse(e4);if(typeof e4==="number"){return e4}return null}function bD(e4,e3){if(typeof e4==="string"){return e3.weekdaysParse(e4)%7||7}return isNaN(e4)?null:e4}var S="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function ax(e3,e4){if(!e3){return V(this._weekdays)?this._weekdays:this._weekdays.standalone}return V(this._weekdays)?this._weekdays[e3.day()]:this._weekdays[this._weekdays.isFormat.test(e4)?"format":"standalone"][e3.day()]}var k="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function M(e3){return(e3)?this._weekdaysShort[e3.day()]:this._weekdaysShort}var bt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function eC(e3){return(e3)?this._weekdaysMin[e3.day()]:this._weekdaysMin}function dM(e8,e9,e3){var e5,e6,e7,e4=e8.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(e5=0;e5<7;++e5){e7=cv([2000,1]).day(e5);this._minWeekdaysParse[e5]=this.weekdaysMin(e7,"").toLocaleLowerCase();this._shortWeekdaysParse[e5]=this.weekdaysShort(e7,"").toLocaleLowerCase();this._weekdaysParse[e5]=this.weekdays(e7,"").toLocaleLowerCase()}}if(e3){if(e9==="dddd"){e6=cQ.call(this._weekdaysParse,e4);return e6!==-1?e6:null}else{if(e9==="ddd"){e6=cQ.call(this._shortWeekdaysParse,e4);return e6!==-1?e6:null}else{e6=cQ.call(this._minWeekdaysParse,e4);return e6!==-1?e6:null}}}else{if(e9==="dddd"){e6=cQ.call(this._weekdaysParse,e4);if(e6!==-1){return e6}e6=cQ.call(this._shortWeekdaysParse,e4);if(e6!==-1){return e6}e6=cQ.call(this._minWeekdaysParse,e4);return e6!==-1?e6:null}else{if(e9==="ddd"){e6=cQ.call(this._shortWeekdaysParse,e4);if(e6!==-1){return e6}e6=cQ.call(this._weekdaysParse,e4);if(e6!==-1){return e6}e6=cQ.call(this._minWeekdaysParse,e4);return e6!==-1?e6:null}else{e6=cQ.call(this._minWeekdaysParse,e4);if(e6!==-1){return e6}e6=cQ.call(this._weekdaysParse,e4);if(e6!==-1){return e6}e6=cQ.call(this._shortWeekdaysParse,e4);return e6!==-1?e6:null}}}}function bL(e7,e8,e3){var e4,e6,e5;if(this._weekdaysParseExact){return dM.call(this,e7,e8,e3)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(e4=0;e4<7;e4++){e6=cv([2000,1]).day(e4);if(e3&&!this._fullWeekdaysParse[e4]){this._fullWeekdaysParse[e4]=new RegExp("^"+this.weekdays(e6,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[e4]=new RegExp("^"+this.weekdaysShort(e6,"").replace(".",".?")+"$","i");this._minWeekdaysParse[e4]=new RegExp("^"+this.weekdaysMin(e6,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[e4]){e5="^"+this.weekdays(e6,"")+"|^"+this.weekdaysShort(e6,"")+"|^"+this.weekdaysMin(e6,"");this._weekdaysParse[e4]=new RegExp(e5.replace(".",""),"i")}if(e3&&e8==="dddd"&&this._fullWeekdaysParse[e4].test(e7)){return e4}else{if(e3&&e8==="ddd"&&this._shortWeekdaysParse[e4].test(e7)){return e4}else{if(e3&&e8==="dd"&&this._minWeekdaysParse[e4].test(e7)){return e4}else{if(!e3&&this._weekdaysParse[e4].test(e7)){return e4}}}}}}function ei(e4){if(!this.isValid()){return e4!=null?this:NaN}var e3=this._isUTC?this._d.getUTCDay():this._d.getDay();if(e4!=null){e4=bh(e4,this.localeData());return this.add(e4-e3,"d")}else{return e3}}function ad(e3){if(!this.isValid()){return e3!=null?this:NaN}var e4=(this.day()+7-this.localeData()._week.dow)%7;return e3==null?e4:this.add(e3-e4,"d")}function ct(e3){if(!this.isValid()){return e3!=null?this:NaN}if(e3!=null){var e4=bD(e3,this.localeData());return this.day(this.day()%7?e4:e4-7)}else{return this.day()||7}}var ab=a8;function eS(e3){if(this._weekdaysParseExact){if(!dk(this,"_weekdaysRegex")){z.call(this)}if(e3){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!dk(this,"_weekdaysRegex")){this._weekdaysRegex=ab}return this._weekdaysStrictRegex&&e3?this._weekdaysStrictRegex:this._weekdaysRegex}}var w=a8;function aF(e3){if(this._weekdaysParseExact){if(!dk(this,"_weekdaysRegex")){z.call(this)}if(e3){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!dk(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=w}return this._weekdaysShortStrictRegex&&e3?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var dT=a8;function D(e3){if(this._weekdaysParseExact){if(!dk(this,"_weekdaysRegex")){z.call(this)}if(e3){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!dk(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=dT}return this._weekdaysMinStrictRegex&&e3?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function z(){function e6(fe,fd){return fd.length-fe.length}var e8=[],e9=[],fc=[],e3=[],e7,e5,e4,fa,fb;for(e7=0;e7<7;e7++){e5=cv([2000,1]).day(e7);e4=this.weekdaysMin(e5,"");fa=this.weekdaysShort(e5,"");fb=this.weekdays(e5,"");e8.push(e4);e9.push(fa);fc.push(fb);e3.push(e4);e3.push(fa);e3.push(fb)}e8.sort(e6);e9.sort(e6);fc.sort(e6);e3.sort(e6);for(e7=0;e7<7;e7++){e9[e7]=cg(e9[e7]);fc[e7]=cg(fc[e7]);e3[e7]=cg(e3[e7])}this._weekdaysRegex=new RegExp("^("+e3.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+fc.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+e9.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+e8.join("|")+")","i")}function dy(){return this.hours()%12||12}function O(){return this.hours()||24}cx("H",["HH",2],0,"hour");cx("h",["hh",2],0,dy);cx("k",["kk",2],0,O);cx("hmm",0,0,function(){return""+dy.apply(this)+co(this.minutes(),2)});cx("hmmss",0,0,function(){return""+dy.apply(this)+co(this.minutes(),2)+co(this.seconds(),2)});cx("Hmm",0,0,function(){return""+this.hours()+co(this.minutes(),2)});cx("Hmmss",0,0,function(){return""+this.hours()+co(this.minutes(),2)+co(this.seconds(),2)});function el(e3,e4){cx(e3,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e4)})}el("a",true);el("A",false);ce("hour","h");dV("hour",13);function R(e4,e3){return e3._meridiemParse}bd("a",R);bd("A",R);bd("H",aq);bd("h",aq);bd("k",aq);bd("HH",aq,aJ);bd("hh",aq,aJ);bd("kk",aq,aJ);bd("hmm",ck);bd("hmmss",ed);bd("Hmm",ck);bd("Hmmss",ed);bU(["H","HH"],eF);bU(["k","kk"],function(e4,e6,e5){var e3=cP(e4);e6[eF]=e3===24?0:e3});bU(["a","A"],function(e3,e5,e4){e4._isPm=e4._locale.isPM(e3);e4._meridiem=e3});bU(["h","hh"],function(e3,e5,e4){e5[eF]=cP(e3);bb(e4).bigHour=true});bU("hmm",function(e3,e6,e4){var e5=e3.length-2;e6[eF]=cP(e3.substr(0,e5));e6[dH]=cP(e3.substr(e5));bb(e4).bigHour=true});bU("hmmss",function(e3,e7,e4){var e6=e3.length-4;var e5=e3.length-2;e7[eF]=cP(e3.substr(0,e6));e7[dH]=cP(e3.substr(e6,2));e7[ai]=cP(e3.substr(e5));bb(e4).bigHour=true});bU("Hmm",function(e3,e6,e4){var e5=e3.length-2;e6[eF]=cP(e3.substr(0,e5));e6[dH]=cP(e3.substr(e5))});bU("Hmmss",function(e3,e7,e4){var e6=e3.length-4;var e5=e3.length-2;e7[eF]=cP(e3.substr(0,e6));e7[dH]=cP(e3.substr(e6,2));e7[ai]=cP(e3.substr(e5))});function cd(e3){return((e3+"").toLowerCase().charAt(0)==="p")}var b5=/[ap]\.?m?\.?/i;function aT(e3,e4,e5){if(e3>11){return e5?"pm":"PM"}else{return e5?"am":"AM"}}var cp=eb("Hours",true);var b1={calendar:cj,longDateFormat:dW,invalidDate:al,ordinal:b6,dayOfMonthOrdinalParse:e1,relativeTime:ey,months:P,monthsShort:d0,week:b2,weekdays:S,weekdaysMin:bt,weekdaysShort:k,meridiemParse:b5};var by={};var l={};var cX;function dn(e3){return e3?e3.toLowerCase().replace("_","-"):e3}function cW(e8){var e6=0,e4,e7,e3,e5;while(e6<e8.length){e5=dn(e8[e6]).split("-");e4=e5.length;e7=dn(e8[e6+1]);e7=e7?e7.split("-"):null;while(e4>0){e3=aB(e5.slice(0,e4).join("-"));if(e3){return e3}if(e7&&e7.length>=e4&&bZ(e5,e7,true)>=e4-1){break}e4--}e6++}return null}function aB(e3){var e6=null;if(!by[e3]&&(typeof module!=="undefined")&&module&&module.exports){try{e6=cX._abbr;var e4=require;e4("./locale/"+e3);A(e6)}catch(e5){}}return by[e3]}function A(e4,e3){var e5;if(e4){if(F(e3)){e5=Q(e4)}else{e5=cA(e4,e3)}if(e5){cX=e5}}return cX._abbr}function cA(e4,e3){if(e3!==null){var e5=b1;e3.abbr=e4;if(by[e4]!=null){eO("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");e5=by[e4]._config}else{if(e3.parentLocale!=null){if(by[e3.parentLocale]!=null){e5=by[e3.parentLocale]._config}else{if(!l[e3.parentLocale]){l[e3.parentLocale]=[]}l[e3.parentLocale].push({name:e4,config:e3});return null}}}by[e4]=new cC(d6(e5,e3));if(l[e4]){l[e4].forEach(function(e6){cA(e6.name,e6.config)})}A(e4);return by[e4]}else{delete by[e4];return null}}function ej(e5,e4){if(e4!=null){var e3,e6=b1;if(by[e5]!=null){e6=by[e5]._config}e4=d6(e6,e4);e3=new cC(e4);e3.parentLocale=by[e5];by[e5]=e3;A(e5)}else{if(by[e5]!=null){if(by[e5].parentLocale!=null){by[e5]=by[e5].parentLocale}else{if(by[e5]!=null){delete by[e5]}}}}return by[e5]}function Q(e4){var e3;if(e4&&e4._locale&&e4._locale._abbr){e4=e4._locale._abbr}if(!e4){return cX}if(!V(e4)){e3=aB(e4);if(e3){return e3}e4=[e4]}return cW(e4)}function b4(){return bW(by)}function cN(e3){var e5;var e4=e3._a;if(e4&&bb(e3).overflow===-2){e5=e4[i]<0||e4[i]>11?i:e4[es]<1||e4[es]>bG(e4[eQ],e4[i])?es:e4[eF]<0||e4[eF]>24||(e4[eF]===24&&(e4[dH]!==0||e4[ai]!==0||e4[bJ]!==0))?eF:e4[dH]<0||e4[dH]>59?dH:e4[ai]<0||e4[ai]>59?ai:e4[bJ]<0||e4[bJ]>999?bJ:-1;if(bb(e3)._overflowDayOfYear&&(e5<eQ||e5>es)){e5=es}if(bb(e3)._overflowWeeks&&e5===-1){e5=ci}if(bb(e3)._overflowWeekday&&e5===-1){e5=h}bb(e3).overflow=e5}return e3}function d8(e4,e3,e5){if(e4!=null){return e4}if(e3!=null){return e3}return e5}function a2(e4){var e3=new Date(eB.now());if(e4._useUTC){return[e3.getUTCFullYear(),e3.getUTCMonth(),e3.getUTCDate()]}return[e3.getFullYear(),e3.getMonth(),e3.getDate()]}function e(e7){var e8,e6,e5=[],e4,e3;if(e7._d){return}e4=a2(e7);if(e7._w&&e7._a[es]==null&&e7._a[i]==null){c1(e7)}if(e7._dayOfYear!=null){e3=d8(e7._a[eQ],e4[eQ]);if(e7._dayOfYear>dF(e3)||e7._dayOfYear===0){bb(e7)._overflowDayOfYear=true}e6=du(e3,0,e7._dayOfYear);e7._a[i]=e6.getUTCMonth();e7._a[es]=e6.getUTCDate()}for(e8=0;e8<3&&e7._a[e8]==null;++e8){e7._a[e8]=e5[e8]=e4[e8]}for(;e8<7;e8++){e7._a[e8]=e5[e8]=(e7._a[e8]==null)?(e8===2?1:0):e7._a[e8]}if(e7._a[eF]===24&&e7._a[dH]===0&&e7._a[ai]===0&&e7._a[bJ]===0){e7._nextDay=true;e7._a[eF]=0}e7._d=(e7._useUTC?du:d7).apply(null,e5);if(e7._tzm!=null){e7._d.setUTCMinutes(e7._d.getUTCMinutes()-e7._tzm)}if(e7._nextDay){e7._a[eF]=24}if(e7._w&&typeof e7._w.d!=="undefined"&&e7._w.d!==e7._d.getDay()){bb(e7).weekdayMismatch=true}}function c1(e6){var e9,e3,e4,e7,fc,fa,fb,e8;e9=e6._w;if(e9.GG!=null||e9.W!=null||e9.E!=null){fc=1;fa=4;e3=d8(e9.GG,e6._a[eQ],eq(dB(),1,4).year);e4=d8(e9.W,1);e7=d8(e9.E,1);if(e7<1||e7>7){e8=true}}else{fc=e6._locale._week.dow;fa=e6._locale._week.doy;var e5=eq(dB(),fc,fa);e3=d8(e9.gg,e6._a[eQ],e5.year);e4=d8(e9.w,e5.week);if(e9.d!=null){e7=e9.d;if(e7<0||e7>6){e8=true}}else{if(e9.e!=null){e7=e9.e+fc;if(e9.e<0||e9.e>6){e8=true}}else{e7=fc}}}if(e4<1||e4>E(e3,fc,fa)){bb(e6)._overflowWeeks=true}else{if(e8!=null){bb(e6)._overflowWeekday=true}else{fb=bA(e3,e4,e7,fc,fa);e6._a[eQ]=fb.year;e6._dayOfYear=fb.dayOfYear}}}var j=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var aS=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var cF=/Z|[+-]\d\d(?::?\d\d)?/;var cR=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var cq=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var bV=/^\/?Date\((\-?\d+)/i;function C(e4){var e8,e6,fa=e4._i,e9=j.exec(fa)||aS.exec(fa),fb,e3,e7,e5;if(e9){bb(e4).iso=true;for(e8=0,e6=cR.length;e8<e6;e8++){if(cR[e8][1].exec(e9[1])){e3=cR[e8][0];fb=cR[e8][2]!==false;break}}if(e3==null){e4._isValid=false;return}if(e9[3]){for(e8=0,e6=cq.length;e8<e6;e8++){if(cq[e8][1].exec(e9[3])){e7=(e9[2]||" ")+cq[e8][0];break}}if(e7==null){e4._isValid=false;return}}if(!fb&&e7!=null){e4._isValid=false;return}if(e9[4]){if(cF.exec(e9[4])){e5="Z"}else{e4._isValid=false;return}}e4._f=e3+(e7||"")+(e5||"");bX(e4)}else{e4._isValid=false}}var dg=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function er(e7,e6,e8,e4,e9,e5){var e3=[cn(e7),d0.indexOf(e6),parseInt(e8,10),parseInt(e4,10),parseInt(e9,10)];if(e5){e3.push(parseInt(e5,10))}return e3}function cn(e3){var e4=parseInt(e3,10);if(e4<=49){return 2000+e4}else{if(e4<=999){return 1900+e4}}return e4}function aL(e3){return e3.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function av(e3,e7,e5){if(e3){var e6=k.indexOf(e3),e4=new Date(e7[0],e7[1],e7[2]).getDay();if(e6!==e4){bb(e5).weekdayMismatch=true;e5._isValid=false;return false}}return true}var bu={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function eZ(e8,e4,e6){if(e8){return bu[e8]}else{if(e4){return 0}else{var e7=parseInt(e6,10);var e3=e7%100,e5=(e7-e3)/100;return e5*60+e3}}}function bS(e4){var e3=dg.exec(aL(e4._i));if(e3){var e5=er(e3[4],e3[3],e3[2],e3[5],e3[6],e3[7]);if(!av(e3[1],e5,e4)){return}e4._a=e5;e4._tzm=eZ(e3[8],e3[9],e3[10]);e4._d=du.apply(null,e4._a);e4._d.setUTCMinutes(e4._d.getUTCMinutes()-e4._tzm);bb(e4).rfc2822=true}else{e4._isValid=false}}function bc(e4){var e3=bV.exec(e4._i);if(e3!==null){e4._d=new Date(+e3[1]);return}C(e4);if(e4._isValid===false){delete e4._isValid}else{return}bS(e4);if(e4._isValid===false){delete e4._isValid}else{return}eB.createFromInputFallback(e4)}eB.createFromInputFallback=ee("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e3){e3._d=new Date(e3._i+(e3._useUTC?" UTC":""))});eB.ISO_8601=function(){};eB.RFC_2822=function(){};function bX(e5){if(e5._f===eB.ISO_8601){C(e5);return}if(e5._f===eB.RFC_2822){bS(e5);return}e5._a=[];bb(e5).empty=true;var e8=""+e5._i,e7,e4,fb,e6,fa,e3=e8.length,e9=0;fb=bF(e5._f,e5._locale).match(bQ)||[];for(e7=0;e7<fb.length;e7++){e6=fb[e7];e4=(e8.match(bE(e6,e5))||[])[0];if(e4){fa=e8.substr(0,e8.indexOf(e4));if(fa.length>0){bb(e5).unusedInput.push(fa)}e8=e8.slice(e8.indexOf(e4)+e4.length);e9+=e4.length}if(a9[e6]){if(e4){bb(e5).empty=false}else{bb(e5).unusedTokens.push(e6)}u(e6,e4,e5)}else{if(e5._strict&&!e4){bb(e5).unusedTokens.push(e6)}}}bb(e5).charsLeftOver=e3-e9;if(e8.length>0){bb(e5).unusedInput.push(e8)}if(e5._a[eF]<=12&&bb(e5).bigHour===true&&e5._a[eF]>0){bb(e5).bigHour=undefined}bb(e5).parsedDateParts=e5._a.slice(0);bb(e5).meridiem=e5._meridiem;e5._a[eF]=ef(e5._locale,e5._a[eF],e5._meridiem);e(e5);cN(e5)}function ef(e3,e5,e6){var e4;if(e6==null){return e5}if(e3.meridiemHour!=null){return e3.meridiemHour(e5,e6)}else{if(e3.isPM!=null){e4=e3.isPM(e6);if(e4&&e5<12){e5+=12}if(!e4&&e5===12){e5=0}return e5}else{return e5}}}function dD(e3){var e7,e5,e6,e4,e8;if(e3._f.length===0){bb(e3).invalidFormat=true;e3._d=new Date(NaN);return}for(e4=0;e4<e3._f.length;e4++){e8=0;e7=p({},e3);if(e3._useUTC!=null){e7._useUTC=e3._useUTC}e7._f=e3._f[e4];bX(e7);if(!an(e7)){continue}e8+=bb(e7).charsLeftOver;e8+=bb(e7).unusedTokens.length*10;bb(e7).score=e8;if(e6==null||e8<e6){e6=e8;e5=e7}}eW(e3,e5||e7)}function a4(e3){if(e3._d){return}var e4=dK(e3._i);e3._a=bn([e4.year,e4.month,e4.day||e4.date,e4.hour,e4.minute,e4.second,e4.millisecond],function(e5){return e5&&parseInt(e5,10)});e(e3)}function ak(e3){var e4=new ep(cN(br(e3)));if(e4._nextDay){e4.add(1,"d");e4._nextDay=undefined}return e4}function br(e4){var e3=e4._i,e5=e4._f;e4._locale=e4._locale||Q(e4._l);if(e3===null||(e5===undefined&&e3==="")){return N({nullInput:true})}if(typeof e3==="string"){e4._i=e3=e4._locale.preparse(e3)}if(cb(e3)){return new ep(cN(e3))}else{if(eu(e3)){e4._d=e3}else{if(V(e5)){dD(e4)}else{if(e5){bX(e4)}else{cu(e4)}}}}if(!an(e4)){e4._d=null}return e4}function cu(e4){var e3=e4._i;if(F(e3)){e4._d=new Date(eB.now())}else{if(eu(e3)){e4._d=new Date(e3.valueOf())}else{if(typeof e3==="string"){bc(e4)}else{if(V(e3)){e4._a=bn(e3.slice(0),function(e5){return parseInt(e5,10)});e(e4)}else{if(v(e3)){a4(e4)}else{if(q(e3)){e4._d=new Date(e3)}else{eB.createFromInputFallback(e4)}}}}}}}function ac(e6,e7,e3,e5,e4){var e8={};if(e3===true||e3===false){e5=e3;e3=undefined}if((v(e6)&&ch(e6))||(V(e6)&&e6.length===0)){e6=undefined}e8._isAMomentObject=true;e8._useUTC=e8._isUTC=e4;e8._l=e3;e8._i=e6;e8._f=e7;e8._strict=e5;return ak(e8)}function dB(e5,e6,e3,e4){return ac(e5,e6,e3,e4,false)}var cI=ee("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e3=dB.apply(null,arguments);if(this.isValid()&&e3.isValid()){return e3<this?this:e3}else{return N()}});var em=ee("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e3=dB.apply(null,arguments);if(this.isValid()&&e3.isValid()){return e3>this?this:e3}else{return N()}});function eX(e5,e6){var e4,e3;if(e6.length===1&&V(e6[0])){e6=e6[0]}if(!e6.length){return dB()}e4=e6[0];for(e3=1;e3<e6.length;++e3){if(!e6[e3].isValid()||e6[e3][e5](e4)){e4=e6[e3]}}return e4}function n(){var e3=[].slice.call(arguments,0);return eX("isBefore",e3)}function bl(){var e3=[].slice.call(arguments,0);return eX("isAfter",e3)}var cy=function(){return Date.now?Date.now():+(new Date())};var eV=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ar(e4){for(var e6 in e4){if(!(cQ.call(eV,e6)!==-1&&(e4[e6]==null||!isNaN(e4[e6])))){return false}}var e3=false;for(var e5=0;e5<eV.length;++e5){if(e4[eV[e5]]){if(e3){return false}if(parseFloat(e4[eV[e5]])!==cP(e4[eV[e5]])){e3=true}}}return true}function s(){return this._isValid}function aW(){return de(NaN)}function dN(e8){var fa=dK(e8),e9=fa.year||0,e4=fa.quarter||0,e5=fa.month||0,e3=fa.week||0,fd=fa.day||0,fb=fa.hour||0,e7=fa.minute||0,fc=fa.second||0,e6=fa.millisecond||0;this._isValid=ar(fa);this._milliseconds=+e6+fc*1000+e7*60000+fb*1000*60*60;this._days=+fd+e3*7;this._months=+e5+e4*3+e9*12;this._data={};this._locale=Q();this._bubble()}function ae(e3){return e3 instanceof dN}function eh(e3){if(e3<0){return Math.round(-1*e3)*-1}else{return Math.round(e3)}}function bw(e3,e4){cx(e3,0,0,function(){var e6=this.utcOffset();var e5="+";if(e6<0){e6=-e6;e5="-"}return e5+co(~~(e6/60),2)+e4+co(~~(e6)%60,2)})}bw("Z",":");bw("ZZ","");bd("Z",cE);bd("ZZ",cE);bU(["Z","ZZ"],function(e3,e5,e4){e4._useUTC=true;e4._tzm=m(cE,e3)});var eA=/([\+\-]|\d\d)/gi;function m(e8,e4){var e6=(e4||"").match(e8);if(e6===null){return null}var e3=e6[e6.length-1]||[];var e7=(e3+"").match(eA)||["-",0,0];var e5=+(e7[1]*60)+cP(e7[2]);return e5===0?0:e7[0]==="+"?e5:-e5}function aC(e3,e4){var e5,e6;if(e4._isUTC){e5=e4.clone();e6=(cb(e3)||eu(e3)?e3.valueOf():dB(e3).valueOf())-e5.valueOf();e5._d.setTime(e5._d.valueOf()+e6);eB.updateOffset(e5,false);return e5}else{return dB(e3).local()}}function aO(e3){return -Math.round(e3._d.getTimezoneOffset()/15)*15}eB.updateOffset=function(){};function dv(e3,e6,e7){var e5=this._offset||0,e4;if(!this.isValid()){return e3!=null?this:NaN}if(e3!=null){if(typeof e3==="string"){e3=m(cE,e3);if(e3===null){return this}}else{if(Math.abs(e3)<16&&!e7){e3=e3*60}}if(!this._isUTC&&e6){e4=aO(this)}this._offset=e3;this._isUTC=true;if(e4!=null){this.add(e4,"m")}if(e5!==e3){if(!e6||this._changeInProgress){aZ(this,de(e3-e5,"m"),1,false)}else{if(!this._changeInProgress){this._changeInProgress=true;eB.updateOffset(this,true);this._changeInProgress=null}}}return this}else{return this._isUTC?e5:aO(this)}}function dq(e3,e4){if(e3!=null){if(typeof e3!=="string"){e3=-e3}this.utcOffset(e3,e4);return this}else{return -this.utcOffset()}}function a0(e3){return this.utcOffset(0,e3)}function ds(e3){if(this._isUTC){this.utcOffset(0,e3);this._isUTC=false;if(e3){this.subtract(aO(this),"m")}}return this}function b8(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else{if(typeof this._i==="string"){var e3=m(bH,this._i);if(e3!=null){this.utcOffset(e3)}else{this.utcOffset(0,true)}}}return this}function aA(e3){if(!this.isValid()){return false}e3=e3?dB(e3).utcOffset():0;return(this.utcOffset()-e3)%60===0}function aN(){return(this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset())}function b(){if(!F(this._isDSTShifted)){return this._isDSTShifted}var e4={};p(e4,this);e4=br(e4);if(e4._a){var e3=e4._isUTC?cv(e4._a):dB(e4._a);this._isDSTShifted=this.isValid()&&bZ(e4._a,e3.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function dw(){return this.isValid()?!this._isUTC:false}function bR(){return this.isValid()?this._isUTC:false}function dC(){return this.isValid()?this._isUTC&&this._offset===0:false}var Z=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var cw=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function de(e5,e8){var e9=e5,e7=null,e4,e6,e3;if(ae(e5)){e9={ms:e5._milliseconds,d:e5._days,M:e5._months}}else{if(q(e5)){e9={};if(e8){e9[e8]=e5}else{e9.milliseconds=e5}}else{if(!!(e7=Z.exec(e5))){e4=(e7[1]==="-")?-1:1;e9={y:0,d:cP(e7[es])*e4,h:cP(e7[eF])*e4,m:cP(e7[dH])*e4,s:cP(e7[ai])*e4,ms:cP(eh(e7[bJ]*1000))*e4}}else{if(!!(e7=cw.exec(e5))){e4=(e7[1]==="-")?-1:(e7[1]==="+")?1:1;e9={y:eR(e7[2],e4),M:eR(e7[3],e4),w:eR(e7[4],e4),d:eR(e7[5],e4),h:eR(e7[6],e4),m:eR(e7[7],e4),s:eR(e7[8],e4)}}else{if(e9==null){e9={}}else{if(typeof e9==="object"&&("from" in e9||"to" in e9)){e3=bN(dB(e9.from),dB(e9.to));e9={};e9.ms=e3.milliseconds;e9.M=e3.months}}}}}}e6=new dN(e9);if(ae(e5)&&dk(e5,"_locale")){e6._locale=e5._locale}return e6}de.fn=dN.prototype;de.invalid=aW;function eR(e5,e3){var e4=e5&&parseFloat(e5.replace(",","."));return(isNaN(e4)?0:e4)*e3}function dz(e5,e3){var e4={milliseconds:0,months:0};e4.months=e3.month()-e5.month()+(e3.year()-e5.year())*12;if(e5.clone().add(e4.months,"M").isAfter(e3)){--e4.months}e4.milliseconds=+e3-+(e5.clone().add(e4.months,"M"));return e4}function bN(e5,e3){var e4;if(!(e5.isValid()&&e3.isValid())){return{milliseconds:0,months:0}}e3=aC(e3,e5);if(e5.isBefore(e3)){e4=dz(e5,e3)}else{e4=dz(e3,e5);e4.milliseconds=-e4.milliseconds;e4.months=-e4.months}return e4}function a5(e4,e3){return function(e8,e7){var e6,e5;if(e7!==null&&!isNaN(+e7)){eO(e3,"moment()."+e3+"(period, number) is deprecated. Please use moment()."+e3+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");e5=e8;e8=e7;e7=e5}e8=typeof e8==="string"?+e8:e8;e6=de(e8,e7);aZ(this,e6,e4);return this}}function aZ(e5,e8,e7,e6){var e4=e8._milliseconds,e9=eh(e8._days),e3=eh(e8._months);if(!e5.isValid()){return}e6=e6==null?true:e6;if(e3){aV(e5,dA(e5,"Month")+e3*e7)}if(e9){aM(e5,"Date",dA(e5,"Date")+e9*e7)}if(e4){e5._d.setTime(e5._d.valueOf()+e4*e7)}if(e6){eB.updateOffset(e5,e9||e3)}}var aY=a5(1,"add");var ay=a5(-1,"subtract");function au(e5,e3){var e4=e5.diff(e3,"days",true);return e4<-6?"sameElse":e4<-1?"lastWeek":e4<0?"lastDay":e4<1?"sameDay":e4<2?"nextDay":e4<7?"nextWeek":"sameElse"}function cf(e8,e3){var e6=e8||dB(),e5=aC(e6,this).startOf("day"),e7=eB.calendarFormat(this,e5)||"sameElse";var e4=e3&&(a6(e3[e7])?e3[e7].call(this,e6):e3[e7]);return this.format(e4||this.localeData().calendar(e7,this,dB(e6)))}function dr(){return new ep(this)}function cD(e4,e3){var e5=cb(e4)?e4:dB(e4);if(!(this.isValid()&&e5.isValid())){return false}e3=cO(!F(e3)?e3:"millisecond");if(e3==="millisecond"){return this.valueOf()>e5.valueOf()}else{return e5.valueOf()<this.clone().startOf(e3).valueOf()}}function eM(e4,e3){var e5=cb(e4)?e4:dB(e4);if(!(this.isValid()&&e5.isValid())){return false}e3=cO(!F(e3)?e3:"millisecond");if(e3==="millisecond"){return this.valueOf()<e5.valueOf()}else{return this.clone().endOf(e3).valueOf()<e5.valueOf()}}function eo(e6,e5,e3,e4){e4=e4||"()";return(e4[0]==="("?this.isAfter(e6,e3):!this.isBefore(e6,e3))&&(e4[1]===")"?this.isBefore(e5,e3):!this.isAfter(e5,e3))}function cH(e4,e3){var e6=cb(e4)?e4:dB(e4),e5;if(!(this.isValid()&&e6.isValid())){return false}e3=cO(e3||"millisecond");if(e3==="millisecond"){return this.valueOf()===e6.valueOf()}else{e5=e6.valueOf();return this.clone().startOf(e3).valueOf()<=e5&&e5<=this.clone().endOf(e3).valueOf()}}function eH(e4,e3){return this.isSame(e4,e3)||this.isAfter(e4,e3)}function eK(e4,e3){return this.isSame(e4,e3)||this.isBefore(e4,e3)}function K(e6,e5,e3){var e8,e7,e9,e4;if(!this.isValid()){return NaN}e8=aC(e6,this);if(!e8.isValid()){return NaN}e7=(e8.utcOffset()-this.utcOffset())*60000;e5=cO(e5);switch(e5){case"year":e4=ek(this,e8)/12;break;case"month":e4=ek(this,e8);break;case"quarter":e4=ek(this,e8)/3;break;case"second":e4=(this-e8)/1000;break;case"minute":e4=(this-e8)/60000;break;case"hour":e4=(this-e8)/3600000;break;case"day":e4=(this-e8-e7)/86400000;break;case"week":e4=(this-e8-e7)/604800000;break;default:e4=this-e8}return e3?e4:dh(e4)}function ek(e4,e3){var e8=((e3.year()-e4.year())*12)+(e3.month()-e4.month()),e5=e4.clone().add(e8,"months"),e6,e7;if(e3-e5<0){e6=e4.clone().add(e8-1,"months");e7=(e3-e5)/(e5-e6)}else{e6=e4.clone().add(e8+1,"months");e7=(e3-e5)/(e6-e5)}return -(e8+e7)||0}eB.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";eB.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function d1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function c3(){if(!this.isValid()){return null}var e3=this.clone().utc();if(e3.year()<0||e3.year()>9999){return af(e3,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}if(a6(Date.prototype.toISOString)){return this.toDate().toISOString()}return af(e3,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function aQ(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var e5="moment";var e3="";if(!this.isLocal()){e5=this.utcOffset()===0?"moment.utc":"moment.parseZone";e3="Z"}var e6="["+e5+'("]';var e4=(0<=this.year()&&this.year()<=9999)?"YYYY":"YYYYYY";var e8="-MM-DD[T]HH:mm:ss.SSS";var e7=e3+'[")]';return this.format(e6+e4+e8+e7)}function c6(e4){if(!e4){e4=this.isUtc()?eB.defaultFormatUtc:eB.defaultFormat}var e3=af(this,e4);return this.localeData().postformat(e3)}function dQ(e4,e3){if(this.isValid()&&((cb(e4)&&e4.isValid())||dB(e4).isValid())){return de({to:this,from:e4}).locale(this.locale()).humanize(!e3)}else{return this.localeData().invalidDate()}}function dL(e3){return this.from(dB(),e3)}function ah(e4,e3){if(this.isValid()&&((cb(e4)&&e4.isValid())||dB(e4).isValid())){return de({from:this,to:e4}).locale(this.locale()).humanize(!e3)}else{return this.localeData().invalidDate()}}function aP(e3){return this.to(dB(),e3)}function e2(e4){var e3;if(e4===undefined){return this._locale._abbr}else{e3=Q(e4);if(e3!=null){this._locale=e3}return this}}var y=ee("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e3){if(e3===undefined){return this.localeData()}else{return this.locale(e3)}});function dR(){return this._locale}function b7(e3){e3=cO(e3);switch(e3){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(e3==="week"){this.weekday(0)}if(e3==="isoWeek"){this.isoWeekday(1)}if(e3==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function ev(e3){e3=cO(e3);if(e3===undefined||e3==="millisecond"){return this}if(e3==="date"){e3="day"}return this.startOf(e3).add(1,(e3==="isoWeek"?"week":e3)).subtract(1,"ms")}function dU(){return this._d.valueOf()-((this._offset||0)*60000)}function bz(){return Math.floor(this.valueOf()/1000)}function c0(){return new Date(this.valueOf())}function dJ(){var e3=this;return[e3.year(),e3.month(),e3.date(),e3.hour(),e3.minute(),e3.second(),e3.millisecond()]}function dS(){var e3=this;return{years:e3.year(),months:e3.month(),date:e3.date(),hours:e3.hours(),minutes:e3.minutes(),seconds:e3.seconds(),milliseconds:e3.milliseconds()}}function c7(){return this.isValid()?this.toISOString():null}function o(){return an(this)}function dE(){return eW({},bb(this))}function cz(){return bb(this).overflow}function eN(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}cx(0,["gg",2],0,function(){return this.weekYear()%100});cx(0,["GG",2],0,function(){return this.isoWeekYear()%100});function W(e4,e3){cx(0,[e4,e4.length],0,e3)}W("gggg","weekYear");W("ggggg","weekYear");W("GGGG","isoWeekYear");W("GGGGG","isoWeekYear");ce("weekYear","gg");ce("isoWeekYear","GG");dV("weekYear",1);dV("isoWeekYear",1);bd("G",B);bd("g",B);bd("GG",aq,aJ);bd("gg",aq,aJ);bd("GGGG",ao,aH);bd("gggg",ao,aH);bd("GGGGG",am,aG);bd("ggggg",am,aG);X(["gggg","ggggg","GGGG","GGGGG"],function(e3,e6,e4,e5){e6[e5.substr(0,2)]=cP(e3)});X(["gg","GG"],function(e3,e6,e4,e5){e6[e5]=eB.parseTwoDigitYear(e3)});function bq(e3){return cs.call(this,e3,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function dY(e3){return cs.call(this,e3,this.isoWeek(),this.isoWeekday(),1,4)}function c9(){return E(this.year(),1,4)}function I(){var e3=this.localeData()._week;return E(this.year(),e3.dow,e3.doy)}function cs(e3,e4,e6,e8,e7){var e5;if(e3==null){return eq(this,e8,e7).year}else{e5=E(e3,e8,e7);if(e4>e5){e4=e5}return a7.call(this,e3,e4,e6,e8,e7)}}function a7(e5,e4,e7,e9,e8){var e6=bA(e5,e4,e7,e9,e8),e3=du(e6.year,0,e6.dayOfYear);this.year(e3.getUTCFullYear());this.month(e3.getUTCMonth());this.date(e3.getUTCDate());return this}cx("Q",0,"Qo","quarter");ce("quarter","Q");dV("quarter",7);bd("Q",aK);bU("Q",function(e3,e4){e4[i]=(cP(e3)-1)*3});function b0(e3){return e3==null?Math.ceil((this.month()+1)/3):this.month((e3-1)*3+this.month()%3)}cx("D",["DD",2],"Do","date");ce("date","D");dV("date",9);bd("D",aq);bd("DD",aq,aJ);bd("Do",function(e4,e3){return e4?(e3._dayOfMonthOrdinalParse||e3._ordinalParse):e3._dayOfMonthOrdinalParseLenient});bU(["D","DD"],es);bU("Do",function(e3,e4){e4[es]=cP(e3.match(aq)[0],10)});var cm=eb("Date",true);cx("DDD",["DDDD",3],"DDDo","dayOfYear");ce("dayOfYear","DDD");dV("dayOfYear",4);bd("DDD",ap);bd("DDDD",aI);bU(["DDD","DDDD"],function(e3,e5,e4){e4._dayOfYear=cP(e3)});function bf(e3){var e4=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/86400000)+1;return e3==null?e4:this.add((e3-e4),"d")}cx("m",["mm",2],0,"minute");ce("minute","m");dV("minute",14);bd("m",aq);bd("mm",aq,aJ);bU(["m","mm"],dH);var eL=eb("Minutes",false);cx("s",["ss",2],0,"second");ce("second","s");dV("second",15);bd("s",aq);bd("ss",aq,aJ);bU(["s","ss"],ai);var bv=eb("Seconds",false);cx("S",0,0,function(){return ~~(this.millisecond()/100)});cx(0,["SS",2],0,function(){return ~~(this.millisecond()/10)});cx(0,["SSS",3],0,"millisecond");cx(0,["SSSS",4],0,function(){return this.millisecond()*10});cx(0,["SSSSS",5],0,function(){return this.millisecond()*100});cx(0,["SSSSSS",6],0,function(){return this.millisecond()*1000});cx(0,["SSSSSSS",7],0,function(){return this.millisecond()*10000});cx(0,["SSSSSSSS",8],0,function(){return this.millisecond()*100000});cx(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1000000});ce("millisecond","ms");dV("millisecond",16);bd("S",ap,aK);bd("SS",ap,aJ);bd("SSS",ap,aI);var bk;for(bk="SSSS";bk.length<=9;bk+="S"){bd(bk,r)}function c4(e3,e4){e4[bJ]=cP(("0."+e3)*1000)}for(bk="S";bk.length<=9;bk+="S"){bU(bk,c4)}var bY=eb("Milliseconds",false);cx("z",0,0,"zoneAbbr");cx("zz",0,0,"zoneName");function eI(){return this._isUTC?"UTC":""}function eg(){return this._isUTC?"Coordinated Universal Time":""}var cc=ep.prototype;cc.add=aY;cc.calendar=cf;cc.clone=dr;cc.diff=K;cc.endOf=ev;cc.format=c6;cc.from=dQ;cc.fromNow=dL;cc.to=ah;cc.toNow=aP;cc.get=az;cc.invalidAt=cz;cc.isAfter=cD;cc.isBefore=eM;cc.isBetween=eo;cc.isSame=cH;cc.isSameOrAfter=eH;cc.isSameOrBefore=eK;cc.isValid=o;cc.lang=y;cc.locale=e2;cc.localeData=dR;cc.max=em;cc.min=cI;cc.parsingFlags=dE;cc.set=at;cc.startOf=b7;cc.subtract=ay;cc.toArray=dJ;cc.toObject=dS;cc.toDate=c0;cc.toISOString=c3;cc.inspect=aQ;cc.toJSON=c7;cc.toString=d1;cc.unix=bz;cc.valueOf=dU;cc.creationData=eN;cc.year=cG;cc.isLeapYear=cV;cc.weekYear=bq;cc.isoWeekYear=dY;cc.quarter=cc.quarters=b0;cc.month=eE;cc.daysInMonth=bM;cc.week=cc.weeks=J;cc.isoWeek=cc.isoWeeks=x;cc.weeksInYear=I;cc.isoWeeksInYear=c9;cc.date=cm;cc.day=cc.days=ei;cc.weekday=ad;cc.isoWeekday=ct;cc.dayOfYear=bf;cc.hour=cc.hours=cp;cc.minute=cc.minutes=eL;cc.second=cc.seconds=bv;cc.millisecond=cc.milliseconds=bY;cc.utcOffset=dv;cc.utc=a0;cc.local=ds;cc.parseZone=b8;cc.hasAlignedHourOffset=aA;cc.isDST=aN;cc.isLocal=dw;cc.isUtcOffset=bR;cc.isUtc=dC;cc.isUTC=dC;cc.zoneAbbr=eI;cc.zoneName=eg;cc.dates=ee("dates accessor is deprecated. Use date instead.",cm);cc.months=ee("months accessor is deprecated. Use month instead",eE);cc.years=ee("years accessor is deprecated. Use year instead",cG);cc.zone=ee("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",dq);cc.isDSTShifted=ee("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",b);function db(e3){return dB(e3*1000)}function cM(){return dB.apply(null,arguments).parseZone()}function dx(e3){return e3}var d3=cC.prototype;d3.calendar=d;d3.longDateFormat=cJ;d3.invalidDate=en;d3.ordinal=ez;d3.preparse=dx;d3.postformat=dx;d3.relativeTime=T;d3.pastFuture=dX;d3.set=dm;d3.months=a1;d3.monthsShort=ba;d3.monthsParse=da;d3.monthsRegex=cY;d3.monthsShortRegex=dj;d3.week=bo;d3.firstDayOfYear=c8;d3.firstDayOfWeek=ag;d3.weekdays=ax;d3.weekdaysMin=eC;d3.weekdaysShort=M;d3.weekdaysParse=bL;d3.weekdaysRegex=eS;d3.weekdaysShortRegex=aF;d3.weekdaysMinRegex=D;d3.isPM=cd;d3.meridiem=aT;function H(e7,e4,e6,e8){var e3=Q();var e5=cv().set(e8,e4);return e3[e6](e5,e7)}function aX(e7,e4,e6){if(q(e7)){e4=e7;e7=undefined}e7=e7||"";if(e4!=null){return H(e7,e4,e6,"month")}var e5;var e3=[];for(e5=0;e5<12;e5++){e3[e5]=H(e7,e5,e6,"month")}return e3}function eU(e8,fa,e6,e9){if(typeof e8==="boolean"){if(q(fa)){e6=fa;fa=undefined}fa=fa||""}else{fa=e8;e6=fa;e8=false;if(q(fa)){e6=fa;fa=undefined}fa=fa||""}var e3=Q(),e4=e8?e3._week.dow:0;if(e6!=null){return H(fa,(e6+e4)%7,e9,"day")}var e7;var e5=[];for(e7=0;e7<7;e7++){e5[e7]=H(fa,(e7+e4)%7,e9,"day")}return e5}function cT(e4,e3){return aX(e4,e3,"months")}function cB(e4,e3){return aX(e4,e3,"monthsShort")}function c5(e4,e5,e3){return eU(e4,e5,e3,"weekdays")}function cL(e4,e5,e3){return eU(e4,e5,e3,"weekdaysShort")}function Y(e4,e5,e3){return eU(e4,e5,e3,"weekdaysMin")}A("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e5){var e3=e5%10,e4=(cP(e5%100/10)===1)?"th":(e3===1)?"st":(e3===2)?"nd":(e3===3)?"rd":"th";return e5+e4}});eB.lang=ee("moment.lang is deprecated. Use moment.locale instead.",A);eB.langData=ee("moment.langData is deprecated. Use moment.localeData instead.",Q);var ex=Math.abs;function bm(){var e3=this._data;this._milliseconds=ex(this._milliseconds);this._days=ex(this._days);this._months=ex(this._months);e3.milliseconds=ex(e3.milliseconds);e3.seconds=ex(e3.seconds);e3.minutes=ex(e3.minutes);e3.hours=ex(e3.hours);e3.months=ex(e3.months);e3.years=ex(e3.years);return this}function aE(e7,e4,e5,e6){var e3=de(e4,e5);e7._milliseconds+=e6*e3._milliseconds;e7._days+=e6*e3._days;e7._months+=e6*e3._months;return e7._bubble()}function bB(e3,e4){return aE(this,e3,e4,1)}function dO(e3,e4){return aE(this,e3,e4,-1)}function eD(e3){if(e3<0){return Math.floor(e3)}else{return Math.ceil(e3)}}function cU(){var e5=this._milliseconds;var fb=this._days;var e3=this._months;var e7=this._data;var fa,e6,e9,e8,e4;if(!((e5>=0&&fb>=0&&e3>=0)||(e5<=0&&fb<=0&&e3<=0))){e5+=eD(eY(e3)+fb)*86400000;fb=0;e3=0}e7.milliseconds=e5%1000;fa=dh(e5/1000);e7.seconds=fa%60;e6=dh(fa/60);e7.minutes=e6%60;e9=dh(e6/60);e7.hours=e9%24;fb+=dh(e9/24);e4=dh(f(fb));e3+=e4;fb-=eD(eY(e4));e8=dh(e3/12);e3%=12;e7.days=fb;e7.months=e3;e7.years=e8;return this}function f(e3){return e3*4800/146097}function eY(e3){return e3*146097/4800}function eG(e4){if(!this.isValid()){return NaN}var e6;var e3;var e5=this._milliseconds;e4=cO(e4);if(e4==="month"||e4==="year"){e6=this._days+e5/86400000;e3=this._months+f(e6);return e4==="month"?e3:e3/12}else{e6=this._days+Math.round(eY(this._months));switch(e4){case"week":return e6/7+e5/604800000;case"day":return e6+e5/86400000;case"hour":return e6*24+e5/3600000;case"minute":return e6*1440+e5/60000;case"second":return e6*86400+e5/1000;case"millisecond":return Math.floor(e6*86400000)+e5;default:throw new Error("Unknown unit "+e4)}}}function c2(){if(!this.isValid()){return NaN}return(this._milliseconds+this._days*86400000+(this._months%12)*2592000000+cP(this._months/12)*31536000000)}function d5(e3){return function(){return this.as(e3)}}var e0=d5("ms");var L=d5("s");var dt=d5("m");var t=d5("h");var d9=d5("d");var dP=d5("w");var d4=d5("M");var bj=d5("y");function eT(){return de(this)}function G(e3){e3=cO(e3);return this.isValid()?this[e3+"s"]():NaN}function b9(e3){return function(){return this.isValid()?this._data[e3]:NaN}}var c=b9("milliseconds");var bg=b9("seconds");var aD=b9("minutes");var U=b9("hours");var be=b9("days");var eJ=b9("months");var bK=b9("years");function ec(){return dh(this.days()/7)}var cZ=Math.round;var dG={ss:44,s:45,m:45,h:22,d:26,M:11};function aj(e4,e6,e5,e7,e3){return e3.relativeTime(e6||1,!!e5,e4,e7)}function dI(e7,e4,fb){var e5=de(e7).abs();var fc=cZ(e5.as("s"));var e6=cZ(e5.as("m"));var fa=cZ(e5.as("h"));var fd=cZ(e5.as("d"));var e3=cZ(e5.as("M"));var e8=cZ(e5.as("y"));var e9=fc<=dG.ss&&["s",fc]||fc<dG.s&&["ss",fc]||e6<=1&&["m"]||e6<dG.m&&["mm",e6]||fa<=1&&["h"]||fa<dG.h&&["hh",fa]||fd<=1&&["d"]||fd<dG.d&&["dd",fd]||e3<=1&&["M"]||e3<dG.M&&["MM",e3]||e8<=1&&["y"]||["yy",e8];e9[2]=e4;e9[3]=+e7>0;e9[4]=fb;return aj.apply(null,e9)}function et(e3){if(e3===undefined){return cZ}if(typeof(e3)==="function"){cZ=e3;return true}return false}function cl(e3,e4){if(dG[e3]===undefined){return false}if(e4===undefined){return dG[e3]}dG[e3]=e4;if(e3==="s"){dG.ss=e4-1}return true}function a(e5){if(!this.isValid()){return this.localeData().invalidDate()}var e3=this.localeData();var e4=dI(this,!e5,e3);if(e5){e4=e3.pastFuture(+this,e4)}return e3.postformat(e4)}var aU=Math.abs;function bT(e3){return((e3>0)-(e3<0))||+e3}function bI(){if(!this.isValid()){return this.localeData().invalidDate()}var fh=aU(this._milliseconds)/1000;var fi=aU(this._days);var e6=aU(this._months);var fa,fg,fd;fa=dh(fh/60);fg=dh(fa/60);fh%=60;fa%=60;fd=dh(e6/12);e6%=12;var e5=fd;var fe=e6;var e4=fi;var fc=fg;var e9=fa;var fj=fh?fh.toFixed(3).replace(/\.?0+$/,""):"";var ff=this.asSeconds();if(!ff){return"P0D"}var e3=ff<0?"-":"";var e7=bT(this._months)!==bT(ff)?"-":"";var e8=bT(this._days)!==bT(ff)?"-":"";var fb=bT(this._milliseconds)!==bT(ff)?"-":"";return e3+"P"+(e5?e7+e5+"Y":"")+(fe?e7+fe+"M":"")+(e4?e8+e4+"D":"")+((fc||e9||fj)?"T":"")+(fc?fb+fc+"H":"")+(e9?fb+e9+"M":"")+(fj?fb+fj+"S":"")}var d2=dN.prototype;d2.isValid=s;d2.abs=bm;d2.add=bB;d2.subtract=dO;d2.as=eG;d2.asMilliseconds=e0;d2.asSeconds=L;d2.asMinutes=dt;d2.asHours=t;d2.asDays=d9;d2.asWeeks=dP;d2.asMonths=d4;d2.asYears=bj;d2.valueOf=c2;d2._bubble=cU;d2.clone=eT;d2.get=G;d2.milliseconds=c;d2.seconds=bg;d2.minutes=aD;d2.hours=U;d2.days=be;d2.weeks=ec;d2.months=eJ;d2.years=bK;d2.humanize=a;d2.toISOString=bI;d2.toString=bI;d2.toJSON=bI;d2.locale=e2;d2.localeData=dR;d2.toIsoString=ee("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",bI);d2.lang=y;cx("X",0,0,"unix");cx("x",0,0,"valueOf");bd("x",B);bd("X",eP);bU("X",function(e3,e5,e4){e4._d=new Date(parseFloat(e3,10)*1000)});bU("x",function(e3,e5,e4){e4._d=new Date(cP(e3))});eB.version="2.19.1";aR(dB);eB.fn=cc;eB.min=n;eB.max=bl;eB.now=cy;eB.utc=cv;eB.unix=db;eB.months=cT;eB.isDate=eu;eB.locale=A;eB.invalid=N;eB.duration=de;eB.isMoment=cb;eB.weekdays=c5;eB.parseZone=cM;eB.localeData=Q;eB.isDuration=ae;eB.monthsShort=cB;eB.weekdaysMin=Y;eB.defineLocale=cA;eB.updateLocale=ej;eB.locales=b4;eB.weekdaysShort=cL;eB.normalizeUnits=cO;eB.relativeTimeRounding=et;eB.relativeTimeThreshold=cl;eB.calendarFormat=au;eB.prototype=cc;return eB})));;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/libs/fullcalendar.js' */
/*!
 * FullCalendar v3.6.2
 * Docs & License: https://fullcalendar.io/
 * (c) 2017 Adam Shaw
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","moment"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"),require("moment"))}else{a(jQuery,moment)}}})(function(b9,bH){var D=b9.fullCalendar={version:"3.6.2",internalApiVersion:11};var an=D.views={};b9.fn.fullCalendar=function(cu){var ct=Array.prototype.slice.call(arguments,1);var cv=this;this.each(function(cy,cw){var cx=b9(cw);var cA=cx.data("fullCalendar");var cz;if(typeof cu==="string"){if(cu==="getCalendar"){if(!cy){cv=cA}}else{if(cu==="destroy"){if(cA){cA.destroy();cx.removeData("fullCalendar")}}else{if(!cA){D.warn("Attempting to call a FullCalendar method on an element with no calendar.")}else{if(b9.isFunction(cA[cu])){cz=cA[cu].apply(cA,ct);if(!cy){cv=cz}if(cu==="destroy"){cx.removeData("fullCalendar")}}else{D.warn("'"+cu+"' is an unknown FullCalendar method.")}}}}}else{if(!cA){cA=new A(cx,cu);cx.data("fullCalendar",cA);cA.render()}}});return cv};var ar=["header","footer","buttonText","buttonIcons","themeButtonIcons"];function bq(ct){return co(ct,ar)}D.applyAll=G;D.debounce=bO;D.isInt=cf;D.htmlEscape=be;D.cssToStr=T;D.proxy=a8;D.capitaliseFirstLetter=q;function aU(cu,ct){if(ct.left){cu.css({"border-left-width":1,"margin-left":ct.left-1})}if(ct.right){cu.css({"border-right-width":1,"margin-right":ct.right-1})}}function Q(ct){ct.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function ca(){b9("body").addClass("fc-not-allowed")}function aO(){b9("body").removeClass("fc-not-allowed")}function ao(cy,cx,cu){var cv=Math.floor(cx/cy.length);var ct=Math.floor(cx-cv*(cy.length-1));var cz=[];var cA=[];var cw=[];var cB=0;l(cy);cy.each(function(cD,cE){var cF=cD===cy.length-1?ct:cv;var cC=b9(cE).outerHeight(true);if(cC<cF){cz.push(cE);cA.push(cC);cw.push(b9(cE).height())}else{cB+=cC}});if(cu){cx-=cB;cv=Math.floor(cx/cz.length);ct=Math.floor(cx-cv*(cz.length-1))}b9(cz).each(function(cE,cF){var cH=cE===cz.length-1?ct:cv;var cD=cA[cE];var cG=cw[cE];var cC=cH-(cD-cG);if(cD<cH){b9(cF).height(cC)}})}function l(ct){ct.height("")}function af(ct){var cu=0;ct.find("> *").each(function(cw,cx){var cv=b9(cx).outerWidth();if(cv>cu){cu=cv}});cu++;ct.width(cu);return cu}function s(ct,cw){var cu=ct.add(cw);var cv;cu.css({position:"relative",left:-1});cv=ct.outerHeight()-cw.outerHeight();cu.css({position:"",left:""});return cv}D.getOuterRect=aJ;D.getClientRect=K;D.getContentRect=az;D.getScrollbarWidths=a;function b3(cu){var ct=cu.css("position"),cv=cu.parents().filter(function(){var cw=b9(this);return(/(auto|scroll)/).test(cw.css("overflow")+cw.css("overflow-y")+cw.css("overflow-x"))}).eq(0);return ct==="fixed"||!cv.length?b9(cu[0].ownerDocument||document):cv}function aJ(cu,ct){var cx=cu.offset();var cw=cx.left-(ct?ct.left:0);var cv=cx.top-(ct?ct.top:0);return{left:cw,right:cw+cu.outerWidth(),top:cv,bottom:cv+cu.outerHeight()}}function K(cv,ct){var cy=cv.offset();var cu=a(cv);var cx=cy.left+cj(cv,"border-left-width")+cu.left-(ct?ct.left:0);var cw=cy.top+cj(cv,"border-top-width")+cu.top-(ct?ct.top:0);return{left:cx,right:cx+cv[0].clientWidth,top:cw,bottom:cw+cv[0].clientHeight}}function az(cu,ct){var cx=cu.offset();var cw=cx.left+cj(cu,"border-left-width")+cj(cu,"padding-left")-(ct?ct.left:0);var cv=cx.top+cj(cu,"border-top-width")+cj(cu,"padding-top")-(ct?ct.top:0);return{left:cw,right:cw+cu.width(),top:cv,bottom:cv+cu.height()}}function a(cu){var cw=cu[0].offsetWidth-cu[0].clientWidth;var ct=cu[0].offsetHeight-cu[0].clientHeight;var cv;cw=w(cw);ct=w(ct);cv={left:0,right:0,top:0,bottom:ct};if(b2()&&cu.css("direction")=="rtl"){cv.left=cw}else{cv.right=cw}return cv}function w(ct){ct=Math.max(0,ct);ct=Math.round(ct);return ct}var O=null;function b2(){if(O===null){O=a0()}return O}function a0(){var cu=b9("<div><div/></div>").css({position:"absolute",top:-1000,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body");var cv=cu.children();var ct=cv.offset().left>cu.offset().left;cu.remove();return ct}function cj(ct,cu){return parseFloat(ct.css(cu))||0}D.preventDefault=ch;function cm(ct){return ct.which==1&&!ct.ctrlKey}function aa(ct){var cu=ct.originalEvent.touches;if(cu&&cu.length){return cu[0].pageX}return ct.pageX}function Z(ct){var cu=ct.originalEvent.touches;if(cu&&cu.length){return cu[0].pageY}return ct.pageY}function bn(ct){return/^touch/.test(ct.type)}function J(ct){ct.addClass("fc-unselectable").on("selectstart",ch)}function ah(ct){ct.removeClass("fc-unselectable").off("selectstart",ch)}function ch(ct){ct.preventDefault()}D.intersectRects=d;function d(cu,ct){var cv={left:Math.max(cu.left,ct.left),right:Math.min(cu.right,ct.right),top:Math.max(cu.top,ct.top),bottom:Math.min(cu.bottom,ct.bottom)};if(cv.left<cv.right&&cv.top<cv.bottom){return cv}return false}function ba(ct,cu){return{left:Math.min(Math.max(ct.left,cu.left),cu.right),top:Math.min(Math.max(ct.top,cu.top),cu.bottom)}}function bu(ct){return{left:(ct.left+ct.right)/2,top:(ct.top+ct.bottom)/2}}function b8(cu,ct){return{left:cu.left-ct.left,top:cu.top-ct.top}}D.parseFieldSpecs=a6;D.compareByFieldSpecs=bQ;D.compareByFieldSpec=H;D.flexibleCompare=U;function a6(ct){var cx=[];var cw=[];var cv,cu;if(typeof ct==="string"){cw=ct.split(/\s*,\s*/)}else{if(typeof ct==="function"){cw=[ct]}else{if(b9.isArray(ct)){cw=ct}}}for(cv=0;cv<cw.length;cv++){cu=cw[cv];if(typeof cu==="string"){cx.push(cu.charAt(0)=="-"?{field:cu.substring(1),order:-1}:{field:cu,order:1})}else{if(typeof cu==="function"){cx.push({func:cu})}}}return cx}function bQ(cw,cv,cx){var ct;var cu;for(ct=0;ct<cx.length;ct++){cu=H(cw,cv,cx[ct]);if(cu){return cu}}return 0}function H(cv,ct,cu){if(cu.func){return cu.func(cv,ct)}return U(cv[cu.field],ct[cu.field])*(cu.order||1)}function U(cu,ct){if(!cu&&!ct){return 0}if(ct==null){return -1}if(cu==null){return 1}if(b9.type(cu)==="string"||b9.type(ct)==="string"){return String(cu).localeCompare(String(ct))}return cu-ct}D.computeGreatestUnit=a2;D.divideRangeByDuration=o;D.divideDurationByDuration=L;D.multiplyDuration=aR;D.durationHasTime=at;var bk=["sun","mon","tue","wed","thu","fri","sat"];var k=["year","month","week","day","hour","minute","second","millisecond"];function g(cu,ct){return bH.duration({days:cu.clone().stripTime().diff(ct.clone().stripTime(),"days"),ms:cu.time()-ct.time()})}function av(cu,ct){return bH.duration({days:cu.clone().stripTime().diff(ct.clone().stripTime(),"days")})}function e(cu,ct,cv){return bH.duration(Math.round(cu.diff(ct,cv,true)),cv)}function a2(cx,ct){var cu,cv;var cw;for(cu=0;cu<k.length;cu++){cv=k[cu];cw=aV(cv,cx,ct);if(cw>=1&&cf(cw)){break}}return cv}function f(cv,ct){var cu=a2(cv);if(cu==="week"&&typeof ct==="object"&&ct.days){cu="day"}return cu}function aV(cu,cv,ct){if(ct!=null){return ct.diff(cv,cu,true)}else{if(bH.isDuration(cv)){return cv.as(cu)}else{return cv.end.diff(cv.start,cu,true)}}}function o(cw,cu,cv){var ct;if(at(cv)){return(cu-cw)/cv}ct=cv.asMonths();if(Math.abs(ct)>=1&&cf(ct)){return cu.diff(cw,"months",true)/ct}return cu.diff(cw,"days",true)/cv.asDays()}function L(cv,cu){var ct,cw;if(at(cv)||at(cu)){return cv/cu}ct=cv.asMonths();cw=cu.asMonths();if(Math.abs(ct)>=1&&cf(ct)&&Math.abs(cw)>=1&&cf(cw)){return ct/cw}return cv.asDays()/cu.asDays()}function aR(cu,cv){var ct;if(at(cu)){return bH.duration(cu*cv)}ct=cu.asMonths();if(Math.abs(ct)>=1&&cf(ct)){return bH.duration({months:ct*cv})}return bH.duration({days:cu.asDays()*cv})}function at(ct){return Boolean(ct.hours()||ct.minutes()||ct.seconds()||ct.milliseconds())}function j(ct){return Object.prototype.toString.call(ct)==="[object Date]"||ct instanceof Date}function au(ct){return typeof ct==="string"&&/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(ct)}D.log=function(){var ct=window.console;if(ct&&ct.log){return ct.log.apply(ct,arguments)}};D.warn=function(){var ct=window.console;if(ct&&ct.warn){return ct.warn.apply(ct,arguments)}else{return D.log.apply(D,arguments)}};var bi={}.hasOwnProperty;function co(cB,cx){var cA={};var cw,ct;var cz;var cv,cu;var cy;if(cx){for(cw=0;cw<cx.length;cw++){ct=cx[cw];cz=[];for(cv=cB.length-1;cv>=0;cv--){cu=cB[cv][ct];if(typeof cu==="object"){cz.unshift(cu)}else{if(cu!==undefined){cA[ct]=cu;break}}}if(cz.length){cA[ct]=co(cz)}}}for(cw=cB.length-1;cw>=0;cw--){cy=cB[cw];for(ct in cy){if(!(ct in cA)){cA[ct]=cy[ct]}}}return cA}function z(cv,cu){for(var ct in cv){if(ax(cv,ct)){cu[ct]=cv[ct]}}}function ax(cu,ct){return bi.call(cu,ct)}function G(cw,cx,cu){if(b9.isFunction(cw)){cw=[cw]}if(cw){var cv;var ct;for(cv=0;cv<cw.length;cv++){ct=cw[cv].apply(cx,cu)||ct}return ct}}function m(cw,ct){var cv=0;var cu=0;while(cu<cw.length){if(ct(cw[cu])){cw.splice(cu,1);cv++}else{cu++}}return cv}function cn(cw,cv){var cu=0;var ct=0;while(ct<cw.length){if(cw[ct]===cv){cw.splice(ct,1);cu++}else{ct++}}return cu}D.removeExact=cn;function aG(cv,cu){var ct=cv.length;var cw;if(ct==null||ct!==cu.length){return false}for(cw=0;cw<ct;cw++){if(cv[cw]!==cu[cw]){return false}}return true}function aj(){for(var ct=0;ct<arguments.length;ct++){if(arguments[ct]!==undefined){return arguments[ct]}}}function be(ct){return(ct+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function bc(ct){return ct.replace(/&.*?;/g,"")}function T(cu){var ct=[];b9.each(cu,function(cv,cw){if(cw!=null){ct.push(cv+":"+cw)}});return ct.join(";")}function bJ(ct){var cu=[];b9.each(ct,function(cv,cw){if(cw!=null){cu.push(cv+'="'+be(cw)+'"')}});return cu.join(" ")}function q(ct){return ct.charAt(0).toUpperCase()+ct.slice(1)}function am(cu,ct){return cu-ct}function cf(ct){return ct%1===0}function a8(cu,ct){var cv=cu[ct];return function(){return cv.apply(cu,arguments)}}function bO(cv,cx,cu){var cA,cz,ct,cy,cB;var cw=function(){var cC=+new Date()-cy;if(cC<cx){cA=setTimeout(cw,cx-cC)}else{cA=null;if(!cu){cB=cv.apply(ct,cz);ct=cz=null}}};return function(){ct=this;cz=arguments;cy=+new Date();var cC=cu&&!cA;if(!cA){cA=setTimeout(cw,cx)}if(cC){cB=cv.apply(ct,cz);ct=cz=null}return cB}}var cr=/^\s*\d{4}-\d\d$/;var aZ=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;var aN=bH.fn;var a4=b9.extend({},aN);var V=bH.momentProperties;V.push("_fullCalendar");V.push("_ambigTime");V.push("_ambigZone");D.moment=function(){return bV(arguments)};D.moment.utc=function(){var ct=bV(arguments,true);if(ct.hasTime()){ct.utc()}return ct};D.moment.parseZone=function(){return bV(arguments,true,true)};function bV(cz,cy,cx){var cB=cz[0];var cw=cz.length==1&&typeof cB==="string";var cv;var cA;var ct;var cu;if(bH.isMoment(cB)||j(cB)||cB===undefined){cu=bH.apply(null,cz)}else{cv=false;cA=false;if(cw){if(cr.test(cB)){cB+="-01";cz=[cB];cv=true;cA=true}else{if((ct=aZ.exec(cB))){cv=!ct[5];cA=true}}}else{if(b9.isArray(cB)){cA=true}}if(cy||cv){cu=bH.utc.apply(bH,cz)}else{cu=bH.apply(null,cz)}if(cv){cu._ambigTime=true;cu._ambigZone=true}else{if(cx){if(cA){cu._ambigZone=true}else{if(cw){cu.utcOffset(cB)}}}}}cu._fullCalendar=true;return cu}aN.week=aN.weeks=function(cu){var ct=this._locale._fullCalendar_weekCalc;if(cu==null&&typeof ct==="function"){return ct(this)}else{if(ct==="ISO"){return a4.isoWeek.apply(this,arguments)}}return a4.week.apply(this,arguments)};aN.time=function(cu){if(!this._fullCalendar){return a4.time.apply(this,arguments)}if(cu==null){return bH.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}else{this._ambigTime=false;if(!bH.isDuration(cu)&&!bH.isMoment(cu)){cu=bH.duration(cu)}var ct=0;if(bH.isDuration(cu)){ct=Math.floor(cu.asDays())*24}return this.hours(ct+cu.hours()).minutes(cu.minutes()).seconds(cu.seconds()).milliseconds(cu.milliseconds())}};aN.stripTime=function(){if(!this._ambigTime){this.utc(true);this.set({hours:0,minutes:0,seconds:0,ms:0});this._ambigTime=true;this._ambigZone=true}return this};aN.hasTime=function(){return !this._ambigTime};aN.stripZone=function(){var ct;if(!this._ambigZone){ct=this._ambigTime;this.utc(true);this._ambigTime=ct||false;this._ambigZone=true}return this};aN.hasZone=function(){return !this._ambigZone};aN.local=function(ct){a4.local.call(this,this._ambigZone||ct);this._ambigTime=false;this._ambigZone=false;return this};aN.utc=function(ct){a4.utc.call(this,ct);this._ambigTime=false;this._ambigZone=false;return this};aN.utcOffset=function(ct){if(ct!=null){this._ambigTime=false;this._ambigZone=false}return a4.utcOffset.apply(this,arguments)};aN.format=function(){if(this._fullCalendar&&arguments[0]){return n(this,arguments[0])}if(this._ambigTime){return ay(p(this),"YYYY-MM-DD")}if(this._ambigZone){return ay(p(this),"YYYY-MM-DD[T]HH:mm:ss")}if(this._fullCalendar){return ay(p(this))}return a4.format.apply(this,arguments)};aN.toISOString=function(){if(this._ambigTime){return ay(p(this),"YYYY-MM-DD")}if(this._ambigZone){return ay(p(this),"YYYY-MM-DD[T]HH:mm:ss")}if(this._fullCalendar){return a4.toISOString.apply(p(this),arguments)}return a4.toISOString.apply(this,arguments)};function p(ct){if(ct.locale()!=="en"){return ct.clone().locale("en")}return ct}(function(){D.formatDate=cC;D.formatRange=cw;D.oldMomentFormat=cB;D.queryMostGranularFormatUnit=cA;var cM="\u000b";var cD="\u001f";var cE="\u001e";var cy=new RegExp(cE+"([^"+cE+"]*)"+cE,"g");var cv={t:function(cO){return cB(cO,"a").charAt(0)},T:function(cO){return cB(cO,"A").charAt(0)}};var cJ={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};function cC(cP,cO){return cG(cK(cO).fakeFormatString,cP)}function cB(cP,cO){return a4.format.call(cP,cO)}function cw(cT,cR,cO,cS,cP){var cQ;cT=D.moment.parseZone(cT);cR=D.moment.parseZone(cR);cQ=cT.localeData();cO=cQ.longDateFormat(cO)||cO;return cz(cK(cO),cT,cR,cS||" - ",cP)}function cz(cQ,c2,c1,cS,cV){var cY=cQ.sameUnits;var cZ=c2.clone().stripZone();var cX=c1.clone().stripZone();var cU=ct(cQ.fakeFormatString,c2);var cT=ct(cQ.fakeFormatString,c1);var cO;var cP="";var c0;var cR="";var cW;var c5="";var c4="";var c3="";for(cO=0;cO<cY.length&&(!cY[cO]||cZ.isSame(cX,cY[cO]));cO++){cP+=cU[cO]}for(c0=cY.length-1;c0>cO&&(!cY[c0]||cZ.isSame(cX,cY[c0]));c0--){if(c0-1===cO&&cU[c0]==="."){break}cR=cU[c0]+cR}for(cW=cO;cW<=c0;cW++){c5+=cU[cW];c4+=cT[cW]}if(c5||c4){if(cV){c3=c4+cS+c5}else{c3=c5+cS+c4}}return cx(cP+c3+cR)}var cu={};function cK(cO){return cu[cO]||(cu[cO]=cN(cO))}function cN(cO){var cP=cH(cO);return{fakeFormatString:cF(cP),sameUnits:cI(cP)}}function cH(cP){var cR=[];var cQ;var cO=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;while((cQ=cO.exec(cP))){if(cQ[1]){cR.push.apply(cR,cL(cQ[1]))}else{if(cQ[2]){cR.push({maybe:cH(cQ[2])})}else{if(cQ[3]){cR.push({token:cQ[3]})}else{if(cQ[5]){cR.push.apply(cR,cL(cQ[5]))}}}}}return cR}function cL(cO){if(cO===". "){return["."," "]}else{return[cO]}}function cF(cR){var cQ=[];var cP,cO;for(cP=0;cP<cR.length;cP++){cO=cR[cP];if(typeof cO==="string"){cQ.push("["+cO+"]")}else{if(cO.token){if(cO.token in cv){cQ.push(cD+"["+cO.token+"]")}else{cQ.push(cO.token)}}else{if(cO.maybe){cQ.push(cE+cF(cO.maybe)+cE)}}}}return cQ.join(cM)}function cI(cS){var cP=[];var cR,cQ;var cO;for(cR=0;cR<cS.length;cR++){cQ=cS[cR];if(cQ.token){cO=cJ[cQ.token.charAt(0)];cP.push(cO?cO.unit:"second")}else{if(cQ.maybe){cP.push.apply(cP,cI(cQ.maybe))}else{cP.push(null)}}}return cP}function cG(cP,cO){return cx(ct(cP,cO).join(""))}function ct(cU,cR){var cT=[];var cQ=cB(cR,cU);var cP=cQ.split(cM);var cS,cO;for(cS=0;cS<cP.length;cS++){cO=cP[cS];if(cO.charAt(0)===cD){cT.push(cv[cO.substring(1)](cR))}else{cT.push(cO)}}return cT}function cx(cO){return cO.replace(cy,function(cQ,cP){if(cP.match(/[1-9]/)){return cP}else{return""}})}function cA(cO){var cT=cH(cO);var cQ,cP;var cR;var cS;for(cQ=0;cQ<cT.length;cQ++){cP=cT[cQ];if(cP.token){cR=cJ[cP.token.charAt(0)];if(cR){if(!cS||cR.value>cS.value){cS=cR}}}}if(cS){return cS.unit}return null}})();var n=D.formatDate;var b0=D.formatRange;var ay=D.oldMomentFormat;D.Class=aW;function aW(){}aW.extend=function(){var ct={};var cu;for(cu=0;cu<arguments.length;cu++){z(arguments[cu],ct)}return bw(this,ct)};aW.mixin=function(ct){z(ct,this.prototype)};function bw(cu,ct){var cv;if(ax(ct,"constructor")){cv=ct.constructor}if(typeof cv!=="function"){cv=ct.constructor=function(){cu.apply(this,arguments)}}cv.prototype=Object.create(cu.prototype);z(ct,cv.prototype);z(cu,cv);return cv}var B=D.EmitterMixin={on:function(ct,cu){b9(this).on(ct,this._prepareIntercept(cu));return this},one:function(ct,cu){b9(this).one(ct,this._prepareIntercept(cu));return this},_prepareIntercept:function(ct){var cu=function(cw,cv){return ct.apply(cv.context||this,cv.args||[])};if(!ct.guid){ct.guid=b9.guid++}cu.guid=ct.guid;return cu},off:function(ct,cu){b9(this).off(ct,cu);return this},trigger:function(cu){var ct=Array.prototype.slice.call(arguments,1);b9(this).triggerHandler(cu,{args:ct});return this},triggerWith:function(cv,cu,ct){b9(this).triggerHandler(cv,{context:cu,args:ct});return this},hasHandlers:function(ct){var cu=b9._data(this,"events");return cu&&cu[ct]&&cu[ct].length>0}};var aH=D.ListenerMixin=(function(){var ct=0;var cu={listenerId:null,listenTo:function(cw,cv,cy){if(typeof cv==="object"){for(var cx in cv){if(cv.hasOwnProperty(cx)){this.listenTo(cw,cx,cv[cx])}}}else{if(typeof cv==="string"){cw.on(cv+"."+this.getListenerNamespace(),b9.proxy(cy,this))}}},stopListeningTo:function(cv,cw){cv.off((cw||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){if(this.listenerId==null){this.listenerId=ct++}return"_listener"+this.listenerId}};return cu})();var aI={standardPropMap:{},applyProps:function(cu){var cx=this.standardPropMap;var cv={};var ct={};var cw;for(cw in cu){if(cx[cw]===true){this[cw]=cu[cw]}else{if(cx[cw]===false){cv[cw]=cu[cw]}else{ct[cw]=cu[cw]}}}this.applyMiscProps(ct);return this.applyManualStandardProps(cv)},applyManualStandardProps:function(ct){return true},applyMiscProps:function(ct){},isStandardProp:function(ct){return ct in this.standardPropMap}};var by=function(ct){var cu=this.prototype;if(!cu.hasOwnProperty("standardPropMap")){cu.standardPropMap=Object.create(cu.standardPropMap)}z(ct,cu.standardPropMap)};var aM=function(cw,ct){var cv=this.prototype.standardPropMap;var cu;for(cu in cv){if(cw[cu]!=null&&cv[cu]===true){ct[cu]=cw[cu]}}};var ck=aW.extend(B,aH,{_props:null,_watchers:null,_globalWatchArgs:{},constructor:function(){this._watchers={};this._props={};this.applyGlobalWatchers();this.constructed()},constructed:function(){},applyGlobalWatchers:function(){var cu=this._globalWatchArgs;var ct;for(ct in cu){this.watch.apply(this,cu[ct])}},has:function(ct){return ct in this._props},get:function(ct){if(ct===undefined){return this._props}return this._props[ct]},set:function(ct,cv){var cu;if(typeof ct==="string"){cu={};cu[ct]=cv===undefined?null:cv}else{cu=ct}this.setProps(cu)},reset:function(cv){var ct=this._props;var cw={};var cu;for(cu in ct){cw[cu]=undefined}for(cu in cv){cw[cu]=cv[cu]}this.setProps(cw)},unset:function(ct){var cv={};var cw;var cu;if(typeof ct==="string"){cw=[ct]}else{cw=ct}for(cu=0;cu<cw.length;cu++){cv[cw[cu]]=undefined}this.setProps(cv)},setProps:function(cw){var cu={};var cv=0;var ct,cx;for(ct in cw){cx=cw[ct];if(typeof cx==="object"||cx!==this._props[ct]){cu[ct]=cx;cv++}}if(cv){this.trigger("before:batchChange",cu);for(ct in cu){cx=cu[ct];this.trigger("before:change",ct,cx);this.trigger("before:change:"+ct,cx)}for(ct in cu){cx=cu[ct];if(cx===undefined){delete this._props[ct]}else{this._props[ct]=cx}this.trigger("change:"+ct,cx);this.trigger("change",ct,cx)}this.trigger("batchChange",cu)}},watch:function(cw,ct,cv,cu){var cx=this;this.unwatch(cw);this._watchers[cw]=this._watchDeps(ct,function(cz){var cy=cv.call(cx,cz);if(cy&&cy.then){cx.unset(cw);cy.then(function(cA){cx.set(cw,cA)})}else{cx.set(cw,cy)}},function(cy){cx.unset(cw);if(cu){cu.call(cx,cy)}})},unwatch:function(cu){var ct=this._watchers[cu];if(ct){delete this._watchers[cu];ct.teardown()}},_watchDeps:function(cz,cw,ct){var cA=this;var cv=0;var cF=cz.length;var cy=0;var cD={};var cE=[];var cC=false;function cx(cH,cI,cG){cv++;if(cv===1){if(cy===cF){cC=true;ct(cD);cC=false}}}function cu(cH,cI,cG){if(cI===undefined){if(!cG&&cD[cH]!==undefined){cy--}delete cD[cH]}else{if(!cG&&cD[cH]===undefined){cy++}cD[cH]=cI}cv--;if(!cv){if(cy===cF){if(!cC){cw(cD)}}}}function cB(cG,cH){cA.on(cG,cH);cE.push([cG,cH])}cz.forEach(function(cH){var cG=false;if(cH.charAt(0)==="?"){cH=cH.substring(1);cG=true}cB("before:change:"+cH,function(cI){cx(cH,cI,cG)});cB("change:"+cH,function(cI){cu(cH,cI,cG)})});cz.forEach(function(cH){var cG=false;if(cH.charAt(0)==="?"){cH=cH.substring(1);cG=true}if(cA.has(cH)){cD[cH]=cA.get(cH);cy++}else{if(cG){cy++}}});if(cy===cF){cw(cD)}return{teardown:function(){for(var cG=0;cG<cE.length;cG++){cA.off(cE[cG][0],cE[cG][1])}cE=null;if(cy===cF){ct()}},flash:function(){if(cy===cF){ct();cw(cD)}}}},flash:function(cu){var ct=this._watchers[cu];if(ct){ct.flash()}}});ck.watch=function(ct){if(!this.prototype.hasOwnProperty("_globalWatchArgs")){this.prototype._globalWatchArgs=Object.create(this.prototype._globalWatchArgs)}this.prototype._globalWatchArgs[ct]=arguments};D.Model=ck;var b5={construct:function(cv){var ct=b9.Deferred();var cu=ct.promise();if(typeof cv==="function"){cv(function(cw){ct.resolve(cw);cl(cu,cw)},function(){ct.reject();bI(cu)})}return cu},resolve:function(cv){var ct=b9.Deferred().resolve(cv);var cu=ct.promise();cl(cu,cv);return cu},reject:function(){var ct=b9.Deferred().reject();var cu=ct.promise();bI(cu);return cu}};function cl(cu,ct){cu.then=function(cv){if(typeof cv==="function"){return b5.resolve(cv(ct))}return cu}}function bI(ct){ct.then=function(cu,cv){if(typeof cv==="function"){cv()}return ct}}D.Promise=b5;var bZ=aW.extend(B,{q:null,isPaused:false,isRunning:false,constructor:function(){this.q=[]},queue:function(){this.q.push.apply(this.q,arguments);this.tryStart()},pause:function(){this.isPaused=true},resume:function(){this.isPaused=false;this.tryStart()},getIsIdle:function(){return !this.isRunning&&!this.isPaused},tryStart:function(){if(!this.isRunning&&this.canRunNext()){this.isRunning=true;this.trigger("start");this.runRemaining()}},canRunNext:function(){return !this.isPaused&&this.q.length},runRemaining:function(){var cv=this;var ct;var cu;do{ct=this.q.shift();cu=this.runTask(ct);if(cu&&cu.then){cu.then(function(){if(cv.canRunNext()){cv.runRemaining()}});return}}while(this.canRunNext());this.trigger("stop");this.isRunning=false;this.tryStart()},runTask:function(ct){return ct()}});D.TaskQueue=bZ;var br=bZ.extend({waitsByNamespace:null,waitNamespace:null,waitId:null,constructor:function(ct){bZ.call(this);this.waitsByNamespace=ct||{}},queue:function(cu,cw,cv){var ct={func:cu,namespace:cw,type:cv};var cx;if(cw){cx=this.waitsByNamespace[cw]}if(this.waitNamespace){if(cw===this.waitNamespace&&cx!=null){this.delayWait(cx)}else{this.clearWait();this.tryStart()}}if(this.compoundTask(ct)){if(!this.waitNamespace&&cx!=null){this.startWait(cw,cx)}else{this.tryStart()}}},startWait:function(ct,cu){this.waitNamespace=ct;this.spawnWait(cu)},delayWait:function(ct){clearTimeout(this.waitId);this.spawnWait(ct)},spawnWait:function(cu){var ct=this;this.waitId=setTimeout(function(){ct.waitNamespace=null;ct.tryStart()},cu)},clearWait:function(){if(this.waitNamespace){clearTimeout(this.waitId);this.waitId=null;this.waitNamespace=null}},canRunNext:function(){if(!bZ.prototype.canRunNext.apply(this,arguments)){return false}if(this.waitNamespace){for(var cu=this.q,ct=0;ct<cu.length;ct++){if(cu[ct].namespace!==this.waitNamespace){return true}}return false}return true},runTask:function(ct){ct.func()},compoundTask:function(ct){var cx=this.q;var cw=true;var cv,cu;if(ct.namespace&&ct.type==="destroy"){for(cv=cx.length-1;cv>=0;cv--){cu=cx[cv];switch(cu.type){case"init":cw=false;case"add":case"remove":cx.splice(cv,1)}}}if(cw){cx.push(ct)}return cw}});D.RenderQueue=br;var bx=aW.extend(aH,{isHidden:true,options:null,el:null,margin:10,constructor:function(ct){this.options=ct||{}},show:function(){if(this.isHidden){if(!this.el){this.render()}this.el.show();this.position();this.isHidden=false;this.trigger("show")}},hide:function(){if(!this.isHidden){this.el.hide();this.isHidden=true;this.trigger("hide")}},render:function(){var cu=this;var ct=this.options;this.el=b9('<div class="fc-popover"/>').addClass(ct.className||"").css({top:0,left:0}).append(ct.content).appendTo(ct.parentEl);this.el.on("click",".fc-close",function(){cu.hide()});if(ct.autoHide){this.listenTo(b9(document),"mousedown",this.documentMousedown)}},documentMousedown:function(ct){if(this.el&&!b9(ct.target).closest(this.el).length){this.hide()}},removeElement:function(){this.hide();if(this.el){this.el.remove();this.el=null}this.stopListeningTo(b9(document),"mousedown")},position:function(){var cD=this.options;var cz=this.el.offsetParent().offset();var ct=this.el.outerWidth();var cB=this.el.outerHeight();var cA=b9(window);var cy=b3(this.el);var cu;var cw;var cC;var cx;var cv;cx=cD.top||0;if(cD.left!==undefined){cv=cD.left}else{if(cD.right!==undefined){cv=cD.right-ct}else{cv=0}}if(cy.is(window)||cy.is(document)){cy=cA;cu=0;cw=0}else{cC=cy.offset();cu=cC.top;cw=cC.left}cu+=cA.scrollTop();cw+=cA.scrollLeft();if(cD.viewportConstrain!==false){cx=Math.min(cx,cu+cy.outerHeight()-cB-this.margin);cx=Math.max(cx,cu+this.margin);cv=Math.min(cv,cw+cy.outerWidth()-ct-this.margin);cv=Math.max(cv,cw+this.margin)}this.el.css({top:cx-cz.top,left:cv-cz.left})},trigger:function(ct){if(this.options[ct]){this.options[ct].apply(this,Array.prototype.slice.call(arguments,1))}}});var aB=D.CoordCache=aW.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:false,isVertical:false,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(ct){this.els=b9(ct.els);this.isHorizontal=ct.isHorizontal;this.isVertical=ct.isVertical;this.forcedOffsetParentEl=ct.offsetParent?b9(ct.offsetParent):null},build:function(){var ct=this.forcedOffsetParentEl;if(!ct&&this.els.length>0){ct=this.els.eq(0).offsetParent()}this.origin=ct?ct.offset():null;this.boundingRect=this.queryBoundingRect();if(this.isHorizontal){this.buildElHorizontals()}if(this.isVertical){this.buildElVerticals()}},clear:function(){this.origin=null;this.boundingRect=null;this.lefts=null;this.rights=null;this.tops=null;this.bottoms=null},ensureBuilt:function(){if(!this.origin){this.build()}},buildElHorizontals:function(){var cu=[];var ct=[];this.els.each(function(cv,cy){var cx=b9(cy);var cz=cx.offset().left;var cw=cx.outerWidth();cu.push(cz);ct.push(cz+cw)});this.lefts=cu;this.rights=ct},buildElVerticals:function(){var ct=[];var cu=[];this.els.each(function(cw,cy){var cx=b9(cy);var cz=cx.offset().top;var cv=cx.outerHeight();ct.push(cz);cu.push(cz+cv)});this.tops=ct;this.bottoms=cu},getHorizontalIndex:function(cv){this.ensureBuilt();var cx=this.lefts;var cw=this.rights;var ct=cx.length;var cu;for(cu=0;cu<ct;cu++){if(cv>=cx[cu]&&cv<cw[cu]){return cu}}},getVerticalIndex:function(cv){this.ensureBuilt();var cw=this.tops;var cx=this.bottoms;var ct=cw.length;var cu;for(cu=0;cu<ct;cu++){if(cv>=cw[cu]&&cv<cx[cu]){return cu}}},getLeftOffset:function(ct){this.ensureBuilt();return this.lefts[ct]},getLeftPosition:function(ct){this.ensureBuilt();return this.lefts[ct]-this.origin.left},getRightOffset:function(ct){this.ensureBuilt();return this.rights[ct]},getRightPosition:function(ct){this.ensureBuilt();return this.rights[ct]-this.origin.left},getWidth:function(ct){this.ensureBuilt();return this.rights[ct]-this.lefts[ct]},getTopOffset:function(ct){this.ensureBuilt();return this.tops[ct]},getTopPosition:function(ct){this.ensureBuilt();return this.tops[ct]-this.origin.top},getBottomOffset:function(ct){this.ensureBuilt();return this.bottoms[ct]},getBottomPosition:function(ct){this.ensureBuilt();return this.bottoms[ct]-this.origin.top},getHeight:function(ct){this.ensureBuilt();return this.bottoms[ct]-this.tops[ct]},queryBoundingRect:function(){var ct;if(this.els.length>0){ct=b3(this.els.eq(0));if(!ct.is(document)){return K(ct)}}return null},isPointInBounds:function(cu,ct){return this.isLeftInBounds(cu)&&this.isTopInBounds(ct)},isLeftInBounds:function(ct){return !this.boundingRect||(ct>=this.boundingRect.left&&ct<this.boundingRect.right)},isTopInBounds:function(ct){return !this.boundingRect||(ct>=this.boundingRect.top&&ct<this.boundingRect.bottom)}});var bX=D.DragListener=aW.extend(aH,{options:null,subjectEl:null,originX:null,originY:null,scrollEl:null,isInteracting:false,isDistanceSurpassed:false,isDelayEnded:false,isDragging:false,isTouch:false,isGeneric:false,delay:null,delayTimeoutId:null,minDistance:null,shouldCancelTouchScroll:true,scrollAlwaysKills:false,constructor:function(ct){this.options=ct||{}},startInteraction:function(cu,ct){if(cu.type==="mousedown"){if(aD.get().shouldIgnoreMouse()){return}else{if(!cm(cu)){return}else{cu.preventDefault()}}}if(!this.isInteracting){ct=ct||{};this.delay=aj(ct.delay,this.options.delay,0);this.minDistance=aj(ct.distance,this.options.distance,0);this.subjectEl=this.options.subjectEl;J(b9("body"));this.isInteracting=true;this.isTouch=bn(cu);this.isGeneric=cu.type==="dragstart";this.isDelayEnded=false;this.isDistanceSurpassed=false;this.originX=aa(cu);this.originY=Z(cu);this.scrollEl=b3(b9(cu.target));this.bindHandlers();this.initAutoScroll();this.handleInteractionStart(cu);this.startDelay(cu);if(!this.minDistance){this.handleDistanceSurpassed(cu)}}},handleInteractionStart:function(ct){this.trigger("interactionStart",ct)},endInteraction:function(ct,cu){if(this.isInteracting){this.endDrag(ct);if(this.delayTimeoutId){clearTimeout(this.delayTimeoutId);this.delayTimeoutId=null}this.destroyAutoScroll();this.unbindHandlers();this.isInteracting=false;this.handleInteractionEnd(ct,cu);ah(b9("body"))}},handleInteractionEnd:function(ct,cu){this.trigger("interactionEnd",ct,cu||false)},bindHandlers:function(){var ct=aD.get();if(this.isGeneric){this.listenTo(b9(document),{drag:this.handleMove,dragstop:this.endInteraction})}else{if(this.isTouch){this.listenTo(ct,{touchmove:this.handleTouchMove,touchend:this.endInteraction,scroll:this.handleTouchScroll})}else{this.listenTo(ct,{mousemove:this.handleMouseMove,mouseup:this.endInteraction})}}this.listenTo(ct,{selectstart:ch,contextmenu:ch})},unbindHandlers:function(){this.stopListeningTo(aD.get());this.stopListeningTo(b9(document))},startDrag:function(cu,ct){this.startInteraction(cu,ct);if(!this.isDragging){this.isDragging=true;this.handleDragStart(cu)}},handleDragStart:function(ct){this.trigger("dragStart",ct)},handleMove:function(cw){var cv=aa(cw)-this.originX;var ct=Z(cw)-this.originY;var cx=this.minDistance;var cu;if(!this.isDistanceSurpassed){cu=cv*cv+ct*ct;if(cu>=cx*cx){this.handleDistanceSurpassed(cw)}}if(this.isDragging){this.handleDrag(cv,ct,cw)}},handleDrag:function(cu,ct,cv){this.trigger("drag",cu,ct,cv);this.updateAutoScroll(cv)},endDrag:function(ct){if(this.isDragging){this.isDragging=false;this.handleDragEnd(ct)}},handleDragEnd:function(ct){this.trigger("dragEnd",ct)},startDelay:function(ct){var cu=this;if(this.delay){this.delayTimeoutId=setTimeout(function(){cu.handleDelayEnd(ct)},this.delay)}else{this.handleDelayEnd(ct)}},handleDelayEnd:function(ct){this.isDelayEnded=true;if(this.isDistanceSurpassed){this.startDrag(ct)}},handleDistanceSurpassed:function(ct){this.isDistanceSurpassed=true;if(this.isDelayEnded){this.startDrag(ct)}},handleTouchMove:function(ct){if(this.isDragging&&this.shouldCancelTouchScroll){ct.preventDefault()}this.handleMove(ct)},handleMouseMove:function(ct){this.handleMove(ct)},handleTouchScroll:function(ct){if(!this.isDragging||this.scrollAlwaysKills){this.endInteraction(ct,true)}},trigger:function(ct){if(this.options[ct]){this.options[ct].apply(this,Array.prototype.slice.call(arguments,1))}if(this["_"+ct]){this["_"+ct].apply(this,Array.prototype.slice.call(arguments,1))}}});bX.mixin({isAutoScroll:false,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var ct=this.scrollEl;this.isAutoScroll=this.options.scroll&&ct&&!ct.is(window)&&!ct.is(document);if(this.isAutoScroll){this.listenTo(ct,"scroll",bO(this.handleDebouncedScroll,100))}},destroyAutoScroll:function(){this.endAutoScroll();if(this.isAutoScroll){this.stopListeningTo(this.scrollEl,"scroll")}},computeScrollBounds:function(){if(this.isAutoScroll){this.scrollBounds=aJ(this.scrollEl)}},updateAutoScroll:function(cz){var cv=this.scrollSensitivity;var ct=this.scrollBounds;var cu,cw;var cA,cB;var cy=0;var cx=0;if(ct){cu=(cv-(Z(cz)-ct.top))/cv;cw=(cv-(ct.bottom-Z(cz)))/cv;cA=(cv-(aa(cz)-ct.left))/cv;cB=(cv-(ct.right-aa(cz)))/cv;if(cu>=0&&cu<=1){cy=cu*this.scrollSpeed*-1}else{if(cw>=0&&cw<=1){cy=cw*this.scrollSpeed}}if(cA>=0&&cA<=1){cx=cA*this.scrollSpeed*-1}else{if(cB>=0&&cB<=1){cx=cB*this.scrollSpeed}}}this.setScrollVel(cy,cx)},setScrollVel:function(cu,ct){this.scrollTopVel=cu;this.scrollLeftVel=ct;this.constrainScrollVel();if((this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId){this.scrollIntervalId=setInterval(a8(this,"scrollIntervalFunc"),this.scrollIntervalMs)}},constrainScrollVel:function(){var ct=this.scrollEl;if(this.scrollTopVel<0){if(ct.scrollTop()<=0){this.scrollTopVel=0}}else{if(this.scrollTopVel>0){if(ct.scrollTop()+ct[0].clientHeight>=ct[0].scrollHeight){this.scrollTopVel=0}}}if(this.scrollLeftVel<0){if(ct.scrollLeft()<=0){this.scrollLeftVel=0}}else{if(this.scrollLeftVel>0){if(ct.scrollLeft()+ct[0].clientWidth>=ct[0].scrollWidth){this.scrollLeftVel=0}}}},scrollIntervalFunc:function(){var cu=this.scrollEl;var ct=this.scrollIntervalMs/1000;if(this.scrollTopVel){cu.scrollTop(cu.scrollTop()+this.scrollTopVel*ct)}if(this.scrollLeftVel){cu.scrollLeft(cu.scrollLeft()+this.scrollLeftVel*ct)}this.constrainScrollVel();if(!this.scrollTopVel&&!this.scrollLeftVel){this.endAutoScroll()}},endAutoScroll:function(){if(this.scrollIntervalId){clearInterval(this.scrollIntervalId);this.scrollIntervalId=null;this.handleScrollEnd()}},handleDebouncedScroll:function(){if(!this.scrollIntervalId){this.handleScrollEnd()}},handleScrollEnd:function(){}});var aX=bX.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(cu,ct){bX.call(this,ct);this.component=cu},handleInteractionStart:function(cx){var cu=this.subjectEl;var cv;var cw;var ct;this.component.hitsNeeded();this.computeScrollBounds();if(cx){cw={left:aa(cx),top:Z(cx)};ct=cw;if(cu){cv=aJ(cu);ct=ba(ct,cv)}this.origHit=this.queryHit(ct.left,ct.top);if(cu&&this.options.subjectCenter){if(this.origHit){cv=d(this.origHit,cv)||cv}ct=bu(cv)}this.coordAdjust=b8(ct,cw)}else{this.origHit=null;this.coordAdjust=null}bX.prototype.handleInteractionStart.apply(this,arguments)},handleDragStart:function(ct){var cu;bX.prototype.handleDragStart.apply(this,arguments);cu=this.queryHit(aa(ct),Z(ct));if(cu){this.handleHitOver(cu)}},handleDrag:function(cu,ct,cv){var cw;bX.prototype.handleDrag.apply(this,arguments);cw=this.queryHit(aa(cv),Z(cv));if(!cg(cw,this.hit)){if(this.hit){this.handleHitOut()}if(cw){this.handleHitOver(cw)}}},handleDragEnd:function(){this.handleHitDone();bX.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(cu){var ct=cg(cu,this.origHit);this.hit=cu;this.trigger("hitOver",this.hit,ct,this.origHit)},handleHitOut:function(){if(this.hit){this.trigger("hitOut",this.hit);this.handleHitDone();this.hit=null}},handleHitDone:function(){if(this.hit){this.trigger("hitDone",this.hit)}},handleInteractionEnd:function(){bX.prototype.handleInteractionEnd.apply(this,arguments);this.origHit=null;this.hit=null;this.component.hitsNotNeeded()},handleScrollEnd:function(){bX.prototype.handleScrollEnd.apply(this,arguments);if(this.isDragging){this.component.releaseHits();this.component.prepareHits()}},queryHit:function(cu,ct){if(this.coordAdjust){cu+=this.coordAdjust.left;ct+=this.coordAdjust.top}return this.component.queryHit(cu,ct)}});function cg(cu,ct){if(!cu&&!ct){return true}if(cu&&ct){return cu.component===ct.component&&aY(cu,ct)&&aY(ct,cu)}return false}function aY(ct,cu){for(var cv in ct){if(!/^(component|left|right|top|bottom)$/.test(cv)){if(ct[cv]!==cu[cv]){return false}}}return true}D.touchMouseIgnoreWait=500;var aD=aW.extend(aH,B,{isTouching:false,mouseIgnoreDepth:0,handleScrollProxy:null,bind:function(){var ct=this;this.listenTo(b9(document),{touchstart:this.handleTouchStart,touchcancel:this.handleTouchCancel,touchend:this.handleTouchEnd,mousedown:this.handleMouseDown,mousemove:this.handleMouseMove,mouseup:this.handleMouseUp,click:this.handleClick,selectstart:this.handleSelectStart,contextmenu:this.handleContextMenu});window.addEventListener("touchmove",this.handleTouchMoveProxy=function(cu){ct.handleTouchMove(b9.Event(cu))},{passive:false});window.addEventListener("scroll",this.handleScrollProxy=function(cu){ct.handleScroll(b9.Event(cu))},true)},unbind:function(){this.stopListeningTo(b9(document));window.removeEventListener("touchmove",this.handleTouchMoveProxy);window.removeEventListener("scroll",this.handleScrollProxy,true)},handleTouchStart:function(ct){this.stopTouch(ct,true);this.isTouching=true;this.trigger("touchstart",ct)},handleTouchMove:function(ct){if(this.isTouching){this.trigger("touchmove",ct)}},handleTouchCancel:function(ct){if(this.isTouching){this.trigger("touchcancel",ct);this.stopTouch(ct)}},handleTouchEnd:function(ct){this.stopTouch(ct)},handleMouseDown:function(ct){if(!this.shouldIgnoreMouse()){this.trigger("mousedown",ct)}},handleMouseMove:function(ct){if(!this.shouldIgnoreMouse()){this.trigger("mousemove",ct)}},handleMouseUp:function(ct){if(!this.shouldIgnoreMouse()){this.trigger("mouseup",ct)}},handleClick:function(ct){if(!this.shouldIgnoreMouse()){this.trigger("click",ct)}},handleSelectStart:function(ct){this.trigger("selectstart",ct)},handleContextMenu:function(ct){this.trigger("contextmenu",ct)},handleScroll:function(ct){this.trigger("scroll",ct)},stopTouch:function(ct,cu){if(this.isTouching){this.isTouching=false;this.trigger("touchend",ct);if(!cu){this.startTouchMouseIgnore()}}},startTouchMouseIgnore:function(){var cu=this;var ct=D.touchMouseIgnoreWait;if(ct){this.mouseIgnoreDepth++;setTimeout(function(){cu.mouseIgnoreDepth--},ct)}},shouldIgnoreMouse:function(){return this.isTouching||Boolean(this.mouseIgnoreDepth)}});(function(){var cu=null;var ct=0;aD.get=function(){if(!cu){cu=new aD();cu.bind()}return cu};aD.needed=function(){aD.get();ct++};aD.unneeded=function(){ct--;if(!ct){cu.unbind();cu=null}}})();var bN=aW.extend(aH,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:false,isHidden:false,isAnimating:false,constructor:function(ct,cu){this.options=cu=cu||{};this.sourceEl=ct;this.parentEl=cu.parentEl?b9(cu.parentEl):ct.parent()},start:function(ct){if(!this.isFollowing){this.isFollowing=true;this.y0=Z(ct);this.x0=aa(ct);this.topDelta=0;this.leftDelta=0;if(!this.isHidden){this.updatePosition()}if(bn(ct)){this.listenTo(b9(document),"touchmove",this.handleMove)}else{this.listenTo(b9(document),"mousemove",this.handleMove)}}},stop:function(cu,cx){var cw=this;var cv=this.options.revertDuration;function ct(){cw.isAnimating=false;cw.removeElement();cw.top0=cw.left0=null;if(cx){cx()}}if(this.isFollowing&&!this.isAnimating){this.isFollowing=false;this.stopListeningTo(b9(document));if(cu&&cv&&!this.isHidden){this.isAnimating=true;this.el.animate({top:this.top0,left:this.left0},{duration:cv,complete:ct})}else{ct()}}},getEl:function(){var ct=this.el;if(!ct){ct=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex});ct.addClass("fc-unselectable");ct.appendTo(this.parentEl)}return ct},removeElement:function(){if(this.el){this.el.remove();this.el=null}},updatePosition:function(){var cu;var ct;this.getEl();if(this.top0===null){cu=this.sourceEl.offset();ct=this.el.offsetParent().offset();this.top0=cu.top-ct.top;this.left0=cu.left-ct.left}this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(ct){this.topDelta=Z(ct)-this.y0;this.leftDelta=aa(ct)-this.x0;if(!this.isHidden){this.updatePosition()}},hide:function(){if(!this.isHidden){this.isHidden=true;if(this.el){this.el.hide()}}},show:function(){if(this.isHidden){this.isHidden=false;this.updatePosition();this.getEl().show()}}});var bK=D.Scroller=aW.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(ct){ct=ct||{};this.overflowX=ct.overflowX||ct.overflow||"auto";this.overflowY=ct.overflowY||ct.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return(this.scrollEl=b9('<div class="fc-scroller"></div>'))},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(cv){var cu=this.overflowX;var ct=this.overflowY;cv=cv||this.getScrollbarWidths();if(cu==="auto"){cu=(cv.top||cv.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth)?"scroll":"hidden"}if(ct==="auto"){ct=(cv.left||cv.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight)?"scroll":"hidden"}this.scrollEl.css({"overflow-x":cu,"overflow-y":ct})},setHeight:function(ct){this.scrollEl.height(ct)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(ct){this.scrollEl.scrollTop(ct)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return a(this.scrollEl)}});function cc(ct){this.items=ct||[]}cc.prototype.proxyCall=function(ct){var cu=Array.prototype.slice.call(arguments,1);var cv=[];this.items.forEach(function(cw){cv.push(cw[ct].apply(cw,cu))});return cv};var bl=aW.extend({view:null,component:null,constructor:function(ct){this.view=ct._getView();this.component=ct},opt:function(ct){return this.view.opt(ct)},end:function(){}});var ak=bl.extend({dragListener:null,constructor:function(ct){bl.call(this,ct);this.dragListener=this.buildDragListener()},end:function(){this.dragListener.endInteraction()},bindToEl:function(cv){var ct=this.component;var cu=this.dragListener;ct.bindDateHandlerToEl(cv,"mousedown",function(cw){if(!ct.shouldIgnoreMouse()){cu.startInteraction(cw)}});ct.bindDateHandlerToEl(cv,"touchstart",function(cw){if(!ct.shouldIgnoreTouch()){cu.startInteraction(cw)}})},buildDragListener:function(){var cw=this;var cu=this.component;var ct;var cv=new aX(cu,{scroll:this.opt("dragScroll"),interactionStart:function(){ct=cv.origHit},hitOver:function(cy,cx,cz){if(!cx){ct=null}},hitOut:function(){ct=null},interactionEnd:function(cy,cz){var cx;if(!cz&&ct){cx=cu.getSafeHitFootprint(ct);if(cx){cw.view.triggerDayClick(cx,cu.getHitEl(ct),cy)}}}});cv.shouldCancelTouchScroll=false;cv.scrollAlwaysKills=true;return cv}});var bG=D.DateSelecting=bl.extend({dragListener:null,constructor:function(ct){bl.call(this,ct);this.dragListener=this.buildDragListener()},end:function(){this.dragListener.endInteraction()},getDelay:function(){var ct=this.opt("selectLongPressDelay");if(ct==null){ct=this.opt("longPressDelay")}return ct},bindToEl:function(cv){var cw=this;var ct=this.component;var cu=this.dragListener;ct.bindDateHandlerToEl(cv,"mousedown",function(cx){if(cw.opt("selectable")&&!ct.shouldIgnoreMouse()){cu.startInteraction(cx,{distance:cw.opt("selectMinDistance")})}});ct.bindDateHandlerToEl(cv,"touchstart",function(cx){if(cw.opt("selectable")&&!ct.shouldIgnoreTouch()){cu.startInteraction(cx,{delay:cw.getDelay()})}});J(cv)},buildDragListener:function(){var cw=this;var ct=this.component;var cv;var cu=new aX(ct,{scroll:this.opt("dragScroll"),interactionStart:function(){cv=null},dragStart:function(cx){cw.view.unselect(cx)},hitOver:function(cz,cx,cA){var cB;var cy;if(cA){cB=ct.getSafeHitFootprint(cA);cy=ct.getSafeHitFootprint(cz);if(cB&&cy){cv=cw.computeSelection(cB,cy)}else{cv=null}if(cv){ct.renderSelectionFootprint(cv)}else{if(cv===false){ca()}}}},hitOut:function(){cv=null;ct.unrenderSelection()},hitDone:function(){aO()},interactionEnd:function(cx,cy){if(!cy&&cv){cw.view.reportSelection(cv,cx)}}});return cu},computeSelection:function(cv,cu){var ct=this.computeSelectionFootprint(cv,cu);if(ct&&!this.isSelectionFootprintAllowed(ct)){return false}return ct},computeSelectionFootprint:function(cv,cu){var ct=[cv.unzonedRange.startMs,cv.unzonedRange.endMs,cu.unzonedRange.startMs,cu.unzonedRange.endMs];ct.sort(am);return new u(new aC(ct[0],ct[3]),cv.isAllDay)},isSelectionFootprintAllowed:function(ct){return this.component.dateProfile.validUnzonedRange.containsRange(ct.unzonedRange)&&this.view.calendar.isSelectionFootprintAllowed(ct)}});var bY=D.EventDragging=bl.extend({eventPointing:null,dragListener:null,isDragging:false,constructor:function(ct,cu){bl.call(this,ct);this.eventPointing=cu},end:function(){if(this.dragListener){this.dragListener.endInteraction()}},getSelectionDelay:function(){var ct=this.opt("eventLongPressDelay");if(ct==null){ct=this.opt("longPressDelay")}return ct},bindToEl:function(cu){var ct=this.component;ct.bindSegHandlerToEl(cu,"mousedown",this.handleMousedown.bind(this));ct.bindSegHandlerToEl(cu,"touchstart",this.handleTouchStart.bind(this))},handleMousedown:function(ct,cu){if(this.component.canStartDrag(ct,cu)){this.buildDragListener(ct).startInteraction(cu,{distance:5})}},handleTouchStart:function(ct,cw){var cu=this.component;var cv={delay:this.view.isEventDefSelected(ct.footprint.eventDef)?0:this.getSelectionDelay()};if(cu.canStartDrag(ct,cw)){this.buildDragListener(ct).startInteraction(cw,cv)}else{if(cu.canStartSelection(ct,cw)){this.buildSelectListener(ct).startInteraction(cw,cv)}}},buildSelectListener:function(cu){var cy=this;var ct=this.view;var cx=cu.footprint.eventDef;var cw=cu.footprint.eventInstance;if(this.dragListener){return this.dragListener}var cv=this.dragListener=new bX({dragStart:function(cz){if(cv.isTouch&&!ct.isEventDefSelected(cx)&&cw){ct.selectEventInstance(cw)}},interactionEnd:function(cz){cy.dragListener=null}});return cv},buildDragListener:function(cy){var cA=this;var cE=this.component;var cF=this.view;var cz=cF.calendar;var cC=cz.eventManager;var cw=cy.el;var cx=cy.footprint.eventDef;var cD=cy.footprint.eventInstance;var cB;var cu;var cv;if(this.dragListener){return this.dragListener}var ct=this.dragListener=new aX(cF,{scroll:this.opt("dragScroll"),subjectEl:cw,subjectCenter:true,interactionStart:function(cG){cy.component=cE;cB=false;cu=new bN(cy.el,{additionalClass:"fc-dragging",parentEl:cF.el,opacity:ct.isTouch?null:cA.opt("dragOpacity"),revertDuration:cA.opt("dragRevertDuration"),zIndex:2});cu.hide();cu.start(cG)},dragStart:function(cG){if(ct.isTouch&&!cF.isEventDefSelected(cx)&&cD){cF.selectEventInstance(cD)}cB=true;cA.eventPointing.handleMouseout(cy,cG);cA.segDragStart(cy,cG);cF.hideEventsWithId(cy.footprint.eventDef.id)},hitOver:function(cK,cG,cM){var cI=true;var cJ;var cH;var cL;if(cy.hit){cM=cy.hit}cJ=cM.component.getSafeHitFootprint(cM);cH=cK.component.getSafeHitFootprint(cK);if(cJ&&cH){cv=cA.computeEventDropMutation(cJ,cH,cx);if(cv){cL=cC.buildMutatedEventInstanceGroup(cx.id,cv);cI=cE.isEventInstanceGroupAllowed(cL)}else{cI=false}}else{cI=false}if(!cI){cv=null;ca()}if(cv&&cF.renderDrag(cE.eventRangesToEventFootprints(cL.sliceRenderRanges(cE.dateProfile.renderUnzonedRange,cz)),cy,ct.isTouch)){cu.hide()}else{cu.show()}if(cG){cv=null}},hitOut:function(){cF.unrenderDrag(cy);cu.show();cv=null},hitDone:function(){aO()},interactionEnd:function(cG){delete cy.component;cu.stop(!cv,function(){if(cB){cF.unrenderDrag(cy);cA.segDragStop(cy,cG)}cF.showEventsWithId(cy.footprint.eventDef.id);if(cv){cF.reportEventDrop(cD,cv,cw,cG)}});cA.dragListener=null}});return ct},segDragStart:function(ct,cu){this.isDragging=true;this.component.publiclyTrigger("eventDragStart",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cu,{},this.view]})},segDragStop:function(ct,cu){this.isDragging=false;this.component.publiclyTrigger("eventDragStop",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cu,{},this.view]})},computeEventDropMutation:function(cv,cw,cu){var ct=new v();ct.setDateMutation(this.computeEventDateMutation(cv,cw));return ct},computeEventDateMutation:function(cu,cz){var cB=cu.unzonedRange.getStart();var cA=cz.unzonedRange.getStart();var ct=false;var cy=false;var cw=false;var cv;var cx;if(cu.isAllDay!==cz.isAllDay){ct=true;if(cz.isAllDay){cw=true;cB.stripTime()}else{cy=true}}cv=this.component.diffDates(cA,cB);cx=new bm();cx.clearEnd=ct;cx.forceTimed=cy;cx.forceAllDay=cw;cx.setDateDelta(cv);return cx}});var a3=D.EventResizing=bl.extend({eventPointing:null,dragListener:null,isResizing:false,constructor:function(ct,cu){bl.call(this,ct);this.eventPointing=cu},end:function(){if(this.dragListener){this.dragListener.endInteraction()}},bindToEl:function(cu){var ct=this.component;ct.bindSegHandlerToEl(cu,"mousedown",this.handleMouseDown.bind(this));ct.bindSegHandlerToEl(cu,"touchstart",this.handleTouchStart.bind(this))},handleMouseDown:function(ct,cu){if(this.component.canStartResize(ct,cu)){this.buildDragListener(ct,b9(cu.target).is(".fc-start-resizer")).startInteraction(cu,{distance:5})}},handleTouchStart:function(ct,cu){if(this.component.canStartResize(ct,cu)){this.buildDragListener(ct,b9(cu.target).is(".fc-start-resizer")).startInteraction(cu)}},buildDragListener:function(cx,cu){var cz=this;var cD=this.component;var cE=this.view;var cy=cE.calendar;var cB=cy.eventManager;var cv=cx.el;var cw=cx.footprint.eventDef;var cC=cx.footprint.eventInstance;var cA;var cF;var ct=this.dragListener=new aX(cD,{scroll:this.opt("dragScroll"),subjectEl:cv,interactionStart:function(){cA=false},dragStart:function(cG){cA=true;cz.eventPointing.handleMouseout(cx,cG);cz.segResizeStart(cx,cG)},hitOver:function(cJ,cG,cL){var cH=true;var cM=cD.getSafeHitFootprint(cL);var cI=cD.getSafeHitFootprint(cJ);var cK;if(cM&&cI){cF=cu?cz.computeEventStartResizeMutation(cM,cI,cx.footprint):cz.computeEventEndResizeMutation(cM,cI,cx.footprint);if(cF){cK=cB.buildMutatedEventInstanceGroup(cw.id,cF);cH=cD.isEventInstanceGroupAllowed(cK)}else{cH=false}}else{cH=false}if(!cH){cF=null;ca()}else{if(cF.isEmpty()){cF=null}}if(cF){cE.hideEventsWithId(cx.footprint.eventDef.id);cE.renderEventResize(cD.eventRangesToEventFootprints(cK.sliceRenderRanges(cD.dateProfile.renderUnzonedRange,cy)),cx)}},hitOut:function(){cF=null},hitDone:function(){cE.unrenderEventResize(cx);cE.showEventsWithId(cx.footprint.eventDef.id);aO()},interactionEnd:function(cG){if(cA){cz.segResizeStop(cx,cG)}if(cF){cE.reportEventResize(cC,cF,cv,cG)}cz.dragListener=null}});return ct},segResizeStart:function(ct,cu){this.isResizing=true;this.component.publiclyTrigger("eventResizeStart",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cu,{},this.view]})},segResizeStop:function(ct,cu){this.isResizing=false;this.component.publiclyTrigger("eventResizeStop",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cu,{},this.view]})},computeEventStartResizeMutation:function(cy,cz,ct){var cx=ct.componentFootprint.unzonedRange;var cw=this.component.diffDates(cz.unzonedRange.getStart(),cy.unzonedRange.getStart());var cv;var cu;if(cx.getStart().add(cw)<cx.getEnd()){cv=new bm();cv.setStartDelta(cw);cu=new v();cu.setDateMutation(cv);return cu}return false},computeEventEndResizeMutation:function(cy,cz,ct){var cx=ct.componentFootprint.unzonedRange;var cv=this.component.diffDates(cz.unzonedRange.getEnd(),cy.unzonedRange.getEnd());var cw;var cu;if(cx.getEnd().add(cv)>cx.getStart()){cw=new bm();cw.setEndDelta(cv);cu=new v();cu.setDateMutation(cw);return cu}return false}});var bg=D.ExternalDropping=bl.extend(aH,{dragListener:null,isDragging:false,end:function(){if(this.dragListener){this.dragListener.endInteraction()}},bindToDocument:function(){this.listenTo(b9(document),{dragstart:this.handleDragStart,sortstart:this.handleDragStart})},unbindFromDocument:function(){this.stopListeningTo(b9(document))},handleDragStart:function(cv,cw){var cu;var ct;if(this.opt("droppable")){cu=b9((cw?cw.item:null)||cv.target);ct=this.opt("dropAccept");if(b9.isFunction(ct)?ct.call(cu[0],cu):cu.is(ct)){if(!this.isDragging){this.listenToExternalDrag(cu,cv,cw)}}}},listenToExternalDrag:function(cu,cx,cw){var cv=this;var cy=this.component;var cz=this.view;var cA=W(cu);var cB;var ct=cv.dragListener=new aX(cy,{interactionStart:function(){cv.isDragging=true},hitOver:function(cE){var cC=true;var cD=cE.component.getSafeHitFootprint(cE);var cF;if(cD){cB=cv.computeExternalDrop(cD,cA);if(cB){cF=new bP(cB.buildInstances());cC=cA.eventProps?cy.isEventInstanceGroupAllowed(cF):cy.isExternalInstanceGroupAllowed(cF)}else{cC=false}}else{cC=false}if(!cC){cB=null;ca()}if(cB){cy.renderDrag(cy.eventRangesToEventFootprints(cF.sliceRenderRanges(cy.dateProfile.renderUnzonedRange,cz.calendar)))}},hitOut:function(){cB=null},hitDone:function(){aO();cy.unrenderDrag()},interactionEnd:function(cC){if(cB){cz.reportExternalDrop(cB,Boolean(cA.eventProps),Boolean(cA.stick),cu,cC,cw)}cv.isDragging=false;cv.dragListener=null}});ct.startDrag(cx)},computeExternalDrop:function(cu,cx){var cw=this.view.calendar;var cy=D.moment.utc(cu.unzonedRange.startMs).stripZone();var ct;var cv;if(cu.isAllDay){if(cx.startTime){cy.time(cx.startTime)}else{cy.stripTime()}}if(cx.duration){ct=cy.clone().add(cx.duration)}cy=cw.applyTimezone(cy);if(ct){ct=cw.applyTimezone(ct)}cv=t.parse(b9.extend({},cx.eventProps,{start:cy,end:ct}),new a9(cw));return cv}});D.dataAttrPrefix="";function W(cv){var cx=D.dataAttrPrefix;var cw;var cu;var cy;var ct;if(cx){cx+="-"}cw=cv.data(cx+"event")||null;if(cw){if(typeof cw==="object"){cw=b9.extend({},cw)}else{cw={}}cu=cw.start;if(cu==null){cu=cw.time}cy=cw.duration;ct=cw.stick;delete cw.start;delete cw.time;delete cw.duration;delete cw.stick}if(cu==null){cu=cv.data(cx+"start")}if(cu==null){cu=cv.data(cx+"time")}if(cy==null){cy=cv.data(cx+"duration")}if(ct==null){ct=cv.data(cx+"stick")}cu=cu!=null?bH.duration(cu):null;cy=cy!=null?bH.duration(cy):null;ct=Boolean(ct);return{eventProps:cw,startTime:cu,duration:cy,stick:ct}}var aK=D.EventPointing=bl.extend({mousedOverSeg:null,bindToEl:function(cu){var ct=this.component;ct.bindSegHandlerToEl(cu,"click",this.handleClick.bind(this));ct.bindSegHandlerToEl(cu,"mouseenter",this.handleMouseover.bind(this));ct.bindSegHandlerToEl(cu,"mouseleave",this.handleMouseout.bind(this))},handleClick:function(ct,cv){var cu=this.component.publiclyTrigger("eventClick",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cv,this.view]});if(cu===false){cv.preventDefault()}},handleMouseover:function(ct,cu){if(!aD.get().shouldIgnoreMouse()&&!this.mousedOverSeg){this.mousedOverSeg=ct;if(this.view.isEventDefResizable(ct.footprint.eventDef)){ct.el.addClass("fc-allow-mouse-resize")}this.component.publiclyTrigger("eventMouseover",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cu,this.view]})}},handleMouseout:function(ct,cu){if(this.mousedOverSeg){this.mousedOverSeg=null;if(this.view.isEventDefResizable(ct.footprint.eventDef)){ct.el.removeClass("fc-allow-mouse-resize")}this.component.publiclyTrigger("eventMouseout",{context:ct.el[0],args:[ct.footprint.getEventLegacy(),cu||{},this.view]})}},end:function(){if(this.mousedOverSeg){this.handleMouseout(this.mousedOverSeg)}}});var E=D.StandardInteractionsMixin={dateClickingClass:ak,dateSelectingClass:bG,eventPointingClass:aK,eventDraggingClass:bY,eventResizingClass:a3,externalDroppingClass:bg};var R=D.EventRenderer=aW.extend({view:null,component:null,fillRenderer:null,fgSegs:null,bgSegs:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,constructor:function(cu,ct){this.view=cu._getView();this.component=cu;this.fillRenderer=ct},opt:function(ct){return this.view.opt(ct)},rangeUpdated:function(){var ct;var cu;this.eventTimeFormat=this.opt("eventTimeFormat")||this.opt("timeFormat")||this.computeEventTimeFormat();ct=this.opt("displayEventTime");if(ct==null){ct=this.computeDisplayEventTime()}cu=this.opt("displayEventEnd");if(cu==null){cu=this.computeDisplayEventEnd()}this.displayEventTime=ct;this.displayEventEnd=cu},render:function(ct){var cw=this.component._getDateProfile();var cx;var cy;var cv;var cu=[];var cz=[];for(cx in ct){cy=ct[cx];cv=cy.sliceRenderRanges(cw.activeUnzonedRange);if(cy.getEventDef().hasBgRendering()){cu.push.apply(cu,cv)}else{cz.push.apply(cz,cv)}}this.renderBgRanges(cu);this.renderFgRanges(cz)},unrender:function(){this.unrenderBgRanges();this.unrenderFgRanges()},renderFgRanges:function(cu){var cv=this.component.eventRangesToEventFootprints(cu);var ct=this.component.eventFootprintsToSegs(cv);ct=this.renderFgSegEls(ct);if(this.renderFgSegs(ct)!==false){this.fgSegs=ct}},unrenderFgRanges:function(){this.unrenderFgSegs(this.fgSegs||[]);this.fgSegs=null},renderBgRanges:function(cu){var cv=this.component.eventRangesToEventFootprints(cu);var ct=this.component.eventFootprintsToSegs(cv);if(this.renderBgSegs(ct)!==false){this.bgSegs=ct}},unrenderBgRanges:function(){this.unrenderBgSegs();this.bgSegs=null},getSegs:function(){return(this.bgSegs||[]).concat(this.fgSegs||[])},renderFgSegs:function(ct){return false},unrenderFgSegs:function(ct){},renderBgSegs:function(ct){var cu=this;if(this.fillRenderer){this.fillRenderer.renderSegs("bgEvent",ct,{getClasses:function(cv){return cu.getBgClasses(cv.footprint.eventDef)},getCss:function(cv){return{"background-color":cu.getBgColor(cv.footprint.eventDef)}},filterEl:function(cv,cw){return cu.filterEventRenderEl(cv.footprint,cw)}})}else{return false}},unrenderBgSegs:function(){if(this.fillRenderer){this.fillRenderer.unrender("bgEvent")}},renderFgSegEls:function(cu,ct){var cz=this;var cy=this.view.hasPublicHandlers("eventRender");var cx="";var cw=[];var cv;if(cu.length){for(cv=0;cv<cu.length;cv++){this.beforeFgSegHtml(cu[cv]);cx+=this.fgSegHtml(cu[cv],ct)}b9(cx).each(function(cB,cD){var cA=cu[cB];var cC=b9(cD);if(cy){cC=cz.filterEventRenderEl(cA.footprint,cC)}if(cC){cC.data("fc-seg",cA);cA.el=cC;cw.push(cA)}})}return cw},beforeFgSegHtml:function(ct){},fgSegHtml:function(cu,ct){},getSegClasses:function(ct,cv,cw){var cu=["fc-event",ct.isStart?"fc-start":"fc-not-start",ct.isEnd?"fc-end":"fc-not-end"].concat(this.getClasses(ct.footprint.eventDef));if(cv){cu.push("fc-draggable")}if(cw){cu.push("fc-resizable")}if(this.view.isEventDefSelected(ct.footprint.eventDef)){cu.push("fc-selected")}return cu},filterEventRenderEl:function(cw,cu){var ct=cw.getEventLegacy();var cv=this.view.publiclyTrigger("eventRender",{context:ct,args:[ct,cu,this.view]});if(cv===false){cu=null}else{if(cv&&cv!==true){cu=b9(cv)}}return cu},getTimeText:function(cv,ct,cu){return this._getTimeText(cv.eventInstance.dateProfile.start,cv.eventInstance.dateProfile.end,cv.componentFootprint.isAllDay,ct,cu)},_getTimeText:function(cx,cu,cv,ct,cw){if(ct==null){ct=this.eventTimeFormat}if(cw==null){cw=this.displayEventEnd}if(this.displayEventTime&&!cv){if(cw&&cu){return this.view.formatRange({start:cx,end:cu},false,ct)}else{return cx.format(ct)}}return""},computeEventTimeFormat:function(){return this.opt("smallTimeFormat")},computeDisplayEventTime:function(){return true},computeDisplayEventEnd:function(){return true},getBgClasses:function(ct){var cu=this.getClasses(ct);cu.push("fc-bgevent");return cu},getClasses:function(cu){var cw=this.getStylingObjs(cu);var ct;var cv=[];for(ct=0;ct<cw.length;ct++){cv.push.apply(cv,cw[ct].eventClassName||cw[ct].className||[])}return cv},getSkinCss:function(ct){return{"background-color":this.getBgColor(ct),"border-color":this.getBorderColor(ct),color:this.getTextColor(ct)}},getBgColor:function(cu){var cw=this.getStylingObjs(cu);var ct;var cv;for(ct=0;ct<cw.length&&!cv;ct++){cv=cw[ct].eventBackgroundColor||cw[ct].eventColor||cw[ct].backgroundColor||cw[ct].color}if(!cv){cv=this.opt("eventBackgroundColor")||this.opt("eventColor")}return cv},getBorderColor:function(cu){var cw=this.getStylingObjs(cu);var ct;var cv;for(ct=0;ct<cw.length&&!cv;ct++){cv=cw[ct].eventBorderColor||cw[ct].eventColor||cw[ct].borderColor||cw[ct].color}if(!cv){cv=this.opt("eventBorderColor")||this.opt("eventColor")}return cv},getTextColor:function(cu){var cw=this.getStylingObjs(cu);var ct;var cv;for(ct=0;ct<cw.length&&!cv;ct++){cv=cw[ct].eventTextColor||cw[ct].textColor}if(!cv){cv=this.opt("eventTextColor")}return cv},getStylingObjs:function(ct){var cu=this.getFallbackStylingObjs(ct);cu.unshift(ct);return cu},getFallbackStylingObjs:function(ct){return[ct.source]},sortEventSegs:function(ct){ct.sort(a8(this,"compareEventSegs"))},compareEventSegs:function(cw,cu){var ct=cw.footprint.componentFootprint;var cx=ct.unzonedRange;var cy=cu.footprint.componentFootprint;var cv=cy.unzonedRange;return cx.startMs-cv.startMs||(cv.endMs-cv.startMs)-(cx.endMs-cx.startMs)||cy.isAllDay-ct.isAllDay||bQ(cw.footprint.eventDef,cu.footprint.eventDef,this.view.eventOrderSpecs)}});var ce=D.BusinessHourRenderer=aW.extend({component:null,fillRenderer:null,segs:null,constructor:function(cu,ct){this.component=cu;this.fillRenderer=ct},render:function(cw){var cu=this.component;var ct=cu._getDateProfile().activeUnzonedRange;var cx=cw.buildEventInstanceGroup(cu.hasAllDayBusinessHours,ct);var cv=cx?cu.eventRangesToEventFootprints(cx.sliceRenderRanges(ct)):[];this.renderEventFootprints(cv)},renderEventFootprints:function(cu){var ct=this.component.eventFootprintsToSegs(cu);this.renderSegs(ct);this.segs=ct},renderSegs:function(ct){if(this.fillRenderer){this.fillRenderer.renderSegs("businessHours",ct,{getClasses:function(cu){return["fc-nonbusiness","fc-bgevent"]}})}},unrender:function(){if(this.fillRenderer){this.fillRenderer.unrender("businessHours")}this.segs=null},getSegs:function(){return this.segs||[]}});var bs=D.FillRenderer=aW.extend({fillSegTag:"div",component:null,elsByFill:null,constructor:function(ct){this.component=ct;this.elsByFill={}},renderFootprint:function(cv,ct,cu){this.renderSegs(cv,this.component.componentFootprintToSegs(ct),cu)},renderSegs:function(cw,ct,cv){var cu;ct=this.buildSegEls(cw,ct,cv);cu=this.attachSegEls(cw,ct);if(cu){this.reportEls(cw,cu)}return ct},unrender:function(cu){var ct=this.elsByFill[cu];if(ct){ct.remove();delete this.elsByFill[cu]}},buildSegEls:function(cy,ct,cx){var cz=this;var cw="";var cv=[];var cu;if(ct.length){for(cu=0;cu<ct.length;cu++){cw+=this.buildSegHtml(cy,ct[cu],cx)}b9(cw).each(function(cB,cD){var cA=ct[cB];var cC=b9(cD);if(cx.filterEl){cC=cx.filterEl(cA,cC)}if(cC){cC=b9(cC);if(cC.is(cz.fillSegTag)){cA.el=cC;cv.push(cA)}}})}return cv},buildSegHtml:function(cx,ct,cw){var cv=cw.getClasses?cw.getClasses(ct):[];var cu=T(cw.getCss?cw.getCss(ct):{});return"<"+this.fillSegTag+(cv.length?' class="'+cv.join(" ")+'"':"")+(cu?' style="'+cu+'"':"")+" />"},attachSegEls:function(cu,ct){},reportEls:function(cu,ct){if(this.elsByFill[cu]){this.elsByFill[cu]=this.elsByFill[cu].add(ct)}else{this.elsByFill[cu]=b9(ct)}}});var ag=D.HelperRenderer=aW.extend({view:null,component:null,eventRenderer:null,helperEls:null,constructor:function(cu,ct){this.view=cu._getView();this.component=cu;this.eventRenderer=ct},renderComponentFootprint:function(ct){this.renderEventFootprints([this.fabricateEventFootprint(ct)])},renderEventDraggingFootprints:function(cv,cu,ct){this.renderEventFootprints(cv,cu,"fc-dragging",ct?null:this.view.opt("dragOpacity"))},renderEventResizingFootprints:function(cv,cu,ct){this.renderEventFootprints(cv,cu,"fc-resizing")},renderEventFootprints:function(cy,cu,cx,cv){var ct=this.component.eventFootprintsToSegs(cy);var cz="fc-helper "+(cx||"");var cw;ct=this.eventRenderer.renderFgSegEls(ct);for(cw=0;cw<ct.length;cw++){ct[cw].el.addClass(cz)}if(cv!=null){for(cw=0;cw<ct.length;cw++){ct[cw].el.css("opacity",cv)}}this.helperEls=this.renderSegs(ct,cu)},renderSegs:function(ct,cu){},unrender:function(){if(this.helperEls){this.helperEls.remove();this.helperEls=null}},fabricateEventFootprint:function(ct){var cx=this.view.calendar;var cw=cx.footprintToDateProfile(ct);var cv=new t(new a9(cx));var cu;cv.dateProfile=cw;cu=cv.buildInstance();return new bC(ct,cv,cu)}});var aT=ck.extend({el:null,setElement:function(ct){this.el=ct;this.bindGlobalHandlers();this.renderSkeleton();this.set("isInDom",true)},removeElement:function(){this.unset("isInDom");this.unrenderSkeleton();this.unbindGlobalHandlers();this.el.remove()},bindGlobalHandlers:function(){},unbindGlobalHandlers:function(){},renderSkeleton:function(){},unrenderSkeleton:function(){}});var bt=D.DateComponent=aT.extend({uid:null,childrenByUid:null,isRTL:false,nextDayThreshold:null,dateProfile:null,eventRendererClass:null,helperRendererClass:null,businessHourRendererClass:null,fillRendererClass:null,eventRenderer:null,helperRenderer:null,businessHourRenderer:null,fillRenderer:null,hitsNeededDepth:0,hasAllDayBusinessHours:false,isDatesRendered:false,constructor:function(){aT.call(this);this.uid=String(bt.guid++);this.childrenByUid={};this.nextDayThreshold=bH.duration(this.opt("nextDayThreshold"));this.isRTL=this.opt("isRTL");if(this.fillRendererClass){this.fillRenderer=new this.fillRendererClass(this)}if(this.eventRendererClass){this.eventRenderer=new this.eventRendererClass(this,this.fillRenderer)}if(this.helperRendererClass&&this.eventRenderer){this.helperRenderer=new this.helperRendererClass(this,this.eventRenderer)}if(this.businessHourRendererClass&&this.fillRenderer){this.businessHourRenderer=new this.businessHourRendererClass(this,this.fillRenderer)}},addChild:function(ct){if(!this.childrenByUid[ct.uid]){this.childrenByUid[ct.uid]=ct;return true}return false},removeChild:function(ct){if(this.childrenByUid[ct.uid]){delete this.childrenByUid[ct.uid];return true}return false},updateSize:function(cv,cu,ct){this.callChildren("updateSize",arguments)},opt:function(ct){return this._getView().opt(ct)},publiclyTrigger:function(){var ct=this._getCalendar();return ct.publiclyTrigger.apply(ct,arguments)},hasPublicHandlers:function(){var ct=this._getCalendar();return ct.hasPublicHandlers.apply(ct,arguments)},executeDateRender:function(ct){this.dateProfile=ct;this.renderDates(ct);this.isDatesRendered=true;this.callChildren("executeDateRender",arguments)},executeDateUnrender:function(){this.callChildren("executeDateUnrender",arguments);this.dateProfile=null;this.unrenderDates();this.isDatesRendered=false},renderDates:function(ct){},unrenderDates:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(ct){this.callChildren("renderNowIndicator",arguments)},unrenderNowIndicator:function(){this.callChildren("unrenderNowIndicator",arguments)},renderBusinessHours:function(ct){if(this.businessHourRenderer){this.businessHourRenderer.render(ct)}this.callChildren("renderBusinessHours",arguments)},unrenderBusinessHours:function(){this.callChildren("unrenderBusinessHours",arguments);if(this.businessHourRenderer){this.businessHourRenderer.unrender()}},executeEventRender:function(ct){if(this.eventRenderer){this.eventRenderer.rangeUpdated();this.eventRenderer.render(ct)}else{if(this.renderEvents){this.renderEvents(a7(ct))}}this.callChildren("executeEventRender",arguments)},executeEventUnrender:function(){this.callChildren("executeEventUnrender",arguments);if(this.eventRenderer){this.eventRenderer.unrender()}else{if(this.destroyEvents){this.destroyEvents()}}},getBusinessHourSegs:function(){var ct=this.getOwnBusinessHourSegs();this.iterChildren(function(cu){ct.push.apply(ct,cu.getBusinessHourSegs())});return ct},getOwnBusinessHourSegs:function(){if(this.businessHourRenderer){return this.businessHourRenderer.getSegs()}return[]},getEventSegs:function(){var ct=this.getOwnEventSegs();this.iterChildren(function(cu){ct.push.apply(ct,cu.getEventSegs())});return ct},getOwnEventSegs:function(){if(this.eventRenderer){return this.eventRenderer.getSegs()}return[]},triggerAfterEventsRendered:function(){this.triggerAfterEventSegsRendered(this.getEventSegs());this.publiclyTrigger("eventAfterAllRender",{context:this,args:[this]})},triggerAfterEventSegsRendered:function(ct){var cu=this;if(this.hasPublicHandlers("eventAfterRender")){ct.forEach(function(cw){var cv;if(cw.el){cv=cw.footprint.getEventLegacy();cu.publiclyTrigger("eventAfterRender",{context:cv,args:[cv,cw.el,cu]})}})}},triggerBeforeEventsDestroyed:function(){this.triggerBeforeEventSegsDestroyed(this.getEventSegs())},triggerBeforeEventSegsDestroyed:function(ct){var cu=this;if(this.hasPublicHandlers("eventDestroy")){ct.forEach(function(cw){var cv;if(cw.el){cv=cw.footprint.getEventLegacy();cu.publiclyTrigger("eventDestroy",{context:cv,args:[cv,cw.el,cu]})}})}},showEventsWithId:function(ct){this.getEventSegs().forEach(function(cu){if(cu.footprint.eventDef.id===ct&&cu.el){cu.el.css("visibility","")}});this.callChildren("showEventsWithId",arguments)},hideEventsWithId:function(ct){this.getEventSegs().forEach(function(cu){if(cu.footprint.eventDef.id===ct&&cu.el){cu.el.css("visibility","hidden")}});this.callChildren("hideEventsWithId",arguments)},renderDrag:function(cw,cu,ct){var cv=false;this.iterChildren(function(cx){if(cx.renderDrag(cw,cu,ct)){cv=true}});return cv},unrenderDrag:function(){this.callChildren("unrenderDrag",arguments)},renderEventResize:function(cv,cu,ct){this.callChildren("renderEventResize",arguments)},unrenderEventResize:function(){this.callChildren("unrenderEventResize",arguments)},renderSelectionFootprint:function(ct){this.renderHighlight(ct);this.callChildren("renderSelectionFootprint",arguments)},unrenderSelection:function(){this.unrenderHighlight();this.callChildren("unrenderSelection",arguments)},renderHighlight:function(ct){if(this.fillRenderer){this.fillRenderer.renderFootprint("highlight",ct,{getClasses:function(){return["fc-highlight"]}})}this.callChildren("renderHighlight",arguments)},unrenderHighlight:function(){if(this.fillRenderer){this.fillRenderer.unrender("highlight")}this.callChildren("unrenderHighlight",arguments)},hitsNeeded:function(){if(!(this.hitsNeededDepth++)){this.prepareHits()}this.callChildren("hitsNeeded",arguments)},hitsNotNeeded:function(){if(this.hitsNeededDepth&&!(--this.hitsNeededDepth)){this.releaseHits()}this.callChildren("hitsNotNeeded",arguments)},prepareHits:function(){},releaseHits:function(){},queryHit:function(cx,cv){var ct=this.childrenByUid;var cu;var cw;for(cu in ct){cw=ct[cu].queryHit(cx,cv);if(cw){break}}return cw},getSafeHitFootprint:function(cu){var ct=this.getHitFootprint(cu);if(!this.dateProfile.activeUnzonedRange.containsRange(ct.unzonedRange)){return null}return ct},getHitFootprint:function(ct){},getHitEl:function(ct){},eventRangesToEventFootprints:function(ct){var cv=[];var cu;for(cu=0;cu<ct.length;cu++){cv.push.apply(cv,this.eventRangeToEventFootprints(ct[cu]))}return cv},eventRangeToEventFootprints:function(ct){return[M(ct)]},eventFootprintsToSegs:function(cv){var ct=[];var cu;for(cu=0;cu<cv.length;cu++){ct.push.apply(ct,this.eventFootprintToSegs(cv[cu]))}return ct},eventFootprintToSegs:function(cx){var cv=cx.componentFootprint.unzonedRange;var cu;var cw,ct;cu=this.componentFootprintToSegs(cx.componentFootprint);for(cw=0;cw<cu.length;cw++){ct=cu[cw];if(!cv.isStart){ct.isStart=false}if(!cv.isEnd){ct.isEnd=false}ct.footprint=cx}return cu},componentFootprintToSegs:function(ct){return[]},callChildren:function(ct,cu){this.iterChildren(function(cv){cv[ct].apply(cv,cu)})},iterChildren:function(cv){var ct=this.childrenByUid;var cu;for(cu in ct){cv(ct[cu])}},_getCalendar:function(){return this.calendar||this.view.calendar},_getView:function(){return this.view},_getDateProfile:function(){return this._getView().get("dateProfile")}});bt.guid=0;function a7(ct){var cv;var cu;var cx=[];var cw;for(cv in ct){cu=ct[cv].eventInstances;for(cw=0;cw<cu.length;cw++){cx.push(cu[cw].toLegacy())}}return cx}bt.mixin({buildGotoAnchorHtml:function(cy,cv,ct){var cu,cx,cz;var cw;if(b9.isPlainObject(cy)){cu=cy.date;cx=cy.type;cz=cy.forceOff}else{cu=cy}cu=D.moment(cu);cw={date:cu.format("YYYY-MM-DD"),type:cx||"day"};if(typeof cv==="string"){ct=cv;cv=null}cv=cv?" "+bJ(cv):"";ct=ct||"";if(!cz&&this.opt("navLinks")){return"<a"+cv+' data-goto="'+be(JSON.stringify(cw))+'">'+ct+"</a>"}else{return"<span"+cv+">"+ct+"</span>"}},getAllDayHtml:function(){return this.opt("allDayHtml")||be(this.opt("allDayText"))},getDayClasses:function(cv,cx){var ct=this._getView();var cw=[];var cu;if(!this.dateProfile.activeUnzonedRange.containsDate(cv)){cw.push("fc-disabled-day")}else{cw.push("fc-"+bk[cv.day()]);if(ct.isDateInOtherMonth(cv,this.dateProfile)){cw.push("fc-other-month")}cu=ct.calendar.getNow();if(cv.isSame(cu,"day")){cw.push("fc-today");if(cx!==true){cw.push(ct.calendar.theme.getClass("today"))}}else{if(cv<cu){cw.push("fc-past")}else{cw.push("fc-future")}}}return cw},formatRange:function(cv,cw,cu,cx){var ct=cv.end;if(cw){ct=ct.clone().subtract(1)}return b0(cv.start,ct,cu,cx,this.isRTL)},currentRangeAs:function(ct){return this._getDateProfile().currentUnzonedRange.as(ct)},computeDayRange:function(cu){var cy=this._getCalendar();var cx=cy.msToUtcMoment(cu.startMs,true);var ct=cy.msToUtcMoment(cu.endMs);var cv=+ct.time();var cw=ct.clone().stripTime();if(cv&&cv>=this.nextDayThreshold){cw.add(1,"days")}if(cw<=cx){cw=cx.clone().add(1,"days")}return{start:cx,end:cw}},isMultiDayRange:function(ct){var cu=this.computeDayRange(ct);return cu.end.diff(cu.start,"days")>1}});var a1=D.InteractiveDateComponent=bt.extend({dateClickingClass:null,dateSelectingClass:null,eventPointingClass:null,eventDraggingClass:null,eventResizingClass:null,externalDroppingClass:null,dateClicking:null,dateSelecting:null,eventPointing:null,eventDragging:null,eventResizing:null,externalDropping:null,segSelector:".fc-event-container > *",largeUnit:null,constructor:function(){bt.call(this);if(this.dateSelectingClass){this.dateClicking=new this.dateClickingClass(this)}if(this.dateSelectingClass){this.dateSelecting=new this.dateSelectingClass(this)}if(this.eventPointingClass){this.eventPointing=new this.eventPointingClass(this)}if(this.eventDraggingClass&&this.eventPointing){this.eventDragging=new this.eventDraggingClass(this,this.eventPointing)}if(this.eventResizingClass&&this.eventPointing){this.eventResizing=new this.eventResizingClass(this,this.eventPointing)}if(this.externalDroppingClass){this.externalDropping=new this.externalDroppingClass(this)}},setElement:function(ct){bt.prototype.setElement.apply(this,arguments);if(this.dateClicking){this.dateClicking.bindToEl(ct)}if(this.dateSelecting){this.dateSelecting.bindToEl(ct)}this.bindAllSegHandlersToEl(ct)},unrender:function(){this.endInteractions();bt.prototype.unrender.apply(this,arguments)},executeEventUnrender:function(){this.endInteractions();bt.prototype.executeEventUnrender.apply(this,arguments)},bindGlobalHandlers:function(){bt.prototype.bindGlobalHandlers.apply(this,arguments);if(this.externalDropping){this.externalDropping.bindToDocument()}},unbindGlobalHandlers:function(){bt.prototype.unbindGlobalHandlers.apply(this,arguments);if(this.externalDropping){this.externalDropping.unbindFromDocument()}},bindDateHandlerToEl:function(cv,ct,cu){var cw=this;this.el.on(ct,function(cx){if(!b9(cx.target).is(cw.segSelector+","+cw.segSelector+" *,.fc-more,a[data-goto]")){return cu.call(cw,cx)}})},bindAllSegHandlersToEl:function(ct){[this.eventPointing,this.eventDragging,this.eventResizing].forEach(function(cu){if(cu){cu.bindToEl(ct)}})},bindSegHandlerToEl:function(cv,ct,cu){var cw=this;cv.on(ct,this.segSelector,function(cy){var cx=b9(this).data("fc-seg");if(cx&&!cw.shouldIgnoreEventPointing()){return cu.call(cw,cx,cy)}})},shouldIgnoreMouse:function(){return aD.get().shouldIgnoreMouse()},shouldIgnoreTouch:function(){var ct=this._getView();return ct.isSelected||ct.selectedEvent},shouldIgnoreEventPointing:function(){return(this.eventDragging&&this.eventDragging.isDragging)||(this.eventResizing&&this.eventResizing.isResizing)},canStartSelection:function(ct,cu){return bn(cu)&&!this.canStartResize(ct,cu)&&(this.isEventDefDraggable(ct.footprint.eventDef)||this.isEventDefResizable(ct.footprint.eventDef))},canStartDrag:function(ct,cu){return !this.canStartResize(ct,cu)&&this.isEventDefDraggable(ct.footprint.eventDef)},canStartResize:function(cu,cw){var ct=this._getView();var cv=cu.footprint.eventDef;return(!bn(cw)||ct.isEventDefSelected(cv))&&this.isEventDefResizable(cv)&&b9(cw.target).is(".fc-resizer")},endInteractions:function(){[this.dateClicking,this.dateSelecting,this.eventPointing,this.eventDragging,this.eventResizing].forEach(function(ct){if(ct){ct.end()}})},isEventDefDraggable:function(ct){return this.isEventDefStartEditable(ct)},isEventDefStartEditable:function(cu){var ct=cu.isStartExplicitlyEditable();if(ct==null){ct=this.opt("eventStartEditable");if(ct==null){ct=this.isEventDefGenerallyEditable(cu)}}return ct},isEventDefGenerallyEditable:function(cu){var ct=cu.isExplicitlyEditable();if(ct==null){ct=this.opt("editable")}return ct},isEventDefResizableFromStart:function(ct){return this.opt("eventResizableFromStart")&&this.isEventDefResizable(ct)},isEventDefResizableFromEnd:function(ct){return this.isEventDefResizable(ct)},isEventDefResizable:function(ct){var cu=ct.isDurationExplicitlyEditable();if(cu==null){cu=this.opt("eventDurationEditable");if(cu==null){cu=this.isEventDefGenerallyEditable(ct)}}return cu},diffDates:function(cu,ct){if(this.largeUnit){return e(cu,ct,this.largeUnit)}else{return g(cu,ct)}},isEventInstanceGroupAllowed:function(cx){var cu=this._getView();var ct=this.dateProfile;var cw=this.eventRangesToEventFootprints(cx.getAllEventRanges());var cv;for(cv=0;cv<cw.length;cv++){if(!ct.validUnzonedRange.containsRange(cw[cv].componentFootprint.unzonedRange)){return false}}return cu.calendar.isEventInstanceGroupAllowed(cx)},isExternalInstanceGroupAllowed:function(cx){var cu=this._getView();var ct=this.dateProfile;var cw=this.eventRangesToEventFootprints(cx.getAllEventRanges());var cv;for(cv=0;cv<cw.length;cv++){if(!ct.validUnzonedRange.containsRange(cw[cv].componentFootprint.unzonedRange)){return false}}for(cv=0;cv<cw.length;cv++){if(!cu.calendar.isSelectionFootprintAllowed(cw[cv].componentFootprint)){return false}}return true}});var bv=D.DayTableMixin={breakOnWeeks:false,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){var cB=this.view;var cy=cB.calendar;var cw=cy.msToUtcMoment(this.dateProfile.renderUnzonedRange.startMs,true);var cx=cy.msToUtcMoment(this.dateProfile.renderUnzonedRange.endMs,true);var ct=-1;var cv=[];var cA=[];var cC;var cu;var cz;while(cw.isBefore(cx)){if(cB.isHiddenDay(cw)){cv.push(ct+0.5)}else{ct++;cv.push(ct);cA.push(cw.clone())}cw.add(1,"days")}if(this.breakOnWeeks){cu=cA[0].day();for(cC=1;cC<cA.length;cC++){if(cA[cC].day()==cu){break}}cz=Math.ceil(cA.length/cC)}else{cz=1;cC=cA.length}this.dayDates=cA;this.dayIndices=cv;this.daysPerRow=cC;this.rowCnt=cz;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(cu,ct){return this.dayDates[this.getCellDayIndex(cu,ct)].clone()},getCellRange:function(cv,cu){var cw=this.getCellDate(cv,cu);var ct=cw.clone().add(1,"days");return{start:cw,end:ct}},getCellDayIndex:function(cu,ct){return cu*this.daysPerRow+this.getColDayIndex(ct)},getColDayIndex:function(ct){if(this.isRTL){return this.colCnt-1-ct}else{return ct}},getDateDayIndex:function(cv){var ct=this.dayIndices;var cu=cv.diff(this.dayDates[0],"days");if(cu<0){return ct[0]-1}else{if(cu>=ct.length){return ct[ct.length-1]+1}else{return ct[cu]}}},computeColHeadFormat:function(){if(this.rowCnt>1||this.colCnt>10){return"ddd"}else{if(this.colCnt>1){return this.opt("dayOfMonthFormat")}else{return"dddd"}}},sliceRangeByRow:function(cA){var cB=this.daysPerRow;var cv=this.view.computeDayRange(cA);var cu=this.getDateDayIndex(cv.start);var cx=this.getDateDayIndex(cv.end.clone().subtract(1,"days"));var ct=[];var cD;var cy,cz;var cC,cw;for(cD=0;cD<this.rowCnt;cD++){cy=cD*cB;cz=cy+cB-1;cC=Math.max(cu,cy);cw=Math.min(cx,cz);cC=Math.ceil(cC);cw=Math.floor(cw);if(cC<=cw){ct.push({row:cD,firstRowDayIndex:cC-cy,lastRowDayIndex:cw-cy,isStart:cC===cu,isEnd:cw===cx})}}return ct},sliceRangeByDay:function(cB){var cC=this.daysPerRow;var cw=this.view.computeDayRange(cB);var cu=this.getDateDayIndex(cw.start);var cy=this.getDateDayIndex(cw.end.clone().subtract(1,"days"));var ct=[];var cE;var cz,cA;var cv;var cD,cx;for(cE=0;cE<this.rowCnt;cE++){cz=cE*cC;cA=cz+cC-1;for(cv=cz;cv<=cA;cv++){cD=Math.max(cu,cv);cx=Math.min(cy,cv);cD=Math.ceil(cD);cx=Math.floor(cx);if(cD<=cx){ct.push({row:cE,firstRowDayIndex:cD-cz,lastRowDayIndex:cx-cz,isStart:cD===cu,isEnd:cx===cy})}}}return ct},renderHeadHtml:function(){var ct=this.view.calendar.theme;return'<div class="fc-row '+ct.getClass("headerRow")+'"><table class="'+ct.getClass("tableGrid")+'"><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var cv=[];var cu,ct;for(cu=0;cu<this.colCnt;cu++){ct=this.getCellDate(0,cu);cv.push(this.renderHeadDateCellHtml(ct))}return cv.join("")},renderHeadDateCellHtml:function(cw,cz,ct){var cu=this.view;var cx=this.dateProfile.activeUnzonedRange.containsDate(cw);var cy=["fc-day-header",cu.calendar.theme.getClass("widgetHeader")];var cv=be(cw.format(this.colHeadFormat));if(this.rowCnt===1){cy=cy.concat(this.getDayClasses(cw,true))}else{cy.push("fc-"+bk[cw.day()])}return'<th class="'+cy.join(" ")+'"'+((cx&&this.rowCnt)===1?' data-date="'+cw.format("YYYY-MM-DD")+'"':"")+(cz>1?' colspan="'+cz+'"':"")+(ct?" "+ct:"")+">"+(cx?cu.buildGotoAnchorHtml({date:cw,forceOff:this.rowCnt>1||this.colCnt===1},cv):cv)+"</th>"},renderBgTrHtml:function(ct){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(ct))+this.renderBgCellsHtml(ct)+(this.isRTL?this.renderBgIntroHtml(ct):"")+"</tr>"},renderBgIntroHtml:function(ct){return this.renderIntroHtml()},renderBgCellsHtml:function(cw){var cv=[];var cu,ct;for(cu=0;cu<this.colCnt;cu++){ct=this.getCellDate(cw,cu);cv.push(this.renderBgCellHtml(ct))}return cv.join("")},renderBgCellHtml:function(cv,ct){var cu=this.view;var cx=this.dateProfile.activeUnzonedRange.containsDate(cv);var cw=this.getDayClasses(cv);cw.unshift("fc-day",cu.calendar.theme.getClass("widgetContent"));return'<td class="'+cw.join(" ")+'"'+(cx?' data-date="'+cv.format("YYYY-MM-DD")+'"':"")+(ct?" "+ct:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(cu){var ct=this.renderIntroHtml();if(ct){if(this.isRTL){cu.append(ct)}else{cu.prepend(ct)}}}};var bp=D.View=a1.extend({type:null,name:null,title:null,calendar:null,viewSpec:null,options:null,renderQueue:null,batchRenderDepth:0,queuedScroll:null,isSelected:false,selectedEventInstance:null,eventOrderSpecs:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(cu,ct){this.calendar=cu;this.viewSpec=ct;this.type=ct.type;this.options=ct.options;this.name=this.type;a1.call(this);this.initRenderQueue();this.initHiddenDays();this.bindBaseRenderHandlers();this.eventOrderSpecs=a6(this.opt("eventOrder"));if(this.initialize){this.initialize()}},_getView:function(){return this},opt:function(ct){return this.options[ct]},initRenderQueue:function(){this.renderQueue=new br({event:this.opt("eventRenderWait")});this.renderQueue.on("start",this.onRenderQueueStart.bind(this));this.renderQueue.on("stop",this.onRenderQueueStop.bind(this));this.on("before:change",this.startBatchRender);this.on("change",this.stopBatchRender)},onRenderQueueStart:function(){this.calendar.freezeContentHeight();this.addScroll(this.queryScroll())},onRenderQueueStop:function(){if(this.calendar.updateViewSize()){this.popScroll()}this.calendar.thawContentHeight()},startBatchRender:function(){if(!(this.batchRenderDepth++)){this.renderQueue.pause()}},stopBatchRender:function(){if(!(--this.batchRenderDepth)){this.renderQueue.resume()}},requestRender:function(cv,cu,ct){this.renderQueue.queue(cv,cu,ct)},whenSizeUpdated:function(ct){if(this.renderQueue.isRunning){this.renderQueue.one("stop",ct.bind(this))}else{ct.call(this)}},computeTitle:function(ct){var cu;if(/^(year|month)$/.test(ct.currentRangeUnit)){cu=ct.currentUnzonedRange}else{cu=ct.activeUnzonedRange}return this.formatRange({start:this.calendar.msToMoment(cu.startMs,ct.isRangeAllDay),end:this.calendar.msToMoment(cu.endMs,ct.isRangeAllDay)},ct.isRangeAllDay,this.opt("titleFormat")||this.computeTitleFormat(ct),this.opt("titleRangeSeparator"))},computeTitleFormat:function(cu){var ct=cu.currentRangeUnit;if(ct=="year"){return"YYYY"}else{if(ct=="month"){return this.opt("monthYearFormat")}else{if(cu.currentUnzonedRange.as("days")>1){return"ll"}else{return"LL"}}}},setDate:function(cu){var cv=this.get("dateProfile");var ct=this.buildDateProfile(cu,null,true);if(!cv||!cv.activeUnzonedRange.equals(ct.activeUnzonedRange)){this.set("dateProfile",ct)}},unsetDate:function(){this.unset("dateProfile")},fetchInitialEvents:function(cu){var cv=this.calendar;var ct=cu.isRangeAllDay&&!this.usesMinMaxTime;return cv.requestEvents(cv.msToMoment(cu.activeUnzonedRange.startMs,ct),cv.msToMoment(cu.activeUnzonedRange.endMs,ct))},bindEventChanges:function(){this.listenTo(this.calendar,"eventsReset",this.resetEvents)},unbindEventChanges:function(){this.stopListeningTo(this.calendar,"eventsReset")},setEvents:function(ct){this.set("currentEvents",ct);this.set("hasEvents",true)},unsetEvents:function(){this.unset("currentEvents");this.unset("hasEvents")},resetEvents:function(ct){this.startBatchRender();this.unsetEvents();this.setEvents(ct);this.stopBatchRender()},requestDateRender:function(ct){var cu=this;this.requestRender(function(){cu.executeDateRender(ct)},"date","init")},requestDateUnrender:function(){var ct=this;this.requestRender(function(){ct.executeDateUnrender()},"date","destroy")},executeDateRender:function(ct){bt.prototype.executeDateRender.apply(this,arguments);if(this.render){this.render()}this.trigger("datesRendered");this.addScroll({isDateInit:true});this.startNowIndicator()},executeDateUnrender:function(){this.unselect();this.stopNowIndicator();this.trigger("before:datesUnrendered");if(this.destroy){this.destroy()}bt.prototype.executeDateUnrender.apply(this,arguments)},bindBaseRenderHandlers:function(){var ct=this;this.on("datesRendered",function(){ct.whenSizeUpdated(ct.triggerViewRender)});this.on("before:datesUnrendered",function(){ct.triggerViewDestroy()})},triggerViewRender:function(){this.publiclyTrigger("viewRender",{context:this,args:[this,this.el]})},triggerViewDestroy:function(){this.publiclyTrigger("viewDestroy",{context:this,args:[this,this.el]})},requestEventsRender:function(ct){var cu=this;this.requestRender(function(){cu.executeEventRender(ct);cu.whenSizeUpdated(cu.triggerAfterEventsRendered)},"event","init")},requestEventsUnrender:function(){var ct=this;this.requestRender(function(){ct.triggerBeforeEventsDestroyed();ct.executeEventUnrender()},"event","destroy")},requestBusinessHoursRender:function(ct){var cu=this;this.requestRender(function(){cu.renderBusinessHours(ct)},"businessHours","init")},requestBusinessHoursUnrender:function(){var ct=this;this.requestRender(function(){ct.unrenderBusinessHours()},"businessHours","destroy")},bindGlobalHandlers:function(){a1.prototype.bindGlobalHandlers.apply(this,arguments);this.listenTo(aD.get(),{touchstart:this.processUnselect,mousedown:this.handleDocumentMousedown})},unbindGlobalHandlers:function(){a1.prototype.unbindGlobalHandlers.apply(this,arguments);this.stopListeningTo(aD.get())},startNowIndicator:function(){var cw=this;var cu;var cv;var ct;if(this.opt("nowIndicator")){cu=this.getNowIndicatorUnit();if(cu){cv=a8(this,"updateNowIndicator");this.initialNowDate=this.calendar.getNow();this.initialNowQueriedMs=+new Date();ct=this.initialNowDate.clone().startOf(cu).add(1,cu)-this.initialNowDate;this.nowIndicatorTimeoutID=setTimeout(function(){cw.nowIndicatorTimeoutID=null;cv();ct=+bH.duration(1,cu);ct=Math.max(100,ct);cw.nowIndicatorIntervalID=setInterval(cv,ct)},ct)}}},updateNowIndicator:function(){if(this.isDatesRendered&&this.initialNowDate){this.unrenderNowIndicator();this.renderNowIndicator(this.initialNowDate.clone().add(new Date()-this.initialNowQueriedMs));this.isNowIndicatorRendered=true}},stopNowIndicator:function(){if(this.isNowIndicatorRendered){if(this.nowIndicatorTimeoutID){clearTimeout(this.nowIndicatorTimeoutID);this.nowIndicatorTimeoutID=null}if(this.nowIndicatorIntervalID){clearInterval(this.nowIndicatorIntervalID);this.nowIndicatorIntervalID=null}this.unrenderNowIndicator();this.isNowIndicatorRendered=false}},updateSize:function(cv,cu,ct){if(this.setHeight){this.setHeight(cv,cu)}else{a1.prototype.updateSize.apply(this,arguments)}this.updateNowIndicator()},addScroll:function(cu){var ct=this.queuedScroll||(this.queuedScroll={});b9.extend(ct,cu)},popScroll:function(){this.applyQueuedScroll();this.queuedScroll=null},applyQueuedScroll:function(){if(this.queuedScroll){this.applyScroll(this.queuedScroll)}},queryScroll:function(){var ct={};if(this.isDatesRendered){b9.extend(ct,this.queryDateScroll())}return ct},applyScroll:function(ct){if(ct.isDateInit&&this.isDatesRendered){b9.extend(ct,this.computeInitialDateScroll())}if(this.isDatesRendered){this.applyDateScroll(ct)}},computeInitialDateScroll:function(){return{}},queryDateScroll:function(){return{}},applyDateScroll:function(ct){},reportEventDrop:function(cy,cz,cw,cx){var cu=this.calendar.eventManager;var ct=cu.mutateEventsWithId(cy.def.id,cz,this.calendar);var cv=cz.dateMutation;if(cv){cy.dateProfile=cv.buildNewDateProfile(cy.dateProfile,this.calendar)}this.triggerEventDrop(cy,(cv&&cv.dateDelta)||bH.duration(),ct,cw,cx)},triggerEventDrop:function(cw,cx,ct,cu,cv){this.publiclyTrigger("eventDrop",{context:cu[0],args:[cw.toLegacy(),cx,ct,cv,{},this]})},reportExternalDrop:function(ct,cy,cv,cu,cw,cx){if(cy){this.calendar.eventManager.addEventDef(ct,cv)}this.triggerExternalDrop(ct,cy,cu,cw,cx)},triggerExternalDrop:function(ct,cx,cu,cv,cw){this.publiclyTrigger("drop",{context:cu[0],args:[ct.dateProfile.start.clone(),cv,cw,this]});if(cx){this.publiclyTrigger("eventReceive",{context:this,args:[ct.buildInstance().toLegacy(),this]})}},reportEventResize:function(cx,cy,cv,cw){var cu=this.calendar.eventManager;var ct=cu.mutateEventsWithId(cx.def.id,cy,this.calendar);cx.dateProfile=cy.dateMutation.buildNewDateProfile(cx.dateProfile,this.calendar);this.triggerEventResize(cx,cy.dateMutation.endDelta,ct,cv,cw)},triggerEventResize:function(cx,cu,ct,cv,cw){this.publiclyTrigger("eventResize",{context:cv[0],args:[cx.toLegacy(),cu,ct,cw,{},this]})},select:function(ct,cu){this.unselect(cu);this.renderSelectionFootprint(ct);this.reportSelection(ct,cu)},renderSelectionFootprint:function(ct,cu){if(this.renderSelection){this.renderSelection(ct.toLegacy(this.calendar))}else{a1.prototype.renderSelectionFootprint.apply(this,arguments)}},reportSelection:function(ct,cu){this.isSelected=true;this.triggerSelect(ct,cu)},triggerSelect:function(cu,cv){var ct=this.calendar.footprintToDateProfile(cu);this.publiclyTrigger("select",{context:this,args:[ct.start,ct.end,cv,this]})},unselect:function(ct){if(this.isSelected){this.isSelected=false;if(this.destroySelection){this.destroySelection()}this.unrenderSelection();this.publiclyTrigger("unselect",{context:this,args:[ct,this]})}},selectEventInstance:function(ct){if(!this.selectedEventInstance||this.selectedEventInstance!==ct){this.unselectEventInstance();this.getEventSegs().forEach(function(cu){if(cu.footprint.eventInstance===ct&&cu.el){cu.el.addClass("fc-selected")}});this.selectedEventInstance=ct}},unselectEventInstance:function(){if(this.selectedEventInstance){this.getEventSegs().forEach(function(ct){if(ct.el){ct.el.removeClass("fc-selected")}});this.selectedEventInstance=null}},isEventDefSelected:function(ct){return this.selectedEventInstance&&this.selectedEventInstance.def.id===ct.id},handleDocumentMousedown:function(ct){if(cm(ct)){this.processUnselect(ct)}},processUnselect:function(ct){this.processRangeUnselect(ct);this.processEventUnselect(ct)},processRangeUnselect:function(ct){var cu;if(this.isSelected&&this.opt("unselectAuto")){cu=this.opt("unselectCancel");if(!cu||!b9(ct.target).closest(cu).length){this.unselect(ct)}}},processEventUnselect:function(ct){if(this.selectedEventInstance){if(!b9(ct.target).closest(".fc-selected").length){this.unselectEventInstance()}}},triggerBaseRendered:function(){this.publiclyTrigger("viewRender",{context:this,args:[this,this.el]})},triggerBaseUnrendered:function(){this.publiclyTrigger("viewDestroy",{context:this,args:[this,this.el]})},triggerDayClick:function(cu,cw,cv){var ct=this.calendar.footprintToDateProfile(cu);this.publiclyTrigger("dayClick",{context:cw,args:[ct.start,cv,this]})}});bp.watch("displayingDates",["isInDom","dateProfile"],function(ct){this.requestDateRender(ct.dateProfile)},function(){this.requestDateUnrender()});bp.watch("displayingBusinessHours",["displayingDates","businessHourGenerator"],function(ct){this.requestBusinessHoursRender(ct.businessHourGenerator)},function(){this.requestBusinessHoursUnrender()});bp.watch("initialEvents",["dateProfile"],function(ct){return this.fetchInitialEvents(ct.dateProfile)});bp.watch("bindingEvents",["initialEvents"],function(ct){this.setEvents(ct.initialEvents);this.bindEventChanges()},function(){this.unbindEventChanges();this.unsetEvents()});bp.watch("displayingEvents",["displayingDates","hasEvents"],function(){this.requestEventsRender(this.get("currentEvents"))},function(){this.requestEventsUnrender()});bp.watch("title",["dateProfile"],function(ct){return(this.title=this.computeTitle(ct.dateProfile))});bp.watch("legacyDateProps",["dateProfile"],function(cv){var cu=this.calendar;var ct=cv.dateProfile;this.start=cu.msToMoment(ct.activeUnzonedRange.startMs,ct.isRangeAllDay);this.end=cu.msToMoment(ct.activeUnzonedRange.endMs,ct.isRangeAllDay);this.intervalStart=cu.msToMoment(ct.currentUnzonedRange.startMs,ct.isRangeAllDay);this.intervalEnd=cu.msToMoment(ct.currentUnzonedRange.endMs,ct.isRangeAllDay)});bp.mixin({usesMinMaxTime:false,start:null,end:null,intervalStart:null,intervalEnd:null,buildPrevDateProfile:function(cu){var ct=this.get("dateProfile");var cv=cu.clone().startOf(ct.currentRangeUnit).subtract(ct.dateIncrement);return this.buildDateProfile(cv,-1)},buildNextDateProfile:function(cu){var ct=this.get("dateProfile");var cv=cu.clone().startOf(ct.currentRangeUnit).add(ct.dateIncrement);return this.buildDateProfile(cv,1)},buildDateProfile:function(cw,cB,cv){var cD=!cw.hasTime();var cE;var cy=null;var cu=null;var ct;var cz;var cA;var cx;var cC;cE=this.buildValidRange();cE=this.trimHiddenDays(cE);if(cv){cw=this.calendar.msToUtcMoment(cE.constrainDate(cw),cD)}ct=this.buildCurrentRangeInfo(cw,cB);cz=/^(year|month|week|day)$/.test(ct.unit);cA=this.buildRenderRange(this.trimHiddenDays(ct.unzonedRange),ct.unit,cz);cA=this.trimHiddenDays(cA);cx=cA.clone();if(!this.opt("showNonCurrentDates")){cx=cx.intersect(ct.unzonedRange)}cy=bH.duration(this.opt("minTime"));cu=bH.duration(this.opt("maxTime"));cx=this.adjustActiveRange(cx,cy,cu);cx=cx.intersect(cE);if(cx){cw=this.calendar.msToUtcMoment(cx.constrainDate(cw),cD)}cC=ct.unzonedRange.intersectsWith(cE);return{validUnzonedRange:cE,currentUnzonedRange:ct.unzonedRange,currentRangeUnit:ct.unit,isRangeAllDay:cz,activeUnzonedRange:cx,renderUnzonedRange:cA,minTime:cy,maxTime:cu,isValid:cC,date:cw,dateIncrement:this.buildDateIncrement(ct.duration)}},buildValidRange:function(){return this.getUnzonedRangeOption("validRange",this.calendar.getNow())||new aC()},buildCurrentRangeInfo:function(cu,cy){var cx=null;var cv=null;var ct=null;var cw;if(this.viewSpec.duration){cx=this.viewSpec.duration;cv=this.viewSpec.durationUnit;ct=this.buildRangeFromDuration(cu,cy,cx,cv)}else{if((cw=this.opt("dayCount"))){cv="day";ct=this.buildRangeFromDayCount(cu,cy,cw)}else{if((ct=this.buildCustomVisibleRange(cu))){cv=a2(ct.getStart(),ct.getEnd())}else{cx=this.getFallbackDuration();cv=a2(cx);ct=this.buildRangeFromDuration(cu,cy,cx,cv)}}}return{duration:cx,unit:cv,unzonedRange:ct}},getFallbackDuration:function(){return bH.duration({days:1})},adjustActiveRange:function(cv,cu,cw){var cx=cv.getStart();var ct=cv.getEnd();if(this.usesMinMaxTime){if(cu<0){cx.time(0).add(cu)}if(cw>24*60*60*1000){ct.time(cw-(24*60*60*1000))}}return new aC(cx,ct)},buildRangeFromDuration:function(cv,cA,cw,cB){var cz=this.opt("dateAlignment");var cu=cv.clone();var cx;var ct;var cy;if(cw.as("days")<=1){if(this.isHiddenDay(cu)){cu=this.skipHiddenDays(cu,cA);cu.startOf("day")}}if(!cz){ct=this.opt("dateIncrement");if(ct){cy=bH.duration(ct);if(cy<cw){cz=f(cy,ct)}else{cz=cB}}else{cz=cB}}cu.startOf(cz);cx=cu.clone().add(cw);return new aC(cu,cx)},buildRangeFromDayCount:function(cw,cy,cx){var cv=this.opt("dateAlignment");var ct=0;var cz=cw.clone();var cu;if(cv){cz.startOf(cv)}cz.startOf("day");cz=this.skipHiddenDays(cz,cy);cu=cz.clone();do{cu.add(1,"day");if(!this.isHiddenDay(cu)){ct++}}while(ct<cx);return new aC(cz,cu)},buildCustomVisibleRange:function(ct){var cu=this.getUnzonedRangeOption("visibleRange",this.calendar.applyTimezone(ct));if(cu&&(cu.startMs===null||cu.endMs===null)){return null}return cu},buildRenderRange:function(cv,ct,cu){return cv.clone()},buildDateIncrement:function(cv){var cu=this.opt("dateIncrement");var ct;if(cu){return bH.duration(cu)}else{if((ct=this.opt("dateAlignment"))){return bH.duration(1,ct)}else{if(cv){return cv}else{return bH.duration({days:1})}}}},trimHiddenDays:function(cu){var cv=cu.getStart();var ct=cu.getEnd();if(cv){cv=this.skipHiddenDays(cv)}if(ct){ct=this.skipHiddenDays(ct,-1,true)}return new aC(cv,ct)},isDateInOtherMonth:function(cu,ct){return false},getUnzonedRangeOption:function(ct){var cu=this.opt(ct);if(typeof cu==="function"){cu=cu.apply(null,Array.prototype.slice.call(arguments,1))}if(cu){return this.calendar.parseUnzonedRange(cu)}},initHiddenDays:function(){var cu=this.opt("hiddenDays")||[];var cw=[];var ct=0;var cv;if(this.opt("weekends")===false){cu.push(0,6)}for(cv=0;cv<7;cv++){if(!(cw[cv]=b9.inArray(cv,cu)!==-1)){ct++}}if(!ct){throw"invalid hiddenDays"}this.isHiddenDayHash=cw},isHiddenDay:function(ct){if(bH.isMoment(ct)){ct=ct.day()}return this.isHiddenDayHash[ct]},skipHiddenDays:function(cv,cw,ct){var cu=cv.clone();cw=cw||1;while(this.isHiddenDayHash[(cu.day()+(ct?cw:0)+7)%7]){cu.add(cw,"days")}return cu}});function bD(cA,ct){var cH=this;cH.setToolbarOptions=cy;cH.render=cv;cH.removeElement=cD;cH.updateTitle=cB;cH.activateButton=cu;cH.deactivateButton=cF;cH.disableButton=cz;cH.enableButton=cC;cH.getViewsWithButtons=cx;cH.el=null;var cw;var cE=[];function cy(cI){ct=cI}function cv(){var cI=ct.layout;if(cI){if(!cw){cw=this.el=b9("<div class='fc-toolbar "+ct.extraClasses+"'/>")}else{cw.empty()}cw.append(cG("left")).append(cG("right")).append(cG("center")).append('<div class="fc-clear"/>')}else{cD()}}function cD(){if(cw){cw.remove();cw=cH.el=null}}function cG(cI){var cO=cA.theme;var cJ=b9('<div class="fc-'+cI+'"/>');var cN=ct.layout[cI];var cM=cA.opt("customButtons")||{};var cL=cA.overrides.buttonText||{};var cK=cA.opt("buttonText")||{};if(cN){b9.each(cN.split(" "),function(cP){var cQ=b9();var cR=true;var cS;b9.each(this.split(","),function(cV,c2){var c1;var cY;var cW;var cZ;var c0;var cT;var cU;var cX;if(c2=="title"){cQ=cQ.add(b9("<h2>&nbsp;</h2>"));cR=false}else{if((c1=cM[c2])){cW=function(c3){if(c1.click){c1.click.call(cX[0],c3)}};(cZ=cO.getCustomButtonIconClass(c1))||(cZ=cO.getIconClass(c2))||(c0=c1.text)}else{if((cY=cA.getViewSpec(c2))){cE.push(c2);cW=function(){cA.changeView(c2)};(c0=cY.buttonTextOverride)||(cZ=cO.getIconClass(c2))||(c0=cY.buttonTextDefault)}else{if(cA[c2]){cW=function(){cA[c2]()};(c0=cL[c2])||(cZ=cO.getIconClass(c2))||(c0=cK[c2])}}}if(cW){cU=["fc-"+c2+"-button",cO.getClass("button"),cO.getClass("stateDefault")];if(c0){cT=be(c0)}else{if(cZ){cT="<span class='"+cZ+"'></span>"}}cX=b9('<button type="button" class="'+cU.join(" ")+'">'+cT+"</button>").click(function(c3){if(!cX.hasClass(cO.getClass("stateDisabled"))){cW(c3);if(cX.hasClass(cO.getClass("stateActive"))||cX.hasClass(cO.getClass("stateDisabled"))){cX.removeClass(cO.getClass("stateHover"))}}}).mousedown(function(){cX.not("."+cO.getClass("stateActive")).not("."+cO.getClass("stateDisabled")).addClass(cO.getClass("stateDown"))}).mouseup(function(){cX.removeClass(cO.getClass("stateDown"))}).hover(function(){cX.not("."+cO.getClass("stateActive")).not("."+cO.getClass("stateDisabled")).addClass(cO.getClass("stateHover"))},function(){cX.removeClass(cO.getClass("stateHover")).removeClass(cO.getClass("stateDown"))});cQ=cQ.add(cX)}}});if(cR){cQ.first().addClass(cO.getClass("cornerLeft")).end().last().addClass(cO.getClass("cornerRight")).end()}if(cQ.length>1){cS=b9("<div/>");if(cR){cS.addClass(cO.getClass("buttonGroup"))}cS.append(cQ);cJ.append(cS)}else{cJ.append(cQ)}})}return cJ}function cB(cI){if(cw){cw.find("h2").text(cI)}}function cu(cI){if(cw){cw.find(".fc-"+cI+"-button").addClass(cA.theme.getClass("stateActive"))}}function cF(cI){if(cw){cw.find(".fc-"+cI+"-button").removeClass(cA.theme.getClass("stateActive"))}}function cz(cI){if(cw){cw.find(".fc-"+cI+"-button").prop("disabled",true).addClass(cA.theme.getClass("stateDisabled"))}}function cC(cI){if(cw){cw.find(".fc-"+cI+"-button").prop("disabled",false).removeClass(cA.theme.getClass("stateDisabled"))}}function cx(){return cE}}var A=D.Calendar=aW.extend(B,aH,{view:null,viewsByType:null,currentDate:null,theme:null,businessHourGenerator:null,loadingLevel:0,constructor:function(ct,cu){aD.needed();this.el=ct;this.viewsByType={};this.viewSpecCache={};this.initOptionsInternals(cu);this.initMomentInternals();this.initCurrentDate();this.initEventManager();this.constructed()},constructed:function(){},getView:function(){return this.view},publiclyTrigger:function(cu,cx){var cw=this.opt(cu);var cv;var ct;if(b9.isPlainObject(cx)){cv=cx.context;ct=cx.args}else{if(b9.isArray(cx)){ct=cx}}if(cv==null){cv=this.el[0]}if(!ct){ct=[]}this.triggerWith(cu,cv,ct);if(cw){return cw.apply(cv,ct)}},hasPublicHandlers:function(ct){return this.hasHandlers(ct)||this.opt(ct)},instantiateView:function(ct){var cu=this.getViewSpec(ct);return new cu["class"](this,cu)},isValidViewType:function(ct){return Boolean(this.getViewSpec(ct))},changeView:function(cu,ct){if(ct){if(ct.start&&ct.end){this.recordOptionOverrides({visibleRange:ct})}else{this.currentDate=this.moment(ct).stripZone()}}this.renderView(cu)},zoomTo:function(cu,ct){var cv;ct=ct||"day";cv=this.getViewSpec(ct)||this.getUnitViewSpec(ct);this.currentDate=cu.clone();this.renderView(cv?cv.type:null)},initCurrentDate:function(){var ct=this.opt("defaultDate");if(ct!=null){this.currentDate=this.moment(ct).stripZone()}else{this.currentDate=this.getNow()}},prev:function(){var ct=this.view.buildPrevDateProfile(this.currentDate);if(ct.isValid){this.currentDate=ct.date;this.renderView()}},next:function(){var ct=this.view.buildNextDateProfile(this.currentDate);if(ct.isValid){this.currentDate=ct.date;this.renderView()}},prevYear:function(){this.currentDate.add(-1,"years");this.renderView()},nextYear:function(){this.currentDate.add(1,"years");this.renderView()},today:function(){this.currentDate=this.getNow();this.renderView()},gotoDate:function(ct){this.currentDate=this.moment(ct).stripZone();this.renderView()},incrementDate:function(ct){this.currentDate.add(bH.duration(ct));this.renderView()},getDate:function(){return this.applyTimezone(this.currentDate)},pushLoading:function(){if(!(this.loadingLevel++)){this.publiclyTrigger("loading",[true,this.view])}},popLoading:function(){if(!(--this.loadingLevel)){this.publiclyTrigger("loading",[false,this.view])}},select:function(ct,cu){this.view.select(this.buildSelectFootprint.apply(this,arguments))},unselect:function(){if(this.view){this.view.unselect()}},buildSelectFootprint:function(cu,cv){var cw=this.moment(cu).stripZone();var ct;if(cv){ct=this.moment(cv).stripZone()}else{if(cw.hasTime()){ct=cw.clone().add(this.defaultTimedEventDuration)}else{ct=cw.clone().add(this.defaultAllDayEventDuration)}}return new u(new aC(cw,ct),!cw.hasTime())},parseUnzonedRange:function(cv){var cu=null;var ct=null;if(cv.start){cu=this.moment(cv.start).stripZone()}if(cv.end){ct=this.moment(cv.end).stripZone()}if(!cu&&!ct){return null}if(cu&&ct&&ct.isBefore(cu)){return null}return new aC(cu,ct)},rerenderEvents:function(){this.view.flash("displayingEvents")},initEventManager:function(){var cw=this;var ct=new bj(this);var cu=this.opt("eventSources")||[];var cv=this.opt("events");this.eventManager=ct;if(cv){cu.unshift(cv)}ct.on("release",function(cx){cw.trigger("eventsReset",cx)});ct.freeze();cu.forEach(function(cy){var cx=bU.parse(cy,cw);if(cx){ct.addSource(cx)}});ct.thaw()},requestEvents:function(cu,ct){return this.eventManager.requestEvents(cu,ct,this.opt("timezone"),!this.opt("lazyFetching"))}});A.mixin({dirDefaults:null,localeDefaults:null,overrides:null,dynamicOverrides:null,optionsModel:null,initOptionsInternals:function(ct){this.overrides=b9.extend({},ct);this.dynamicOverrides={};this.optionsModel=new ck();this.populateOptionsHash()},option:function(ct,cv){var cu;if(typeof ct==="string"){if(cv===undefined){return this.optionsModel.get(ct)}else{cu={};cu[ct]=cv;this.setOptions(cu)}}else{if(typeof ct==="object"){this.setOptions(ct)}}},opt:function(ct){return this.optionsModel.get(ct)},setOptions:function(cv){var ct=0;var cu;this.recordOptionOverrides(cv);for(cu in cv){ct++}if(ct===1){if(cu==="height"||cu==="contentHeight"||cu==="aspectRatio"){this.updateViewSize(true);return}else{if(cu==="defaultDate"){return}else{if(cu==="businessHours"){return}else{if(cu==="timezone"){this.view.flash("initialEvents");return}}}}}this.renderHeader();this.renderFooter();this.viewsByType={};this.reinitView()},populateOptionsHash:function(){var ct,cu;var cw,cx;var cv;ct=aj(this.dynamicOverrides.locale,this.overrides.locale);cu=aq[ct];if(!cu){ct=A.defaults.locale;cu=aq[ct]||{}}cw=aj(this.dynamicOverrides.isRTL,this.overrides.isRTL,cu.isRTL,A.defaults.isRTL);cx=cw?A.rtlDefaults:{};this.dirDefaults=cx;this.localeDefaults=cu;cv=bq([A.defaults,cx,cu,this.overrides,this.dynamicOverrides]);bo(cv);this.optionsModel.reset(cv)},recordOptionOverrides:function(cu){var ct;for(ct in cu){this.dynamicOverrides[ct]=cu[ct]}this.viewSpecCache={};this.populateOptionsHash()}});A.mixin({defaultAllDayEventDuration:null,defaultTimedEventDuration:null,localeData:null,initMomentInternals:function(){var ct=this;this.defaultAllDayEventDuration=bH.duration(this.opt("defaultAllDayEventDuration"));this.defaultTimedEventDuration=bH.duration(this.opt("defaultTimedEventDuration"));this.optionsModel.watch("buildingMomentLocale",["?locale","?monthNames","?monthNamesShort","?dayNames","?dayNamesShort","?firstDay","?weekNumberCalculation"],function(cx){var cy=cx.weekNumberCalculation;var cv=cx.firstDay;var cu;if(cy==="iso"){cy="ISO"}var cw=Object.create(X(cx.locale));if(cx.monthNames){cw._months=cx.monthNames}if(cx.monthNamesShort){cw._monthsShort=cx.monthNamesShort}if(cx.dayNames){cw._weekdays=cx.dayNames}if(cx.dayNamesShort){cw._weekdaysShort=cx.dayNamesShort}if(cv==null&&cy==="ISO"){cv=1}if(cv!=null){cu=Object.create(cw._week);cu.dow=cv;cw._week=cu}if(cy==="ISO"||cy==="local"||typeof cy==="function"){cw._fullCalendar_weekCalc=cy}ct.localeData=cw;if(ct.currentDate){ct.localizeMoment(ct.currentDate)}})},moment:function(){var ct;if(this.opt("timezone")==="local"){ct=D.moment.apply(null,arguments);if(ct.hasTime()){ct.local()}}else{if(this.opt("timezone")==="UTC"){ct=D.moment.utc.apply(null,arguments)}else{ct=D.moment.parseZone.apply(null,arguments)}}this.localizeMoment(ct);return ct},msToMoment:function(cu,ct){var cv=D.moment.utc(cu);if(ct){cv.stripTime()}else{cv=this.applyTimezone(cv)}this.localizeMoment(cv);return cv},msToUtcMoment:function(cu,ct){var cv=D.moment.utc(cu);if(ct){cv.stripTime()}this.localizeMoment(cv);return cv},localizeMoment:function(ct){ct._locale=this.localeData},getIsAmbigTimezone:function(){return this.opt("timezone")!=="local"&&this.opt("timezone")!=="UTC"},applyTimezone:function(ct){if(!ct.hasTime()){return ct.clone()}var cu=this.moment(ct.toArray());var cw=ct.time()-cu.time();var cv;if(cw){cv=cu.clone().add(cw);if(ct.time()-cv.time()===0){cu=cv}}return cu},footprintToDateProfile:function(cu,cv){var cw=D.moment.utc(cu.unzonedRange.startMs);var ct;if(!cv){ct=D.moment.utc(cu.unzonedRange.endMs)}if(cu.isAllDay){cw.stripTime();if(ct){ct.stripTime()}}else{cw=this.applyTimezone(cw);if(ct){ct=this.applyTimezone(ct)}}return new F(cw,ct,this)},getNow:function(){var ct=this.opt("now");if(typeof ct==="function"){ct=ct()}return this.moment(ct).stripZone()},humanizeDuration:function(ct){return ct.locale(this.opt("locale")).humanize()},getEventEnd:function(ct){if(ct.end){return ct.end.clone()}else{return this.getDefaultEventEnd(ct.allDay,ct.start)}},getDefaultEventEnd:function(cu,cv){var ct=cv.clone();if(cu){ct.stripTime().add(this.defaultAllDayEventDuration)}else{ct.add(this.defaultTimedEventDuration)}if(this.getIsAmbigTimezone()){ct.stripZone()}return ct}});A.mixin({viewSpecCache:null,getViewSpec:function(ct){var cu=this.viewSpecCache;return cu[ct]||(cu[ct]=this.buildViewSpec(ct))},getUnitViewSpec:function(cw){var cv;var cu;var ct;if(b9.inArray(cw,k)!=-1){cv=this.header.getViewsWithButtons();b9.each(D.views,function(cx){cv.push(cx)});for(cu=0;cu<cv.length;cu++){ct=this.getViewSpec(cv[cu]);if(ct){if(ct.singleUnit==cw){return ct}}}}},buildViewSpec:function(cv){var cy=this.overrides.views||{};var cx=[];var cD=[];var ct=[];var cw=cv;var cC;var cB;var cA;var cu;var cz;while(cw){cC=an[cw];cB=cy[cw];cw=null;if(typeof cC==="function"){cC={"class":cC}}if(cC){cx.unshift(cC);cD.unshift(cC.defaults||{});cA=cA||cC.duration;cw=cw||cC.type}if(cB){ct.unshift(cB);cA=cA||cB.duration;cw=cw||cB.type}}cC=co(cx);cC.type=cv;if(!cC["class"]){return false}cA=cA||this.dynamicOverrides.duration||this.overrides.duration;if(cA){cu=bH.duration(cA);if(cu.valueOf()){cz=f(cu,cA);cC.duration=cu;cC.durationUnit=cz;if(cu.as(cz)===1){cC.singleUnit=cz;ct.unshift(cy[cz]||{})}}}cC.defaults=bq(cD);cC.overrides=bq(ct);this.buildViewSpecOptions(cC);this.buildViewSpecButtonText(cC,cv);return cC},buildViewSpecOptions:function(ct){ct.options=bq([A.defaults,ct.defaults,this.dirDefaults,this.localeDefaults,this.overrides,ct.overrides,this.dynamicOverrides]);bo(ct.options)},buildViewSpecButtonText:function(cu,cv){function ct(cw){var cx=cw.buttonText||{};return cx[cv]||(cu.buttonTextKey?cx[cu.buttonTextKey]:null)||(cu.singleUnit?cx[cu.singleUnit]:null)}cu.buttonTextOverride=ct(this.dynamicOverrides)||ct(this.overrides)||cu.overrides.buttonText;cu.buttonTextDefault=ct(this.localeDefaults)||ct(this.dirDefaults)||cu.defaults.buttonText||ct(A.defaults)||(cu.duration?this.humanizeDuration(cu.duration):null)||cv}});A.mixin({el:null,contentEl:null,suggestedViewHeight:null,ignoreUpdateViewSize:0,freezeContentHeightDepth:0,windowResizeProxy:null,render:function(){if(!this.contentEl){this.initialRender()}else{if(this.elementVisible()){this.calcSize();this.renderView()}}},initialRender:function(){var cu=this;var ct=this.el;ct.addClass("fc");ct.on("click.fc","a[data-goto]",function(cz){var cA=b9(this);var cy=cA.data("goto");var cw=cu.moment(cy.date);var cv=cy.type;var cx=cu.view.opt("navLink"+q(cv)+"Click");if(typeof cx==="function"){cx(cw,cz)}else{if(typeof cx==="string"){cv=cx}cu.zoomTo(cw,cv)}});this.optionsModel.watch("settingTheme",["?theme","?themeSystem"],function(cv){var cy=h.getThemeClass(cv.themeSystem||cv.theme);var cw=new cy(cu.optionsModel);var cx=cw.getClass("widget");cu.theme=cw;if(cx){ct.addClass(cx)}},function(){var cv=cu.theme.getClass("widget");cu.theme=null;if(cv){ct.removeClass(cv)}});this.optionsModel.watch("settingBusinessHourGenerator",["?businessHours"],function(cv){cu.businessHourGenerator=new aQ(cv.businessHours,cu);if(cu.view){cu.view.set("businessHourGenerator",cu.businessHourGenerator)}},function(){cu.businessHourGenerator=null});this.optionsModel.watch("applyingDirClasses",["?isRTL","?locale"],function(cv){ct.toggleClass("fc-ltr",!cv.isRTL);ct.toggleClass("fc-rtl",cv.isRTL)});this.contentEl=b9("<div class='fc-view-container'/>").prependTo(ct);this.initToolbars();this.renderHeader();this.renderFooter();this.renderView(this.opt("defaultView"));if(this.opt("handleWindowResize")){b9(window).resize(this.windowResizeProxy=bO(this.windowResize.bind(this),this.opt("windowResizeDelay")))}},destroy:function(){if(this.view){this.clearView()}this.toolbarsManager.proxyCall("removeElement");this.contentEl.remove();this.el.removeClass("fc fc-ltr fc-rtl");this.optionsModel.unwatch("settingTheme");this.optionsModel.unwatch("settingBusinessHourGenerator");this.el.off(".fc");if(this.windowResizeProxy){b9(window).unbind("resize",this.windowResizeProxy);this.windowResizeProxy=null}aD.unneeded()},elementVisible:function(){return this.el.is(":visible")},bindViewHandlers:function(ct){var cu=this;ct.watch("titleForCalendar",["title"],function(cv){if(ct===cu.view){cu.setToolbarsTitle(cv.title)}});ct.watch("dateProfileForCalendar",["dateProfile"],function(cv){if(ct===cu.view){cu.currentDate=cv.dateProfile.date;cu.updateToolbarButtons(cv.dateProfile)}})},unbindViewHandlers:function(ct){ct.unwatch("titleForCalendar");ct.unwatch("dateProfileForCalendar")},renderView:function(ct){var cu=this.view;var cv;this.freezeContentHeight();if(cu&&ct&&cu.type!==ct){this.clearView()}if(!this.view&&ct){cv=this.view=this.viewsByType[ct]||(this.viewsByType[ct]=this.instantiateView(ct));this.bindViewHandlers(cv);cv.setElement(b9("<div class='fc-view fc-"+ct+"-view' />").appendTo(this.contentEl));this.toolbarsManager.proxyCall("activateButton",ct)}if(this.view){if(this.view.get("businessHourGenerator")!==this.businessHourGenerator){this.view.set("businessHourGenerator",this.businessHourGenerator)}this.view.setDate(this.currentDate)}this.thawContentHeight()},clearView:function(){var ct=this.view;this.toolbarsManager.proxyCall("deactivateButton",ct.type);this.unbindViewHandlers(ct);ct.removeElement();ct.unsetDate();this.view=null},reinitView:function(){var cu=this.view;var ct=cu.queryScroll();this.freezeContentHeight();this.clearView();this.calcSize();this.renderView(cu.type);this.view.applyScroll(ct);this.thawContentHeight()},getSuggestedViewHeight:function(){if(this.suggestedViewHeight===null){this.calcSize()}return this.suggestedViewHeight},isHeightAuto:function(){return this.opt("contentHeight")==="auto"||this.opt("height")==="auto"},updateViewSize:function(cu){var cv=this.view;var ct;if(!this.ignoreUpdateViewSize&&cv){if(cu){this.calcSize();ct=cv.queryScroll()}this.ignoreUpdateViewSize++;cv.updateSize(this.getSuggestedViewHeight(),this.isHeightAuto(),cu);this.ignoreUpdateViewSize--;if(cu){cv.applyScroll(ct)}return true}},calcSize:function(){if(this.elementVisible()){this._calcSize()}},_calcSize:function(){var cu=this.opt("contentHeight");var ct=this.opt("height");if(typeof cu==="number"){this.suggestedViewHeight=cu}else{if(typeof cu==="function"){this.suggestedViewHeight=cu()}else{if(typeof ct==="number"){this.suggestedViewHeight=ct-this.queryToolbarsHeight()}else{if(typeof ct==="function"){this.suggestedViewHeight=ct()-this.queryToolbarsHeight()}else{if(ct==="parent"){this.suggestedViewHeight=this.el.parent().height()-this.queryToolbarsHeight()}else{this.suggestedViewHeight=Math.round(this.contentEl.width()/Math.max(this.opt("aspectRatio"),0.5))}}}}}},windowResize:function(ct){if(ct.target===window&&this.view&&this.view.isDatesRendered){if(this.updateViewSize(true)){this.publiclyTrigger("windowResize",[this.view])}}},freezeContentHeight:function(){if(!(this.freezeContentHeightDepth++)){this.forceFreezeContentHeight()}},forceFreezeContentHeight:function(){this.contentEl.css({width:"100%",height:this.contentEl.height(),overflow:"hidden"})},thawContentHeight:function(){this.freezeContentHeightDepth--;this.contentEl.css({width:"",height:"",overflow:""});if(this.freezeContentHeightDepth){this.forceFreezeContentHeight()}}});A.mixin({header:null,footer:null,toolbarsManager:null,initToolbars:function(){this.header=new bD(this,this.computeHeaderOptions());this.footer=new bD(this,this.computeFooterOptions());this.toolbarsManager=new cc([this.header,this.footer])},computeHeaderOptions:function(){return{extraClasses:"fc-header-toolbar",layout:this.opt("header")}},computeFooterOptions:function(){return{extraClasses:"fc-footer-toolbar",layout:this.opt("footer")}},renderHeader:function(){var ct=this.header;ct.setToolbarOptions(this.computeHeaderOptions());ct.render();if(ct.el){this.el.prepend(ct.el)}},renderFooter:function(){var ct=this.footer;ct.setToolbarOptions(this.computeFooterOptions());ct.render();if(ct.el){this.el.append(ct.el)}},setToolbarsTitle:function(ct){this.toolbarsManager.proxyCall("updateTitle",ct)},updateToolbarButtons:function(cu){var cx=this.getNow();var ct=this.view;var cy=ct.buildDateProfile(cx);var cw=ct.buildPrevDateProfile(this.currentDate);var cv=ct.buildNextDateProfile(this.currentDate);this.toolbarsManager.proxyCall((cy.isValid&&!cu.currentUnzonedRange.containsDate(cx))?"enableButton":"disableButton","today");this.toolbarsManager.proxyCall(cw.isValid?"enableButton":"disableButton","prev");this.toolbarsManager.proxyCall(cv.isValid?"enableButton":"disableButton","next")},queryToolbarsHeight:function(){return this.toolbarsManager.items.reduce(function(ct,cu){var cv=cu.el?cu.el.outerHeight(true):0;return ct+cv},0)}});A.prototype.isEventInstanceGroupAllowed=function(cy){var cv=cy.getEventDef();var cu=this.eventRangesToEventFootprints(cy.getAllEventRanges());var cx;var cB=this.getPeerEventInstances(cv);var cA=cB.map(aA);var cC=this.eventRangesToEventFootprints(cA);var cw=cv.getConstraint();var ct=cv.getOverlap();var cz=this.opt("eventAllow");for(cx=0;cx<cu.length;cx++){if(!this.isFootprintAllowed(cu[cx].componentFootprint,cC,cw,ct,cu[cx].eventInstance)){return false}}if(cz){for(cx=0;cx<cu.length;cx++){if(cz(cu[cx].componentFootprint.toLegacy(this),cu[cx].getEventLegacy())===false){return false}}}return true};A.prototype.getPeerEventInstances=function(ct){return this.eventManager.getEventInstancesWithoutId(ct.id)};A.prototype.isSelectionFootprintAllowed=function(ct){var cv=this.eventManager.getEventInstances();var cx=cv.map(aA);var cu=this.eventRangesToEventFootprints(cx);var cw;if(this.isFootprintAllowed(ct,cu,this.opt("selectConstraint"),this.opt("selectOverlap"))){cw=this.opt("selectAllow");if(cw){return cw(ct.toLegacy(this))!==false}else{return true}}return false};A.prototype.isFootprintAllowed=function(cw,cz,cu,ct,cx){var cv;var cy;if(cu!=null){cv=this.constraintValToFootprints(cu,cw.isAllDay);if(!this.isFootprintWithinConstraints(cw,cv)){return false}}cy=this.collectOverlapEventFootprints(cz,cw);if(ct===false){if(cy.length){return false}}else{if(typeof ct==="function"){if(!ae(cy,ct,cx)){return false}}}if(cx){if(!x(cy,cx)){return false}}return true};A.prototype.isFootprintWithinConstraints=function(cu,ct){var cv;for(cv=0;cv<ct.length;cv++){if(this.footprintContainsFootprint(ct[cv],cu)){return true}}return false};A.prototype.constraintValToFootprints=function(ct,cv){var cu;if(ct==="businessHours"){return this.buildCurrentBusinessFootprints(cv)}else{if(typeof ct==="object"){cu=this.parseEventDefToInstances(ct);if(!cu){return this.parseFootprints(ct)}else{return this.eventInstancesToFootprints(cu)}}else{if(ct!=null){cu=this.eventManager.getEventInstancesWithId(ct);return this.eventInstancesToFootprints(cu)}}}};A.prototype.buildCurrentBusinessFootprints=function(cv){var ct=this.view;var cw=ct.get("businessHourGenerator");var cu=ct.dateProfile.activeUnzonedRange;var cx=cw.buildEventInstanceGroup(cv,cu);if(cx){return this.eventInstancesToFootprints(cx.eventInstances)}else{return[]}};A.prototype.eventInstancesToFootprints=function(cu){var ct=cu.map(aA);var cv=this.eventRangesToEventFootprints(ct);return cv.map(aL)};A.prototype.collectOverlapEventFootprints=function(cw,cv){var cu=[];var ct;for(ct=0;ct<cw.length;ct++){if(this.footprintsIntersect(cv,cw[ct].componentFootprint)){cu.push(cw[ct])}}return cu};function ae(cv,cw,cu){var ct;for(ct=0;ct<cv.length;ct++){if(!cw(cv[ct].eventInstance.toLegacy(),cu?cu.toLegacy():null)){return false}}return true}function x(cx,cw){var cu=cw.toLegacy();var cv;var cz;var cy;var ct;for(cv=0;cv<cx.length;cv++){cz=cx[cv].eventInstance;cy=cz.def;ct=cy.getOverlap();if(ct===false){return false}else{if(typeof ct==="function"){if(!ct(cz.toLegacy(),cu)){return false}}}}return true}A.prototype.parseEventDefToInstances=function(cu){var ct=this.eventManager;var cv=bW.parse(cu,new a9(this));if(!cv){return false}return cv.buildInstances(ct.currentPeriod.unzonedRange)};A.prototype.eventRangesToEventFootprints=function(ct){var cv;var cu=[];for(cv=0;cv<ct.length;cv++){cu.push.apply(cu,this.eventRangeToEventFootprints(ct[cv]))}return cu};A.prototype.eventRangeToEventFootprints=function(ct){return[M(ct)]};A.prototype.parseFootprints=function(cu){var cv,ct;if(cu.start){cv=this.moment(cu.start);if(!cv.isValid()){cv=null}}if(cu.end){ct=this.moment(cu.end);if(!ct.isValid()){ct=null}}return[new u(new aC(cv,ct),(cv&&!cv.hasTime())||(ct&&!ct.hasTime()))]};A.prototype.footprintContainsFootprint=function(cu,ct){return cu.unzonedRange.containsRange(ct.unzonedRange)};A.prototype.footprintsIntersect=function(cu,ct){return cu.unzonedRange.intersectsWith(ct.unzonedRange)};A.mixin({getEventSources:function(){return this.eventManager.otherSources.slice()},getEventSourceById:function(ct){return this.eventManager.getSourceById(a9.normalizeId(ct))},addEventSource:function(cu){var ct=bU.parse(cu,this);if(ct){this.eventManager.addSource(ct)}},removeEventSources:function(ct){var cv=this.eventManager;var cu;var cw;if(ct==null){this.eventManager.removeAllSources()}else{cu=cv.multiQuerySources(ct);cv.freeze();for(cw=0;cw<cu.length;cw++){cv.removeSource(cu[cw])}cv.thaw()}},removeEventSource:function(cw){var cu=this.eventManager;var ct=cu.querySources(cw);var cv;cu.freeze();for(cv=0;cv<ct.length;cv++){cu.removeSource(ct[cv])}cu.thaw()},refetchEventSources:function(ct){var cv=this.eventManager;var cu=cv.multiQuerySources(ct);var cw;cv.freeze();for(cw=0;cw<cu.length;cw++){cv.refetchSource(cu[cw])}cv.thaw()},refetchEvents:function(){this.eventManager.refetchAllSources()},renderEvents:function(cv,cu){this.eventManager.freeze();for(var ct=0;ct<cv.length;ct++){this.renderEvent(cv[ct],cu)}this.eventManager.thaw()},renderEvent:function(cu,cv){var ct=this.eventManager;var cw=bW.parse(cu,cu.source||ct.stickySource);if(cw){ct.addEventDef(cw,cv)}},removeEvents:function(cu){var cv=this.eventManager;var ct=[];var cx={};var cy;var cw;if(cu==null){cv.removeAllEventDefs(true)}else{cv.getEventInstances().forEach(function(cz){ct.push(cz.toLegacy())});ct=ci(ct,cu);for(cw=0;cw<ct.length;cw++){cy=this.eventManager.getEventDefByUid(ct[cw]._id);cx[cy.id]=true}cv.freeze();for(cw in cx){cv.removeEventDefsById(cw,true)}cv.thaw()}},clientEvents:function(ct){var cu=[];this.eventManager.getEventInstances().forEach(function(cv){cu.push(cv.toLegacy())});return ci(cu,ct)},updateEvents:function(ct){this.eventManager.freeze();for(var cu=0;cu<ct.length;cu++){this.updateEvent(ct[cu])}this.eventManager.thaw()},updateEvent:function(cw){var cv=this.eventManager.getEventDefByUid(cw._id);var cu;var ct;if(cv instanceof t){cu=cv.buildInstance();ct=v.createFromRawProps(cu,cw,null);this.eventManager.mutateEventsWithId(cv.id,ct)}}});function ci(cu,ct){if(ct==null){return cu}else{if(b9.isFunction(ct)){return cu.filter(ct)}else{ct+="";return cu.filter(function(cv){return cv.id==ct||cv._id===ct})}}}A.defaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:false,nextDayThreshold:"09:00:00",columnHeader:true,defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:true,lazyFetching:true,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:false,isRTL:false,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},allDayText:"all-day",agendaEventMinHeight:0,theme:false,dragOpacity:0.75,dragRevertDuration:500,dragScroll:true,unselectAuto:true,dropAccept:"*",eventOrder:"title",eventLimit:false,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:true,windowResizeDelay:100,longPressDelay:1000};A.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};A.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var aq=D.locales={};D.datepickerLocale=function(cv,cu,cw){var ct=aq[cv]||(aq[cv]={});ct.isRTL=cw.isRTL;ct.weekNumberTitle=cw.weekHeader;b9.each(bh,function(cx,cy){ct[cx]=cy(cw)});if(b9.datepicker){b9.datepicker.regional[cu]=b9.datepicker.regional[cv]=cw;b9.datepicker.regional.en=b9.datepicker.regional[""];b9.datepicker.setDefaults(cw)}};D.locale=function(cu,cw){var ct;var cv;ct=aq[cu]||(aq[cu]={});if(cw){ct=aq[cu]=bq([ct,cw])}cv=X(cu);b9.each(bM,function(cx,cy){if(ct[cx]==null){ct[cx]=cy(cv,ct)}});A.defaults.locale=cu};var bh={buttonText:function(ct){return{prev:bc(ct.prevText),next:bc(ct.nextText),today:bc(ct.currentText)}},monthYearFormat:function(ct){return ct.showMonthAfterYear?"YYYY["+ct.yearSuffix+"] MMMM":"MMMM YYYY["+ct.yearSuffix+"]"}};var bM={dayOfMonthFormat:function(cu,ct){var cv=cu.longDateFormat("l");cv=cv.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");if(ct.isRTL){cv+=" ddd"}else{cv="ddd "+cv}return cv},mediumTimeFormat:function(ct){return ct.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(ct){return ct.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(ct){return ct.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(ct){return ct.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(ct){return ct.longDateFormat("LT").replace(/\s*a$/i,"")}};var bS={smallDayDateFormat:function(ct){return ct.isRTL?"D dd":"dd D"},weekFormat:function(ct){return ct.isRTL?"w[ "+ct.weekNumberTitle+"]":"["+ct.weekNumberTitle+" ]w"},smallWeekFormat:function(ct){return ct.isRTL?"w["+ct.weekNumberTitle+"]":"["+ct.weekNumberTitle+"]w"}};function bo(ct){b9.each(bS,function(cu,cv){if(ct[cu]==null){ct[cu]=cv(ct)}})}function X(ct){return bH.localeData(ct)||bH.localeData("en")}D.locale("en",A.englishDefaults);var aC=D.UnzonedRange=aW.extend({startMs:null,endMs:null,isStart:true,isEnd:true,constructor:function(cu,ct){if(bH.isMoment(cu)){cu=cu.clone().stripZone()}if(bH.isMoment(ct)){ct=ct.clone().stripZone()}if(cu){this.startMs=cu.valueOf()}if(ct){this.endMs=ct.valueOf()}},intersect:function(cw){var cv=this.startMs;var ct=this.endMs;var cu=null;if(cw.startMs!==null){if(cv===null){cv=cw.startMs}else{cv=Math.max(cv,cw.startMs)}}if(cw.endMs!==null){if(ct===null){ct=cw.endMs}else{ct=Math.min(ct,cw.endMs)}}if(cv===null||ct===null||cv<ct){cu=new aC(cv,ct);cu.isStart=this.isStart&&cv===this.startMs;cu.isEnd=this.isEnd&&ct===this.endMs}return cu},intersectsWith:function(ct){return(this.endMs===null||ct.startMs===null||this.endMs>ct.startMs)&&(this.startMs===null||ct.endMs===null||this.startMs<ct.endMs)},containsRange:function(ct){return(this.startMs===null||(ct.startMs!==null&&ct.startMs>=this.startMs))&&(this.endMs===null||(ct.endMs!==null&&ct.endMs<=this.endMs))},containsDate:function(cu){var ct=cu.valueOf();return(this.startMs===null||ct>=this.startMs)&&(this.endMs===null||ct<this.endMs)},constrainDate:function(cu){var ct=cu.valueOf();if(this.startMs!==null&&ct<this.startMs){ct=this.startMs}if(this.endMs!==null&&ct>=this.endMs){ct=this.endMs-1}return ct},equals:function(ct){return this.startMs===ct.startMs&&this.endMs===ct.endMs},clone:function(){var ct=new aC(this.startMs,this.endMs);ct.isStart=this.isStart;ct.isEnd=this.isEnd;return ct},getStart:function(){if(this.startMs!==null){return D.moment.utc(this.startMs).stripZone()}},getEnd:function(){if(this.endMs!==null){return D.moment.utc(this.endMs).stripZone()}},as:function(ct){return bH.utc(this.endMs).diff(bH.utc(this.startMs),ct,true)}});function bL(cu,cx){var ct=[];var cw=cx.startMs;var cv;var cy;cu.sort(aE);for(cv=0;cv<cu.length;cv++){cy=cu[cv];if(cy.startMs>cw){ct.push(new aC(cw,cy.startMs))}if(cy.endMs>cw){cw=cy.endMs}}if(cw<cx.endMs){ct.push(new aC(cw,cx.endMs))}return ct}function aE(cu,ct){return cu.startMs-ct.startMs}var u=D.ComponentFootprint=aW.extend({unzonedRange:null,isAllDay:false,constructor:function(ct,cu){this.unzonedRange=ct;this.isAllDay=cu},toLegacy:function(ct){return{start:ct.msToMoment(this.unzonedRange.startMs,this.isAllDay),end:ct.msToMoment(this.unzonedRange.endMs,this.isAllDay)}}});var bb=aW.extend(B,{start:null,end:null,timezone:null,unzonedRange:null,requestsByUid:null,pendingCnt:0,freezeDepth:0,stuntedReleaseCnt:0,releaseCnt:0,eventDefsByUid:null,eventDefsById:null,eventInstanceGroupsById:null,constructor:function(cv,ct,cu){this.start=cv;this.end=ct;this.timezone=cu;this.unzonedRange=new aC(cv.clone().stripZone(),ct.clone().stripZone());this.requestsByUid={};this.eventDefsByUid={};this.eventDefsById={};this.eventInstanceGroupsById={}},isWithinRange:function(cu,ct){return !cu.isBefore(this.start)&&!ct.isAfter(this.end)},requestSources:function(ct){this.freeze();for(var cu=0;cu<ct.length;cu++){this.requestSource(ct[cu])}this.thaw()},requestSource:function(cu){var cv=this;var ct={source:cu,status:"pending"};this.requestsByUid[cu.uid]=ct;this.pendingCnt+=1;cu.fetch(this.start,this.end,this.timezone).then(function(cw){if(ct.status!=="cancelled"){ct.status="completed";ct.eventDefs=cw;cv.addEventDefs(cw);cv.pendingCnt--;cv.tryRelease()}},function(){if(ct.status!=="cancelled"){ct.status="failed";cv.pendingCnt--;cv.tryRelease()}})},purgeSource:function(cu){var ct=this.requestsByUid[cu.uid];if(ct){delete this.requestsByUid[cu.uid];if(ct.status==="pending"){ct.status="cancelled";this.pendingCnt--;this.tryRelease()}else{if(ct.status==="completed"){ct.eventDefs.forEach(this.removeEventDef.bind(this))}}}},purgeAllSources:function(){var cw=this.requestsByUid;var ct,cv;var cu=0;for(ct in cw){cv=cw[ct];if(cv.status==="pending"){cv.status="cancelled"}else{if(cv.status==="completed"){cu++}}}this.requestsByUid={};this.pendingCnt=0;if(cu){this.removeAllEventDefs()}},getEventDefByUid:function(ct){return this.eventDefsByUid[ct]},getEventDefsById:function(cu){var ct=this.eventDefsById[cu];if(ct){return ct.slice()}return[]},addEventDefs:function(cu){for(var ct=0;ct<cu.length;ct++){this.addEventDef(cu[ct])}},addEventDef:function(cw){var cx=this.eventDefsById;var cu=cw.id;var cy=cx[cu]||(cx[cu]=[]);var ct=cw.buildInstances(this.unzonedRange);var cv;cy.push(cw);this.eventDefsByUid[cw.uid]=cw;for(cv=0;cv<ct.length;cv++){this.addEventInstance(ct[cv],cu)}},removeEventDefsById:function(ct){var cu=this;this.getEventDefsById(ct).forEach(function(cv){cu.removeEventDef(cv)})},removeAllEventDefs:function(){var ct=b9.isEmptyObject(this.eventDefsByUid);this.eventDefsByUid={};this.eventDefsById={};this.eventInstanceGroupsById={};if(!ct){this.tryRelease()}},removeEventDef:function(ct){var cu=this.eventDefsById;var cv=cu[ct.id];delete this.eventDefsByUid[ct.uid];if(cv){cn(cv,ct);if(!cv.length){delete cu[ct.id]}this.removeEventInstancesForDef(ct)}},getEventInstances:function(){var ct=this.eventInstanceGroupsById;var cu=[];var cv;for(cv in ct){cu.push.apply(cu,ct[cv].eventInstances)}return cu},getEventInstancesWithId:function(ct){var cu=this.eventInstanceGroupsById[ct];if(cu){return cu.eventInstances.slice()}return[]},getEventInstancesWithoutId:function(cv){var cu=this.eventInstanceGroupsById;var ct=[];var cw;for(cw in cu){if(cw!==cv){ct.push.apply(ct,cu[cw].eventInstances)}}return ct},addEventInstance:function(cv,cu){var ct=this.eventInstanceGroupsById;var cw=ct[cu]||(ct[cu]=new bP());cw.eventInstances.push(cv);this.tryRelease()},removeEventInstancesForDef:function(cv){var ct=this.eventInstanceGroupsById;var cw=ct[cv.id];var cu;if(cw){cu=m(cw.eventInstances,function(cx){return cx.def===cv});if(!cw.eventInstances.length){delete ct[cv.id]}if(cu){this.tryRelease()}}},tryRelease:function(){if(!this.pendingCnt){if(!this.freezeDepth){this.release()}else{this.stuntedReleaseCnt++}}},release:function(){this.releaseCnt++;this.trigger("release",this.eventInstanceGroupsById)},whenReleased:function(){var ct=this;if(this.releaseCnt){return b5.resolve(this.eventInstanceGroupsById)}else{return b5.construct(function(cu){ct.one("release",cu)})}},freeze:function(){if(!(this.freezeDepth++)){this.stuntedReleaseCnt=0}},thaw:function(){if(!(--this.freezeDepth)&&this.stuntedReleaseCnt&&!this.pendingCnt){this.release()}}});var bj=aW.extend(B,aH,{currentPeriod:null,calendar:null,stickySource:null,otherSources:null,constructor:function(ct){this.calendar=ct;this.stickySource=new ad(ct);this.otherSources=[]},requestEvents:function(cw,ct,cu,cv){if(cv||!this.currentPeriod||!this.currentPeriod.isWithinRange(cw,ct)||cu!==this.currentPeriod.timezone){this.setPeriod(new bb(cw,ct,cu))}return this.currentPeriod.whenReleased()},addSource:function(ct){this.otherSources.push(ct);if(this.currentPeriod){this.currentPeriod.requestSource(ct)}},removeSource:function(ct){cn(this.otherSources,ct);if(this.currentPeriod){this.currentPeriod.purgeSource(ct)}},removeAllSources:function(){this.otherSources=[];if(this.currentPeriod){this.currentPeriod.purgeAllSources()}},refetchSource:function(cu){var ct=this.currentPeriod;if(ct){ct.freeze();ct.purgeSource(cu);ct.requestSource(cu);ct.thaw()}},refetchAllSources:function(){var ct=this.currentPeriod;if(ct){ct.freeze();ct.purgeAllSources();ct.requestSources(this.getSources());ct.thaw()}},getSources:function(){return[this.stickySource].concat(this.otherSources)},multiQuerySources:function(cu){if(!cu){cu=[]}else{if(!b9.isArray(cu)){cu=[cu]}}var ct=[];var cv;for(cv=0;cv<cu.length;cv++){ct.push.apply(ct,this.querySources(cu[cv]))}return ct},querySources:function(cw){var ct=this.otherSources;var cu,cv;for(cu=0;cu<ct.length;cu++){cv=ct[cu];if(cv===cw){return[cv]}}cv=this.getSourceById(a9.normalizeId(cw));if(cv){return[cv]}cw=bU.parse(cw,this.calendar);if(cw){return b9.grep(ct,function(cx){return aw(cw,cx)})}},getSourceById:function(ct){return b9.grep(this.otherSources,function(cu){return cu.id&&cu.id===ct})[0]},setPeriod:function(ct){if(this.currentPeriod){this.unbindPeriod(this.currentPeriod);this.currentPeriod=null}this.currentPeriod=ct;this.bindPeriod(ct);ct.requestSources(this.getSources())},bindPeriod:function(ct){this.listenTo(ct,"release",function(cu){this.trigger("release",cu)})},unbindPeriod:function(ct){this.stopListeningTo(ct)},getEventDefByUid:function(ct){if(this.currentPeriod){return this.currentPeriod.getEventDefByUid(ct)}},addEventDef:function(cu,ct){if(ct){this.stickySource.addEventDef(cu)}if(this.currentPeriod){this.currentPeriod.addEventDef(cu)}},removeEventDefsById:function(ct){this.getSources().forEach(function(cu){cu.removeEventDefsById(ct)});if(this.currentPeriod){this.currentPeriod.removeEventDefsById(ct)}},removeAllEventDefs:function(){this.getSources().forEach(function(ct){ct.removeAllEventDefs()});if(this.currentPeriod){this.currentPeriod.removeAllEventDefs()}},mutateEventsWithId:function(ct,cu){var cw=this.currentPeriod;var cx;var cv=[];if(cw){cw.freeze();cx=cw.getEventDefsById(ct);cx.forEach(function(cy){cw.removeEventDef(cy);cv.push(cu.mutateSingle(cy));cw.addEventDef(cy)});cw.thaw();return function(){cw.freeze();for(var cy=0;cy<cx.length;cy++){cw.removeEventDef(cx[cy]);cv[cy]();cw.addEventDef(cx[cy])}cw.thaw()}}return function(){}},buildMutatedEventInstanceGroup:function(ct,cu){var cy=this.getEventDefsById(ct);var cv;var cx;var cw=[];for(cv=0;cv<cy.length;cv++){cx=cy[cv].clone();if(cx instanceof t){cu.mutateSingle(cx);cw.push.apply(cw,cx.buildInstances())}}return new bP(cw)},freeze:function(){if(this.currentPeriod){this.currentPeriod.freeze()}},thaw:function(){if(this.currentPeriod){this.currentPeriod.thaw()}}});["getEventDefsById","getEventInstances","getEventInstancesWithId","getEventInstancesWithoutId"].forEach(function(ct){bj.prototype[ct]=function(){var cu=this.currentPeriod;if(cu){return cu[ct].apply(cu,arguments)}return[]}});function aw(cu,ct){return cu.getPrimitive()==ct.getPrimitive()}var cs={start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};var aQ=D.BusinessHourGenerator=aW.extend({rawComplexDef:null,calendar:null,constructor:function(ct,cu){this.rawComplexDef=ct;this.calendar=cu},buildEventInstanceGroup:function(cu,ct){var cw=this.buildEventDefs(cu);var cv;if(cw.length){cv=new bP(a5(cw,ct));cv.explicitEventDef=cw[0];return cv}},buildEventDefs:function(cy){var cu=this.rawComplexDef;var cw=[];var cv=false;var cx;var ct=[];if(cu===true){cw=[{}]}else{if(b9.isPlainObject(cu)){cw=[cu]}else{if(b9.isArray(cu)){cw=cu;cv=true}}}for(cx=0;cx<cw.length;cx++){if(!cv||cw[cx].dow){ct.push(this.buildEventDef(cy,cw[cx]))}}return ct},buildEventDef:function(ct,cu){var cv=b9.extend({},cs,cu);if(ct){cv.start=null;cv.end=null}return cq.parse(cv,new a9(this.calendar))}});var bW={parse:function(ct,cu){if(au(ct.start)||bH.isDuration(ct.start)||au(ct.end)||bH.isDuration(ct.end)){return cq.parse(ct,cu)}else{return t.parse(ct,cu)}}};var C=D.EventDef=aW.extend(aI,{source:null,id:null,rawId:null,uid:null,title:null,url:null,rendering:null,constraint:null,overlap:null,editable:null,startEditable:null,durationEditable:null,color:null,backgroundColor:null,borderColor:null,textColor:null,className:null,miscProps:null,constructor:function(ct){this.source=ct;this.className=[];this.miscProps={}},isAllDay:function(){},buildInstances:function(ct){},clone:function(){var ct=new this.constructor(this.source);ct.id=this.id;ct.rawId=this.rawId;ct.uid=this.uid;C.copyVerbatimStandardProps(this,ct);ct.className=this.className.slice();ct.miscProps=b9.extend({},this.miscProps);return ct},hasInverseRendering:function(){return this.getRendering()==="inverse-background"},hasBgRendering:function(){var ct=this.getRendering();return ct==="inverse-background"||ct==="background"},getRendering:function(){if(this.rendering!=null){return this.rendering}return this.source.rendering},getConstraint:function(){if(this.constraint!=null){return this.constraint}if(this.source.constraint!=null){return this.source.constraint}return this.source.calendar.opt("eventConstraint")},getOverlap:function(){if(this.overlap!=null){return this.overlap}if(this.source.overlap!=null){return this.source.overlap}return this.source.calendar.opt("eventOverlap")},isStartExplicitlyEditable:function(){if(this.startEditable!==null){return this.startEditable}return this.source.startEditable},isDurationExplicitlyEditable:function(){if(this.durationEditable!==null){return this.durationEditable}return this.source.durationEditable},isExplicitlyEditable:function(){if(this.editable!==null){return this.editable}return this.source.editable},toLegacy:function(){var ct=b9.extend({},this.miscProps);ct._id=this.uid;ct.source=this.source;ct.className=this.className.slice();ct.allDay=this.isAllDay();if(this.rawId!=null){ct.id=this.rawId}C.copyVerbatimStandardProps(this,ct);return ct},applyManualStandardProps:function(ct){if(ct.id!=null){this.id=C.normalizeId((this.rawId=ct.id))}else{this.id=C.generateId()}if(ct._id!=null){this.uid=String(ct._id)}else{this.uid=C.generateId()}if(b9.isArray(ct.className)){this.className=ct.className}if(typeof ct.className==="string"){this.className=ct.className.split(/\s+/)}return true},applyMiscProps:function(ct){b9.extend(this.miscProps,ct)}});C.defineStandardProps=by;C.copyVerbatimStandardProps=aM;C.uuid=0;C.normalizeId=function(ct){return String(ct)};C.generateId=function(){return"_fc"+(C.uuid++)};C.defineStandardProps({_id:false,id:false,className:false,source:false,title:true,url:true,rendering:true,constraint:true,overlap:true,editable:true,startEditable:true,durationEditable:true,color:true,backgroundColor:true,borderColor:true,textColor:true});C.parse=function(ct,cv){var cu=new this(cv);if(cu.applyProps(ct)){return cu}return false};var t=C.extend({dateProfile:null,buildInstances:function(){return[this.buildInstance()]},buildInstance:function(){return new aS(this,this.dateProfile)},isAllDay:function(){return this.dateProfile.isAllDay()},clone:function(){var ct=C.prototype.clone.call(this);ct.dateProfile=this.dateProfile;return ct},rezone:function(){var cu=this.source.calendar;var ct=this.dateProfile;this.dateProfile=new F(cu.moment(ct.start),ct.end?cu.moment(ct.end):null,cu)},applyManualStandardProps:function(cv){var cu=C.prototype.applyManualStandardProps.apply(this,arguments);var ct=F.parse(cv,this.source);if(ct){this.dateProfile=ct;if(cv.date!=null){this.miscProps.date=cv.date}return cu}else{return false}}});t.defineStandardProps({start:false,date:false,end:false,allDay:false});var cq=C.extend({startTime:null,endTime:null,dowHash:null,isAllDay:function(){return !this.startTime&&!this.endTime},buildInstances:function(cx){var cz=this.source.calendar;var cv=cx.getStart();var cu=cx.getEnd();var ct;var cA,cw;var cy=[];while(cv.isBefore(cu)){if(!this.dowHash||this.dowHash[cv.day()]){ct=cz.applyTimezone(cv);cA=ct.clone();cw=null;if(this.startTime){cA.time(this.startTime)}else{cA.stripTime()}if(this.endTime){cw=ct.clone().time(this.endTime)}cy.push(new aS(this,new F(cA,cw,cz)))}cv.add(1,"days")}return cy},setDow:function(ct){if(!this.dowHash){this.dowHash={}}for(var cu=0;cu<ct.length;cu++){this.dowHash[ct[cu]]=true}},clone:function(){var ct=C.prototype.clone.call(this);if(ct.startTime){ct.startTime=bH.duration(this.startTime)}if(ct.endTime){ct.endTime=bH.duration(this.endTime)}if(this.dowHash){ct.dowHash=b9.extend({},this.dowHash)}return ct},applyProps:function(cu){var ct=C.prototype.applyProps.apply(this,arguments);if(cu.start){this.startTime=bH.duration(cu.start)}if(cu.end){this.endTime=bH.duration(cu.end)}if(cu.dow){this.setDow(cu.dow)}return ct}});cq.defineStandardProps({start:false,end:false,dow:false});var aS=aW.extend({def:null,dateProfile:null,constructor:function(cu,ct){this.def=cu;this.dateProfile=ct},toLegacy:function(){var ct=this.dateProfile;var cu=this.def.toLegacy();cu.start=ct.start.clone();cu.end=ct.end?ct.end.clone():null;return cu}});var bP=D.EventInstanceGroup=aW.extend({eventInstances:null,explicitEventDef:null,constructor:function(ct){this.eventInstances=ct||[]},getAllEventRanges:function(ct){if(ct){return this.sliceNormalRenderRanges(ct)}else{return this.eventInstances.map(aA)}},sliceRenderRanges:function(ct){if(this.isInverse()){return this.sliceInverseRenderRanges(ct)}else{return this.sliceNormalRenderRanges(ct)}},sliceNormalRenderRanges:function(cy){var ct=this.eventInstances;var cv,cx;var cw;var cu=[];for(cv=0;cv<ct.length;cv++){cx=ct[cv];cw=cx.dateProfile.unzonedRange.intersect(cy);if(cw){cu.push(new ap(cw,cx.def,cx))}}return cu},sliceInverseRenderRanges:function(cv){var cu=this.eventInstances.map(aP);var ct=this.getEventDef();cu=bL(cu,cv);return cu.map(function(cw){return new ap(cw,ct)})},isInverse:function(){return this.getEventDef().hasInverseRendering()},getEventDef:function(){return this.explicitEventDef||this.eventInstances[0].def}});var F=aW.extend({start:null,end:null,unzonedRange:null,constructor:function(cv,ct,cu){this.start=cv;this.end=ct||null;this.unzonedRange=this.buildUnzonedRange(cu)},isAllDay:function(){return !(this.start.hasTime()||(this.end&&this.end.hasTime()))},buildUnzonedRange:function(cv){var cu=this.start.clone().stripZone().valueOf();var ct=this.getEnd(cv).stripZone().valueOf();return new aC(cu,ct)},getEnd:function(ct){return this.end?this.end.clone():ct.getDefaultEventEnd(this.isAllDay(),this.start)}});F.isStandardProp=function(ct){return ct==="start"||ct==="date"||ct==="end"||ct==="allDay"};F.parse=function(cx,ct){var cu=cx.start||cx.date;var cB=cx.end;if(!cu){return false}var cz=ct.calendar;var cw=cz.moment(cu);var cy=cB?cz.moment(cB):null;var cv=cx.allDay;var cA=cz.opt("forceEventDuration");if(!cw.isValid()){return false}if(cy&&(!cy.isValid()||!cy.isAfter(cw))){cy=null}if(cv==null){cv=ct.allDayDefault;if(cv==null){cv=cz.opt("allDayDefault")}}if(cv===true){cw.stripTime();if(cy){cy.stripTime()}}else{if(cv===false){if(!cw.hasTime()){cw.time(0)}if(cy&&!cy.hasTime()){cy.time(0)}}}if(!cy&&cA){cy=cz.getDefaultEventEnd(!cw.hasTime(),cw)}return new F(cw,cy,cz)};var ap=aW.extend({unzonedRange:null,eventDef:null,eventInstance:null,constructor:function(ct,cv,cu){this.unzonedRange=ct;this.eventDef=cv;if(cu){this.eventInstance=cu}}});var bC=D.EventFootprint=aW.extend({componentFootprint:null,eventDef:null,eventInstance:null,constructor:function(ct,cv,cu){this.componentFootprint=ct;this.eventDef=cv;if(cu){this.eventInstance=cu}},getEventLegacy:function(){return(this.eventInstance||this.eventDef).toLegacy()}});var v=D.EventDefMutation=aW.extend({dateMutation:null,eventDefId:null,className:null,verbatimStandardProps:null,miscProps:null,mutateSingle:function(cu){var ct;if(this.dateMutation){ct=cu.dateProfile;cu.dateProfile=this.dateMutation.buildNewDateProfile(ct,cu.source.calendar)}if(this.eventDefId!=null){cu.id=C.normalizeId((cu.rawId=this.eventDefId))}if(this.className){cu.className=this.className}if(this.verbatimStandardProps){t.copyVerbatimStandardProps(this.verbatimStandardProps,cu)}if(this.miscProps){cu.applyMiscProps(this.miscProps)}if(ct){return function(){cu.dateProfile=ct}}else{return function(){}}},setDateMutation:function(ct){if(ct&&!ct.isEmpty()){this.dateMutation=ct}else{this.dateMutation=null}},isEmpty:function(){return !this.dateMutation}});v.createFromRawProps=function(cE,cv,cu){var cw=cE.def;var ct={};var cx={};var cB={};var cD={};var cG=null;var cC=null;var cA;var cF;var cz;var cy;for(cA in cv){if(F.isStandardProp(cA)){ct[cA]=cv[cA]}else{if(cw.isStandardProp(cA)){cx[cA]=cv[cA]}else{if(cw.miscProps[cA]!==cv[cA]){cB[cA]=cv[cA]}}}}cF=F.parse(ct,cw.source);if(cF){cz=bm.createFromDiff(cE.dateProfile,cF,cu)}if(cx.id!==cw.id){cG=cx.id}if(!aG(cx.className,cw.className)){cC=cx.className}C.copyVerbatimStandardProps(cx,cD);cy=new v();cy.eventDefId=cG;cy.className=cC;cy.verbatimStandardProps=cD;cy.miscProps=cB;if(cz){cy.dateMutation=cz}return cy};var bm=aW.extend({clearEnd:false,forceTimed:false,forceAllDay:false,dateDelta:null,startDelta:null,endDelta:null,buildNewDateProfile:function(cw,cv){var cx=cw.start.clone();var ct=null;var cu=false;if(cw.end&&!this.clearEnd){ct=cw.end.clone()}else{if(this.endDelta&&!ct){ct=cv.getDefaultEventEnd(cw.isAllDay(),cx)}}if(this.forceTimed){cu=true;if(!cx.hasTime()){cx.time(0)}if(ct&&!ct.hasTime()){ct.time(0)}}else{if(this.forceAllDay){if(cx.hasTime()){cx.stripTime()}if(ct&&ct.hasTime()){ct.stripTime()}}}if(this.dateDelta){cu=true;cx.add(this.dateDelta);if(ct){ct.add(this.dateDelta)}}if(this.endDelta){cu=true;ct.add(this.endDelta)}if(this.startDelta){cu=true;cx.add(this.startDelta)}if(cu){cx=cv.applyTimezone(cx);if(ct){ct=cv.applyTimezone(ct)}}if(!ct&&cv.opt("forceEventDuration")){ct=cv.getDefaultEventEnd(cw.isAllDay(),cx)}return new F(cx,ct,cv)},setDateDelta:function(ct){if(ct&&ct.valueOf()){this.dateDelta=ct}else{this.dateDelta=null}},setStartDelta:function(ct){if(ct&&ct.valueOf()){this.startDelta=ct}else{this.startDelta=null}},setEndDelta:function(ct){if(ct&&ct.valueOf()){this.endDelta=ct}else{this.endDelta=null}},isEmpty:function(){return !this.clearEnd&&!this.forceTimed&&!this.forceAllDay&&!this.dateDelta&&!this.startDelta&&!this.endDelta}});bm.createFromDiff=function(cD,cC,cv){var ct=cD.end&&!cC.end;var cB=cD.isAllDay()&&!cC.isAllDay();var cy=!cD.isAllDay()&&cC.isAllDay();var cx;var cu;var cA;var cw;function cz(cE,cF){if(cv){return e(cE,cF,cv)}else{if(cC.isAllDay()){return av(cE,cF)}else{return g(cE,cF)}}}cx=cz(cC.start,cD.start);if(cC.end){cu=cz(cC.unzonedRange.getEnd(),cD.unzonedRange.getEnd());cA=cu.subtract(cx)}cw=new bm();cw.clearEnd=ct;cw.forceTimed=cB;cw.forceAllDay=cy;cw.setDateDelta(cx);cw.setEndDelta(cA);return cw};function a5(cw,cu){var ct=[];var cv;for(cv=0;cv<cw.length;cv++){ct.push.apply(ct,cw[cv].buildInstances(cu))}return ct}function aA(ct){return new ap(ct.dateProfile.unzonedRange,ct.def,ct)}function M(ct){return new bC(new u(ct.unzonedRange,ct.eventDef.isAllDay()),ct.eventDef,ct.eventInstance)}function aP(ct){return ct.dateProfile.unzonedRange}function aL(ct){return ct.componentFootprint}var a9=aW.extend(aI,{calendar:null,id:null,uid:null,color:null,backgroundColor:null,borderColor:null,textColor:null,className:null,editable:null,startEditable:null,durationEditable:null,rendering:null,overlap:null,constraint:null,allDayDefault:null,eventDataTransform:null,constructor:function(ct){this.calendar=ct;this.className=[];this.uid=String(a9.uuid++)},fetch:function(cv,ct,cu){},removeEventDefsById:function(ct){},removeAllEventDefs:function(){},getPrimitive:function(ct){},parseEventDefs:function(cv){var ct;var cu;var cw=[];for(ct=0;ct<cv.length;ct++){cu=this.parseEventDef(cv[ct]);if(cu){cw.push(cu)}}return cw},parseEventDef:function(ct){var cv=this.calendar.opt("eventDataTransform");var cu=this.eventDataTransform;if(cv){ct=cv(ct)}if(cu){ct=cu(ct)}return bW.parse(ct,this)},applyManualStandardProps:function(ct){if(ct.id!=null){this.id=a9.normalizeId(ct.id)}if(b9.isArray(ct.className)){this.className=ct.className}else{if(typeof ct.className==="string"){this.className=ct.className.split(/\s+/)}}return true}});a9.defineStandardProps=by;a9.uuid=0;a9.normalizeId=function(ct){if(ct){return String(ct)}return null};a9.defineStandardProps({id:false,className:false,color:true,backgroundColor:true,borderColor:true,textColor:true,editable:true,startEditable:true,durationEditable:true,rendering:true,overlap:true,constraint:true,allDayDefault:true,eventDataTransform:true});a9.parse=function(ct,cv){var cu=new this(cv);if(typeof ct==="object"){if(cu.applyProps(ct)){return cu}}return false};D.EventSource=a9;var bU={sourceClasses:[],registerClass:function(ct){this.sourceClasses.unshift(ct)},parse:function(ct,cx){var cu=this.sourceClasses;var cv;var cw;for(cv=0;cv<cu.length;cv++){cw=cu[cv].parse(ct,cx);if(cw){return cw}}}};D.EventSourceParser=bU;var ad=a9.extend({rawEventDefs:null,eventDefs:null,currentTimezone:null,constructor:function(ct){a9.apply(this,arguments);this.eventDefs=[]},setRawEventDefs:function(ct){this.rawEventDefs=ct;this.eventDefs=this.parseEventDefs(ct)},fetch:function(cx,ct,cv){var cw=this.eventDefs;var cu;if(this.currentTimezone!==null&&this.currentTimezone!==cv){for(cu=0;cu<cw.length;cu++){if(cw[cu] instanceof t){cw[cu].rezone()}}}this.currentTimezone=cv;return b5.resolve(cw)},addEventDef:function(ct){this.eventDefs.push(ct)},removeEventDefsById:function(ct){return m(this.eventDefs,function(cu){return cu.id===ct})},removeAllEventDefs:function(){this.eventDefs=[]},getPrimitive:function(){return this.rawEventDefs},applyManualStandardProps:function(cu){var ct=a9.prototype.applyManualStandardProps.apply(this,arguments);this.setRawEventDefs(cu.events);return ct}});ad.defineStandardProps({events:false});ad.parse=function(ct,cv){var cu;if(b9.isArray(ct.events)){cu=ct}else{if(b9.isArray(ct)){cu={events:ct}}}if(cu){return a9.parse.call(this,cu,cv)}return false};bU.registerClass(ad);D.ArrayEventSource=ad;var I=a9.extend({func:null,fetch:function(cw,ct,cu){var cv=this;this.calendar.pushLoading();return b5.construct(function(cx){cv.func.call(cv.calendar,cw.clone(),ct.clone(),cu,function(cy){cv.calendar.popLoading();cx(cv.parseEventDefs(cy))})})},getPrimitive:function(){return this.func},applyManualStandardProps:function(cu){var ct=a9.prototype.applyManualStandardProps.apply(this,arguments);this.func=cu.events;return ct}});I.defineStandardProps({events:false});I.parse=function(ct,cv){var cu;if(b9.isFunction(ct.events)){cu=ct}else{if(b9.isFunction(ct)){cu={events:ct}}}if(cu){return a9.parse.call(this,cu,cv)}return false};bU.registerClass(I);D.FuncEventSource=I;var ac=a9.extend({url:null,startParam:null,endParam:null,timezoneParam:null,ajaxSettings:null,fetch:function(cA,ct,cv){var cz=this;var cx=this.ajaxSettings;var cy=cx.success;var cu=cx.error;var cw=this.buildRequestParams(cA,ct,cv);this.calendar.pushLoading();return b5.construct(function(cB,cC){b9.ajax(b9.extend({},ac.AJAX_DEFAULTS,cx,{url:cz.url,data:cw,success:function(cE){var cD;cz.calendar.popLoading();if(cE){cD=G(cy,this,arguments);if(b9.isArray(cD)){cE=cD}cB(cz.parseEventDefs(cE))}else{cC()}},error:function(){cz.calendar.popLoading();G(cu,this,arguments);cC()}}))})},buildRequestParams:function(ct,cx,cz){var cy=this.calendar;var cB=this.ajaxSettings;var cA,cu,cC;var cv;var cw={};cA=this.startParam;if(cA==null){cA=cy.opt("startParam")}cu=this.endParam;if(cu==null){cu=cy.opt("endParam")}cC=this.timezoneParam;if(cC==null){cC=cy.opt("timezoneParam")}if(b9.isFunction(cB.data)){cv=cB.data()}else{cv=cB.data||{}}b9.extend(cw,cv);cw[cA]=ct.format();cw[cu]=cx.format();if(cz&&cz!=="local"){cw[cC]=cz}return cw},getPrimitive:function(){return this.url},applyMiscProps:function(ct){a9.prototype.applyMiscProps.apply(this,arguments);this.ajaxSettings=ct}});ac.AJAX_DEFAULTS={dataType:"json",cache:false};ac.defineStandardProps({url:true,startParam:true,endParam:true,timezoneParam:true});ac.parse=function(ct,cv){var cu;if(typeof ct.url==="string"){cu=ct}else{if(typeof ct==="string"){cu={url:ct}}}if(cu){return a9.parse.call(this,cu,cv)}return false};bU.registerClass(ac);D.JsonFeedEventSource=ac;var h=D.ThemeRegistry={themeClassHash:{},register:function(ct,cu){this.themeClassHash[ct]=cu},getThemeClass:function(ct){if(!ct){return c}else{if(ct===true){return aF}else{return this.themeClassHash[ct]}}}};var ai=D.Theme=aW.extend({classes:{},iconClasses:{},baseIconClass:"",iconOverrideOption:null,iconOverrideCustomButtonOption:null,iconOverridePrefix:"",constructor:function(ct){this.optionsModel=ct;this.processIconOverride()},processIconOverride:function(){if(this.iconOverrideOption){this.setIconOverride(this.optionsModel.get(this.iconOverrideOption))}},setIconOverride:function(cu){var cv;var ct;if(b9.isPlainObject(cu)){cv=b9.extend({},this.iconClasses);for(ct in cu){cv[ct]=this.applyIconOverridePrefix(cu[ct])}this.iconClasses=cv}else{if(cu===false){this.iconClasses={}}}},applyIconOverridePrefix:function(ct){var cu=this.iconOverridePrefix;if(cu&&ct.indexOf(cu)!==0){ct=cu+ct}return ct},getClass:function(ct){return this.classes[ct]||""},getIconClass:function(ct){var cu=this.iconClasses[ct];if(cu){return this.baseIconClass+" "+cu}return""},getCustomButtonIconClass:function(ct){var cu;if(this.iconOverrideCustomButtonOption){cu=ct[this.iconOverrideCustomButtonOption];if(cu){return this.baseIconClass+" "+this.applyIconOverridePrefix(cu)}}return""}});var c=ai.extend({classes:{widget:"fc-unthemed",widgetHeader:"fc-widget-header",widgetContent:"fc-widget-content",buttonGroup:"fc-button-group",button:"fc-button",cornerLeft:"fc-corner-left",cornerRight:"fc-corner-right",stateDefault:"fc-state-default",stateActive:"fc-state-active",stateDisabled:"fc-state-disabled",stateHover:"fc-state-hover",stateDown:"fc-state-down",popoverHeader:"fc-widget-header",popoverContent:"fc-widget-content",headerRow:"fc-widget-header",dayRow:"fc-widget-content",listView:"fc-widget-content"},baseIconClass:"fc-icon",iconClasses:{close:"fc-icon-x",prev:"fc-icon-left-single-arrow",next:"fc-icon-right-single-arrow",prevYear:"fc-icon-left-double-arrow",nextYear:"fc-icon-right-double-arrow"},iconOverrideOption:"buttonIcons",iconOverrideCustomButtonOption:"icon",iconOverridePrefix:"fc-icon-"});h.register("standard",c);var aF=ai.extend({classes:{widget:"ui-widget",widgetHeader:"ui-widget-header",widgetContent:"ui-widget-content",buttonGroup:"fc-button-group",button:"ui-button",cornerLeft:"ui-corner-left",cornerRight:"ui-corner-right",stateDefault:"ui-state-default",stateActive:"ui-state-active",stateDisabled:"ui-state-disabled",stateHover:"ui-state-hover",stateDown:"ui-state-down",today:"ui-state-highlight",popoverHeader:"ui-widget-header",popoverContent:"ui-widget-content",headerRow:"ui-widget-header",dayRow:"ui-widget-content",listView:"ui-widget-content"},baseIconClass:"ui-icon",iconClasses:{close:"ui-icon-closethick",prev:"ui-icon-circle-triangle-w",next:"ui-icon-circle-triangle-e",prevYear:"ui-icon-seek-prev",nextYear:"ui-icon-seek-next"},iconOverrideOption:"themeButtonIcons",iconOverrideCustomButtonOption:"themeIcon",iconOverridePrefix:"ui-icon-"});h.register("jquery-ui",aF);var bz=ai.extend({classes:{widget:"fc-bootstrap3",tableGrid:"table-bordered",tableList:"table table-striped",buttonGroup:"btn-group",button:"btn btn-default",stateActive:"active",stateDisabled:"disabled",today:"alert alert-info",popover:"panel panel-default",popoverHeader:"panel-heading",popoverContent:"panel-body",headerRow:"panel-default",dayRow:"panel-default",listView:"panel panel-default"},baseIconClass:"glyphicon",iconClasses:{close:"glyphicon-remove",prev:"glyphicon-chevron-left",next:"glyphicon-chevron-right",prevYear:"glyphicon-backward",nextYear:"glyphicon-forward"},iconOverrideOption:"bootstrapGlyphicons",iconOverrideCustomButtonOption:"bootstrapGlyphicon",iconOverridePrefix:"glyphicon-"});h.register("bootstrap3",bz);var al=bs.extend({fillSegTag:"td",attachSegEls:function(cx,cu){var cv=[];var cw,ct;var cy;for(cw=0;cw<cu.length;cw++){ct=cu[cw];cy=this.renderFillRow(cx,ct);this.component.rowEls.eq(ct.row).append(cy);cv.push(cy[0])}return cv},renderFillRow:function(cw,ct){var cu=this.component.colCnt;var cz=ct.leftCol;var cy=ct.rightCol+1;var cv;var cA;var cx;if(cw==="businessHours"){cv="bgevent"}else{cv=cw.toLowerCase()}cA=b9('<div class="fc-'+cv+'-skeleton"><table><tr/></table></div>');cx=cA.find("tr");if(cz>0){cx.append('<td colspan="'+cz+'"/>')}cx.append(ct.el.attr("colspan",cy-cz));if(cy<cu){cx.append('<td colspan="'+(cu-cy)+'"/>')}this.component.bookendCells(cx);return cA}});var bf=R.extend({dayGrid:null,rowStructs:null,constructor:function(ct){R.apply(this,arguments);this.dayGrid=ct},renderBgRanges:function(ct){ct=b9.grep(ct,function(cu){return cu.eventDef.isAllDay()});R.prototype.renderBgRanges.call(this,ct)},renderFgSegs:function(ct){var cu=this.rowStructs=this.renderSegRows(ct);this.dayGrid.rowEls.each(function(cv,cw){b9(cw).find(".fc-content-skeleton > table").append(cu[cv].tbodyEl)})},unrenderFgSegs:function(){var cu=this.rowStructs||[];var ct;while((ct=cu.pop())){ct.tbodyEl.remove()}this.rowStructs=null},renderSegRows:function(cu){var cv=[];var ct;var cw;ct=this.groupSegRows(cu);for(cw=0;cw<ct.length;cw++){cv.push(this.renderSegRow(cw,ct[cw]))}return cv},renderSegRow:function(cI,cJ){var cG=this.dayGrid.colCnt;var cC=this.buildSegLevels(cJ);var ct=Math.max(1,cC.length);var cB=b9("<tbody/>");var cx=[];var cD=[];var cv=[];var cA,cF;var cu;var cE;var cz,cy;var cw;function cH(cK){while(cu<cK){cw=(cv[cA-1]||[])[cu];if(cw){cw.attr("rowspan",parseInt(cw.attr("rowspan")||1,10)+1)}else{cw=b9("<td/>");cE.append(cw)}cD[cA][cu]=cw;cv[cA][cu]=cw;cu++}}for(cA=0;cA<ct;cA++){cF=cC[cA];cu=0;cE=b9("<tr/>");cx.push([]);cD.push([]);cv.push([]);if(cF){for(cz=0;cz<cF.length;cz++){cy=cF[cz];cH(cy.leftCol);cw=b9('<td class="fc-event-container"/>').append(cy.el);if(cy.leftCol!=cy.rightCol){cw.attr("colspan",cy.rightCol-cy.leftCol+1)}else{cv[cA][cu]=cw}while(cu<=cy.rightCol){cD[cA][cu]=cw;cx[cA][cu]=cy;cu++}cE.append(cw)}}cH(cG);this.dayGrid.bookendCells(cE);cB.append(cE)}return{row:cI,tbodyEl:cB,cellMatrix:cD,segMatrix:cx,segLevels:cC,segs:cJ}},buildSegLevels:function(cu){var cx=[];var cw,ct;var cv;this.sortEventSegs(cu);for(cw=0;cw<cu.length;cw++){ct=cu[cw];for(cv=0;cv<cx.length;cv++){if(!P(ct,cx[cv])){break}}ct.level=cv;(cx[cv]||(cx[cv]=[])).push(ct)}for(cv=0;cv<cx.length;cv++){cx[cv].sort(bd)}return cx},groupSegRows:function(cu){var ct=[];var cv;for(cv=0;cv<this.dayGrid.rowCnt;cv++){ct.push([])}for(cv=0;cv<cu.length;cv++){ct[cu[cv].row].push(cu[cv])}return ct},computeEventTimeFormat:function(){return this.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return this.dayGrid.colCnt===1},fgSegHtml:function(cA,cu){var cE=this.view;var cz=cA.footprint.eventDef;var cC=cA.footprint.componentFootprint.isAllDay;var ct=cE.isEventDefDraggable(cz);var cy=!cu&&cC&&cA.isStart&&cE.isEventDefResizableFromStart(cz);var cx=!cu&&cC&&cA.isEnd&&cE.isEventDefResizableFromEnd(cz);var cw=this.getSegClasses(cA,ct,cy||cx);var cF=T(this.getSkinCss(cz));var cD="";var cv;var cB;cw.unshift("fc-day-grid-event","fc-h-event");if(cA.isStart){cv=this.getTimeText(cA.footprint);if(cv){cD='<span class="fc-time">'+be(cv)+"</span>"}}cB='<span class="fc-title">'+(be(cz.title||"")||"&nbsp;")+"</span>";return'<a class="'+cw.join(" ")+'"'+(cz.url?' href="'+be(cz.url)+'"':"")+(cF?' style="'+cF+'"':"")+'><div class="fc-content">'+(this.isRTL?cB+" "+cD:cD+" "+cB)+"</div>"+(cy?'<div class="fc-resizer fc-start-resizer" />':"")+(cx?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"}});function P(ct,cw){var cu,cv;for(cu=0;cu<cw.length;cu++){cv=cw[cu];if(cv.leftCol<=ct.rightCol&&cv.rightCol>=ct.leftCol){return true}}return false}function bd(cu,ct){return cu.leftCol-ct.leftCol}var cb=ag.extend({renderSegs:function(cu,cv){var ct=[];var cw;cw=this.eventRenderer.renderSegRows(cu);this.component.rowEls.each(function(cC,cz){var cy=b9(cz);var cB=b9('<div class="fc-helper-skeleton"><table/></div>');var cA;var cx;if(cv&&cv.row===cC){cx=cv.el.position().top}else{cA=cy.find(".fc-content-skeleton tbody");if(!cA.length){cA=cy.find(".fc-content-skeleton table")}cx=cA.position().top}cB.css("top",cx).find("table").append(cw[cC].tbodyEl);cy.append(cB);ct.push(cB[0])});return b9(ct)}});var cd=D.DayGrid=a1.extend(E,bv,{eventRendererClass:bf,businessHourRendererClass:ce,helperRendererClass:cb,fillRendererClass:al,view:null,helperRenderer:null,cellWeekNumbersVisible:false,bottomCoordPadding:0,headContainerEl:null,rowEls:null,cellEls:null,rowCoordCache:null,colCoordCache:null,isRigid:false,hasAllDayBusinessHours:true,constructor:function(ct){this.view=ct;a1.call(this)},componentFootprintToSegs:function(cv){var cu=this.sliceRangeByRow(cv.unzonedRange);var cw,ct;for(cw=0;cw<cu.length;cw++){ct=cu[cw];if(this.isRTL){ct.leftCol=this.daysPerRow-1-ct.lastRowDayIndex;ct.rightCol=this.daysPerRow-1-ct.firstRowDayIndex}else{ct.leftCol=ct.firstRowDayIndex;ct.rightCol=ct.lastRowDayIndex}}return cu},renderDates:function(ct){this.dateProfile=ct;this.updateDayTable();this.renderGrid()},unrenderDates:function(){this.removeSegPopover()},renderGrid:function(){var ct=this.view;var cy=this.rowCnt;var cv=this.colCnt;var cw="";var cx;var cu;if(this.headContainerEl){this.headContainerEl.html(this.renderHeadHtml())}for(cx=0;cx<cy;cx++){cw+=this.renderDayRowHtml(cx,this.isRigid)}this.el.html(cw);this.rowEls=this.el.find(".fc-row");this.cellEls=this.el.find(".fc-day, .fc-disabled-day");this.rowCoordCache=new aB({els:this.rowEls,isVertical:true});this.colCoordCache=new aB({els:this.cellEls.slice(0,this.colCnt),isHorizontal:true});for(cx=0;cx<cy;cx++){for(cu=0;cu<cv;cu++){this.publiclyTrigger("dayRender",{context:ct,args:[this.getCellDate(cx,cu),this.getCellEl(cx,cu),ct]})}}},renderDayRowHtml:function(cw,ct){var cv=this.view.calendar.theme;var cu=["fc-row","fc-week",cv.getClass("dayRow")];if(ct){cu.push("fc-rigid")}return'<div class="'+cu.join(" ")+'"><div class="fc-bg"><table class="'+cv.getClass("tableGrid")+'">'+this.renderBgTrHtml(cw)+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(cw)+"</thead>":"")+"</table></div></div>"},getIsNumbersVisible:function(){return this.getIsDayNumbersVisible()||this.cellWeekNumbersVisible},getIsDayNumbersVisible:function(){return this.rowCnt>1},renderNumberTrHtml:function(ct){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(ct))+this.renderNumberCellsHtml(ct)+(this.isRTL?this.renderNumberIntroHtml(ct):"")+"</tr>"},renderNumberIntroHtml:function(ct){return this.renderIntroHtml()},renderNumberCellsHtml:function(cw){var cv=[];var cu,ct;for(cu=0;cu<this.colCnt;cu++){ct=this.getCellDate(cw,cu);cv.push(this.renderNumberCellHtml(ct))}return cv.join("")},renderNumberCellHtml:function(cv){var cu=this.view;var cy="";var cz=this.dateProfile.activeUnzonedRange.containsDate(cv);var ct=this.getIsDayNumbersVisible()&&cz;var cx;var cw;if(!ct&&!this.cellWeekNumbersVisible){return"<td/>"}cx=this.getDayClasses(cv);cx.unshift("fc-day-top");if(this.cellWeekNumbersVisible){if(cv._locale._fullCalendar_weekCalc==="ISO"){cw=1}else{cw=cv._locale.firstDayOfWeek()}}cy+='<td class="'+cx.join(" ")+'"'+(cz?' data-date="'+cv.format()+'"':"")+">";if(this.cellWeekNumbersVisible&&(cv.day()==cw)){cy+=cu.buildGotoAnchorHtml({date:cv,type:"week"},{"class":"fc-week-number"},cv.format("w"))}if(ct){cy+=cu.buildGotoAnchorHtml(cv,{"class":"fc-day-number"},cv.date())}cy+="</td>";return cy},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(cv,cu){if(this.colCoordCache.isLeftInBounds(cv)&&this.rowCoordCache.isTopInBounds(cu)){var ct=this.colCoordCache.getHorizontalIndex(cv);var cw=this.rowCoordCache.getVerticalIndex(cu);if(cw!=null&&ct!=null){return this.getCellHit(cw,ct)}}},getHitFootprint:function(cu){var ct=this.getCellRange(cu.row,cu.col);return new u(new aC(ct.start,ct.end),true)},getHitEl:function(ct){return this.getCellEl(ct.row,ct.col)},getCellHit:function(cu,ct){return{row:cu,col:ct,component:this,left:this.colCoordCache.getLeftOffset(ct),right:this.colCoordCache.getRightOffset(ct),top:this.rowCoordCache.getTopOffset(cu),bottom:this.rowCoordCache.getBottomOffset(cu)}},getCellEl:function(cu,ct){return this.cellEls.eq(cu*this.colCnt+ct)},unrenderEvents:function(){this.removeSegPopover();a1.prototype.unrenderEvents.apply(this,arguments)},getOwnEventSegs:function(){return a1.prototype.getOwnEventSegs.apply(this,arguments).concat(this.popoverSegs||[])},renderDrag:function(cw,cu,ct){var cv;for(cv=0;cv<cw.length;cv++){this.renderHighlight(cw[cv].componentFootprint)}if(cw.length&&cu&&cu.component!==this){this.helperRenderer.renderEventDraggingFootprints(cw,cu,ct);return true}},unrenderDrag:function(ct){this.unrenderHighlight();this.helperRenderer.unrender()},renderEventResize:function(cw,cu,ct){var cv;for(cv=0;cv<cw.length;cv++){this.renderHighlight(cw[cv].componentFootprint)}this.helperRenderer.renderEventResizingFootprints(cw,cu,ct)},unrenderEventResize:function(ct){this.unrenderHighlight();this.helperRenderer.unrender()}});cd.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){if(this.segPopover){this.segPopover.hide()}},limitRows:function(cv){var ct=this.eventRenderer.rowStructs||[];var cw;var cu;for(cw=0;cw<ct.length;cw++){this.unlimitRow(cw);if(!cv){cu=false}else{if(typeof cv==="number"){cu=cv}else{cu=this.computeRowLevelLimit(cw)}}if(cu!==false){this.limitRow(cw,cu)}}},computeRowLevelLimit:function(cA){var cv=this.rowEls.eq(cA);var cz=cv.height();var cu=this.eventRenderer.rowStructs[cA].tbodyEl.children();var cw,cy;var ct;function cx(cC,cB){ct=Math.max(ct,b9(cB).outerHeight())}for(cw=0;cw<cu.length;cw++){cy=cu.eq(cw).removeClass("fc-limited");ct=0;cy.find("> td > :first-child").each(cx);if(cy.position().top+ct>cz){return cw}}return false},limitRow:function(cB,cF){var cH=this;var cv=this.eventRenderer.rowStructs[cB];var cA=[];var cz=0;var ct;var cy;var cM;var cK,cL;var cO;var cC;var cu;var cD,cN;var cx;var cI;var cw,cJ,cG;function cE(cP){while(cz<cP){cO=cH.getCellSegs(cB,cz,cF);if(cO.length){cD=cy[cF-1][cz];cG=cH.renderMoreLink(cB,cz,cO);cJ=b9("<div/>").append(cG);cD.append(cJ);cA.push(cJ[0])}cz++}}if(cF&&cF<cv.segLevels.length){ct=cv.segLevels[cF-1];cy=cv.cellMatrix;cM=cv.tbodyEl.children().slice(cF).addClass("fc-limited").get();for(cK=0;cK<ct.length;cK++){cL=ct[cK];cE(cL.leftCol);cu=[];cC=0;while(cz<=cL.rightCol){cO=this.getCellSegs(cB,cz,cF);cu.push(cO);cC+=cO.length;cz++}if(cC){cD=cy[cF-1][cL.leftCol];cN=cD.attr("rowspan")||1;cx=[];for(cI=0;cI<cu.length;cI++){cw=b9('<td class="fc-more-cell"/>').attr("rowspan",cN);cO=cu[cI];cG=this.renderMoreLink(cB,cL.leftCol+cI,[cL].concat(cO));cJ=b9("<div/>").append(cG);cw.append(cJ);cx.push(cw[0]);cA.push(cw[0])}cD.addClass("fc-limited").after(b9(cx));cM.push(cD[0])}}cE(this.colCnt);cv.moreEls=b9(cA);cv.limitedEls=b9(cM)}},unlimitRow:function(cu){var ct=this.eventRenderer.rowStructs[cu];if(ct.moreEls){ct.moreEls.remove();ct.moreEls=null}if(ct.limitedEls){ct.limitedEls.removeClass("fc-limited");ct.limitedEls=null}},renderMoreLink:function(cw,cv,cu){var cx=this;var ct=this.view;return b9('<a class="fc-more"/>').text(this.getMoreLinkText(cu.length)).on("click",function(cC){var cF=cx.opt("eventLimitClick");var cz=cx.getCellDate(cw,cv);var cD=b9(this);var cE=cx.getCellEl(cw,cv);var cy=cx.getCellSegs(cw,cv);var cA=cx.resliceDaySegs(cy,cz);var cB=cx.resliceDaySegs(cu,cz);if(typeof cF==="function"){cF=cx.publiclyTrigger("eventLimitClick",{context:ct,args:[{date:cz.clone(),dayEl:cE,moreEl:cD,segs:cA,hiddenSegs:cB},cC,ct]})}if(cF==="popover"){cx.showSegPopover(cw,cv,cD,cA)}else{if(typeof cF==="string"){ct.calendar.zoomTo(cz,cF)}}})},showSegPopover:function(cB,cv,cz,ct){var cw=this;var cy=this.view;var cu=cz.parent();var cx;var cA;if(this.rowCnt==1){cx=cy.el}else{cx=this.rowEls.eq(cB)}cA={className:"fc-more-popover "+cy.calendar.theme.getClass("popover"),content:this.renderSegPopoverContent(cB,cv,ct),parentEl:cy.el,top:cx.offset().top,autoHide:true,viewportConstrain:this.opt("popoverViewportConstrain"),hide:function(){if(cw.popoverSegs){cw.triggerBeforeEventSegsDestroyed(cw.popoverSegs)}cw.segPopover.removeElement();cw.segPopover=null;cw.popoverSegs=null}};if(this.isRTL){cA.right=cu.offset().left+cu.outerWidth()+1}else{cA.left=cu.offset().left-1}this.segPopover=new bx(cA);this.segPopover.show();this.bindAllSegHandlersToEl(this.segPopover.el);this.triggerAfterEventSegsRendered(ct)},renderSegPopoverContent:function(cB,cu,ct){var cy=this.view;var cw=cy.calendar.theme;var cz=this.getCellDate(cB,cu).format(this.opt("dayPopoverFormat"));var cx=b9('<div class="fc-header '+cw.getClass("popoverHeader")+'"><span class="fc-close '+cw.getIconClass("close")+'"></span><span class="fc-title">'+be(cz)+'</span><div class="fc-clear"/></div><div class="fc-body '+cw.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>');var cA=cx.find(".fc-event-container");var cv;ct=this.eventRenderer.renderFgSegEls(ct,true);this.popoverSegs=ct;for(cv=0;cv<ct.length;cv++){this.hitsNeeded();ct[cv].hit=this.getCellHit(cB,cu);this.hitsNotNeeded();cA.append(ct[cv].el)}return cx},resliceDaySegs:function(cv,ct){var cz=ct.clone();var cu=cz.clone().add(1,"days");var cB=new aC(cz,cu);var cA=[];var cx,cw;var cy;for(cx=0;cx<cv.length;cx++){cw=cv[cx];cy=cw.footprint.componentFootprint.unzonedRange.intersect(cB);if(cy){cA.push(b9.extend({},cw,{footprint:new bC(new u(cy,cw.footprint.componentFootprint.isAllDay),cw.footprint.eventDef,cw.footprint.eventInstance),isStart:cw.isStart&&cy.isStart,isEnd:cw.isEnd&&cy.isEnd}))}}this.eventRenderer.sortEventSegs(cA);return cA},getMoreLinkText:function(ct){var cu=this.opt("eventLimitText");if(typeof cu==="function"){return cu(ct)}else{return"+"+ct+" "+cu}},getCellSegs:function(cy,cv,cw){var cx=this.eventRenderer.rowStructs[cy].segMatrix;var cz=cw||0;var cu=[];var ct;while(cz<cx.length){ct=cx[cz][cv];if(ct){cu.push(ct)}cz++}return cu}});var b6=D.BasicView=bp.extend({scroller:null,dayGridClass:cd,dayGrid:null,weekNumberWidth:null,constructor:function(){bp.apply(this,arguments);this.dayGrid=this.instantiateDayGrid();this.dayGrid.isRigid=this.hasRigidRows();if(this.opt("weekNumbers")){if(this.opt("weekNumbersWithinDays")){this.dayGrid.cellWeekNumbersVisible=true;this.dayGrid.colWeekNumbersVisible=false}else{this.dayGrid.cellWeekNumbersVisible=false;this.dayGrid.colWeekNumbersVisible=true}}this.addChild(this.dayGrid);this.scroller=new bK({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var ct=this.dayGridClass.extend(bT);return new ct(this)},buildRenderRange:function(cx,cu,cv){var cw=bp.prototype.buildRenderRange.apply(this,arguments);var cy=this.calendar.msToUtcMoment(cw.startMs,cv);var ct=this.calendar.msToUtcMoment(cw.endMs,cv);if(/^(year|month)$/.test(cu)){cy.startOf("week");if(ct.weekday()){ct.add(1,"week").startOf("week")}}return new aC(cy,ct)},executeDateRender:function(ct){this.dayGrid.breakOnWeeks=/year|month|week/.test(ct.currentRangeUnit);bp.prototype.executeDateRender.apply(this,arguments)},renderSkeleton:function(){var cu;var ct;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.scroller.render();cu=this.scroller.el.addClass("fc-day-grid-container");ct=b9('<div class="fc-day-grid" />').appendTo(cu);this.el.find(".fc-body > tr > td").append(cu);this.dayGrid.headContainerEl=this.el.find(".fc-head-container");this.dayGrid.setElement(ct)},unrenderSkeleton:function(){this.dayGrid.removeElement();this.scroller.destroy()},renderSkeletonHtml:function(){var ct=this.calendar.theme;return'<table class="'+ct.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+ct.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+ct.getClass("widgetContent")+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){if(this.weekNumberWidth!==null){return'style="width:'+this.weekNumberWidth+'px"'}return""},hasRigidRows:function(){var ct=this.opt("eventLimit");return ct&&typeof ct!=="number"},updateSize:function(cx,cu,ct){var cv=this.opt("eventLimit");var cz=this.dayGrid.headContainerEl.find(".fc-row");var cy;var cw;if(!this.dayGrid.rowEls){if(!cu){cy=this.computeScrollerHeight(cx);this.scroller.setHeight(cy)}return}bp.prototype.updateSize.apply(this,arguments);if(this.dayGrid.colWeekNumbersVisible){this.weekNumberWidth=af(this.el.find(".fc-week-number"))}this.scroller.clear();Q(cz);this.dayGrid.removeSegPopover();if(cv&&typeof cv==="number"){this.dayGrid.limitRows(cv)}cy=this.computeScrollerHeight(cx);this.setGridHeight(cy,cu);if(cv&&typeof cv!=="number"){this.dayGrid.limitRows(cv)}if(!cu){this.scroller.setHeight(cy);cw=this.scroller.getScrollbarWidths();if(cw.left||cw.right){aU(cz,cw);cy=this.computeScrollerHeight(cx);this.scroller.setHeight(cy)}this.scroller.lockOverflow(cw)}},computeScrollerHeight:function(ct){return ct-s(this.el,this.scroller.el)},setGridHeight:function(cu,ct){if(ct){l(this.dayGrid.rowEls)}else{ao(this.dayGrid.rowEls,cu,true)}},computeInitialDateScroll:function(){return{top:0}},queryDateScroll:function(){return{top:this.scroller.getScrollTop()}},applyDateScroll:function(ct){if(ct.top!==undefined){this.scroller.setScrollTop(ct.top)}}});var bT={colWeekNumbersVisible:false,renderHeadIntroHtml:function(){var ct=this.view;if(this.colWeekNumbersVisible){return'<th class="fc-week-number '+ct.calendar.theme.getClass("widgetHeader")+'" '+ct.weekNumberStyleAttr()+"><span>"+be(this.opt("weekNumberTitle"))+"</span></th>"}return""},renderNumberIntroHtml:function(cv){var cu=this.view;var ct=this.getCellDate(cv,0);if(this.colWeekNumbersVisible){return'<td class="fc-week-number" '+cu.weekNumberStyleAttr()+">"+cu.buildGotoAnchorHtml({date:ct,type:"week",forceOff:this.colCnt===1},ct.format("w"))+"</td>"}return""},renderBgIntroHtml:function(){var ct=this.view;if(this.colWeekNumbersVisible){return'<td class="fc-week-number '+ct.calendar.theme.getClass("widgetContent")+'" '+ct.weekNumberStyleAttr()+"></td>"}return""},renderIntroHtml:function(){var ct=this.view;if(this.colWeekNumbersVisible){return'<td class="fc-week-number" '+ct.weekNumberStyleAttr()+"></td>"}return""},getIsNumbersVisible:function(){return cd.prototype.getIsNumbersVisible.apply(this,arguments)||this.colWeekNumbersVisible}};var S=D.MonthView=b6.extend({buildRenderRange:function(cx,cu,cv){var cw=b6.prototype.buildRenderRange.apply(this,arguments);var cz=this.calendar.msToUtcMoment(cw.startMs,cv);var ct=this.calendar.msToUtcMoment(cw.endMs,cv);var cy;if(this.isFixedWeeks()){cy=Math.ceil(ct.diff(cz,"weeks",true));ct.add(6-cy,"weeks")}return new aC(cz,ct)},setGridHeight:function(cu,ct){if(ct){cu*=this.rowCnt/6}ao(this.dayGrid.rowEls,cu,!ct)},isFixedWeeks:function(){return this.opt("fixedWeekCount")},isDateInOtherMonth:function(cu,ct){return cu.month()!==bH.utc(ct.currentUnzonedRange.startMs).month()}});an.basic={"class":b6};an.basicDay={type:"basic",duration:{days:1}};an.basicWeek={type:"basic",duration:{weeks:1}};an.month={"class":S,duration:{months:1},defaults:{fixedWeekCount:true}};var ab=bs.extend({attachSegEls:function(cv,ct){var cw=this.component;var cu;if(cv==="bgEvent"){cu=cw.bgContainerEls}else{if(cv==="businessHours"){cu=cw.businessContainerEls}else{if(cv==="highlight"){cu=cw.highlightContainerEls}}}cw.updateSegVerticals(ct);cw.attachSegsByCol(cw.groupSegsByCol(ct),cu);return ct.map(function(cx){return cx.el[0]})}});var bR=R.extend({timeGrid:null,constructor:function(ct){R.apply(this,arguments);this.timeGrid=ct},renderFgSegs:function(ct){this.renderFgSegsIntoContainers(ct,this.timeGrid.fgContainerEls)},renderFgSegsIntoContainers:function(ct,cv){var cw;var cu;cw=this.timeGrid.groupSegsByCol(ct);for(cu=0;cu<this.timeGrid.colCnt;cu++){this.updateFgSegCoords(cw[cu])}this.timeGrid.attachSegsByCol(cw,cv)},unrenderFgSegs:function(){if(this.fgSegs){this.fgSegs.forEach(function(ct){ct.el.remove()})}},computeEventTimeFormat:function(){return this.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return true},fgSegHtml:function(cC,cu){var cI=this.view;var cD=cI.calendar;var cx=cC.footprint.componentFootprint;var cG=cx.isAllDay;var cB=cC.footprint.eventDef;var ct=cI.isEventDefDraggable(cB);var cA=!cu&&cC.isStart&&cI.isEventDefResizableFromStart(cB);var cz=!cu&&cC.isEnd&&cI.isEventDefResizableFromEnd(cB);var cy=this.getSegClasses(cC,ct,cA||cz);var cJ=T(this.getSkinCss(cB));var cw;var cE;var cv;cy.unshift("fc-time-grid-event","fc-v-event");if(cI.isMultiDayRange(cx.unzonedRange)){if(cC.isStart||cC.isEnd){var cH=cD.msToMoment(cC.startMs);var cF=cD.msToMoment(cC.endMs);cw=this._getTimeText(cH,cF,cG);cE=this._getTimeText(cH,cF,cG,"LT");cv=this._getTimeText(cH,cF,cG,null,false)}}else{cw=this.getTimeText(cC.footprint);cE=this.getTimeText(cC.footprint,"LT");cv=this.getTimeText(cC.footprint,null,false)}return'<a class="'+cy.join(" ")+'"'+(cB.url?' href="'+be(cB.url)+'"':"")+(cJ?' style="'+cJ+'"':"")+'><div class="fc-content">'+(cw?'<div class="fc-time" data-start="'+be(cv)+'" data-full="'+be(cE)+'"><span>'+be(cw)+"</span></div>":"")+(cB.title?'<div class="fc-title">'+be(cB.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(cz?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateFgSegCoords:function(ct){this.timeGrid.computeSegVerticals(ct);this.computeFgSegHorizontals(ct);this.timeGrid.assignSegVerticals(ct);this.assignFgSegHorizontals(ct)},computeFgSegHorizontals:function(ct){var cv;var cw;var cu;this.sortEventSegs(ct);cv=Y(ct);b(cv);if((cw=cv[0])){for(cu=0;cu<cw.length;cu++){r(cw[cu])}for(cu=0;cu<cw.length;cu++){this.computeFgSegForwardBack(cw[cu],0,0)}}},computeFgSegForwardBack:function(cu,cw,cx){var ct=cu.forwardSegs;var cv;if(cu.forwardCoord===undefined){if(!ct.length){cu.forwardCoord=1}else{this.sortForwardSegs(ct);this.computeFgSegForwardBack(ct[0],cw+1,cx);cu.forwardCoord=ct[0].backwardCoord}cu.backwardCoord=cu.forwardCoord-(cu.forwardCoord-cx)/(cw+1);for(cv=0;cv<ct.length;cv++){this.computeFgSegForwardBack(ct[cv],0,cu.forwardCoord)}}},sortForwardSegs:function(ct){ct.sort(a8(this,"compareForwardSegs"))},compareForwardSegs:function(cu,ct){return ct.forwardPressure-cu.forwardPressure||(cu.backwardCoord||0)-(ct.backwardCoord||0)||this.compareEventSegs(cu,ct)},assignFgSegHorizontals:function(cu){var cv,ct;for(cv=0;cv<cu.length;cv++){ct=cu[cv];ct.el.css(this.generateFgSegHorizontalCss(ct));if(ct.bottom-ct.top<30){ct.el.addClass("fc-short")}}},generateFgSegHorizontalCss:function(ct){var cw=this.opt("slotEventOverlap");var cu=ct.backwardCoord;var cv=ct.forwardCoord;var cy=this.timeGrid.generateSegVerticalCss(ct);var cz;var cx;if(cw){cv=Math.min(1,cu+(cv-cu)*2)}if(this.timeGrid.isRTL){cz=1-cv;cx=cu}else{cz=cu;cx=1-cv}cy.zIndex=ct.level+1;cy.left=cz*100+"%";cy.right=cx*100+"%";if(cw&&ct.forwardPressure){cy[this.isRTL?"marginLeft":"marginRight"]=10*2}return cy}});function Y(cu){var cx=[];var cw,ct;var cv;for(cw=0;cw<cu.length;cw++){ct=cu[cw];for(cv=0;cv<cx.length;cv++){if(!b7(ct,cx[cv]).length){break}}ct.level=cv;(cx[cv]||(cx[cv]=[])).push(ct)}return cx}function b(cx){var cw,cy;var cv,ct;var cu;for(cw=0;cw<cx.length;cw++){cy=cx[cw];for(cv=0;cv<cy.length;cv++){ct=cy[cv];ct.forwardSegs=[];for(cu=cw+1;cu<cx.length;cu++){b7(ct,cx[cu],ct.forwardSegs)}}}}function r(cu){var ct=cu.forwardSegs;var cx=0;var cw,cv;if(cu.forwardPressure===undefined){for(cw=0;cw<ct.length;cw++){cv=ct[cw];r(cv);cx=Math.max(cx,1+cv.forwardPressure)}cu.forwardPressure=cx}}function b7(ct,cw,cv){cv=cv||[];for(var cu=0;cu<cw.length;cu++){if(bE(ct,cw[cu])){cv.push(cw[cu])}}return cv}function bE(cu,ct){return cu.bottom>ct.top&&cu.top<ct.bottom}var bB=ag.extend({renderSegs:function(cv,cx){var ct=[];var cy,cu;var cw;this.eventRenderer.renderFgSegsIntoContainers(cv,this.component.helperContainerEls);for(cy=0;cy<cv.length;cy++){cu=cv[cy];if(cx&&cx.col===cu.col){cw=cx.el;cu.el.css({left:cw.css("left"),right:cw.css("right"),"margin-left":cw.css("margin-left"),"margin-right":cw.css("margin-right")})}ct.push(cu.el[0])}return b9(ct)}});var i=D.TimeGrid=a1.extend(E,bv,{eventRendererClass:bR,businessHourRendererClass:ce,helperRendererClass:bB,fillRendererClass:ab,view:null,helperRenderer:null,dayRanges:null,slotDuration:null,snapDuration:null,snapsPerSlot:null,labelFormat:null,labelInterval:null,headContainerEl:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,bottomRuleEl:null,contentSkeletonEl:null,colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,helperSegs:null,highlightSegs:null,businessSegs:null,constructor:function(ct){this.view=ct;a1.call(this);this.processOptions()},componentFootprintToSegs:function(cu){var ct=this.sliceRangeByTimes(cu.unzonedRange);var cv;for(cv=0;cv<ct.length;cv++){if(this.isRTL){ct[cv].col=this.daysPerRow-1-ct[cv].dayIndex}else{ct[cv].col=ct[cv].dayIndex}}return ct},sliceRangeByTimes:function(cu){var ct=[];var cw;var cv;for(cv=0;cv<this.daysPerRow;cv++){cw=cu.intersect(this.dayRanges[cv]);if(cw){ct.push({startMs:cw.startMs,endMs:cw.endMs,isStart:cw.isStart,isEnd:cw.isEnd,dayIndex:cv})}}return ct},processOptions:function(){var cv=this.opt("slotDuration");var cu=this.opt("snapDuration");var ct;cv=bH.duration(cv);cu=cu?bH.duration(cu):cv;this.slotDuration=cv;this.snapDuration=cu;this.snapsPerSlot=cv/cu;ct=this.opt("slotLabelFormat");if(b9.isArray(ct)){ct=ct[ct.length-1]}this.labelFormat=ct||this.opt("smallTimeFormat");ct=this.opt("slotLabelInterval");this.labelInterval=ct?bH.duration(ct):this.computeLabelInterval(cv)},computeLabelInterval:function(cv){var cu;var ct;var cw;for(cu=bA.length-1;cu>=0;cu--){ct=bH.duration(bA[cu]);cw=L(ct,cv);if(cf(cw)&&cw>1){return ct}}return bH.duration(cv)},renderDates:function(ct){this.dateProfile=ct;this.updateDayTable();this.renderSlats();this.renderColumns()},unrenderDates:function(){this.unrenderColumns()},renderSkeleton:function(){var ct=this.view.calendar.theme;this.el.html('<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+ct.getClass("widgetHeader")+'" style="display:none" />');this.bottomRuleEl=this.el.find("hr")},renderSlats:function(){var ct=this.view.calendar.theme;this.slatContainerEl=this.el.find("> .fc-slats").html('<table class="'+ct.getClass("tableGrid")+'">'+this.renderSlatRowHtml()+"</table>");this.slatEls=this.slatContainerEl.find("tr");this.slatCoordCache=new aB({els:this.slatEls,isVertical:true})},renderSlatRowHtml:function(){var cB=this.view;var cu=cB.calendar;var cv=cu.theme;var ct=this.isRTL;var cC=this.dateProfile;var cw="";var cy=bH.duration(+cC.minTime);var cz=bH.duration(0);var cx;var cD;var cA;while(cy<cC.maxTime){cx=cu.msToUtcMoment(cC.renderUnzonedRange.startMs).time(cy);cD=cf(L(cz,this.labelInterval));cA='<td class="fc-axis fc-time '+cv.getClass("widgetContent")+'" '+cB.axisStyleAttr()+">"+(cD?"<span>"+be(cx.format(this.labelFormat))+"</span>":"")+"</td>";cw+='<tr data-time="'+cx.format("HH:mm:ss")+'"'+(cD?"":' class="fc-minor"')+">"+(!ct?cA:"")+'<td class="'+cv.getClass("widgetContent")+'"/>'+(ct?cA:"")+"</tr>";cy.add(this.slotDuration);cz.add(this.slotDuration)}return cw},renderColumns:function(){var ct=this.dateProfile;var cu=this.view.calendar.theme;this.dayRanges=this.dayDates.map(function(cv){return new aC(cv.clone().add(ct.minTime),cv.clone().add(ct.maxTime))});if(this.headContainerEl){this.headContainerEl.html(this.renderHeadHtml())}this.el.find("> .fc-bg").html('<table class="'+cu.getClass("tableGrid")+'">'+this.renderBgTrHtml(0)+"</table>");this.colEls=this.el.find(".fc-day, .fc-disabled-day");this.colCoordCache=new aB({els:this.colEls,isHorizontal:true});this.renderContentSkeleton()},unrenderColumns:function(){this.unrenderContentSkeleton()},renderContentSkeleton:function(){var cv="";var ct;var cu;for(ct=0;ct<this.colCnt;ct++){cv+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>'}cu=this.contentSkeletonEl=b9('<div class="fc-content-skeleton"><table><tr>'+cv+"</tr></table></div>");this.colContainerEls=cu.find(".fc-content-col");this.helperContainerEls=cu.find(".fc-helper-container");this.fgContainerEls=cu.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=cu.find(".fc-bgevent-container");this.highlightContainerEls=cu.find(".fc-highlight-container");this.businessContainerEls=cu.find(".fc-business-container");this.bookendCells(cu.find("tr"));this.el.append(cu)},unrenderContentSkeleton:function(){this.contentSkeletonEl.remove();this.contentSkeletonEl=null;this.colContainerEls=null;this.helperContainerEls=null;this.fgContainerEls=null;this.bgContainerEls=null;this.highlightContainerEls=null;this.businessContainerEls=null},groupSegsByCol:function(ct){var cv=[];var cu;for(cu=0;cu<this.colCnt;cu++){cv.push([])}for(cu=0;cu<ct.length;cu++){cv[ct[cu].col].push(ct[cu])}return cv},attachSegsByCol:function(cx,cw){var cu;var ct;var cv;for(cu=0;cu<this.colCnt;cu++){ct=cx[cu];for(cv=0;cv<ct.length;cv++){cw.eq(cu).append(ct[cv].el)}}},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(cv){var ct=this.componentFootprintToSegs(new u(new aC(cv,cv.valueOf()+1),false));var cx=this.computeDateTop(cv,cv);var cu=[];var cw;for(cw=0;cw<ct.length;cw++){cu.push(b9('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",cx).appendTo(this.colContainerEls.eq(ct[cw].col))[0])}if(ct.length>0){cu.push(b9('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",cx).appendTo(this.el.find(".fc-content-skeleton"))[0])}this.nowIndicatorEls=b9(cu)},unrenderNowIndicator:function(){if(this.nowIndicatorEls){this.nowIndicatorEls.remove();this.nowIndicatorEls=null}},updateSize:function(cv,cu,ct){a1.prototype.updateSize.apply(this,arguments);this.slatCoordCache.build();if(ct){this.updateSegVerticals([].concat(this.eventRenderer.getSegs(),this.businessSegs||[]))}},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(ct,cu){return this.computeTimeTop(bH.duration(ct-cu.clone().stripTime()))},computeTimeTop:function(cy){var ct=this.slatEls.length;var cu=this.dateProfile;var cx=(cy-cu.minTime)/this.slotDuration;var cw;var cv;cx=Math.max(0,cx);cx=Math.min(ct,cx);cw=Math.floor(cx);cw=Math.min(cw,ct-1);cv=cx-cw;return this.slatCoordCache.getTopPosition(cw)+this.slatCoordCache.getHeight(cw)*cv},updateSegVerticals:function(ct){this.computeSegVerticals(ct);this.assignSegVerticals(ct)},computeSegVerticals:function(cv){var cw=this.opt("agendaEventMinHeight");var cx,cu;var ct;for(cx=0;cx<cv.length;cx++){cu=cv[cx];ct=this.dayDates[cu.dayIndex];cu.top=this.computeDateTop(cu.startMs,ct);cu.bottom=Math.max(cu.top+cw,this.computeDateTop(cu.endMs,ct))}},assignSegVerticals:function(cu){var cv,ct;for(cv=0;cv<cu.length;cv++){ct=cu[cv];ct.el.css(this.generateSegVerticalCss(ct))}},generateSegVerticalCss:function(ct){return{top:ct.top,bottom:-ct.bottom}},prepareHits:function(){this.colCoordCache.build();this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(cu,cA){var cx=this.snapsPerSlot;var cD=this.colCoordCache;var ct=this.slatCoordCache;if(cD.isLeftInBounds(cu)&&ct.isTopInBounds(cA)){var cF=cD.getHorizontalIndex(cu);var cG=ct.getVerticalIndex(cA);if(cF!=null&&cG!=null){var cE=ct.getTopOffset(cG);var cB=ct.getHeight(cG);var cC=(cA-cE)/cB;var cv=Math.floor(cC*cx);var cz=cG*cx+cv;var cy=cE+(cv/cx)*cB;var cw=cE+((cv+1)/cx)*cB;return{col:cF,snap:cz,component:this,left:cD.getLeftOffset(cF),right:cD.getRightOffset(cF),top:cy,bottom:cw}}}},getHitFootprint:function(cu){var cw=this.getCellDate(0,cu.col);var cv=this.computeSnapTime(cu.snap);var ct;cw.time(cv);ct=cw.clone().add(this.snapDuration);return new u(new aC(cw,ct),false)},computeSnapTime:function(ct){return bH.duration(this.dateProfile.minTime+this.snapDuration*ct)},getHitEl:function(ct){return this.colEls.eq(ct.col)},renderDrag:function(cw,cu,ct){var cv;if(cu){if(cw.length){this.helperRenderer.renderEventDraggingFootprints(cw,cu,ct);return true}}else{for(cv=0;cv<cw.length;cv++){this.renderHighlight(cw[cv].componentFootprint)}}},unrenderDrag:function(ct){this.unrenderHighlight();this.helperRenderer.unrender()},renderEventResize:function(cv,cu,ct){this.helperRenderer.renderEventResizingFootprints(cv,cu,ct)},unrenderEventResize:function(ct){this.helperRenderer.unrender()},renderSelectionFootprint:function(ct){if(this.opt("selectHelper")){this.helperRenderer.renderComponentFootprint(ct)}else{this.renderHighlight(ct)}},unrenderSelection:function(){this.helperRenderer.unrender();this.unrenderHighlight()}});var cp=D.AgendaView=bp.extend({scroller:null,timeGridClass:i,timeGrid:null,dayGridClass:cd,dayGrid:null,axisWidth:null,usesMinMaxTime:true,constructor:function(){bp.apply(this,arguments);this.timeGrid=this.instantiateTimeGrid();this.addChild(this.timeGrid);if(this.opt("allDaySlot")){this.dayGrid=this.instantiateDayGrid();this.addChild(this.dayGrid)}this.scroller=new bK({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var ct=this.timeGridClass.extend(b1);return new ct(this)},instantiateDayGrid:function(){var ct=this.dayGridClass.extend(b4);return new ct(this)},renderSkeleton:function(){var ct;var cu;this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());this.scroller.render();ct=this.scroller.el.addClass("fc-time-grid-container");cu=b9('<div class="fc-time-grid" />').appendTo(ct);this.el.find(".fc-body > tr > td").append(ct);this.timeGrid.headContainerEl=this.el.find(".fc-head-container");this.timeGrid.setElement(cu);if(this.dayGrid){this.dayGrid.setElement(this.el.find(".fc-day-grid"));this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()}},unrenderSkeleton:function(){this.timeGrid.removeElement();if(this.dayGrid){this.dayGrid.removeElement()}this.scroller.destroy()},renderSkeletonHtml:function(){var ct=this.calendar.theme;return'<table class="'+ct.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+ct.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+ct.getClass("widgetContent")+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+ct.getClass("widgetHeader")+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){if(this.axisWidth!==null){return'style="width:'+this.axisWidth+'px"'}return""},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},updateSize:function(cx,cu,ct){var cv;var cz;var cw;bp.prototype.updateSize.apply(this,arguments);this.axisWidth=af(this.el.find(".fc-axis"));if(!this.timeGrid.colEls){if(!cu){cz=this.computeScrollerHeight(cx);this.scroller.setHeight(cz)}return}var cy=this.el.find(".fc-row:not(.fc-scroller *)");this.timeGrid.bottomRuleEl.hide();this.scroller.clear();Q(cy);if(this.dayGrid){this.dayGrid.removeSegPopover();cv=this.opt("eventLimit");if(cv&&typeof cv!=="number"){cv=bF}if(cv){this.dayGrid.limitRows(cv)}}if(!cu){cz=this.computeScrollerHeight(cx);this.scroller.setHeight(cz);cw=this.scroller.getScrollbarWidths();if(cw.left||cw.right){aU(cy,cw);cz=this.computeScrollerHeight(cx);this.scroller.setHeight(cz)}this.scroller.lockOverflow(cw);if(this.timeGrid.getTotalSlatHeight()<cz){this.timeGrid.bottomRuleEl.show()}}},computeScrollerHeight:function(ct){return ct-s(this.el,this.scroller.el)},computeInitialDateScroll:function(){var cu=bH.duration(this.opt("scrollTime"));var ct=this.timeGrid.computeTimeTop(cu);ct=Math.ceil(ct);if(ct){ct++}return{top:ct}},queryDateScroll:function(){return{top:this.scroller.getScrollTop()}},applyDateScroll:function(ct){if(ct.top!==undefined){this.scroller.setScrollTop(ct.top)}},getHitFootprint:function(ct){return ct.component.getHitFootprint(ct)},getHitEl:function(ct){return ct.component.getHitEl(ct)},executeEventRender:function(ct){var cv={};var cu={};var cx,cw;for(cx in ct){cw=ct[cx];if(cw.getEventDef().isAllDay()){cv[cx]=cw}else{cu[cx]=cw}}this.timeGrid.executeEventRender(cu);if(this.dayGrid){this.dayGrid.executeEventRender(cv)}},renderDrag:function(cx,cv,cu){var ct=N(cx);var cw=false;cw=this.timeGrid.renderDrag(ct.timed,cv,cu);if(this.dayGrid){cw=this.dayGrid.renderDrag(ct.allDay,cv,cu)||cw}return cw},renderEventResize:function(cw,cv,cu){var ct=N(cw);this.timeGrid.renderEventResize(ct.timed,cv,cu);if(this.dayGrid){this.dayGrid.renderEventResize(ct.allDay,cv,cu)}},renderSelectionFootprint:function(ct){if(!ct.isAllDay){this.timeGrid.renderSelectionFootprint(ct)}else{if(this.dayGrid){this.dayGrid.renderSelectionFootprint(ct)}}}});var b1={renderHeadIntroHtml:function(){var cu=this.view;var cw=cu.calendar;var ct=cw.msToUtcMoment(this.dateProfile.renderUnzonedRange.startMs,true);var cv;if(this.opt("weekNumbers")){cv=ct.format(this.opt("smallWeekFormat"));return'<th class="fc-axis fc-week-number '+cw.theme.getClass("widgetHeader")+'" '+cu.axisStyleAttr()+">"+cu.buildGotoAnchorHtml({date:ct,type:"week",forceOff:this.colCnt>1},be(cv))+"</th>"}else{return'<th class="fc-axis '+cw.theme.getClass("widgetHeader")+'" '+cu.axisStyleAttr()+"></th>"}},renderBgIntroHtml:function(){var ct=this.view;return'<td class="fc-axis '+ct.calendar.theme.getClass("widgetContent")+'" '+ct.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var ct=this.view;return'<td class="fc-axis" '+ct.axisStyleAttr()+"></td>"}};var b4={renderBgIntroHtml:function(){var ct=this.view;return'<td class="fc-axis '+ct.calendar.theme.getClass("widgetContent")+'" '+ct.axisStyleAttr()+"><span>"+ct.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){var ct=this.view;return'<td class="fc-axis" '+ct.axisStyleAttr()+"></td>"}};function N(cv){var cw=[];var ct=[];var cu;for(cu=0;cu<cv.length;cu++){if(cv[cu].componentFootprint.isAllDay){cw.push(cv[cu])}else{ct.push(cv[cu])}}return{allDay:cw,timed:ct}}var bF=5;var bA=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];an.agenda={"class":cp,defaults:{allDaySlot:true,slotDuration:"00:30:00",slotEventOverlap:true}};an.agendaDay={type:"agenda",duration:{days:1}};an.agendaWeek={type:"agenda",duration:{weeks:1}};var y=D.ListView=bp.extend({segSelector:".fc-list-item",scroller:null,contentEl:null,dayDates:null,dayRanges:null,constructor:function(){bp.apply(this,arguments);this.scroller=new bK({overflowX:"hidden",overflowY:"auto"})},renderSkeleton:function(){this.el.addClass("fc-list-view "+this.calendar.theme.getClass("listView"));this.scroller.render();this.scroller.el.appendTo(this.el);this.contentEl=this.scroller.scrollEl},unrenderSkeleton:function(){this.scroller.destroy()},updateSize:function(cv,cu,ct){this.scroller.setHeight(this.computeScrollerHeight(cv))},computeScrollerHeight:function(ct){return ct-s(this.el,this.scroller.el)},renderDates:function(cu){var cx=this.calendar;var ct=cx.msToUtcMoment(cu.renderUnzonedRange.startMs,true);var cv=cx.msToUtcMoment(cu.renderUnzonedRange.endMs,true);var cy=[];var cw=[];while(ct<cv){cy.push(ct.clone());cw.push(new aC(ct,ct.clone().add(1,"day")));ct.add(1,"day")}this.dayDates=cy;this.dayRanges=cw},componentFootprintToSegs:function(cv){var cx=this.dayRanges;var cw;var cy;var cu;var ct=[];for(cw=0;cw<cx.length;cw++){cy=cv.unzonedRange.intersect(cx[cw]);if(cy){cu={startMs:cy.startMs,endMs:cy.endMs,isStart:cy.isStart,isEnd:cy.isEnd,dayIndex:cw};ct.push(cu);if(!cu.isEnd&&!cv.isAllDay&&cw+1<cx.length&&cv.unzonedRange.endMs<cx[cw+1].startMs+this.nextDayThreshold){cu.endMs=cv.unzonedRange.endMs;cu.isEnd=true;break}}}return ct},eventRendererClass:R.extend({renderFgSegs:function(ct){if(!ct.length){this.component.renderEmptyMessage()}else{this.component.renderSegList(ct)}},fgSegHtml:function(cx){var cC=this.view;var cy=cC.calendar;var cz=cy.theme;var cA=cx.footprint;var cw=cA.eventDef;var cu=cA.componentFootprint;var ct=cw.url;var cv=["fc-list-item"].concat(this.getClasses(cw));var cD=this.getBgColor(cw);var cB;if(cu.isAllDay){cB=cC.getAllDayHtml()}else{if(cC.isMultiDayRange(cu.unzonedRange)){if(cx.isStart||cx.isEnd){cB=be(this._getTimeText(cy.msToMoment(cx.startMs),cy.msToMoment(cx.endMs),cu.isAllDay))}else{cB=cC.getAllDayHtml()}}else{cB=be(this.getTimeText(cA))}}if(ct){cv.push("fc-has-url")}return'<tr class="'+cv.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+cz.getClass("widgetContent")+'">'+(cB||"")+"</td>":"")+'<td class="fc-list-item-marker '+cz.getClass("widgetContent")+'"><span class="fc-event-dot"'+(cD?' style="background-color:'+cD+'"':"")+'></span></td><td class="fc-list-item-title '+cz.getClass("widgetContent")+'"><a'+(ct?' href="'+be(ct)+'"':"")+">"+be(cw.title||"")+"</a></td></tr>"},computeEventTimeFormat:function(){return this.opt("mediumTimeFormat")}}),eventPointingClass:aK.extend({handleClick:function(ct,cv){var cu;aK.prototype.handleClick.apply(this,arguments);if(!b9(cv.target).closest("a[href]").length){cu=ct.footprint.eventDef.url;if(cu&&!cv.isDefaultPrevented()){window.location.href=cu}}}}),renderEmptyMessage:function(){this.contentEl.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+be(this.opt("noEventsMessage"))+"</div></div></div>")},renderSegList:function(cu){var cy=this.groupSegsByDay(cu);var cx;var cz;var cw;var cv=b9('<table class="fc-list-table '+this.calendar.theme.getClass("tableList")+'"><tbody/></table>');var ct=cv.find("tbody");for(cx=0;cx<cy.length;cx++){cz=cy[cx];if(cz){ct.append(this.dayHeaderHtml(this.dayDates[cx]));this.eventRenderer.sortEventSegs(cz);for(cw=0;cw<cz.length;cw++){ct.append(cz[cw].el)}}}this.contentEl.empty().append(cv)},groupSegsByDay:function(cu){var cw=[];var cv,ct;for(cv=0;cv<cu.length;cv++){ct=cu[cv];(cw[ct.dayIndex]||(cw[ct.dayIndex]=[])).push(ct)}return cw},dayHeaderHtml:function(ct){var cu=this.opt("listDayFormat");var cv=this.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+ct.format("YYYY-MM-DD")+'"><td class="'+this.calendar.theme.getClass("widgetHeader")+'" colspan="3">'+(cu?this.buildGotoAnchorHtml(ct,{"class":"fc-list-heading-main"},be(ct.format(cu))):"")+(cv?this.buildGotoAnchorHtml(ct,{"class":"fc-list-heading-alt"},be(ct.format(cv))):"")+"</td></tr>"}});an.list={"class":y,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}};an.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}};an.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}};an.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}};an.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}};return D});;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/thescheduler-namespace.js' */
if(typeof TheScheduler=="undefined"){var TheScheduler={}}TheScheduler.namespace=function(c){var d=c.split(".");var b=TheScheduler;if(d[0]==="TheScheduler"){d=d.slice(1)}for(var a=0;a<d.length;a+=1){if(typeof b[d[a]]==="undefined"){b[d[a]]={}}b=b[d[a]]}return b};TheScheduler.goBack=function(){window.history.back()};;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/trigger.js' */
TheScheduler.namespace("TheScheduler.Model.Trigger");TheScheduler.Model.Trigger=(function(){return function(o){var e=TheScheduler.namespace("TheScheduler.Model.Trigger");if(!(this instanceof e)){return new e(o)}var t=null;var l=function(){return t.id};var f=function(){return t};var k=function(){return t.triggerType};var w=function(){return t.triggerExpression};var p=function(){return t.triggerExpressionSummary};var n=function(){return t.cronExpression};var s=function(){return t.timeZone};var x=function(){return t.timeZoneFormatted};var h=function(){return t.intervalType};var c=function(){return t.intervalDivider};var u=function(){return t.executionDate};var j=function(){return t.startDate};var b=function(){return t.endDate};var r=function(){return t.startDateFormatted};var a=function(){return t.endDateFormatted};var g=function(){return t.executionDateFormatted};var v=function(){return t.workflowTriggerIssueTypeId};var q=function(){return t.executeOnAllSourceStatuses};var m=function(){return t.sourceStatusId};var i=function(){return t.executeOnAllTargetStatuses};var d=function(){return t.targetStatusId};if(o){t={id:o.id||null,triggerType:o.triggerType||null,triggerExpression:o.triggerExpression||null,triggerExpressionSummary:o.triggerExpressionSummary||null,cronExpression:o.cronExpression||null,timeZone:o.timeZone||null,timeZoneFormatted:o.timeZoneFormatted||null,intervalType:o.intervalType||null,intervalDivider:o.intervalDivider||null,executionDate:o.executionDate||null,executionDateFormatted:o.executionDateFormatted||null,startDate:o.startDate||null,startDateFormatted:o.startDateFormatted||null,endDate:o.endDate||null,endDateFormatted:o.endDateFormatted||null,workflowTriggerIssueTypeId:o.workflowTriggerIssueTypeId||null,executeOnAllSourceStatuses:o.executeOnAllSourceStatuses||false,sourceStatusId:o.sourceStatusId||null,executeOnAllTargetStatuses:o.executeOnAllTargetStatuses||false,targetStatusId:o.targetStatusId||null}}this.getId=l;this.getTriggerJSON=f;this.getTriggerType=k;this.getTriggerExpression=w;this.getTriggerExpressionSummary=p;this.getCronExpression=n;this.getTimeZone=s;this.getTimeZoneFormatted=x;this.getIntervalType=h;this.getIntervalDivider=c;this.getExecutionDate=u;this.getStartDate=j;this.getEndDate=b;this.getExecutionDateFormatted=g;this.getStartDateFormatted=r;this.getEndDateFormatted=a;this.getWorkflowTriggerIssueTypeId=v;this.getExecuteOnAllSourceStatuses=q;this.getSourceStatusId=m;this.getExecuteOnAllTargetStatuses=i;this.getTargetStatusId=d}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/trigger-table.js' */
TheScheduler.namespace("TheScheduler.View.TriggerTable");TheScheduler.View.TriggerTable=(function(){var a=TheScheduler.namespace("TheScheduler.Model.Trigger");return function(i){var g=TheScheduler.namespace("TheScheduler.View.TriggerTable");if(!(this instanceof g)){return new g(i)}var j=i;var k=null;var e=function(){return j};var f=function(){var p=k.fnGetNodes();var o=jQueryTS("input#select-all",k);o.prop("checked",true);var q=jQueryTS("input.select-one",p);q.each(function(){var r=jQueryTS(this);r.prop("checked",true)})};var n=function(){var p=k.fnGetNodes();var o=jQueryTS("input#select-all",k);o.prop("checked",false);var q=jQueryTS("input.select-one",p);q.each(function(){var r=jQueryTS(this);r.prop("checked",false)})};var l=function(){var o=k.fnGetNodes();var q=jQueryTS("input.select-one:checked",o);var p=q.closest("tr");return p.toArray()};var d=function(){var r=[];var q=l();for(var p=0;p<q.length;p++){var o=k.fnGetData(q[p]);r.push(o)}return r};var b=function(p,o){if(p instanceof a){var t=p.getTriggerJSON();var s=k.fnAddData(t,false);var q=s[0];var r=k.fnGetNodes(q);if(o instanceof Function){o(q,r)}k.fnDraw();return true}return false};var m=function(p,o){k.fnDeleteRow(p,null,false);if(o instanceof Function){o(p)}k.fnDraw();return false};var c=function(){return k.fnGetData()};var h=function(){jQueryTS.fn.dataTableExt.oStdClasses.sSortAsc="ascending";jQueryTS.fn.dataTableExt.oStdClasses.sSortDesc="descending";jQueryTS.fn.dataTableExt.oStdClasses.sSortable="sortable";function v(A,z,B){return TheScheduler.Templates.TriggerTable.selectColumn({trigger:B})}function y(A,z,B){return TheScheduler.Templates.TriggerTable.startDateColumn({trigger:B})}function o(A,z,B){return TheScheduler.Templates.TriggerTable.endDateColumn({trigger:B})}function w(A,z,B){return TheScheduler.Templates.TriggerTable.actionsColumn({trigger:B})}function q(z){var A=jQueryTS(this);var B=A.is(":checked");if(B){f()}else{n()}}jQueryTS(j).off("click","input#select-all",q);jQueryTS(j).on("click","input#select-all",q);function s(z){z.preventDefault();z.stopPropagation();var B=jQueryTS(this).closest("tr").get(0);m(B,function(F){var C=c();if(C.length==0){var E=jQueryTS("#trigger-table-empty-div");var D=jQueryTS("#trigger-table-not-empty-div");D.hide();E.show()}});var A=jQueryTS("input#select-all",k);A.prop("checked",false);return false}jQueryTS(j).off("click","a.show-trigger-fire-times",t);jQueryTS(j).on("click","a.show-trigger-fire-times",t);jQueryTS(j).off("click","a.delete-trigger-link",s);jQueryTS(j).on("click","a.delete-trigger-link",s);function t(z){var B=jQueryTS(this).closest("tr").get(0);var A=k.api().row(B).data();r([A],x);z.preventDefault();z.stopPropagation();return false}function r(A,D){var B=AJS.$("#calendarId").val();var C="";if(B){C="&calendarId="+B}var z=jQueryTS.ajax({type:"POST",url:AJS.contextPath()+"/rest/thescheduler/1.0/trigger/fire-times?limit=7"+C,data:jQueryTS.toJSON(A),contentType:"application/json; charset=UTF-8"});z.done(D)}function x(B){var A=TheScheduler.Templates.Dialogs.triggerFutureFireTimesDialog({fireTimes:B});AJS.$("body").append(A);var z=AJS.dialog2("#tsp-trigger-future-fire-times-dialog");AJS.$("#tsp-trigger-future-fire-times-dialog-close-button").click(function(){z.hide()});AJS.dialog2("#tsp-trigger-future-fire-times-dialog").on("hide",function(){AJS.$("#tsp-trigger-future-fire-times-dialog").remove()});AJS.$("#tsp-trigger-future-fire-times-dialog").find(".scheduler-tooltip-enabled").tooltip();z.show()}function p(z){z.preventDefault();z.stopPropagation();var B=l();jQueryTS(B).each(function(){var C=jQueryTS(this).get(0);m(C,function(G){var D=c();if(D.length==0){var F=jQueryTS("#trigger-table-empty-div");var E=jQueryTS("#trigger-table-not-empty-div");E.hide();F.show()}})});var A=jQueryTS("input#select-all",k);A.prop("checked",false);return false}function u(z){var A=d();if(A.length===0){return x([])}r(d(),x);z.preventDefault();z.stopPropagation();return false}jQueryTS(j).off("click","a#triggers-table-show-selected-future-fire-times",u);jQueryTS(j).on("click","a#triggers-table-show-selected-future-fire-times",u);jQueryTS(j).off("click","a#delete-selected-triggers-link",p);jQueryTS(j).on("click","a#delete-selected-triggers-link",p);return jQueryTS(j).dataTable({bSort:true,bFilter:false,bInfo:false,bLengthChange:false,bPaginate:false,bAutoWidth:true,sDom:"lrtip",bDestroy:true,aoColumnDefs:[{bSearchable:false,sClass:"select-column",mData:"id",mRender:v,bSortable:false,aTargets:[0]},{sType:"string",sClass:"trigger-expression-column",mData:"triggerExpression",bSortable:true,aTargets:[1]},{sType:"string",sClass:"trigger-expression-summary-column",mData:"triggerExpressionSummary",bSortable:true,aTargets:[2]},{sType:"string",sClass:"start-date-column",mData:"startDate",mRender:y,bSortable:true,aTargets:[3]},{sType:"string",sClass:"end-date-column",mData:"endDate",mRender:o,bSortable:true,aTargets:[4]},{sType:"string",sClass:"time-zone-column",mData:"timeZoneFormatted",bSortable:true,aTargets:[5]},{bSortable:false,sClass:"actions-column",mData:"id",mRender:w,bSearchable:false,aTargets:[6]}],aaData:[]})};k=h();return{getTriggerTableId:e,selectAll:f,unselectAll:n,getSelectedRows:l,getSelectedTriggers:d,addTrigger:b,deleteTrigger:m,getTriggers:c}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/scheduled-issue.js' */
TheScheduler.namespace("TheScheduler.Model.ScheduledIssue");TheScheduler.Model.ScheduledIssue=(function(){return function(h){var f=TheScheduler.namespace("TheScheduler.Model.ScheduledIssue");if(!(this instanceof f)){return new f()}var e=h;var k=function(){return e.id};var t=function(){return e};var m=function(){return e.name};var i=function(){return e.description};var n=function(){return e.summary};var l=function(){return e.disabled};var x=function(){return e.priorityName};var s=function(){return e.reporter};var r=function(){return e.reporterFullName};var w=function(){return e.assignee};var B=function(){return e.assigneeFullName};var A=function(){return e.createdBy};var b=function(){return e.createdByFullName};var q=function(){return e.createdAt};var j=function(){return e.createdAtFormatted};var z=function(){return e.modifiedBy};var o=function(){return e.modifiedByFullName};var p=function(){return e.modifiedAt};var g=function(){return e.modifiedAtFormatted};var c=function(){return e.prevFireTime};var v=function(){return e.prevFireTimeFormatted};var d=function(){return e.nextFireTime};var y=function(){return e.nextFireTimeFormatted};var u=function(){return e.fireCount};var a=function(){var D=[];var C=jQueryTS.ajax({type:"GET",url:AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue/"+k()+"/trigger",dataType:"json",async:false});C.done(function(H){if(H instanceof Array){for(var G=0;G<H.length;G++){var E=H[G];var F=new Trigger(E);D.push(F)}}});return D};this.getId=k;this.getScheduledIssueJSON=t;this.getName=m;this.getDescription=i;this.getSummary=n;this.isDisabled=l;this.getPriority=x;this.getReporter=s;this.getReporterFullName=r;this.getAssignee=w;this.getAssigneeFullName=B;this.getCreatedBy=A;this.getCreatedByFullName=b;this.getCreatedAt=q;this.getCreatedAtFormatted=j;this.getModifiedBy=z;this.getModifiedByFullName=o;this.getModifiedAt=p;this.getModifiedAtFormatted=g;this.getPrevFireTime=c;this.getPrevFireTimeFormatted=v;this.getNextFireTime=d;this.getNextFireTimeFormatted=y;this.getFireCount=u;this.getTriggers=a}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/scheduled-issue-table.js' */
TheScheduler.namespace("TheScheduler.View.ScheduledIssueTable");TheScheduler.View.ScheduledIssueTable=(function(){var e=TheScheduler.namespace("TheScheduler.Model.ScheduledIssue");var b=365;var d="tsp-hidden-scheduled-issues-message-closed";var c=1;var a={FILTER:"filter",DISPLAY:"display",TYPE:"type",SORT:"sort"};return function(q){var s=TheScheduler.namespace("TheScheduler.Utils.Notification");var x=TheScheduler.namespace("TheScheduler.View.ScheduledIssueTable");if(!(this instanceof x)){return new x(q)}var g=q;var W=null;var D=null;var l=[];var p=[];var P=[];var A=[];var J=function(){return g};var S=function(){return W};function ae(){var aj=jQueryTS("tr",W);aj.each(function(){ab(this)});af()}function af(){jQueryTS("input.select-all").prop("checked",true)}function ab(ak){ak=jQueryTS(ak);var aj=ak.find("input.select-one").val();var al=jQueryTS("input.select-one[value="+aj+"]");ak.addClass("selected");al.prop("checked",true);if(V().length===u()){af()}C()}function u(){var aj=W.api().page.info();return aj.end-aj.start}function aa(){var aj=jQueryTS("tr",W);aj.each(function(){T(this)});f()}function f(){jQueryTS("input.select-all").prop("checked",false)}function T(ak){ak=jQueryTS(ak);var aj=ak.find("input.select-one").val();var al=jQueryTS("input.select-one[value="+aj+"]");ak.removeClass("selected");al.prop("checked",false);f();C()}var V=function(){var aj=jQueryTS("tr",W);var al=jQueryTS("input.select-one:checked",aj);var ak=al.closest("tr");return ak.toArray()};var Z=function(){var am=[];var al=V();for(var ak=0;ak<al.length;ak++){var aj=W.fnGetData(al[ak]);am.push(aj)}return am};var I=function(){W.fnClearTable(true);return true};var m=function(){W.fnDraw();return true};var t=function(ak){var aj=W.fnSettings();aj._iDisplayLength=ak;W.fnDraw();return true};var B=function(aj,al){if(aj instanceof e){var ao=aj.getScheduledIssueJSON();G(ao.priorityName);M(ao.issueTypeName);F(ao.projectName);E(ao.state);var an=W.fnAddData(ao,false);var ak=an[0];var am=W.fnGetNodes(ak);if(al instanceof Function){al(ak,am)}if(ao.triggerPerformanceIssues==true&&ao.disabled!=true){H(true)}O();return true}return false};var ah=function(ak,ap){var am=null;if(ak instanceof e){am=ak.getId()}else{if(typeof ak==="number"){am=ak}}if(am!==null){var aj=W.fnGetData();for(var al=0;al<aj.length;al++){if(aj[al].id===am){if(ap instanceof Function){var an=al;var ao=W.fnGetNodes(an);ap(an,ao)}W.fnDeleteRow(al,null,false);O();return true}}}return false};var y=function(){return W.fnGetData()};var w=function(){var an=[];var ak=W.fnSettings();var aj=ak.aoColumns;for(var al=0;al<aj.length;al++){var am=aj[al].bVisible;if(am){an.push(al)}}return an};var L=function(aj,al){var ak=jQueryTS(g+" thead th input[data-column-index="+aj+"]");if(ak.length){ak.val("");h(aj)}W.fnSetColumnVis(aj,al);W.fnAdjustColumnSizing();W.width("100%");setTimeout(X)};var i=function(aj,ak){jQueryTS(g).DataTable().column(aj).visible(ak,false)};function X(){AJS.$("#tsp-schedules-issues-list-filter-priorities").empty();AJS.$("#tsp-schedules-issues-list-filter-issue-types").empty();AJS.$("#tsp-schedules-issues-list-filter-projects").empty();for(var al=0;al<l.length;al++){Q(l[al])}for(var ak=0;ak<p.length;ak++){v(p[ak])}for(var aj=0;aj<P.length;aj++){R(P[aj])}}var ag=function(ak){jQueryTS("#scheduled-issues-table-blanket").show();var aj=jQueryTS("input#projectId").val();var al;if(aj==""){al=AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue"}else{al=AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue?projectId="+aj}var am=jQueryTS.ajax({type:"GET",url:al,dataType:"json",async:true});am.done(function(an){scheduledIssues=an;W.fnClearTable(true);if(scheduledIssues.length>0){W.fnAddData(scheduledIssues,false);K()}else{n()}W.fnDraw(true);r();U(scheduledIssues);jQueryTS("#scheduled-issues-table-blanket").hide()});am.always(function(){W.fnSetColumnVis(1,false);W.fnAdjustColumnSizing();W.width("100%");W.fnSetColumnVis(1,true);W.fnAdjustColumnSizing();W.width("100%");if(typeof ak==="function"){ak()}})};function U(aj){for(var ak=0;ak<aj.length;ak++){G(aj[ak].priorityName);M(aj[ak].issueTypeName);F(aj[ak].projectName);E(aj[ak].state)}}function G(aj){aj=aj||"N/A";if(l.indexOf(aj)>-1){return}l.push(aj);Q(aj)}function Q(aj){AJS.$("#tsp-schedules-issues-list-filter-priorities").append(AJS.$("<option>").text(aj)).auiSelect2()}function M(aj){aj=aj||"N/A";if(p.indexOf(aj)>-1){return}p.push(aj);v(aj)}function v(aj){AJS.$("#tsp-schedules-issues-list-filter-issue-types").append(AJS.$("<option>").text(aj)).auiSelect2()}function F(aj){if(P.indexOf(aj)>-1){return}P.push(aj);R(aj)}function R(aj){AJS.$("#tsp-schedules-issues-list-filter-projects").append(AJS.$("<option>").text(aj)).auiSelect2()}function E(aj){if(A.indexOf(aj)>-1){return}A.push(aj);o(aj)}function o(aj){AJS.$("#tsp-schedules-issues-list-filter-states").append(AJS.$("<option>").text(aj)).auiSelect2()}function k(an,ap,ak){ak=ak||false;var am=!ak;var ao=V();for(var aj=0;aj<ao.length;aj++){T(ao[aj])}var al=D.api().column(an);if(al.search()!==ap){al.search(ap,ak,am).draw();O();ai(ao)}}function ai(ak){for(var aj=0;aj<ak.length;aj++){ab(ak[aj])}}function h(aj){k(aj,"")}function O(){var aj=W.api().page.info();var ak=AJS.format("Showing {0} to {1} of {2}",aj.start+c,aj.end,aj.recordsDisplay);jQueryTS("#tsp-scheduled-issues-list-visible-si-count").text(ak)}function C(){var aj=V().length;jQueryTS(".selected-si-action-button-badge").text(aj)}var ac=function(){jQueryTS.fn.dataTableExt.oStdClasses.sSortAsc="ascending";jQueryTS.fn.dataTableExt.oStdClasses.sSortDesc="descending";jQueryTS.fn.dataTableExt.oStdClasses.sSortable="sortable";var aj=jQueryTS("#manageAllScheduledJobs").val()=="true"?true:false;var aL=null;function aG(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.selectColumn({scheduledIssue:a0})}function ax(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.nameColumn({contextPath:AJS.contextPath(),scheduledIssue:a0,manageScheduledJobs:aj})}function aI(aZ,aY,a0){if(aY===a.FILTER){return aZ.state}return TheScheduler.Templates.ScheduledIssueTable.stateColumn({scheduledIssue:a0,contextPath:AJS.contextPath(),manageScheduledJobs:aj})}function aK(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.descriptionColumn({scheduledIssue:a0})}function ak(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.summaryColumn({scheduledIssue:a0})}function aV(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.triggersColumn({scheduledIssue:a0})}function aT(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.triggersExpressionsColumn({scheduledIssue:a0})}function av(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.actionsColumn({contextPath:AJS.contextPath(),scheduledIssue:a0,manageScheduledJobs:aj})}function an(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.projectColumn({scheduledIssue:a0})}function aB(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.issueTypeColumn({contextPath:AJS.contextPath(),scheduledIssue:a0})}function aM(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.priorityColumn({scheduledIssue:a0})}function aw(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.reporterColumn({contextPath:AJS.contextPath(),scheduledIssue:a0})}function aQ(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.assigneeColumn({contextPath:AJS.contextPath(),scheduledIssue:a0})}function aq(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.createdByColumn({contextPath:AJS.contextPath(),scheduledIssue:a0})}function al(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.createdAtColumn({scheduledIssue:a0})}function ao(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.modifiedByColumn({contextPath:AJS.contextPath(),scheduledIssue:a0})}function aU(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.modifiedAtColumn({scheduledIssue:a0})}function aD(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.prevFireTimeColumn({scheduledIssue:a0})}function aA(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.nextFireTimeColumn({scheduledIssue:a0})}function aW(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.fireCountColumn({scheduledIssue:a0})}function ar(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.linksColumn({scheduledIssue:a0})}function au(aZ,aY,a0){return TheScheduler.Templates.ScheduledIssueTable.sharedColumn({scheduledIssue:a0})}function am(){var aY=jQueryTS(this);var aZ=aY.is(":checked");if(aZ){ae()}else{aa()}}jQueryTS(g).on("click","input.select-all",am);function aE(){var aY=jQueryTS(this);var aZ=aY.closest("tr");if(aY.is(":checked")){ab(aZ)}else{T(aZ)}}jQueryTS(g).on("click","input.select-one",aE);function aF(aY){aY.preventDefault();aY.stopPropagation();var a1=jQueryTS(this);var a0=a1.attr("href");var aZ=jQueryTS.ajax({type:"POST",url:AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue/"+a0,contentType:"application/json; charset=UTF-8",dataType:"json",async:false,data:JSON.stringify({id:a0,disabled:false})});aZ.done(function(a4){var a2=W.fnGetData();for(var a3=0;a3<a2.length;a3++){if(a2[a3].id==a0){W.fnUpdate(a4,a3)}}r()});return false}jQueryTS("body").off("click","a.enable-link");jQueryTS("body").on("click","a.enable-link",aF);function at(aZ){aZ.preventDefault();aZ.stopPropagation();var aY=jQueryTS(this);var a1=aY.attr("href");var a0=jQueryTS.ajax({type:"POST",url:AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue/"+a1,contentType:"application/json; charset=UTF-8",dataType:"json",async:false,data:JSON.stringify({id:a1,disabled:true})});a0.done(function(a4){var a2=W.fnGetData();for(var a3=0;a3<a2.length;a3++){if(a2[a3].id==a1){W.fnUpdate(a4,a3)}}r()});return false}jQueryTS("body").off("click","a.disable-link");jQueryTS("body").on("click","a.disable-link",at);function aS(aY){aY.preventDefault();aY.stopPropagation();var aZ=jQueryTS(this);var a1=aZ.attr("href");var a0=jQueryTS.ajax({type:"GET",url:AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue/fire-history?scheduledIssueId="+a1,contentType:"application/json; charset=UTF-8",dataType:"json",async:false});a0.done(function(a4){var a2="id in (";for(var a3=0;a3<a4.length;a3++){a2+=a4[a3].issueId;if(a3<a4.length-1){a2+=","}}a2+=")";window.location.href=AJS.contextPath()+"/issues/?jql="+a2});return false}jQueryTS("body").off("click","a.created-issues");jQueryTS("body").on("click","a.created-issues",aS);function aJ(a0){a0.preventDefault();a0.stopPropagation();var aZ=jQueryTS(this);var a2=aZ.attr("href");var aY=aZ.attr("siname");var a3=TheScheduler.namespace("TheScheduler.View.FireConfirmationDialog");var a1=new a3(a2,aY,function(){az(aZ)});a1.show();return false}function az(aZ){var a1=aZ.attr("href");var aY=aZ.attr("siname");var a3=aZ.prev();a3.css("visibility","visible");var a2=aZ.closest("tr");var a0=jQueryTS.ajax({type:"POST",url:AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue/fire?scheduledIssueId="+a1,dataType:"json",async:true});a0.done(function(a7){var a6=a7.shift();var a5=D.fnGetData(a2);a5.fireCount++;D.fnUpdate(a5,a2);AJS.$(a2).find(".fire-link").tooltip({gravity:"e"});AJS.$(a2).find(".scheduler-tooltip-enabled").tooltip();if(a6.executedAction==="Increase priority"){s.showNotification("success","Increased priority!","Scheduled issue has increased priority successfully.","#scheduled-issues-table-messages")}else{if(a6.executedAction==="None"){s.showNotification("info","No Action!","Scheduled Issue has been executed without performing any action.","#scheduled-issues-table-messages")}else{var a4='<b><a href="'+AJS.contextPath()+"/browse/"+a6.issueKey+'">'+a6.issueKey+"</a></b>";s.showNotification("success","Issue created!",AJS.format("A new issue {0} has been created by The Scheduler.",a4),"#scheduled-issues-table-messages")}}});a0.fail(function(a7){var a6=a7.responseJSON;if(!(typeof a6==="undefined")&&!(typeof a6.errors==="undefined")&&!(typeof a6.errors.license==="undefined")){var a4=TheScheduler.namespace("TheScheduler.View.ErrorDialog");var a5=new a4("License Error","According to The Scheduler plugin license you have no longer possibility to perform this operation.");a5.show();return false}});a0.always(function(){a3.css("visibility","hidden")})}jQueryTS("body").off("click","a.fire-link");jQueryTS("body").on("click","a.fire-link",aJ);function aO(aZ){aZ.preventDefault();aZ.stopPropagation();var aY=jQueryTS(this);trElement=aY.closest("tr");var a1=D.fnGetData(trElement);var a2=TheScheduler.namespace("TheScheduler.View.ShowCalendarDatesDialog");var a0=new a2(a1.calendar.name,a1.calendar.calendarDates,a1.calendar.calendarType);a0.show()}jQueryTS("body").off("click","span.calendar-link");jQueryTS("body").on("click","span.calendar-link",aO);function aX(a0,aZ,aY){AJS.$(a0).find(".fire-link").tooltip({gravity:"e"});AJS.$(a0).find(".scheduler-tooltip-enabled").tooltip()}function aN(aY){if(aY.fnRecordsDisplay()==0){AJS.$("#scheduled-issues-table_paginate").hide()}else{AJS.$("#scheduled-issues-table_paginate").show()}}ap();aR();function ap(){jQueryTS.fn.dataTable.ext.search.push(aC)}function aC(a0,a2){if(a0.oPreviousSearch.sSearch===""){return true}var aY=jQueryTS.fn.DataTable.util.escapeRegex(a0.oPreviousSearch.sSearch);var a3=[];for(var aZ=0;aZ<a0.aoColumns.length;aZ++){if(a0.aoColumns[aZ].bVisible&&a0.aoColumns[aZ].bSearchable){a3.push(a2[aZ])}}var a1=new RegExp("^(?=.*?"+aY+").*$","i");return a1.test(a3.join(" "))}function aR(){AJS.$(g+" thead th:not(.select-column) input").each(function(){var aZ=AJS.$(this);var aY=parseInt(aZ.data("column-index"),10);aZ.on("keyup change",aP(aY))});AJS.$(g+" thead th select").each(function(){var aY=AJS.$(this);var aZ=parseInt(aY.data("column-index"),10);aY.on("change",function(a2){var a1="";if(a2.val.length>0){if(aY.data("not-exact-match")){a1="^"+a2.val.join("|^")}else{a1="^"+a2.val.join("$|^")+"$"}}var a0=true;k(aZ,a1,a0)})})}function aP(aY){return function(aZ){k(aY,aZ.target.value)}}function aH(){var aY=D.api().page.info();if(aL.page!==aY.page){aa()}aL=aY;O()}function ay(){D.api().columns().search("")}D=jQueryTS(g).dataTable({bSort:true,bSortClasses:false,bFilter:true,bInfo:true,bLengthChange:false,bPaginate:true,sPaginationType:"full_numbers",iDisplayLength:10,bAutoWidth:true,sDom:"tpi",bDeferRender:true,bStateSave:true,fnCreatedRow:aX,fnDrawCallback:aN,oLanguage:{sZeroRecords:"No matching records found",oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"}},orderCellsTop:true,bDestroy:true,aoColumnDefs:[{bSearchable:false,sClass:"select-column",mData:null,mRender:aG,bSortable:false,sWidth:"16px",aTargets:[0],type:"html"},{sClass:"name-column",mData:null,mRender:ax,bSortable:true,aTargets:[1],type:"html"},{sClass:"state-column",mData:null,mRender:aI,bSortable:true,aTargets:[2],type:"html"},{sClass:"description-column",mData:null,mRender:aK,bSortable:true,bVisible:false,aTargets:[3],type:"html"},{sClass:"summary-column",mData:null,mRender:ak,bSortable:true,bVisible:false,aTargets:[4],type:"html"},{sClass:"project-column",mData:null,mRender:an,bSortable:true,bVisible:false,aTargets:[5],type:"html"},{sClass:"issue-type-column",mData:null,mRender:aB,bSortable:true,aTargets:[6],type:"html"},{sClass:"priority-column",mData:null,mRender:aM,bSortable:true,bVisible:false,aTargets:[7],type:"html"},{sClass:"reporter-column",mData:null,mRender:aw,bSortable:true,bVisible:false,aTargets:[8],type:"html"},{sClass:"assignee-column",mData:null,mRender:aQ,bSortable:true,aTargets:[9],type:"html"},{sClass:"created-by-column",mData:null,mRender:aq,bSortable:true,aTargets:[10],type:"html"},{bSearchable:false,sClass:"created-at-column",mData:null,mRender:al,bSortable:true,bVisible:false,aTargets:[11],type:"html"},{sClass:"modified-by-column",mData:null,mRender:ao,bSortable:true,bVisible:false,aTargets:[12],type:"html"},{bSearchable:false,sClass:"modified-at-column",mData:null,mRender:aU,bSortable:true,bVisible:false,aTargets:[13],type:"html"},{bSearchable:false,sClass:"prev-fire-time-column",mData:null,mRender:aD,bSortable:true,bVisible:false,aTargets:[14],type:"html"},{bSearchable:false,sClass:"next-fire-time-column",mData:null,mRender:aA,bSortable:true,bVisible:false,aTargets:[15],type:"html"},{bSearchable:false,sClass:"fire-count-column",mData:null,mRender:aW,bSortable:true,bVisible:false,aTargets:[16],type:"html"},{bSearchable:false,sClass:"links-column",mData:null,mRender:ar,bSortable:false,bVisible:false,aTargets:[17],type:"html"},{sClass:"shared-column",mData:null,mRender:au,bSortable:false,bVisible:false,aTargets:[18],type:"html"},{bSearchable:false,sClass:"triggers-column",mData:null,mRender:aV,bSortable:false,aTargets:[19],type:"html"},{bSearchable:false,sClass:"triggers-expressions-column",mData:null,mRender:aT,bSortable:false,bVisible:false,aTargets:[20],type:"html"},{bSortable:false,sClass:"actions-column",mData:null,mRender:av,bSearchable:false,aTargets:[21],type:"html"}],aaData:[],order:[[1,"asc"]]});D.fnFilter("");D.on("page.dt",aH);aL=D.api().page.info();ay();return D};var H=function(aj){if(aj==true){AJS.$("#scheduled-issues-table-warning-message").show()}else{AJS.$("#scheduled-issues-table-warning-message").hide()}};var r=function(){H(false);AJS.$.each(W.fnGetData(),function(ak,aj){if(aj.triggerPerformanceIssues==true&&aj.disabled!=true){H(true);return false}})};var n=function(){jQueryTS("#tsp-table-with-bulk-buttons").hide();jQueryTS("#tsp-empty-table-message").show()};var K=function(){jQueryTS("#tsp-table-with-bulk-buttons").show();jQueryTS("#tsp-empty-table-message").hide()};W=ac();W.fnSetColumnVis(1,false);W.fnAdjustColumnSizing();W.width("100%");W.fnSetColumnVis(1,true);W.fnAdjustColumnSizing();W.width("100%");W.on("draw.dt",O);AJS.$(".errors-tooltip-enabled").tooltip({live:true,html:true,title:function(){var al=jQueryTS(this).attr("id").replace("errors-tooltip-","");var aj={};var ak=jQueryTS.ajax({type:"GET",url:AJS.contextPath()+"/rest/thescheduler/1.0/validations/scheduled-issue/"+al,dataType:"json",async:false});ak.done(function(am){aj=am});return TheScheduler.Templates.ScheduledIssueTable.errorsTooltip({validationResult:aj})}});AJS.$(".tooltip-performance").tooltip({live:true,html:true,title:function(){return TheScheduler.Templates.ScheduledIssueTable.warningsTooltip({message:"Trigger intervals in this Scheduled Item can lead to JIRA performance issues."})}});AJS.$(".tooltip-reporter").tooltip({live:true,html:true,title:function(){return TheScheduler.Templates.ScheduledIssueTable.warningsTooltip({message:"The reporter field is empty. Jira will set new issue as reported by creator."})}});function z(al){var ak=jQueryTS(this).parent();var aj=ak.parent();jQueryTS("li",aj).show();ak.hide();jQueryTS("li.collapse-triggers",aj).show();return false}jQueryTS(g).off("click","li.expand-triggers a",z);jQueryTS(g).on("click","li.expand-triggers a",z);function N(ak){var al=jQueryTS(this).parent();var aj=al.parent();jQueryTS("li",aj).each(function(am){if(am>=2){jQueryTS(this).hide()}});al.hide();jQueryTS("li.expand-triggers",aj).show();return false}jQueryTS(g).off("click","li.collapse-triggers a",N);jQueryTS(g).on("click","li.collapse-triggers a",N);if(ad()){Y()}function ad(){return jQueryTS.cookie(d)===undefined}function Y(){jQueryTS.ajax({type:"GET",url:AJS.contextPath()+"/rest/thescheduler/1.0/project/"+projectId.value+"/properties",dataType:"json",async:true}).done(function(aj){if(aj.hideInaccessibleSI===true){j()}})}function j(){var aj="scheduled-issues-table-messages-hidden-scheduled-issues-info";AJS.messages.info("#scheduled-issues-table-messages",{id:aj,body:"<div>"+"Currently you can see only those Scheduled Issues, which you have access to."+"<ul><li>"+"Project Administrators can manage visibility option in the Project settings, section: \"The Scheduler Settings\"."+"</li><li>"+"You can grant access to yours Scheduled Issues using \"Manage Access\" option."+"</li><li>"+"JIRA Administrators have access to all Scheduled Issues."+"</li></ul></div>",isCloseable:true});AJS.$("#"+aj).click(function(){jQueryTS.cookie(d,"true",{expires:b})})}AJS.$("#scheduled-issues-table-messages").append(TheScheduler.Templates.ScheduledIssueTable.performanceWarningMessage({}));AJS.$("#scheduled-issues-table_paginate").appendTo(AJS.$("#tsp-pagination"));return{getScheduledIssueTableId:J,getDataTable:S,selectAll:ae,unselectAll:aa,getSelectedRows:V,getSelectedScheduledIssues:Z,addScheduledIssue:B,deleteScheduledIssue:ah,getScheduledIssues:y,getVisibleColumnIds:w,setColumnVisible:L,setColumnVisibleWithoutRedraw:i,refresh:ag,redraw:m,displayLengthChange:t,clearAndRedraw:I,showEmptyTableInfo:n,hideEmptyTableInfo:K}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/si-subtask.js' */
TheScheduler.namespace("TheScheduler.Model.SISubtask");TheScheduler.Model.SISubtask=(function(){return function(d){var h=TheScheduler.namespace("TheScheduler.Model.SISubtask");if(!(this instanceof h)){return new h()}var j=d;var c=function(){return j.id};var i=function(){return j};var g=function(){return j.summary};var k=function(){return j.description};var e=function(){return j.priorityName};var m=function(){return j.reporter};var f=function(){return j.reporterFullName};var a=function(){return j.assignee};var b=function(){return j.assigneeFullName};var l=function(){return j.sequence};this.getId=c;this.getSISubtaskJSON=i;this.getSummary=g;this.getDescription=k;this.getPriority=e;this.getReporter=m;this.getReporterFullName=f;this.getAssignee=a;this.getAssigneeFullName=b;this.getSequence=l}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/si-subtask-table.js' */
TheScheduler.namespace("TheScheduler.View.SISubtaskTable");TheScheduler.View.SISubtaskTable=(function(){var a=TheScheduler.namespace("TheScheduler.Model.SISubtask");return function(b,o){var p=TheScheduler.namespace("TheScheduler.View.SISubtaskTable");var c=TheScheduler.namespace("TheScheduler.View.DeleteSubtaskDialog");if(!(this instanceof p)){return new p(b)}var j=b;var l=o;var d=null;var h=function(){return j};var n=function(){return l};var m=function(){return d};var k=function(){var q=jQueryTS.ajax({type:"GET",url:AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue-subtask?scheduledJobId="+l,dataType:"json",async:false});q.done(function(s){d.fnClearTable();for(var r=0;r<s.length;r++){var t=new a(s[r]);g(t,function(){})}d.fnDraw()})};var g=function(v,u){if(v instanceof a){var q=v.getSISubtaskJSON();var s=d.fnAddData(q,false);var r=s[0];var t=d.fnGetNodes(r);if(u instanceof Function){u(r,t)}return true}return false};var f=function(w,r){var q=null;if(w instanceof a){q=w.getId()}else{if(typeof w==="number"){q=w}}if(q!==null){var u=d.fnGetData();for(var t=0;t<u.length;t++){if(u[t].id===q){if(r instanceof Function){var s=t;var v=d.fnGetNodes(s);r(s,v)}d.fnDeleteRow(t,null,false);return true}}}return false};var e=function(){return d.fnGetData()};var i=function(){jQueryTS.fn.dataTableExt.oStdClasses.sSortAsc="ascending";jQueryTS.fn.dataTableExt.oStdClasses.sSortDesc="descending";jQueryTS.fn.dataTableExt.oStdClasses.sSortable="sortable";function w(B,A,C){return""}function t(B,A,C){return TheScheduler.Templates.SISubtaskTable.summaryColumn({subtask:C})}function s(B,A,C){return TheScheduler.Templates.SISubtaskTable.subtaskTypeColumn({contextPath:AJS.contextPath(),subtask:C})}function y(B,A,C){return TheScheduler.Templates.SISubtaskTable.priorityColumn({subtask:C})}function x(B,A,C){return TheScheduler.Templates.SISubtaskTable.assigneeColumn({contextPath:AJS.contextPath(),subtask:C})}function u(B,A,C){return TheScheduler.Templates.SISubtaskTable.actionsColumn({contextPath:AJS.contextPath(),subtask:C})}function z(B,A,C){return TheScheduler.Templates.SISubtaskTable.sequenceColumn({subtask:C})}function v(B){B.preventDefault();B.stopPropagation();var E=jQueryTS(this);var F=E.closest("tr");var D=F.prev();var A=E.attr("href");var C=jQueryTS.ajax({type:"POST",url:AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue-subtask/move-up/"+A,dataType:"json",async:true});C.done(function(G){jQueryTS.merge(F,D).fadeOut(500,function(){d.fnClearTable();for(var H=0;H<G.length;H++){var I=new a(G[H]);g(I,function(){})}d.fnDraw()})})}jQueryTS("#si-subtask-table").on("click","a.move-up-si-subtask-link",v);function q(B){B.preventDefault();B.stopPropagation();var D=jQueryTS(this);var F=D.closest("tr");var E=F.next();var A=D.attr("href");var C=jQueryTS.ajax({type:"POST",url:AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue-subtask/move-down/"+A,dataType:"json",async:true});C.done(function(G){jQueryTS.merge(F,E).fadeOut(500,function(){d.fnClearTable();for(var H=0;H<G.length;H++){var I=new a(G[H]);g(I,function(){})}d.fnDraw()})})}jQueryTS("#si-subtask-table").on("click","a.move-down-si-subtask-link",q);function r(A){A.preventDefault();A.stopPropagation();var D=jQueryTS(this).closest("tr");var C=d.fnGetData(D.get(0));var B=new c(C,function(){D.fadeOut(500,function(){var E=d.fnGetPosition(D.get(0));d.fnDeleteRow(E)})});B.show();return false}jQueryTS("#si-subtask-table").on("click","a.delete-si-subtask-link",r);return jQueryTS(j).dataTable({bFilter:false,bInfo:false,bLengthChange:false,bPaginate:false,bAutoWidth:true,sDom:"lrtip",bDestroy:true,oLanguage:{sEmptyTable:"There are no Sub-Tasks for this Scheduled Issue"},aaSorting:[[7,"asc"]],aoColumnDefs:[{sClass:"index-column",mRender:w,aTargets:[0],sortable:false},{sType:"string",sClass:"summary-column",mData:"summary",mRender:t,aTargets:[1],sortable:false},{sType:"string",sClass:"subtask-type-column",mData:"subtaskType",mRender:s,aTargets:[2],sortable:false},{sType:"string",sClass:"priority-column",mData:"priority",mRender:y,aTargets:[3],sortable:false},{sType:"string",sClass:"assignee-column",mData:"assignee",mRender:x,aTargets:[4],sortable:false},{sClass:"sequence-column",mRender:z,aTargets:[5],sortable:false},{sClass:"actions-column",mData:"actions",mRender:u,aTargets:[6],sortable:false},{sType:"numeric",mData:"sequence",bVisible:false,aTargets:[7]}],aaData:[],fnDrawCallback:function(B){if(B.bSorted){for(var A=0;A<B.aiDisplay.length;A++){jQueryTS("td.index-column",B.aoData[B.aiDisplay[A]].nTr).html((A+1)+".")}}}})};d=i();AJS.$(j).find(".errors-tooltip-enabled").tooltip({live:true,html:true,title:function(){var s=jQueryTS(this).attr("id").replace("errors-tooltip-","");var q={};var r=jQueryTS.ajax({type:"GET",url:AJS.contextPath()+"/rest/thescheduler/1.0/validations/scheduled-issue-subtask/"+s,dataType:"json",async:false});r.done(function(t){q=t});return TheScheduler.Templates.ScheduledIssueTable.errorsTooltip({validationResult:q})}});return{getSISubtaskTableId:h,getDataTable:m,refresh:k,addSISubtask:g,deleteSISubtask:f,getSISubtasks:e}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/configure-columns-inline-dialog.js' */
TheScheduler.namespace("TheScheduler.View.ConfigureColumnsInlineDialog");TheScheduler.View.ConfigureColumnsInlineDialog=(function(){var a=1;return function(e){var b=TheScheduler.namespace("TheScheduler.View.ConfigureColumnsInlineDialog");if(!(this instanceof b)){return new b(e)}var d=e;var c=a++;var g=null;var j=function(){return c};var i=function(){function m(n){var p=jQueryTS(this);var o=p.attr("id");var q=p.is(":checked");d.setColumnVisible(o,q)}function k(n){var o=[true,true,true,false,false,false,true,false,false,true,true,false,false,false,false,false,false,false,false,true,false,true];jQueryTS.each(o,function(p,r){var q=l.find(".checkbox#"+p);if(q.is(":checked")!==r){d.setColumnVisibleWithoutRedraw(p,r);q.prop("checked",r)}})}var l=AJS.InlineDialog("#configure-columns-trigger","configure-columns-inline-dialog-"+c,function(o,n,r){var p=TheScheduler.Templates.ConfigureColumnsInlineDialog.configureColumnsInlineDialog({});o.html(p);var q=d.getVisibleColumnIds();jQueryTS("input",o).each(function(){var s=jQueryTS(this);var t=parseInt(s.attr("id"));if(jQueryTS.inArray(t,q)>=0){s.prop("checked",true)}else{s.prop("checked",false)}});jQueryTS("input",o).off("click",m);jQueryTS("input",o).on("click",m);jQueryTS("button#refresh-columns-button").on("click",k);jQueryTS("#configure-columns-dialog-content",o).off("click",function(s){s.stopPropagation()});jQueryTS("#configure-columns-dialog-content",o).on("click",function(s){s.stopPropagation()});r();return false},{cacheContent:false});a++;return l};var h=function(){g.show()};var f=function(){g.hide()};g=i();return{getInlineDialogId:j,show:h,hide:f}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/delete-dialog.js' */
TheScheduler.namespace("TheScheduler.View.DeleteDialog");TheScheduler.View.DeleteDialog=(function(){return function(e,j){var f=TheScheduler.namespace("TheScheduler.View.DeleteDialog");if(!(this instanceof f)){return new f(e,j)}var g=e;var i=j;var k="#tsp-si-delete-dialog";var a=null;var b=function(){return k};var h=function(){a.show()};var d=function(){a.hide();AJS.dialog2(k).remove()};var c=function(){var m=TheScheduler.Templates.Dialogs.deletePanel({scheduledIssue:g});AJS.$("body").append(m);var l=AJS.dialog2(k);AJS.$("#tsp-si-delete-close-button").click(function(n){n.preventDefault();d()});AJS.$("#tsp-si-delete-button").click(function(o){var p=jQueryTS("#delete-scheduled-issue-progress",jQueryTS(k));p.hide();var n=jQueryTS.ajax({type:"DELETE",url:AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue/"+g.id,dataType:"json",async:true});n.done(function(r,s,q){if(q.status==204){i()}else{if(q.status==404){i()}}});n.always(function(q){d()})});return l};a=c();return{getDialogId:b,show:h,hide:d}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/delete-subtask-dialog.js' */
TheScheduler.namespace("TheScheduler.View.DeleteSubtaskDialog");TheScheduler.View.DeleteSubtaskDialog=(function(){return function(j,i){var a=TheScheduler.namespace("TheScheduler.View.DeleteSubtaskDialog");if(!(this instanceof a)){return new a(j,i)}var c=j;var h=i;var k="#tsp-delete-subtask-dialog";var b=null;var d=function(){return k};var g=function(){b.show()};var f=function(){b.hide();AJS.dialog2(k).remove()};var e=function(){var m=TheScheduler.Templates.Dialogs.deleteSubtask({scheduledIssueSubtask:c});AJS.$("body").append(m);var l=AJS.dialog2(k);AJS.$("#tsp-delete-subtask-close-button").click(function(n){n.preventDefault();f()});AJS.$("#tsp-delete-subtask-button").click(function(o){var p=jQueryTS("#delete-scheduled-issue-subtask-progress",jQueryTS(k));p.hide();var n=jQueryTS.ajax({type:"DELETE",url:AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue-subtask/"+c.id,dataType:"json",async:true});n.done(function(r,s,q){if(q.status==204){h()}else{if(q.status==404){h()}}});n.always(function(q){f()})});return l};b=e();return{getDialogId:d,show:g,hide:f}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/delete-selected-dialog.js' */
TheScheduler.namespace("TheScheduler.View.DeleteSelectedDialog");TheScheduler.View.DeleteSelectedDialog=(function(){return function(i,h){var b=TheScheduler.namespace("TheScheduler.View.DeleteSelectedDialog");if(!(this instanceof b)){return new b(i,h)}var c=i;var a=h;var k="#tsp-si-delete-selected-dialog";var g=null;var d=function(){return k};var j=function(){g.show()};var f=function(){g.hide();AJS.dialog2(k).remove()};var e=function(){var l=TheScheduler.Templates.Dialogs.deleteSelectedPanel({scheduledIssues:c});AJS.$("body").append(l);var m=AJS.dialog2(k);AJS.$("#tsp-si-delete-selected-close-button").click(function(n){n.preventDefault();f()});AJS.$("#tsp-si-delete-selected-button").click(function(r){var s=jQueryTS("#delete-selected-progress",jQueryTS("#delete-selected-dialog-"+k));s.show();var q=[];for(var n=0;n<c.length;n++){var p={};p.scheduledIssueId=c[n].id;var o=jQueryTS.ajax({type:"DELETE",url:AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue/"+c[n].id,dataType:"json",async:false});o.done(function(u,v,t){if(t.status===204){p.status="deleted"}else{if(t.status===404){p.status="not-found"}else{p.status="error"}}});o.fail(function(t){p.status="error"});o.always(function(t){});q.push(p)}a(q);s.hide();f()});return m};g=e();return{getDialogId:d,show:j,hide:f}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/clone-dialog.js' */
TheScheduler.namespace("TheScheduler.View.CloneDialog");TheScheduler.View.CloneDialog=(function(){return function(e,a){var g=TheScheduler.namespace("TheScheduler.View.CloneDialog");if(!(this instanceof g)){return new g(e,a)}var i=e;var c=a;var h=null;var k="#tsp-si-clone-dialog";var j=function(){h.show()};var d=function(){h.hide();AJS.dialog2(k).remove()};var f=function(){AJS.$.ajax(AJS.contextPath()+"/rest/thescheduler/1.0/project?userKey="+AJS.params.loggedInUser,{dataType:"json",}).done(function(l){var m=jQuery("#projectPicker");AJS.$.each(l,function(n,o){if(i.projectKey===o.key){m.append('<option value=" '+o.key+'" selected>'+o.name+"</option>")}else{m.append('<option value=" '+o.key+'">'+o.name+"</option>")}});m.select()})};var b=function(){var o=TheScheduler.Templates.Dialogs.clonePanel();AJS.$("body").append(o);var r=AJS.dialog2(k);var p=AJS.$(k);var l=AJS.$("#clone-progress");var t=AJS.$("#no-name-error-div");var q=AJS.$("#name-not-unique-error-div");var n=AJS.$("#license-is-not-valid");var m=AJS.$("input#clone-name-tf");var s=AJS.$("input#clone-description-tf");jQueryTS.ajax({type:"GET",url:AJS.contextPath()+"/rest/thescheduler/1.0/users/is-admin",dataType:"json",async:true,success:function(u){if(AJS.$("select#projectPicker").html()===null&&u===true){p.find("#tsp-si-clone-form").append('<div class="field-group"><label>Project</label><select id="projectPicker" name="projectPicker" data-container-class="project-ss" class="select project-field" autocomplete="off"></select></div-->');f()}},fail:function(){}});l.hide();m.val("Clone of "+i.name);s.val(i.description);t.hide();q.hide();n.hide();AJS.$("#tsp-si-clone-close-button").click(function(u){u.preventDefault();d()});AJS.$("#tsp-si-clone-button").click(function(x){x.preventDefault();var u=i.projectKey;var A=AJS.$("#projectPicker option:selected");if(typeof A.val()!="undefined"){u=A.val().trim()}l.show();t.hide();q.hide();n.hide();var z=jQueryTS("#clone-name-tf",p);var w=jQueryTS("#clone-description-tf",p);var v=AJS.$("#editAfterClone").is(":checked");if(z.val().trim()===""){t.show();l.hide()}else{var y={scheduledIssueId:i.id,cloneName:z.val().trim(),cloneDescription:w.val(),cloneProject:u,editAfterCloning:v};jQueryTS.ajax({type:"GET",url:AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue/clone",dataType:"json",data:y,async:true,success:function(B){d();c(B,y)},fail:function(){q.show();l.hide()},error:function(B,D,C){if(C=="Forbidden"){AJS.$("#license-is-not-valid").show()}else{q.show()}l.hide()}})}});r.show();return r};h=b();return{show:j,projectIssueField:f,hide:d}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/error-dialog.js' */
TheScheduler.namespace("TheScheduler.View.ErrorDialog");TheScheduler.View.ErrorDialog=(function(){return function(j,e){var i=TheScheduler.namespace("TheScheduler.View.ErrorDialog");if(!(this instanceof i)){return new i(j,e)}var g=j;var d=e;var k="#tsp-si-error-dialog";var f=null;var a=function(){return k};var h=function(){f.show()};var c=function(){f.hide();AJS.dialog2(k).remove()};var b=function(){var l=TheScheduler.Templates.Dialogs.errorPanel({errorTitle:g,errorMessage:d});AJS.$("body").append(l);var m=AJS.dialog2(k);AJS.$("#tsp-si-delete-close-button").click(function(n){n.preventDefault();c()});return m};f=b();return{getDialogId:a,show:h,hide:c}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/fire-confirmation-dialog.js' */
TheScheduler.namespace("TheScheduler.View.FireConfirmationDialog");TheScheduler.View.FireConfirmationDialog=(function(){return function(k,f,j){var g=TheScheduler.namespace("TheScheduler.View.FireConfirmationDialog");if(!(this instanceof g)){return new g(k,f,j)}var h=k;var d=f;var l=j;var m="#scheduler-fire-confirmation-dialog";var e="scheduler-fire-confirmation-checkbox-dont-show";var c=null;var b=null;var a=function(){return jQueryTS.cookie(e)=="true"};var i=function(){if(a()==true){l();return}var n=TheScheduler.Templates.Dialogs.fireConfirmationDialog({scheduledIssueId:h,scheduledIssueName:d});AJS.$("body").append(n);c=AJS.dialog2(m);AJS.$("#scheduler-fire-confirmation-dialog-submit-button").click(function(o){if(AJS.$("#scheduler-fire-confirmation-dialog-checkbox").prop("checked")==true){jQueryTS.cookie(e,"true")}l();c.hide()});AJS.$("#scheduler-fire-confirmation-dialog-close-button").click(function(o){c.hide()});c.show()};return{show:i,canShow:a}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/fire-selected-confirmation-dialog.js' */
TheScheduler.namespace("TheScheduler.View.FireSelectedConfirmationDialog");TheScheduler.View.FireSelectedConfirmationDialog=(function(){return function(g,i){var d=TheScheduler.namespace("TheScheduler.View.FireSelectedConfirmationDialog");if(!(this instanceof d)){return new d(g,i)}var e=g;var j=i;var k="#scheduler-fire-selected-confirmation-dialog";var f="scheduler-fire-confirmation-checkbox-dont-show";var c=null;var b=null;var a=function(){return jQueryTS.cookie(f)=="true"};var h=function(){if(a()==true){j();return}var l=TheScheduler.Templates.Dialogs.fireSelectedConfirmationDialog({selectedSICount:e,});AJS.$("body").append(l);c=AJS.dialog2(k);AJS.$("#scheduler-fire-selected-confirmation-dialog-submit-button").click(function(m){if(AJS.$("#scheduler-fire-selected-confirmation-dialog-checkbox").prop("checked")==true){jQueryTS.cookie(f,"true")}j();c.hide()});AJS.$("#scheduler-fire-selected-confirmation-dialog-close-button").click(function(m){c.hide()});c.show()};return{show:h,canShow:a}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/show-future-fires-dialog.js' */
TheScheduler.namespace("TheScheduler.View.ShowFutureFiresDialog");TheScheduler.View.ShowFutureFiresDialog=(function(){return function(p,k,u,d){var x=TheScheduler.namespace("TheScheduler.View.ShowFutureFiresDialog");if(!(this instanceof x)){return new x(p,k,u,d)}var o=p;var j=k;var l=u;var g=d;var s="#tsp-si-show-future-fires-dialog";var a="#future-fires-table";var v=null;var q=null;var r=function(){return s};var t=function(){v.show()};var i=function(){q.fnDestroy()};var b=function(){var y=TheScheduler.Templates.Dialogs.showFutureFiresPanel({scheduledIssueName:j,projectName:g});AJS.$("body").append(y);var z=AJS.dialog2(s);AJS.$("#tsp-si-show-future-fires-close-button").click(function(A){z.hide()});AJS.dialog2("#tsp-si-show-future-fires-dialog").on("hide",function(A){i()});AJS.$("#future-fires-filter-input").bind("input",AJS.$.debounce(250,function(){h(AJS.$(this).val())}));AJS.$("#future-fires-limit").change(f);return z};var h=function(y){q.fnFilter(y)};var f=function(z){AJS.$("#future-fires-loading").show();AJS.$("#future-fires-limit").attr("disabled","");var y=AJS.$("#future-fires-limit").val();var A=AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue/"+o+"/fire-times?limit="+y;if(o===null){if(l===null){A=AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue/fire-times?limit="+y}else{A=AJS.contextPath()+"/rest/thescheduler/1.0/scheduled-issue/fire-times?projectId="+l+"&limit="+y}}var B=jQueryTS.ajax({type:"GET",url:A,dataType:"json",async:true});B.done(function(C){q.fnClearTable(true);if(AJS.$.isArray(C)&&C.length>0){q.fnAddData(C,true)}});B.always(function(){if(typeof z==="function"){z()}AJS.$("#future-fires-loading").hide();AJS.$("#future-fires-limit").removeAttr("disabled")})};function w(z,y,A){return TheScheduler.Templates.Dialogs.executedActionColumn({createdIssue:A})}function m(z,y,A){return TheScheduler.Templates.Dialogs.renderScheduledIssueNameColumn({createdIssue:A,contextPath:AJS.contextPath()})}function c(z,y,A){return TheScheduler.Templates.Dialogs.projectColumn({createdIssue:A,contextPath:AJS.contextPath()})}function e(y){if(y.fnRecordsDisplay()==0){AJS.$("#future-fires-table_paginate").hide()}else{AJS.$("#future-fires-table_paginate").show()}}var n=function(){return jQueryTS(a).dataTable({bSort:false,bFilter:true,bInfo:false,bLengthChange:false,bPaginate:true,sPaginationType:"full_numbers",bAutoWidth:true,sDom:"lrtip",bDeferRender:true,bDestroy:true,fnDrawCallback:e,aoColumnDefs:[{sType:"string",sClass:"execution-time-column",mData:"executionTimeString",bSortable:false,aTargets:[0]},{sType:"string",sClass:"scheduled-issue-name-column",mRender:m,bSortable:false,aTargets:[1]},{sType:"string",sClass:"scheduled-issue-project-column",mRender:c,bSortable:false,aTargets:[2],visible:!l},{sType:"string",sClass:"action-column",mRender:w,bSortable:false,aTargets:[3]},],aaData:[],oLanguage:{sEmptyTable:"There are no upcoming Scheduled Issue executions.",sZeroRecords:"No matching records found",oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"}},})};v=b();q=n();f();return{getDialogId:r,show:t,hide:i}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/show-created-issues-dialog.js' */
TheScheduler.namespace("TheScheduler.View.ShowCreatedIssuesDialog");TheScheduler.View.ShowCreatedIssuesDialog=(function(){return function(w,p,D,d){var o=TheScheduler.namespace("TheScheduler.View.ShowCreatedIssuesDialog");if(!(this instanceof o)){return new o(w,p,D,d)}var v=w;var n=p;var r=D;var i=d;var B="#tsp-si-show-created-issues-dialog";var a="#created-issues-table";var E=null;var y=null;var h=null;var A=10;var z=function(){return B};var C=function(){E.show()};var m=function(){y.fnDestroy()};var b=function(){var I=TheScheduler.Templates.Dialogs.showCreatedIssuesPanel({scheduledIssueName:n,projectName:i});AJS.$("body").append(I);var H=AJS.dialog2(B);AJS.$("#tsp-si-show-created-issues-close-button").click(function(J){H.hide()});AJS.dialog2("#tsp-si-show-created-issues-dialog").on("hide",function(J){m()});AJS.$("#created-issues-filter-input").bind("input",AJS.$.debounce(250,function(){l(AJS.$(this).val())}));AJS.$("#created-issues-limit").change(g);AJS.$(".created-issues-dialog-tooltip-enabled").tooltip();return H};var l=function(H){y.fnFilter(H)};function q(){var H="/rest/thescheduler/1.0/scheduled-issue/created-issues?scheduledIssueId="+v+"&limit="+A;if(v===null){if(r===null){H="/rest/thescheduler/1.0/project/created-issues?limit="+A}else{H="/rest/thescheduler/1.0/project/created-issues?projectId="+r+"&limit="+A}}return H}function g(){A=parseInt(AJS.$("#created-issues-limit").val(),10);f()}var f=function(H){AJS.$("#created-issues-loading").show();AJS.$("#created-issues-limit").attr("disabled","");AJS.$("#performance-warning-message").remove();var I=jQueryTS.ajax({type:"GET",url:AJS.contextPath()+q(),dataType:"json",async:true});I.done(function(J){y.fnClearTable(true);if(AJS.$.isArray(J)&&J.length>0){y.fnAddData(J,true)}});I.always(function(){if(typeof H==="function"){H()}AJS.$("#created-issues-loading").hide();AJS.$("#created-issues-limit").removeAttr("disabled")})};function k(I,H,J){return TheScheduler.Templates.Dialogs.projectColumn({createdIssue:J,contextPath:AJS.contextPath()})}function s(I,H,J){return TheScheduler.Templates.Dialogs.issueKeyColumn({createdIssue:J,contextPath:AJS.contextPath(),issueSortableName:J.issueKey})}function j(I,H,J){return TheScheduler.Templates.Dialogs.scheduledJobColumn({createdIssue:J,contextPath:AJS.contextPath()})}function F(I,H,J){return TheScheduler.Templates.Dialogs.executedActionColumn({createdIssue:J})}function t(I,H,J){return TheScheduler.Templates.Dialogs.executedStatusColumn({createdIssue:J})}function c(I,H,J){return TheScheduler.Templates.Dialogs.creationTimeColumn({createdIssue:J})}function G(I,H,J){return TheScheduler.Templates.Dialogs.createdByColumn({createdIssue:J})}function x(H,I){var J="0000000000"+H;return J.substr(J.length-I)}function e(H){if(H.fnRecordsDisplay()==0){AJS.$("#created-issues-table_paginate").hide()}else{AJS.$("#created-issues-table_paginate").show()}}var u=function(){return jQueryTS(a).dataTable({bSort:true,bSortClasses:false,bFilter:true,bInfo:false,bLengthChange:false,bPaginate:true,sPaginationType:"full_numbers",bAutoWidth:true,sDom:"lrtip",aaSorting:[[0,"desc"]],bDeferRender:true,bDestroy:true,fnDrawCallback:e,aoColumnDefs:[{sType:"string",sClass:"execution-time-column",mRender:c,aTargets:[0]},{sType:"string",sClass:"scheduled-job-column",mRender:j,aTargets:[1]},{sType:"string",sClass:"project-column",mRender:k,aTargets:[2],visible:!r},{sType:"string",sClass:"fired-by-column",mRender:G,aTargets:[3]},{sType:"string",sClass:"executed-action-column",mRender:F,aTargets:[4]},{sType:"string",sClass:"executed-status-column",mRender:t,aTargets:[5]},{sType:"string",sClass:"issue-column",mRender:s,aTargets:[6]}],aaData:[],oLanguage:{sEmptyTable:"Cannot find any created issues for selected project.",sZeroRecords:"No matching records found",oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"}},})};E=b();y=u();f();return{getDialogId:z,show:C,hide:m}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/show-calendar-dates-dialog.js' */
TheScheduler.namespace("TheScheduler.View.ShowCalendarDatesDialog");TheScheduler.View.ShowCalendarDatesDialog=(function(){return function(a,h,j){var g=TheScheduler.namespace("TheScheduler.View.ShowCalendarDatesDialog");if(!(this instanceof g)){return new g(a,h,j)}var q=a;var n=h;var i=j;var p="#tsp-show-calendar-dates-dialog";var c="#tsp-show-calendar-dates-dialog-table";var k="#tsp-show-calendar-dates-dialog-table_paginate";var b=null;var o=null;var e=function(){return p};var m=function(){b.show()};var f=function(){var r=TheScheduler.Templates.Dialogs.showCalendarDatesDialog({calendarName:q,calendarType:i});AJS.$("body").append(r);var s=AJS.dialog2(p);AJS.$("#tsp-show-calendar-dates-dialog-close-button").click(function(t){s.hide()});return s};function l(r){if(r.fnRecordsDisplay()==0){AJS.$(k).hide()}else{AJS.$(k).show()}}var d=function(){return jQueryTS(c).dataTable({bSort:true,bFilter:false,bInfo:false,bLengthChange:false,bPaginate:true,sPaginationType:"full_numbers",bAutoWidth:true,sDom:"lrtip",bDestroy:true,fnDrawCallback:l,aoColumnDefs:[{sType:"string",sClass:"date-description-column",mData:"description",bSortable:true,aTargets:[0]},{sType:"data",sClass:"date-date-column",mData:"date",bSortable:true,aTargets:[1]}],aaData:n,oLanguage:{sEmptyTable:"There are no calendar dates in this Calendar.",oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"}},})};b=f();o=d();return{getDialogId:e,show:m}}})();;
;
/* module-key = 'pl.com.tt.jira.plugin.theschedulerpro:resources-6.0.0', location = 'js/utils/notification.js' */
TheScheduler.namespace("TheScheduler.Utils.Notification");TheScheduler.Utils.Notification=(function(){var a=function(d,e,b,c){c=c||"#aui-message-bar";if(!AJS.$(c).length){throw new Error("Cannot find element with selector: "+c)}if(AJS.flag===undefined){if(d=="info"){AJS.messages.info(c,{title:e,body:b,fadeout:true})}else{if(d=="success"){AJS.messages.success(c,{title:e,body:b,fadeout:true})}else{if(d=="error"){AJS.messages.error(c,{title:e,body:b,fadeout:true})}}}}else{if(d=="info"){AJS.flag({type:"info",title:e,body:b,close:"auto"})}else{if(d=="success"){AJS.flag({type:"success",title:e,body:b,close:"auto"})}else{if(d=="error"){AJS.flag({type:"error",title:e,body:b,close:"auto"})}}}}};return{showNotification:a}})();;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_2', location = '2.69c5fb14081307bd3ac9.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[2],{66:function(n,s){n.exports=function(n){return"string"!=typeof n?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),/["'() \t\n]/.test(n)?'"'+n.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':n)}}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_vendors~atl.general~customerportal~jira.admin~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.~a0881cbc', location = 'vendors~atl.general~customerportal~jira.admin~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.~a0881cbc.1224f2469b14a4d9316f.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[62],{665:function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},8:function(t,e,n){var r,o,i={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),a=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),f=null,u=0,c=[],l=n(665);function p(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(y(r.parts[s],e))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(y(r.parts[s],e));i[r.id]={id:r.id,refs:1,parts:a}}}}function d(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],s=e.base?i[0]+e.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function h(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function b(t){var e=document.createElement("style");return t.attrs.type="text/css",m(e,t.attrs),h(t,e),e}function m(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function y(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var s=u++;n=f||(f=b(e)),r=U.bind(null,n,s,!1),o=U.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",m(e,t.attrs),h(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=l(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),o=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return p(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var s=n[o];(a=i[s.id]).refs--,r.push(a)}t&&p(d(t,e),e);for(o=0;o<r.length;o++){var a;if(0===(a=r[o]).refs){for(var f=0;f<a.parts.length;f++)a.parts[f]();delete i[a.id]}}}};var g,w=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function U(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,o);else{var i=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}},9:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_10', location = '10.f1545b9b89d88c8c05cf.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[10],{13:function(e,t,r){var n,o,i;
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(s,a){"use strict";"object"==typeof e&&e.exports?e.exports=a(r(232),r(231),r(230)):(o=[r(232),r(231),r(230)],void 0===(i="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=i))}(0,function(e,t,r,n){"use strict";var o=n&&n.URI;function i(e,t){var r=arguments.length>=1,n=arguments.length>=2;if(!(this instanceof i))return r?n?new i(e,t):new i(e):new i;if(void 0===e){if(r)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&r)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}i.version="1.19.1";var s=i.prototype,a=Object.prototype.hasOwnProperty;function u(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function c(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function h(e){return"Array"===c(e)}function p(e,t){var r,n,o={};if("RegExp"===c(t))o=null;else if(h(t))for(r=0,n=t.length;r<n;r++)o[t[r]]=!0;else o[t]=!0;for(r=0,n=e.length;r<n;r++){(o&&void 0!==o[e[r]]||!o&&t.test(e[r]))&&(e.splice(r,1),n--,r--)}return e}function l(e,t){var r,n;if(h(t)){for(r=0,n=t.length;r<n;r++)if(!l(e,t[r]))return!1;return!0}var o=c(t);for(r=0,n=e.length;r<n;r++)if("RegExp"===o){if("string"==typeof e[r]&&e[r].match(t))return!0}else if(e[r]===t)return!0;return!1}function d(e,t){if(!h(e)||!h(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function g(e){return e.replace(/^\/+|\/+$/g,"")}function m(e){return escape(e)}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,m).replace(/\*/g,"%2A")}i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:i.preventInvalidHostname,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.preventInvalidHostname=!1,i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\._-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.hostProtocols=["http","https"],i.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return i.domAttributes[t]}},i.encode=f,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=f,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},i.encodeQuery=function(e,t){var r=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?r.replace(/%20/g,"+"):r},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var v,y={encode:"encode",decode:"decode"},b=function(e,t){return function(r){try{return i[t](r+"").replace(i.characters[e][t].expression,function(r){return i.characters[e][t].map[r]})}catch(e){return r}}};for(v in y)i[v+"PathSegment"]=b("pathname",y[v]),i[v+"UrnPathSegment"]=b("urnpath",y[v]);var _=function(e,t,r){return function(n){var o;o=r?function(e){return i[t](i[r](e))}:i[t];for(var s=(n+"").split(e),a=0,u=s.length;a<u;a++)s[a]=o(s[a]);return s.join(e)}};function w(e){return function(t,r){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!r),this)}}function k(e,t){return function(r,n){return void 0===r?this._parts[e]||"":(null!==r&&(r+="").charAt(0)===t&&(r=r.substring(1)),this._parts[e]=r,this.build(!n),this)}}i.decodePath=_("/","decodePathSegment"),i.decodeUrnPath=_(":","decodeUrnPathSegment"),i.recodePath=_("/","encodePathSegment","decode"),i.recodeUrnPath=_(":","encodeUrnPathSegment","decode"),i.encodeReserved=b("reserved","encode"),i.parse=function(e,t){var r;return t||(t={preventInvalidHostname:i.preventInvalidHostname}),(r=e.indexOf("#"))>-1&&(t.fragment=e.substring(r+1)||null,e=e.substring(0,r)),(r=e.indexOf("?"))>-1&&(t.query=e.substring(r+1)||null,e=e.substring(0,r)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(r=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,r)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"//"===e.substring(r+1,r+3)?(e=e.substring(r+3),e=i.parseAuthority(e,t)):(e=e.substring(r+1),t.urn=!0)),t.path=e,t},i.parseHost=function(e,t){e||(e="");var r,n,o=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===o&&(o=e.length),"["===e.charAt(0))r=e.indexOf("]"),t.hostname=e.substring(1,r)||null,t.port=e.substring(r+2,o)||null,"/"===t.port&&(t.port=null);else{var s=e.indexOf(":"),a=e.indexOf("/"),u=e.indexOf(":",s+1);-1!==u&&(-1===a||u<a)?(t.hostname=e.substring(0,o)||null,t.port=null):(n=e.substring(0,o).split(":"),t.hostname=n[0]||null,t.port=n[1]||null)}return t.hostname&&"/"!==e.substring(o).charAt(0)&&(o++,e="/"+e),t.preventInvalidHostname&&i.ensureValidHostname(t.hostname,t.protocol),t.port&&i.ensureValidPort(t.port),e.substring(o)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var r,n=e.indexOf("/"),o=e.lastIndexOf("@",n>-1?n:e.length-1);return o>-1&&(-1===n||o<n)?(r=e.substring(0,o).split(":"),t.username=r[0]?i.decode(r[0]):null,r.shift(),t.password=r[0]?i.decode(r.join(":")):null,e=e.substring(o+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var r,n,o,s={},u=e.split("&"),c=u.length,h=0;h<c;h++)r=u[h].split("="),n=i.decodeQuery(r.shift(),t),o=r.length?i.decodeQuery(r.join("="),t):null,a.call(s,n)?("string"!=typeof s[n]&&null!==s[n]||(s[n]=[s[n]]),s[n].push(o)):s[n]=o;return s},i.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(i.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username)),e.password&&(t+=":"+i.encode(e.password)),t&&(t+="@"),t},i.buildQuery=function(e,t,r){var n,o,s,u,c="";for(o in e)if(a.call(e,o)&&o)if(h(e[o]))for(n={},s=0,u=e[o].length;s<u;s++)void 0!==e[o][s]&&void 0===n[e[o][s]+""]&&(c+="&"+i.buildQueryParameter(o,e[o][s],r),!0!==t&&(n[e[o][s]+""]=!0));else void 0!==e[o]&&(c+="&"+i.buildQueryParameter(o,e[o],r));return c.substring(1)},i.buildQueryParameter=function(e,t,r){return i.encodeQuery(e,r)+(null!==t?"="+i.encodeQuery(t,r):"")},i.addQuery=function(e,t,r){if("object"==typeof t)for(var n in t)a.call(t,n)&&i.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=r);"string"==typeof e[t]&&(e[t]=[e[t]]),h(r)||(r=[r]),e[t]=(e[t]||[]).concat(r)}},i.setQuery=function(e,t,r){if("object"==typeof t)for(var n in t)a.call(t,n)&&i.setQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===r?null:r}},i.removeQuery=function(e,t,r){var n,o,s;if(h(t))for(n=0,o=t.length;n<o;n++)e[t[n]]=void 0;else if("RegExp"===c(t))for(s in e)t.test(s)&&(e[s]=void 0);else if("object"==typeof t)for(s in t)a.call(t,s)&&i.removeQuery(e,s,t[s]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==r?"RegExp"===c(r)?!h(e[t])&&r.test(e[t])?e[t]=void 0:e[t]=p(e[t],r):e[t]!==String(r)||h(r)&&1!==r.length?h(e[t])&&(e[t]=p(e[t],r)):e[t]=void 0:e[t]=void 0}},i.hasQuery=function(e,t,r,n){switch(c(t)){case"String":break;case"RegExp":for(var o in e)if(a.call(e,o)&&t.test(o)&&(void 0===r||i.hasQuery(e,o,r)))return!0;return!1;case"Object":for(var s in t)if(a.call(t,s)&&!i.hasQuery(e,s,t[s]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(c(r)){case"Undefined":return t in e;case"Boolean":return r===Boolean(h(e[t])?e[t].length:e[t]);case"Function":return!!r(e[t],t,e);case"Array":return!!h(e[t])&&(n?l:d)(e[t],r);case"RegExp":return h(e[t])?!!n&&l(e[t],r):Boolean(e[t]&&e[t].match(r));case"Number":r=String(r);case"String":return h(e[t])?!!n&&l(e[t],r):e[t]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.joinPaths=function(){for(var e=[],t=[],r=0,n=0;n<arguments.length;n++){var o=new i(arguments[n]);e.push(o);for(var s=o.segment(),a=0;a<s.length;a++)"string"==typeof s[a]&&t.push(s[a]),s[a]&&r++}if(!t.length||!r)return new i("");var u=new i("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||u.path("/"+u.path()),u.normalize()},i.commonPath=function(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r)){r--;break}return r<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(r)&&"/"===t.charAt(r)||(r=e.substring(0,r).lastIndexOf("/")),e.substring(0,r+1))},i.withinString=function(e,t,r){r||(r={});var n=r.start||i.findUri.start,o=r.end||i.findUri.end,s=r.trim||i.findUri.trim,a=r.parens||i.findUri.parens,u=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var c=n.exec(e);if(!c)break;var h=c.index;if(r.ignoreHtml){var p=e.slice(Math.max(h-3,0),h);if(p&&u.test(p))continue}for(var l=h+e.slice(h).search(o),d=e.slice(h,l),g=-1;;){var m=a.exec(d);if(!m)break;var f=m.index+m[0].length;g=Math.max(g,f)}if(!((d=g>-1?d.slice(0,g)+d.slice(g).replace(s,""):d.replace(s,"")).length<=c[0].length||r.ignore&&r.ignore.test(d))){var v=t(d,h,l=h+d.length,e);void 0!==v?(v=String(v),e=e.slice(0,h)+v+e.slice(l),n.lastIndex=h+v.length):n.lastIndex=l}}return n.lastIndex=0,e},i.ensureValidHostname=function(t,r){var n=!!t,o=!1;if(!!r&&(o=l(i.hostProtocols,r)),o&&!n)throw new TypeError("Hostname cannot be empty, if protocol is "+r);if(t&&t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},i.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(t.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(t.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=n.SecondLevelDomains.noConflict()),t}return n.URI===this&&(n.URI=o),this},s.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},s.clone=function(){return new i(this)},s.valueOf=s.toString=function(){return this.build(!1)._string},s.protocol=w("protocol"),s.username=w("username"),s.password=w("password"),s.hostname=w("hostname"),s.port=w("port"),s.query=k("query","?"),s.fragment=k("fragment","#"),s.search=function(e,t){var r=this.query(e,t);return"string"==typeof r&&r.length?"?"+r:r},s.hash=function(e,t){var r=this.fragment(e,t);return"string"==typeof r&&r.length?"#"+r:r},s.pathname=function(e,t){if(void 0===e||!0===e){var r=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?i.decodeUrnPath:i.decodePath)(r):r}return this._parts.urn?this._parts.path=e?i.recodeUrnPath(e):"":this._parts.path=e?i.recodePath(e):"/",this.build(!t),this},s.path=s.pathname,s.href=function(e,t){var r;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var n=e instanceof i,o="object"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[i.getDomAttribute(e)]||"",o=!1);if(!n&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!n&&!o)throw new TypeError("invalid input");var s=n?e._parts:e;for(r in s)"query"!==r&&a.call(this._parts,r)&&(this._parts[r]=s[r]);s.query&&this.query(s.query,!1)}return this.build(!t),this},s.is=function(e){var t=!1,n=!1,o=!1,s=!1,a=!1,u=!1,c=!1,h=!this._parts.urn;switch(this._parts.hostname&&(h=!1,n=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),a=(s=!(t=n||o))&&r&&r.has(this._parts.hostname),u=s&&i.idn_expression.test(this._parts.hostname),c=s&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return h;case"absolute":return!h;case"domain":case"name":return s;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return o;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var z=s.protocol,x=s.port,Q=s.hostname;s.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(i.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return z.call(this,e,t)},s.scheme=s.protocol,s.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),i.ensureValidPort(e))),x.call(this,e,t))},s.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var r={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==i.parseHost(e,r))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=r.hostname,this._parts.preventInvalidHostname&&i.ensureValidHostname(e,this._parts.protocol)}return Q.call(this,e,t)},s.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var r=this.protocol();return this.authority()?(r?r+"://":"")+this.authority():""}var n=i(e);return this.protocol(n.protocol()).authority(n.authority()).build(!t),this},s.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildHost(this._parts):"";if("/"!==i.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},s.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildAuthority(this._parts):"";if("/"!==i.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},s.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var r=i.buildUserinfo(this._parts);return r?r.substring(0,r.length-1):r}return"@"!==e[e.length-1]&&(e+="@"),i.parseUserinfo(e,this._parts),this.build(!t),this},s.resource=function(e,t){var r;return void 0===e?this.path()+this.search()+this.hash():(r=i.parse(e),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!t),this)},s.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var n=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,n),s=new RegExp("^"+u(o));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&i.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},s.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(t).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(i.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(u(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},s.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),o=this._parts.hostname.substring(n+1);return!0!==t&&r&&r.list[o.toLowerCase()]&&r.get(this._parts.hostname)||o}var i;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');i=new RegExp(u(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");i=new RegExp(u(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},s.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return e?i.decodePath(n):n}var o=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,o),a=new RegExp("^"+u(s));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(a,e),this.build(!t),this},s.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(r+1);return e?i.decodePathSegment(n):n}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var s=new RegExp(u(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e),o?this.normalizePath(t):this.build(!t),this},s.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var r,n,o=this.filename(),s=o.lastIndexOf(".");return-1===s?"":(r=o.substring(s+1),n=/^[a-z0-9%]+$/i.test(r)?r:"",e?i.decodePathSegment(n):n)}"."===e.charAt(0)&&(e=e.substring(1));var a,c=this.suffix();if(c)a=e?new RegExp(u(c)+"$"):new RegExp(u("."+c)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return a&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(a,e)),this.build(!t),this},s.segment=function(e,t,r){var n=this._parts.urn?":":"/",o=this.path(),i="/"===o.substring(0,1),s=o.split(n);if(void 0!==e&&"number"!=typeof e&&(r=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(i&&s.shift(),e<0&&(e=Math.max(s.length+e,0)),void 0===t)return void 0===e?s:s[e];if(null===e||void 0===s[e])if(h(t)){s=[];for(var a=0,u=t.length;a<u;a++)(t[a].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(g(t[a])))}else(t||"string"==typeof t)&&(t=g(t),""===s[s.length-1]?s[s.length-1]=t:s.push(t));else t?s[e]=g(t):s.splice(e,1);return i&&s.unshift(""),this.path(s.join(n),r)},s.segmentCoded=function(e,t,r){var n,o,s;if("number"!=typeof e&&(r=t,t=e,e=void 0),void 0===t){if(h(n=this.segment(e,t,r)))for(o=0,s=n.length;o<s;o++)n[o]=i.decode(n[o]);else n=void 0!==n?i.decode(n):void 0;return n}if(h(t))for(o=0,s=t.length;o<s;o++)t[o]=i.encode(t[o]);else t="string"==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,r)};var A=s.query;return s.query=function(e,t){if(!0===e)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,r);return this._parts.query=i.buildQuery(n||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):A.call(this,e,t)},s.setQuery=function(e,t,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)n[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)a.call(e,o)&&(n[o]=e[o])}return this._parts.query=i.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},s.addQuery=function(e,t,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(n,e,void 0===t?null:t),this._parts.query=i.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},s.removeQuery=function(e,t,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(n,e,t),this._parts.query=i.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},s.hasQuery=function(e,t,r){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(n,e,t,r)},s.setSearch=s.setQuery,s.addSearch=s.addQuery,s.removeSearch=s.removeQuery,s.hasSearch=s.hasQuery,s.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},s.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},s.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},s.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},s.normalizePath=function(e){var t,r=this._parts.path;if(!r)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var n,o,s="";for("/"!==(r=i.recodePath(r)).charAt(0)&&(t=!0,r="/"+r),"/.."!==r.slice(-3)&&"/."!==r.slice(-2)||(r+="/"),r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(s=r.substring(1).match(/^(\.\.\/)+/)||"")&&(s=s[0]);-1!==(n=r.search(/\/\.\.(\/|$)/));)0!==n?(-1===(o=r.substring(0,n).lastIndexOf("/"))&&(o=n),r=r.substring(0,o)+r.substring(n+3)):r=r.substring(3);return t&&this.is("relative")&&(r=s+r.substring(1)),this._parts.path=r,this.build(!e),this},s.normalizePathname=s.normalizePath,s.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},s.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},s.normalizeSearch=s.normalizeQuery,s.normalizeHash=s.normalizeFragment,s.iso8859=function(){var e=i.encode,t=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},s.unicode=function(){var e=i.encode,t=i.decode;i.encode=f,i.decode=unescape;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},s.readable=function(){var t=this.clone();t.username("").password("").normalize();var r="";if(t._parts.protocol&&(r+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(r+=e.toUnicode(t._parts.hostname),t._parts.port&&(r+=":"+t._parts.port)):r+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(r+="/"),r+=t.path(!0),t._parts.query){for(var n="",o=0,s=t._parts.query.split("&"),a=s.length;o<a;o++){var u=(s[o]||"").split("=");n+="&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==u[1]&&(n+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+n.substring(1)}return r+=i.decodeQuery(t.hash(),!0)},s.absoluteTo=function(e){var t,r,n,o=this.clone(),s=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),o._parts.protocol)return o;if(o._parts.protocol=e._parts.protocol,this._parts.hostname)return o;for(r=0;n=s[r];r++)o._parts[n]=e._parts[n];return o._parts.path?(".."===o._parts.path.substring(-2)&&(o._parts.path+="/"),"/"!==o.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),o._parts.path=(t?t+"/":"")+o._parts.path,o.normalizePath())):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),o.build(),o},s.relativeTo=function(e){var t,r,n,o,s,a=this.clone().normalize();if(a._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=a._parts,r=e._parts,o=a.path(),s=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===r.protocol&&(t.protocol=null),t.username!==r.username||t.password!==r.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==r.hostname||t.port!==r.port)return a.build();if(t.hostname=null,t.port=null,o===s)return t.path="",a.build();if(!(n=i.commonPath(o,s)))return a.build();var u=r.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=u+t.path.substring(n.length)||"./",a.build()},s.equals=function(e){var t,r,n,o,s,u=this.clone(),c=new i(e),p={};if(u.normalize(),c.normalize(),u.toString()===c.toString())return!0;if(n=u.query(),o=c.query(),u.query(""),c.query(""),u.toString()!==c.toString())return!1;if(n.length!==o.length)return!1;for(s in t=i.parseQuery(n,this._parts.escapeQuerySpace),r=i.parseQuery(o,this._parts.escapeQuerySpace),t)if(a.call(t,s)){if(h(t[s])){if(!d(t[s],r[s]))return!1}else if(t[s]!==r[s])return!1;p[s]=!0}for(s in r)if(a.call(r,s)&&!p[s])return!1;return!0},s.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},s.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},s.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i})},230:function(e,t,r){var n,o;
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(i,s){"use strict";"object"==typeof e&&e.exports?e.exports=s():void 0===(o="function"==typeof(n=s)?n.call(t,r,t,e):n)||(e.exports=o)}(0,function(e){"use strict";var t=e&&e.SecondLevelDomains,r={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return!1;var o=r.list[e.slice(t+1)];return!!o&&o.indexOf(" "+e.slice(n+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var n=r.list[e.slice(t+1)];return!!n&&n.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return null;var o=r.list[e.slice(t+1)];return o?o.indexOf(" "+e.slice(n+1,t)+" ")<0?null:e.slice(n+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return r})},231:function(e,t,r){var n,o;
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(i,s){"use strict";"object"==typeof e&&e.exports?e.exports=s():void 0===(o="function"==typeof(n=s)?n.call(t,r,t,e):n)||(e.exports=o)}(0,function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t,r,n=e.toLowerCase().split(":"),o=n.length,i=8;for(""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[o-1]&&""===n[o-2]&&n.pop(),-1!==n[(o=n.length)-1].indexOf(".")&&(i=7),t=0;t<o&&""!==n[t];t++);if(t<i)for(n.splice(t,1,"0000");n.length<i;)n.splice(t,0,"0000");for(var s=0;s<i;s++){r=n[s].split("");for(var a=0;a<3&&"0"===r[0]&&r.length>1;a++)r.splice(0,1);n[s]=r.join("")}var u=-1,c=0,h=0,p=-1,l=!1;for(s=0;s<i;s++)l?"0"===n[s]?h+=1:(l=!1,h>c&&(u=p,c=h)):"0"===n[s]&&(l=!0,p=s,h=1);h>c&&(u=p,c=h),c>1&&n.splice(u,c,""),o=n.length;var d="";for(""===n[0]&&(d=":"),s=0;s<o&&(d+=n[s],s!==o-1);s++)d+=":";return""===n[o-1]&&(d+=":"),d},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}})},232:function(e,t,r){(function(e,n){var o;/*! https://mths.be/punycode v1.4.0 by @mathias */!function(i){"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=36,h=1,p=26,l=38,d=700,g=72,m=128,f="-",v=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-h,k=Math.floor,z=String.fromCharCode;function x(e){throw new RangeError(_[e])}function Q(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function A(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+Q((e=e.replace(b,".")).split("."),t).join(".")}function P(e){for(var t,r,n=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function I(e){return Q(e,function(e){var t="";return e>65535&&(t+=z((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=z(e)}).join("")}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,r){var n=0;for(e=r?k(e/d):e>>1,e+=k(e/t);e>w*p>>1;n+=c)e=k(e/w);return k(n+(w+1)*e/(e+l))}function q(e){var t,r,n,o,i,s,a,l,d,v,y,b=[],_=e.length,w=0,z=m,Q=g;for((r=e.lastIndexOf(f))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&x("not-basic"),b.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<_;){for(i=w,s=1,a=c;o>=_&&x("invalid-input"),((l=(y=e.charCodeAt(o++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||l>k((u-w)/s))&&x("overflow"),w+=l*s,!(l<(d=a<=Q?h:a>=Q+p?p:a-Q));a+=c)s>k(u/(v=c-d))&&x("overflow"),s*=v;Q=j(w-i,t=b.length+1,0==i),k(w/t)>u-z&&x("overflow"),z+=k(w/t),w%=t,b.splice(w++,0,z)}return I(b)}function E(e){var t,r,n,o,i,s,a,l,d,v,y,b,_,w,Q,A=[];for(b=(e=P(e)).length,t=m,r=0,i=g,s=0;s<b;++s)(y=e[s])<128&&A.push(z(y));for(n=o=A.length,o&&A.push(f);n<b;){for(a=u,s=0;s<b;++s)(y=e[s])>=t&&y<a&&(a=y);for(a-t>k((u-r)/(_=n+1))&&x("overflow"),r+=(a-t)*_,t=a,s=0;s<b;++s)if((y=e[s])<t&&++r>u&&x("overflow"),y==t){for(l=r,d=c;!(l<(v=d<=i?h:d>=i+p?p:d-i));d+=c)Q=l-v,w=c-v,A.push(z(S(v+Q%w,0))),l=k(Q/w);A.push(z(S(l,0))),i=j(r,_,n==o),r=0,++n}++r,++t}return A.join("")}a={version:"1.3.2",ucs2:{decode:P,encode:I},decode:q,encode:E,toASCII:function(e){return A(e,function(e){return y.test(e)?"xn--"+E(e):e})},toUnicode:function(e){return A(e,function(e){return v.test(e)?q(e.slice(4).toLowerCase()):e})}},void 0===(o=function(){return a}.call(t,r,t,e))||(e.exports=o)}()}).call(this,r(658)(e),r(303))},303:function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},658:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_0', location = '0.a9cc9d10894ac282bad7.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[0],{101:function(n,r,t){"use strict";t.r(r),t.d(r,"projectUrl",function(){return l}),t.d(r,"projectSettingsUrl",function(){return U}),t.d(r,"requestTypesUrl",function(){return S}),t.d(r,"requestSecurityUrl",function(){return m}),t.d(r,"createSlaUrl",function(){return p}),t.d(r,"importSlaUrl",function(){return I}),t.d(r,"customSlaUrl",function(){return v}),t.d(r,"editSlaUrl",function(){return E}),t.d(r,"calendarsListUrl",function(){return A}),t.d(r,"editCalendarUrl",function(){return R}),t.d(r,"customersUrl",function(){return j}),t.d(r,"organisationUrl",function(){return T}),t.d(r,"queuesFragment",function(){return g}),t.d(r,"reportsFragment",function(){return C}),t.d(r,"issueFragment",function(){return q}),t.d(r,"metricsFragment",function(){return B}),t.d(r,"customerNotificationsFragment",function(){return M});var e=t(1),u=t(5),o=t.n(u),c={BASE:"queues",CUSTOM:"custom"},i={BASE:"reports",CUSTOM:"custom",TIMESCALE:"timescale"},s={BASE:"issue"},a={BASE:"settings",SLA:"sla",CUSTOMER_NOTIFICATIONS:"customer-notifications",RULE:"rule"};function d(n){return[o()(),"projects",n].join("/")}function f(n){return e.default.compact(n).join("/")}var l=function(n,r){var t=d(n);return encodeURI(r?t+r:t)},U=function(n,r){var t=function(n){return[o()(),"servicedesk/admin",n].join("/")}(n);return encodeURI(r?t+"/"+r:t)},S=function(n,r){return U(n,r?"request-types/request-type/"+r:"request-types")},m=function(n){return U(n,"request-security")},p=function(n){var r=U(n,"sla");return encodeURI(r+"/custom/new")},I=function(n){var r=U(n,"sla");return encodeURI(r+"/import")},v=function(n,r){var t=U(n,"sla");return encodeURI(r?t+"/custom/"+r:t)},E=function(n,r){var t=U(n,"sla");return encodeURI(r?t+"/custom/"+r+"/edit":t)},A=function(n){return encodeURI(U(n,"calendars")+"/list")},R=function(n,r){var t=U(n,"calendars");return encodeURI(r?t+"/calendar/"+r+"/edit":t)},j=function(n){return l(n,"/customers")},T=function(n,r){var t=d(n);return encodeURI(r?t+"/organization/"+r:t)},g=function(n,r){var t=[c.BASE];return n&&t.push(c.CUSTOM,n),r&&t.push(r),f(t)},C=function(n,r,t){var e=[i.BASE];return n&&e.push(i.CUSTOM,n),r&&e.push(i.TIMESCALE,r),t&&e.push(t),f(e)},q=function(n){return f([s.BASE,n])},B=function(n){return f([a.BASE,a.SLA,n])},M=function(n,r){var t=U(n,"customer-notifications/rule");return encodeURI(r?t+"/"+r:t)}}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_3', location = '3.837b03966904ec7993b5.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[3],{29:function(n,t,a){"use strict";var s=a(6),e=a.n(s),o=a(1),i=a(11),l=void 0;t.a=function(){for(var n=this,t=arguments.length,a=Array(t),s=0;s<t;s++)a[s]=arguments[s];return{install:o.default.once(function(){try{l=i.a.apply(n,a)}catch(n){e.a.log("Failed to install skate component, maybe it has already been installed")}return l})}}}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal~jira.admin~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow~a36f650e', location = 'atl.general~customerportal~jira.admin~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow~a36f650e.fb150331afcb44f2c782.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[61],{0:function(o,s,n){"use strict";n.r(s);n(667);s.default=jQuery},35:function(o,s,n){o.exports=void 0},667:function(o,s,n){o.exports=void 0}}]);;
;
/* module-key = 'com.atlassian.plugin.jslibs:underscore-1.4.4', location = 'libs/underscore/1.4.4/underscore-1.4.4.js' */
(function(l){define("atlassian/libs/underscore-1.4.4",function(){var o={};l.call(o);return o._.noConflict()})})(function(){(function(){var l=this,o=l._,p={},k=Array.prototype,q=Object.prototype,t=k.push,i=k.slice,r=k.concat,m=q.toString,J=q.hasOwnProperty,y=k.forEach,z=k.map,A=k.reduce,B=k.reduceRight,C=k.filter,D=k.every,E=k.some,s=k.indexOf,F=k.lastIndexOf,q=Array.isArray,K=Object.keys,u=Function.prototype.bind,b=function(a){if(a instanceof b)return a;if(!(this instanceof b))return new b(a);this._wrapped=
a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=b),exports._=b):l._=b;b.VERSION="1.4.4";var j=b.each=b.forEach=function(a,c,d){if(a!=null)if(y&&a.forEach===y)a.forEach(c,d);else if(a.length===+a.length)for(var e=0,f=a.length;e<f;e++){if(c.call(d,a[e],e,a)===p)break}else for(e in a)if(b.has(a,e)&&c.call(d,a[e],e,a)===p)break};b.map=b.collect=function(a,c,b){var e=[];if(a==null)return e;if(z&&a.map===z)return a.map(c,b);j(a,function(a,h,g){e[e.length]=
c.call(b,a,h,g)});return e};b.reduce=b.foldl=b.inject=function(a,c,d,e){var f=arguments.length>2;a==null&&(a=[]);if(A&&a.reduce===A){e&&(c=b.bind(c,e));return f?a.reduce(c,d):a.reduce(c)}j(a,function(a,b,L){if(f)d=c.call(e,d,a,b,L);else{d=a;f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};b.reduceRight=b.foldr=function(a,c,d,e){var f=arguments.length>2;a==null&&(a=[]);if(B&&a.reduceRight===B){e&&(c=b.bind(c,e));return f?a.reduceRight(c,d):a.reduceRight(c)}var h=
a.length;if(h!==+h)var g=b.keys(a),h=g.length;j(a,function(b,i,j){i=g?g[--h]:--h;if(f)d=c.call(e,d,a[i],i,j);else{d=a[i];f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};b.find=b.detect=function(a,c,b){var e;G(a,function(a,h,g){if(c.call(b,a,h,g)){e=a;return true}});return e};b.filter=b.select=function(a,c,b){var e=[];if(a==null)return e;if(C&&a.filter===C)return a.filter(c,b);j(a,function(a,h,g){c.call(b,a,h,g)&&(e[e.length]=a)});return e};b.reject=function(a,
c,d){return b.filter(a,function(a,b,h){return!c.call(d,a,b,h)},d)};b.every=b.all=function(a,c,d){c||(c=b.identity);var e=true;if(a==null)return e;if(D&&a.every===D)return a.every(c,d);j(a,function(a,b,g){if(!(e=e&&c.call(d,a,b,g)))return p});return!!e};var G=b.some=b.any=function(a,c,d){c||(c=b.identity);var e=false;if(a==null)return e;if(E&&a.some===E)return a.some(c,d);j(a,function(a,b,g){if(e||(e=c.call(d,a,b,g)))return p});return!!e};b.contains=b.include=function(a,c){return a==null?false:s&&
a.indexOf===s?a.indexOf(c)!=-1:G(a,function(a){return a===c})};b.invoke=function(a,c){var d=i.call(arguments,2),e=b.isFunction(c);return b.map(a,function(a){return(e?c:a[c]).apply(a,d)})};b.pluck=function(a,c){return b.map(a,function(a){return a[c]})};b.where=function(a,c,d){return b.isEmpty(c)?d?null:[]:b[d?"find":"filter"](a,function(a){for(var b in c)if(c[b]!==a[b])return false;return true})};b.findWhere=function(a,c){return b.where(a,c,true)};b.max=function(a,c,d){if(!c&&b.isArray(a)&&a[0]===
+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!c&&b.isEmpty(a))return-Infinity;var e={computed:-Infinity,value:-Infinity};j(a,function(a,b,g){b=c?c.call(d,a,b,g):a;b>=e.computed&&(e={value:a,computed:b})});return e.value};b.min=function(a,c,d){if(!c&&b.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!c&&b.isEmpty(a))return Infinity;var e={computed:Infinity,value:Infinity};j(a,function(a,b,g){b=c?c.call(d,a,b,g):a;b<e.computed&&(e={value:a,computed:b})});return e.value};
b.shuffle=function(a){var c,d=0,e=[];j(a,function(a){c=b.random(d++);e[d-1]=e[c];e[c]=a});return e};var v=function(a){return b.isFunction(a)?a:function(c){return c[a]}};b.sortBy=function(a,c,d){var e=v(c);return b.pluck(b.map(a,function(a,c,b){return{value:a,index:c,criteria:e.call(d,a,c,b)}}).sort(function(a,c){var b=a.criteria,d=c.criteria;if(b!==d){if(b>d||b===void 0)return 1;if(b<d||d===void 0)return-1}return a.index<c.index?-1:1}),"value")};var H=function(a,c,d,e){var f={},h=v(c||b.identity);
j(a,function(c,b){var i=h.call(d,c,b,a);e(f,i,c)});return f};b.groupBy=function(a,c,d){return H(a,c,d,function(a,c,d){(b.has(a,c)?a[c]:a[c]=[]).push(d)})};b.countBy=function(a,c,d){return H(a,c,d,function(a,c){b.has(a,c)||(a[c]=0);a[c]++})};b.sortedIndex=function(a,c,d,e){for(var d=d==null?b.identity:v(d),c=d.call(e,c),f=0,h=a.length;f<h;){var g=f+h>>>1;d.call(e,a[g])<c?f=g+1:h=g}return f};b.toArray=function(a){return!a?[]:b.isArray(a)?i.call(a):a.length===+a.length?b.map(a,b.identity):b.values(a)};
b.size=function(a){return a==null?0:a.length===+a.length?a.length:b.keys(a).length};b.first=b.head=b.take=function(a,c,b){return a==null?void 0:c!=null&&!b?i.call(a,0,c):a[0]};b.initial=function(a,c,b){return i.call(a,0,a.length-(c==null||b?1:c))};b.last=function(a,c,b){return a==null?void 0:c!=null&&!b?i.call(a,Math.max(a.length-c,0)):a[a.length-1]};b.rest=b.tail=b.drop=function(a,c,b){return i.call(a,c==null||b?1:c)};b.compact=function(a){return b.filter(a,b.identity)};var I=function(a,c,d){j(a,
function(a){b.isArray(a)?c?t.apply(d,a):I(a,c,d):d.push(a)});return d};b.flatten=function(a,c){return I(a,c,[])};b.without=function(a){return b.difference(a,i.call(arguments,1))};b.uniq=b.unique=function(a,c,d,e){if(b.isFunction(c)){e=d;d=c;c=false}var d=d?b.map(a,d,e):a,f=[],h=[];j(d,function(d,e){if(c?!e||h[h.length-1]!==d:!b.contains(h,d)){h.push(d);f.push(a[e])}});return f};b.union=function(){return b.uniq(r.apply(k,arguments))};b.intersection=function(a){var c=i.call(arguments,1);return b.filter(b.uniq(a),
function(a){return b.every(c,function(c){return b.indexOf(c,a)>=0})})};b.difference=function(a){var c=r.apply(k,i.call(arguments,1));return b.filter(a,function(a){return!b.contains(c,a)})};b.zip=function(){for(var a=i.call(arguments),c=b.max(b.pluck(a,"length")),d=Array(c),e=0;e<c;e++)d[e]=b.pluck(a,""+e);return d};b.object=function(a,c){if(a==null)return{};for(var b={},e=0,f=a.length;e<f;e++)c?b[a[e]]=c[e]:b[a[e][0]]=a[e][1];return b};b.indexOf=function(a,c,d){if(a==null)return-1;var e=0,f=a.length;
if(d)if(typeof d=="number")e=d<0?Math.max(0,f+d):d;else{e=b.sortedIndex(a,c);return a[e]===c?e:-1}if(s&&a.indexOf===s)return a.indexOf(c,d);for(;e<f;e++)if(a[e]===c)return e;return-1};b.lastIndexOf=function(a,c,b){if(a==null)return-1;var e=b!=null;if(F&&a.lastIndexOf===F)return e?a.lastIndexOf(c,b):a.lastIndexOf(c);for(b=e?b:a.length;b--;)if(a[b]===c)return b;return-1};b.range=function(a,b,d){if(arguments.length<=1){b=a||0;a=0}for(var d=arguments[2]||1,e=Math.max(Math.ceil((b-a)/d),0),f=0,h=Array(e);f<
e;){h[f++]=a;a=a+d}return h};b.bind=function(a,b){if(a.bind===u&&u)return u.apply(a,i.call(arguments,1));var d=i.call(arguments,2);return function(){return a.apply(b,d.concat(i.call(arguments)))}};b.partial=function(a){var b=i.call(arguments,1);return function(){return a.apply(this,b.concat(i.call(arguments)))}};b.bindAll=function(a){var c=i.call(arguments,1);c.length===0&&(c=b.functions(a));j(c,function(c){a[c]=b.bind(a[c],a)});return a};b.memoize=function(a,c){var d={};c||(c=b.identity);return function(){var e=
c.apply(this,arguments);return b.has(d,e)?d[e]:d[e]=a.apply(this,arguments)}};b.delay=function(a,b){var d=i.call(arguments,2);return setTimeout(function(){return a.apply(null,d)},b)};b.defer=function(a){return b.delay.apply(b,[a,1].concat(i.call(arguments,1)))};b.throttle=function(a,b){var d,e,f,h,g=0,i=function(){g=new Date;f=null;h=a.apply(d,e)};return function(){var j=new Date,k=b-(j-g);d=this;e=arguments;if(k<=0){clearTimeout(f);f=null;g=j;h=a.apply(d,e)}else f||(f=setTimeout(i,k));return h}};
b.debounce=function(a,b,d){var e,f;return function(){var h=this,g=arguments,i=d&&!e;clearTimeout(e);e=setTimeout(function(){e=null;d||(f=a.apply(h,g))},b);i&&(f=a.apply(h,g));return f}};b.once=function(a){var b=false,d;return function(){if(b)return d;b=true;d=a.apply(this,arguments);a=null;return d}};b.wrap=function(a,b){return function(){var d=[a];t.apply(d,arguments);return b.apply(this,d)}};b.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;d>=0;d--)b=[a[d].apply(this,
b)];return b[0]}};b.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}};b.keys=K||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var c=[],d;for(d in a)b.has(a,d)&&(c[c.length]=d);return c};b.values=function(a){var c=[],d;for(d in a)b.has(a,d)&&c.push(a[d]);return c};b.pairs=function(a){var c=[],d;for(d in a)b.has(a,d)&&c.push([d,a[d]]);return c};b.invert=function(a){var c={},d;for(d in a)b.has(a,d)&&(c[a[d]]=d);return c};b.functions=b.methods=
function(a){var c=[],d;for(d in a)b.isFunction(a[d])&&c.push(d);return c.sort()};b.extend=function(a){j(i.call(arguments,1),function(b){if(b)for(var d in b)a[d]=b[d]});return a};b.pick=function(a){var b={},d=r.apply(k,i.call(arguments,1));j(d,function(d){d in a&&(b[d]=a[d])});return b};b.omit=function(a){var c={},d=r.apply(k,i.call(arguments,1)),e;for(e in a)b.contains(d,e)||(c[e]=a[e]);return c};b.defaults=function(a){j(i.call(arguments,1),function(b){if(b)for(var d in b)a[d]==null&&(a[d]=b[d])});
return a};b.clone=function(a){return!b.isObject(a)?a:b.isArray(a)?a.slice():b.extend({},a)};b.tap=function(a,b){b(a);return a};var w=function(a,c,d,e){if(a===c)return a!==0||1/a==1/c;if(a==null||c==null)return a===c;if(a instanceof b)a=a._wrapped;if(c instanceof b)c=c._wrapped;var f=m.call(a);if(f!=m.call(c))return false;switch(f){case "[object String]":return a==String(c);case "[object Number]":return a!=+a?c!=+c:a==0?1/a==1/c:a==+c;case "[object Date]":case "[object Boolean]":return+a==+c;case "[object RegExp]":return a.source==
c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase}if(typeof a!="object"||typeof c!="object")return false;for(var h=d.length;h--;)if(d[h]==a)return e[h]==c;d.push(a);e.push(c);var h=0,g=true;if(f=="[object Array]"){h=a.length;if(g=h==c.length)for(;h--;)if(!(g=w(a[h],c[h],d,e)))break}else{var f=a.constructor,i=c.constructor;if(f!==i&&(!b.isFunction(f)||!(f instanceof f&&b.isFunction(i)&&i instanceof i)))return false;for(var j in a)if(b.has(a,j)){h++;if(!(g=b.has(c,j)&&
w(a[j],c[j],d,e)))break}if(g){for(j in c)if(b.has(c,j)&&!h--)break;g=!h}}d.pop();e.pop();return g};b.isEqual=function(a,b){return w(a,b,[],[])};b.isEmpty=function(a){if(a==null)return true;if(b.isArray(a)||b.isString(a))return a.length===0;for(var c in a)if(b.has(a,c))return false;return true};b.isElement=function(a){return!!(a&&a.nodeType===1)};b.isArray=q||function(a){return m.call(a)=="[object Array]"};b.isObject=function(a){return a===Object(a)};j("Arguments Function String Number Date RegExp".split(" "),
function(a){b["is"+a]=function(b){return m.call(b)=="[object "+a+"]"}});b.isArguments(arguments)||(b.isArguments=function(a){return!(!a||!b.has(a,"callee"))});"function"!==typeof/./&&(b.isFunction=function(a){return typeof a==="function"});b.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};b.isNaN=function(a){return b.isNumber(a)&&a!=+a};b.isBoolean=function(a){return a===true||a===false||m.call(a)=="[object Boolean]"};b.isNull=function(a){return a===null};b.isUndefined=function(a){return a===
void 0};b.has=function(a,b){return J.call(a,b)};b.noConflict=function(){l._=o;return this};b.identity=function(a){return a};b.times=function(a,b,d){for(var e=Array(a),f=0;f<a;f++)e[f]=b.call(d,f);return e};b.random=function(a,b){if(b==null){b=a;a=0}return a+Math.floor(Math.random()*(b-a+1))};var n={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};n.unescape=b.invert(n.escape);var M={escape:RegExp("["+b.keys(n.escape).join("")+"]","g"),unescape:RegExp("("+b.keys(n.unescape).join("|")+
")","g")};b.each(["escape","unescape"],function(a){b[a]=function(b){return b==null?"":(""+b).replace(M[a],function(b){return n[a][b]})}});b.result=function(a,c){if(a==null)return null;var d=a[c];return b.isFunction(d)?d.call(a):d};b.mixin=function(a){j(b.functions(a),function(c){var d=b[c]=a[c];b.prototype[c]=function(){var a=[this._wrapped];t.apply(a,arguments);a=d.apply(b,a);return this._chain?b(a).chain():a}})};var N=0;b.uniqueId=function(a){var b=++N+"";return a?a+b:b};b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,
interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var x=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;b.template=function(a,c,d){var e,d=b.defaults({},d,b.templateSettings),f=RegExp([(d.escape||x).source,(d.interpolate||x).source,(d.evaluate||x).source].join("|")+"|$","g"),h=0,g="__p+='";a.replace(f,function(b,c,d,e,f){g=g+a.slice(h,f).replace(P,function(a){return"\\"+O[a]});c&&(g=g+("'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"));
d&&(g=g+("'+\n((__t=("+d+"))==null?'':__t)+\n'"));e&&(g=g+("';\n"+e+"\n__p+='"));h=f+b.length;return b});g=g+"';\n";d.variable||(g="with(obj||{}){\n"+g+"}\n");g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{e=new Function(d.variable||"obj","_",g)}catch(i){i.source=g;throw i;}if(c)return e(c,b);c=function(a){return e.call(this,a,b)};c.source="function("+(d.variable||"obj")+"){\n"+g+"}";return c};b.chain=function(a){return b(a).chain()};
b.mixin(b);j("pop push reverse shift sort splice unshift".split(" "),function(a){var c=k[a];b.prototype[a]=function(){var d=this._wrapped;c.apply(d,arguments);(a=="shift"||a=="splice")&&d.length===0&&delete d[0];return this._chain?b(d).chain():d}});j(["concat","join","slice"],function(a){var c=k[a];b.prototype[a]=function(){var a=c.apply(this._wrapped,arguments);return this._chain?b(a).chain():a}});b.extend(b.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this)});;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal~jira.admin~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow~e0394c48', location = 'atl.general~customerportal~jira.admin~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow~e0394c48.c24bf539d80e10c4b477.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[63],{1:function(s,t,a){"use strict";a.r(t);var e=a(256),n=a.n(e);t.default=n.a},16:function(s,t,a){"use strict";a.r(t);var e=a(1),n=a(0),i=a(255),r=a.n(i);t.default=r()(e.default,n.default)},254:function(s,t){s.exports=require("atlassian/libs/factories/brace-2014.09.03")},255:function(s,t){s.exports=require("atlassian/libs/factories/backbone-1.0.0")},256:function(s,t){s.exports=require("atlassian/libs/underscore-1.4.4")},3:function(s,t,a){"use strict";var e=a(1),n=a(16),i=a(254),r=a.n(i);t.a=r()(e.default,n.default)}}]);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-internal-constants', location = 'src/js/aui/internal/constants.js' */
("undefined"===typeof window?global:window).__584af8690b0248d0ffcba682ccaa70ba=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.INPUT_SUFFIX="-input";return a}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-toggle', location = 'src/js/aui/toggle.js' */
("undefined"===typeof window?global:window).__07a2f092bc69049991d58167c8791201=function(){function d(a){return a&&a.__esModule?a:{"default":a}}function i(a){a._canFireEventsNow&&a.dispatchEvent(new m.default("change",{bubbles:!0}))}function c(a){return a._input||(a._input=a.querySelector("input"))}function g(a,b){c(b).removeAttribute(a)}function j(a,b,d){c(b).setAttribute(a,d.newValue)}function h(a){return{removed:g.bind(this,a),fallback:j.bind(this,a)}}"use strict";__7662207c0e706b4f9b15584a7f7253f9;
__e8e9fc435c352b74c65e5f8d64ed692c;var f=__ab489eda548cad099ce93b60faa6a3d5,e=d(__700a145ba3db9966cc95664c892049f8),n=d(__2512e2cfb8f46670d5cb777690a28c72),o=d(__e246bf93af36eb4453f35afeb1c302d9),p=d(__c6b5725916d210b9653318d2ea2472cb),q=d(__0ac9a2c09f995a9c0a478af8742f59b7),r=__584af8690b0248d0ffcba682ccaa70ba,m=d(__f7a5e0d2ea8865b104efc9b94861591e),k=__6c1bd26c14066cf537a86a0966c2d4fc,s=d(k),l={removed:function(a){g.call(this,"form",a);a._formId=null},fallback:function(a,b){j.call(this,"form",a,
b);a._formId=b.newValue}},t={removed:g.bind(void 0,"id"),fallback:function(a,b){c(a).setAttribute("id",""+b.newValue+r.INPUT_SUFFIX)}};(0,q.default)("aui-toggle",{template:(0,p.default)('<input type="checkbox" class="aui-toggle-input assistive">','<span class="aui-toggle-view">','<span class="aui-toggle-tick aui-icon aui-icon-small aui-iconfont-success"></span>','<span class="aui-toggle-cross aui-icon aui-icon-small aui-iconfont-close-dialog"></span>',"</span>"),created:function(a){a._input=c(a);
a._tick=a.querySelector(".aui-toggle-tick");a._cross=a.querySelector(".aui-toggle-cross");a._spinner=new s.default;a._spinner.setAttribute("size",k.SIZE.SMALL.name);(0,e.default)(a._input).tooltip({title:function(){return this.checked?this.getAttribute("tooltip-on"):this.getAttribute("tooltip-off")},gravity:"s",hoverable:!1});a._input.addEventListener("keydown",function(b){a.busy&&b.keyCode===o.default.SPACE&&b.preventDefault()});-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&a._input.addEventListener("click",
function(b){a.busy&&b.preventDefault()});a.hasAttribute("checked")&&c(a).setAttribute("checked","");a._canFireEventsNow=!0},attached:function(a){(0,n.default)(a).attributeExists("label")},events:{click:function(a,b){!a.disabled&&(!a.busy&&b.target!==a._input)&&(a._input.checked=!a._input.checked);(0,f.setBooleanAttribute)(a,"checked",c(a).checked)}},attributes:{id:t,checked:{removed:function(a){c(a).checked=!1;i(a)},fallback:function(a){c(a).checked=!0;i(a)}},disabled:h("disabled"),form:l,name:h("name"),
value:h("value"),"tooltip-on":{value:"On",fallback:function(a,b){c(a).setAttribute("tooltip-on",b.newValue||"On")}},"tooltip-off":{value:"Off",fallback:function(a,b){c(a).setAttribute("tooltip-off",b.newValue||"Off")}},label:{removed:function(a){c(a).removeAttribute("aria-label")},fallback:function(a,b){c(a).setAttribute("aria-label",b.newValue)}}},prototype:{focus:function(){this._input.focus();
return this},get checked(){return this._input.checked},set checked(a){this._input.checked!==a&&(this._input.checked=a,(0,f.setBooleanAttribute)(this,"checked",a))},get disabled(){return this._input.disabled},set disabled(a){return(0,f.setBooleanAttribute)(this,"disabled",a)},get form(){return document.getElementById(this._formId)},set form(a){l.fallback.call(this,this,{newValue:a||null});return this.form},get name(){return this._input.name},set name(a){this.setAttribute("name",a);return a},get value(){return this._input.value},
set value(a){this.setAttribute("value",null===a?"":a);return a},get busy(){return"true"===this._input.getAttribute("aria-busy")},set busy(a){(0,f.setBooleanAttribute)(this,"busy",a);a?(this._input.setAttribute("aria-busy","true"),this._input.indeterminate=!0,this.checked?((0,e.default)(this._input).addClass("indeterminate-checked"),(0,e.default)(this._tick).append(this._spinner)):(0,e.default)(this._cross).append(this._spinner)):((0,e.default)(this._input).removeClass("indeterminate-checked"),this._input.indeterminate=
!1,this._input.removeAttribute("aria-busy"),this._spinner.parentNode&&this._spinner.parentNode.removeChild(this._spinner));var b=!!a;this.id&&Array.prototype.forEach.call(document.querySelectorAll('aui-label[for="'+this.id+'"]'),function(a){a.disabled=b});return a}}});return{}}.call(this);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal~jira.admin~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow~c5be5ef5', location = 'atl.general~customerportal~jira.admin~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow~c5be5ef5.78883327f93f61c45c9d.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[64],{34:function(o,n,i){o.exports=void 0},37:function(o,n,i){o.exports=void 0},38:function(o,n,i){o.exports=void 0},39:function(o,n,i){o.exports=void 0},40:function(o,n,i){o.exports=void 0},41:function(o,n,i){o.exports=void 0},42:function(o,n,i){o.exports=void 0}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal~jira.admin~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow~44e295bb', location = 'atl.general~customerportal~jira.admin~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow~44e295bb.9b0e1e17895e61f40bdf.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[66],[,,function(t,n){t.exports=require("jira/util/formatter")},,,function(t,n){t.exports=require("wrm/context-path")},,function(t,n){t.exports=require("jira/jquery/deferred")},,,function(t,n,r){"use strict";r.d(n,"d",function(){return s}),r.d(n,"a",function(){return f}),r.d(n,"c",function(){return j}),r.d(n,"e",function(){return l}),r.d(n,"f",function(){return p}),r.d(n,"g",function(){return m}),r.d(n,"b",function(){return T});var e=r(2),o=r(0),u=r(1),a={traditional:!0},i=18e4,s=function(t){var n=void 0;try{n=JSON.parse(t.responseText)}catch(t){n={errors:[{errorMessage:"Something has gone wrong with your request. If symptoms persist contact your System Administrator."}]}}return n},f=function(t,n){return"timeout"===n?"The call to the Jira server did not complete within the timeout period.  We are unsure of the result of this operation.":401===t.status?"You are not authorised to perform this operation. Please log in.":t.responseText&&t.responseText.length>0?"The Jira server was contacted but has returned an error response. We are unsure of the result of this operation.":"The Jira server could not be contacted. This may be a temporary glitch or the server may be down."};function c(t){return t.then(null,function(t){return u.default.extend(t,s(t))}),t}function d(t,n,r,e,o){return u.default.extend({},a,{url:t,type:n,dataType:r,contentType:e,timeout:i,headers:o||{}})}var j=function(t,n){var r=d(t,"GET","json","application/json",n);return u.default.isObject(t)?r=u.default.extend(r,t):r.url=t,c(o.default.ajax(r))};function x(t,n,r,e,u){var a=d(n,"POST",t,"application/json",e);return a.data=JSON.stringify(r),u&&(a.timeout=u),c(o.default.ajax(a))}var l=function(t,n,r,e){return c(x("json",t,n,r,e))},p=function(t,n,r,e){return c(x("html",t,n,r,e))},m=function(t,n,r){var e=d(t,"PUT","json","application/json",r);return e.data=JSON.stringify(n),c(o.default.ajax(e))},T=function(t,n){var r=d(t,"DELETE","json","application/json",n);return c(o.default.ajax(r))}},,function(t,n){t.exports=require("jira/util/data/meta")}]]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow.view~sd.ad~f06a9338', location = 'atl.general~customerportal~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow.view~sd.ad~f06a9338.7a509b9a22334a641ad0.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[65],{32:function(a,w,n){"use strict";n.d(w,"a",function(){return i});n(653);window.wrmDataCache=window.wrmDataCache||{};var i=function(a){if(null!==window.wrmDataCache[a]&&void 0!==window.wrmDataCache[a])return window.wrmDataCache[a];var w=window.WRM.data.claim(a);return window.wrmDataCache[a]=w,w}},653:function(a,w,n){a.exports=void 0}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_4', location = '4.0527b6ced468c3acad79.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[4],{18:function(s,n){s.exports=require("jira/util/events")}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow.view~sd.ad~185adc65', location = 'atl.general~customerportal~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow.view~sd.ad~185adc65.5fac76e8f9b1edb4c432.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[68],{137:function(e,t){e.exports=require("jira/analytics")},15:function(e,t){e.exports=require("jira/featureflags/feature-manager")},17:function(e,t,s){"use strict";var r=s(7),a=s.n(r),i=s(0),o=s(1),n=s(15),l=s.n(n),c=s(57);s(60),s(664);t.a={initialize:function(){l.a.isFeatureEnabled("sd.adgs.m1")&&this.$el.addClass("sd-adgs-feature-flag-m1")},applySDErrorsShimToField:function(e,t,s){o.default.each(t.errors,function(t){t.field||(t.field=e)}),this.applyErrors(t,null,!1,!1,s||{})},handleSubmit:function(e,t){var s=this;t=t||{};var r=a()();return this.showSpinner(),this.disableSubmit(),e.done(function(){for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];(t.showSuccess||t.alwaysHideSpinner)&&s.hideSpinner(),t.showSuccess?s.showSuccess().done(function(){s.enableSubmit(),r.resolve.apply(r,a)}):(s.enableSubmit(),r.resolve.apply(r,a))}).fail(function(e,a){for(var i=arguments.length,o=Array(i>2?i-2:0),n=2;n<i;n++)o[n-2]=arguments[n];var l;if(s.hideSpinner(),s.enableSubmit(),"abort"!==a||!t.doNotHandleErrorsOnAbort){var c=t.selector||"";s.applyErrors(e,c,!1,!1,t)}(l=r.reject).call.apply(l,[r,e,a].concat(o))}),r},applyErrors:function(e,t,s,r,a){if(a=a||{},s=!!s,this.$(".error").remove(),e){if(e.errors){var i=o.default.filter(e.errors,function(e){return!e.field}),n=o.default.filter(e.errors,function(e){return!!e.field});this.applyFieldErrors(n,o.default.extend(a,{selector:t})),this.applyErrorMessage(i,s,r,t,a)}e["status-code"]&&e["status-code"]>400&&e.message&&this.applyError(e.message)}},removeError:function(e){Object(i.default)(e.currentTarget).closest(".error").remove(),e.preventDefault()},removeFieldError:function(e,t){t=t||".field-container, .field-group";var s=this._getFieldByName(e).closest(t);Object(i.default)(".error",s).remove()},removeWarning:function(){this.$(".warning").remove()},applyError:function(e){var t=Object(i.default)(ServiceDesk.Templates.Shared.Form.error({error:e}));this._bindRemoveErrorOnClick(t),this.$(".aui-message.error.shadowed.closeable").remove(),this.$("form").prepend(t),t.find(".icon-close")},applyErrorMessage:function(e,t,s,r){if(e.length){var a=Object(i.default)(ServiceDesk.Templates.Shared.Form.errorMessage({errors:e,isNotAdmin:t}));this._bindRemoveErrorOnClick(a),this.$(".aui-message.error.shadowed.closeable").remove(),r?this.$(r).prepend(a):this.$("form").prepend(a),s||a[0].scrollIntoView(),a.find(".icon-close"),this._bindReloadClick()}},_bindRemoveErrorOnClick:function(e){var t=e.find(".icon-close");t?t.click(this.removeError):e.click(this.removeError)},_bindReloadClick:function(){this.$(".js-sd-reload-page").click(function(e){e.preventDefault(),location.reload()})},_getFieldByName:function(e){return this.$(":input[name='"+e+"'], [data-select2-name='"+e+"']")},applyFieldErrors:function(e,t){var s=this;(t=t||{}).selector=t.selector||".field-container, .field-group",o.default.defaults(t,{clearPassword:!0}),o.default.each(e,function(e){s.removeFieldError(e.field,t.selector);var r=Object(i.default)("<div class='error' />").attr("data-field",e.field).text(e.errorMessage),a=s._getFieldByName(e.field);!0===t.clearPassword&&a.is(":password")&&a.val(""),a.closest(t.selector).append(r)})},applyFieldWarnings:function(e,t,s){t=t||".field-container, .field-group",this.$(".warning").remove(),o.default.each(e,function(e){var r=Object(i.default)("<div class='error warning' />").attr("data-field",e.field);!0===s?r.html(e.errorMessage):r.text(e.errorMessage);var a=this._getFieldByName(e.field);a.is(":password")&&a.val(""),a.closest(t).append(r)},this)},showSpinner:function(e){(e?Object(i.default)(e):this.$(".js-status")).addClass("cv-sd-status_loading").spin()},hideSpinner:function(e){(e?Object(i.default)(e):this.$(".js-status")).removeClass("cv-sd-status_loading").spinStop()},showSuccess:function(e){var t=i.default.Deferred(),s=this.$(e||".js-status");return this.hideSpinner(e?s:void 0),s.addClass("cv-sd-status_success"),s.html(c.a.icons.icon({useIconFont:!0,size:"small",icon:"check-circle-filled",extraClasses:"cv-sd-status__success-icon"})),o.default.delay(function(){return t.resolve()},800),t},disableSubmit:function(){this.$(":input[type='submit']").attr({"aria-disabled":"aria-disabled",disabled:"disabled"})},enableSubmit:function(){this.$(":input[type='submit']").removeAttr("aria-disabled disabled")},isSubmitEnabled:function(){return!(this.$(":input[type='submit']").attr("aria-disabled")||this.$(":input[type='submit']").attr("disabled"))}}},233:function(e,t,s){"use strict";s.d(t,"a",function(){return i});var r=s(12),a=s.n(r),i=function(){return a.a.get("sdPluginVersion")}},4:function(e,t,s){"use strict";var r=s(6),a=s.n(r),i=s(12),o=s.n(i),n=s(137),l=s.n(n),c=s(1),d=s(0),u=s(233),m={};m.trackPageview=function(e,t){var s=e.replace(/^\/?/,"").replace(/\//g,".");this.trackEvent("page.view."+s,t)},m.trackEvent=function(e,t,s){"string"==typeof t&&(e=[e,t].join("."),t=s),s||0===e.indexOf("servicedesk.")||(e="servicedesk."+e);var r={};if(void 0!==t)if(!c.default.isObject(t)||c.default.isArray(t)){var i="A tracking call was made with invalid properties. Data should be key-value pairs. Event name is '"+e+"' and data is: ";a.a.warn(i,t)}else c.default.extend(r,t);var n=Object(u.a)();r.sdVersion=n||(r.sdVersion||"unknown");var m=o.a&&o.a.get("projectId")?o.a.get("projectId"):Object(d.default)("body").data("projectId")||null;m&&(r.projectId=r.projectId||m);var p={name:e,properties:r};l.a.send(p)},t.a=m},57:function(e,t,s){"use strict";s(34);t.a=aui},6:function(e,t){e.exports=require("jira/util/logger")},60:function(e,t,s){var r;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Shared&&(ServiceDesk.Templates.Shared={}),void 0===ServiceDesk.Templates.Shared.Form&&(ServiceDesk.Templates.Shared.Form={}),ServiceDesk.Templates.Shared.Form.errorMessage=function(e,t){for(var s='<div class="aui-message error shadowed closeable"><p class="title">'+soy.$$escapeHtml("Error")+'</p><span class="aui-icon icon-error"></span>',r=e.errors,a=r.length,i=0;i<a;i++){var o=r[i];s+="<p>"+soy.$$filterNoAutoescape(o.errorMessage)+"</p>"}return s+=(e.isNotAdmin?"<p>"+soy.$$escapeHtml("Please contact the system administrator.")+"</p>":"")+'<span class="aui-icon icon-close" role="button" tabindex="0"></span></div>'},goog.DEBUG&&(ServiceDesk.Templates.Shared.Form.errorMessage.soyTemplateName="ServiceDesk.Templates.Shared.Form.errorMessage"),ServiceDesk.Templates.Shared.Form.error=function(e,t){return'<div class="aui-message error shadowed closeable"><p class="title">'+soy.$$escapeHtml("Error")+'</p><span class="aui-icon icon-error"></span><p>'+soy.$$escapeHtml(e.error)+"</p><p>"+soy.$$escapeHtml("Please contact the system administrator.")+'</p><span class="aui-icon icon-close" role="button" tabindex="0"></span></div>'},goog.DEBUG&&(ServiceDesk.Templates.Shared.Form.error.soyTemplateName="ServiceDesk.Templates.Shared.Form.error"),ServiceDesk.Templates.Shared.Form.withKeyboardTooltip=function(e,t){return'<span class="js-tooltip" data-delay-in="500"'+(e.isCancel?'title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel",e.key,e.modifierKey))+'"':'title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form",e.key,e.modifierKey))+'"')+">"+soy.$$filterNoAutoescape(e.html)+"</span>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Form.withKeyboardTooltip.soyTemplateName="ServiceDesk.Templates.Shared.Form.withKeyboardTooltip"),ServiceDesk.Templates.Shared.Form.extraAttributes=function(e,t){for(var s="",r=soy.$$getMapKeys(e.extraAttributes),a=r.length,i=0;i<a;i++){var o=r[i];s+=soy.$$escapeHtml(o)+'="'+soy.$$escapeHtml(e.extraAttributes[o])+'"'}return s},goog.DEBUG&&(ServiceDesk.Templates.Shared.Form.extraAttributes.soyTemplateName="ServiceDesk.Templates.Shared.Form.extraAttributes"),ServiceDesk.Templates.Shared.Form.submitButton=function(e,t){var s="",r='<button type="submit" accesskey="'+(e.accessKey?soy.$$escapeHtml(e.accessKey):"s")+'"'+(e.extraAttributes?ServiceDesk.Templates.Shared.Form.extraAttributes(e):"")+'class="aui-button '+(e.extraClasses?soy.$$escapeHtml(e.extraClasses):"")+'">'+soy.$$escapeHtml(e.label)+"</button>";return s+=e.modifierKey?ServiceDesk.Templates.Shared.Form.withKeyboardTooltip({html:r,modifierKey:e.modifierKey,key:""+(e.accessKey?soy.$$escapeHtml(e.accessKey):"s")}):soy.$$filterNoAutoescape(r)},goog.DEBUG&&(ServiceDesk.Templates.Shared.Form.submitButton.soyTemplateName="ServiceDesk.Templates.Shared.Form.submitButton"),ServiceDesk.Templates.Shared.Form.cancelButton=function(e,t){var s="",r='<button type="button" accesskey="`" class="aui-button aui-button-link cancel '+((e=e||{}).extraClasses?soy.$$escapeHtml(e.extraClasses):"")+'"'+(e.extraAttributes?ServiceDesk.Templates.Shared.Form.extraAttributes(e):"")+">"+(e.text?soy.$$escapeHtml(e.text):soy.$$escapeHtml("Cancel"))+"</button>";return s+=e.modifierKey?ServiceDesk.Templates.Shared.Form.withKeyboardTooltip({html:r,modifierKey:e.modifierKey,key:"`",isCancel:!0}):soy.$$filterNoAutoescape(r)},goog.DEBUG&&(ServiceDesk.Templates.Shared.Form.cancelButton.soyTemplateName="ServiceDesk.Templates.Shared.Form.cancelButton"),ServiceDesk.Templates.Shared.Form.submitButtons=function(e,t){return""+("left"!=e.alignment||e.hideSubmitStatus?"":ServiceDesk.Templates.Shared.Form.submitStatus(null))+ServiceDesk.Templates.Shared.Form.submitButton({modifierKey:e.modifierKey,extraClasses:e.submitExtraClasses,extraAttributes:e.submitExtraAttributes,label:e.submitButtonLabel})+ServiceDesk.Templates.Shared.Form.cancelButton({modifierKey:e.modifierKey,extraClasses:e.cancelExtraClasses,text:e.cancelText,extraAttributes:e.cancelExtraAttributes})+("left"==e.alignment||e.hideSubmitStatus?"":ServiceDesk.Templates.Shared.Form.submitStatus(null))},goog.DEBUG&&(ServiceDesk.Templates.Shared.Form.submitButtons.soyTemplateName="ServiceDesk.Templates.Shared.Form.submitButtons"),ServiceDesk.Templates.Shared.Form.submitStatus=function(e,t){return'<span class="cv-sd-status js-status"></span>'},goog.DEBUG&&(ServiceDesk.Templates.Shared.Form.submitStatus.soyTemplateName="ServiceDesk.Templates.Shared.Form.submitStatus"),void 0===(r=function(){return ServiceDesk.Templates.Shared.Form}.apply(t,[]))||(e.exports=r)},663:function(e,t,s){(e.exports=s(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n/*\n * @see https://atlassian.design/guidelines/brand/color-1\n */\n.cv-sd-status {\n  opacity: 0;\n  position: relative;\n  top: 2px;\n  width: 16px;\n  height: 16px;\n  display: inline-block;\n}\n.cv-sd-status[aria-hidden='false'] {\n  opacity: 1;\n  visibility: visible;\n  transition: opacity 0.3s ease-in, visibility 0.3s ease-in;\n}\n.cv-sd-status.cv-sd-status_loading {\n  -webkit-transition: opacity 0.3s ease-in 0ms;\n  transition: opacity 0.3s ease-in 0ms;\n  opacity: 1;\n}\n.cv-sd-status.cv-sd-status_success {\n  -webkit-transition: opacity 0.3s ease-in 0ms;\n  transition: opacity 0.3s ease-in 0ms;\n  opacity: 1;\n}\n.cv-sd-status.cv-sd-status_success[aria-hidden='true'] {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 0.3s ease-in, visibility 0.3s ease-in;\n}\n.cv-sd-status.error {\n  opacity: 1;\n}\n.cv-sd-status.error::before {\n  content: '\\F15A';\n  font-size: 16px;\n  position: absolute;\n  top: -2px;\n  color: #d04437;\n  /* stylelint-disable-next-line font-family-no-missing-generic-family-keyword */\n  font-family: 'Atlassian Icons';\n}\n.buttons .cv-sd-status {\n  margin-left: 5px;\n  margin-right: 5px;\n}\n.field-container .error {\n  color: #d04437;\n}\n.cv-sd-status__success-icon {\n  color: #14892c;\n}\n.sd-adgs-feature-flag-m1 .cv-sd-status__success-icon {\n  color: #36B37E;\n}\n",""])},664:function(e,t,s){var r=s(663);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s(8)(r,a);r.locals&&(e.exports=r.locals)}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal~jira.admin~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow~3618c213', location = 'atl.general~customerportal~jira.admin~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow~3618c213.b342e7c69f7e58c32b4f.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[67],{11:function(s,n,i){"use strict";var a=i(257),o=i.n(a);n.a=o.a},257:function(s,n){s.exports=require("atlassian/libs/skate-0.12.6")}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_5', location = '5.7c825d1f76e7d2316e9c.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[5],{174:function(t,n,e){"use strict";e(263),soy,soydata},19:function(t,n,e){"use strict";e.r(n),e.d(n,"escapeMarkup",function(){return f}),e.d(n,"sanitizeHtml",function(){return s}),e.d(n,"DEFAULT_HELP_CENTER_COLORS",function(){return c}),e.d(n,"isValidEmailAddress",function(){return l}),e.d(n,"getMetaKeys",function(){return g}),e.d(n,"formatSizeInBytes",function(){return p}),e.d(n,"hardCodedValues",function(){return h}),e.d(n,"helpCenterLogoSizeConstraint",function(){return y}),e.d(n,"inputDebounceTime",function(){return _}),e.d(n,"supportsLocalStorage",function(){return m}),e.d(n,"supportsCanvas",function(){return E}),e.d(n,"supportsSplitCapture",function(){return S}),e.d(n,"abbreviateText",function(){return b}),e.d(n,"countAttachmentWikiMarkup",function(){return v}),e.d(n,"countLinksWikiMarkup",function(){return A}),e.d(n,"countOccurrenceOfWordsInStr",function(){return L});var r=e(6),o=e.n(r),i=e(0),u=(e(174),e(1)),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=function(t){var n=soy.$$escapeHtml(t);return n.toString?n.toString():n},s=function(t){return soydata.VERY_UNSAFE&&soydata.VERY_UNSAFE.ordainSanitizedHtml?soydata.VERY_UNSAFE.ordainSanitizedHtml(t):new soydata.SanitizedHtml(t)},c={DEFAULT_HEADER_BG_COLOR:"#205081",DEFAULT_HEADER_LINK_COLOR:"#ffffff",DEFAULT_HEADER_LINK_HOVER_COLOR:"#ffffff",DEFAULT_HEADER_LINK_HOVER_BG_COLOR:"#3572b0",DEFAULT_HEADER_BADGE_COLOR:"#3b73af"},d=/^[a-zA-Z0-9_\-+'`?=*%$#!/^{|}~.]+@([a-zA-Z0-9-]+\.)+([a-zA-Z0-9]+)$/;var l=function(t){var n,e,r=!1;if(d.test(t)){var o=t.split("@")[0];r=!(n=o,e=".",n.substr(0,e.length)===e||function(t,n){var e=t.length-n.length,r=t.indexOf(n,e);return-1!==r&&r===e}(o,".")||function(t,n){var e=!1;return n.length<=t.length&&(e=-1!==t.indexOf(n)),e}(o,".."))}return r},g=function(t){return t?{metaPressed:t.metaKey||t.ctrlKey,shiftPressed:t.shiftKey}:{metaPressed:!1,shiftPressed:!1}},p=function(t){var n=[" bytes","KB","MB","GB","TB","PB"],e=0,r=n.length-1;if(t="number"==typeof t?t:parseInt(t,10),isNaN(t))return"";for(;t>=1024&&e<r;)t/=1024,e++;return(t=Math.floor(10*t)/10)+n[e]},h={maxLogoFileSize:10485760},y={maxWidth:250,maxHeight:100},_=300,m=u.default.once(function(){try{return window.localStorage.setItem("___sd_test","true"),window.localStorage.removeItem("___sd_test"),!0}catch(t){return o.a.log("Note: localStorage not supported in this browser."),!1}}),E=u.default.once(function(){var t=document.createElement("canvas");return"function"==typeof t.getContext&&!!t.getContext("2d")}),S=u.default.once(function(){return 3==="a1a".split(/(\d)/).length}),b=function(t,n,e){if("string"==typeof t){if(isNaN(n)||n<0||t.length<=n)return t;var r="string"==typeof e?e:"",o=t.length-n+r.length,i=Math.round(t.length/2);return t.substring(0,i-Math.ceil(o/2))+r+t.substring(i+Math.floor(o/2),t.length)}},v=function(t){if("string"!=typeof t)return 0;var n=t.match(/![^!]+\.[a-zA-Z0-9]+(\|thumbnail)?!/g),e=t.match(/\[\^[^\]]+]/g),r=0;return r+=n?n.length:0,r+=e?e.length:0},A=function(t){if("string"!=typeof t)return 0;var n=t.match(/\[[^^][^\]]*]/g);return n?n.length:0},L=function(t,n){if("object"!==(void 0===t?"undefined":a(t)))return 0;if("string"!=typeof n)return 0;var e=0;return Object(i.default)(t).each(function(t,r){if("string"!=typeof r)return!0;for(var o=0,i=void 0,u=r.length;(i=n.indexOf(r,o))>=0;)e++,o=i+u}),e}},263:function(t,n,e){t.exports=void 0}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_customerportal~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow.view~sd.admin.email.re~d1dd9494', location = 'customerportal~jira.admin.conf~jira.rich.editor~jira.view.issue~jira.workflow.view~sd.admin.email.re~d1dd9494.6421f85aa08b2312132f.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[69],{22:function(s,o){s.exports=require("aui/dialog2")}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_20', location = '20.8743ae413857afe2e960.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[20],{55:function(e,s,o){var t;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Components&&(ServiceDesk.Templates.Components={}),void 0===ServiceDesk.Templates.Components.RequestTypeIcons&&(ServiceDesk.Templates.Components.RequestTypeIcons={}),ServiceDesk.Templates.Components.RequestTypeIcons.icon=function(e,s){return'<img aria-hidden="true" '+(e.style?'style="'+soy.$$escapeHtml(e.style)+'" ':"")+'class="'+(e.class?soy.$$escapeHtml(e.class)+" ":"")+'vp-rq-icon" src="'+soy.$$escapeHtml(AJS.contextPath())+(e.useCustomerShim?"/servicedesk/customershim":"")+"/secure/viewavatar?avatarType=SD_REQTYPE&amp;avatarId="+soy.$$escapeHtml(e.iconId)+'" '+(e.title?'title="'+soy.$$escapeHtml(e.title)+'"':"")+" "+(e.dataKey?"data-"+soy.$$escapeHtml(e.dataKey)+'="'+soy.$$escapeHtml(e.dataValue)+'"':"")+">"},goog.DEBUG&&(ServiceDesk.Templates.Components.RequestTypeIcons.icon.soyTemplateName="ServiceDesk.Templates.Components.RequestTypeIcons.icon"),ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon=function(e,s){return""+ServiceDesk.Templates.Components.RequestTypeIcons.icon(soy.$$augmentMap(e,{class:e.class?e.class+" vp-rq-icon-small":"vp-rq-icon-small"}))},goog.DEBUG&&(ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon.soyTemplateName="ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon"),ServiceDesk.Templates.Components.RequestTypeIcons.mediumIcon=function(e,s){return""+ServiceDesk.Templates.Components.RequestTypeIcons.icon(soy.$$augmentMap(e,{class:e.class?e.class+" vp-rq-icon-medium":"vp-rq-icon-medium"}))},goog.DEBUG&&(ServiceDesk.Templates.Components.RequestTypeIcons.mediumIcon.soyTemplateName="ServiceDesk.Templates.Components.RequestTypeIcons.mediumIcon"),void 0===(t=function(){return ServiceDesk.Templates.Components.RequestTypeIcons}.apply(s,[]))||(e.exports=t)}}]);;
;
/* module-key = 'com.atlassian.plugin.jslibs:moment-2.10.3', location = 'libs/moment/2.10.3/moment-2.10.3.js' */
(function(h){define("atlassian/libs/moment-2.10.3",function(){var G={};h.call(G);return G.moment})})(function(){var h=function(){return Ia.apply(null,arguments)},G=function(a){return"[object Array]"===Object.prototype.toString.call(a)},ba=function(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)},H=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},ca=function(a,b){for(var c in b)H(b,c)&&(a[c]=b[c]);H(b,"toString")&&(a.toString=b.toString);H(b,"valueOf")&&
(a.valueOf=b.valueOf);return a},V=function(a,b,c,d){return Ja(a,b,c,d,!0).utc()},m=function(a){null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1});return a._pf},Ka=function(a){if(null==a._isValid){var b=m(a);a._isValid=!isNaN(a._d.getTime())&&0>b.overflow&&!b.empty&&!b.invalidMonth&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated;a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&
0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid},La=function(a){var b=V(NaN);null!=a?ca(m(b),a):m(b).userInvalidated=!0;return b},Ma=function(a,b){var c,d,j;"undefined"!==typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject);"undefined"!==typeof b._i&&(a._i=b._i);"undefined"!==typeof b._f&&(a._f=b._f);"undefined"!==typeof b._l&&(a._l=b._l);"undefined"!==typeof b._strict&&(a._strict=b._strict);"undefined"!==typeof b._tzm&&(a._tzm=b._tzm);"undefined"!==typeof b._isUTC&&
(a._isUTC=b._isUTC);"undefined"!==typeof b._offset&&(a._offset=b._offset);"undefined"!==typeof b._pf&&(a._pf=m(b));"undefined"!==typeof b._locale&&(a._locale=b._locale);if(0<oa.length)for(c in oa)d=oa[c],j=b[d],"undefined"!==typeof j&&(a[d]=j);return a},W=function(a){Ma(this,a);this._d=new Date(+a._d);!1===pa&&(pa=!0,h.updateOffset(this),pa=!1)},C=function(a){return a instanceof W||null!=a&&null!=a._isAMomentObject},o=function(a){var a=+a,b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));
return b},Na=function(a,b,c){var d=Math.min(a.length,b.length),j=Math.abs(a.length-b.length),f=0,p;for(p=0;p<d;p++)(c&&a[p]!==b[p]||!c&&o(a[p])!==o(b[p]))&&f++;return f+j},Oa=function(){},Pa=function(a){var b=null;if(!I[a]&&"undefined"!==typeof module&&module&&module.exports)try{b=da._abbr,require("./locale/"+a),X(b)}catch(c){}return I[a]},X=function(a,b){var c;a&&(c="undefined"===typeof b?J(a):Qa(a,b))&&(da=c);return da._abbr},Qa=function(a,b){if(null!==b)return b.abbr=a,I[a]||(I[a]=new Oa),I[a].set(b),
X(a),I[a];delete I[a];return null},J=function(a){var b;a&&(a._locale&&a._locale._abbr)&&(a=a._locale._abbr);if(!a)return da;if(!G(a)){if(b=Pa(a))return b;a=[a]}a:{b=0;for(var c,d,j,f;b<a.length;){f=(a[b]?a[b].toLowerCase().replace("_","-"):a[b]).split("-");c=f.length;for(d=(d=a[b+1]?a[b+1].toLowerCase().replace("_","-"):a[b+1])?d.split("-"):null;0<c;){if(j=Pa(f.slice(0,c).join("-"))){a=j;break a}if(d&&d.length>=c&&Na(f,d,!0)>=c-1)break;c--}b++}a=null}return a},s=function(a,b){var c=a.toLowerCase();
Y[c]=Y[c+"s"]=Y[b]=a},v=function(a){return"string"===typeof a?Y[a]||Y[a.toLowerCase()]:void 0},Ra=function(a){var b={},c,d;for(d in a)H(a,d)&&(c=v(d))&&(b[c]=a[d]);return b},Q=function(a,b){return function(c){return null!=c?(this._d["set"+(this._isUTC?"UTC":"")+a](c),h.updateOffset(this,b),this):ea(this,a)}},ea=function(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()},Sa=function(a,b){var c;if("object"===typeof a)for(c in a)this.set(c,a[c]);else if(a=v(a),"function"===typeof this[a])return this[a](b);
return this},qa=function(a,b,c){for(var d=""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d},i=function(a,b,c,d){var j=d;"string"===typeof d&&(j=function(){return this[d]()});a&&(R[a]=j);b&&(R[b[0]]=function(){return qa(j.apply(this,arguments),b[1],b[2])});c&&(R[c]=function(){return this.localeData().ordinal(j.apply(this,arguments),a)})},sa=function(a,b){if(!a.isValid())return a.localeData().invalidDate();b=Ta(b,a.localeData());if(!ra[b]){var c=ra,d=b,j=b,f=j.match(Ua),p,e;p=0;for(e=
f.length;p<e;p++)f[p]=R[f[p]]?R[f[p]]:f[p].match(/\[[\s\S]/)?f[p].replace(/^\[|\]$/g,""):f[p].replace(/\\/g,"");c[d]=function(a){var b="";for(p=0;p<e;p++)b+=f[p]instanceof Function?f[p].call(a,j):f[p];return b}}return ra[b](a)},Ta=function(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(fa.lastIndex=0;0<=d&&fa.test(a);)a=a.replace(fa,c),fa.lastIndex=0,d-=1;return a},g=function(a,b,c){ta[a]="function"===typeof b?b:function(a){return a&&c?c:b}},tb=function(a,b){return!H(ta,a)?RegExp(a.replace("\\",
"").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,j,f,e){return b||j||f||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")):ta[a](b._strict,b._locale)},r=function(a,b){var c,d=b;"string"===typeof a&&(a=[a]);"number"===typeof b&&(d=function(a,c){c[b]=o(a)});for(c=0;c<a.length;c++)ua[a[c]]=d},Z=function(a,b){r(a,function(a,d,j,f){j._w=j._w||{};b(a,j._w,j,f)})},va=function(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},Va=function(a,b){var c;if("string"===typeof b&&(b=a.localeData().monthsParse(b),
"number"!==typeof b))return a;c=Math.min(a.date(),va(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a},Wa=function(a){return null!=a?(Va(this,a),h.updateOffset(this,!0),this):ea(this,"Month")},wa=function(a){var b;if((b=a._a)&&-2===m(a).overflow){b=0>b[z]||11<b[z]?z:1>b[x]||b[x]>va(b[A],b[z])?x:0>b[t]||24<b[t]||24===b[t]&&(0!==b[K]||0!==b[L]||0!==b[M])?t:0>b[K]||59<b[K]?K:0>b[L]||59<b[L]?L:0>b[M]||999<b[M]?M:-1;if(m(a)._overflowDayOfYear&&(b<A||b>x))b=x;m(a).overflow=b}return a},
Xa=function(a){!1===h.suppressDeprecationWarnings&&("undefined"!==typeof console&&console.warn)&&console.warn("Deprecation warning: "+a)},w=function(a,b){var c=!0,d=a+"\n"+Error().stack;return ca(function(){c&&(Xa(d),c=!1);return b.apply(this,arguments)},b)},Ya=function(a){var b,c,d=a._i,j=ub.exec(d);if(j){m(a).iso=!0;b=0;for(c=xa.length;b<c;b++)if(xa[b][1].exec(d)){a._f=xa[b][0]+(j[6]||" ");break}b=0;for(c=ya.length;b<c;b++)if(ya[b][1].exec(d)){a._f+=ya[b][0];break}d.match(ga)&&(a._f+="Z");za(a)}else a._isValid=
!1},vb=function(a,b,c,d,j,f,e){b=new Date(a,b,c,d,j,f,e);1970>a&&b.setFullYear(a);return b},Aa=function(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b},Ba=function(a){return 0===a%4&&0!==a%100||0===a%400},N=function(a,b,c){b=c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=n(a).add(c,"d");return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}},S=function(a,b,c){return null!=a?a:null!=b?b:c},Ca=function(a){var b,c,d=[],j;if(!a._d){j=new Date;j=a._useUTC?[j.getUTCFullYear(),
j.getUTCMonth(),j.getUTCDate()]:[j.getFullYear(),j.getMonth(),j.getDate()];if(a._w&&null==a._a[x]&&null==a._a[z]){var f,e,g;f=a._w;null!=f.GG||null!=f.W||null!=f.E?(b=1,g=4,c=S(f.GG,a._a[A],N(n(),1,4).year),e=S(f.W,1),f=S(f.E,1)):(b=a._locale._week.dow,g=a._locale._week.doy,c=S(f.gg,a._a[A],N(n(),b,g).year),e=S(f.w,1),null!=f.d?(f=f.d,f<b&&++e):f=null!=f.e?f.e+b:b);var h=Aa(c,0,1).getUTCDay(),h=0===h?7:h;g=7*(e-1)+((null!=f?f:b)-b)+(b-h+(h>g?7:0)-(h<b?7:0))+1;b=0<g?c:c-1;c=0<g?g:(Ba(c-1)?366:365)+
g;a._a[A]=b;a._dayOfYear=c}if(a._dayOfYear){c=S(a._a[A],j[A]);if(a._dayOfYear>(Ba(c)?366:365))m(a)._overflowDayOfYear=!0;c=Aa(c,0,a._dayOfYear);a._a[z]=c.getUTCMonth();a._a[x]=c.getUTCDate()}for(c=0;3>c&&null==a._a[c];++c)a._a[c]=d[c]=j[c];for(;7>c;c++)a._a[c]=d[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[t]&&(0===a._a[K]&&0===a._a[L]&&0===a._a[M])&&(a._nextDay=!0,a._a[t]=0);a._d=(a._useUTC?Aa:vb).apply(null,d);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[t]=24)}},
za=function(a){if(a._f===h.ISO_8601)Ya(a);else{a._a=[];m(a).empty=!0;var b=""+a._i,c,d,j,f,e,g=b.length,i=0;j=Ta(a._f,a._locale).match(Ua)||[];for(c=0;c<j.length;c++){f=j[c];if(d=(b.match(tb(f,a))||[])[0])e=b.substr(0,b.indexOf(d)),0<e.length&&m(a).unusedInput.push(e),b=b.slice(b.indexOf(d)+d.length),i+=d.length;if(R[f]){if(d?m(a).empty=!1:m(a).unusedTokens.push(f),e=a,null!=d&&H(ua,f))ua[f](d,e._a,e,f)}else a._strict&&!d&&m(a).unusedTokens.push(f)}m(a).charsLeftOver=g-i;0<b.length&&m(a).unusedInput.push(b);
!0===m(a).bigHour&&(12>=a._a[t]&&0<a._a[t])&&(m(a).bigHour=void 0);b=a._a;c=t;g=a._locale;j=a._a[t];i=a._meridiem;null!=i&&(null!=g.meridiemHour?j=g.meridiemHour(j,i):null!=g.isPM&&((g=g.isPM(i))&&12>j&&(j+=12),!g&&12===j&&(j=0)));b[c]=j;Ca(a);wa(a)}},Ja=function(a,b,c,d,j){var f={};"boolean"===typeof c&&(d=c,c=void 0);f._isAMomentObject=!0;f._useUTC=f._isUTC=j;f._l=c;f._i=a;f._f=b;f._strict=d;a=f._i;b=f._f;f._locale=f._locale||J(f._l);if(null===a||void 0===b&&""===a)f=La({nullInput:!0});else if("string"===
typeof a&&(f._i=a=f._locale.preparse(a)),C(a))f=new W(wa(a));else{if(G(b)){var e,g,i;if(0===f._f.length)m(f).invalidFormat=!0,f._d=new Date(NaN);else{for(a=0;a<f._f.length;a++)if(b=0,e=Ma({},f),null!=f._useUTC&&(e._useUTC=f._useUTC),e._f=f._f[a],za(e),Ka(e))if(b+=m(e).charsLeftOver,b+=10*m(e).unusedTokens.length,m(e).score=b,null==i||b<i)i=b,g=e;ca(f,g||e)}}else if(b)za(f);else if(ba(a))f._d=a;else if(e=f._i,void 0===e)f._d=new Date;else if(ba(e))f._d=new Date(+e);else if("string"===typeof e)e=wb.exec(f._i),
null!==e?f._d=new Date(+e[1]):(Ya(f),!1===f._isValid&&(delete f._isValid,h.createFromInputFallback(f)));else if(G(e)){e=e.slice(0);g=[];for(i=0;i<e.length;++i)g.push(parseInt(e[i],10));f._a=g;Ca(f)}else"object"===typeof e?f._d||(e=Ra(f._i),f._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],Ca(f)):"number"===typeof e?f._d=new Date(e):h.createFromInputFallback(f);f=new W(wa(f));f._nextDay&&(f.add(1,"d"),f._nextDay=void 0)}return f},n=function(a,b,c,d){return Ja(a,b,c,d,!1)},
Za=function(a,b){var c,d;1===b.length&&G(b[0])&&(b=b[0]);if(!b.length)return n();c=b[0];for(d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c},ha=function(a){var a=Ra(a),b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||0,f=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+f+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=J();this._bubble()},Da=function(a){return a instanceof ha},$a=function(a,b){i(a,0,0,function(){var a=this.utcOffset(),
d="+";0>a&&(a=-a,d="-");return d+qa(~~(a/60),2)+b+qa(~~a%60,2)})},Ea=function(a){var a=(a||"").match(ga)||[],a=((a[a.length-1]||[])+"").match(xb)||["-",0,0],b=+(60*a[1])+o(a[2]);return"+"===a[0]?b:-b},Fa=function(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(C(a)||ba(a)?+a:+n(a))-+c,c._d.setTime(+c._d+d),h.updateOffset(c,!1),c):n(a).local()},ab=function(){return this._isUTC&&0===this._offset},D=function(a,b){var c=a,d=null;if(Da(a))c={ms:a._milliseconds,d:a._days,M:a._months};else if("number"===typeof a)c=
{},b?c[b]=a:c.milliseconds=a;else if(d=yb.exec(a))c="-"===d[1]?-1:1,c={y:0,d:o(d[x])*c,h:o(d[t])*c,m:o(d[K])*c,s:o(d[L])*c,ms:o(d[M])*c};else if(d=zb.exec(a))c="-"===d[1]?-1:1,c={y:O(d[2],c),M:O(d[3],c),d:O(d[4],c),h:O(d[5],c),m:O(d[6],c),s:O(d[7],c),w:O(d[8],c)};else if(null==c)c={};else if("object"===typeof c&&("from"in c||"to"in c))d=n(c.from),c=n(c.to),c=Fa(c,d),d.isBefore(c)?c=bb(d,c):(c=bb(c,d),c.milliseconds=-c.milliseconds,c.months=-c.months),d=c,c={},c.ms=d.milliseconds,c.M=d.months;c=new ha(c);
Da(a)&&H(a,"_locale")&&(c._locale=a._locale);return c},O=function(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b},bb=function(a,b){var c={milliseconds:0,months:0};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c},eb=function(a,b){return function(c,d){var e;null!==d&&!isNaN(+d)&&(cb[b]||(Xa("moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),
cb[b]=!0),e=c,c=d,d=e);e=D("string"===typeof c?+c:c,d);db(this,e,a);return this}},db=function(a,b,c,d){var e=b._milliseconds,f=b._days,b=b._months,d=null==d?!0:d;e&&a._d.setTime(+a._d+e*c);f&&(e=ea(a,"Date")+f*c,a._d["set"+(a._isUTC?"UTC":"")+"Date"](e));b&&Va(a,ea(a,"Month")+b*c);d&&h.updateOffset(a,f||b)},y=function(a){return 0>a?Math.ceil(a):Math.floor(a)},fb=function(){var a=this.clone().utc();return 0<a.year()&&9999>=a.year()?"function"===typeof Date.prototype.toISOString?this.toDate().toISOString():
sa(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):sa(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},gb=function(a){if(void 0===a)return this._locale._abbr;a=J(a);null!=a&&(this._locale=a);return this},hb=function(){return this._locale},ia=function(a,b){i(0,[a,a.length],0,b)},ib=function(a,b,c){return N(n([a,11,31+b-c]),b,c).week},jb=function(a,b){i(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})},kb=function(a,b){return b._meridiemParse},lb=function(a){return a},mb=function(a,b,c,d){var e=
J(),b=V().set(d,b);return e[c](b,a)},$=function(a,b,c,d,e){"number"===typeof a&&(b=a,a=void 0);a=a||"";if(null!=b)return mb(a,b,c,e);for(var f=[],b=0;b<d;b++)f[b]=mb(a,b,c,e);return f},nb=function(a,b,c,d){b=D(b,c);a._milliseconds+=d*b._milliseconds;a._days+=d*b._days;a._months+=d*b._months;return a._bubble()},E=function(a){return function(){return this.as(a)}},P=function(a){return function(){return this._data[a]}},Ab=function(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)},ja=function(){var a=T(this.years()),
b=T(this.months()),c=T(this.days()),d=T(this.hours()),e=T(this.minutes()),f=T(this.seconds()+this.milliseconds()/1E3),g=this.asSeconds();return!g?"P0D":(0>g?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":"")},Ia,oa=h.momentProperties=[],pa=!1,I={},da,Y={},Ua=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,fa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
ra={},R={},ob=/\d/,u=/\d\d/,pb=/\d{3}/,Ga=/\d{4}/,ka=/[+-]?\d{6}/,q=/\d\d?/,la=/\d{1,3}/,Ha=/\d{1,4}/,ma=/[+-]?\d{1,6}/,na=/[+-]?\d+/,ga=/Z|[+-]\d\d:?\d\d/gi,aa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ta={},ua={},A=0,z=1,x=2,t=3,K=4,L=5,M=6;i("M",["MM",2],"Mo",function(){return this.month()+1});i("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});i("MMMM",0,0,function(a){return this.localeData().months(this,
a)});s("month","M");g("M",q);g("MM",q,u);g("MMM",aa);g("MMMM",aa);r(["M","MM"],function(a,b){b[z]=o(a)-1});r(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);null!=d?b[z]=d:m(c).invalidMonth=a});var cb={};h.suppressDeprecationWarnings=!1;var ub=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",
/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ya=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],wb=/^\/?Date\((\-?\d+)/i;h.createFromInputFallback=w("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});
i(0,["YY",2],0,function(){return this.year()%100});i(0,["YYYY",4],0,"year");i(0,["YYYYY",5],0,"year");i(0,["YYYYYY",6,!0],0,"year");s("year","y");g("Y",na);g("YY",q,u);g("YYYY",Ha,Ga);g("YYYYY",ma,ka);g("YYYYYY",ma,ka);r(["YYYY","YYYYY","YYYYYY"],A);r("YY",function(a,b){b[A]=h.parseTwoDigitYear(a)});h.parseTwoDigitYear=function(a){return o(a)+(68<o(a)?1900:2E3)};var qb=Q("FullYear",!1);i("w",["ww",2],"wo","week");i("W",["WW",2],"Wo","isoWeek");s("week","w");s("isoWeek","W");g("w",q);g("ww",q,u);g("W",
q);g("WW",q,u);Z(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=o(a)});i("DDD",["DDDD",3],"DDDo","dayOfYear");s("dayOfYear","DDD");g("DDD",la);g("DDDD",pb);r(["DDD","DDDD"],function(a,b,c){c._dayOfYear=o(a)});h.ISO_8601=function(){};var Bb=w("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=n.apply(null,arguments);return a<this?this:a}),Cb=w("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
function(){var a=n.apply(null,arguments);return a>this?this:a});$a("Z",":");$a("ZZ","");g("Z",ga);g("ZZ",ga);r(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=Ea(a)});var xb=/([\+\-]|\d\d)/gi;h.updateOffset=function(){};var yb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;D.fn=ha.prototype;var Db=eb(1,"add"),Eb=eb(-1,"subtract");h.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";
var rb=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});i(0,["gg",2],0,function(){return this.weekYear()%100});i(0,["GG",2],0,function(){return this.isoWeekYear()%100});ia("gggg","weekYear");ia("ggggg","weekYear");ia("GGGG","isoWeekYear");ia("GGGGG","isoWeekYear");s("weekYear","gg");s("isoWeekYear","GG");g("G",na);g("g",na);g("GG",q,u);
g("gg",q,u);g("GGGG",Ha,Ga);g("gggg",Ha,Ga);g("GGGGG",ma,ka);g("ggggg",ma,ka);Z(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=o(a)});Z(["gg","GG"],function(a,b,c,d){b[d]=h.parseTwoDigitYear(a)});i("Q",0,0,"quarter");s("quarter","Q");g("Q",ob);r("Q",function(a,b){b[z]=3*(o(a)-1)});i("D",["DD",2],"Do","date");s("date","D");g("D",q);g("DD",q,u);g("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient});r(["D","DD"],x);r("Do",function(a,b){b[x]=o(a.match(q)[0],10)});var sb=
Q("Date",!0);i("d",0,"do","day");i("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});i("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});i("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});i("e",0,0,"weekday");i("E",0,0,"isoWeekday");s("day","d");s("weekday","e");s("isoWeekday","E");g("d",q);g("e",q);g("E",q);g("dd",aa);g("ddd",aa);g("dddd",aa);Z(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:m(c).invalidWeekday=
a});Z(["d","e","E"],function(a,b,c,d){b[d]=o(a)});i("H",["HH",2],0,"hour");i("h",["hh",2],0,function(){return this.hours()%12||12});jb("a",!0);jb("A",!1);s("hour","h");g("a",kb);g("A",kb);g("H",q);g("h",q);g("HH",q,u);g("hh",q,u);r(["H","HH"],t);r(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});r(["h","hh"],function(a,b,c){b[t]=o(a);m(c).bigHour=!0});var Fb=Q("Hours",!0);i("m",["mm",2],0,"minute");s("minute","m");g("m",q);g("mm",q,u);r(["m","mm"],K);var Gb=Q("Minutes",!1);i("s",
["ss",2],0,"second");s("second","s");g("s",q);g("ss",q,u);r(["s","ss"],L);var Hb=Q("Seconds",!1);i("S",0,0,function(){return~~(this.millisecond()/100)});i(0,["SS",2],0,function(){return~~(this.millisecond()/10)});i(0,["SSS",3],0,"millisecond");i(0,["SSSS",3],0,"millisecond");s("millisecond","ms");g("S",la,ob);g("SS",la,u);g("SSS",la,pb);g("SSSS",/\d+/);r(["S","SS","SSS","SSSS"],function(a,b){b[M]=o(1E3*("0."+a))});var Ib=Q("Milliseconds",!1);i("z",0,0,"zoneAbbr");i("zz",0,0,"zoneName");var e=W.prototype;
e.add=Db;e.calendar=function(a){var a=a||n(),b=Fa(a,this).startOf("day"),b=this.diff(b,"days",!0);return this.format(this.localeData().calendar(-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse",this,n(a)))};e.clone=function(){return new W(this)};e.diff=function(a,b,c){var a=Fa(a,this),d=6E4*(a.utcOffset()-this.utcOffset()),b=v(b);if("year"===b||"month"===b||"quarter"===b){var d=12*(a.year()-this.year())+(a.month()-this.month()),e=this.clone().add(d,
"months"),f;0>a-e?(f=this.clone().add(d-1,"months"),a=(a-e)/(e-f)):(f=this.clone().add(d+1,"months"),a=(a-e)/(f-e));a=-(d+a);"quarter"===b?a/=3:"year"===b&&(a/=12)}else a=this-a,a="second"===b?a/1E3:"minute"===b?a/6E4:"hour"===b?a/36E5:"day"===b?(a-d)/864E5:"week"===b?(a-d)/6048E5:a;return c?a:y(a)};e.endOf=function(a){a=v(a);return void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")};e.format=function(a){a=sa(this,a||h.defaultFormat);return this.localeData().postformat(a)};
e.from=function(a,b){return!this.isValid()?this.localeData().invalidDate():D({to:this,from:a}).locale(this.locale()).humanize(!b)};e.fromNow=function(a){return this.from(n(),a)};e.to=function(a,b){return!this.isValid()?this.localeData().invalidDate():D({from:this,to:a}).locale(this.locale()).humanize(!b)};e.toNow=function(a){return this.to(n(),a)};e.get=Sa;e.invalidAt=function(){return m(this).overflow};e.isAfter=function(a,b){b=v("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=
C(a)?a:n(a),+this>+a):(C(a)?+a:+n(a))<+this.clone().startOf(b)};e.isBefore=function(a,b){var c,b=v("undefined"!==typeof b?b:"millisecond");if("millisecond"===b)return a=C(a)?a:n(a),+this<+a;c=C(a)?+a:+n(a);return+this.clone().endOf(b)<c};e.isBetween=function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)};e.isSame=function(a,b){var c,b=v(b||"millisecond");if("millisecond"===b)return a=C(a)?a:n(a),+this===+a;c=+n(a);return+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b)};e.isValid=function(){return Ka(this)};
e.lang=rb;e.locale=gb;e.localeData=hb;e.max=Cb;e.min=Bb;e.parsingFlags=function(){return ca({},m(this))};e.set=Sa;e.startOf=function(a){a=v(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a&&this.weekday(0);"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this};e.subtract=
Eb;e.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};e.toDate=function(){return this._offset?new Date(+this):this._d};e.toISOString=fb;e.toJSON=fb;e.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};e.unix=function(){return Math.floor(+this/1E3)};e.valueOf=function(){return+this._d-6E4*(this._offset||0)};e.year=qb;e.isLeapYear=function(){return Ba(this.year())};e.weekYear=function(a){var b=
N(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")};e.isoWeekYear=function(a){var b=N(this,1,4).year;return null==a?b:this.add(a-b,"y")};e.quarter=e.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};e.month=Wa;e.daysInMonth=function(){return va(this.year(),this.month())};e.week=e.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")};e.isoWeek=e.isoWeeks=function(a){var b=
N(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};e.weeksInYear=function(){var a=this.localeData()._week;return ib(this.year(),a.dow,a.doy)};e.isoWeeksInYear=function(){return ib(this.year(),1,4)};e.date=sb;e.day=e.days=function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){a:{var c=this.localeData();if("string"===typeof a)if(isNaN(a)){if(a=c.weekdaysParse(a),"number"!==typeof a){a=null;break a}}else a=parseInt(a,10)}return this.add(a-b,"d")}return b};e.weekday=function(a){var b=
(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};e.isoWeekday=function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)};e.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};e.hour=e.hours=Fb;e.minute=e.minutes=Gb;e.second=e.seconds=Hb;e.millisecond=e.milliseconds=Ib;e.utcOffset=function(a,b){var c=this._offset||0,d;return null!=a?("string"===typeof a&&(a=Ea(a)),
16>Math.abs(a)&&(a*=60),!this._isUTC&&b&&(d=15*-Math.round(this._d.getTimezoneOffset()/15)),this._offset=a,this._isUTC=!0,null!=d&&this.add(d,"m"),c!==a&&(!b||this._changeInProgress?db(this,D(a-c,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,h.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?c:15*-Math.round(this._d.getTimezoneOffset()/15)};e.utc=function(a){return this.utcOffset(0,a)};e.local=function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(15*
-Math.round(this._d.getTimezoneOffset()/15),"m"));return this};e.parseZone=function(){this._tzm?this.utcOffset(this._tzm):"string"===typeof this._i&&this.utcOffset(Ea(this._i));return this};e.hasAlignedHourOffset=function(a){a=a?n(a).utcOffset():0;return 0===(this.utcOffset()-a)%60};e.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};e.isDSTShifted=function(){if(this._a){var a=this._isUTC?V(this._a):n(this._a);return this.isValid()&&
0<Na(this._a,a.toArray())}return!1};e.isLocal=function(){return!this._isUTC};e.isUtcOffset=function(){return this._isUTC};e.isUtc=ab;e.isUTC=ab;e.zoneAbbr=function(){return this._isUTC?"UTC":""};e.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};e.dates=w("dates accessor is deprecated. Use date instead.",sb);e.months=w("months accessor is deprecated. Use month instead",Wa);e.years=w("years accessor is deprecated. Use year instead",qb);e.zone=w("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",
function(a,b){return null!=a?("string"!==typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});var k=Oa.prototype;k._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};k.calendar=function(a,b,c){a=this._calendar[a];return"function"===typeof a?a.call(b,c):a};k._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"};
k.longDateFormat=function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b};k._invalidDate="Invalid date";k.invalidDate=function(){return this._invalidDate};k._ordinal="%d";k.ordinal=function(a){return this._ordinal.replace("%d",a)};k._ordinalParse=/\d{1,2}/;k.preparse=lb;k.postformat=lb;k._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",
m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};k.relativeTime=function(a,b,c,d){var e=this._relativeTime[c];return"function"===typeof e?e(a,b,c,d):e.replace(/%d/i,a)};k.pastFuture=function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)};k.set=function(a){var b,c;for(c in a)b=a[c],"function"===typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=RegExp(this._ordinalParse.source+
"|"+/\d{1,2}/.source)};k.months=function(a){return this._months[a.month()]};k._months="January February March April May June July August September October November December".split(" ");k.monthsShort=function(a){return this._monthsShort[a.month()]};k._monthsShort="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");k.monthsParse=function(a,b,c){var d,e;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if(e=V([2E3,d]),c&&!this._longMonthsParse[d]&&
(this._longMonthsParse[d]=RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),!c&&!this._monthsParse[d]&&(e="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=RegExp(e.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a)||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||!c&&this._monthsParse[d].test(a))return d};k.week=function(a){return N(a,this._week.dow,this._week.doy).week};
k._week={dow:0,doy:6};k.firstDayOfYear=function(){return this._week.doy};k.firstDayOfWeek=function(){return this._week.dow};k.weekdays=function(a){return this._weekdays[a.day()]};k._weekdays="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");k.weekdaysMin=function(a){return this._weekdaysMin[a.day()]};k._weekdaysMin="Su Mo Tu We Th Fr Sa".split(" ");k.weekdaysShort=function(a){return this._weekdaysShort[a.day()]};k._weekdaysShort="Sun Mon Tue Wed Thu Fri Sat".split(" ");k.weekdaysParse=
function(a){var b,c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=n([2E3,1]).day(b),c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b};k.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};k._meridiemParse=/[ap]\.?m?\.?/i;k.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};X("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,
ordinal:function(a){var b=a%10,b=1===o(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});h.lang=w("moment.lang is deprecated. Use moment.locale instead.",X);h.langData=w("moment.langData is deprecated. Use moment.localeData instead.",J);var B=Math.abs,Jb=E("ms"),Kb=E("s"),Lb=E("m"),Mb=E("h"),Nb=E("d"),Ob=E("w"),Pb=E("M"),Qb=E("y"),Rb=P("milliseconds"),Sb=P("seconds"),Tb=P("minutes"),Ub=P("hours"),Vb=P("days"),Wb=P("months"),Xb=P("years"),U=Math.round,F={s:45,m:45,h:22,d:26,M:11},
T=Math.abs,l=ha.prototype;l.abs=function(){var a=this._data;this._milliseconds=B(this._milliseconds);this._days=B(this._days);this._months=B(this._months);a.milliseconds=B(a.milliseconds);a.seconds=B(a.seconds);a.minutes=B(a.minutes);a.hours=B(a.hours);a.months=B(a.months);a.years=B(a.years);return this};l.add=function(a,b){return nb(this,a,b,1)};l.subtract=function(a,b){return nb(this,a,b,-1)};l.as=function(a){var b,c=this._milliseconds,a=v(a);if("month"===a||"year"===a)return b=this._days+c/864E5,
b=this._months+12*(400*b/146097),"month"===a?b:b/12;b=this._days+Math.round(146097*(this._months/12)/400);switch(a){case "week":return b/7+c/6048E5;case "day":return b+c/864E5;case "hour":return 24*b+c/36E5;case "minute":return 1440*b+c/6E4;case "second":return 86400*b+c/1E3;case "millisecond":return Math.floor(864E5*b)+c;default:throw Error("Unknown unit "+a);}};l.asMilliseconds=Jb;l.asSeconds=Kb;l.asMinutes=Lb;l.asHours=Mb;l.asDays=Nb;l.asWeeks=Ob;l.asMonths=Pb;l.asYears=Qb;l.valueOf=function(){return this._milliseconds+
864E5*this._days+2592E6*(this._months%12)+31536E6*o(this._months/12)};l._bubble=function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data,e=0;d.milliseconds=a%1E3;a=y(a/1E3);d.seconds=a%60;a=y(a/60);d.minutes=a%60;a=y(a/60);d.hours=a%24;b+=y(a/24);e=y(400*b/146097);b-=y(146097*e/400);c+=y(b/30);b%=30;e+=y(c/12);d.days=b;d.months=c%12;d.years=e;return this};l.get=function(a){a=v(a);return this[a+"s"]()};l.milliseconds=Rb;l.seconds=Sb;l.minutes=Tb;l.hours=Ub;l.days=Vb;l.weeks=function(){return y(this.days()/
7)};l.months=Wb;l.years=Xb;l.humanize=function(a){var b=this.localeData(),c;c=!a;var d=D(this).abs(),e=U(d.as("s")),f=U(d.as("m")),g=U(d.as("h")),h=U(d.as("d")),i=U(d.as("M")),d=U(d.as("y")),e=e<F.s&&["s",e]||1===f&&["m"]||f<F.m&&["mm",f]||1===g&&["h"]||g<F.h&&["hh",g]||1===h&&["d"]||h<F.d&&["dd",h]||1===i&&["M"]||i<F.M&&["MM",i]||1===d&&["y"]||["yy",d];e[2]=c;e[3]=0<+this;e[4]=b;c=Ab.apply(null,e);a&&(c=b.pastFuture(+this,c));return b.postformat(c)};l.toISOString=ja;l.toString=ja;l.toJSON=ja;l.locale=
gb;l.localeData=hb;l.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ja);l.lang=rb;i("X",0,0,"unix");i("x",0,0,"valueOf");g("x",na);g("X",/[+-]?\d+(\.\d{1,3})?/);r("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))});r("x",function(a,b,c){c._d=new Date(o(a))});h.version="2.10.3";Ia=n;h.fn=e;h.min=function(){var a=[].slice.call(arguments,0);return Za("isBefore",a)};h.max=function(){var a=[].slice.call(arguments,0);return Za("isAfter",a)};h.utc=
V;h.unix=function(a){return n(1E3*a)};h.months=function(a,b){return $(a,b,"months",12,"month")};h.isDate=ba;h.locale=X;h.invalid=La;h.duration=D;h.isMoment=C;h.weekdays=function(a,b){return $(a,b,"weekdays",7,"day")};h.parseZone=function(){return n.apply(null,arguments).parseZone()};h.localeData=J;h.isDuration=Da;h.monthsShort=function(a,b){return $(a,b,"monthsShort",12,"month")};h.weekdaysMin=function(a,b){return $(a,b,"weekdaysMin",7,"day")};h.defineLocale=Qa;h.weekdaysShort=function(a,b){return $(a,
b,"weekdaysShort",7,"day")};h.normalizeUnits=v;h.relativeTimeThreshold=function(a,b){if(void 0===F[a])return!1;if(void 0===b)return F[a];F[a]=b;return!0};this.moment=h});;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_13', location = '13.efec9e2eb0453be85390.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[13],{108:function(e,a){e.exports=require("atlassian/libs/moment-2.10.3")},27:function(e,a,n){"use strict";var o=n(108),s=n.n(o),l=n(32),t=n(0);Object(t.default)(function(){var e="Dates rendered by moment.js will appear untranslated. Use PageLanguageTools.java.",a=Object(l.a)("moment_user_locale");if(void 0!==a&&null!==a||(console.info("WRM data for key [moment_user_locale] returned undefined. "+e),a="en"),void 0!==a&&null!=a&&"en"!=a){try{window.require("servicedesk/moment-locale")(s.a)}catch(a){console.info("Failed to resolved module [servicedesk/moment-locale]. This may mean that moment.js translations for this locale are not available. "+e)}s.a.locale([a,"en"])}}),a.a=s.a}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_customerportal~jira.view.issue~sd.project.admin~sd.project.sidebar.content~sd.project.view', location = 'customerportal~jira.view.issue~sd.project.admin~sd.project.sidebar.content~sd.project.view.a7a1143f9f3478ed17a8.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[73],{30:function(n,t,s){"use strict";s.d(t,"a",function(){return o});var o=function(n){return!!(n.ctrlKey||n.metaKey||n.shiftKey||1===n.button)}}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_14', location = '14.0582fff14d409e267205.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[14],{65:function(s,e){s.exports=require("jira/ajs/select/single-select")}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal~jira.view.issue~sd.project.admin', location = 'atl.general~customerportal~jira.view.issue~sd.project.admin.ee6cd6b606c3f36c0282.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[79],{112:function(C,A,c){var l=c(654);"string"==typeof l&&(l=[[C.i,l,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};c(8)(l,s);l.locals&&(C.exports=l.locals)},654:function(C,A,c){(C.exports=c(9)(!1)).push([C.i,'/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n/*\n * Do NOT use .vp-rq-icon directly. Call ServiceDesk.Templates.Components.RequestTypeIcons.icon instead.\n */\n.vp-rq-icon {\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  padding: 5px;\n  overflow: hidden;\n  box-sizing: border-box;\n  background: no-repeat center;\n  background-size: contain !important;\n  background-origin: content-box;\n}\n.vp-rq-icon.title-icon {\n  max-width: 48px !important;\n  max-height: 48px !important;\n}\n.vp-rq-icon::before {\n  display: block;\n  margin-bottom: 100px;\n  margin-left: -3px;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 54px;\n  line-height: 0.9;\n  -webkit-font-smoothing: antialiased;\n  speak: none;\n}\n.page-title .vp-rq-icon {\n  width: 72px;\n  height: 72px;\n  margin-left: -10px;\n}\n.page-title .vp-rq-icon::before {\n  font-size: 72px;\n}\n#issuetable img.sd-recent-rt.vp-rq-icon,\n.sd-recent-rt.vp-rq-icon {\n  width: 24px;\n  height: 24px;\n  vertical-align: middle;\n}\n.sd-recent-rt.vp-rq-icon::before {\n  font-size: 27px;\n}\n.vp-rq-icon.sd-portal-preview-icon::before {\n  font-size: 30px;\n  margin-top: -2px;\n}\n.sd-recent-rt-link.active .sd-recent-rt.vp-rq-icon::before {\n  color: #fff;\n}\n.request-list-item .vp-rq-icon {\n  position: absolute;\n  left: -60px;\n  top: 15px;\n}\n/**\n * Small size request type icons\n */\n.vp-rq-icon.vp-rq-icon-small {\n  width: 22px;\n  height: 22px;\n  padding: 2px;\n}\n/**\n * Medium size request type icons\n */\n.vp-rq-icon.vp-rq-icon-medium {\n  width: 32px;\n  height: 32px;\n  padding: 2px;\n}\n/*\n    IMPORTANT: The IDs and names for these icons are represented in the\n    back-end code base in RequestTypeIcon.java. If you change anything here make sure to change it there\n    too.\n*/\n.vp-rq-icon-0 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20147.5%20147.5%22%20style%3D%22enable-background%3Anew%200%200%20147.5%20147.5%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M147.5%2C73.7c0%2C20.4-7.2%2C37.8-21.6%2C52.2c-14.4%2C14.4-31.8%2C21.6-52.2%2C21.6c-20.4%2C0-37.8-7.2-52.2-21.6%0A%09C7.2%2C111.5%2C0%2C94.1%2C0%2C73.7C0%2C53.4%2C7.2%2C36%2C21.6%2C21.6C36%2C7.2%2C53.3%2C0%2C73.7%2C0c20.4%2C0%2C37.8%2C7.2%2C52.2%2C21.6C140.3%2C36%2C147.5%2C53.4%2C147.5%2C73.7z%0A%09%20M9.2%2C73.7c0%2C17.9%2C6.3%2C33.1%2C18.9%2C45.7s27.8%2C18.9%2C45.7%2C18.9c17.9%2C0%2C33.1-6.3%2C45.7-18.9s18.9-27.8%2C18.9-45.7%0A%09c0-17.9-6.3-33.1-18.9-45.7S91.6%2C9.2%2C73.7%2C9.2c-17.9%2C0-33.1%2C6.3-45.7%2C18.9S9.2%2C55.9%2C9.2%2C73.7z%20M121.5%2C78.6c1.1-1.3%2C1.7-2.7%2C1.7-4.4%0A%09s-0.6-3.1-1.7-4.4c-1.1-1.3-2.5-1.9-4.2-1.9h-85c-1.7%2C0-3.1%2C0.6-4.4%2C1.9S26%2C72.5%2C26%2C74.2s0.6%2C3.1%2C1.9%2C4.4s2.7%2C1.9%2C4.4%2C1.9h85%0A%09C119%2C80.4%2C120.4%2C79.8%2C121.5%2C78.6z%20M80.9%2C116.5v-85c0-1.7-0.6-3.1-1.9-4.2c-1.3-1.1-2.7-1.7-4.4-1.7s-3.1%2C0.6-4.2%2C1.7%0A%09c-1.1%2C1.1-1.7%2C2.5-1.7%2C4.2v85c0%2C1.7%2C0.6%2C3.1%2C1.7%2C4.4c1.1%2C1.3%2C2.5%2C1.9%2C4.2%2C1.9s3.1-0.6%2C4.4-1.9S80.9%2C118.1%2C80.9%2C116.5z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-1 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20122.3%20132.4%22%20style%3D%22enable-background%3Anew%200%200%20122.3%20132.4%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st1%22%20d%3D%22M117.9%2C42.1c2.9%2C2.9%2C4.4%2C6.6%2C4.4%2C11.1v63.7c0%2C4.2-1.5%2C7.8-4.4%2C10.9c-2.9%2C3.1-6.6%2C4.6-11.1%2C4.6H15.5%0A%09c-4.5%2C0-8.2-1.5-11.1-4.6c-2.9-3.1-4.4-6.7-4.4-10.9V53.2c0-4.5%2C1.5-8.2%2C4.4-11.1c2.9-2.9%2C6.6-4.4%2C11.1-4.4h91.3%0A%09C111.3%2C37.7%2C115%2C39.2%2C117.9%2C42.1z%20M10.1%2C47.8c-1.4%2C1.4-2.1%2C3.1-2.1%2C5v20.1h49.4V45.7H15.5C13.3%2C45.7%2C11.4%2C46.4%2C10.1%2C47.8z%0A%09%20M10.1%2C122.1c1.4%2C1.5%2C3.2%2C2.3%2C5.4%2C2.3h41.9V80.9H8v36C8%2C118.8%2C8.7%2C120.6%2C10.1%2C122.1z%20M103.5%2C5c3.1%2C3.4%2C4.6%2C7.4%2C4.6%2C12.1%0A%09c0%2C5.9-1.7%2C10.1-5%2C12.8c-3.4%2C2.7-7%2C4-10.9%2C4H67H55.3H30.2c-3.9%2C0-7.5-1.3-10.9-4c-3.4-2.7-5-6.9-5-12.8c0-4.7%2C1.5-8.8%2C4.6-12.1%0A%09c3.1-3.4%2C6.8-5%2C11.3-5c11.7%2C0%2C22.1%2C7.4%2C31%2C22.2C70.1%2C7.4%2C80.4%2C0%2C92.2%2C0C96.6%2C0%2C100.4%2C1.7%2C103.5%2C5z%20M54%2C26C46.8%2C14%2C38.8%2C8%2C30.2%2C8%0A%09c-2.2%2C0-4.1%2C0.9-5.7%2C2.7c-1.5%2C1.8-2.3%2C4-2.3%2C6.5c0%2C5.9%2C2.7%2C8.8%2C8%2C8.8H54z%20M112.3%2C47.8c-1.4-1.4-3.2-2.1-5.4-2.1H65.4v27.2h49V53.2%0A%09C114.4%2C51%2C113.7%2C49.2%2C112.3%2C47.8z%20M112.3%2C122.1c1.4-1.5%2C2.1-3.3%2C2.1-5.2v-36h-49v43.6h41.5C109.1%2C124.4%2C110.9%2C123.7%2C112.3%2C122.1z%0A%09%20M100.1%2C17.2c0-2.5-0.8-4.7-2.3-6.5C96.3%2C8.9%2C94.4%2C8%2C92.2%2C8c-8.7%2C0-16.6%2C6-23.9%2C18h23.9C97.5%2C26%2C100.1%2C23%2C100.1%2C17.2z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-2 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20122.3%20139.1%22%20style%3D%22enable-background%3Anew%200%200%20122.3%20139.1%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st2%22%20d%3D%22M119.2%2C19.9c2.1%2C2.1%2C3.1%2C4.8%2C3.1%2C8.2v9.6V39H0v-1.3v-9.6c0-3.4%2C1-6.1%2C3.1-8.2c2.1-2.1%2C4.7-3.1%2C7.8-3.1h18.4V4.2%0A%09c0-2.8%2C1.3-4.2%2C4-4.2c2.7%2C0%2C4%2C1.4%2C4%2C4.2v12.6H85V4.2C85%2C1.4%2C86.4%2C0%2C89%2C0c2.7%2C0%2C4%2C1.4%2C4%2C4.2v12.6h18.4%0A%09C114.5%2C16.8%2C117.1%2C17.8%2C119.2%2C19.9z%20M122.3%2C44.4v83.4c0%2C3.1-1%2C5.7-3.1%2C8c-2.1%2C2.2-4.7%2C3.4-7.8%2C3.4H10.9c-3.1%2C0-5.7-1.1-7.8-3.4%0A%09c-2.1-2.2-3.1-4.9-3.1-8V44.4H122.3z%20M30.6%2C52.8H8.4V75h22.2V52.8z%20M30.6%2C80.9H8.4v22.2h22.2V80.9z%20M30.6%2C108.5H8.4v22.2h22.2V108.5%0A%09z%20M41.5%2C27.7c0-3.1-1.4-5.4-4.2-7.1v7.1c0%2C2.8-1.3%2C4.2-4%2C4.2c-2.7%2C0-4-1.4-4-4.2v-7.1c-2.8%2C1.7-4.2%2C4.1-4.2%2C7.1%0A%09c0%2C2.5%2C0.8%2C4.5%2C2.3%2C6.1c1.5%2C1.5%2C3.5%2C2.3%2C5.9%2C2.3c2.4%2C0%2C4.3-0.8%2C5.9-2.3C40.7%2C32.2%2C41.5%2C30.2%2C41.5%2C27.7z%20M58.2%2C52.8H36V75h22.2V52.8z%0A%09%20M58.2%2C80.9H36v22.2h22.2V80.9z%20M58.2%2C108.5H36v22.2h22.2V108.5z%20M86.3%2C52.8H64.1V75h22.2V52.8z%20M86.3%2C80.9H64.1v22.2h22.2V80.9z%0A%09%20M86.3%2C108.5H64.1v22.2h22.2V108.5z%20M97.2%2C27.7c0-3.1-1.4-5.4-4.2-7.1v7.1c0%2C2.8-1.3%2C4.2-4%2C4.2c-2.7%2C0-4-1.4-4-4.2v-7.1%0A%09c-2.8%2C1.7-4.2%2C4.1-4.2%2C7.1c0%2C2.5%2C0.8%2C4.5%2C2.3%2C6.1c1.5%2C1.5%2C3.5%2C2.3%2C5.9%2C2.3c2.4%2C0%2C4.3-0.8%2C5.9-2.3C96.4%2C32.2%2C97.2%2C30.2%2C97.2%2C27.7z%0A%09%20M114%2C52.8H91.7V75H114V52.8z%20M114%2C80.9H91.7v22.2H114V80.9z%20M114%2C108.5H91.7v22.2H114V108.5z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-3 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20147.5%20112.3%22%20style%3D%22enable-background%3Anew%200%200%20147.5%20112.3%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st3%22%20d%3D%22M147.5%2C23v82.5c0%2C1.7-0.8%2C2.9-2.3%2C3.8c-1.5%2C0.8-3.1%2C1-4.8%2C0.4c-8.4-3.9-18.2-5.9-29.3-5.9%0A%09c-11.7%2C0-23%2C2.5-33.9%2C7.5c-0.8%2C0.3-1.7%2C0.6-2.5%2C0.8c-0.3%2C0-0.6%2C0-0.8%2C0c-0.3%2C0-0.6%2C0-0.8%2C0h-0.4c-0.3-0.3-0.6-0.4-0.8-0.4%0A%09c-11.2-5.3-22.9-8-35.2-8c-11.7%2C0-21.5%2C2-29.3%2C5.9c-1.7%2C0.6-3.3%2C0.4-4.8-0.4c-1.5-0.8-2.3-2.1-2.3-3.8V23c0-1.4%2C0.6-2.5%2C1.7-3.4%0A%09C12%2C9.1%2C23.9%2C3.8%2C37.3%2C3.8c12.3%2C0%2C24.3%2C4.3%2C36%2C13C85%2C5.6%2C99.6%2C0%2C116.9%2C0c4.2%2C0%2C8.5%2C0.4%2C13%2C1.3c2.5%2C0.3%2C3.8%2C1.8%2C3.8%2C4.6v4.6%0A%09c4.5%2C2.2%2C8.5%2C5.3%2C12.1%2C9.2C146.9%2C20.5%2C147.5%2C21.6%2C147.5%2C23z%20M36.4%2C94.3c11.2%2C0%2C22.1%2C2.1%2C32.7%2C6.3v-75v-0.4%0A%09c-10.6-7.8-21.2-11.7-31.8-11.7c-10.1%2C0-19.3%2C3.9-27.7%2C11.7v73.3C18.3%2C95.7%2C27.2%2C94.3%2C36.4%2C94.3z%20M78.8%2C96.8%0A%09c12-9.5%2C25.4-14.2%2C40.2-14.2c2%2C0%2C3.8%2C0.1%2C5.4%2C0.4V10.1c-2.5-0.3-5-0.4-7.5-0.4c-15.6%2C0-28.4%2C5-38.1%2C15.1V96.8z%20M137.8%2C25.1%0A%09c-1.4-1.4-2.8-2.7-4.2-3.8v67c0%2C1.4-0.6%2C2.6-1.7%2C3.6c-1.1%2C1-2.5%2C1.2-4.2%2C0.6c-3.6-0.3-6.6-0.4-8.8-0.4c-6.1%2C0-12%2C1-17.6%2C2.9%0A%09c3.1-0.6%2C6.3-0.8%2C9.6-0.8c9.2%2C0%2C18.2%2C1.4%2C26.8%2C4.2V25.1z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-4 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20133.5%20116.5%22%20style%3D%22enable-background%3Anew%200%200%20133.5%20116.5%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st4%22%20d%3D%22M40.4%2C116.5H10.2c-2.8%2C0-5.3-1.7-7.5-5c-3.1-4.2-3.5-9.6-1.3-16.3c4.5-12.6%2C10.9-22.3%2C19.3-29.3%0A%09C16.2%2C61%2C14%2C55.4%2C14%2C49c0-7%2C2.4-12.8%2C7.1-17.6c4.7-4.7%2C10.5-7.1%2C17.2-7.1s12.4%2C2.4%2C17.2%2C7.1c4.7%2C4.8%2C7.1%2C10.6%2C7.1%2C17.6%0A%09c0%2C7-2.7%2C12.8-8%2C17.6c0.3%2C0.3%2C0.7%2C0.7%2C1.3%2C1.3c-1.7%2C2.2-3.1%2C4.5-4.2%2C6.7c-2-2-3.8-3.5-5.4-4.6l-5.4-3.8l5.4-2.9%0A%09c5.6-3.4%2C8.4-8.1%2C8.4-14.2c0-4.7-1.6-8.7-4.8-11.9c-3.2-3.2-7.1-4.8-11.7-4.8c-4.6%2C0-8.5%2C1.6-11.7%2C4.8c-3.2%2C3.2-4.8%2C7.2-4.8%2C11.9%0A%09c0%2C5.9%2C2.5%2C10.5%2C7.5%2C13.8l5%2C3.4l-5%2C3.4c-3.9%2C2.2-7.5%2C5.9-10.9%2C10.9s-5.6%2C8.9-6.7%2C11.7c-1.1%2C2.8-2%2C4.9-2.5%2C6.3%0A%09c-1.4%2C3.9-1.4%2C6.8%2C0%2C8.8l1.3%2C1.7h28.9L40.4%2C116.5z%20M131.7%2C113.5c-1.4%2C2-2.5%2C2.9-3.4%2C2.9H51.7c-0.8%2C0-2-1-3.4-2.9%0A%09c-2.2-3.1-2.2-7.8%2C0-14.2C57.3%2C76.4%2C67.7%2C62%2C79.8%2C56.1c3.9%2C1.7%2C7.8%2C2.5%2C11.7%2C2.5c3.6%2C0%2C7-0.6%2C10.1-1.7c11.4%2C6.1%2C21.6%2C20.3%2C30.6%2C42.3%0A%09C134.1%2C105.7%2C133.9%2C110.5%2C131.7%2C113.5z%20M117%2C25.6c0%2C7-2.5%2C12.9-7.5%2C17.8c-5%2C4.9-11%2C7.3-18%2C7.3c-7%2C0-12.9-2.4-17.8-7.3%0A%09c-4.9-4.9-7.3-10.8-7.3-17.8c0-7%2C2.4-13%2C7.3-18C78.6%2C2.5%2C84.5%2C0%2C91.5%2C0c7%2C0%2C13%2C2.5%2C18%2C7.5S117%2C18.6%2C117%2C25.6z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-5 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20134.9%20105.6%22%20style%3D%22enable-background%3Anew%200%200%20134.9%20105.6%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st5%22%20d%3D%22M131.5%2C16.3c2.2%2C2.2%2C3.4%2C4.9%2C3.4%2C8v70c0%2C3.1-1.1%2C5.7-3.4%2C8c-2.2%2C2.2-4.9%2C3.4-8%2C3.4H11.3c-3.1%2C0-5.7-1.1-8-3.4%0A%09C1.1%2C100%2C0%2C97.3%2C0%2C94.3v-70c0-3.1%2C1.1-5.7%2C3.4-8c2.2-2.2%2C4.9-3.4%2C8-3.4h10.5V4.6h11.7V13h90.1C126.7%2C13%2C129.3%2C14.1%2C131.5%2C16.3z%0A%09%20M126.9%2C26.8c0-1.7-0.6-3.1-1.7-4.2c-1.1-1.1-2.4-1.7-3.8-1.7H13.4c-1.4%2C0-2.7%2C0.6-3.8%2C1.7C8.5%2C23.7%2C8%2C25.1%2C8%2C26.8v17.6h33.1%0A%09c7.3-8.4%2C16.1-12.6%2C26.4-12.6c10.6%2C0%2C19.4%2C4.2%2C26.4%2C12.6h33.1V26.8z%20M86.5%2C85.5c5.2-5.3%2C7.8-11.6%2C7.8-18.9c0-7.3-2.6-13.6-7.8-19.1%0A%09c-5.2-5.4-11.5-8.2-19.1-8.2c-7.3%2C0-13.5%2C2.7-18.9%2C8.2c-5.3%2C5.4-8%2C11.8-8%2C19.1c0%2C7.3%2C2.6%2C13.6%2C7.8%2C18.9c5.2%2C5.3%2C11.5%2C8%2C19.1%2C8%0A%09S81.3%2C90.8%2C86.5%2C85.5z%20M67.5%2C48.2c-5%2C0-9.3%2C1.8-12.8%2C5.4c-3.5%2C3.6-5.2%2C8-5.2%2C13s1.7%2C9.3%2C5.2%2C12.8c3.5%2C3.5%2C7.8%2C5.2%2C12.8%2C5.2%0A%09s9.3-1.7%2C12.8-5.2c3.5-3.5%2C5.2-7.8%2C5.2-12.8s-1.7-9.4-5.2-13C76.7%2C50%2C72.5%2C48.2%2C67.5%2C48.2z%20M88%2C10.9V0.8C88%2C0.3%2C88.3%2C0%2C88.8%2C0h24.3%0A%09c0.6%2C0%2C0.8%2C0.3%2C0.8%2C0.8v10.1c0%2C0.3-0.3%2C0.4-0.8%2C0.4H88.8C88.3%2C11.3%2C88%2C11.2%2C88%2C10.9z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-6 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20145.8%20128.2%22%20style%3D%22enable-background%3Anew%200%200%20145.8%20128.2%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st6%22%20d%3D%22M133.4%2C12.8c8.2%2C8.5%2C12.4%2C20.3%2C12.4%2C35.4c0%2C8.1-1.9%2C15.9-5.7%2C23.3c-3.8%2C7.4-9.4%2C14.5-16.8%2C21.4%0A%09c-7.4%2C6.8-14.5%2C12.7-21.4%2C17.6c-6.8%2C4.9-15.3%2C10.5-25.3%2C17c-1.1%2C0.6-2.4%2C0.8-3.8%2C0.8c-1.4%2C0-2.7-0.3-3.8-0.8%0A%09c-10.1-6.4-18.5-12.1-25.3-17c-6.8-4.9-14-10.7-21.4-17.6C15%2C86%2C9.4%2C78.8%2C5.7%2C71.4C1.9%2C64%2C0%2C56.3%2C0%2C48.2c0-15.1%2C4.1-26.9%2C12.4-35.4%0A%09C20.6%2C4.3%2C30.3%2C0%2C41.5%2C0c12.8%2C0%2C23.3%2C5.2%2C31.4%2C15.5C81%2C5.2%2C91.5%2C0%2C104.3%2C0C115.5%2C0%2C125.2%2C4.3%2C133.4%2C12.8z%20M80%2C21.4%0A%09c-1.7%2C2.2-4.1%2C3.4-7.1%2C3.4c-3.1%2C0-5.4-1.1-7.1-3.4C59.3%2C13%2C51.2%2C8.8%2C41.5%2C8.8c-8.7%2C0-16.2%2C3.4-22.6%2C10.3c-6.4%2C6.8-9.6%2C16.5-9.6%2C29.1%0A%09c0%2C6.7%2C1.7%2C13.3%2C5.2%2C19.9C17.9%2C74.6%2C23%2C81%2C29.7%2C87.1c6.7%2C6.1%2C13.3%2C11.5%2C19.7%2C16.1c6.4%2C4.6%2C14.2%2C9.8%2C23.5%2C15.7%0A%09c9.2-5.9%2C17-11.1%2C23.5-15.7c6.4-4.6%2C13-10%2C19.7-16.1c6.7-6.1%2C11.8-12.5%2C15.3-19.1c3.5-6.6%2C5.2-13.2%2C5.2-19.9%0A%09c0-12.6-3.2-22.3-9.6-29.1c-6.4-6.8-14-10.3-22.6-10.3C94.5%2C8.8%2C86.4%2C13%2C80%2C21.4z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-7 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20145.7%20144.4%22%20style%3D%22enable-background%3Anew%200%200%20145.7%20144.4%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st7%22%20d%3D%22M1.2%2C117.7c-1.7-2-1.6-3.8%2C0.2-5.7c1.8-1.8%2C3.6-1.7%2C5.2%2C0.2l25.6%2C25.1c1.7%2C2%2C1.6%2C3.8-0.2%2C5.7%0A%09c-1.8%2C1.8-3.6%2C1.7-5.2-0.2L1.2%2C117.7z%20M19.2%2C142.9c-5%2C1.7-9.7%2C0.4-14-4c-4.3-4.3-5.7-8.9-4-13.6L19.2%2C142.9z%20M38.9%2C137.4L6.7%2C105.2%0A%09c-1.7-1.7-1.6-3.4%2C0.2-5.2c1.8-1.8%2C3.6-1.9%2C5.2-0.2L44.4%2C132c2%2C2%2C2%2C3.8%2C0.2%2C5.7C42.7%2C139.4%2C40.9%2C139.4%2C38.9%2C137.4z%20M48.1%2C128.6%0A%09L15.9%2C96.4c-2-2-2-3.8-0.2-5.7c1.8-1.8%2C3.7-1.7%2C5.7%2C0.2l32.3%2C32.3c1.7%2C1.7%2C1.6%2C3.4-0.2%2C5.2C51.5%2C130.2%2C49.8%2C130.3%2C48.1%2C128.6z%0A%09%20M90.7%2C0c15.2%2C0%2C28.2%2C5.4%2C39%2C16.1c10.7%2C10.8%2C16.1%2C23.7%2C16.1%2C38.8s-5.4%2C28.1-16.3%2C39s-24.2%2C16.2-39.8%2C15.9c-5%2C0.6-11.7%2C4.6-20.1%2C12.1%0A%09c-2.5%2C2.2-5%2C2.1-7.3-0.4c-2.4-2.5-2.3-4.9%2C0.2-7.1c10.3-9.2%2C19.4-14.1%2C27.2-14.7c12.8%2C0.3%2C23.7-4.2%2C32.7-13.4%0A%09c8.9-8.7%2C13.4-19.1%2C13.4-31.4c0-12.3-4.4-22.8-13.2-31.6c-8.8-8.8-19.4-13.2-31.8-13.2c-12.4%2C0-23%2C4.3-31.6%2C13%0A%09c-8.9%2C9.2-13.3%2C20.3-13%2C33.1C45.5%2C64%2C40.4%2C72.9%2C31%2C83c-2.2%2C2.5-4.6%2C2.7-7.1%2C0.4c-2.5-2.2-2.5-4.6%2C0-7.1C31.4%2C67.9%2C35.4%2C61%2C36%2C55.7%0A%09c-0.3-15.6%2C5-28.9%2C15.9-39.8C62.5%2C5.3%2C75.4%2C0%2C90.7%2C0z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-8 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20147.8%20110%22%20style%3D%22enable-background%3Anew%200%200%20147.8%20110%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st3%22%20d%3D%22M146.8%2C53c-1.7%2C2.2-3.6%2C2.7-5.9%2C1.3l-6.3-3.8l-2.9-2.5l-10.9-7.1l-44-29.3c-0.3%2C0-0.4-0.1-0.4-0.4l-1.3-0.8%0A%09l-1.3%2C0.8l-0.4%2C0.4l-37.7%2C23L27%2C40.8l-10.9%2C7.5l-2.9%2C2.1l-5.4%2C3.8c-0.8%2C0.6-1.8%2C0.8-2.9%2C0.8c-1.4%2C0-2.7-0.7-3.8-2.1%0A%09c-1.7-2.5-1.3-4.7%2C1.3-6.7L72.2%2C1c2-1.4%2C3.8-1.4%2C5.4%2C0l67.9%2C45.2C148.1%2C48.2%2C148.5%2C50.5%2C146.8%2C53z%20M118.7%2C49.6l7.1%2C5.4v44%0A%09c0%2C3.1-1.1%2C5.7-3.4%2C7.8c-2.2%2C2.1-4.8%2C3.1-7.5%2C3.1H32.8c-3.1%2C0-5.7-1-7.8-3.1c-2.1-2.1-3.1-4.7-3.1-7.8V54.3l7.1-4.6l2.5-2.1v2.1%0A%09v50.7h30.6V72.7c0-2%2C0.6-3.6%2C1.7-4.8c1.1-1.3%2C2.7-1.9%2C4.6-1.9h10.9c2%2C0%2C3.5%2C0.6%2C4.6%2C1.9c1.1%2C1.3%2C1.7%2C2.9%2C1.7%2C4.8v27.7h30.2V49.6%0A%09v-2.1L118.7%2C49.6z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-9 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20144.1%2098.9%22%20style%3D%22enable-background%3Anew%200%200%20144.1%2098.9%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M139.1%2C30.4c3.4%2C3.2%2C5%2C7.1%2C5%2C11.5c0%2C4.5-1.5%2C8.2-4.6%2C11.3v33.5c0%2C3.4-1.4%2C6.2-4.2%2C8.6%0A%09c-2.8%2C2.4-6.1%2C3.6-10.1%2C3.6c-3.6%2C0-6.8-1-9.4-2.9c-2.7-2-4.3-4.5-4.8-7.5h-0.4H33.5h-0.4c-0.6%2C3.1-2.2%2C5.6-4.8%2C7.5%0A%09c-2.7%2C2-5.8%2C2.9-9.4%2C2.9c-3.9%2C0-7.3-1.2-10.1-3.6c-2.8-2.4-4.2-5.2-4.2-8.6V53.2C1.5%2C50.1%2C0%2C46.4%2C0%2C41.9c0-4.5%2C1.7-8.3%2C5-11.5%0A%09c3.4-3.2%2C7.3-4.8%2C11.7-4.8c2.5%2C0%2C5%2C0.6%2C7.5%2C1.7v-7.1v-0.4c0-5.3%2C2-9.9%2C5.9-13.8C34.1%2C2%2C38.8%2C0%2C44.4%2C0h55.3c5.6%2C0%2C10.3%2C2%2C14.2%2C5.9%0A%09c3.9%2C3.9%2C5.9%2C8.5%2C5.9%2C13.8v0.4v7.1c2.5-1.1%2C5-1.7%2C7.5-1.7C131.8%2C25.6%2C135.7%2C27.2%2C139.1%2C30.4z%20M23%2C41.9v-0.4c0-1.7-0.6-3.1-1.9-4.2%0A%09c-1.3-1.1-2.7-1.7-4.4-1.7s-3.1%2C0.6-4.4%2C1.9c-1.3%2C1.3-1.9%2C2.7-1.9%2C4.4c0%2C2.2%2C0.8%2C3.9%2C2.5%2C5l2.1%2C1.7v38.1c0%2C1.4%2C1.3%2C2.1%2C4%2C2.1%0A%09c2.7%2C0%2C4-0.7%2C4-2.1V41.9z%20M110.2%2C77.9V67l-0.4-2.9c0-0.3-0.1-0.6-0.4-1c-0.3-0.4-0.4-0.8-0.4-1c-1.7-2.8-4.2-4.2-7.5-4.2H42.7%0A%09c-3.4%2C0-5.9%2C1.4-7.5%2C4.2c0%2C0.3-0.1%2C0.7-0.4%2C1.3c-0.3%2C0.3-0.4%2C0.6-0.4%2C0.8c0%2C0.6-0.1%2C1.5-0.4%2C2.9v10.9H110.2z%20M34.4%2C49.4%0A%09c2.8-1.1%2C5.6-1.7%2C8.4-1.7h58.7c2.8%2C0%2C5.6%2C0.6%2C8.4%2C1.7V20.1c0-2.8-1-5.2-2.9-7.1c-2-2-4.3-2.9-7.1-2.9H44.4c-2.8%2C0-5.2%2C1-7.1%2C2.9%0A%09c-2%2C2-2.9%2C4.3-2.9%2C7.1V49.4z%20M133.6%2C41.9c0-1.7-0.6-3.1-1.9-4.4c-1.3-1.3-2.7-1.9-4.4-1.9s-3.1%2C0.6-4.4%2C1.7%0A%09c-1.3%2C1.1-1.9%2C2.5-1.9%2C4.2v0.4v44.8c0%2C1.4%2C1.3%2C2.1%2C4%2C2.1c2.7%2C0%2C4-0.7%2C4-2.1V48.6l2.1-1.7C132.8%2C45.8%2C133.6%2C44.1%2C133.6%2C41.9z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-10 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20103.1%20147.5%22%20style%3D%22enable-background%3Anew%200%200%20103.1%20147.5%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st8%22%20d%3D%22M18.9%2C88l-1.7%2C0.4l-2.1-8.8c-0.3-2.5-1.7-3.5-4.2-2.9h-0.8c-2.2%2C0.6-3.1%2C2.1-2.5%2C4.6l1.7%2C8.8l-1.7%2C0.4l-3.8-4.2%0A%09L0%2C82.1l1.7-5.9l1.7-5.4h1.3c-0.3-1.7-0.3-3.4%2C0-5C5.2%2C61%2C7.4%2C57.1%2C11.3%2C54c3.9-3.1%2C8.5-5%2C13.8-5.9c0.8-0.8%2C1.8-1.3%2C2.9-1.3h14.7%0A%09v-2.1h-5.9c-2.2%2C0-3.4-1.1-3.4-3.4v-5.9h-2.1c-1.1%2C0-1.7-0.7-1.7-2.1V26c0-1.1%2C0.6-1.7%2C1.7-1.7h2.1v-7.5c0-2.2%2C1.1-3.4%2C3.4-3.4h13%0A%09v-2.5c-3.1-0.6-4.6-2.2-4.6-5c0-1.7%2C0.6-3.1%2C1.7-4.2C48%2C0.6%2C49.4%2C0%2C50.9%2C0c1.5%2C0%2C2.9%2C0.6%2C4%2C1.7c1.1%2C1.1%2C1.7%2C2.5%2C1.7%2C4.2%0A%09c0%2C3.1-1.5%2C4.9-4.6%2C5.4v2.1h12.6c2.5%2C0%2C3.8%2C1.1%2C3.8%2C3.4v7.5h2.1c1.1%2C0%2C1.7%2C0.6%2C1.7%2C1.7v7.5c0%2C1.4-0.6%2C2.1-1.7%2C2.1h-2.1v5.9%0A%09c0%2C2.2-1.3%2C3.4-3.8%2C3.4h-5.9v2.1h14.7c1.4%2C0%2C2.5%2C0.6%2C3.4%2C1.7c3.6-0.6%2C6.6-1.7%2C8.8-3.6c2.2-1.8%2C3.5-3.8%2C3.8-6.1%0A%09c0.3-0.6%2C0.3-1.1%2C0-1.7h-0.8l-3.8-4.2l-4.2-4.2l2.1-5.4l1.7-5.4l1.7-0.4l2.1%2C8.8c0.3%2C2.5%2C1.7%2C3.5%2C4.2%2C2.9H93%0A%09c2.2-0.6%2C3.1-2.1%2C2.5-4.6l-1.7-8.8l1.7-0.4l3.8%2C4.2l3.8%2C4.2l-1.7%2C5.9l-1.7%2C5.4h-1.3c0.3%2C1.7%2C0.3%2C3.4%2C0%2C5c-0.6%2C5-2.9%2C9.1-6.9%2C12.1%0A%09c-4.1%2C3.1-8.9%2C4.9-14.5%2C5.4v33.5c0%2C2.5-1.3%2C3.8-3.8%2C3.8h-0.8v39h2.1v10.1h2.1v3.4H51.9v-3.4h2.5v-10.1h2.1v-39H44.8v39h2.1v10.1%0A%09l1.7-6.3v3.4H24.3v-3.4h2.1v-9.6h2.5V88.8h-0.8c-2.2%2C0-3.4-1.3-3.4-3.8V51.5C18%2C52.9%2C14.4%2C56%2C13.8%2C60.7c-0.3%2C0.6-0.3%2C1.1%2C0%2C1.7h0.8%0A%09l3.8%2C4.2l4.2%2C4.2l-2.1%2C5.4l-1.7%2C5.9V88z%20M38.3%2C21.4c-1%2C1.1-1.5%2C2.4-1.5%2C3.8c0%2C1.4%2C0.5%2C2.7%2C1.5%2C3.8c1%2C1.1%2C2.2%2C1.7%2C3.8%2C1.7%0A%09c1.5%2C0%2C2.8-0.6%2C3.8-1.7c1-1.1%2C1.5-2.4%2C1.5-3.8c0-1.4-0.5-2.7-1.5-3.8c-1-1.1-2.2-1.7-3.8-1.7C40.6%2C19.7%2C39.3%2C20.3%2C38.3%2C21.4z%0A%09%20M36.9%2C54v10.1c0%2C1.1%2C0.6%2C1.7%2C1.7%2C1.7h7.5c0.3-2.8%2C1.8-4.2%2C4.6-4.2c0.6%2C0%2C1.3%2C0.1%2C2.1%2C0.4l4.6-5.4c0.8-0.8%2C1.4-0.7%2C1.7%2C0.4%0A%09c0%2C0.3-0.1%2C0.6-0.4%2C0.8L54%2C63.3c0.8%2C0.6%2C1.3%2C1.4%2C1.3%2C2.5h7.5c1.4%2C0%2C2.1-0.6%2C2.1-1.7V54c0-1.4-0.7-2.1-2.1-2.1H38.5%0A%09C37.4%2C51.9%2C36.9%2C52.6%2C36.9%2C54z%20M38.5%2C37.5c0%2C2.4%2C1.3%2C3.6%2C3.8%2C3.6h17.2c2.5%2C0%2C3.8-1.2%2C3.8-3.6c0-2.4-1.3-3.6-3.8-3.6H42.3%0A%09C39.8%2C33.9%2C38.5%2C35.1%2C38.5%2C37.5z%20M47.3%2C5.9c0%2C1.7%2C0.8%2C2.8%2C2.5%2C3.4V8.8c0-0.6%2C0.3-0.8%2C1-0.8c0.7%2C0%2C1%2C0.3%2C1%2C0.8v0.4%0A%09c1.7-0.6%2C2.5-1.7%2C2.5-3.4c0-2.5-1.2-3.8-3.6-3.8C48.5%2C2.1%2C47.3%2C3.4%2C47.3%2C5.9z%20M55.7%2C21.4c-1.1%2C1.1-1.7%2C2.4-1.7%2C3.8%0A%09c0%2C1.4%2C0.6%2C2.7%2C1.7%2C3.8c1.1%2C1.1%2C2.4%2C1.7%2C3.8%2C1.7c1.4%2C0%2C2.7-0.6%2C3.8-1.7c1.1-1.1%2C1.7-2.4%2C1.7-3.8c0-1.4-0.6-2.7-1.7-3.8%0A%09c-1.1-1.1-2.4-1.7-3.8-1.7C58.1%2C19.7%2C56.8%2C20.3%2C55.7%2C21.4z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-11 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20140.8%2091.3%22%20style%3D%22enable-background%3Anew%200%200%20140.8%2091.3%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st4%22%20d%3D%22M140.8%2C82.5c0%2C2.5-0.8%2C4.6-2.5%2C6.3s-3.8%2C2.5-6.3%2C2.5H8.8c-2.5%2C0-4.6-0.8-6.3-2.5S0%2C85%2C0%2C82.5V8.8%0A%09c0-2.5%2C0.8-4.6%2C2.5-6.3S6.3%2C0%2C8.8%2C0H132c2.5%2C0%2C4.6%2C0.8%2C6.3%2C2.5s2.5%2C3.8%2C2.5%2C6.3V82.5z%20M6.7%2C6.5C5.9%2C7.2%2C5.4%2C8%2C5.4%2C8.8v8h129.9v-8%0A%09c0-0.8-0.4-1.6-1-2.3c-0.7-0.7-1.5-1-2.3-1H8.8C8.2%2C5.4%2C7.5%2C5.8%2C6.7%2C6.5z%20M135.3%2C81.7V38.1H5.4v43.6c0%2C2%2C1.1%2C2.9%2C3.4%2C2.9H132%0A%09C134.2%2C84.6%2C135.3%2C83.7%2C135.3%2C81.7z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-12 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20143.3%20143.3%22%20style%3D%22enable-background%3Anew%200%200%20143.3%20143.3%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st5%22%20d%3D%22M122.3%2C122.3c-14%2C14-30.9%2C20.9-50.7%2C20.9c-19.8%2C0-36.7-7-50.7-20.9C7%2C108.4%2C0%2C91.5%2C0%2C71.6%0A%09c0-19.8%2C7-36.7%2C20.9-50.7C34.9%2C7%2C51.8%2C0%2C71.6%2C0c19.8%2C0%2C36.7%2C7%2C50.7%2C20.9c14%2C14%2C20.9%2C30.9%2C20.9%2C50.7%0A%09C143.3%2C91.5%2C136.3%2C108.4%2C122.3%2C122.3z%20M115.8%2C27.4C103.7%2C15.3%2C89%2C9.2%2C71.6%2C9.2c-17.3%2C0-32%2C6.1-44.2%2C18.2%0A%09C15.3%2C39.6%2C9.2%2C54.3%2C9.2%2C71.6c0%2C17.3%2C6.1%2C32%2C18.2%2C44.2c12.2%2C12.1%2C26.9%2C18.2%2C44.2%2C18.2c17.3%2C0%2C32-6.1%2C44.2-18.2%0A%09c12.1-12.1%2C18.2-26.9%2C18.2-44.2C134.1%2C54.3%2C128%2C39.6%2C115.8%2C27.4z%20M92.6%2C69.5c-3.1-2-8.5-4-16.3-6.3V39c3.6%2C0.6%2C6.3%2C2.2%2C8%2C5%0A%09c1.1%2C1.7%2C1.8%2C3.9%2C2.1%2C6.7c0%2C0.8%2C0.4%2C1.3%2C1.3%2C1.3h10.1c0.3%2C0%2C0.6-0.1%2C0.8-0.4c0.3-0.3%2C0.4-0.7%2C0.4-1.3c0-6.7-2.2-12.1-6.7-16.3%0A%09c-3.6-3.6-8.9-5.9-15.9-6.7v-5.4c0-1.1-0.5-2.2-1.5-3.1c-1-1-2.1-1.5-3.4-1.5c-1.3%2C0-2.3%2C0.5-3.1%2C1.5c-0.8%2C1-1.3%2C2-1.3%2C3.1v5.4%0A%09c-7%2C0.6-12.4%2C3.1-16.3%2C7.5C46.2%2C39.5%2C44%2C44.8%2C44%2C50.7c0%2C7%2C2.1%2C12.3%2C6.3%2C15.9c3.6%2C3.6%2C9.2%2C6.3%2C16.8%2C8v27.2c-4.5-0.8-7.7-2.9-9.6-6.3%0A%09c-1.1-2-1.8-5.3-2.1-10.1c0-1.1-0.6-1.7-1.7-1.7H44c-1.1%2C0-1.7%2C0.6-1.7%2C1.7c0%2C6.4%2C1.1%2C11.7%2C3.4%2C15.9c3.9%2C7%2C11%2C10.9%2C21.4%2C11.7v7.5%0A%09c0%2C1.4%2C0.4%2C2.5%2C1.3%2C3.4s1.9%2C1.3%2C3.1%2C1.3c1.3%2C0%2C2.4-0.4%2C3.4-1.3c1-0.8%2C1.5-2%2C1.5-3.4v-7.5c6.1-0.8%2C10.9-2.4%2C14.2-4.6%0A%09c7-4.5%2C10.5-11.9%2C10.5-22.2C101%2C79%2C98.2%2C73.5%2C92.6%2C69.5z%20M60.3%2C57.8c-2.2-2-3.4-4.5-3.4-7.5c0-2.8%2C1-5.4%2C2.9-8%0A%09c1.4-2%2C3.8-3.1%2C7.1-3.4v22.2C64.2%2C60.3%2C62%2C59.2%2C60.3%2C57.8z%20M85.9%2C95.9c-1.7%2C3.6-4.9%2C5.7-9.6%2C6.3V76.7c3.4%2C1.1%2C5.7%2C2.2%2C7.1%2C3.4%0A%09c3.1%2C2%2C4.6%2C5%2C4.6%2C9.2C88%2C91.7%2C87.3%2C94%2C85.9%2C95.9z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-13 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20100.5%20147.5%22%20style%3D%22enable-background%3Anew%200%200%20100.5%20147.5%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st6%22%20d%3D%22M100.5%2C50.3c0%2C0.8%2C0%2C1.5%2C0%2C2.1c-0.3%2C5-1.3%2C10.1-2.9%2C15.1c-3.1%2C10.1-8.7%2C22.1-17%2C36c-8.2%2C14-14.6%2C23.9-19.1%2C29.7%0A%09c-4.5%2C5.9-8%2C10.3-10.5%2C13.4c0%2C0.6-0.3%2C0.8-0.8%2C0.8c-0.6%2C0-0.8-0.3-0.8-0.8c-2.5-3.1-6-7.5-10.5-13.4c-4.5-5.9-10.8-15.8-19.1-29.7%0A%09c-8.2-14-13.9-26-17-36c-1.7-5-2.7-10.1-2.9-15.1c0-0.8%2C0-1.5%2C0-2.1c0-13.7%2C4.9-25.5%2C14.7-35.4C24.4%2C5%2C36.3%2C0%2C50.3%2C0%0A%09c14%2C0%2C25.8%2C5%2C35.6%2C14.9C95.7%2C24.8%2C100.5%2C36.6%2C100.5%2C50.3z%20M77.1%2C50.3c0-7.3-2.6-13.5-7.8-18.6c-5.2-5.2-11.5-7.8-18.9-7.8%0A%09c-7.4%2C0-13.7%2C2.6-18.9%2C7.8c-5.2%2C5.2-7.8%2C11.4-7.8%2C18.6c0%2C7.3%2C2.6%2C13.5%2C7.8%2C18.6c5.2%2C5.2%2C11.4%2C7.8%2C18.9%2C7.8c7.4%2C0%2C13.7-2.6%2C18.9-7.8%0A%09C74.5%2C63.8%2C77.1%2C57.5%2C77.1%2C50.3z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-14 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20142.4%20119.8%22%20style%3D%22enable-background%3Anew%200%200%20142.4%20119.8%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st7%22%20d%3D%22M138%2C53.8c2.9%2C2.9%2C4.4%2C6.5%2C4.4%2C10.7v34.8c0%2C0.3-0.3%2C0.4-0.8%2C0.4h-10.5v8c0%2C3.4-1.2%2C6.2-3.6%2C8.6%0A%09c-2.4%2C2.4-5.2%2C3.6-8.6%2C3.6s-6.2-1.2-8.6-3.6c-2.4-2.4-3.6-5.2-3.6-8.6v-8H35.6v8c0%2C3.4-1.2%2C6.2-3.6%2C8.6c-2.4%2C2.4-5.2%2C3.6-8.6%2C3.6%0A%09s-6.2-1.2-8.6-3.6c-2.4-2.4-3.6-5.2-3.6-8.6v-8H0.8c-0.3%2C0-0.6-0.1-0.8-0.4V64.5c0-4.2%2C1.5-7.8%2C4.4-10.7c2.9-2.9%2C6.4-4.5%2C10.3-4.8%0A%09l12.1-31c0.3-0.6%2C0.8-1.3%2C1.5-2.3c0.7-1%2C2.2-2.2%2C4.6-3.8c2.4-1.5%2C5.2-2.3%2C8.6-2.3h10.9V3.8c0-2.5%2C1.3-3.8%2C3.8-3.8h30.2%0A%09c2.5%2C0%2C3.8%2C1.3%2C3.8%2C3.8v5.9h11.3c3.1%2C0%2C5.8%2C0.8%2C8.2%2C2.3c2.4%2C1.5%2C3.9%2C2.8%2C4.6%2C3.8c0.7%2C1%2C1.2%2C1.7%2C1.5%2C2.3l12.1%2C31%0A%09C131.7%2C49.3%2C135.1%2C50.9%2C138%2C53.8z%20M23.5%2C62.8c-2.8%2C0-5.2%2C1-7.3%2C2.9c-2.1%2C2-3.1%2C4.4-3.1%2C7.3s1%2C5.4%2C3.1%2C7.5c2.1%2C2.1%2C4.5%2C3.1%2C7.3%2C3.1%0A%09c2.8%2C0%2C5.2-1%2C7.3-3.1c2.1-2.1%2C3.1-4.6%2C3.1-7.5s-1-5.4-3.1-7.3C28.7%2C63.8%2C26.2%2C62.8%2C23.5%2C62.8z%20M111.4%2C49l-8.8-22.2%0A%09c-1.4-3.6-4.5-5.4-9.2-5.4H49c-4.8%2C0-7.8%2C1.8-9.2%2C5.4L31%2C49H111.4z%20M119%2C62.8c-2.8%2C0-5.2%2C1-7.3%2C2.9c-2.1%2C2-3.1%2C4.4-3.1%2C7.3%0A%09s1%2C5.4%2C3.1%2C7.5c2.1%2C2.1%2C4.5%2C3.1%2C7.3%2C3.1c2.8%2C0%2C5.2-1%2C7.3-3.1c2.1-2.1%2C3.1-4.6%2C3.1-7.5s-1-5.4-3.1-7.3%0A%09C124.2%2C63.8%2C121.8%2C62.8%2C119%2C62.8z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-15 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20135.7%20135.6%22%20style%3D%22enable-background%3Anew%200%200%20135.7%20135.6%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M63.8%2C15c1.1-0.6%2C2.7%2C0.2%2C4.8%2C2.3c2.1%2C2.1%2C2.9%2C3.7%2C2.3%2C4.8c-1.4%2C2.2-3.1%2C4.5-5%2C6.7l22.2%2C5L117%2C4.5%0A%09c2.5-2.5%2C5.4-4%2C8.8-4.4c3.4-0.4%2C5.9%2C0.3%2C7.8%2C2.1c1.8%2C1.8%2C2.5%2C4.4%2C2.1%2C7.8c-0.4%2C3.4-1.9%2C6.3-4.4%2C8.8l-29.3%2C28.9l5%2C22.6%0A%09c2.2-2.2%2C4.5-4%2C6.7-5.4c1.1-0.6%2C2.7%2C0.2%2C4.8%2C2.3c2.1%2C2.1%2C2.9%2C3.7%2C2.3%2C4.8c-1.7%2C2.8-3.9%2C5.4-6.7%2C8c-1.4%2C1.4-2.8%2C2.7-4.2%2C3.8l5%2C23.9%0A%09c0.8%2C4.2%2C0.8%2C7.6-0.2%2C10.3c-1%2C2.7-3.4%2C5.5-7.3%2C8.6c-2.8%2C2.5-5.2%2C2.7-7.1%2C0.4c-2-2.2-4.2-6.3-6.7-12.1c-0.3-0.6-0.6-1-0.8-1.3%0A%09L75.9%2C74.1c-11.2%2C10.6-21.4%2C19.4-30.6%2C26.4c-1.7%2C1.1-2.2%2C2.7-1.7%2C4.6l4.2%2C19.7c0.8%2C3.9-0.4%2C7.3-3.8%2C10.1c-1.7%2C1.1-3%2C1.1-4%2C0%0A%09c-1-1.1-2.2-3.2-3.6-6.3c0-0.3-0.1-0.6-0.4-0.8l-6.7-16.8c-2.8%2C1.4-4.9%2C2-6.3%2C1.7c-0.3-1.4%2C0.3-3.5%2C1.7-6.3L8%2C99.6%0A%09c-0.3-0.3-0.6-0.4-0.8-0.4c-1.4-0.8-2.4-1.4-3.1-1.7c-0.7-0.3-1.6-0.8-2.7-1.5c-1.1-0.7-1.5-1.3-1.3-1.9c0.3-0.6%2C0.6-1.4%2C0.8-2.5%0A%09C3.7%2C88.3%2C7.1%2C87%2C11%2C87.9l19.7%2C4.2c2%2C0.6%2C3.5%2C0%2C4.6-1.7c7-9.2%2C15.8-19.4%2C26.4-30.6L22.3%2C43.1c-0.3-0.3-0.7-0.6-1.3-0.8%0A%09c-2-0.8-3.4-1.5-4.4-1.9c-1-0.4-2.2-1-3.8-1.9c-1.5-0.8-2.6-1.6-3.1-2.3c-0.6-0.7-1.1-1.5-1.7-2.3c-0.6-0.8-0.7-1.7-0.4-2.5%0A%09c0.3-0.8%2C0.8-1.8%2C1.7-2.9c3.1-3.9%2C5.9-6.3%2C8.6-7.3c2.7-1%2C6.1-1%2C10.3-0.2l23.9%2C5c1.1-1.4%2C2.4-2.8%2C3.8-4.2C58.3%2C18.9%2C61%2C16.7%2C63.8%2C15z%0A%09%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-16 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20129%20153.3%22%20style%3D%22enable-background%3Anew%200%200%20129%20153.3%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st2%22%20d%3D%22M129%2C29.7v93.8c0%2C9.5-6.5%2C16.8-19.5%2C22c-13%2C5.2-28%2C7.8-45%2C7.8c-17%2C0-32-2.6-45-7.8c-13-5.2-19.5-12.5-19.5-22%0A%09V29.7c0-9.5%2C6.4-16.8%2C19.3-22C32.1%2C2.6%2C47.1%2C0%2C64.3%2C0s32.3%2C2.6%2C45.2%2C7.8C122.5%2C12.9%2C129%2C20.3%2C129%2C29.7z%20M119.8%2C30%0A%09c0-5.7-5.4-10.6-16.1-14.7c-10.8-4-23.8-6.1-39.2-6.1c-15.4%2C0-28.4%2C2-39.2%2C6.1C14.6%2C19.3%2C9.2%2C24.2%2C9.2%2C30c0%2C5.7%2C5.4%2C10.6%2C16.1%2C14.7%0A%09c10.7%2C4.1%2C23.8%2C6.1%2C39.2%2C6.1c15.4%2C0%2C28.4-2%2C39.2-6.1C114.4%2C40.6%2C119.8%2C35.7%2C119.8%2C30z%20M119.8%2C46.5c-12%2C8.9-30.4%2C13.4-55.3%2C13.4%0A%09c-24.9%2C0-43.3-4.5-55.3-13.4V62v0.4c0%2C5.6%2C5.4%2C10.4%2C16.1%2C14.5C36.1%2C80.9%2C49.2%2C83%2C64.5%2C83c15.4%2C0%2C28.4-2%2C39.2-6.1%0A%09c10.7-4%2C16.1-8.9%2C16.1-14.5V62V46.5z%20M119.8%2C75.4c-4.8%2C4.8-12.1%2C8.5-22.2%2C11.1c-10.1%2C2.7-21.1%2C4-33.1%2C4c-12%2C0-23-1.3-33.1-4%0A%09C21.4%2C83.9%2C14%2C80.2%2C9.2%2C75.4v17.2V93c0%2C5.6%2C5.4%2C10.4%2C16.1%2C14.5c10.7%2C4.1%2C23.8%2C6.1%2C39.2%2C6.1c15.4%2C0%2C28.4-2%2C39.2-6.1%0A%09c10.7-4%2C16.1-8.9%2C16.1-14.5v-0.4V75.4z%20M119.8%2C106.4c-4.8%2C4.5-12.1%2C8-22.2%2C10.7c-10.1%2C2.7-21.1%2C4-33.1%2C4c-12%2C0-23-1.3-33.1-4%0A%09c-10.1-2.7-17.5-6.2-22.2-10.7v17.2c0%2C5.6%2C5.4%2C10.4%2C16.1%2C14.5c10.7%2C4.1%2C23.8%2C6.1%2C39.2%2C6.1c15.4%2C0%2C28.4-2%2C39.2-6.1%0A%09c10.7-4%2C16.1-8.9%2C16.1-14.5V106.4z%20M105.8%2C59.9c-1.3%2C0-2.3%2C0.4-3.1%2C1.3s-1.3%2C1.9-1.3%2C3.1c0%2C1.3%2C0.4%2C2.4%2C1.3%2C3.4%0A%09c0.8%2C1%2C1.9%2C1.5%2C3.1%2C1.5s2.4-0.5%2C3.4-1.5c1-1%2C1.5-2.1%2C1.5-3.4c0-1.3-0.5-2.3-1.5-3.1C108.2%2C60.3%2C107%2C59.9%2C105.8%2C59.9z%20M105.8%2C90.5%0A%09c-1.3%2C0-2.3%2C0.4-3.1%2C1.3s-1.3%2C1.9-1.3%2C3.1c0%2C1.3%2C0.4%2C2.4%2C1.3%2C3.4c0.8%2C1%2C1.9%2C1.5%2C3.1%2C1.5s2.4-0.5%2C3.4-1.5c1-1%2C1.5-2.1%2C1.5-3.4%0A%09c0-1.3-0.5-2.3-1.5-3.1C108.2%2C90.9%2C107%2C90.5%2C105.8%2C90.5z%20M105.8%2C121.1c-1.3%2C0-2.3%2C0.4-3.1%2C1.3s-1.3%2C2-1.3%2C3.4c0%2C1.4%2C0.4%2C2.5%2C1.3%2C3.4%0A%09s1.9%2C1.3%2C3.1%2C1.3s2.4-0.4%2C3.4-1.3c1-0.8%2C1.5-2%2C1.5-3.4c0-1.4-0.5-2.5-1.5-3.4C108.2%2C121.5%2C107%2C121.1%2C105.8%2C121.1z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-17 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20147.5%20114.3%22%20style%3D%22enable-background%3Anew%200%200%20147.5%20114.3%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st5%22%20d%3D%22M75%2C0.2c2.5%2C0.6%2C3.8%2C2.5%2C3.8%2C5.9v102.2c0%2C3.4-1.3%2C5.3-3.8%2C5.9c-2.5%2C0.6-5-0.1-7.5-2.1%0A%09c-3.9-3.1-9.7-8.5-17.4-16.3c-7.7-7.8-13.5-13.1-17.4-15.9h-4.2H6.3c-1.7%2C0-3.1-0.6-4.4-1.9C0.6%2C76.6%2C0%2C75.2%2C0%2C73.5V40.4%0A%09c0-1.7%2C0.6-3.1%2C1.9-4.4c1.3-1.3%2C2.7-1.9%2C4.4-1.9h26.8c3.9-2.8%2C9.6-8.1%2C17.2-15.9c7.5-7.8%2C13.3-13.1%2C17.2-15.9%0A%09C70%2C0.3%2C72.5-0.4%2C75%2C0.2z%20M108.1%2C86.5c2-1.4%2C3.7-2.9%2C5.2-4.4c1.5-1.5%2C2.9-3.3%2C4.2-5.2c1.3-2%2C2.4-4%2C3.4-6.3c1-2.2%2C1.7-4.5%2C2.3-6.7%0A%09c0.6-2.5%2C0.8-4.9%2C0.8-7.1c0-2.2-0.3-4.6-0.8-7.1c-0.6-2.2-1.3-4.5-2.3-6.7c-1-2.2-2.1-4.3-3.4-6.3c-1.3-2-2.7-3.6-4.4-5%0A%09c-3.1-3.4-6.8-6-11.3-8c-3.4-1.4-5.8-0.3-7.3%2C3.1c-1.5%2C3.5-0.5%2C6.1%2C3.1%2C7.8c2.8%2C1.1%2C5.3%2C2.8%2C7.5%2C5c1.1%2C1.1%2C2.1%2C2.4%2C2.9%2C3.8%0A%09c0.8%2C1.4%2C1.5%2C2.7%2C2.1%2C3.8c0.8%2C1.7%2C1.4%2C3.3%2C1.7%2C4.8c0.3%2C1.5%2C0.4%2C3.1%2C0.4%2C4.8s-0.1%2C3.4-0.4%2C5c-0.3%2C1.4-0.8%2C2.9-1.7%2C4.6%0A%09c-0.6%2C1.4-1.3%2C2.7-2.1%2C3.8c-0.8%2C1.4-1.8%2C2.7-2.9%2C3.8c-1.1%2C1.1-2.4%2C2.1-3.8%2C2.9c-1.4%2C0.8-2.7%2C1.5-3.8%2C2.1c-3.6%2C1.7-4.7%2C4.3-3.1%2C7.8%0A%09c1.5%2C3.5%2C4%2C4.5%2C7.3%2C3.1C104%2C89%2C106.1%2C87.9%2C108.1%2C86.5z%20M121.9%2C104.1c3.1-2%2C5.9-4.3%2C8.6-6.9c2.7-2.7%2C5-5.5%2C7.1-8.6%0A%09c2.1-3.1%2C3.8-6.3%2C5.2-9.6c1.4-3.4%2C2.5-7%2C3.4-10.9c0.8-3.9%2C1.3-7.7%2C1.3-11.3c0-3.6-0.4-7.3-1.3-11.1c-0.8-3.8-2-7.5-3.4-11.1%0A%09c-1.4-3.4-3.2-6.6-5.4-9.6c-2-3.1-4.3-5.9-6.9-8.6c-2.7-2.7-5.5-5-8.6-6.9c-2.8-2-6-3.6-9.6-5c-3.4-1.7-5.8-0.7-7.3%2C2.9%0A%09c-1.5%2C3.6-0.5%2C6.1%2C3.1%2C7.5c2.5%2C1.1%2C5%2C2.5%2C7.5%2C4.2s4.8%2C3.6%2C6.9%2C5.7c2.1%2C2.1%2C3.9%2C4.3%2C5.4%2C6.7c1.5%2C2.4%2C2.9%2C5%2C4%2C7.8%0A%09c1.4%2C2.8%2C2.4%2C5.6%2C2.9%2C8.4c0.6%2C3.1%2C0.8%2C6.1%2C0.8%2C9.2c0%2C3.1-0.3%2C6.1-0.8%2C9.2c-0.6%2C2.8-1.5%2C5.6-2.9%2C8.4c-1.1%2C2.8-2.5%2C5.4-4.2%2C8%0A%09c-1.4%2C2.2-3.1%2C4.4-5.2%2C6.5c-2.1%2C2.1-4.4%2C4-6.9%2C5.7s-5%2C3.1-7.5%2C4.2c-3.6%2C1.4-4.7%2C3.9-3.1%2C7.5c1.5%2C3.6%2C4%2C4.8%2C7.3%2C3.4%0A%09C115.9%2C107.9%2C119.1%2C106%2C121.9%2C104.1z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-18 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20103.1%20174.3%22%20style%3D%22enable-background%3Anew%200%200%20103.1%20174.3%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M100.3%2C2.7c1.8%2C1.8%2C2.7%2C4%2C2.7%2C6.5v155.8c0%2C2.5-0.9%2C4.7-2.7%2C6.5c-1.8%2C1.8-4%2C2.7-6.5%2C2.7H9.2%0A%09c-2.5%2C0-4.7-0.9-6.5-2.7c-1.8-1.8-2.7-4-2.7-6.5V9.2c0-2.5%2C0.9-4.7%2C2.7-6.5C4.5%2C0.9%2C6.7%2C0%2C9.2%2C0h84.6C96.4%2C0%2C98.5%2C0.9%2C100.3%2C2.7z%0A%09%20M92.6%2C11.7H10.5v132.8h82.1V11.7z%20M59.9%2C159.2c0-2.2-0.8-4.2-2.5-5.9s-3.6-2.5-5.9-2.5c-2.2%2C0-4.2%2C0.8-5.9%2C2.5s-2.5%2C3.6-2.5%2C5.9%0A%09c0%2C2.2%2C0.8%2C4.1%2C2.5%2C5.7c1.7%2C1.5%2C3.6%2C2.3%2C5.9%2C2.3c2.2%2C0%2C4.2-0.8%2C5.9-2.3C59.1%2C163.3%2C59.9%2C161.4%2C59.9%2C159.2z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-19 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20146.6%2081.3%22%20style%3D%22enable-background%3Anew%200%200%20146.6%2081.3%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st3%22%20d%3D%22M143.9%2C2.7c1.8%2C1.8%2C2.7%2C4%2C2.7%2C6.5v62.8c0%2C2.5-0.9%2C4.7-2.7%2C6.5c-1.8%2C1.8-4%2C2.7-6.5%2C2.7H9.2%0A%09c-2.5%2C0-4.7-0.9-6.5-2.7c-1.8-1.8-2.7-4-2.7-6.5V9.2c0-2.5%2C0.9-4.7%2C2.7-6.5C4.5%2C0.9%2C6.7%2C0%2C9.2%2C0h128.2C139.9%2C0%2C142.1%2C0.9%2C143.9%2C2.7z%0A%09%20M137.4%2C9.2H9.2v62.8h128.2V9.2z%20M21.8%2C53.2c1.1%2C0%2C2.1%2C0.4%2C2.9%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.1-0.4%2C2.1-1.3%2C2.9s-1.8%2C1.3-2.9%2C1.3%0A%09c-1.1%2C0-2.2-0.4-3.1-1.3c-1-0.8-1.5-1.8-1.5-2.9c0-1.1%2C0.5-2.1%2C1.5-2.9C19.6%2C53.6%2C20.7%2C53.2%2C21.8%2C53.2z%20M24.7%2C19.7%0A%09c1.1%2C0%2C2.1%2C0.4%2C2.9%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.4-0.4%2C2.5-1.3%2C3.4s-1.8%2C1.3-2.9%2C1.3c-1.1%2C0-2.1-0.4-2.9-1.3s-1.3-1.9-1.3-3.1%0A%09c0-1.3%2C0-1.9%2C0-1.9s0.4-0.4%2C1.3-1.3S23.6%2C19.7%2C24.7%2C19.7z%20M30.8%2C36.4c1.3%2C0%2C2.3%2C0.4%2C3.1%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.1-0.4%2C2.1-1.3%2C2.9%0A%09s-1.9%2C1.3-3.1%2C1.3c-1.3%2C0-2.3-0.4-3.1-1.3s-1.3-1.8-1.3-2.9c0-1.1%2C0.4-2.1%2C1.3-2.9S29.5%2C36.4%2C30.8%2C36.4z%20M35.2%2C53.2%0A%09c1.1%2C0%2C2.1%2C0.4%2C2.9%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.1-0.4%2C2.1-1.3%2C2.9s-1.8%2C1.3-2.9%2C1.3c-1.1%2C0-2.1-0.4-2.9-1.3S31%2C58.5%2C31%2C57.4%0A%09c0-1.1%2C0.4-2.1%2C1.3-2.9S34.1%2C53.2%2C35.2%2C53.2z%20M38.1%2C19.7c1.1%2C0%2C2.2%2C0.4%2C3.1%2C1.3c1%2C0.8%2C1.5%2C1.8%2C1.5%2C2.9c0%2C1.4-0.5%2C2.5-1.5%2C3.4%0A%09c-1%2C0.8-2%2C1.3-3.1%2C1.3c-1.1%2C0-2.1-0.4-2.9-1.3s-1.3-1.9-1.3-3.1c0-1.3%2C0-1.9%2C0-1.9s0.4-0.4%2C1.3-1.3S37%2C19.7%2C38.1%2C19.7z%20M44.4%2C36.4%0A%09c1.1%2C0%2C2.1%2C0.4%2C2.9%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.1-0.4%2C2.1-1.3%2C2.9s-1.8%2C1.3-2.9%2C1.3c-1.1%2C0-2.2-0.4-3.1-1.3c-1-0.8-1.5-1.8-1.5-2.9%0A%09c0-1.1%2C0.5-2.1%2C1.5-2.9C42.2%2C36.9%2C43.3%2C36.4%2C44.4%2C36.4z%20M101.8%2C54.5c0.8%2C0.8%2C1.3%2C1.8%2C1.3%2C2.9c0%2C1.1-0.4%2C2.1-1.3%2C2.9s-2%2C1.3-3.4%2C1.3%0A%09H48.6c-1.1%2C0-2.1-0.4-2.9-1.3s-1.3-1.8-1.3-2.9c0-1.1%2C0.4-2.1%2C1.3-2.9s1.8-1.3%2C2.9-1.3h49.9C99.8%2C53.2%2C101%2C53.6%2C101.8%2C54.5z%0A%09%20M51.7%2C19.7c1.3%2C0%2C2.3%2C0.4%2C3.1%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.4-0.4%2C2.5-1.3%2C3.4s-1.9%2C1.3-3.1%2C1.3c-1.3%2C0-2.3-0.4-3.1-1.3%0A%09s-1.3-1.9-1.3-3.1c0-1.3%2C0-1.9%2C0-1.9s0.4-0.4%2C1.3-1.3S50.5%2C19.7%2C51.7%2C19.7z%20M57.8%2C36.4c1.1%2C0%2C2.1%2C0.4%2C2.9%2C1.3s1.3%2C1.8%2C1.3%2C2.9%0A%09c0%2C1.1-0.4%2C2.1-1.3%2C2.9s-1.8%2C1.3-2.9%2C1.3c-1.1%2C0-2.1-0.4-2.9-1.3s-1.3-1.8-1.3-2.9c0-1.1%2C0.4-2.1%2C1.3-2.9S56.7%2C36.4%2C57.8%2C36.4z%0A%09%20M65.1%2C19.7c1.3%2C0%2C2.3%2C0.4%2C3.1%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.4-0.4%2C2.5-1.3%2C3.4s-1.9%2C1.3-3.1%2C1.3c-1.3%2C0-2.3-0.4-3.1-1.3%0A%09s-1.3-1.9-1.3-3.1c0-1.3%2C0-1.9%2C0-1.9s0.4-0.4%2C1.3-1.3S63.9%2C19.7%2C65.1%2C19.7z%20M71.2%2C36.4c1.1%2C0%2C2.1%2C0.4%2C2.9%2C1.3s1.3%2C1.8%2C1.3%2C2.9%0A%09c0%2C1.1-0.4%2C2.1-1.3%2C2.9s-1.8%2C1.3-2.9%2C1.3c-1.1%2C0-2.1-0.4-2.9-1.3S67%2C41.8%2C67%2C40.6c0-1.1%2C0.4-2.1%2C1.3-2.9S70.1%2C36.4%2C71.2%2C36.4z%0A%09%20M78.6%2C19.7c1.3%2C0%2C2.3%2C0.4%2C3.1%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.4-0.4%2C2.5-1.3%2C3.4s-1.9%2C1.3-3.1%2C1.3c-1.3%2C0-2.3-0.4-3.1-1.3%0A%09s-1.3-1.9-1.3-3.1c0-1.3%2C0-1.9%2C0-1.9s0.4-0.4%2C1.3-1.3S77.3%2C19.7%2C78.6%2C19.7z%20M84.6%2C36.4c1.1%2C0%2C2.1%2C0.4%2C2.9%2C1.3s1.3%2C1.8%2C1.3%2C2.9%0A%09c0%2C1.1-0.4%2C2.1-1.3%2C2.9s-1.8%2C1.3-2.9%2C1.3c-1.1%2C0-2.1-0.4-2.9-1.3s-1.3-1.8-1.3-2.9c0-1.1%2C0-1.7%2C0-1.7s0.4-0.4%2C1.3-1.3%0A%09S83.5%2C36.4%2C84.6%2C36.4z%20M92%2C19.7c1.3%2C0%2C2.3%2C0.4%2C3.1%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.4-0.4%2C2.5-1.3%2C3.4s-1.9%2C1.3-3.1%2C1.3%0A%09c-1.3%2C0-2.3-0.4-3.1-1.3s-1.3-1.9-1.3-3.1c0-1.3%2C0-1.9%2C0-1.9s0.4-0.4%2C1.3-1.3S90.7%2C19.7%2C92%2C19.7z%20M98%2C36.4c1.1%2C0%2C2.1%2C0.4%2C2.9%2C1.3%0A%09s1.3%2C1.8%2C1.3%2C2.9c0%2C1.1-0.4%2C2.1-1.3%2C2.9s-1.8%2C1.3-2.9%2C1.3c-1.1%2C0-2.1-0.4-2.9-1.3s-1.3-1.8-1.3-2.9c0-1.1%2C0.4-2.1%2C1.3-2.9%0A%09S96.9%2C36.4%2C98%2C36.4z%20M105.4%2C19.7c1.3%2C0%2C2.3%2C0.4%2C3.1%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.4-0.4%2C2.5-1.3%2C3.4s-1.9%2C1.3-3.1%2C1.3%0A%09c-1.3%2C0-2.3-0.4-3.1-1.3s-1.3-1.9-1.3-3.1c0-1.3%2C0-1.9%2C0-1.9s0.4-0.4%2C1.3-1.3S104.1%2C19.7%2C105.4%2C19.7z%20M111.4%2C36.4%0A%09c1.1%2C0%2C2.1%2C0.4%2C2.9%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.1-0.4%2C2.1-1.3%2C2.9s-1.8%2C1.3-2.9%2C1.3c-1.1%2C0-2.1-0.4-2.9-1.3s-1.3-1.8-1.3-2.9%0A%09c0-1.1%2C0.4-2.1%2C1.3-2.9S110.3%2C36.4%2C111.4%2C36.4z%20M111.4%2C53.2c1.1%2C0%2C2.1%2C0.4%2C2.9%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.1-0.4%2C2.1-1.3%2C2.9%0A%09s-1.8%2C1.3-2.9%2C1.3c-1.1%2C0-2.1-0.4-2.9-1.3s-1.3-1.8-1.3-2.9c0-1.1%2C0.4-2.1%2C1.3-2.9S110.3%2C53.2%2C111.4%2C53.2z%20M118.8%2C19.7%0A%09c1.3%2C0%2C2.3%2C0.4%2C3.1%2C1.3s1.3%2C1.8%2C1.3%2C2.9c0%2C1.4-0.4%2C2.5-1.3%2C3.4s-1.9%2C1.3-3.1%2C1.3c-1.3%2C0-2.3-0.4-3.1-1.3s-1.3-1.9-1.3-3.1%0A%09c0-1.3%2C0-1.9%2C0-1.9s0.4-0.4%2C1.3-1.3S117.5%2C19.7%2C118.8%2C19.7z%20M124.8%2C53.2c1.1%2C0%2C2.2%2C0.4%2C3.1%2C1.3c1%2C0.8%2C1.5%2C1.8%2C1.5%2C2.9%0A%09c0%2C1.1-0.5%2C2.1-1.5%2C2.9c-1%2C0.8-2%2C1.3-3.1%2C1.3c-1.1%2C0-2.1-0.4-2.9-1.3s-1.3-1.8-1.3-2.9c0-1.1%2C0.4-2.1%2C1.3-2.9S123.7%2C53.2%2C124.8%2C53.2%0A%09z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-20 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%2088.8%2035.2%22%20style%3D%22enable-background%3Anew%200%200%2088.8%2035.2%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st6%22%20d%3D%22M24.3%2C1.7v8.4v0.4c-0.8%2C0.6-2.5%2C1.5-5%2C2.9c-3.4%2C1.7-6%2C3.1-8%2C4.2c2.8%2C1.1%2C7.1%2C3.5%2C13%2C7.1c0.3%2C0%2C0.4%2C0.1%2C0.4%2C0.4%0A%09v8.4c0%2C0.3-0.1%2C0.4-0.4%2C0.4c0%2C0.3-0.1%2C0.4-0.2%2C0.4c-0.1%2C0-0.2-0.1-0.2-0.4L2.1%2C21.4C0.7%2C20.3%2C0%2C18.9%2C0%2C17.2c0-1.4%2C0.6-2.5%2C1.7-3.4%0A%09h0.4c2.2-1.4%2C6-3.6%2C11.3-6.7c5-2.8%2C8.5-4.7%2C10.5-5.9C23.9%2C1%2C24%2C0.9%2C24.3%2C1c0.3%2C0.1%2C0.4%2C0.2%2C0.4%2C0.2S24.6%2C1.4%2C24.3%2C1.7z%20M52.4%2C0.4%0A%09L41.1%2C35.2h-0.4h-5.4c-0.3%2C0-0.4-0.1-0.4-0.4L45.7%2C0h0.4h5.9C52.2%2C0%2C52.4%2C0.1%2C52.4%2C0.4z%20M88.8%2C18c0%2C1.4-0.6%2C2.5-1.7%2C3.4h-0.4%0A%09c-2%2C1.4-5.7%2C3.6-11.3%2C6.7c-5%2C3.1-8.5%2C5-10.5%2C5.9c0%2C0.3-0.1%2C0.4-0.2%2C0.4c-0.1%2C0-0.2-0.1-0.2-0.4v-0.4v-8.4v-0.4%0A%09c0.8-0.6%2C2.5-1.5%2C5-2.9c2.8-1.4%2C5.4-2.8%2C8-4.2c-2.8-1.1-7.1-3.5-13-7.1c-0.3%2C0-0.4-0.1-0.4-0.4V1.7c0-0.3%2C0.1-0.5%2C0.4-0.6%0A%09c0.3-0.1%2C0.4-0.1%2C0.4%2C0.2l21.8%2C12.6C88.1%2C14.9%2C88.8%2C16.3%2C88.8%2C18z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-21 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20145%2093.8%22%20style%3D%22enable-background%3Anew%200%200%20145%2093.8%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st7%22%20d%3D%22M145%2C21.4c0%2C5-1.5%2C9.5-4.6%2C13.4c-3.1%2C3.9-7%2C6.4-11.7%2C7.5v10.5c0%2C6.7-2.4%2C12.5-7.3%2C17.4%0A%09c-4.9%2C4.9-10.8%2C7.3-17.8%2C7.3H93c-1.1%2C4.8-3.6%2C8.7-7.5%2C11.7c-3.9%2C3.1-8.2%2C4.6-13%2C4.6c-4.8%2C0-9.1-1.5-13-4.6c-3.9-3.1-6.4-7-7.5-11.7%0A%09H41.1c-7%2C0-12.8-2.4-17.6-7.3c-4.8-4.9-7.1-10.7-7.1-17.4V42.3c-4.8-1.4-8.7-4-11.7-7.8C1.5%2C30.8%2C0%2C26.4%2C0%2C21.4%0A%09c0-5.9%2C2.1-10.9%2C6.3-15.1S15.5%2C0%2C21.4%2C0s10.9%2C2.1%2C15.1%2C6.3s6.3%2C9.2%2C6.3%2C15.1c0%2C5-1.6%2C9.5-4.8%2C13.4c-3.2%2C3.9-7.2%2C6.4-11.9%2C7.5v10.5%0A%09c0%2C4.2%2C1.5%2C7.8%2C4.4%2C10.7c2.9%2C2.9%2C6.5%2C4.4%2C10.7%2C4.4h10.5c2-8.7%2C7.3-14.1%2C15.9-16.3v-9.2c-4.8-1.1-8.7-3.6-11.7-7.5%0A%09c-3.1-3.9-4.6-8.4-4.6-13.4c0-5.9%2C2.1-10.9%2C6.3-15.1S66.6%2C0%2C72.5%2C0s10.9%2C2.1%2C15.1%2C6.3s6.3%2C9.2%2C6.3%2C15.1c0%2C5-1.5%2C9.5-4.6%2C13.4%0A%09c-3.1%2C3.9-7%2C6.4-11.7%2C7.5v9.2c8.7%2C2.2%2C14%2C7.7%2C15.9%2C16.3h10.1c4.2%2C0%2C7.8-1.5%2C10.7-4.4c2.9-2.9%2C4.4-6.5%2C4.4-10.7V42.3%0A%09c-4.8-1.1-8.7-3.6-11.7-7.5c-3.1-3.9-4.6-8.4-4.6-13.4c0-5.9%2C2.1-10.9%2C6.3-15.1S117.7%2C0%2C123.6%2C0s10.9%2C2.1%2C15.1%2C6.3%0A%09S145%2C15.5%2C145%2C21.4z%20M9.6%2C21.4c0%2C3.1%2C1.1%2C5.8%2C3.4%2C8.2c2.2%2C2.4%2C5%2C3.6%2C8.2%2C3.6c3.2%2C0%2C5.9-1.2%2C8.2-3.6c2.2-2.4%2C3.4-5.1%2C3.4-8.2%0A%09c0-3.1-1.1-5.7-3.4-8c-2.2-2.2-5-3.4-8.2-3.4c-3.2%2C0-5.9%2C1.1-8.2%2C3.4C10.7%2C15.6%2C9.6%2C18.3%2C9.6%2C21.4z%20M61.2%2C21.4%0A%09c0%2C3.1%2C1.1%2C5.8%2C3.4%2C8.2c2.2%2C2.4%2C4.9%2C3.6%2C8%2C3.6c3.1%2C0%2C5.7-1.2%2C8-3.6c2.2-2.4%2C3.4-5.1%2C3.4-8.2c0-3.1-1.1-5.7-3.4-8%0A%09c-2.2-2.2-4.9-3.4-8-3.4c-3.1%2C0-5.7%2C1.1-8%2C3.4C62.3%2C15.6%2C61.2%2C18.3%2C61.2%2C21.4z%20M61.2%2C72.5c0%2C3.1%2C1.1%2C5.7%2C3.4%2C8%0A%09c2.2%2C2.2%2C4.9%2C3.4%2C8%2C3.4c3.1%2C0%2C5.7-1.1%2C8-3.4c2.2-2.2%2C3.4-4.9%2C3.4-8c0-3.1-1.1-5.8-3.4-8.2c-2.2-2.4-4.9-3.6-8-3.6%0A%09c-3.1%2C0-5.7%2C1.2-8%2C3.6C62.3%2C66.7%2C61.2%2C69.4%2C61.2%2C72.5z%20M112.3%2C21.4c0%2C3.1%2C1.1%2C5.8%2C3.4%2C8.2c2.2%2C2.4%2C5%2C3.6%2C8.2%2C3.6%0A%09c3.2%2C0%2C5.9-1.2%2C8.2-3.6c2.2-2.4%2C3.4-5.1%2C3.4-8.2c0-3.1-1.1-5.7-3.4-8c-2.2-2.2-5-3.4-8.2-3.4c-3.2%2C0-5.9%2C1.1-8.2%2C3.4%0A%09C113.4%2C15.6%2C112.3%2C18.3%2C112.3%2C21.4z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-22 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20146.6%20122.3%22%20style%3D%22enable-background%3Anew%200%200%20146.6%20122.3%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st3%22%20d%3D%22M141%2C48.6c3.8%2C5.6%2C5.7%2C11.9%2C5.7%2C18.9c0%2C8.9-3.2%2C16.7-9.6%2C23.3c-6.4%2C6.6-14.2%2C9.8-23.5%2C9.8H91.3v-8h22.2%0A%09c7%2C0%2C13-2.4%2C18-7.3c5-4.9%2C7.5-10.8%2C7.5-17.8c0-6.1-2-11.6-5.9-16.3c-3.9-4.7-8.9-7.7-15.1-8.8c0.3-0.8%2C0.4-1.8%2C0.4-2.9%0A%09c0-8.7-3.1-16.1-9.4-22.4c-6.3-6.3-13.8-9.4-22.4-9.4c-6.7%2C0-12.8%2C1.9-18.2%2C5.7C63.1%2C17%2C59.2%2C21.9%2C57%2C28.1c-3.4-3.4-7.4-5-12.1-5%0A%09c-4.5%2C0-8.3%2C1.5-11.5%2C4.6c-3.2%2C3.1-4.8%2C7-4.8%2C11.7c0%2C0.8%2C0.1%2C1.8%2C0.4%2C2.9c-6.1%2C1.1-11.2%2C4-15.3%2C8.6C9.6%2C55.5%2C7.5%2C61%2C7.5%2C67.5%0A%09c0%2C7%2C2.5%2C12.9%2C7.5%2C17.8c5%2C4.9%2C11%2C7.3%2C18%2C7.3h25.1v8H33.1c-9.2%2C0-17-3.3-23.5-9.8C3.2%2C84.1%2C0%2C76.4%2C0%2C67.5c0-7%2C2-13.3%2C5.9-18.9%0A%09C9.8%2C43%2C14.8%2C39%2C20.9%2C36.4c0.8-5.9%2C3.5-10.9%2C8-15.1c4.5-4.2%2C9.8-6.3%2C15.9-6.3c3.4%2C0%2C6.4%2C0.7%2C9.2%2C2.1C62.1%2C5.7%2C73%2C0%2C86.7%2C0%0A%09c10.3%2C0%2C19.3%2C3.6%2C26.8%2C10.7c7.5%2C7.1%2C11.7%2C15.9%2C12.6%2C26.2C132.2%2C39.1%2C137.2%2C43%2C141%2C48.6z%20M77.9%2C121.1c-0.8%2C0.8-1.9%2C1.3-3.1%2C1.3%0A%09c-1.3%2C0-2.3-0.4-3.1-1.3s-1.3-2-1.3-3.4V65.8L57.8%2C78.3c-2%2C2-4.1%2C2-6.3%2C0c-0.8-0.8-1.3-1.9-1.3-3.1c0-1.3%2C0.4-2.3%2C1.3-3.1l20.1-20.1%0A%09c0.3-0.3%2C0.6-0.6%2C0.8-0.8h0.4c0-0.3%2C0.1-0.4%2C0.4-0.4h0.4h0.4h0.4l0.4-0.4v0.4c0.3%2C0%2C0.6%2C0%2C0.8%2C0h0.4h0.4l0.4%2C0.4h0.4%0A%09c0.3%2C0.3%2C0.4%2C0.6%2C0.4%2C0.8l20.5%2C20.1c2%2C2%2C1.9%2C4-0.2%2C6.1c-2.1%2C2.1-4.3%2C2.2-6.5%2C0.2L79.2%2C65.8v51.9C79.2%2C119.1%2C78.8%2C120.2%2C77.9%2C121.1z%22%0A%09%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-23 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20139.9%20158.4%22%20style%3D%22enable-background%3Anew%200%200%20139.9%20158.4%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M119.4%2C137.8c-13.7%2C13.7-30.2%2C20.5-49.4%2C20.5s-35.8-6.8-49.4-20.5C6.8%2C124.2%2C0%2C107.7%2C0%2C88.4%0A%09c0-15.1%2C4.3-28.7%2C13-40.8C21.6%2C35.4%2C33.1%2C27%2C47.3%2C22.2c1.7-0.6%2C3.3-0.5%2C4.8%2C0.2c1.5%2C0.7%2C2.6%2C1.9%2C3.1%2C3.6c0.6%2C1.7%2C0.4%2C3.3-0.4%2C4.8%0A%09c-0.8%2C1.5-2%2C2.4-3.4%2C2.7C39.8%2C37.7%2C30.3%2C44.8%2C23%2C54.9c-7.3%2C10.1-10.9%2C21.2-10.9%2C33.5c0%2C15.9%2C5.7%2C29.5%2C17%2C40.8%0A%09c11.3%2C11.3%2C24.9%2C17%2C40.8%2C17s29.5-5.7%2C40.8-17c11.3-11.3%2C17-24.9%2C17-40.8c0-12.3-3.6-23.5-10.7-33.5c-7.1-10.1-16.5-17-28.3-20.9%0A%09c-1.7-0.6-2.9-1.6-3.6-3.1c-0.7-1.5-0.8-3.1-0.2-4.8c0.6-1.7%2C1.6-2.9%2C3.1-3.6c1.5-0.7%2C3.1-0.8%2C4.8-0.2c14%2C5%2C25.3%2C13.6%2C33.9%2C25.8%0A%09c8.7%2C12.1%2C13%2C25.6%2C13%2C40.4C139.9%2C107.7%2C133.1%2C124.2%2C119.4%2C137.8z%20M74.4%2C58.7c-1.3%2C1.1-2.7%2C1.7-4.4%2C1.7s-3.1-0.6-4.4-1.7%0A%09c-1.3-1.1-1.9-2.5-1.9-4.2V6.3c0-1.7%2C0.6-3.1%2C1.9-4.4C66.8%2C0.6%2C68.3%2C0%2C70%2C0s3.1%2C0.6%2C4.4%2C1.9c1.3%2C1.3%2C1.9%2C2.7%2C1.9%2C4.4v48.2%0A%09C76.2%2C56.1%2C75.6%2C57.5%2C74.4%2C58.7z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-24 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20145.8%20133.2%22%20style%3D%22enable-background%3Anew%200%200%20145.8%20133.2%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st2%22%20d%3D%22M138.9%2C84.8c-4.6%2C5.4-10.4%2C8.7-17.4%2C9.8c-1.1%2C2.5-2.5%2C5.2-4.2%2C8c-1.7%2C2.8-4.1%2C6.2-7.1%2C10.3%0A%09c-3.1%2C4.1-6.8%2C7.4-11.1%2C10.1c-4.3%2C2.7-8.7%2C4.1-13.2%2C4.4c-1.4%2C3.9-4.2%2C5.9-8.4%2C5.9c-2.5%2C0-4.7-0.9-6.5-2.7c-1.8-1.8-2.7-3.9-2.7-6.3%0A%09c0-2.4%2C0.9-4.5%2C2.7-6.3c1.8-1.8%2C4-2.7%2C6.5-2.7c4.2%2C0%2C7%2C2%2C8.4%2C5.9c4.7-0.3%2C9.6-2.7%2C14.7-7.3c5-4.6%2C8.6-8.7%2C10.7-12.1%0A%09c2.1-3.5%2C3.8-6.8%2C5.2-9.8V41.5c-3.1-9.2-8.6-16.8-16.5-22.6c-8-5.9-17-8.8-27-8.8s-19.1%2C3-27%2C9c-8%2C6-13.5%2C13.6-16.5%2C22.8v53.6%0A%09c-8.1%2C0-15-2.9-20.7-8.6C2.9%2C81.2%2C0%2C74.3%2C0%2C66.2C0%2C59.8%2C1.9%2C54%2C5.7%2C49c3.8-5%2C8.4-8.5%2C14-10.5C23.6%2C27.1%2C30.4%2C17.8%2C40%2C10.7%0A%09C49.6%2C3.6%2C60.6%2C0%2C72.9%2C0C85.2%2C0%2C96.2%2C3.6%2C106%2C10.7c9.8%2C7.1%2C16.5%2C16.4%2C20.1%2C27.9c5.9%2C2%2C10.6%2C5.4%2C14.2%2C10.5c3.6%2C5%2C5.4%2C10.8%2C5.4%2C17.2%0A%09C145.8%2C73.2%2C143.5%2C79.4%2C138.9%2C84.8z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-25 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20139.9%20119.1%22%20style%3D%22enable-background%3Anew%200%200%20139.9%20119.1%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st5%22%20d%3D%22M64.1%2C83.1v7.5c0%2C1.1-0.6%2C1.8-1.7%2C2.1l-9.6%2C1.7c-1.1%2C0.3-1.4%2C0.8-0.8%2C1.7l5.9%2C8.4c0.6%2C0.8%2C0.4%2C1.7-0.4%2C2.5%0A%09l-5.4%2C5.4c-0.6%2C0.8-1.4%2C0.8-2.5%2C0l-8-5.4c-1.1-0.6-1.8-0.3-2.1%2C0.8l-1.7%2C9.6c-0.3%2C1.1-1%2C1.7-2.1%2C1.7h-7.1c-1.4%2C0-2.1-0.6-2.1-1.7%0A%09l-1.7-9.6c-0.3-1.1-1-1.4-2.1-0.8l-8%2C5.4c-0.8%2C0.8-1.7%2C0.8-2.5%2C0l-5.4-5.4c-0.8-0.8-1-1.7-0.4-2.5l5.9-8.4c0.6-0.8%2C0.3-1.4-0.8-1.7%0A%09l-9.6-1.7c-1.1-0.3-1.7-1-1.7-2.1v-7.5c0-1.1%2C0.6-1.8%2C1.7-2.1l9.6-1.7c1.1-0.3%2C1.3-0.8%2C0.4-1.7l-5.4-8c-0.6-1.1-0.4-2.1%2C0.4-2.9%0A%09l5.4-5c0.8-0.8%2C1.7-1%2C2.5-0.4l8%2C5.4c1.1%2C0.6%2C1.8%2C0.4%2C2.1-0.4l1.7-9.6c0-1.1%2C0.7-1.7%2C2.1-1.7h7.1c1.1%2C0%2C1.8%2C0.6%2C2.1%2C1.7l1.7%2C9.6%0A%09c0.3%2C1.1%2C1%2C1.3%2C2.1%2C0.4l8-5.4c1.1-0.6%2C2-0.4%2C2.5%2C0.4l5.4%2C5c0.8%2C0.8%2C1%2C1.8%2C0.4%2C2.9l-5.9%2C8c-0.6%2C0.8-0.3%2C1.4%2C0.8%2C1.7l9.6%2C1.7%0A%09C63.5%2C81.2%2C64.1%2C81.9%2C64.1%2C83.1z%20M43.6%2C87c0-3.2-1.1-5.9-3.4-8.2c-2.2-2.2-5-3.4-8.2-3.4c-3.2%2C0-5.9%2C1.1-8.2%2C3.4%0A%09c-2.2%2C2.2-3.4%2C5-3.4%2C8.2c0%2C3.2%2C1.1%2C5.9%2C3.4%2C8.2c2.2%2C2.2%2C5%2C3.4%2C8.2%2C3.4c3.2%2C0%2C5.9-1.1%2C8.2-3.4C42.5%2C93%2C43.6%2C90.2%2C43.6%2C87z%20M81.3%2C34%0A%09l-2.1%2C6.3c-0.3%2C0.8-1%2C1.1-2.1%2C0.8l-8.4-1.3c-0.3%2C0-0.6%2C0.1-0.8%2C0.2c-0.3%2C0.1-0.3%2C0.5%2C0%2C1l1.7%2C8.4c0.3%2C0.8%2C0%2C1.5-0.8%2C2.1l-5.9%2C2.5%0A%09c-0.8%2C0.6-1.5%2C0.4-2.1-0.4l-5-7.1c-0.6-0.8-1.1-0.8-1.7%2C0l-4.2%2C7.5c-0.6%2C0.8-1.4%2C1.1-2.5%2C0.8l-5.9-2.5c-0.8-0.3-1.3-0.8-1.3-1.7%0A%09l1.7-8.4c0-0.6-0.1-0.9-0.4-1c-0.3-0.1-0.6-0.2-0.8-0.2l-8.4%2C2.1c-0.8%2C0.3-1.5-0.1-2.1-1.3l-2.9-5.9c-0.3-0.8%2C0-1.5%2C0.8-2.1l6.7-5%0A%09c0.8-0.6%2C0.8-1.1%2C0-1.7l-7.1-4.2c-0.8-0.6-1.1-1.3-0.8-2.1l2.1-6.3c0.6-0.8%2C1.3-1.1%2C2.1-0.8l8.4%2C1.3c0.3%2C0%2C0.6-0.1%2C0.8-0.4%0A%09c0.3-0.3%2C0.4-0.6%2C0.4-0.8l-2.1-8.4c-0.3-0.8%2C0-1.5%2C0.8-2.1l5.9-2.5c0.8-0.6%2C1.5-0.4%2C2.1%2C0.4l5%2C7.1c0.6%2C0.8%2C1.1%2C0.8%2C1.7%2C0l4.6-7.5%0A%09c0.3-0.8%2C1-1.1%2C2.1-0.8l5.9%2C2.5c1.1%2C0.3%2C1.5%2C0.8%2C1.3%2C1.7l-1.3%2C8.4c-0.3%2C0.6-0.3%2C0.9%2C0%2C1c0.3%2C0.1%2C0.6%2C0.2%2C0.8%2C0.2l8.4-2.1%0A%09c1.1-0.3%2C1.8%2C0%2C2.1%2C0.8l2.9%2C6.3c0.3%2C0.8%2C0%2C1.5-0.8%2C2.1l-6.7%2C5c-0.8%2C0.6-0.8%2C1.1%2C0%2C1.7l7.1%2C4.2C81.3%2C32.5%2C81.6%2C33.2%2C81.3%2C34z%0A%09%20M63.5%2C30.9c1-2.7%2C0.9-5.2-0.2-7.8c-1.1-2.5-3-4.2-5.7-5c-2.7-0.8-5.2-0.7-7.8%2C0.4c-2.5%2C1.1-4.3%2C3-5.2%2C5.7c-1%2C2.7-0.9%2C5.2%2C0.2%2C7.8%0A%09c1.1%2C2.5%2C3%2C4.3%2C5.7%2C5.2c2.7%2C1%2C5.2%2C0.8%2C7.8-0.4C60.7%2C35.5%2C62.5%2C33.6%2C63.5%2C30.9z%20M139.9%2C70.5v8.8c0%2C1.4-0.7%2C2.2-2.1%2C2.5l-10.9%2C1.7%0A%09c-1.4%2C0.3-1.7%2C1-0.8%2C2.1l6.3%2C9.6c0.8%2C1.1%2C0.7%2C2.1-0.4%2C2.9l-5.9%2C6.3c-0.8%2C0.8-1.8%2C0.8-2.9%2C0l-9.6-6.3c-1.1-0.8-1.8-0.6-2.1%2C0.8%0A%09l-1.7%2C11.3c-0.3%2C1.1-1.1%2C1.7-2.5%2C1.7h-8.8c-1.1%2C0-1.8-0.6-2.1-1.7L94.3%2C99c-0.3-1.4-1-1.7-2.1-0.8l-9.2%2C6.3c-1.1%2C0.8-2.2%2C0.8-3.4%2C0%0A%09l-5.9-6.3c-1.1-0.8-1.3-1.8-0.4-2.9l6.3-9.6c0.8-1.1%2C0.6-1.8-0.8-2.1l-10.9-1.7c-1.4-0.3-2.1-1.1-2.1-2.5v-8.8%0A%09c0-1.1%2C0.7-1.8%2C2.1-2.1l10.9-2.1c1.4-0.3%2C1.7-1%2C0.8-2.1L73.3%2C55c-0.6-1.1-0.4-2.2%2C0.4-3.4l5.9-5.9c1.1-0.8%2C2.2-1%2C3.4-0.4l9.2%2C6.3%0A%09c1.1%2C0.8%2C1.8%2C0.6%2C2.1-0.8l2.1-10.9c0.3-1.4%2C1-2.1%2C2.1-2.1h8.8c1.4%2C0%2C2.2%2C0.7%2C2.5%2C2.1l1.7%2C10.9c0.3%2C1.4%2C1%2C1.7%2C2.1%2C0.8l9.6-6.3%0A%09c1.1-0.6%2C2.1-0.4%2C2.9%2C0.4l5.9%2C5.9c1.1%2C1.1%2C1.3%2C2.2%2C0.4%2C3.4l-6.3%2C9.2c-0.8%2C1.1-0.6%2C1.8%2C0.8%2C2.1l10.9%2C2.1%0A%09C139.2%2C68.7%2C139.9%2C69.4%2C139.9%2C70.5z%20M116.5%2C75.1c0-3.6-1.3-6.8-4-9.4c-2.7-2.7-5.9-4-9.6-4c-3.8%2C0-6.9%2C1.3-9.4%2C4%0A%09c-2.5%2C2.7-3.8%2C5.8-3.8%2C9.4c0%2C3.6%2C1.3%2C6.8%2C3.8%2C9.4c2.5%2C2.7%2C5.7%2C4%2C9.4%2C4c3.8%2C0%2C7-1.3%2C9.6-4C115.1%2C81.9%2C116.5%2C78.7%2C116.5%2C75.1z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-26 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20124%20126.5%22%20style%3D%22enable-background%3Anew%200%200%20124%20126.5%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M123.2%2C75c0.6%2C0.3%2C0.8%2C0.7%2C0.8%2C1.3l-2.1%2C34.4c0%2C0.6-0.3%2C1-0.8%2C1.3c-0.3%2C0-0.6%2C0-0.8%2C0c-0.3%2C0-0.6-0.1-0.8-0.4%0A%09l-10.1-6.7C96.8%2C119.3%2C81%2C126.5%2C62%2C126.5c-15.4%2C0-28.8-4.9-40.4-14.7C10%2C102.1%2C2.8%2C89.8%2C0%2C75h9.2c2.8%2C12%2C9.1%2C22.1%2C18.9%2C30.2%0A%09c9.8%2C8.1%2C21.1%2C12.1%2C33.9%2C12.1c15.9%2C0%2C29.2-6%2C39.8-18l-9.6-6.7c-0.3-0.3-0.4-0.7-0.4-1.3c0-0.6%2C0.3-1%2C0.8-1.3L121.5%2C75%0A%09C122.1%2C74.7%2C122.6%2C74.7%2C123.2%2C75z%20M0.8%2C51.9c-0.3-0.3-0.4-0.7-0.4-1.3l1.7-34.4c0.3-0.6%2C0.6-1%2C1-1.3c0.4-0.3%2C0.9-0.1%2C1.5%2C0.4%0A%09l9.6%2C6.7C26.8%2C7.4%2C42.7%2C0%2C62%2C0c15.4%2C0%2C28.9%2C5%2C40.6%2C14.9c11.7%2C9.9%2C18.9%2C22.3%2C21.4%2C37.1h-9.2c-2.5-12.3-8.7-22.5-18.6-30.6%0A%09C86.2%2C13.3%2C74.8%2C9.2%2C62%2C9.2c-15.9%2C0-29.3%2C6-40.2%2C18l10.1%2C7.1c0.6%2C0.3%2C0.8%2C0.7%2C0.6%2C1.3c-0.1%2C0.6-0.4%2C1-0.6%2C1.3L2.5%2C52.4%0A%09c-0.3%2C0-0.6%2C0-0.8%2C0C1.4%2C52.4%2C1.1%2C52.2%2C0.8%2C51.9z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-27 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20147.2%20105.6%22%20style%3D%22enable-background%3Anew%200%200%20147.2%20105.6%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st4%22%20d%3D%22M145.7%2C98.5c0.3%2C1.4-0.1%2C2.6-1%2C3.6c-1%2C1-2.2%2C1.3-3.6%2C1l-13.8-3.4c-6.4%2C3.9-13.5%2C5.9-21.4%2C5.9%0A%09c-9.5%2C0-18-2.8-25.6-8.4c-8.4%2C5.3-17.6%2C8-27.7%2C8c-9.2%2C0-17.7-2.2-25.6-6.7l-19.3%2C4.6c-1.4%2C0.3-2.6-0.1-3.6-1c-1-1-1.3-2.2-1-3.6%0A%09l4.6-18C1.5%2C70.1-1%2C58.8%2C0.4%2C46.5c1.4-12.3%2C6.4-22.8%2C15.1-31.4C25.8%2C5%2C38.2%2C0%2C52.7%2C0c14.5%2C0%2C27%2C5%2C37.3%2C15.1c2.5%2C2.8%2C4.9%2C5.7%2C7.1%2C8.8%0A%09c2.8-0.6%2C5.7-0.8%2C8.8-0.8c11.4%2C0%2C21.2%2C4.1%2C29.3%2C12.1c6.4%2C6.4%2C10.3%2C14.2%2C11.5%2C23.5c1.3%2C9.2-0.4%2C17.7-4.8%2C25.6L145.7%2C98.5z%20M81.2%2C87.6%0A%09c1.1-1.1%2C2.2-2.2%2C3.4-3.4C93.5%2C75.6%2C98%2C64.9%2C98%2C52.4c0-7-1.5-13.5-4.6-19.7c-1.1-2.2-2.4-4.4-3.8-6.5c-1.4-2.1-3.1-4-5-5.7%0A%09C75.9%2C11.6%2C65.3%2C7.1%2C52.7%2C7.1s-23.2%2C4.5-31.8%2C13.4C13.1%2C28.1%2C8.7%2C37.2%2C7.7%2C48c-1%2C10.8%2C1.5%2C20.6%2C7.3%2C29.5c0.8%2C0.8%2C1.1%2C1.8%2C0.8%2C2.9%0A%09l-3.8%2C13.8l14.7-3.4c0.3-0.3%2C0.6-0.4%2C0.8-0.4c0.6%2C0%2C1.1%2C0.3%2C1.7%2C0.8c7.3%2C4.2%2C15.1%2C6.3%2C23.5%2C6.3c7.8%2C0%2C15.2-2%2C22.2-5.9%0A%09C77.2%2C90.6%2C79.3%2C89.2%2C81.2%2C87.6z%20M56.5%2C62.4v-7.1c3.9-1.1%2C7.1-2.9%2C9.6-5.4c2.8-3.1%2C4.2-7%2C4.2-11.7c0-2.5-0.5-4.8-1.5-6.9%0A%09c-1-2.1-2.3-3.8-4-5.2c-1.7-1.4-3.7-2.5-6.1-3.4c-2.4-0.8-4.8-1.3-7.3-1.3c-2%2C0-4%2C0.4-6.1%2C1c-2.1%2C0.7-4%2C1.6-5.7%2C2.7%0A%09c-1.7%2C1.1-3.1%2C2.5-4.2%2C4.2c-1.1%2C2-1.7%2C3.9-1.7%2C5.9c0%2C1.7%2C0.5%2C3%2C1.5%2C4c1%2C1%2C2.2%2C1.5%2C3.6%2C1.5c1.1%2C0%2C2-0.3%2C2.7-0.8%0A%09c0.7-0.6%2C1.3-1.5%2C1.9-2.9c0.8-2.2%2C2-3.8%2C3.4-4.6c1.4-0.8%2C3.1-1.3%2C5-1.3c2.2%2C0%2C4.1%2C0.7%2C5.7%2C2.1c1.5%2C1.4%2C2.3%2C3.2%2C2.3%2C5.4%0A%09c0%2C0.8-0.1%2C1.6-0.2%2C2.3c-0.1%2C0.7-0.4%2C1.4-0.8%2C2.1c-0.4%2C0.7-1%2C1.3-1.9%2C1.9c-0.8%2C0.6-2%2C1-3.4%2C1.3c-1.7%2C0.3-2.9%2C0.6-3.8%2C0.8%0A%09c-0.8%2C0.3-1.5%2C0.7-2.1%2C1.3c-0.6%2C0.8-1%2C1.7-1.3%2C2.5c0%2C0.6%2C0%2C1.4%2C0%2C2.5v9.2c0%2C1.7%2C0.5%2C3%2C1.5%2C4c1%2C1%2C2.2%2C1.5%2C3.8%2C1.5%0A%09c1.5%2C0%2C2.7-0.5%2C3.6-1.5C56.1%2C65.4%2C56.5%2C64.1%2C56.5%2C62.4z%20M57.4%2C80.6c0-1.5-0.6-2.9-1.7-4c-1.1-1.1-2.4-1.7-4-1.7%0A%09c-1.5%2C0-2.9%2C0.6-4%2C1.7c-1.1%2C1.1-1.7%2C2.4-1.7%2C4c0%2C1.5%2C0.6%2C2.9%2C1.7%2C4c1.1%2C1.1%2C2.4%2C1.7%2C4%2C1.7c1.5%2C0%2C2.9-0.6%2C4-1.7%0A%09C56.8%2C83.5%2C57.4%2C82.2%2C57.4%2C80.6z%20M134.9%2C81.7c4.2-6.7%2C5.8-13.9%2C4.8-21.6c-1-7.7-4.3-14.3-9.8-19.9c-6.7-6.4-14.7-9.6-23.9-9.6%0A%09c-1.7%2C0-3.5%2C0.1-5.4%2C0.4c3.4%2C6.7%2C5%2C13.8%2C5%2C21.4c0%2C14.5-5.2%2C27-15.5%2C37.3c-1.1%2C0.8-2.2%2C1.8-3.4%2C2.9c5.9%2C3.9%2C12.3%2C5.9%2C19.3%2C5.9%0A%09c6.7%2C0%2C13-2%2C18.9-5.9c0.8-0.6%2C1.8-0.7%2C2.9-0.4l9.2%2C2.1l-2.5-9.6C134.2%2C83.8%2C134.3%2C82.8%2C134.9%2C81.7z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-28 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20137.4%20122.7%22%20style%3D%22enable-background%3Anew%200%200%20137.4%20122.7%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st2%22%20d%3D%22M24.3%2C73.5c0.6%2C0.6%2C0.6%2C1.3%2C0%2C2.1l-5.9%2C5.9c-0.3%2C0.3-0.6%2C0.4-1%2C0.4c-0.4%2C0-0.8-0.1-1-0.4%0A%09C5.7%2C70%2C0.3%2C56.3%2C0%2C40.4C0.3%2C24.8%2C5.6%2C11.5%2C15.9%2C0.6c0.8-0.8%2C1.7-0.8%2C2.5%2C0l5.9%2C5.9c0.6%2C0.8%2C0.6%2C1.5%2C0%2C2.1%0A%09c-8.4%2C8.9-12.6%2C19.7-12.6%2C32.3S15.9%2C64.3%2C24.3%2C73.5z%20M45.2%2C58.9c0.6%2C0.8%2C0.4%2C1.5-0.4%2C2.1l-5%2C5c-0.3%2C0.3-0.6%2C0.4-1%2C0.4%0A%09c-0.4%2C0-0.8-0.1-1-0.4c-7-7.5-10.5-16-10.5-25.3c0-9.4%2C3.6-17.7%2C10.9-24.9c0.3-0.6%2C0.6-0.8%2C1-0.8c0.4%2C0%2C0.8%2C0.3%2C1%2C0.8l5.4%2C5.4%0A%09c0.8%2C0.6%2C0.8%2C1.3%2C0%2C2.1c-4.8%2C5.3-7.1%2C11.5-7.1%2C18.4C38.5%2C48.4%2C40.8%2C54.1%2C45.2%2C58.9z%20M90.5%2C120.4c0.3%2C0.3%2C0.4%2C0.6%2C0.4%2C0.8%0A%09c0%2C0.8-0.6%2C1.3-1.7%2C1.3c-0.3%2C0-0.6%2C0-0.8%2C0l-20.5-13.8l-20.1%2C13.8c-0.6%2C0.3-1.1%2C0.2-1.7-0.2c-0.6-0.4-0.7-0.9-0.4-1.5l13.4-53.2%0A%09c0.3-0.8%2C0.8-1.3%2C1.7-1.3h14.7c0.8%2C0%2C1.4%2C0.4%2C1.7%2C1.3L90.5%2C120.4z%20M59.7%2C49c-2.4-2.4-3.6-5.2-3.6-8.4c0-3.2%2C1.2-5.9%2C3.6-8.2%0A%09c2.4-2.2%2C5.1-3.4%2C8.2-3.4c3.4%2C0%2C6.2%2C1.1%2C8.6%2C3.4c2.4%2C2.2%2C3.6%2C5%2C3.6%2C8.4s-1.2%2C6.1-3.6%2C8.4c-2.4%2C2.2-5.2%2C3.4-8.6%2C3.4%0A%09C64.8%2C52.6%2C62.1%2C51.4%2C59.7%2C49z%20M97.6%2C16.5c7%2C8.1%2C10.5%2C16.5%2C10.5%2C25.1c0%2C9.5-3.5%2C17.9-10.5%2C25.1c-0.3%2C0.3-0.6%2C0.4-1%2C0.4%0A%09c-0.4%2C0-0.8-0.1-1-0.4l-5.9-5.4c-0.6-0.6-0.6-1.3%2C0-2.1c4.7-5%2C7.1-11.2%2C7.1-18.4c0-6.4-2.1-12.1-6.3-17.2c-0.6-0.8-0.6-1.5%2C0-2.1%0A%09l5-5c0.3-0.6%2C0.6-0.8%2C1-0.6C97%2C16.1%2C97.3%2C16.3%2C97.6%2C16.5z%20M137.4%2C42.5c-0.3%2C15.6-5.7%2C28.8-16.3%2C39.4c-0.3%2C0.3-0.6%2C0.4-1%2C0.4%0A%09c-0.4%2C0-0.8-0.1-1-0.4l-5.9-5.9c-0.6-0.8-0.6-1.5%2C0-2.1c8.7-8.9%2C12.8-19.7%2C12.6-32.3c0.3-12.6-3.9-23.5-12.6-32.7%0A%09c-0.6-0.8-0.6-1.5%2C0-2.1l5.9-5.4c0.6-0.6%2C1.3-0.6%2C2.1%2C0C131.7%2C12.6%2C137.1%2C26.3%2C137.4%2C42.5z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-29 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20146.6%20119%22%20style%3D%22enable-background%3Anew%200%200%20146.6%20119%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st6%22%20d%3D%22M141%2C48.6c3.8%2C5.6%2C5.7%2C11.7%2C5.7%2C18.4c0%2C9.2-3.2%2C17-9.6%2C23.5c-6.4%2C6.4-14.2%2C9.6-23.5%2C9.6h-10.1v-7.5h10.1%0A%09c7%2C0%2C13-2.5%2C18-7.5s7.5-11%2C7.5-18c0-6.1-2-11.5-5.9-16.1c-3.9-4.6-8.9-7.5-15.1-8.6c0.3-0.8%2C0.4-1.8%2C0.4-2.9%0A%09c0-8.9-3.1-16.5-9.4-22.6c-6.3-6.1-13.8-9.2-22.4-9.2c-6.7%2C0-12.8%2C1.9-18.2%2C5.7C63.1%2C17%2C59.2%2C21.9%2C57%2C28.1%0A%09c-3.4-3.6-7.4-5.4-12.1-5.4c-4.5%2C0-8.3%2C1.6-11.5%2C4.8c-3.2%2C3.2-4.8%2C7.1-4.8%2C11.5c0%2C1.1%2C0.1%2C2.2%2C0.4%2C3.4c-6.1%2C0.8-11.2%2C3.6-15.3%2C8.4%0A%09C9.6%2C55.4%2C7.5%2C60.9%2C7.5%2C67c0%2C7%2C2.5%2C13%2C7.5%2C18s11%2C7.5%2C18%2C7.5h12.6v7.5H33.1c-9.2%2C0-17-3.2-23.5-9.6C3.2%2C84.1%2C0%2C76.2%2C0%2C67%0A%09c0-6.7%2C2-12.8%2C5.9-18.4C9.8%2C43%2C14.8%2C39%2C20.9%2C36.4c0.8-6.1%2C3.5-11.2%2C8-15.3c4.5-4%2C9.8-6.1%2C15.9-6.1c3.4%2C0%2C6.4%2C0.7%2C9.2%2C2.1%0A%09C62.1%2C5.7%2C73%2C0%2C86.7%2C0c10.3%2C0%2C19.3%2C3.5%2C26.8%2C10.5c7.5%2C7%2C11.7%2C15.6%2C12.6%2C26C132.2%2C39%2C137.2%2C43%2C141%2C48.6z%20M77.9%2C48.6%0A%09c-0.8-0.8-1.9-1.3-3.1-1.3c-1.3%2C0-2.3%2C0.4-3.1%2C1.3s-1.3%2C1.8-1.3%2C2.9v52.4L57.8%2C91.3c-2-2-4.1-2-6.3%2C0c-0.8%2C0.8-1.3%2C1.9-1.3%2C3.1%0A%09c0%2C1.3%2C0.4%2C2.3%2C1.3%2C3.1l20.1%2C20.1c0.3%2C0.3%2C0.6%2C0.6%2C0.8%2C0.8h0.4l0.4%2C0.4h0.4h0.4h0.4H75c0.3%2C0%2C0.6%2C0%2C0.8%2C0h0.4h0.4l0.4-0.4h0.4%0A%09c0.3-0.3%2C0.4-0.6%2C0.4-0.8l20.5-20.1c2-2%2C1.9-4-0.2-6.1c-2.1-2.1-4.3-2.2-6.5-0.2l-12.6%2C12.6V51.5C79.2%2C50.4%2C78.8%2C49.4%2C77.9%2C48.6z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-30 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20141.6%20142.4%22%20style%3D%22enable-background%3Anew%200%200%20141.6%20142.4%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st4%22%20d%3D%22M141.6%2C26.4c0%2C7.3-2.6%2C13.5-7.8%2C18.6c-5.2%2C5.2-11.4%2C7.8-18.6%2C7.8c-0.8%2C0-2.1-0.1-3.8-0.4c-0.8%2C0-1.4%2C0-1.7%2C0%0A%09c-1.1%2C0-2.1%2C0-2.9%2C0c-0.8%2C0.3-1.7%2C0.7-2.5%2C1.3c-0.3%2C0-0.6%2C0.1-0.8%2C0.4c-0.6%2C0.3-1.1%2C0.7-1.7%2C1.3l-46.5%2C46.5%0A%09c-0.3%2C0.3-0.6%2C0.7-0.8%2C1.3l-0.8%2C0.8c-0.3%2C0.6-0.6%2C1.1-0.8%2C1.7c-0.3%2C1.1-0.4%2C2.2-0.4%2C3.4c0%2C0.8%2C0%2C1.8%2C0%2C2.9c0.3%2C1.4%2C0.4%2C2.8%2C0.4%2C4.2%0A%09c0%2C7.3-2.6%2C13.5-7.8%2C18.6c-5.2%2C5.2-11.4%2C7.8-18.6%2C7.8c-2%2C0-3.8-0.1-5.4-0.4c-2.2-0.6-4.5-1.4-6.7-2.5c-1.1-0.6-2.2-1.3-3.4-2.1%0A%09c-0.6-0.6-0.6-1%2C0-1.3l18.4-9.6c0.6-0.3%2C0.8-0.8%2C0.8-1.7v-10.1c0-0.8-0.3-1.3-0.8-1.3l-9.2-3.8c-0.6-0.3-1.1-0.3-1.7%2C0l-17.2%2C9.6%0A%09c-0.6%2C0.3-1%2C0.1-1.3-0.4v-1.3c0-0.6%2C0-1.1%2C0-1.7c0-7.3%2C2.6-13.5%2C7.8-18.6c5.2-5.2%2C11.4-7.8%2C18.6-7.8c0.8%2C0%2C2.1%2C0.1%2C3.8%2C0.4%0A%09c0.6%2C0%2C1.1%2C0%2C1.7%2C0c1.1%2C0%2C2.1%2C0%2C2.9%2C0c0.8-0.3%2C1.7-0.7%2C2.5-1.3c0.3%2C0%2C0.6-0.1%2C0.8-0.4c0.6-0.3%2C1.1-0.7%2C1.7-1.3l46.5-46.5%0A%09c0.3-0.3%2C0.6-0.7%2C0.8-1.3l0.8-0.8c0.3-0.6%2C0.6-1.1%2C0.8-1.7c0.3-1.1%2C0.4-2.2%2C0.4-3.4c0-0.8%2C0-1.8%2C0-2.9c-0.3-1.4-0.4-2.8-0.4-4.2%0A%09c0-7.3%2C2.6-13.5%2C7.8-18.6c5.2-5.2%2C11.4-7.8%2C18.6-7.8c2%2C0%2C3.8%2C0.1%2C5.4%2C0.4c2.2%2C0.6%2C4.5%2C1.4%2C6.7%2C2.5c1.1%2C0.6%2C2.2%2C1.3%2C3.4%2C2.1%0A%09c0.6%2C0.6%2C0.6%2C1%2C0%2C1.3l-18.4%2C9.6c-0.6%2C0.3-0.8%2C0.8-0.8%2C1.7v10.1c0%2C0.8%2C0.3%2C1.3%2C0.8%2C1.3l9.2%2C3.8c0.6%2C0.3%2C1.1%2C0.3%2C1.7%2C0l17.2-9.6%0A%09c0.6-0.3%2C0.8-0.1%2C0.8%2C0.4l0.4%2C1.7C141.6%2C25.4%2C141.6%2C25.8%2C141.6%2C26.4z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-31 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20127%20116.5%22%20style%3D%22enable-background%3Anew%200%200%20127%20116.5%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st2%22%20d%3D%22M91.3%2C110.2c-3.1%2C4.2-6.3%2C6.3-9.6%2C6.3H51.5h-8.4H13c-3.6%2C0-7-2.1-10.1-6.3c-3.6-5-3.9-11.9-0.8-20.5%0A%09c5-15.4%2C12.6-27.5%2C22.6-36.4c-6.4-6.1-9.6-13.7-9.6-22.6c0-8.4%2C3-15.6%2C9-21.6c6-6%2C13.3-9%2C22-9c0.6%2C0%2C0.9%2C0%2C1%2C0c0.1%2C0%2C0.3%2C0%2C0.6%2C0%0A%09c0.3%2C0%2C0.6%2C0%2C0.8%2C0C57%2C0%2C64.2%2C3%2C70.2%2C9c6%2C6%2C9%2C13.2%2C9%2C21.6c0%2C8.9-3.2%2C16.5-9.6%2C22.6c4.5%2C3.9%2C8.6%2C9%2C12.4%2C15.3c3.8%2C6.3%2C6.3%2C11%2C7.8%2C14%0A%09c1.4%2C3.1%2C2.4%2C5.4%2C2.9%2C7.1C95.4%2C98.3%2C95%2C105.2%2C91.3%2C110.2z%20M83.4%2C93.8c-4.2-12.3-10.2-22.5-18-30.6c-0.8-0.8-1.8-1.8-2.9-2.9%0A%09c-0.3-0.3-0.6-0.6-0.8-0.8c-0.3%2C0-0.8-0.3-1.7-0.8c-0.8-0.8-1.5-1.4-2.1-1.7l-6.7-4.2l6.3-4.6c6.4-3.9%2C9.6-9.8%2C9.6-17.6%0A%09c0-5.6-2-10.3-5.9-14.2c-3.9-3.9-8.5-6.1-13.8-6.7c-5.6%2C0.6-10.3%2C2.8-14.2%2C6.7c-3.9%2C3.9-5.9%2C8.7-5.9%2C14.2c0%2C7.8%2C3.2%2C13.7%2C9.6%2C17.6%0A%09l6.7%2C4.6L36.5%2C57c-0.3%2C0.3-1%2C0.8-2.1%2C1.7c-0.8%2C0.6-1.4%2C0.8-1.7%2C0.8c0%2C0.3-0.3%2C0.6-0.8%2C0.8c-1.1%2C1.1-2.1%2C2.1-2.9%2C2.9%0A%09c-7.8%2C8.4-13.7%2C18.6-17.6%2C30.6c-1.7%2C5-1.8%2C8.7-0.4%2C10.9l2.1%2C2.5h31.8h4.6h32.3l1.7-2.5C85.1%2C102.5%2C85.1%2C98.9%2C83.4%2C93.8z%20M125.7%2C59.3%0A%09c0.8-1%2C1.3-2.1%2C1.3-3.4c0-1.3-0.4-2.3-1.3-3.1s-1.8-1.3-2.9-1.3H95.1c-1.4%2C0-2.5%2C0.4-3.4%2C1.3s-1.3%2C1.9-1.3%2C3.1%0A%09c0%2C1.3%2C0.4%2C2.4%2C1.3%2C3.4c0.8%2C1%2C2%2C1.5%2C3.4%2C1.5h27.7C123.9%2C60.7%2C124.9%2C60.3%2C125.7%2C59.3z%20M113.6%2C69.5V42.3c0-1.4-0.5-2.5-1.5-3.4%0A%09c-1-0.8-2.1-1.3-3.4-1.3c-1.3%2C0-2.3%2C0.4-3.1%2C1.3s-1.3%2C2-1.3%2C3.4v27.2c0%2C1.4%2C0.4%2C2.5%2C1.3%2C3.4s1.9%2C1.3%2C3.1%2C1.3c1.3%2C0%2C2.4-0.4%2C3.4-1.3%0A%09C113.1%2C72.1%2C113.6%2C70.9%2C113.6%2C69.5z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-32 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20128.2%20115.6%22%20style%3D%22enable-background%3Anew%200%200%20128.2%20115.6%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st5%22%20d%3D%22M128.2%2C2.9v83v0.8c0%2C0.6-0.3%2C1.1-0.8%2C1.7c-0.6%2C0.6-1.4%2C0.8-2.5%2C0.8c-1.7%2C0.3-21.9%2C0.3-60.7%2C0%0A%09c-38.5%2C0.3-58.9%2C0.4-61%2C0.2C1%2C89.3%2C0%2C88.1%2C0%2C85.9v-83C0%2C1.3%2C1.1%2C0.3%2C3.4%2C0h60.3h0.8h60.3C127.1%2C0.3%2C128.2%2C1.3%2C128.2%2C2.9z%20M120.7%2C7.5%0A%09H7.5v63.7h113.1V7.5z%20M85.5%2C113.1v-0.4c-2.2-1.7-3.8-3.4-4.6-5l-1.3-3.8c-0.3-3.6-0.6-6.8-0.8-9.6H49.4l-0.8%2C9.6%0A%09c-0.3%2C2.5-0.7%2C3.8-1.3%2C3.8c-0.8%2C1.7-2.4%2C3.4-4.6%2C5l0.4%2C2.5h0.4H44c0.8%2C0%2C2.2%2C0%2C4.2%2C0c0.3%2C0%2C0.6%2C0%2C1%2C0s0.9%2C0%2C1.5%2C0%0A%09c3.9%2C0.3%2C8.7%2C0.4%2C14.2%2C0.4c4.2%2C0%2C7.3-0.1%2C9.2-0.4c1.4%2C0%2C3.1%2C0%2C5%2C0c0.3%2C0%2C1%2C0%2C2.1%2C0c0.3%2C0%2C1.1%2C0%2C2.5%2C0c0.3%2C0%2C0.6%2C0%2C0.8%2C0%0A%09c0.6%2C0%2C1-0.1%2C1.3-0.4C86.4%2C114.5%2C86.3%2C114%2C85.5%2C113.1z%20M64.1%2C107.7v-0.4V107.7z%20M64.1%2C108.1c0.3%2C0.3%2C0.3%2C0.7%2C0%2C1.3%0A%09C64.4%2C109.1%2C64.4%2C108.7%2C64.1%2C108.1z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-33 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20144.1%2096.4%22%20style%3D%22enable-background%3Anew%200%200%20144.1%2096.4%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st7%22%20d%3D%22M144.1%2C1.7v93c0%2C1.1-0.6%2C1.7-1.7%2C1.7H1.7c-1.1%2C0-1.7-0.6-1.7-1.7v-93C0%2C0.6%2C0.6%2C0%2C1.7%2C0h140.8%0A%09C143.6%2C0%2C144.1%2C0.6%2C144.1%2C1.7z%20M47.3%2C46.9L8.8%2C14.2V83L47.3%2C46.9z%20M128.2%2C8.8H15.9l56.1%2C47.8L128.2%2C8.8z%20M16.8%2C87.6h110.6L90.1%2C52.4%0A%09L72.9%2C67c-0.6%2C0.6-1.1%2C0.6-1.7%2C0L54%2C52.4L16.8%2C87.6z%20M135.3%2C83V14.2L96.8%2C46.9L135.3%2C83z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-34 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20107.2%20141.6%22%20style%3D%22enable-background%3Anew%200%200%20107.2%20141.6%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st6%22%20d%3D%22M105.4%2C69.3c1.3%2C1.3%2C1.9%2C2.7%2C1.9%2C4.4v61.6c0%2C1.7-0.6%2C3.1-1.9%2C4.4c-1.3%2C1.3-2.7%2C1.9-4.4%2C1.9H58.7H48.2H6.3%0A%09c-1.7%2C0-3.1-0.6-4.4-1.9C0.6%2C138.5%2C0%2C137%2C0%2C135.3V73.7c0-1.7%2C0.6-3.1%2C1.9-4.4c1.3-1.3%2C2.7-1.9%2C4.4-1.9h6.3v-26%0A%09c0-11.4%2C4-21.2%2C11.9-29.3C32.5%2C4.1%2C42.2%2C0%2C53.6%2C0C65.1%2C0%2C74.8%2C4.1%2C83%2C12.1C91%2C20.3%2C95.1%2C30%2C95.1%2C41.5v26h5.9%0A%09C102.6%2C67.5%2C104.1%2C68.1%2C105.4%2C69.3z%20M81.7%2C40.2c0-8.9-2.9-15.8-8.8-20.7c-5.9-4.9-12.3-7.3-19.3-7.3c-7%2C0-13.4%2C2.5-19.3%2C7.5%0A%09s-8.8%2C11.9-8.8%2C20.5v27.2h56.1V40.2z%20M66.6%2C99.3c0-3.6-1.3-6.7-3.8-9.2s-5.6-3.8-9.2-3.8c-3.6%2C0-6.7%2C1.3-9.2%2C3.8s-3.8%2C5.6-3.8%2C9.2%0A%09c0%2C5.3%2C2.2%2C9.2%2C6.7%2C11.7v15.1c0%2C0.8%2C0.6%2C1.3%2C1.7%2C1.3h9.2c1.1%2C0%2C1.7-0.4%2C1.7-1.3V111C64.4%2C108.5%2C66.6%2C104.6%2C66.6%2C99.3z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-35 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20147.5%20136.6%22%20style%3D%22enable-background%3Anew%200%200%20147.5%20136.6%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st4%22%20d%3D%22M144.7%2C42.7c1.8%2C1.7%2C2.7%2C3.8%2C2.7%2C6.3v56.6c0%2C2.5-0.9%2C4.7-2.7%2C6.5c-1.8%2C1.8-4%2C2.7-6.5%2C2.7h-17.2v8%0A%09c0%2C3.9-1.3%2C7.2-4%2C9.8c-2.7%2C2.7-5.9%2C4-9.8%2C4h-67c-3.9%2C0-7.2-1.3-9.8-4c-2.7-2.7-4-5.9-4-9.8v-8H9.2c-2.5%2C0-4.7-0.9-6.5-2.7%0A%09c-1.8-1.8-2.7-4-2.7-6.5V49c0-2.5%2C0.9-4.6%2C2.7-6.3c1.8-1.7%2C4-2.5%2C6.5-2.5h10.9V13.8c0-3.9%2C1.3-7.2%2C4-9.8c2.7-2.7%2C5.9-4%2C9.8-4h79.6%0A%09c3.9%2C0%2C7.2%2C1.3%2C9.8%2C4c2.7%2C2.7%2C4%2C5.9%2C4%2C9.8v26.4h10.9C140.8%2C40.2%2C142.9%2C41.1%2C144.7%2C42.7z%20M138.3%2C49H9.2v56.6h17.2V81.3h94.7v24.3%0A%09h17.2V49z%20M29.3%2C39.8h88.8v-26c0-1.4-0.4-2.5-1.3-3.4s-2-1.3-3.4-1.3H33.9c-1.4%2C0-2.5%2C0.4-3.4%2C1.3s-1.3%2C2-1.3%2C3.4V39.8z%20M111.9%2C90.5%0A%09H35.6v32.3c0%2C1.4%2C0.4%2C2.5%2C1.3%2C3.4s2%2C1.3%2C3.4%2C1.3h67c1.4%2C0%2C2.5-0.4%2C3.4-1.3s1.3-2%2C1.3-3.4V90.5z%20M118.8%2C62c1.5%2C0%2C2.8%2C0.5%2C3.8%2C1.5%0A%09c1%2C1%2C1.5%2C2.2%2C1.5%2C3.8c0%2C1.5-0.5%2C2.9-1.5%2C4c-1%2C1.1-2.2%2C1.7-3.8%2C1.7c-1.5%2C0-2.9-0.6-4-1.7c-1.1-1.1-1.7-2.4-1.7-4%0A%09c0-1.5%2C0.6-2.8%2C1.7-3.8C115.9%2C62.5%2C117.2%2C62%2C118.8%2C62z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-36 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20136.6%20108.9%22%20style%3D%22enable-background%3Anew%200%200%20136.6%20108.9%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st3%22%20d%3D%22M39.8%2C76.2L8%2C44v15.5c0%2C2.5-1.3%2C3.8-4%2C3.8c-2.7%2C0-4-1.3-4-3.8V34.8c0-0.3%2C0-0.6%2C0-0.8v-0.4l0.4-0.4%0A%09c0-0.3%2C0.1-0.6%2C0.4-0.8v-0.4h0.4l0.4-0.4L2.5%2C31h0.4c0.3-0.3%2C0.6-0.4%2C0.8-0.4h25.1c1.1%2C0%2C2%2C0.4%2C2.7%2C1.3c0.7%2C0.8%2C1%2C1.8%2C1%2C2.9%0A%09c0%2C2.5-1.3%2C3.8-3.8%2C3.8H13.4l31.8%2C32.3c2%2C1.7%2C2%2C3.4%2C0.2%2C5.2C43.6%2C77.9%2C41.8%2C77.9%2C39.8%2C76.2z%20M72.5%2C59.1V13.4l10.9%2C10.9%0A%09c2%2C2%2C3.8%2C2%2C5.7%2C0.2c1.8-1.8%2C1.7-3.7-0.2-5.7L71.2%2C1.3l-0.4-0.4h-0.4L70%2C0.4h-0.4h-0.4L68.7%2C0h-0.4l-0.4%2C0.4H67%0A%09c-0.3%2C0.3-0.6%2C0.4-0.8%2C0.4c0%2C0.3-0.1%2C0.4-0.4%2C0.4L48.2%2C18.9c-0.8%2C0.8-1.3%2C1.8-1.3%2C2.9c0%2C1.1%2C0.4%2C2%2C1.3%2C2.5c2%2C2%2C3.8%2C2%2C5.4%2C0%0A%09l10.9-10.9v45.7c0%2C2.5%2C1.3%2C3.8%2C4%2C3.8C71.1%2C62.8%2C72.5%2C61.6%2C72.5%2C59.1z%20M81.7%2C77.3c3.6%2C3.5%2C5.4%2C7.8%2C5.4%2C13c0%2C5.2-1.8%2C9.6-5.4%2C13.2%0A%09c-3.6%2C3.6-8%2C5.4-13.2%2C5.4c-5.2%2C0-9.5-1.8-13-5.4c-3.5-3.6-5.2-8-5.2-13.2c0-5.2%2C1.7-9.5%2C5.2-13c3.5-3.5%2C7.8-5.2%2C13-5.2%0A%09C73.7%2C72.1%2C78.1%2C73.8%2C81.7%2C77.3z%20M96.8%2C76.2L128.6%2C44v15.5c0%2C2.5%2C1.3%2C3.8%2C4%2C3.8c2.7%2C0%2C4-1.3%2C4-3.8V34.8c0-0.3%2C0-0.6%2C0-0.8v-0.4%0A%09l-0.4-0.4c0-0.3-0.1-0.6-0.4-0.8v-0.4h-0.4l-0.4-0.4l-0.8-0.4h-0.4c-0.3-0.3-0.6-0.4-0.8-0.4h-25.1c-1.1%2C0-2%2C0.4-2.7%2C1.3%0A%09c-0.7%2C0.8-1%2C1.8-1%2C2.9c0%2C2.5%2C1.3%2C3.8%2C3.8%2C3.8h15.5L91.3%2C70.8c-2%2C1.7-2%2C3.4-0.2%2C5.2C92.9%2C77.9%2C94.8%2C77.9%2C96.8%2C76.2z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-37 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20147.5%20147.5%22%20style%3D%22enable-background%3Anew%200%200%20147.5%20147.5%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st2%22%20d%3D%22M147.5%2C73.7c0%2C20.4-7.2%2C37.8-21.6%2C52.2c-14.4%2C14.4-31.8%2C21.6-52.2%2C21.6c-20.4%2C0-37.8-7.2-52.2-21.6%0A%09C7.2%2C111.5%2C0%2C94.1%2C0%2C73.7C0%2C53.3%2C7.2%2C36%2C21.6%2C21.6C36%2C7.2%2C53.3%2C0%2C73.7%2C0c20.4%2C0%2C37.8%2C7.2%2C52.2%2C21.6C140.3%2C36%2C147.5%2C53.3%2C147.5%2C73.7z%0A%09%20M138.3%2C73.7c0-17.9-6.3-33.1-18.9-45.7S91.6%2C9.2%2C73.7%2C9.2c-17.9%2C0-33.1%2C6.3-45.7%2C18.9S9.2%2C55.9%2C9.2%2C73.7c0%2C17.9%2C6.3%2C33.1%2C18.9%2C45.7%0A%09s27.8%2C18.9%2C45.7%2C18.9c17.9%2C0%2C33.1-6.3%2C45.7-18.9S138.3%2C91.6%2C138.3%2C73.7z%20M92.6%2C73.7c0%2C5.3-1.8%2C9.8-5.4%2C13.4%0A%09c-3.6%2C3.6-8.1%2C5.4-13.4%2C5.4c-5.3%2C0-9.8-1.8-13.4-5.4c-3.6-3.6-5.4-8.1-5.4-13.4c0-5.3%2C1.8-9.8%2C5.4-13.4c3.6-3.6%2C8.1-5.4%2C13.4-5.4%0A%09c5.3%2C0%2C9.8%2C1.8%2C13.4%2C5.4C90.8%2C64%2C92.6%2C68.4%2C92.6%2C73.7z%20M83.8%2C73.7c0-2.8-1-5.2-2.9-7.1c-2-2-4.3-2.9-7.1-2.9c-2.8%2C0-5.2%2C1-7.1%2C2.9%0A%09c-2%2C2-2.9%2C4.3-2.9%2C7.1c0%2C2.8%2C1%2C5.2%2C2.9%2C7.1c2%2C2%2C4.3%2C2.9%2C7.1%2C2.9c2.8%2C0%2C5.2-1%2C7.1-2.9C82.8%2C78.9%2C83.8%2C76.5%2C83.8%2C73.7z%20M84.6%2C51.5%0A%09c-0.3%2C0-0.4-0.3-0.4-0.8l14.7-29.3c0.3-0.3%2C0.5-0.4%2C0.6-0.4c0.1%2C0%2C0.3%2C0%2C0.6%2C0c3.4%2C1.7%2C6.4%2C3.5%2C9.2%2C5.4c0.3%2C0.6%2C0.3%2C1%2C0%2C1.3L89.7%2C54%0A%09c-0.3%2C0-0.6%2C0-0.8%2C0h-0.4C87.3%2C53.2%2C86%2C52.4%2C84.6%2C51.5z%20M132.8%2C73.7c0%2C0.6-0.3%2C0.8-0.8%2C0.8H99.3c-0.6%2C0-0.8-0.3-0.8-0.8%0A%09c0-6.7-2.4-12.6-7.1-17.6c-0.6-0.3-0.6-0.6%2C0-0.8l23-23.5c0.3-0.3%2C0.7-0.3%2C1.3%2C0C127.1%2C43.6%2C132.8%2C57.5%2C132.8%2C73.7z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-38 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%20147.2%20130.7%22%20style%3D%22enable-background%3Anew%200%200%20147.2%20130.7%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st7%22%20d%3D%22M86.1%2C7.1l58.7%2C101.8c3.1%2C4.8%2C3.1%2C9.6%2C0.2%2C14.5c-2.9%2C4.9-7.2%2C7.3-12.8%2C7.3H14.9c-5.6%2C0-9.8-2.4-12.8-7.3%0A%09c-2.9-4.9-2.9-9.7%2C0.2-14.5L61%2C7.1C63.8%2C2.4%2C68%2C0%2C73.6%2C0C79.2%2C0%2C83.4%2C2.4%2C86.1%2C7.1z%20M69%2C11.7L10.3%2C113.5c-1.1%2C1.7-1.2%2C3.4-0.2%2C5.2%0A%09c1%2C1.8%2C2.6%2C2.7%2C4.8%2C2.7h117.3c2.2%2C0%2C3.8-0.9%2C4.8-2.7c1-1.8%2C0.9-3.6-0.2-5.2L78.2%2C11.7c-0.8-1.7-2.4-2.5-4.6-2.5%0A%09C71.3%2C9.2%2C69.8%2C10.1%2C69%2C11.7z%20M68.6%2C43.2c1.4-1.4%2C3.1-2.1%2C5-2.1c2%2C0%2C3.6%2C0.7%2C5%2C2.1c1.4%2C1.4%2C2.1%2C3.1%2C2.1%2C5v30.6%0A%09c0%2C2.2-0.7%2C4.1-2.1%2C5.4c-1.4%2C1.4-3.1%2C2.1-5%2C2.1c-2%2C0-3.6-0.7-5-2.1c-1.4-1.4-2.1-3.2-2.1-5.4V48.2C66.5%2C46.2%2C67.2%2C44.6%2C68.6%2C43.2z%0A%09%20M73.6%2C91.7c-2%2C0-3.6%2C0.8-5%2C2.3c-1.4%2C1.5-2.1%2C3.3-2.1%2C5.2c0%2C2%2C0.7%2C3.6%2C2.1%2C5c1.4%2C1.4%2C3.1%2C2.1%2C5%2C2.1c2%2C0%2C3.6-0.7%2C5-2.1%0A%09c1.4-1.4%2C2.1-3.1%2C2.1-5c0-2-0.7-3.7-2.1-5.2C77.2%2C92.5%2C75.5%2C91.7%2C73.6%2C91.7z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.vp-rq-icon-39 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0A%3C!--%20Generator%3A%20Adobe%20Illustrator%2019.0.1%2C%20SVG%20Export%20Plug-In%20.%20SVG%20Version%3A%206.00%20Build%200)%20%20--%3E%0A%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20viewBox%3D%220%200%2087.8%20147.5%22%20style%3D%22enable-background%3Anew%200%200%2087.8%20147.5%3B%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23138A44%3B%7D%0A%09.st1%7Bfill%3A%23D55140%3B%7D%0A%09.st2%7Bfill%3A%23EA632A%3B%7D%0A%09.st3%7Bfill%3A%23F15D74%3B%7D%0A%09.st4%7Bfill%3A%2378C3A2%3B%7D%0A%09.st5%7Bfill%3A%23644A83%3B%7D%0A%09.st6%7Bfill%3A%23D24537%3B%7D%0A%09.st7%7Bfill%3A%23D49D3F%3B%7D%0A%09.st8%7Bfill%3A%23175182%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st5%22%20d%3D%22M68.7%2C29.7c-7.3%2C9.8-12.6%2C17.3-15.9%2C22.6h29.3c1.4%2C0%2C2.2%2C0.4%2C2.5%2C1.3c0.8%2C1.7-1.3%2C5.4-6.3%2C11.3l-0.8%2C0.8%0A%09C73%2C71.1%2C66%2C79%2C56.6%2C89.7c-22.9%2C25.7-39.5%2C44.7-49.9%2C57c-0.3%2C0.6-0.6%2C0.8-0.8%2C0.8c-0.3%2C0-0.6-0.1-0.8-0.4c-0.6-0.3-0.7-0.8-0.4-1.7%0A%09c6.4-13.7%2C14.8-34.2%2C25.1-61.6H1.3c-0.3%2C0-0.6-0.2-0.8-0.6c-0.3-0.4-0.4-0.8-0.4-1c2.8-7.3%2C7-18%2C12.6-32.3%0A%09c8.4-21.2%2C14.4-37.4%2C18-48.6C30.6%2C0.4%2C31%2C0%2C31.8%2C0h54.9c0.6%2C0%2C0.9%2C0.3%2C1%2C0.8c0.1%2C0.6%2C0.1%2C1-0.2%2C1.3C83.9%2C8.8%2C77.6%2C18%2C68.7%2C29.7z%22%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n',""])}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_customerportal~jira.view.issue~sd.project.sidebar.content~sd.project.view', location = 'customerportal~jira.view.issue~sd.project.sidebar.content~sd.project.view.f6d2068a52e29024c320.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[78],{28:function(e,n){e.exports=require("aui/inline-dialog")},36:function(e,n,t){"use strict";var r=t(6),i=t.n(r),u=t(5),s=t.n(u),c=t(44),o=t(32),a=Object(o.a)("com.atlassian.servicedesk.core-ui:util-base-url.base-url"),l=t(13),d=t.n(l);function f(e){return e.indexOf("/")===e.length-1?e.slice(0,e.length-1):e}t.d(n,"c",function(){return p}),t.d(n,"b",function(){return g}),t.d(n,"d",function(){return v}),t.d(n,"e",function(){return h}),t.d(n,"a",function(){return k}),t.d(n,"f",function(){return j});var p=function(e){return f(s()())+"/servicedesk/admin/"+e+"/confluence-kb"},g=function(e,n){return f(e)+"/pages/editpage.action?pageId="+n},v=function(e,n){return f(e)+"/display/"+n},h=function(e,n){var t=new d.a(v(e,n));return t.setQuery("createDialog","true"),t.toString()};function b(e,n){n||i.a.error("no "+e+" passed in to generateUrl")}var k=function(e,n,t,r){b("pageId",e),b("title",n),b("spaceKey",t),b("applinkId",r);var i=Object(c.d)(n),u=new d.a(a+"/servicedesk/customer/kb/view/"+e);return u.setQuery("applicationId",r),u.setQuery("spaceKey",t),u.setQuery("title",i),u.toString()},j=function(e){if(!e)return"";var n=e.inPageUrl||"";return"["+(e.title?e.title.replace(/(\[|])/g,"\\$1"):"")+"|"+n+"]"}},44:function(e,n,t){"use strict";t.d(n,"d",function(){return s}),t.d(n,"a",function(){return o}),t.d(n,"c",function(){return a}),t.d(n,"e",function(){return l}),t.d(n,"b",function(){return d});var r=t(1),i=(t(0),t(13)),u=t.n(i),s=function(e){return e.split("@@@hl@@@").join("").split("@@@endhl@@@").join("").split("&nbsp;").join("")},c=function(e){return e.split("@@@hl@@@").join("<strong>").split("@@@endhl@@@").join("</strong>").split("&nbsp;").join("")},o=c,a=function(e){var n=e.contextPath;return e.multiplePortals?n+="/rest/servicedesk/1/servicedesk/sharedportal/kb/articles":n+="/rest/servicedesk/knowledgebase/latest/articles/search",n},l=function(e){return c(ServiceDesk.Templates.KbSearcher.connieSearchResults(e))},d=function(e,n){return e&&e.results?r.default.map(e.results,function(e){var t=r.default.pick(e,"id","title","bodyTextHighlights");return t.url=function(e,n){var t=new u.a(n);return t.host()||(t=new u.a(e+n)),t.build().href()}(n,e.url),t}):[]}}}]);;
;
/* module-key = 'com.atlassian.plugins.atlassian-chaperone:internals', location = '/internals/syncing.js' */
var Chaperone = {
    _internal : {}
};

Chaperone._internal.syncing = (function() {

    /**
     * Goes to the server and sets the steps that have already been dismissed as "dismissed"
     * @returns {jQuery.Deferred}
     */
    function syncFromServer(key, $) {
        return ($||AJS.$).ajax({
            url: AJS.contextPath() + "/rest/chaperone/1/chaperone/" + key
        });
    }

    /**
     * Sends to the server a json array containing the selectors of the steps that have been dismissed.
     * @returns {jQuery.Deferred}
     */
    function syncToServer(key, value, $) {
        return ($||AJS.$).ajax({
            url: AJS.contextPath() + "/rest/chaperone/1/chaperone/" + key,
            type: "PUT",
            data: {
                json: value
            }
        });
    }

    return {
        syncToServer : syncToServer,
        syncFromServer : syncFromServer
    };

})();;
;
/* module-key = 'com.atlassian.plugins.atlassian-chaperone:chaperone', location = '/chaperone/chaperone.soy' */
// This file was automatically generated from chaperone.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace chaperone.Templates.
 */

if (typeof chaperone == 'undefined') { var chaperone = {}; }
if (typeof chaperone.Templates == 'undefined') { chaperone.Templates = {}; }


chaperone.Templates.pin = function(opt_data, opt_ignored) {
  return '' + chaperone.Templates.index(opt_data) + chaperone.Templates.content(opt_data);
};
if (goog.DEBUG) {
  chaperone.Templates.pin.soyTemplateName = 'chaperone.Templates.pin';
}


chaperone.Templates.index = function(opt_data, opt_ignored) {
  return '<span class="chaperone-index ' + ((opt_data.showNumber) ? 'chaperone-index-visible' : '') + '">' + ((opt_data.showNumber) ? '<span>' + soy.$$escapeHtml(opt_data.num) + '</span>' : '') + '</span>';
};
if (goog.DEBUG) {
  chaperone.Templates.index.soyTemplateName = 'chaperone.Templates.index';
}


chaperone.Templates.content = function(opt_data, opt_ignored) {
  return '<span class="chaperone-content">' + ((opt_data.img) ? '<img class="chaperone-content-image" src="' + soy.$$escapeHtml(opt_data.img) + '" />' : '') + ((opt_data.text) ? '<p>' + soy.$$escapeHtml(opt_data.text) + '</p>' : '') + ((opt_data.html) ? soy.$$filterNoAutoescape(opt_data.html) : '') + '</span>';
};
if (goog.DEBUG) {
  chaperone.Templates.content.soyTemplateName = 'chaperone.Templates.content';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-chaperone:chaperone', location = '/chaperone/chaperone.js' */
(function (syncing) {


    /**
     * Registers a new chaperone tour
     *
     * @param {Object} opts - The tour definition and options
     * ... {String} id - unique key that will be used on the server to persist which steps have been dismissed
     * ... {Array[Object]} steps - array of steps in the tour
     * @param {Object} deps - the library dependencies
     * ... {Object} brace - backbone brace library reference
     * ... {Object} jQuery - jQuery brace library reference
     * ... {Object} _ - underscore library reference
     */
    Chaperone.register = function (opts, deps) {


        opts = opts || {};
        var _jQuery = deps.jQuery || window.jQuery;


        if (_jQuery.browser.msie && parseInt(_jQuery.browser.version, 10) < 9) {
            console.log("chaperone doesn't work in Internet Explorer 8 and below");
            return;
        }


        var defaultLibs = {
            underscore: window._,
            brace: window.Brace
        };

        var defaultOpts = {
            numbered: true
        };

        deps = _jQuery.extend({}, defaultLibs, deps);
        opts = _jQuery.extend({}, defaultOpts, opts);

        var __ = deps.underscore;
        var _Brace = deps.brace;


        /**
         * Model representing a single step in tour
         *
         * @param {String} num - Number displayed in callout
         * @param {String, Function} selector - css selector of element the callout will be positioned against
         * @param {String, Function} dismissingSelectors - css selectors of elements that when clicked will dismiss the step.
         * @param {String} dir - The direction of the callout faces - e,w,s,n
         * @param {String} text - text for the callout, will be html escaped
         * @param {String} html - html for the callout, will NOT be html escaped
         * @param {String} dismissed - has the step been followed by the user
         * @param {Function} onDismiss - function called when the step been followed by the user
         * @param {Function} onShow - function called when the callout hs been displayed
         * @param {String} styleClass - class that will be added to pin so additional styling can be applied
         */
        var StepModel = _Brace.Model.extend({
            defaults: {
                width: 250
            },
            namedAttributes: {
                num: Number,
                selector: undefined,
                dismissingSelectors: undefined,
                dir: String,
                text: String,
                html: String,
                styleClass: String,
                dismissed: Boolean,
                showNumber: Boolean,
                onDismiss: Function,
                onShow: Function,
                width: Number,
                minHeight: Number
            },
            /**
             * Resolves the css selector string for target. The target being the element the callout will be positioned against.
             * @returns {String} selector
             */
            resolveSelector: function () {
                var selector = this.getSelector();
                if (__.isFunction(selector)) {
                    selector = selector();
                }
                return selector;
            },
            /**
             * Resolves the css selector string for dismissing elements. The elements that when clicked will dismiss the step.
             * @returns {String} selector
             */
            resolveDismissingSelectors: function () {
                var selector = this.getDismissingSelectors();
                if (__.isFunction(selector)) {
                    selector = selector();
                }
                return selector;
            }
        });

        /**
         * Representing a single step in tour
         *
         * @see StepModel for inherited attributes
         * @param {ChildStepCollection} steps -
         */
        var ChildStepModel = StepModel.extend({
            namedAttributes: {
                required: Boolean
            },
            defaults: {
                required: true,
                width: 250
            }
        });

        /**
         * A collection of child steps, represents a tour that stems off each primary step.
         * A primary step is only completed after all its required child steps have been dismissed.
         */
        var ChildStepCollection = _Brace.Collection.extend({
            model: ChildStepModel
        });


        /**
         * Representing a single step in tour. A primary step can have child steps, which all need to be dismissed
         * before it is marked as completed.
         *
         * @see StepModel for inherited attributes
         * @param {ChildStepCollection} steps
         */
        var PrimaryStepModel = StepModel.extend({
            initialize: function () {
                // if we have child steps bubble the dismissed event up
                var subSteps = this.getSteps();
                if (subSteps) {
                    this.listenTo(subSteps, "change:dismissed", function () {
                        this.trigger("childStepDismissed");
                    });
                }
            },
            namedAttributes: {
                steps: ChildStepCollection
            }
        });

        /**
         *  A collection of steps that make up the tour.
         */
        var PrimaryStepCollection = _Brace.Collection.extend({
            model: PrimaryStepModel,

            /**
             * Gets all the ids of primary steps that have been completed. A step is completed if:
             * - All the required child steps have been dismissed.
             * - If no child steps, if primary step has been dismissed.
             * @returns Array[String]
             */
            getCompleted: function () {
                var dismissed = this.filter(function (model) {
                    if (model.getSteps()) {
                        var requiredSteps = model.getSteps().filter(function (step) {
                            return step.getRequired();
                        });
                        if (requiredSteps.length) {
                            return requiredSteps.pop().getDismissed();
                        } else {
                            return model.getDismissed();
                        }
                    } else {
                        return model.getDismissed();
                    }
                });
                return __.pluck(dismissed, "id")
            }
        });

        /**
         * A mixin for views that position the element relative to target & the direction it should face.
         */
        var PosMixin = {

            /**
             * Positions the element relative to target & the direction it should face.
             * @param {String} dir - direction pin or callout should face
             * @param {jQuery} $target - relative element
             */
            pos: function (dir, $target) {
                dir = dir || "s";
                this["pos" + dir.toUpperCase()]($target);
            },

            /**
             * Positions element facing east relative to target
             * @param {jQuery} $target
             */
            posE: function ($target) {
                var offset = $target.offset();
                offset.top = offset.top + ($target.outerHeight() / 2);
                offset.left = offset.left - this.$el.outerWidth()  - 10;
                offset.marginTop = - this.$el.outerHeight() / 2
                this.$el.css(offset).addClass("chaperone-dir-e");
            },
            /**
             * Positions element facing south relative to target
             * @param {jQuery} $target
             */
            posS: function ($target) {
                var offset = $target.offset();
                offset.top = offset.top + $target.outerHeight() + 10;
                this.$el.css(offset).addClass("chaperone-dir-s");
            },
            /**
             * Positions element facing north relative to target
             * @param {jQuery} $target
             */
            posN: function ($target) {
                var offset = $target.offset();
                offset.top = offset.top - this.$el.outerHeight() - 10;
                this.$el.css(offset).addClass("chaperone-dir-n");
            },
            /**
             * Positions element facing west relative to target
             * @param {jQuery} $target
             */
            posW: function ($target) {
                var offset = $target.offset();
                offset.top = offset.top + ($target.outerHeight() / 2);
                offset.left = offset.left  + $target.outerWidth() + 10;
                offset.marginTop = - this.$el.outerHeight() / 2
                this.$el.css(offset).addClass("chaperone-dir-w");

            }
        };

        /**
         * View that represents a single step in the tour
         */
        var StepView = _Brace.View.extend({
            mixins: [PosMixin],
            className: "chaperone",

            /**
             * Listens for click on target element to mark the step as dismissed.
             * @param {jQuery} $target the element for the callout to be rendered relative to.
             */
            enhanceTarget: function ($target) {
                if (!$target.hasClass("chaperone")) {
                    $target
                    .addClass("chaperone-target")
                    .attr("data-chaperone-id", this.model.id);
                    if (!this.model.resolveDismissingSelectors()) {
                        // If no dismissing selectors, make the main selector dismiss
                        $target.one("click", __.bind(function (e) {
                            this.dismiss();
                            // Let event bubble before we remove class
                            __.defer(function () {
                                $target.removeClass("chaperone-target");
                            });
                        }, this));
                    }
                }
            },
            applyDismissers: function () {
                var dismissingSelectors = this.model.resolveDismissingSelectors();
                if (dismissingSelectors) {
                    _jQuery(dismissingSelectors).one("click", __.bind(this.dismiss, this));
                }
            },
            dismiss: function () {
                if (!this.model.getDismissed()) {
                    this.model.setDismissed(true);
                    this.$el.remove();
                    var dismissCallback = this.model.getOnDismiss();
                    if (dismissCallback) {
                        dismissCallback();
                    }
                }
            },

            updatePos: function () {
                var selector = this.model.resolveSelector();
                var $target = _jQuery(selector);
                if ($target) {
                    this.pos(this.model.getDir(), $target);
                    // the dom node may have been replaced, e.g ajax refresh of content, so enhance and apply dismissers again
                    this.enhanceTarget($target);
                    this.applyDismissers();
                }
            },
            getTarget: function () {
                var selector = this.model.resolveSelector();
                var $target = _jQuery(selector);
                return $target.size() ? $target : null;
            },
            /**
             * Renders and positions callout relative to target.
             * @param {jQuery} $target the element for teh callout to be rendered relative to.
             */
            renderStep: function() {
                var additionalClasses = this.model.getStyleClass();
                if (additionalClasses) {
                    this.$el.addClass(additionalClasses);
                }
                if (this.model.getShowNumber()) {
                    this.$el.addClass("chaperone-numbered")
                }
                if (this.model.getMinHeight()) {
                    this.$el.css("min-height", this.model.getMinHeight());
                }
                this.$el.css({
                    width: this.model.getWidth()
                })
                .html(_jQuery(chaperone.Templates.pin(this.model.toJSON())))
                .appendTo("body");
            },
            /**
             * Renders step if the target is found in dom
             */
            render: function () {
                var $target = this.getTarget();
                if ($target) {
                    this.renderStep();
                    this.updatePos();
                    this.applyDismissers();
                    var onShow = this.model.getOnShow();
                    if (onShow) {
                        onShow();
                    }
                }
            }
        });


        /**
         * The Chaperone module is responsible for
         * - Creating all the views for the tour steps
         * - Syncing which steps have been completed to the server
         * - Rendering the correct 'next' step
         */
        var ChaperoneModule = _Brace.View.extend({
            initialize: function (options) {
                __.bindAll(this, "renderNextStep");
                this.options = options;
                // go to server and mark completed steps before we create collection
                this.syncAndUpdateStepDefinitions(options).done(__.bind(function (items) {
                    // Create backbone collection representing to hold all the step definitions
                    this.createStepCollection(items, options);
                    // Create views for all the step definitions
                    this.createStepViews();
                    // Apply listeners for when we need to recalculate which step to show.
                    this.applyUpdateTriggers();
                    // Apply listeners for when we need to recalculate the position of the current step.
                    this.applyRepositionTriggers();
                    // Finally render next valid step (if there is one).
                    this.renderNextStep();
                }, this));
            },

            applyRepositionTriggers: function () {
                _jQuery(window).resize(__.bind(this.repositionStep, this));
            },

            applyUpdateTriggers: function () {
                // Provide a way for developers to trigger a refresh of pins.
                _jQuery(document).bind("update.chaperone", this.renderNextStep);
                // Whenever an ajax request completes, more content could have been added to the dom, so we need
                // to revaluate which step to show.
                _jQuery(document).ajaxStop(__.bind(function () {
                    __.defer(this.renderNextStep);
                }, this));
                // Whenever we change the url update steps
                _jQuery(window).bind("popstate hashchange", __.bind(function () {
                    __.defer(this.renderNextStep);
                }, this));
            },

            /**
             * Creates the collection of primaruy steps
             * @param Array[Object] stepDefinitions
             */
            createStepCollection: function (stepDefinitions) {
                this.stepCollection = new PrimaryStepCollection(stepDefinitions);
                this.listenTo(this.stepCollection, "change:dismissed childStepDismissed", this.renderNextStep);
                if (this.options.sync !== false) {
                    this.applySyncing()
                }
            },
            /**
             * Adds the server side persistence to the step collection
             */
            applySyncing: function () {
                this.listenTo(this.stepCollection, "change:dismissed childStepDismissed", function () {
                    syncing.syncToServer(this.options.id, JSON.stringify(this.stepCollection.getCompleted()))
                });
            },

            /**
             * Repositions the current step relative to its target.
             */
            repositionStep: function () {
                if (this.currentStep) {
                    this.currentStep.updatePos();
                }
            },

            /**
             * Renders steps to screen.
             */
            createStepViews: function () {
                this.stepViews = [];
                this.stepCollection.each(__.bind(function (model) {
                    var stepView = new StepView({model: model});
                    this.stepViews.push(stepView);
                    var subSteps = model.getSteps();
                    if (subSteps) {
                        subSteps.each(function (model) {
                            var stepView = new StepView({model: model});
                            this.stepViews.push(stepView);
                        }, this)
                    }
                }, this));
            },
            /**
             * Renders steps to screen
             */
            renderNextStep: function () {
                var potentialStep = __.find(this.stepViews, function (view) {
                    return !view.model.getDismissed();
                });
                if (potentialStep) {
                    var $el = _jQuery(potentialStep.model.resolveSelector());
                    if ($el.size() && $el.is(":visible")) {
                        if (this.currentStep != potentialStep) { // avoid double rendering
                            this.currentStep = potentialStep;
                            this.currentStep.render();
                        } else {
                            this.currentStep.updatePos();
                        }
                    } else {
                        potentialStep.$el.remove();
                        this.currentStep = null;
                    }
                }
                var stepsToRemove = __.without(this.stepViews, potentialStep);
                __.each(stepsToRemove, function (step) {
                    step.$el.remove();
                })
            },

            dismissTour: function () {
                __.each(this.stepViews, function (step) {
                    step.model.setOnDismiss(function(){});
                    step.dismiss();
                });
            },

            /**
             * 1. Adds num property based on index, this is the number of the step shown in callout
             * 2. Marks which steps have already been completed
             * 3. Maps selector property for id if id has not been defined
             */
            _updateStepDefinitions: function (options, completedSteps) {
                var steps = [];
                __.each(options.steps, function (primaryStep, idx) {
                    primaryStep.num = idx + 1;
                    primaryStep.showNumber = options.numbered;
                    primaryStep.id = primaryStep.id || primaryStep.selector;
                    primaryStep.dismissed = __.contains(completedSteps, primaryStep.id);
                    if (primaryStep.steps) {
                        primaryStep.steps = __.map(primaryStep.steps, function (step) {
                            step.id = step.id || step.selector;
                            step.dismissed = primaryStep.dismissed;
                            return step;
                        })
                    }
                    steps.push(primaryStep);
                });
                return steps;
            },

            /**
             * If syncing is enabled goes to server to get already completed steps to mark the step definitions as
             * completed.
             */
            syncAndUpdateStepDefinitions: function (options) {
                var deferred = _jQuery.Deferred();
                if (options.sync != false) {
                    syncing.syncFromServer(options.id, _jQuery).done(__.bind(function (completedSteps) {
                        deferred.resolve(this._updateStepDefinitions(options, completedSteps));
                        this.trigger("syncComplete", completedSteps);
                    }, this));
                } else {
                    deferred.resolve(this._updateStepDefinitions(options));
                }
                return deferred;
            }
        });

        return new ChaperoneModule(opts);
    };

})(Chaperone._internal.syncing);

;
;
/* module-key = 'com.atlassian.plugins.atlassian-chaperone:arrive', location = '/vendor/arrive.min.js' */
/*
 * arrive.js
 * v2.3.1
 * https://github.com/uzairfarooq/arrive
 * MIT licensed
 *
 * Copyright (c) 2014-2016 Uzair Farooq
 */

var Arrive=function(a,b,c){"use strict";function l(a,b,c){e.addMethod(b,c,a.unbindEvent),e.addMethod(b,c,a.unbindEventWithSelectorOrCallback),e.addMethod(b,c,a.unbindEventWithSelectorAndCallback)}function m(a){a.arrive=j.bindEvent,l(j,a,"unbindArrive"),a.leave=k.bindEvent,l(k,a,"unbindLeave")}if(a.MutationObserver&&"undefined"!=typeof HTMLElement){var d=0,e=function(){var b=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(a,c){return a instanceof HTMLElement&&b.call(a,c)},addMethod:function(a,b,c){var d=a[b];a[b]=function(){return c.length==arguments.length?c.apply(this,arguments):"function"==typeof d?d.apply(this,arguments):void 0}},callCallbacks:function(a){for(var c,b=0;c=a[b];b++)c.callback.call(c.elem)},checkChildNodesRecursively:function(a,b,c,d){for(var g,f=0;g=a[f];f++)c(g,b,d)&&d.push({callback:b.callback,elem:g}),g.childNodes.length>0&&e.checkChildNodesRecursively(g.childNodes,b,c,d)},mergeArrays:function(a,b){var d,c={};for(d in a)c[d]=a[d];for(d in b)c[d]=b[d];return c},toElementsArray:function(b){return"undefined"==typeof b||"number"==typeof b.length&&b!==a||(b=[b]),b}}}(),f=function(){var a=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return a.prototype.addEvent=function(a,b,c,d){var e={target:a,selector:b,options:c,callback:d,firedElems:[]};return this._beforeAdding&&this._beforeAdding(e),this._eventsBucket.push(e),e},a.prototype.removeEvent=function(a){for(var c,b=this._eventsBucket.length-1;c=this._eventsBucket[b];b--)a(c)&&(this._beforeRemoving&&this._beforeRemoving(c),this._eventsBucket.splice(b,1))},a.prototype.beforeAdding=function(a){this._beforeAdding=a},a.prototype.beforeRemoving=function(a){this._beforeRemoving=a},a}(),g=function(b,d){var g=new f,h=this,i={fireOnAttributesModification:!1};return g.beforeAdding(function(c){var i,e=c.target;c.selector,c.callback;(e===a.document||e===a)&&(e=document.getElementsByTagName("html")[0]),i=new MutationObserver(function(a){d.call(this,a,c)});var j=b(c.options);i.observe(e,j),c.observer=i,c.me=h}),g.beforeRemoving(function(a){a.observer.disconnect()}),this.bindEvent=function(a,b,c){b=e.mergeArrays(i,b);for(var d=e.toElementsArray(this),f=0;f<d.length;f++)g.addEvent(d[f],a,b,c)},this.unbindEvent=function(){var a=e.toElementsArray(this);g.removeEvent(function(b){for(var d=0;d<a.length;d++)if(this===c||b.target===a[d])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(a){var f,b=e.toElementsArray(this),d=a;f="function"==typeof a?function(a){for(var e=0;e<b.length;e++)if((this===c||a.target===b[e])&&a.callback===d)return!0;return!1}:function(d){for(var e=0;e<b.length;e++)if((this===c||d.target===b[e])&&d.selector===a)return!0;return!1},g.removeEvent(f)},this.unbindEventWithSelectorAndCallback=function(a,b){var d=e.toElementsArray(this);g.removeEvent(function(e){for(var f=0;f<d.length;f++)if((this===c||e.target===d[f])&&e.selector===a&&e.callback===b)return!0;return!1})},this},h=function(){function h(a){var b={attributes:!1,childList:!0,subtree:!0};return a.fireOnAttributesModification&&(b.attributes=!0),b}function i(a,b){a.forEach(function(a){var c=a.addedNodes,d=a.target,f=[];null!==c&&c.length>0?e.checkChildNodesRecursively(c,b,k,f):"attributes"===a.type&&k(d,b,f)&&f.push({callback:b.callback,elem:node}),e.callCallbacks(f)})}function k(a,b,f){if(e.matchesSelector(a,b.selector)&&(a._id===c&&(a._id=d++),-1==b.firedElems.indexOf(a._id))){if(b.options.onceOnly){if(0!==b.firedElems.length)return;b.me.unbindEventWithSelectorAndCallback.call(b.target,b.selector,b.callback)}b.firedElems.push(a._id),f.push({callback:b.callback,elem:a})}}var f={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};j=new g(h,i);var l=j.bindEvent;return j.bindEvent=function(a,b,c){"undefined"==typeof c?(c=b,b=f):b=e.mergeArrays(f,b);var d=e.toElementsArray(this);if(b.existing){for(var g=[],h=0;h<d.length;h++)for(var i=d[h].querySelectorAll(a),j=0;j<i.length;j++)g.push({callback:c,elem:i[j]});if(b.onceOnly&&g.length)return c.call(g[0].elem);setTimeout(e.callCallbacks,1,g)}l.call(this,a,b,c)},j},i=function(){function d(a){var b={childList:!0,subtree:!0};return b}function f(a,b){a.forEach(function(a){var c=a.removedNodes,f=(a.target,[]);null!==c&&c.length>0&&e.checkChildNodesRecursively(c,b,h,f),e.callCallbacks(f)})}function h(a,b){return e.matchesSelector(a,b.selector)}var c={};k=new g(d,f);var i=k.bindEvent;return k.bindEvent=function(a,b,d){"undefined"==typeof d?(d=b,b=c):b=e.mergeArrays(c,b),i.call(this,a,b,d)},k},j=new h,k=new i;b&&m(b.fn),m(HTMLElement.prototype),m(NodeList.prototype),m(HTMLCollection.prototype),m(HTMLDocument.prototype),m(Window.prototype);var n={};return l(j,n,"unbindAllArrive"),l(k,n,"unbindAllLeave"),n}}(window,"undefined"==typeof jQuery?null:jQuery,void 0);;
;
/* module-key = 'com.atlassian.plugins.atlassian-chaperone:hotspot-tour', location = '/hotspot-tour/hotspot-tour.soy' */
// This file was automatically generated from hotspot-tour.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace chaperone.hotspot.
 */

if (typeof chaperone == 'undefined') { var chaperone = {}; }
if (typeof chaperone.hotspot == 'undefined') { chaperone.hotspot = {}; }


chaperone.hotspot.spot = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<button type="button" class="chaperone-onboarding-hotspot ' + soy.$$escapeHtml(opt_data.styleClass != null ? opt_data.styleClass : '') + '" title="' + soy.$$escapeHtml(opt_data.tooltipText != null ? opt_data.tooltipText : '') + '" ></button>';
};
if (goog.DEBUG) {
  chaperone.hotspot.spot.soyTemplateName = 'chaperone.hotspot.spot';
}
;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_23', location = '23.d4bc7e7958d3abc78c5a.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[23],{289:function(o,n,s){o.exports=void 0},290:function(o,n,s){o.exports=void 0},77:function(o,n,s){"use strict";s(290),s(289);n.a=Chaperone}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~jira.rich.editor~jira.view.issue~sd.project.view', location = 'atl.general~jira.rich.editor~jira.view.issue~sd.project.view.80ab87125bad873ad8e6.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[76],{20:function(s,e){s.exports=require("jira/util/events/types")},21:function(s,e){s.exports=require("jira/issue")}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_15', location = '15.05ea21b14c40d16e3695.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[15],{273:function(s,o,n){s.exports=void 0},83:function(s,o,n){"use strict";n(273);o.a=AJS.Navigator}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_customerportal~jira.view.issue~sd.project.sidebar.content', location = 'customerportal~jira.view.issue~sd.project.sidebar.content.2399c28c12888e3578d9.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[89],{131:function(e,t,r){"use strict";var s=r(7),a=r.n(s),n=r(0),i=r(1),o=r(3),c=r(10),l=r(13),u=r.n(l);function d(){throw new Error("Not Implemented")}t.a=o.a.View.extend({initialize:function(e,t,r){this.models=e,this.tracker=t,i.default.extend(this,r)},getResults:function(e){var t=this;this.currentRequest&&this.currentRequest.abort();var r=a()();return this.currentRequest=Object(c.c)({url:this.getQueryUrl(e)}).done(function(e){r.resolve({provider:t,results:t._formatResults(e)})}).fail(function(e,s){for(var a=arguments.length,n=Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];"abort"===s?r.reject({provider:t,arguments:[e,s].concat(n)}):r.resolve({provider:t,results:[]})}),this.currentResult=r,r},cancelSearch:function(){this.currentRequest&&this.currentRequest.abort()},setIsFirstResultSet:function(e){this.isFirstResultSet=e},render:function(){return this.asyncRender()},close:function(){this.cancelSearch(),this.stopListening(),this.undelegateEvents()},addSearchQueryParamsTo:function(e){var t=this.models.search.getCurrentQuery();if(t&&""!==t){var r=this.models.search.getQueryTime(),s=i.default.filter(e,function(e){var t=Object(n.default)(e).attr("href");return t&&""!==t.trim()&&"#"!==t.trim()});i.default.each(s,function(e){var s=new u.a(Object(n.default)(e).attr("href"));s.setQuery("q",t),s.setQuery("q_time",r),Object(n.default)(e).attr("href",s.toString())})}},asyncRender:d,_formatResults:d,getQueryUrl:d})},215:function(e,t,r){var s,a;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Customer&&(ServiceDesk.Templates.Customer={}),void 0===ServiceDesk.Templates.Customer.Common&&(ServiceDesk.Templates.Customer.Common={}),void 0===ServiceDesk.Templates.Customer.Common.Request&&(ServiceDesk.Templates.Customer.Common.Request={}),ServiceDesk.Templates.Customer.Common.Request.requestTypeList=function(e,t){for(var r='<ul class="cv-smart-portal-request-type-list'+(e.additionalClasses?" "+soy.$$escapeHtml(e.additionalClasses):"")+'">',s=e.requestTypes,a=s.length,n=0;n<a;n++){var i=s[n];r+=ServiceDesk.Templates.Customer.Common.Request.requestTypeItem({hidePortalName:e.hidePortalName,requestType:i,contextPath:e.contextPath})}return r+="</ul>"},goog.DEBUG&&(ServiceDesk.Templates.Customer.Common.Request.requestTypeList.soyTemplateName="ServiceDesk.Templates.Customer.Common.Request.requestTypeList"),ServiceDesk.Templates.Customer.Common.Request.requestTypeItem=function(e,t){var r="",s=soy.$$escapeHtml(e.contextPath)+"/servicedesk/customer/portal/"+soy.$$escapeHtml(e.requestType.cvId)+"/create/"+soy.$$escapeHtml(e.requestType.id),a=soy.$$escapeHtml(e.contextPath)+"/servicedesk/customer/portal/"+soy.$$escapeHtml(e.requestType.cvId);return r+='<li class="cv-smart-portal-request-type-list-item js-smart-portal-request-type-list-item">'+ServiceDesk.Templates.Components.RequestTypeIcons.icon({iconId:null!=e.requestType.icon?e.requestType.icon:0,useCustomerShim:!0})+'<div class="cv-smart-portal-request-type-list-content"><div class="cv-smart-portal-request-type-list-header"><a title="'+soy.$$escapeHtml(e.requestType.name)+'" class="cv-smart-portal-request-type-name js-cv-smart-portal-request-type-name" href="'+soy.$$escapeHtml(s)+'" data-id="'+soy.$$escapeHtml(e.requestType.id)+'" data-portal-id="'+soy.$$escapeHtml(e.requestType.cvId)+'">'+soy.$$escapeHtml(e.requestType.name)+"</a>"+(e.hidePortalName?"":'<a title="'+soy.$$escapeHtml(e.requestType.portalName)+'" class="cv-smart-portal-request-type-portal-name js-cv-smart-portal-request-type-portal-name" data-id="'+soy.$$escapeHtml(e.requestType.id)+'" data-portal-id="'+soy.$$escapeHtml(e.requestType.cvId)+'" href="'+soy.$$escapeHtml(a)+'"><span>'+soy.$$escapeHtml(e.requestType.portalName)+"</span></a>")+'</div><div class="cv-smart-portal-request-type-description'+(""==e.requestType.description?" empty":"")+'">'+(""==e.requestType.description?soy.$$escapeHtml("No description"):soy.$$escapeHtml(e.requestType.description))+"</div></div></li>"},goog.DEBUG&&(ServiceDesk.Templates.Customer.Common.Request.requestTypeItem.soyTemplateName="ServiceDesk.Templates.Customer.Common.Request.requestTypeItem"),s=[r(55)],void 0===(a=function(){return ServiceDesk.Templates.Customer.Common.Request}.apply(t,s))||(e.exports=a)},50:function(e,t,r){"use strict";var s=r(6),a=r.n(s),n=r(1),i=r(4),o=r(137),c=r.n(o);function l(e,t,r){var s,i=function(e,t){var r=n.default.difference(e,n.default.keys(t)),s=n.default.chain(t).pick(e).pairs().filter(function(e){return n.default.isUndefined(e[1])||n.default.isNull(e[1])}).object().keys().value();return n.default.union(r,s)}(t,r);0===i.length?(s={name:e,properties:r},c.a.send(s)):a.a.error("Couldn't track event",e,"missing these parameters",i)}function u(e,t){l(e,["pageId","spaceKey","pageTitle","username","service_desk_ids","appLinkId"],t)}var d={validateAndTrackEvent:l,trackKbHelpfulClicked:function(e){u("stats.event.kb.helpful.clicked",e)},trackKbNotHelpfulClicked:function(e){u("stats.event.kb.not.helpful.clicked",e)},trackKbPageViewed:function(e){u("stats.event.kb.page.viewed",e)},trackSearchCompleted:function(e){!function(e,t){l(e,["searchTerm","searchTime","username","origin"],t)}("stats.event.search.completed",e)}};r.d(t,"a",function(){return f}),r.d(t,"b",function(){return g});var h=function(e){return-1!==e.indexOf(".",e.length-1)},p=function(e){return 0===e.indexOf(".")},m=function(e,t){var r=this,s=function(){r.cancelled||(e(),r.cancelled=!0)};return this.cancelled=!1,n.default.delay(s,t),{execute:function(){return s()},cancel:function(){r.cancelled=!0}}},v=1500,f={SEARCH:"search"},k=n.default.once(function(){try{return d}catch(e){return a.a.warn("Cannot find stats event tracker, stats event will not be tracked"),!1}}),S="unknown";var g=function(e,t){var r=new function(e){return{searchOrigin:S,_searchTrackerPrefix:h(e)?e.substring(0,e.length-1):e,trackSearchResultsRequestTypeClicked:function(e,t,r,s){var a=this._getWhiteListSafeSearchModelAttributes(e);this._trackSearchEvent("search.result.requesttype.clicked",n.default.extend(a,{index:t})),this.EacjTracker&&this.EacjTracker.trackSearchResultsRequestTypeClicked(e,{index:t,requestTypeName:r,portalName:s})},trackSearchResultsPortalNameClicked:function(e,t,r,s){var a=this._getWhiteListSafeSearchModelAttributes(e);this._trackSearchEvent("search.result.requesttype.portalname.clicked",n.default.extend(a,{index:t})),this.EacjTracker&&this.EacjTracker.trackSearchResultsPortalNameClicked(e,{index:t,requestTypeName:r,portalName:s})},trackSearchResultsClicked:function(e,t){e.getIsFirstResultClickedTracked()?(this._trackSearchEvent("search.result.subsequent.clicked."+t,this._getWhiteListSafeSearchModelAttributes(e)),this.EackTracker&&this.EacjTracker.trackSearchResultsSubsequentClicked(e,t)):(this._trackSearchEvent("search.result.first.clicked."+t,this._getWhiteListSafeSearchModelAttributes(e)),e.setIsFirstResultClickedTracked(!0),this.EackTracker&&this.EacjTracker.trackSearchResultsFirstResultClicked(e,t))},trackSearchResultsKbArticleClicked:function(e,t,r){var s=this._getWhiteListSafeSearchModelAttributes(e);this._trackSearchEvent("search.result.kb.clicked",n.default.extend(s,{index:t})),this.EacjTracker&&this.EacjTracker.trackSearchResultsKbArticleClicked(e,{index:t,articleName:r})},trackSearchResultNoneHelpedClicked:function(e){this._trackSearchEvent("search.result.none.helped.clicked",this._getWhiteListSafeSearchModelAttributes(e)),this.EacjTracker&&this.EacjTracker.trackSearchResultNoneHelpedClicked(e)},trackSomeResultsFound:function(e){this._trackSearchEvent("search.some",this._getWhiteListSafeSearchModelAttributes(e))},trackNoResultsFound:function(e){this._trackSearchEvent("search.none",this._getWhiteListSafeSearchModelAttributes(e))},queueSearchComplete:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.trackQueryChangedQueuedEvent&&this.trackQueryChangedQueuedEvent.cancel(),this.trackQueryChangedQueuedEvent=new m(function(){t._trackSearchEvent("search.completed",t._getWhiteListSafeSearchModelAttributes(e)),e.getHasKb()&&t._trackSearchEvent("search.completed.with.kb",t._getWhiteListSafeSearchModelAttributes(e)),t.EacjTracker&&t.EacjTracker.trackSearchCompleted(e);var s=t.searchOrigin;t._trackStatsEventIfPossible(function(t){t.trackSearchCompleted(n.default.extend({searchTerm:e.getCurrentQuery(),searchTime:e.getQueryTime(),username:e.getUserName(),origin:s},r))})},v)},executeSearchComplete:function(){this.trackQueryChangedQueuedEvent&&this.trackQueryChangedQueuedEvent.execute()},cancelSearchComplete:function(){this.trackQueryChangedQueuedEvent&&this.trackQueryChangedQueuedEvent.cancel()},trackFirstActionSearchEvent:function(){var e=this;this._onFirstAction(function(){e._trackSearchEvent("first.action.search")})},trackFirstActionBrowseEvent:function(e){var t=this;this._onFirstAction(function(){t._trackSearchEvent("first.action.browse."+e)})},consumeFirstAction:function(){this._recordedFirstAction=!0},_getWhiteListSafeSearchModelAttributes:function(e){return{hashedQuery:e.getHash(),numberOfWords:e.getNumberOfWordsInQuery()}},_getStatsEventAdditionalParamsFromSearchModel:function(e){return{searchTerm:e.getCurrentQuery(),searchTime:e.getQueryTime(),source:f.SEARCH}},_trackStatsEventIfPossible:function(e){var t=k();if(t)return e(t)},_trackSearchEvent:function(e,t){i.a.trackEvent(this._getEventKey(e),t)},_onFirstAction:function(e){this._recordedFirstAction||(e.call(),this._recordedFirstAction=!0)},_getEventKey:function(e){var t=p(e)?e.substring(1,e.length-1):e;return this._searchTrackerPrefix+"."+t}}}(e);return n.default.extend(r,t)}},544:function(e,t,r){(e.exports=r(9)(!1)).push([e.i,".aui-dialog2-content.kb-view-panel {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0;\n  overflow: hidden;\n  height: calc(100vh - 314px);\n}\n.aui-dialog2-content.kb-view-panel .kb-view-iframe {\n  width: 100%;\n  height: 100%;\n  border: none;\n}\n.aui-dialog2-content.kb-view-panel .kb-error-panel {\n  width: 500px;\n  height: 200px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -250px;\n  margin-top: -100px;\n}\n.aui-dialog2-content.kb-view-panel .kb-error-panel .kb-error-message {\n  text-align: center;\n}\n.aui-dialog2-content.kb-view-panel .kb-error-panel a {\n  width: 80%;\n  display: block;\n  margin: auto;\n  text-align: center;\n}\n@media all and (max-width: 1000px) {\n  .aui-dialog2-content.kb-view-panel {\n    height: calc(100vh - 114px);\n  }\n}\n",""])},545:function(e,t,r){var s=r(544);"string"==typeof s&&(s=[[e.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(8)(s,a);s.locals&&(e.exports=s.locals)},546:function(e,t,r){var s;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.InternalApi&&(ServiceDesk.InternalApi={}),void 0===ServiceDesk.InternalApi.Feature&&(ServiceDesk.InternalApi.Feature={}),void 0===ServiceDesk.InternalApi.Feature.KBPageViewer&&(ServiceDesk.InternalApi.Feature.KBPageViewer={}),ServiceDesk.InternalApi.Feature.KBPageViewer.kbPageViewerDialog=function(e,t){return'<section role="dialog" class="aui-layer aui-dialog2 aui-dialog2-xlarge sd-kb-pageviewer-dialog js-kb-pageviewer-dialog" aria-hidden="true"><header class="aui-dialog2-header"><h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml(e.title)+'</h2><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Close")+'</span></a></header><div class="aui-dialog2-content kb-view-panel js-kb-view-panel">'+(e.error?ServiceDesk.InternalApi.Feature.KBPageViewer.kbError(e):ServiceDesk.InternalApi.Feature.KBPageViewer.kbInContext(e)+'<aui-spinner size="large"></aui-spinner>')+'</div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button class="aui-button aui-button-link js-dialog-close-button">'+soy.$$escapeHtml("Close")+'</button></div><div class="aui-dialog2-footer-hint kb-dialog-footer js-kb-dialog-footer"></div></footer></section>'},goog.DEBUG&&(ServiceDesk.InternalApi.Feature.KBPageViewer.kbPageViewerDialog.soyTemplateName="ServiceDesk.InternalApi.Feature.KBPageViewer.kbPageViewerDialog"),ServiceDesk.InternalApi.Feature.KBPageViewer.kbInContext=function(e,t){return'<iframe class="kb-view-iframe hidden" src="'+soy.$$escapeHtml(e.confluenceUrl)+"/plugins/servlet/remotepageview?pageId="+soy.$$escapeHtml(e.pageId)+'" frameBorder="0"></iframe>'},goog.DEBUG&&(ServiceDesk.InternalApi.Feature.KBPageViewer.kbInContext.soyTemplateName="ServiceDesk.InternalApi.Feature.KBPageViewer.kbInContext"),ServiceDesk.InternalApi.Feature.KBPageViewer.kbError=function(e,t){return'<div class="kb-error-panel"><p class="kb-error-message">'+soy.$$escapeHtml(e.error)+"</p><br />"+aui.buttons.button({type:"primary",href:e.kbSettingsUrl,text:"Manage knowledge base settings"})+"</div>"},goog.DEBUG&&(ServiceDesk.InternalApi.Feature.KBPageViewer.kbError.soyTemplateName="ServiceDesk.InternalApi.Feature.KBPageViewer.kbError"),void 0===(s=function(){return ServiceDesk.InternalApi.Feature.KBPageViewer}.apply(t,[]))||(e.exports=s)},566:function(e,t,r){(e.exports=r(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n/*ul*/\n.cv-smart-portal-results {\n  padding: 0 40px 0 0;\n  display: block;\n  list-style: none;\n}\n.cv-smart-portal-browse-portals {\n  text-align: center;\n}\n.cv-smart-portal-search-result-title {\n  margin: 10px 0;\n}\n.cv-smart-portal-results li {\n  padding: 15px 0 15px 0;\n}\n.cv-smart-portal-panel-inner section.aui-page-panel-content {\n  padding-top: 0;\n}\n",""])},567:function(e,t,r){var s=r(566);"string"==typeof s&&(s=[[e.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(8)(s,a);s.locals&&(e.exports=s.locals)},568:function(e,t,r){var s;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Shared&&(ServiceDesk.Templates.Shared={}),void 0===ServiceDesk.Templates.Shared.Components&&(ServiceDesk.Templates.Shared.Components={}),void 0===ServiceDesk.Templates.Shared.Components.Search&&(ServiceDesk.Templates.Shared.Components.Search={}),ServiceDesk.Templates.Shared.Components.Search.searchResultsFooter=function(e,t){return'<div class="cv-smart-portal-nav-bottom">'+aui.buttons.button({text:""+(e.hasMoreThanOneResult?soy.$$escapeHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml("None of these are what I need")):soy.$$escapeHtml(soydata.VERY_UNSAFE.ordainSanitizedHtml("This is not what I need"))),type:"link",extraClasses:"js-cv-view-portals"})+"</div>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Components.Search.searchResultsFooter.soyTemplateName="ServiceDesk.Templates.Shared.Components.Search.searchResultsFooter"),ServiceDesk.Templates.Shared.Components.Search.spinner=function(e,t){return'<div class="cv-smart-portal-spinner-container"><aui-spinner size="'+soy.$$escapeHtml(e.size)+'"></aui-spinner></div>'},goog.DEBUG&&(ServiceDesk.Templates.Shared.Components.Search.spinner.soyTemplateName="ServiceDesk.Templates.Shared.Components.Search.spinner"),void 0===(s=function(){return ServiceDesk.Templates.Shared.Components.Search}.apply(t,[]))||(e.exports=s)},569:function(e,t,r){var s;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Shared&&(ServiceDesk.Templates.Shared={}),void 0===ServiceDesk.Templates.Shared.Components&&(ServiceDesk.Templates.Shared.Components={}),void 0===ServiceDesk.Templates.Shared.Components.SearchProviders&&(ServiceDesk.Templates.Shared.Components.SearchProviders={}),ServiceDesk.Templates.Shared.Components.SearchProviders.kbSearchProviderResults=function(e,t){var r="";if(e.kbArticles&&e.kbArticles.length>0){r+='<div class="cv-smart-portal-sub-header">'+soy.$$escapeHtml("Solutions from the knowledge base")+'</div><ul class="cv-smart-portal-results">';for(var s=e.kbArticles,a=s.length,n=0;n<a;n++){var i=s[n],o=soy.$$escapeHtml(AJS.contextPath())+"/servicedesk/customer/kb/view/"+soy.$$escapeHtml(i.id);r+='<li class="cv-smart-portal-kb-result js-cv-smart-portal-kb-result"><div class="cv-smart-portal-kb-header"><a title="'+soy.$$escapeHtml(i.title)+'" href="'+soy.$$escapeHtml(o)+'" class="js-cv-smart-portal-kb-article cv-smart-portal-kb-article-name">'+soy.$$filterNoAutoescape(i.titleHighlightedHtml)+"</a>"+(e.hidePortalName?"":'<span title="'+soy.$$escapeHtml(i.portalName)+'" class="cv-smart-portal-kb-portal-name">'+soy.$$escapeHtml(i.portalName)+"</span>")+'</div><div class="cv-smart-portal-kb-description">'+soy.$$filterNoAutoescape(i.bodyHighlightedHtml)+"</div></li>"}r+="</ul>"}return r},goog.DEBUG&&(ServiceDesk.Templates.Shared.Components.SearchProviders.kbSearchProviderResults.soyTemplateName="ServiceDesk.Templates.Shared.Components.SearchProviders.kbSearchProviderResults"),void 0===(s=function(){return ServiceDesk.Templates.Shared.Components.SearchProviders}.apply(t,[]))||(e.exports=s)},570:function(e,t,r){(e.exports=r(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n/*ul li*/\n.cv-smart-portal-kb-header {\n  display: flex;\n}\n.cv-smart-portal-kb-header .cv-smart-portal-kb-article-name {\n  flex: 0 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.cv-smart-portal-kb-header .cv-smart-portal-kb-portal-name {\n  color: #707070;\n  flex: 1 5 auto;\n  overflow: hidden;\n  min-width: 30%;\n  padding-left: 1em;\n  position: relative;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.cv-smart-portal-kb-header .cv-smart-portal-kb-portal-name::before {\n  content: '\\B7';\n  left: 0;\n  position: absolute;\n  text-align: center;\n  width: 1em;\n}\n.cv-smart-portal-kb-description {\n  color: #707070;\n}\n",""])},571:function(e,t,r){var s=r(570);"string"==typeof s&&(s=[[e.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(8)(s,a);s.locals&&(e.exports=s.locals)},572:function(e,t,r){var s,a;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Shared&&(ServiceDesk.Templates.Shared={}),void 0===ServiceDesk.Templates.Shared.Components&&(ServiceDesk.Templates.Shared.Components={}),void 0===ServiceDesk.Templates.Shared.Components.SearchProviders&&(ServiceDesk.Templates.Shared.Components.SearchProviders={}),ServiceDesk.Templates.Shared.Components.SearchProviders.requestTypeSearchProviderResults=function(e,t){return e.requestTypes&&e.requestTypes.length>0?(0==e.isFirstResultSet?'<div class="cv-smart-portal-sub-header">'+soy.$$escapeHtml("Can\'t find what you need? Raise a request")+"</div>":"")+ServiceDesk.Templates.Customer.Common.Request.requestTypeList({hidePortalName:e.hidePortalName,requestTypes:e.requestTypes,contextPath:e.contextPath,additionalClasses:"cv-smart-portal-results"}):""},goog.DEBUG&&(ServiceDesk.Templates.Shared.Components.SearchProviders.requestTypeSearchProviderResults.soyTemplateName="ServiceDesk.Templates.Shared.Components.SearchProviders.requestTypeSearchProviderResults"),s=[r(215)],void 0===(a=function(){return ServiceDesk.Templates.Shared.Components.SearchProviders}.apply(t,s))||(e.exports=a)},573:function(e,t,r){var s;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Shared&&(ServiceDesk.Templates.Shared={}),void 0===ServiceDesk.Templates.Shared.Components&&(ServiceDesk.Templates.Shared.Components={}),void 0===ServiceDesk.Templates.Shared.Components.Search&&(ServiceDesk.Templates.Shared.Components.Search={}),ServiceDesk.Templates.Shared.Components.Search.searchInputView=function(e,t){var s="",a=r(15).isFeatureEnabled("sd.adgs.m1")?"aui-icon aui-icon-small aui-iconfont-cross-circle":"aui-icon aui-icon-small aui-iconfont-remove";return s+='<input class="text cv-smart-portal-search-input js-cv-smart-portal-search-input empty" type="text" placeholder="'+soy.$$escapeHtml(e.placeholder)+'" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />'+aui.icons.icon({extraClasses:"cv-smart-portal-search-icon js-cv-smart-portal-search-icon",useIconFont:!0,icon:"search"})+aui.buttons.button({extraClasses:"cv-smart-portal-search-clear js-cv-smart-portal-search-clear",extraAttributes:{style:"display: none;"},iconType:"aui",iconClass:a,iconText:"Remove",type:"link",text:""})},goog.DEBUG&&(ServiceDesk.Templates.Shared.Components.Search.searchInputView.soyTemplateName="ServiceDesk.Templates.Shared.Components.Search.searchInputView"),void 0===(s=function(){return ServiceDesk.Templates.Shared.Components.Search}.apply(t,[]))||(e.exports=s)},574:function(e,t,r){(e.exports=r(9)(!1)).push([e.i,"/*\n * @see https://atlassian.design/guidelines/brand/color-1\n */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n.cv-smart-portal-search-input-container {\n  position: relative;\n  width: 700px;\n  margin: 0 auto 0 auto;\n}\n.cv-smart-portal-search-input-container .cv-smart-portal-search-input.text {\n  max-width: 100%;\n  width: 100%;\n  padding-right: 40px;\n  padding-left: 15px;\n  box-sizing: border-box;\n  font-size: 20px;\n}\n.cv-smart-portal-search-input-container .cv-smart-portal-search-input::-ms-clear {\n  width: 0;\n  height: 0;\n  display: none;\n}\n.cv-smart-portal-search-input-container .cv-smart-portal-search-clear {\n  position: absolute;\n  top: 7px;\n  right: 15px;\n}\n.cv-smart-portal-search-input-container .cv-smart-portal-search-clear:hover .aui-iconfont-cross-circle {\n  color: #7A869A;\n}\n.cv-smart-portal-search-input-container .cv-smart-portal-search-clear .aui-iconfont-cross-circle {\n  width: 24px;\n  height: 24px;\n  color: #7A869A;\n}\n.cv-smart-portal-search-input-container .cv-smart-portal-search-clear .aui-iconfont-cross-circle::before {\n  font-size: 24px;\n  margin-top: -15px;\n}\n.cv-smart-portal-search-input-container .cv-smart-portal-search-icon {\n  position: absolute;\n  right: 16px;\n  top: 6px;\n  height: 24px;\n  width: 24px;\n}\n.cv-smart-portal-search-input-container .cv-smart-portal-search-icon::before {\n  color: #7A869A;\n  font-size: 24px;\n}\n@media screen and (max-width: 700px) {\n  .cv-smart-portal-search-input-container {\n    width: calc(100% - 40px);\n  }\n}\n",""])},575:function(e,t,r){var s=r(574);"string"==typeof s&&(s=[[e.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(8)(s,a);s.locals&&(e.exports=s.locals)},69:function(e,t,r){"use strict";var s=r(0),a=r(1),n=r(5),i=r.n(n),o=r(13),c=r.n(o),l=r(44),u=r(131),d=r(3).a.Model.extend({namedAttributes:{appLinkUrl:String,id:String,body:String,bodyHighlightedHtml:String,contentType:String,url:String,inPageUrl:String,title:String,titleHighlightedHtml:String,portalName:String,shareable:Boolean}}),h=r(36);r(571),r(569),t.a=u.a.extend({template:ServiceDesk.Templates.Shared.Components.SearchProviders.kbSearchProviderResults,EVENT:{KB_CLICKED:"kbClicked"},events:{"click .js-cv-smart-portal-kb-article":"_onKbClicked"},getQueryUrl:function(e){var t=void 0;if(this._isInSinglePortalContextWithKbEnabled()){var r=this.models.search.getSinglePortalContext().getProjectKey();(t=new c.a(i()()+"/rest/servicedesk/knowledgebase/latest/articles/search")).addQuery("project",r)}else t=new c.a(i()()+"/rest/servicedesk/1/servicedesk/sharedportal/kb/articles");return t.addQuery("query",e),t.build().href()},_formatResults:function(e){if(e&&e.results){var t=a.default.take(e.results,3);return a.default.map(t,function(e){return new d({appLinkUrl:e.appLinkUrl,id:e.id,url:e.appLinkUrl+e.url,inPageUrl:Object(h.a)(e.id,e.title,e.spaceKey,e.appLinkId),title:Object(l.d)(e.title),titleHighlightedHtml:Object(l.a)(e.title),body:Object(l.d)(e.bodyTextHighlights),bodyHighlightedHtml:Object(l.a)(e.bodyTextHighlights),portalName:e.portalName,shareable:e.shareable})})}return[]},asyncRender:function(){var e=this;return this.currentResult.done(function(t){if(0!==t.results.length){var r={kbArticles:a.default.map(t.results,function(e){return e.toJSON()})};e._isInSinglePortalContextWithKbEnabled()&&(r.hidePortalName=!0),e.$el.html(e.template(r)),e.addSearchQueryParamsTo(e.$("a.js-cv-smart-portal-kb-article")),e._addAppLinkAndPortalId(e.$("a.js-cv-smart-portal-kb-article")),e.delegateEvents()}})},_addAppLinkAndPortalId:function(e){if(this._isInSinglePortalContextWithKbEnabled()){var t=this.models.search.getSinglePortalContext(),r=t.getAppLinkId(),n=t.getPortalId(),i=a.default.filter(e,function(e){var t=Object(s.default)(e).attr("href");return t&&""!==t.trim()&&"#"!==t.trim()});a.default.each(i,function(e){var t=new c.a(Object(s.default)(e).attr("href"));t.setQuery("portalId",n),t.setQuery("applicationId",r),Object(s.default)(e).attr("href",t.toString())})}},_isInSinglePortalContextWithKbEnabled:function(){var e=this.models.search;return e.isInSinglePortalContext()&&e.getHasKb()},_onKbClicked:function(e){var t=Object(s.default)(e.target),r=this._getKbArticles().index(t.closest(".js-cv-smart-portal-kb-result")[0]),a=t.text();this.tracker&&this.tracker.executeSearchComplete(),this.tracker&&this.tracker.trackSearchResultsKbArticleClicked(this.models.search,r,a),this.tracker&&this.tracker.trackSearchResultsClicked(this.models.search,"kb")},_getKbArticles:function(){return this.$(".js-cv-smart-portal-kb-result")}})},70:function(e,t,r){"use strict";var s=r(3),a=s.a.Model.extend({namedAttributes:{serviceDeskId:Number,portalId:Number,projectKey:String,appLinkId:String,spaceKey:String}});t.a=s.a.Model.extend({namedAttributes:{userName:String,currentQuery:String,queryTime:Number,hasKb:Boolean,singlePortalContext:a,isFirstResultClickedTracked:Boolean},defaults:{currentQuery:"",queryTime:(new Date).getTime(),hasKb:!1,isFirstResultClickedTracked:!1},initialize:function(){var e=this;this.listenTo(this,"change:currentQuery",function(){var t=(new Date).getTime();e.setQueryTime(t),e.setIsFirstResultClickedTracked(!1)}),this.getCurrentQuery()&&""!==this.getCurrentQuery()&&this.setIsFirstResultClickedTracked(!0)},getHash:function(){var e=this.getCurrentQuery()+this.getQueryTime(),t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return t},getNumberOfWordsInQuery:function(){return this.getCurrentQuery().split(/\s+/).length},isInSinglePortalContext:function(){return!!this.getSinglePortalContext()}})},71:function(e,t,r){"use strict";var s=r(2),a=r(3),n=r(70);r(575),r(573);t.a=a.a.View.extend({template:ServiceDesk.Templates.Shared.Components.Search.searchInputView,className:"cv-smart-portal-search-input-container",namedEvents:["queryChanged"],events:{"change .js-cv-smart-portal-search-input":"_onQueryChanged","keyup .js-cv-smart-portal-search-input":"_onQueryChanged","paste .js-cv-smart-portal-search-input":"_onQueryChanged","click .js-cv-smart-portal-search-clear":"clearSearchQuery"},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.placeholder,a=t.retainFocusOnEnter;this.models=e||{search:new n.a},this.placeholder=r||"What do you need help with?",this.retainFocusOnEnter=!!a},render:function(){this.$el.html(this.template({placeholder:this.placeholder})),this.ui={$searchBox:this.$(".js-cv-smart-portal-search-input"),$clearButton:this.$(".js-cv-smart-portal-search-clear"),$searchIcon:this.$(".js-cv-smart-portal-search-icon")};var e=this.models.search.getCurrentQuery();return this.ui.$searchBox.val(e).change(),this.listenTo(this.models.search,"change:currentQuery",function(){this._handleQueryChanged()}),this._updateInputClearButtonStatus(e),this},disable:function(){this.ui.$searchBox.attr({"aria-disabled":"aria-disabled",disabled:"disabled"}),this.ui.$searchIcon.addClass("disabled")},enable:function(){this.ui.$searchBox.removeAttr("aria-disabled disabled"),this.ui.$searchIcon.removeClass("disabled")},focusOnSearch:function(){this.ui.$searchBox.focus()},close:function(){this.stopListening(),this.undelegateEvents()},clearSearchQuery:function(){this.ui.$searchBox.val(""),this.models.search.setCurrentQuery(""),this.focusOnSearch()},_onQueryChanged:function(e){var t=null;if(e&&(t=e.keyCode?e.keyCode:e.which),this.retainFocusOnEnter)this.ui.$searchBox.focus();else if(t&&13===t)return void this.ui.$searchBox.blur();var r=this.models.search.getCurrentQuery().trim(),s=this.ui.$searchBox.val().trim();r!==s&&this.models.search.setCurrentQuery(s)},_handleQueryChanged:function(){var e=this.models.search.getCurrentQuery(),t=this.models.search.getQueryTime();this._updateInputClearButtonStatus(e),this.triggerQueryChanged(e,t)},_updateInputClearButtonStatus:function(e){e&&""!==e?(this.ui.$clearButton.show(),this.ui.$searchIcon.hide()):(this.ui.$clearButton.hide(),this.ui.$searchIcon.show())}})},82:function(e,t,r){"use strict";r.d(t,"b",function(){return l}),r.d(t,"a",function(){return u});var s=r(0),a=r(3),n=r(1),i=r(22),o=r.n(i),c=(r(546),r(545),a.a.View.extend({template:ServiceDesk.InternalApi.Feature.KBPageViewer.kbPageViewerDialog,initialize:function(e){this.title=e.title,this.confUrl=e.confUrl||null,this.pageId=e.pageId||null,this.openResultsInNewTab=e.openResultsInNewTab||!1,this.footerView=e.footerView||null,this.onPageShown=e.onPageShown||null,this.error=e.error||null,this.kbSettingsUrl=e.kbSettingsUrl||null},show:function(){var e=!!this.openResultsInNewTab;this.openResultsInNewTab?window.open(this._getFullConfluencePageUrl(),(new Date).getTime()):this._createDialog(),this.onPageShown&&this.onPageShown(e)},disable:function(){this.dialog&&this.dialog.remove()},_getFullConfluencePageUrl:function(){return this.confUrl+"/pages/viewpage.action?pageId="+this.pageId},_createDialog:function(){var e=this;this.$dialog=Object(s.default)(this.template({title:this.title,confluenceUrl:this.confUrl,pageId:this.pageId,error:this.error,kbSettingsUrl:this.kbSettingsUrl})),this.dialog=o()(this.$dialog),this.$dialog.find(".js-dialog-close-button").click(function(t){t.preventDefault(),e.dialog.hide()}),this.dialog.on("hide",function(){n.default.defer(function(){e.trigger("onClose")})});var t=this.$dialog.find(".js-kb-dialog-footer");this.footerView&&this.footerView.setElement(t).render();var r=this.$dialog.find(".js-kb-view-panel iframe");r.on("load",function(){e.$dialog.find("aui-spinner").remove(),r.removeClass("hidden")}),this.dialog.show(),Object(s.default)(".aui-blanket").css("z-index",1e4),this.$dialog.css("z-index",10001)}})),l=function(e){return new c(e)},u=function(e,t,r){return new c({openResultsInNewTab:!1,title:e,error:t,kbSettingsUrl:r})}},90:function(e,t,r){"use strict";var s=r(0),a=r(1),n=r(5),i=r.n(n),o=r(131),c=r(13),l=r.n(c),u=r(3).a.Model.extend({namedAttributes:{id:Number,cvId:Number,key:String,icon:Number,issueType:Number,name:String,portalName:String,description:String,helpText:String,searchScore:Number}});r(572),t.a=o.a.extend({template:ServiceDesk.Templates.Shared.Components.SearchProviders.requestTypeSearchProviderResults,ui:{requestTypes:".js-cv-smart-portal-request-type-name",portals:".js-cv-smart-portal-request-type-portal-name"},events:{"click .js-cv-smart-portal-request-type-name":"_onRequestTypeClicked","click .js-cv-smart-portal-request-type-portal-name":"_onPortalClicked"},asyncRender:function(){var e=this;return this.currentResult.done(function(t){if(0!==t.results.length){var r={requestTypes:a.default.map(t.results,function(e){return e.toJSON()}),contextPath:i()(),isFirstResultSet:!!e.isFirstResultSet};e.models.search.isInSinglePortalContext()&&(r.hidePortalName=!0),e.$el.html(e.template(r)),e.addSearchQueryParamsTo(e.$("a.js-cv-smart-portal-request-type-name"))}})},getQueryUrl:function(e){var t=new l.a(i()()+"/rest/servicedesk/search/1/search/request-type");return t.addQuery("query",e),t.addQuery("resultLimit",5),this.models.search.isInSinglePortalContext()&&t.addQuery("serviceDeskId",this.models.search.getSinglePortalContext().getServiceDeskId()),t.build().href()},_formatResults:function(e){return a.default.map(e.requestTypes||[],function(e){return new u(e)})},_onRequestTypeClicked:function(e){var t=this._getRequestTypes().index(e.target),r=Object(s.default)(e.target).closest(".cv-smart-portal-request-type-list-content"),a=r.find(".js-cv-smart-portal-request-type-name").text(),n=r.find(".js-cv-smart-portal-request-type-portal-name").text();this.tracker.executeSearchComplete(),this.tracker.trackSearchResultsRequestTypeClicked(this.models.search,t,a,n),this.tracker.trackSearchResultsClicked(this.models.search,"requesttype")},_onPortalClicked:function(e){var t=this._getPortals().index(e.target),r=Object(s.default)(e.target).closest(".cv-smart-portal-request-type-list-content"),a=r.find(".js-cv-smart-portal-request-type-name").text(),n=r.find(".js-cv-smart-portal-request-type-portal-name").text();this.tracker.executeSearchComplete(),this.tracker.trackSearchResultsPortalNameClicked(this.models.search,t,a,n),this.tracker.trackSearchResultsClicked(this.models.search,"requesttype")},_getRequestTypes:function(){return this.$(".js-cv-smart-portal-request-type-name")},_getPortals:function(){return this.$(".js-cv-smart-portal-request-type-portal-name")}})},95:function(e,t,r){"use strict";var s=r(0),a=r(3),n=r(1),i=r(6),o=r.n(i),c=r(90),l=r(69);r(568),r(567);t.a=a.a.View.extend({className:"cv-search-results-container",spinner:ServiceDesk.Templates.Shared.Components.Search.spinner,footer:ServiceDesk.Templates.Shared.Components.Search.searchResultsFooter,EVENT:{NO_RESULTS_FOUND:"noResultsFound",NONE_HELPED_CLICKED:"noneHelpedClicked",RESULTS_RENDERED:"resultsRendered"},events:{"click .js-cv-view-portals":"_onNoneHelpedClicked"},initialize:function(e,t){var r=t.isInitialRender,s=t.analyticsTracker,a=t.searchProviders,n=t.hideFooter,i=t.spinnerSize;this.models=e,this.tracker=s,this.isInitialRender=!!r,this.hideFooter=!!n,this.searchProviders=a||[],this.spinnerSize=i||"large"},render:function(){var e=this.models.search.getCurrentQuery().trim();e&&""!==e&&(this._cancelCurrentSearch(),this._showSpinner(),this._renderSearchResults(e))},_renderSearchResults:n.default.debounce(function(e){var t=this;if(!this.isClosed){var r=this.searchProviders.map(function(t){return t.getResults(e)});s.default.when.apply(this,r).done(function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];if(t.$el.empty(),!1===t.isInitialRender){var i=t._formatTrackingAttributes(r);t.tracker&&t.tracker.queueSearchComplete(t.models.search,i)}var c=n.default.filter(r,function(e){return e.results.length>0});if(0===c.length)return t.tracker&&t.tracker.trackNoResultsFound(t.models.search),t.tracker&&t.tracker.executeSearchComplete(),t.trigger(t.EVENT.NO_RESULTS_FOUND),t.trigger(t.EVENT.RESULTS_RENDERED),void o.a.trace("cv.smart.portal.search.completed");for(var l=[],u=0;u<c.length;u++){var d=c[u].provider;d.setIsFirstResultSet(0===u);var h=d.render();l.push(h),t.$el.append(d.$el)}t.hideFooter||t.$el.append(t.footer({hasMoreThanOneResult:n.default.reduce(c,function(e,t){return e+t.results.length},0)>1})),t.delegateEvents(),o.a.trace("cv.smart.portal.search.completed"),s.default.when.apply(t,l).done(function(){t.trigger(t.EVENT.RESULTS_RENDERED)}),t.tracker&&t.tracker.trackSomeResultsFound(t.models.search)})}},300),_formatTrackingAttributes:function(e){var t={},r=n.default.filter(e,function(e){return e.results.length>0}),s=function(e){return parseInt(e.getId(),10)};return n.default.each(r,function(e){if(e.provider instanceof c.a){var r=n.default.map(e.results,s),a=n.default.map(e.results,function(e){return e.getName()});t.requestTypeIds=JSON.stringify(r),t.requestTypeNames=JSON.stringify(a)}else if(e.provider instanceof l.a){var i=n.default.map(e.results,s),o=n.default.map(e.results,function(e){return e.getTitle()});t.pageIds=JSON.stringify(i),t.pageTitles=JSON.stringify(o)}}),t},close:function(){this._cancelCurrentSearch(),this.searchProviders.forEach(function(e){e.close()}),this.stopListening(),this.undelegateEvents()},_cancelCurrentSearch:function(){this.searchProviders.forEach(function(e){e.cancelSearch()}),this.tracker&&this.tracker.cancelSearchComplete()},_onNoneHelpedClicked:function(e){e.preventDefault(),this.tracker&&this.tracker.trackSearchResultNoneHelpedClicked(this.models.search),this.trigger(this.EVENT.NONE_HELPED_CLICKED)},_showSpinner:function(){this.$el.html(this.spinner({size:this.spinnerSize}))}})}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~jira.view.issue~sd.project.sidebar.content', location = 'atl.general~jira.view.issue~sd.project.sidebar.content.944d46b55818fc222652.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[83],{26:function(s,i){s.exports=require("jira/ajs/list/item-descriptor")},56:function(s,i){s.exports=require("jira/ajs/list/group-descriptor")}}]);;
;
/* module-key = 'com.atlassian.plugin.jslibs:d3-3.5.5', location = 'libs/d3/3.5.5/d3-3.5.5.js' */
!function(){function Ca(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function ab(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function Oa(a){return null===a?NaN:+a}function ra(a){return!isNaN(a)}function be(a){return{left:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var f=d+e>>>1;0>a(b[f],c)?d=f+1:e=f}return d},right:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var f=d+e>>>1;0<
a(b[f],c)?e=f:d=f+1}return d}}}function Vg(a){return a.length}function ce(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function sa(){this._=Object.create(null)}function rb(a){return(a+="")===Wg||a[0]===Ic?Ic+a:a}function Gb(a){return(a+="")[0]===Ic?a.slice(1):a}function de(a){return rb(a)in this._}function ee(a){return(a=rb(a))in this._&&delete this._[a]}function fe(){var a=[],b;for(b in this._)a.push(Gb(b));return a}function ge(){var a=0,b;for(b in this._)++a;
return a}function he(){for(var a in this._)return!1;return!0}function Jc(){this._=Object.create(null)}function P(a){return a}function Xg(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function Kc(a,b){if(b in a)return b;for(var b=b.charAt(0).toUpperCase()+b.slice(1),c=0,d=ie.length;c<d;++c){var e=ie[c]+b;if(e in a)return e}}function M(){}function Lc(){}function je(a){function b(){for(var b=c,d=-1,g=b.length,h;++d<g;)(h=b[d].on)&&h.apply(this,arguments);return a}var c=[],d=new sa;
b.on=function(b,f){var g=d.get(b),h;if(2>arguments.length)return g&&g.on;g&&(g.on=null,c=c.slice(0,h=c.indexOf(g)).concat(c.slice(h+1)),d.remove(b));f&&c.push(d.set(b,{on:f}));return a};return b}function Da(){i.event.preventDefault()}function Mc(){for(var a=i.event,b;b=a.sourceEvent;)a=b;return a}function Nc(a){for(var b=new Lc,c=0,d=arguments.length;++c<d;)b[arguments[c]]=je(b);b.of=function(c,d){return function(g){try{var h=g.sourceEvent=i.event;g.target=a;i.event=g;b[g.type].apply(c,d)}finally{i.event=
h}}};return b}function Ea(a){Hb(a,E);return a}function Oc(a){return"function"===typeof a?a:function(){return Pc(a,this)}}function ke(a){return"function"===typeof a?a:function(){return Qc(a,this)}}function le(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=
b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}a=i.ns.qualify(a);return null==b?a.local?d:c:"function"===typeof b?a.local?h:g:a.local?f:e}function me(a){return a.trim().replace(/\s+/g," ")}function ne(a){return RegExp("(?:^|\\s+)"+i.requote(a)+"(?:\\s+|$)","g")}function oe(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}var a=(a+"").trim().split(/^|\s+/).map(Yg),
e=a.length;return"function"===typeof b?d:c}function Yg(a){var b=ne(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",me(e+" "+a))):c.setAttribute("class",me(e.replace(b," ")))}}function pe(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==
b?d:"function"===typeof b?f:e}function qe(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"===typeof b?e:d}function re(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c?b.createElementNS(c,a):b.createElement(a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"===typeof a?a:(a=i.ns.qualify(a)).local?c:b}function Zg(){var a=this.parentNode;
a&&a.removeChild(this)}function se(a){return function(){return Ib(this,a)}}function $g(a){arguments.length||(a=ab);return function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function ta(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],f=0,g=e.length,h;f<g;f++)(h=e[f])&&b(h,f,c);return a}function te(a){Hb(a,ua);return a}function ue(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var e=j(b,Fa(arguments));d.call(this);this.addEventListener(a,
this[g]=e,e.$=c);e._=b}function f(){var b=RegExp("^__on([^.]+)"+i.requote(a)+"$"),c,d;for(d in this)if(c=d.match(b)){var e=this[d];this.removeEventListener(c[1],e,e.$);delete this[d]}}var g="__on"+a,h=a.indexOf("."),j=ve;0<h&&(a=a.slice(0,h));var k=Rc.get(a);k&&(a=k,j=ah);return h?b?e:d:b?M:f}function ve(a,b){return function(c){var d=i.event;i.event=c;b[0]=this.__data__;try{a.apply(this,b)}finally{i.event=d}}}function ah(a,b){var c=ve(a,b);return function(a){var b=a.relatedTarget;(!b||b!==this&&!(b.compareDocumentPosition(this)&
8))&&c.call(this,a)}}function Jb(a){var b=".dragsuppress-"+ ++bh,c="click"+b,d=i.select(Ca(a)).on("touchmove"+b,Da).on("dragstart"+b,Da).on("selectstart"+b,Da);null==Pa&&(Pa="onselectstart"in a?!1:Kc(a.style,"userSelect"));if(Pa){var e=(a&&(a.ownerDocument||a.document||a).documentElement).style,f=e[Pa];e[Pa]="none"}return function(a){d.on(b,null);Pa&&(e[Pa]=f);if(a){var h=function(){d.on(c,null)};d.on(c,function(){Da();h()},!0);setTimeout(h,0)}}}function Sc(a,b){b.changedTouches&&(b=b.changedTouches[0]);
var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();if(0>Tc&&(c=Ca(a),c.scrollX||c.scrollY)){var c=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),e=c[0][0].getScreenCTM();Tc=!(e.f||e.e);c.remove()}Tc?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY);d=d.matrixTransform(a.getScreenCTM().inverse());return[d.x,d.y]}d=a.getBoundingClientRect();return[b.clientX-d.left-a.clientLeft,b.clientY-d.top-a.clientTop]}
function ch(){return i.event.changedTouches[0].identifier}function Uc(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function Ga(a){return 1<a?K:-1>a?-K:Math.asin(a)}function we(a){return((a=Math.exp(a))+1/a)/2}function xe(a){return(a=Math.sin(a/2))*a}function Qa(){}function la(a,b,c){return this instanceof la?void(this.h=+a,this.s=+b,this.l=+c):2>arguments.length?a instanceof la?new la(a.h,a.s,a.l):ye(""+a,ze,la):new la(a,b,c)}function Vc(a,b,c){function d(a){360<a?a-=360:0>a&&(a+=
360);return 60>a?e+(f-e)*a/60:180>a?f:240>a?e+(f-e)*(240-a)/60:e}var e,f,a=isNaN(a)?0:0>(a%=360)?a+360:a,b=isNaN(b)?0:0>b?0:1<b?1:b,c=0>c?0:1<c?1:c;f=0.5>=c?c*(1+b):c+b-c*b;e=2*c-f;return new U(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function ga(a,b,c){return this instanceof ga?void(this.h=+a,this.c=+b,this.l=+c):2>arguments.length?a instanceof ga?new ga(a.h,a.c,a.l):a instanceof ha?Ae(a.l,a.a,a.b):Ae((a=Be((a=i.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new ga(a,b,c)}function Wc(a,
b,c){isNaN(a)&&(a=0);isNaN(b)&&(b=0);return new ha(c,Math.cos(a*=z)*b,Math.sin(a)*b)}function ha(a,b,c){return this instanceof ha?void(this.l=+a,this.a=+b,this.b=+c):2>arguments.length?a instanceof ha?new ha(a.l,a.a,a.b):a instanceof ga?Wc(a.h,a.c,a.l):Be((a=U(a)).r,a.g,a.b):new ha(a,b,c)}function Ce(a,b,c){a=(a+16)/116;c=a-c/200;b=Xc(a+b/500)*De;a=Xc(a)*Ee;c=Xc(c)*Fe;return new U(Yc(3.2404542*b-1.5371385*a-0.4985314*c),Yc(-0.969266*b+1.8760108*a+0.041556*c),Yc(0.0556434*b-0.2040259*a+1.0572252*c))}
function Ae(a,b,c){return 0<a?new ga(Math.atan2(c,b)*I,Math.sqrt(b*b+c*c),a):new ga(NaN,NaN,a)}function Xc(a){return 0.206893034<a?a*a*a:(a-4/29)/7.787037}function Zc(a){return 0.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function Yc(a){return Math.round(255*(0.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function U(a,b,c){return this instanceof U?void(this.r=~~a,this.g=~~b,this.b=~~c):2>arguments.length?a instanceof U?new U(a.r,a.g,a.b):ye(""+a,U,Vc):new U(a,b,c)}function Kb(a){return new U(a>>
16,a>>8&255,a&255)+""}function bb(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function ye(a,b,c){var d=0,e=0,f=0,g,h;if(g=/([a-z]+)\((.*)\)/i.exec(a))switch(h=g[2].split(","),g[1]){case "hsl":return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case "rgb":return b($c(h[0]),$c(h[1]),$c(h[2]))}if(c=Lb.get(a.toLowerCase()))return b(c.r,c.g,c.b);if(null!=a&&"#"===a.charAt(0)&&!isNaN(c=parseInt(a.slice(1),16)))4===a.length?(d=(c&3840)>>4,d|=d>>4,e=c&240,e|=
e>>4,f=c&15,f|=f<<4):7===a.length&&(d=(c&16711680)>>16,e=(c&65280)>>8,f=c&255);return b(d,e,f)}function ze(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,g=(e+d)/2;f?(d=0.5>g?f/(e+d):f/(2-e-d),a=60*(a==e?(b-c)/f+(b<c?6:0):b==e?(c-a)/f+2:(a-b)/f+4)):(a=NaN,d=0<g&&1>g?0:a);return new la(a,d,g)}function Be(a,b,c){var a=ad(a),b=ad(b),c=ad(c),d=Zc((0.4124564*a+0.3575761*b+0.1804375*c)/De),e=Zc((0.2126729*a+0.7151522*b+0.072175*c)/Ee),a=Zc((0.0193339*a+0.119192*b+0.9503041*c)/Fe);return ha(116*
e-16,500*(d-e),200*(e-a))}function ad(a){return 0.04045>=(a/=255)?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function $c(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function H(a){return"function"===typeof a?a:function(){return a}}function bd(a){return function(b,c,d){2===arguments.length&&"function"===typeof c&&(d=c,c=null);return Mb(b,c,a,d)}}function Mb(a,b,c,d){function e(){var a=j.status,b,d;if(d=!a)d=(d=j.responseType)&&"text"!==d?j.response:j.responseText;if(d||200<=
a&&300>a||304===a){try{b=c.call(f,j)}catch(e){g.error.call(f,e);return}g.load.call(f,b)}else g.error.call(f,j)}var f={},g=i.dispatch("beforesend","progress","load","error"),h={},j=new XMLHttpRequest,k=null;this.XDomainRequest&&(!("withCredentials"in j)&&/^(http(s)?:)?\/\//.test(a))&&(j=new XDomainRequest);"onload"in j?j.onload=j.onerror=e:j.onreadystatechange=function(){3<j.readyState&&e()};j.onprogress=function(a){var b=i.event;i.event=a;try{g.progress.call(f,j)}finally{i.event=b}};f.header=function(a,
b){a=(a+"").toLowerCase();if(2>arguments.length)return h[a];null==b?delete h[a]:h[a]=b+"";return f};f.mimeType=function(a){if(!arguments.length)return b;b=null==a?null:a+"";return f};f.responseType=function(a){if(!arguments.length)return k;k=a;return f};f.response=function(a){c=a;return f};["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(Fa(arguments)))}});f.send=function(c,d,e){2===arguments.length&&"function"===typeof d&&(e=d,d=null);j.open(c,a,!0);null!=b&&!("accept"in
h)&&(h.accept=b+",*/*");if(j.setRequestHeader)for(var i in h)j.setRequestHeader(i,h[i]);null!=b&&j.overrideMimeType&&j.overrideMimeType(b);null!=k&&(j.responseType=k);if(null!=e)f.on("error",e).on("load",function(a){e(null,a)});g.beforesend.call(f,j);j.send(null==d?null:d);return f};f.abort=function(){j.abort();return f};i.rebind(f,g,"on");return null==d?f:f.get(dh(d))}function dh(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function cd(){var a=Ge(),a=He()-a;24<a?(isFinite(a)&&(clearTimeout(Nb),
Nb=setTimeout(cd,a)),Ob=0):(Ob=1,Ie(cd))}function Ge(){var a=Date.now();for(va=Pb;va;)a>=va.t&&(va.f=va.c(a-va.t)),va=va.n;return a}function He(){for(var a,b=Pb,c=Infinity;b;)b.f?b=a?a.n=b.n:Pb=b.n:(b.t<c&&(c=b.t),b=(a=b).n);Qb=a;return c}function dd(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function eh(a){return a+""}function wa(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Ra(a,b,c){function d(b){var c=a(b),d=f(c,1);return b-c<d-b?c:d}function e(c){b(c=
a(new R(c-1)),1);return c}function f(a,c){b(a=new R(+a),c);return a}function g(a,d,f){var a=e(a),h=[];if(1<f)for(;a<d;)c(a)%f||h.push(new Date(+a)),b(a,1);else for(;a<d;)h.push(new Date(+a)),b(a,1);return h}a.floor=a;a.round=d;a.ceil=e;a.offset=f;a.range=g;var h=a.utc=Rb(a);h.floor=h;h.round=Rb(d);h.ceil=Rb(e);h.offset=Rb(f);h.range=function(a,b,c){try{R=wa;var d=new wa;d._=a;return g(d,b,c)}finally{R=Date}};return a}function Rb(a){return function(b,c){try{R=wa;var d=new wa;d._=b;return a(d,c)._}finally{R=
Date}}}function V(a,b,c){var d=0>a?"-":"",a=(d?-a:a)+"",e=a.length;return d+(e<c?Array(c-e+1).join(b)+a:a)}function Sb(a){return RegExp("^(?:"+a.map(i.requote).join("|")+")","i")}function Tb(a){for(var b=new sa,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function fh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function gh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c)))?(a.U=+b[0],c+b[0].length):-1}function hh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c)))?
(a.W=+b[0],c+b[0].length):-1}function ih(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function jh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function kh(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function lh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function Je(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):
-1}function mh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function Ke(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function nh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function oh(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function ph(a,b,c){L.lastIndex=0;return(b=L.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function qh(a){var b=a.getTimezoneOffset(),
a=0<b?"-":"+",c=x(b)/60|0,b=x(b)%60;return a+V(c,"0",2)+V(b,"0",2)}function rh(a,b,c){Le.lastIndex=0;return(a=Le.exec(b.slice(c,c+1)))?c+a[0].length:-1}function sh(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,f=a[c];!f[1](b);)f=a[++c];return f[0](b)}}function ed(){}function Me(a,b,c){var d=c.s=a+b,e=d-a;c.t=a-(d-e)+(b-e)}function Ub(a,b){if(a&&Ne.hasOwnProperty(a.type))Ne[a.type](a,b)}function fd(a,b,c){var d=-1,c=a.length-c,e;for(b.lineStart();++d<c;)e=a[d],
b.point(e[0],e[1],e[2]);b.lineEnd()}function Oe(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)fd(a[c],b,1);b.polygonEnd()}function th(){function a(a,b){var a=a*z,b=b*z/2+C/4,c=a-d,k=0<=c?1:-1,l=k*c,c=Math.cos(b),m=Math.sin(b),n=f*m,i=e*c+n*Math.cos(l),k=n*k*Math.sin(l);Sa.add(Math.atan2(k,i));d=a;e=c;f=m}var b,c,d,e,f;X.point=function(g,h){X.point=a;d=(b=g)*z;e=Math.cos(h=(c=h)*z/2+C/4);f=Math.sin(h)};X.lineEnd=function(){a(b,c)}}function Ta(a){var b=a[0],a=a[1],c=Math.cos(a);return[c*Math.cos(b),
c*Math.sin(b),Math.sin(a)]}function Vb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function gd(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function Wb(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Xb(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function Yb(a){return[Math.atan2(a[1],a[0]),Ga(a[2])]}function Zb(a,b){return x(a[0]-b[0])<t&&x(a[1]-b[1])<t}function hd(a,b){var a=a*z,c=Math.cos(b*=z);
sb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function sb(a,b,c){++tb;xa+=(a-xa)/tb;ya+=(b-ya)/tb;ma+=(c-ma)/tb}function Pe(){function a(a,f){var a=a*z,g=Math.cos(f*=z),h=g*Math.cos(a),g=g*Math.sin(a),j=Math.sin(f),k=Math.atan2(Math.sqrt((k=c*j-d*g)*k+(k=d*h-b*j)*k+(k=b*g-c*h)*k),b*h+c*g+d*j);db+=k;ba+=k*(b+(b=h));ca+=k*(c+(c=g));W+=k*(d+(d=j));sb(b,c,d)}var b,c,d;ia.point=function(e,f){var e=e*z,g=Math.cos(f*=z);b=g*Math.cos(e);c=g*Math.sin(e);d=Math.sin(f);ia.point=a;sb(b,c,d)}}function Qe(){ia.point=
hd}function uh(){function a(a,b){var a=a*z,c=Math.cos(b*=z),k=c*Math.cos(a),c=c*Math.sin(a),l=Math.sin(b),m=e*l-f*c,n=f*k-d*l,i=d*c-e*k,q=Math.sqrt(m*m+n*n+i*i),r=d*k+e*c+f*l,s=q&&-(1<r?0:-1>r?C:Math.acos(r))/q,q=Math.atan2(q,r);Ha+=s*m;Ia+=s*n;na+=s*i;db+=q;ba+=q*(d+(d=k));ca+=q*(e+(e=c));W+=q*(f+(f=l));sb(d,e,f)}var b,c,d,e,f;ia.point=function(g,h){b=g;c=h;ia.point=a;var g=g*z,j=Math.cos(h*=z);d=j*Math.cos(g);e=j*Math.sin(g);f=Math.sin(h);sb(d,e,f)};ia.lineEnd=function(){a(b,c);ia.lineEnd=Qe;ia.point=
hd}}function Re(a,b){function c(c,e){return c=a(c,e),b(c[0],c[1])}a.invert&&b.invert&&(c.invert=function(c,e){return c=b.invert(c,e),c&&a.invert(c[0],c[1])});return c}function eb(){return!0}function Se(a,b,c,d,e){var f=[],g=[];a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,c=a[0],d=a[b];if(Zb(c,d)){e.lineStart();for(d=0;d<b;++d)e.point((c=a[d])[0],c[1]);e.lineEnd()}else b=new $b(c,a,null,!0),c=new $b(c,null,b,!1),b.o=c,f.push(b),g.push(c),b=new $b(d,a,null,!1),c=new $b(d,null,b,!0),b.o=c,f.push(b),
g.push(c)}});g.sort(b);Te(f);Te(g);if(f.length){a=0;b=c;for(c=g.length;a<c;++a)g[a].e=b=!b;for(var b=f[0],h,j;;){for(var k=b,l=!0;k.v;)if((k=k.n)===b)return;h=k.z;e.lineStart();do{k.v=k.o.v=!0;if(k.e){if(l){a=0;for(c=h.length;a<c;++a)e.point((j=h[a])[0],j[1])}else d(k.x,k.n.x,1,e);k=k.n}else{if(l){h=k.p.z;for(a=h.length-1;0<=a;--a)e.point((j=h[a])[0],j[1])}else d(k.x,k.p.x,-1,e);k=k.p}k=k.o;h=k.z;l=!l}while(!k.v);e.lineEnd()}}}function Te(a){if(b=a.length){for(var b,c=0,d=a[0],e;++c<b;)d.n=e=a[c],
e.p=d,d=e;d.n=e=a[0];e.p=d}}function $b(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=!1;this.n=this.p=null}function Ue(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);o.point(c[0],c[1])}function j(){r.point=h;o.lineStart()}function k(){r.point=g;o.lineEnd()}function l(a,b){B.push([a,b]);var c=e(a,b);w.point(c[0],c[1])}function m(){w.lineStart();B=[]}function n(){l(B[0][0],B[0][1]);w.lineEnd();var a=w.clean(),b=u.buffer(),
c=b.length;B.pop();y.push(B);B=null;if(c)if(a&1){var a=b[0],c=a.length-1,b=-1,d;if(0<c){p||(f.polygonStart(),p=!0);for(f.lineStart();++b<c;)f.point((d=a[b])[0],d[1]);f.lineEnd()}}else 1<c&&a&2&&b.push(b.pop().concat(b.shift())),s.push(b.filter(vh))}var o=b(f),q=e.invert(d[0],d[1]),r={point:g,lineStart:j,lineEnd:k,polygonStart:function(){r.point=l;r.lineStart=m;r.lineEnd=n;s=[];y=[]},polygonEnd:function(){r.point=g;r.lineStart=j;r.lineEnd=k;s=i.merge(s);var a,b=q;a=y;var d=b[0],e=b[1],h=[Math.sin(d),
-Math.cos(d),0],l=0,m=0;Sa.reset();for(var n=0,o=a.length;n<o;++n){var u=a[n],w=u.length;if(w)for(var B=u[0],ea=B[0],b=B[1]/2+C/4,oa=Math.sin(b),v=Math.cos(b),z=1;;){z===w&&(z=0);var b=u[z],x=b[0],ub=b[1]/2+C/4,Xe=Math.sin(ub),ub=Math.cos(ub),gb=x-ea,id=0<=gb?1:-1,jd=id*gb,E=jd>C,oa=oa*Xe;Sa.add(Math.atan2(oa*id*Math.sin(jd),v*ub+oa*Math.cos(jd)));l+=E?gb+id*Z:gb;if(E^ea>=d^x>=d&&(B=cb(Ta(B),Ta(b)),Xb(B),ea=cb(h,B),Xb(ea),ea=(E^0<=gb?-1:1)*Ga(ea[2]),e>ea||e===ea&&(B[0]||B[1])))m+=E^0<=gb?1:-1;if(!z++)break;
ea=x;oa=Xe;v=ub;B=b}}a=(l<-t||l<t&&0>Sa)^m&1;s.length?(p||(f.polygonStart(),p=!0),Se(s,wh,a,c,f)):a&&(p||(f.polygonStart(),p=!0),f.lineStart(),c(null,null,1,f),f.lineEnd());p&&(f.polygonEnd(),p=!1);s=y=null},sphere:function(){f.polygonStart();f.lineStart();c(null,null,1,f);f.lineEnd();f.polygonEnd()}},s,u=Ye(),w=b(u),p=!1,y,B;return r}}function vh(a){return 1<a.length}function Ye(){var a=[],b;return{lineStart:function(){a.push(b=[])},point:function(a,d){b.push([a,d])},lineEnd:M,buffer:function(){var c=
a;a=[];b=null;return c},rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))}}}function wh(a,b){return(0>(a=a.x)[0]?a[1]-K-t:K-a[1])-(0>(b=b.x)[0]?b[1]-K-t:K-b[1])}function Ze(a,b,c,d){return function(e){var f=e.a,g=e.b,h=f.x,f=f.y,j=0,k=1,l=g.x-h,g=g.y-f,m;m=a-h;if(l||!(0<m)){m/=l;if(0>l){if(m<j)return;m<k&&(k=m)}else if(0<l){if(m>k)return;m>j&&(j=m)}m=c-h;if(l||!(0>m)){m/=l;if(0>l){if(m>k)return;m>j&&(j=m)}else if(0<l){if(m<j)return;m<k&&(k=m)}m=b-f;if(g||!(0<m)){m/=g;if(0>g){if(m<j)return;
m<k&&(k=m)}else if(0<g){if(m>k)return;m>j&&(j=m)}m=d-f;if(g||!(0>m)){m/=g;if(0>g){if(m>k)return;m>j&&(j=m)}else if(0<g){if(m<j)return;m<k&&(k=m)}0<j&&(e.a={x:h+j*l,y:f+j*g});1>k&&(e.b={x:h+k*l,y:f+k*g});return e}}}}}}function $e(a,b,c,d){function e(d,e){return x(d[0]-a)<t?0<e?0:3:x(d[0]-c)<t?0<e?2:1:x(d[1]-b)<t?0<e?1:0:0<e?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function j(f,
h,j,k){var l=0,m=0;if(null==f||(l=e(f,j))!==(m=e(h,j))||0>g(f,h)^0<j){do k.point(0===l||3===l?a:c,1<l?d:b);while((l=(l+j+4)%4)!==m)}else k.point(h[0],h[1])}function k(e,f){a<=e&&(e<=c&&b<=f&&f<=d)&&h.point(e,f)}function l(e,f){var e=Math.max(-ac,Math.min(ac,e)),f=Math.max(-ac,Math.min(ac,f)),g=a<=e&&e<=c&&b<=f&&f<=d;r&&s.push([e,f]);if(Y)w=e,p=f,y=g,Y=!1,g&&(h.lineStart(),h.point(e,f));else if(g&&A)h.point(e,f);else{var j={a:{x:B,y:D},b:{x:e,y:f}};o(j)?(A||(h.lineStart(),h.point(j.a.x,j.a.y)),h.point(j.b.x,
j.b.y),g||h.lineEnd(),J=!1):g&&(h.lineStart(),h.point(e,f),J=!1)}B=e;D=f;A=g}var m=h,n=Ye(),o=Ze(a,b,c,d),q,r,s,u={point:k,lineStart:function(){u.point=l;r&&r.push(s=[]);Y=!0;A=!1;B=D=NaN},lineEnd:function(){q&&(l(w,p),y&&A&&n.rejoin(),q.push(n.buffer()));u.point=k;A&&h.lineEnd()},polygonStart:function(){h=n;q=[];r=[];J=!0},polygonEnd:function(){h=m;q=i.merge(q);var b;b=[a,d];for(var c=0,e=r.length,g=b[1],k=0;k<e;++k)for(var l=1,n=r[k],p=n.length,o=n[0],u;l<p;++l)u=n[l],o[1]<=g?u[1]>g&&0<Uc(o,u,b)&&
++c:u[1]<=g&&0>Uc(o,u,b)&&--c,o=u;b=0!==c;c=J&&b;e=q.length;if(c||e)h.polygonStart(),c&&(h.lineStart(),j(null,null,1,h),h.lineEnd()),e&&Se(q,f,b,j,h),h.polygonEnd();q=r=s=null}},w,p,y,B,D,A,Y,J;return u}}function kd(a){var b=0,c=C/3,d=ld(a),a=d(b,c);a.parallels=function(a){return!arguments.length?[180*(b/C),180*(c/C)]:d(b=a[0]*C/180,c=a[1]*C/180)};return a}function af(a,b){function c(a,b){var c=Math.sqrt(f-2*e*Math.sin(b))/e;return[c*Math.sin(a*=e),g-c*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/
2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,Ga((f-(a*a+c*c)*e*e)/(2*e))]};return c}function xh(){function a(a,b){bc+=e*a-d*b;d=a;e=b}var b,c,d,e;Ja.point=function(f,g){Ja.point=a;b=d=f;c=e=g};Ja.lineEnd=function(){a(b,c)}}function yh(){function a(a,b){g.push("M",a,",",b,f)}function b(a,b){g.push("M",a,",",b);h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=bf(4.5),g=[],h={point:a,lineStart:function(){h.point=
b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d;h.point=a},pointRadius:function(a){f=bf(a);return h},result:function(){if(g.length){var a=g.join("");g=[];return a}}};return h}function bf(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Ua(a,b){xa+=a;ya+=b;++ma}function cf(){function a(a,e){var f=a-b,g=e-c,f=Math.sqrt(f*f+g*g);ba+=f*(b+a)/2;ca+=f*(c+e)/2;W+=f;Ua(b=a,c=e)}var b,c;ja.point=function(d,e){ja.point=a;Ua(b=d,c=e)}}
function df(){ja.point=Ua}function zh(){function a(a,b){var c=a-d,j=b-e,c=Math.sqrt(c*c+j*j);ba+=c*(d+a)/2;ca+=c*(e+b)/2;W+=c;c=e*a-d*b;Ha+=c*(d+a);Ia+=c*(e+b);na+=3*c;Ua(d=a,e=b)}var b,c,d,e;ja.point=function(f,g){ja.point=a;Ua(b=d=f,c=e=g)};ja.lineEnd=function(){a(b,c)}}function Ah(a){function b(b,c){a.moveTo(b+g,c);a.arc(b,c,g,0,Z)}function c(b,c){a.moveTo(b,c);h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=4.5,h={point:b,lineStart:function(){h.point=
c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e;h.point=b},pointRadius:function(a){g=a;return h},result:M};return h}function ef(a){function b(a){return(h?d:c)(a)}function c(b){return ff(b,function(c,d){c=a(c,d);b.point(c[0],c[1])})}function d(b){function c(d,e){d=a(d,e);b.point(d[0],d[1])}function d(){A=NaN;F.point=f;b.lineStart()}function f(c,d){var g=Ta([c,d]),k=a(c,d);e(A,Y,D,J,S,G,A=k[0],Y=k[1],D=c,J=g[0],S=g[1],G=g[2],h,b);b.point(A,Y)}function g(){F.point=
c;b.lineEnd()}function i(){d();F.point=q;F.lineEnd=r}function q(a,b){f(s=a,b);u=A;w=Y;p=J;y=S;B=G;F.point=f}function r(){e(A,Y,D,J,S,G,u,w,s,p,y,B,h,b);F.lineEnd=g;g()}var s,u,w,p,y,B,D,A,Y,J,S,G,F={point:c,lineStart:d,lineEnd:g,polygonStart:function(){b.polygonStart();F.lineStart=i},polygonEnd:function(){b.polygonEnd();F.lineStart=d}};return F}function e(b,c,d,h,n,i,q,r,s,u,w,p,y,B){var D=q-b,A=r-c,Y=D*D+A*A;if(Y>4*f&&y--){var J=h+u,S=n+w,G=i+p,F=Math.sqrt(J*J+S*S+G*G),fb=Math.asin(G/=F),v=x(x(G)-
1)<t||x(d-s)<t?(d+s)/2:Math.atan2(S,J),da=a(v,fb),fb=da[0],da=da[1],Ve=fb-b,We=da-c,ea=A*Ve-D*We;if(ea*ea/Y>f||0.3<x((D*Ve+A*We)/Y-0.5)||h*u+n*w+i*p<g)e(b,c,d,h,n,i,fb,da,v,J/=F,S/=F,G,y,B),B.point(fb,da),e(fb,da,v,J,S,G,q,r,s,u,w,p,y,B)}}var f=0.5,g=Math.cos(30*z),h=16;b.precision=function(a){if(!arguments.length)return Math.sqrt(f);h=0<(f=a*a)&&16;return b};return b}function gf(a){this.stream=a}function ff(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},
polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function Ka(a){return ld(function(){return a})()}function ld(a){function b(a){a=h(a[0]*z,a[1]*z);return[a[0]*k+u,w-a[1]*k]}function c(a){return(a=h.invert((a[0]-u)/k,(w-a[1])/k))&&[a[0]*I,a[1]*I]}function d(){h=Re(g=md(q,r,s),f);var a=f(n,o);u=l-a[0]*k;w=m+a[1]*k;return e()}function e(){A&&(A.valid=!1,A=null);return b}var f,g,h,j=ef(function(a,b){a=f(a,b);return[a[0]*k+u,w-a[1]*k]}),k=150,l=480,m=250,n=0,o=0,q=0,r=0,
s=0,u,w,p=hf,y=P,B=null,D=null,A;b.stream=function(a){A&&(A.valid=!1);A=jf(p(g,j(y(a))));A.valid=!0;return A};b.clipAngle=function(a){if(!arguments.length)return B;var b;if(null==a)b=(B=a,hf);else{var c=(B=+a)*z,d=function(a,b){return Math.cos(a)*Math.cos(b)>g},f=function(a,b,c){var d=Ta(a),e=Ta(b),f=[1,0,0],e=cb(d,e),h=Vb(e,e),d=e[0],j=h-d*d;if(!j)return!c&&a;h=g*h/j;j=-g*d/j;d=cb(f,e);f=Wb(f,h);e=Wb(e,j);gd(f,e);e=Vb(f,d);h=Vb(d,d);j=e*e-h*(Vb(f,f)-1);if(!(0>j)){var k=Math.sqrt(j),j=Wb(d,(-e-k)/
h);gd(j,f);j=Yb(j);if(!c)return j;var c=a[0],l=b[0],a=a[1],b=b[1],m;l<c&&(m=c,c=l,l=m);var n=l-c,i=x(n-C)<t,p=i||n<t;!i&&b<a&&(m=a,a=b,b=m);if(p?i?0<a+b^j[1]<(x(j[0]-c)<t?a:b):a<=j[1]&&j[1]<=b:n>C^(c<=j[0]&&j[0]<=l))return b=Wb(d,(-e+k)/h),gd(b,f),[j,Yb(b)]}},h=function(a,b){var d=j?c:C-c,e=0;a<-d?e|=1:a>d&&(e|=2);b<-d?e|=4:b>d&&(e|=8);return e},g=Math.cos(c),j=0<g,k=x(g)>t;b=nd(c,6*z);b=Ue(d,function(a){var b,c,e,g,l;return{lineStart:function(){g=e=!1;l=1},point:function(m,n){var i=[m,n],p,s=d(m,
n),r=j?s?0:h(m,n):s?h(m+(0>m?C:-C),n):0;!b&&(g=e=s)&&a.lineStart();if(s!==e&&(p=f(b,i),Zb(b,p)||Zb(i,p)))i[0]+=t,i[1]+=t,s=d(i[0],i[1]);if(s!==e)l=0,s?(a.lineStart(),p=f(i,b),a.point(p[0],p[1])):(p=f(b,i),a.point(p[0],p[1]),a.lineEnd()),b=p;else if(k&&b&&j^s){var o;if(!(r&c)&&(o=f(i,b,!0)))l=0,j?(a.lineStart(),a.point(o[0][0],o[0][1]),a.point(o[1][0],o[1][1]),a.lineEnd()):(a.point(o[1][0],o[1][1]),a.lineEnd(),a.lineStart(),a.point(o[0][0],o[0][1]))}s&&(!b||!Zb(b,i))&&a.point(i[0],i[1]);b=i;e=s;c=
r},lineEnd:function(){e&&a.lineEnd();b=null},clean:function(){return l|(g&&e)<<1}}},b,j?[0,-c]:[-C,c-C])}p=b;return e()};b.clipExtent=function(a){if(!arguments.length)return D;y=(D=a)?$e(a[0][0],a[0][1],a[1][0],a[1][1]):P;return e()};b.scale=function(a){if(!arguments.length)return k;k=+a;return d()};b.translate=function(a){if(!arguments.length)return[l,m];l=+a[0];m=+a[1];return d()};b.center=function(a){if(!arguments.length)return[n*I,o*I];n=a[0]%360*z;o=a[1]%360*z;return d()};b.rotate=function(a){if(!arguments.length)return[q*
I,r*I,s*I];q=a[0]%360*z;r=a[1]%360*z;s=2<a.length?a[2]%360*z:0;return d()};i.rebind(b,j,"precision");return function(){f=a.apply(this,arguments);b.invert=f.invert&&c;return d()}}function jf(a){return ff(a,function(b,c){a.point(b*z,c*z)})}function vb(a,b){return[a,b]}function kf(a,b){return[a>C?a-Z:a<-C?a+Z:a,b]}function md(a,b,c){return a?b||c?Re(lf(a),mf(b,c)):lf(a):b||c?mf(b,c):kf}function nf(a){return function(b,c){return b+=a,[b>C?b-Z:b<-C?b+Z:b,c]}}function lf(a){var b=nf(a);b.invert=nf(-a);
return b}function mf(a,b){function c(a,b){var c=Math.cos(b),l=Math.cos(a)*c,c=Math.sin(a)*c,m=Math.sin(b),i=m*d+l*e;return[Math.atan2(c*f-i*g,l*d-m*e),Ga(i*f+c*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);c.invert=function(a,b){var c=Math.cos(b),l=Math.cos(a)*c,c=Math.sin(a)*c,m=Math.sin(b),i=m*f-c*g;return[Math.atan2(c*f+m*g,l*d+i*e),Ga(i*d-l*e)]};return c}function nd(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var j=g*b;if(null!=e){if(e=of(c,e),f=of(c,f),0<g?
e<f:e>f)e+=g*Z}else e=a+g*Z,f=a-0.5*j;for(var k;0<g?e>f:e<f;e-=j)h.point((k=Yb([c,-d*Math.cos(e),-d*Math.sin(e)]))[0],k[1])}}function of(a,b){var c=Ta(b);c[0]-=a;Xb(c);var d=1<-c[1]?0:-1>-c[1]?C:Math.acos(-c[1]);return((0>-c[2]?-d:d)+2*Math.PI-t)%(2*Math.PI)}function pf(a,b,c){var d=i.range(a,b-t,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function qf(a,b,c){var d=i.range(a,b-t,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function od(a){return a.source}
function pd(a){return a.target}function wb(a,b){function c(b,c){var f=Math.cos(b),g=Math.cos(c),f=a(f*g);return[f*g*Math.sin(b),f*Math.sin(c)]}c.invert=function(a,c){var f=Math.sqrt(a*a+c*c),g=b(f),h=Math.sin(g),g=Math.cos(g);return[Math.atan2(a*h,f*g),Math.asin(f&&c*h/f)]};return c}function rf(a,b){function c(a,b){0<f?b<-K+t&&(b=-K+t):b>K-t&&(b=K-t);var c=f/Math.pow(Math.tan(C/4+b/2),e);return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(Math.tan(C/
4+b/2)/Math.tan(C/4+a/2)),f=d*Math.pow(Math.tan(C/4+a/2),e)/e;if(!e)return cc;c.invert=function(a,b){var c=f-b,d=(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/d,1/e))-K]};return c}function sf(a,b){function c(a,b){var c=f-b;return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;if(x(e)<t)return vb;c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c)]};return c}function cc(a,
b){return[a,Math.log(Math.tan(C/4+b/2))]}function tf(a){var b=Ka(a),c=b.scale,d=b.translate,e=b.clipExtent,f;b.scale=function(){var a=c.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.translate=function(){var a=d.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.clipExtent=function(a){var h=e.apply(b,arguments);if(h===b){if(f=null==a){var j=C*c(),k=d();e([[k[0]-j,k[1]-j],[k[0]+j,k[1]+j]])}}else f&&(h=null);return h};return b.clipExtent(null)}function qd(a,b){return[Math.log(Math.tan(C/
4+b/2)),-a]}function hb(a){return a[0]}function xb(a){return a[1]}function uf(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;1<d&&0>=Uc(a[c[d-2]],a[c[d-1]],a[e]);)--d;c[d++]=e}return c.slice(0,d)}function Bh(a,b){return a[0]-b[0]||a[1]-b[1]}function rd(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function sd(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,a=a[1],c=c[1],b=b[1]-a,d=d[1]-c,f=(h*(a-c)-d*(e-f))/(d*g-h*b);return[e+f*g,a+f*b]}function vf(a){var b=a[0],a=a[a.length-1];return!(b[0]-
a[0]||b[1]-a[1])}function Ch(){dc(this);this.edge=this.site=this.circle=null}function wf(a){var b=xf.pop()||new Ch;b.site=a;return b}function td(a){ib(a);jb.remove(a);xf.push(a);dc(a)}function yf(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-Infinity;var c=g.site,g=c.x,c=c.y,h=c-b;if(!h)return g;var j=g-d,k=1/f-1/h,l=j/h;return k?(-l+Math.sqrt(l*l-2*k*(j*j/(-2*h)-c+h/2+e-f/2)))/k+d:(d+g)/2}function zf(a){this.site=a;this.edges=[]}function Af(a,b){return b.angle-a.angle}
function Dh(){dc(this);this.x=this.y=this.arc=this.site=this.cy=null}function kb(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,b=a.site,e=c.site;if(d!==e){var c=b.x,f=b.y,g=d.x-c,h=d.y-f,d=e.x-c,e=e.y-f,j=2*(g*e-h*d);if(!(j>=-ud)){var k=g*g+h*h,l=d*d+e*e,h=(e*k-h*l)/j,g=(g*l-d*k)/j,e=g+f,f=Bf.pop()||new Dh;f.arc=a;f.site=b;f.x=h+c;f.y=e+Math.sqrt(h*h+g*g);f.cy=e;a.circle=f;a=null;for(b=yb._;b;)if(f.y<b.y||f.y===b.y&&f.x<=b.x)if(b.L)b=b.L;else{a=b.P;break}else if(b.R)b=b.R;else{a=b;break}yb.insert(a,f);
a||(vd=f)}}}}function ib(a){var b=a.circle;b&&(b.P||(vd=b.N),yb.remove(b),Bf.push(b),dc(b),a.circle=null)}function Eh(a,b){var c=a.b;if(c)return!0;var d=a.a,c=b[0][0],e=b[1][0],f=b[0][1],g=b[1][1],h=a.l,j=a.r,k=h.x,h=h.y,l=j.x,j=j.y,m=(k+l)/2,i;if(j===h){if(m<c||m>=e)return;if(k>l){if(d){if(d.y>=g)return}else d={x:m,y:f};c={x:m,y:g}}else{if(d){if(d.y<f)return}else d={x:m,y:g};c={x:m,y:f}}}else if(i=(k-l)/(j-h),m=(h+j)/2-i*m,-1>i||1<i)if(k>l){if(d){if(d.y>=g)return}else d={x:(f-m)/i,y:f};c={x:(g-m)/
i,y:g}}else{if(d){if(d.y<f)return}else d={x:(g-m)/i,y:g};c={x:(f-m)/i,y:f}}else if(h<j){if(d){if(d.x>=e)return}else d={x:c,y:i*c+m};c={x:e,y:i*e+m}}else{if(d){if(d.x<c)return}else d={x:e,y:i*e+m};c={x:c,y:i*c+m}}a.a=d;a.b=c;return!0}function Cf(a,b){this.l=a;this.r=b;this.a=this.b=null}function zb(a,b,c,d){var e=new Cf(a,b);lb.push(e);c&&ec(e,a,b,c);d&&ec(e,b,a,d);Va[a.i].edges.push(new fc(e,a,b));Va[b.i].edges.push(new fc(e,b,a));return e}function Fh(a,b,c){a=new Cf(a,null);a.a=b;a.b=c;lb.push(a);
return a}function ec(a,b,c,d){!a.a&&!a.b?(a.a=d,a.l=b,a.r=c):a.l===c?a.b=d:a.a=d}function fc(a,b,c){var d=a.a,e=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function wd(){this._=null}function dc(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Ab(a,b){var c=b.R,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function Bb(a,b){var c=b.L,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.L=c.R;b.L&&
(b.L.U=b);c.R=b}function Df(a){for(;a.L;)a=a.L;return a}function xd(a,b){var c=a.sort(Gh).pop(),d,e,f;lb=[];Va=Array(a.length);jb=new wd;for(yb=new wd;;)if(f=vd,c&&(!f||c.y<f.y||c.y===f.y&&c.x<f.x)){if(c.x!==d||c.y!==e){Va[c.i]=new zf(c);d=c;for(var g=d.x,h=d.y,j=f=e=void 0,k=void 0,l=jb._;l;)if(j=yf(l,h)-g,j>t)l=l.L;else{var k=g,m;var i=l;m=h;var o=i.N;o?m=yf(o,m):(i=i.site,m=i.y===m?i.x:Infinity);k-=m;if(k>t){if(!l.R){e=l;break}l=l.R}else{j>-t?(e=l.P,f=l):k>-t?(e=l,f=l.N):e=f=l;break}}g=wf(d);jb.insert(e,
g);if(e||f)if(e===f)ib(e),f=wf(e.site),jb.insert(g,f),g.edge=f.edge=zb(e.site,g.site),kb(e),kb(f);else if(f){ib(e);ib(f);h=e.site;l=h.x;k=h.y;m=d.x-l;var i=d.y-k,j=f.site,o=j.x-l,q=j.y-k,r=2*(m*q-i*o),s=m*m+i*i,u=o*o+q*q,l={x:(q*s-i*u)/r+l,y:(m*u-o*s)/r+k};ec(f.edge,h,j,l);g.edge=zb(h,d,null,l);f.edge=zb(d,j,null,l);kb(e);kb(f)}else g.edge=zb(e.site,g.site);d=c.x;e=c.y}c=a.pop()}else if(f){j=f.arc;f=j.circle;h=f.x;l=f.cy;f={x:h,y:l};m=j.P;k=j.N;g=[j];td(j);for(j=m;j.circle&&x(h-j.circle.x)<t&&x(l-
j.circle.cy)<t;)m=j.P,g.unshift(j),td(j),j=m;g.unshift(j);ib(j);for(m=k;m.circle&&x(h-m.circle.x)<t&&x(l-m.circle.cy)<t;)k=m.N,g.push(m),td(m),m=k;g.push(m);ib(m);h=g.length;l=void 0;for(l=1;l<h;++l)m=g[l],j=g[l-1],ec(m.edge,j.site,m.site,f);j=g[0];m=g[h-1];m.edge=zb(j.site,m.site,null,f);kb(j);kb(m)}else break;if(b){c=lb;d=Ze(b[0][0],b[0][1],b[1][0],b[1][1]);for(e=c.length;e--;)if(f=c[e],!Eh(f,b)||!d(f)||x(f.a.x-f.b.x)<t&&x(f.a.y-f.b.y)<t)f.a=f.b=null,c.splice(e,1);c=b[0][0];d=b[1][0];e=b[0][1];
f=b[1][1];l=Va;for(k=l.length;k--;)if((m=l[k])&&m.prepare()){o=m.edges;q=o.length;for(i=0;i<q;)if(r=o[i].end(),h=r.x,j=r.y,s=o[++i%q].start(),g=s.x,s=s.y,x(h-g)>t||x(j-s)>t)o.splice(i,0,new fc(Fh(m.site,r,x(h-c)<t&&f-j>t?{x:c,y:x(g-c)<t?s:f}:x(j-f)<t&&d-h>t?{x:x(s-f)<t?g:d,y:f}:x(h-d)<t&&j-e>t?{x:d,y:x(g-d)<t?s:e}:x(j-e)<t&&h-c>t?{x:x(s-e)<t?g:c,y:e}:null),m.site,null)),++q}}c={cells:Va,edges:lb};jb=yb=lb=Va=null;return c}function Gh(a,b){return b.y-a.y||b.x-a.x}function Hh(a){return a.x}function Ih(a){return a.y}
function Ef(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Cb(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=0.5*(c+e),h=0.5*(d+f),b=b.nodes;b[0]&&Cb(a,b[0],c,d,g,h);b[1]&&Cb(a,b[1],g,d,e,h);b[2]&&Cb(a,b[2],c,h,g,f);b[3]&&Cb(a,b[3],g,h,e,f)}}function yd(a,b){var a=i.rgb(a),b=i.rgb(b),c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+bb(Math.round(c+f*a))+bb(Math.round(d+g*a))+bb(Math.round(e+h*a))}}function Ff(a,b){var c={},d={},e;for(e in a)e in b?c[e]=Wa(a[e],b[e]):d[e]=
a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}}function za(a,b){a=+a;b=+b;return function(c){return a*(1-c)+b*c}}function Gf(a,b){for(var c=zd.lastIndex=Ad.lastIndex=0,d,e,f,g=-1,h=[],j=[],a=a+"",b=b+"";(d=zd.exec(a))&&(e=Ad.exec(b));){if((f=e.index)>c)f=b.slice(c,f),h[g]?h[g]+=f:h[++g]=f;(d=d[0])===(e=e[0])?h[g]?h[g]+=e:h[++g]=e:(h[++g]=null,j.push({i:g,x:za(d,e)}));c=Ad.lastIndex}c<b.length&&(f=b.slice(c),h[g]?h[g]+=f:h[++g]=f);return 2>h.length?j[0]?(b=
j[0].x,function(a){return b(a)+""}):function(){return b}:(b=j.length,function(a){for(var c=0,d;c<b;++c)h[(d=j[c]).i]=d.x(a);return h.join("")})}function Wa(a,b){for(var c=i.interpolators.length,d;0<=--c&&!(d=i.interpolators[c](a,b)););return d}function gc(a,b){var c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,b.length),h;for(h=0;h<g;++h)c.push(Wa(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}}function Hf(a){return function(b){return 1-
a(1-b)}}function If(a){return function(b){return 0.5*(0.5>b?a(2*b):2-a(2-2*b))}}function Jh(a){return a*a}function Kh(a){return a*a*a}function Lh(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,c=b*a;return 4*(0.5>a?c:3*(a-b)+c-0.75)}function Mh(a){return 1-Math.cos(a*K)}function Nh(a){return Math.pow(2,10*(a-1))}function Oh(a){return 1-Math.sqrt(1-a*a)}function Ph(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+
0.984375}function Jf(a,b){b-=a;return function(c){return Math.round(a+b*c)}}function Kf(a){var b=[a.a,a.b],c=[a.c,a.d],d=Lf(b),e=b[0]*c[0]+b[1]*c[1],f=-e;c[0]+=f*b[0];c[1]+=f*b[1];f=Lf(c)||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*I;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,f)*I:0}function Lf(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);b&&(a[0]/=b,a[1]/=b);return b}function Mf(a,b){var c=[],d=[],e,f=i.transform(a),
g=i.transform(b),h=f.translate,j=g.translate,k=f.rotate,l=g.rotate,m=f.skew,n=g.skew,f=f.scale,g=g.scale;h[0]!=j[0]||h[1]!=j[1]?(c.push("translate(",null,",",null,")"),d.push({i:1,x:za(h[0],j[0])},{i:3,x:za(h[1],j[1])})):j[0]||j[1]?c.push("translate("+j+")"):c.push("");k!=l?(180<k-l?l+=360:180<l-k&&(k+=360),d.push({i:c.push(c.pop()+"rotate(",null,")")-2,x:za(k,l)})):l&&c.push(c.pop()+"rotate("+l+")");m!=n?d.push({i:c.push(c.pop()+"skewX(",null,")")-2,x:za(m,n)}):n&&c.push(c.pop()+"skewX("+n+")");
f[0]!=g[0]||f[1]!=g[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),d.push({i:e-4,x:za(f[0],g[0])},{i:e-2,x:za(f[1],g[1])})):(1!=g[0]||1!=g[1])&&c.push(c.pop()+"scale("+g+")");e=d.length;return function(a){for(var b=-1,f;++b<e;)c[(f=d[b]).i]=f.x(a);return c.join("")}}function Qh(a,b){b=(b-=a=+a)||1/b;return function(c){return(c-a)/b}}function Rh(a,b){b=(b-=a=+a)||1/b;return function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Sh(a){var b=a.source,a=a.target,c;var d=a;if(b===d)c=b;else{c=
Nf(b);for(var d=Nf(d),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();c=g}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;return d}function Nf(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;b.push(a);return b}function Th(a){a.fixed|=2}function Uh(a){a.fixed&=-7}function Vh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function Wh(a){a.fixed&=-5}function Of(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf)for(var f=a.nodes,g=f.length,h=-1,j;++h<g;)j=f[h],null!=
j&&(Of(j,b,c),a.charge+=j.charge,d+=j.charge*j.cx,e+=j.charge*j.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=Math.random()-0.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,d+=b*a.point.x,e+=b*a.point.y);a.cx=d/a.charge;a.cy=e/a.charge}function Db(a,b){i.rebind(a,b,"sort","children","value");a.nodes=a;a.links=Xh;return a}function Eb(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;0<=--d;)c.push(e[d])}function pa(a,b){for(var c=[a],d=[];null!=
(a=c.pop());)if(d.push(a),(g=a.children)&&(f=g.length))for(var e=-1,f,g;++e<f;)c.push(g[e]);for(;null!=(a=d.pop());)b(a)}function Yh(a){return a.children}function Zh(a){return a.value}function $h(a,b){return b.value-a.value}function Xh(a){return i.merge(a.map(function(a){return(a.children||[]).map(function(c){return{source:a,target:c}})}))}function ai(a){return a.x}function bi(a){return a.y}function ci(a,b,c){a.y0=b;a.y=c}function Bd(a){return i.range(a.length)}function Cd(a){for(var b=-1,a=a[0].length,
c=[];++b<a;)c[b]=0;return c}function di(a){for(var b=1,c=0,d=a[0][1],e,f=a.length;b<f;++b)if((e=a[b][1])>d)c=b,d=e;return c}function ei(a){return a.reduce(fi,0)}function fi(a,b){return a+b[1]}function gi(a,b){return Pf(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Pf(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function hi(a){return[i.min(a),i.max(a)]}function ii(a,b){return a.value-b.value}function Dd(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=
c;c._pack_prev=b}function Qf(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return 0.999*e*e>c*c+d*d}function Rf(a){function b(a){d=Math.min(a.x-a.r,d);e=Math.max(a.x+a.r,e);f=Math.min(a.y-a.r,f);g=Math.max(a.y+a.r,g)}if((c=a.children)&&(o=c.length)){var c,d=Infinity,e=-Infinity,f=Infinity,g=-Infinity,h,j,k,l,i,n,o;c.forEach(ji);h=c[0];h.x=-h.r;h.y=0;b(h);if(1<o&&(j=c[1],j.x=j.r,j.y=0,b(j),2<o)){k=c[2];Sf(h,j,k);b(k);Dd(h,k);h._pack_prev=k;Dd(k,j);j=h._pack_next;for(l=3;l<o;l++){Sf(h,j,k=c[l]);var q=0,r=
1,s=1;for(i=j._pack_next;i!==j;i=i._pack_next,r++)if(Qf(i,k)){q=1;break}if(1==q)for(n=h._pack_prev;n!==i._pack_prev&&!Qf(n,k);n=n._pack_prev,s++);q?(r<s||r==s&&j.r<h.r?(k=h,i=j=i):(k=h=n,i=j),k._pack_next=i,i._pack_prev=k,l--):(Dd(h,k),j=k,b(k))}}h=(d+e)/2;j=(f+g)/2;for(l=n=0;l<o;l++)k=c[l],k.x-=h,k.y-=j,n=Math.max(n,k.r+Math.sqrt(k.x*k.x+k.y*k.y));a.r=n;c.forEach(ki)}}function ji(a){a._pack_next=a._pack_prev=a}function ki(a){delete a._pack_next;delete a._pack_prev}function Tf(a,b,c,d){var e=a.children;
a.x=b+=d*a.x;a.y=c+=d*a.y;a.r*=d;if(e)for(var a=-1,f=e.length;++a<f;)Tf(e[a],b,c,d)}function Sf(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f,g=g*g,d=d*d,b=0.5+(d-g)/(2*h),g=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+b*e+g*f;c.y=a.y+b*f-g*e}else c.x=a.x+d,c.y=a.y}function Uf(a,b){return a.parent==b.parent?1:2}function Ed(a){var b=a.children;return b.length?b[0]:a.t}function Fd(a){var b=a.children,c;return(c=b.length)?b[c-1]:a.t}function Vf(a){var b=
a.children;return b&&b.length?Vf(b[0]):a}function Wf(a){var b=a.children,c;return b&&(c=b.length)?Wf(b[c-1]):a}function Gd(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Xf(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];0>e&&(c+=e/2,e=0);0>f&&(d+=f/2,f=0);return{x:c,y:d,dx:e,dy:f}}function mb(a){var b=a[0],a=a[a.length-1];return b<a?[b,a]:[a,b]}function hc(a){return a.rangeExtent?a.rangeExtent():mb(a.range())}function li(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}
function ic(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;f<e&&(g=c,c=d,d=g,g=e,e=f,f=g);a[c]=b.floor(e);a[d]=b.ceil(f);return a}function Yf(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:mi}function ni(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=i.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function Zf(a,
b,c,d){function e(){var e=2<Math.min(a.length,b.length)?ni:li,k=d?Rh:Qh;g=e(a,b,k,c);h=e(b,a,k,Wa);return f}function f(a){return g(a)}var g,h;f.invert=function(a){return h(a)};f.domain=function(b){if(!arguments.length)return a;a=b.map(Number);return e()};f.range=function(a){if(!arguments.length)return b;b=a;return e()};f.rangeRound=function(a){return f.range(a).interpolate(Jf)};f.clamp=function(a){if(!arguments.length)return d;d=a;return e()};f.interpolate=function(a){if(!arguments.length)return c;
c=a;return e()};f.ticks=function(b){return i.range.apply(i,La(a,b))};f.tickFormat=function(b,c){return Hd(a,b,c)};f.nice=function(b){ic(a,Yf(La(a,b)[2]));return e()};f.copy=function(){return Zf(a,b,c,d)};return e()}function Id(a,b){return i.rebind(a,b,"range","rangeRound","interpolate","clamp")}function La(a,b){null==b&&(b=10);var c=mb(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),d=b/d*e;0.15>=d?e*=10:0.35>=d?e*=5:0.75>=d&&(e*=2);c[0]=Math.ceil(c[0]/e)*e;c[1]=Math.floor(c[1]/
e)*e+0.5*e;c[2]=e;return c}function Hd(a,b,c){b=La(a,b);if(c){a=$f.exec(c);a.shift();if("s"===a[8]){var d=i.formatPrefix(Math.max(x(b[0]),x(b[1])));a[7]||(a[7]="."+jc(d.scale(b[2])));a[8]="f";c=i.format(a.join(""));return function(a){return c(d.scale(a))+d.symbol}}if(!a[7]){var e=a[8],f=jc(b[2]),b=e in oi?Math.abs(f-jc(Math.max(x(b[0]),x(b[1]))))+ +("e"!==e):f-2*("%"===e);a[7]="."+b}c=a.join("")}else c=",."+jc(b[2])+"f";return i.format(c)}function jc(a){return-Math.floor(Math.log(a)/Math.LN10+0.01)}
function ag(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}g.invert=function(b){return f(a.invert(b))};g.domain=function(b){if(!arguments.length)return d;c=0<=b[0];a.domain((d=b.map(Number)).map(e));return g};g.base=function(c){if(!arguments.length)return b;b=+c;a.domain(d.map(e));return g};g.nice=function(){var b=ic(d.map(e),c?Math:pi);a.domain(b);d=b.map(f);return g};g.ticks=function(){var a=
mb(d),g=[],k=a[0],a=a[1],l=Math.floor(e(k)),i=Math.ceil(e(a)),n=b%1?2:b;if(isFinite(i-l)){if(c){for(;l<i;l++)for(var o=1;o<n;o++)g.push(f(l)*o);g.push(f(l))}else for(g.push(f(l));l++<i;)for(o=n-1;0<o;o--)g.push(f(l)*o);for(l=0;g[l]<k;l++);for(i=g.length;g[i-1]>a;i--);g=g.slice(l,i)}return g};g.tickFormat=function(a,b){if(!arguments.length)return bg;2>arguments.length?b=bg:"function"!==typeof b&&(b=i.format(b));var d=Math.max(0.1,a/g.ticks().length),l=c?(m=1E-12,Math.ceil):(m=-1E-12,Math.floor),m;
return function(a){return a/f(l(e(a)+m))<=d?b(a):""}};g.copy=function(){return ag(a.copy(),b,c,d)};return Id(g,a)}function cg(a,b,c){function d(b){return a(e(b))}var e=kc(b),f=kc(1/b);d.invert=function(b){return f(a.invert(b))};d.domain=function(b){if(!arguments.length)return c;a.domain((c=b.map(Number)).map(e));return d};d.ticks=function(a){return i.range.apply(i,La(c,a))};d.tickFormat=function(a,b){return Hd(c,a,b)};d.nice=function(a){return d.domain(ic(c,Yf(La(c,a)[2])))};d.exponent=function(g){if(!arguments.length)return b;
e=kc(b=g);f=kc(1/b);a.domain(c.map(e));return d};d.copy=function(){return cg(a.copy(),b,c)};return Id(d,a)}function kc(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function dg(a,b){function c(c){return f[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):NaN))-1)%f.length]}function d(b,c){return i.range(a.length).map(function(a){return b+c*a})}var e,f,g;c.domain=function(d){if(!arguments.length)return a;a=[];e=new sa;for(var f=-1,g=d.length,l;++f<g;)e.has(l=d[f])||e.set(l,a.push(l));
return c[b.t].apply(c,b.a)};c.range=function(a){if(!arguments.length)return f;f=a;g=0;b={t:"range",a:arguments};return c};c.rangePoints=function(e,j){2>arguments.length&&(j=0);var k=e[0],l=e[1],l=2>a.length?(k=(k+l)/2,0):(l-k)/(a.length-1+j);f=d(k+l*j/2,l);g=0;b={t:"rangePoints",a:arguments};return c};c.rangeRoundPoints=function(e,j){2>arguments.length&&(j=0);var k=e[0],l=e[1],i=2>a.length?(k=l=Math.round((k+l)/2),0):(l-k)/(a.length-1+j)|0;f=d(k+Math.round(i*j/2+(l-k-(a.length-1+j)*i)/2),i);g=0;b=
{t:"rangeRoundPoints",a:arguments};return c};c.rangeBands=function(e,j,k){2>arguments.length&&(j=0);3>arguments.length&&(k=j);var l=e[1]<e[0],i=e[l-0],n=(e[1-l]-i)/(a.length-j+2*k);f=d(i+n*k,n);l&&f.reverse();g=n*(1-j);b={t:"rangeBands",a:arguments};return c};c.rangeRoundBands=function(e,j,k){2>arguments.length&&(j=0);3>arguments.length&&(k=j);var l=e[1]<e[0],i=e[l-0],n=e[1-l],o=Math.floor((n-i)/(a.length-j+2*k));f=d(i+Math.round((n-i-(a.length-j)*o)/2),o);l&&f.reverse();g=Math.round(o*(1-j));b={t:"rangeRoundBands",
a:arguments};return c};c.rangeBand=function(){return g};c.rangeExtent=function(){return mb(b.a[0])};c.copy=function(){return dg(a,b)};return c.domain(a)}function eg(a,b){function c(){var c=0,g=b.length;for(e=[];++c<g;)e[c-1]=i.quantile(a,c/g);return d}function d(a){if(!isNaN(a=+a))return b[i.bisect(e,a)]}var e;d.domain=function(b){if(!arguments.length)return a;a=b.map(Oa).filter(ra).sort(ab);return c()};d.range=function(a){if(!arguments.length)return b;b=a;return c()};d.quantiles=function(){return e};
d.invertExtent=function(c){c=b.indexOf(c);return 0>c?[NaN,NaN]:[0<c?e[c-1]:a[0],c<e.length?e[c]:a[a.length-1]]};d.copy=function(){return eg(a,b)};return c()}function fg(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){f=c.length/(b-a);g=c.length-1;return d}var f,g;d.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];b=+c[c.length-1];return e()};d.range=function(a){if(!arguments.length)return c;c=a;return e()};d.invertExtent=function(b){b=c.indexOf(b);
b=0>b?NaN:b/f+a;return[b,b+1/f]};d.copy=function(){return fg(a,b,c)};return e()}function gg(a,b){function c(c){if(c<=c)return b[i.bisect(a,c)]}c.domain=function(b){if(!arguments.length)return a;a=b;return c};c.range=function(a){if(!arguments.length)return b;b=a;return c};c.invertExtent=function(c){c=b.indexOf(c);return[a[c-1],a[c]]};c.copy=function(){return gg(a,b)};return c}function hg(a){function b(a){return+a}b.invert=b;b.domain=b.range=function(c){if(!arguments.length)return a;a=c.map(b);return b};
b.ticks=function(b){return i.range.apply(i,La(a,b))};b.tickFormat=function(b,d){return Hd(a,b,d)};b.copy=function(){return hg(a)};return b}function qi(){return 0}function ri(a){return a.innerRadius}function si(a){return a.outerRadius}function ig(a){return a.startAngle}function jg(a){return a.endAngle}function ti(a){return a&&a.padAngle}function lc(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],e=(e?d:-d)/Math.sqrt(f*f+g*g),g=e*g,f=-e*f,h=a[0]+g,j=a[1]+f,k=b[0]+g,l=b[1]+f,a=(h+k)/2,b=(j+l)/2,e=k-h,i=l-j,n=
e*e+i*i,d=c-d,l=h*l-k*j,o=(0>i?-1:1)*Math.sqrt(d*d*n-l*l),h=(l*i-e*o)/n,j=(-l*e-i*o)/n,k=(l*i+e*o)/n,e=(-l*e+i*o)/n,i=h-a,n=j-b,a=k-a,b=e-b;i*i+n*n>a*a+b*b&&(h=k,j=e);return[[h-g,j-f],[h*c/d,j*c/d]]}function kg(a){function b(b){function g(){l.push("M",f(a(i),h))}for(var l=[],i=[],n=-1,o=b.length,q,r=H(c),s=H(d);++n<o;)e.call(this,q=b[n],n)?i.push([+r.call(this,q,n),+s.call(this,q,n)]):i.length&&(g(),i=[]);i.length&&g();return l.length?l.join(""):null}var c=hb,d=xb,e=eb,f=$,g=f.key,h=0.7;b.x=function(a){if(!arguments.length)return c;
c=a;return b};b.y=function(a){if(!arguments.length)return d;d=a;return b};b.defined=function(a){if(!arguments.length)return e;e=a;return b};b.interpolate=function(a){if(!arguments.length)return g;g="function"===typeof a?f=a:(f=Jd.get(a)||$).key;return b};b.tension=function(a){if(!arguments.length)return h;h=a;return b};return b}function $(a){return a.join("L")}function Kd(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Ld(a){for(var b=
0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function mc(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return $(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,j=1;c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],j=2);if(1<b.length){h=b[1];f=a[j];j++;d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(e=2;e<b.length;e++,j++)f=a[j],h=b[e],d+="S"+(f[0]-h[0])+","+(f[1]-
h[1])+","+f[0]+","+f[1]}c&&(c=a[j],d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+c[0]+","+c[1]);return d}function Md(a,b){for(var c=[],d=(1-b)/2,e,f=a[0],g=a[1],h=1,j=a.length;++h<j;)e=f,f=g,g=a[h],c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);return c}function lg(a){if(3>a.length)return $(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],e=[e,",",f,"L",fa(Ma,g),",",fa(Ma,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Nd(e,g,h);a.pop();e.push("L",
d);return e.join("")}function fa(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Nd(a,b,c){a.push("C",fa(mg,b),",",fa(mg,c),",",fa(ng,b),",",fa(ng,c),",",fa(Ma,b),",",fa(Ma,c))}function Od(a,b){return(b[1]-a[1])/(b[0]-a[0])}function og(a){for(var b,c=-1,d=a.length,e,f;++c<d;)b=a[c],e=b[0],f=b[1]-K,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);return a}function pg(a){function b(b){function j(){q.push("M",h(a(s),i),l,k(a(r.reverse()),i),"Z")}for(var q=[],r=[],s=[],u=-1,w=b.length,p,y=H(c),B=H(e),
D=c===d?function(){return t}:H(d),A=e===f?function(){return J}:H(f),t,J;++u<w;)g.call(this,p=b[u],u)?(r.push([t=+y.call(this,p,u),J=+B.call(this,p,u)]),s.push([+D.call(this,p,u),+A.call(this,p,u)])):r.length&&(j(),r=[],s=[]);r.length&&j();return q.length?q.join(""):null}var c=hb,d=hb,e=0,f=xb,g=eb,h=$,j=h.key,k=h,l="L",i=0.7;b.x=function(a){if(!arguments.length)return d;c=d=a;return b};b.x0=function(a){if(!arguments.length)return c;c=a;return b};b.x1=function(a){if(!arguments.length)return d;d=a;
return b};b.y=function(a){if(!arguments.length)return f;e=f=a;return b};b.y0=function(a){if(!arguments.length)return e;e=a;return b};b.y1=function(a){if(!arguments.length)return f;f=a;return b};b.defined=function(a){if(!arguments.length)return g;g=a;return b};b.interpolate=function(a){if(!arguments.length)return j;j="function"===typeof a?h=a:(h=Jd.get(a)||$).key;k=h.reverse||h;l=h.closed?"M":"L";return b};b.tension=function(a){if(!arguments.length)return i;i=a;return b};return b}function ui(a){return a.radius}
function qg(a){return[a.x,a.y]}function vi(){return 64}function wi(){return"circle"}function rg(a){a=Math.sqrt(a/C);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function sg(a){return function(){var b,c;if((b=this[a])&&(c=b[b.active]))--b.count?delete b[b.active]:delete this[a],b.active+=0.5,c.event&&c.event.interrupt.call(this,this.__data__,c.index)}}function Fb(a,b,c){Hb(a,N);a.namespace=b;a.id=c;return a}function Pd(a,b,c,d){var e=a.id,f=a.namespace;return ta(a,"function"===
typeof c?function(a,h,j){a[f][e].tween.set(b,d(c.call(a,a.__data__,h,j)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function xi(a){null==a&&(a="");return function(){this.textContent=a}}function Qd(a){return null==a?"__transition__":"__transition_"+a+"__"}function nc(a,b,c,d,e){var f=a[c]||(a[c]={active:0,count:0}),g=f[d];if(!g){var h=e.time,g=f[d]={tween:new sa,time:h,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null;++f.count;i.timer(function(e){function k(c){if(f.active>d)return m();
var e=f[f.active];e&&(--f.count,delete f[f.active],e.event&&e.event.interrupt.call(a,a.__data__,e.index));f.active=d;g.event&&g.event.start.call(a,a.__data__,b);g.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&s.push(d)});q=g.ease;o=g.duration;i.timer(function(){r.c=l(c||1)?eb:l;return 1},0,h)}function l(c){if(f.active!==d)return 1;for(var c=c/o,e=q(c),h=s.length;0<h;)s[--h].call(a,e);if(1<=c)return g.event&&g.event.end.call(a,a.__data__,b),m()}function m(){--f.count?delete f[d]:delete a[c];
return 1}var n=g.delay,o,q,r=va,s=[];r.t=n+h;if(n<=e)return k(e-n);r.c=k},0,h)}}function yi(a,b,c){a.attr("transform",function(a){var e=b(a);return"translate("+(isFinite(e)?e:c(a))+",0)"})}function zi(a,b,c){a.attr("transform",function(a){var e=b(a);return"translate(0,"+(isFinite(e)?e:c(a))+")"})}function Rd(a){return a.toISOString()}function Sd(a,b,c){function d(b){return a(b)}function e(a,c){var d=(a[1]-a[0])/c,e=i.bisect(oc,d);return e==oc.length?[b.year,La(a.map(function(a){return a/31536E6}),
c)[2]]:!e?[Ai,La(a,c)[2]]:b[d/oc[e-1]<oc[e]/d?e-1:e]}d.invert=function(b){return Xa(a.invert(b))};d.domain=function(b){if(!arguments.length)return a.domain().map(Xa);a.domain(b);return d};d.nice=function(a,b){function c(d){return!isNaN(d)&&!a.range(d,Xa(+d+1),b).length}var j=d.domain(),k=mb(j);if(k=null==a?e(k,10):"number"===typeof a&&e(k,a))a=k[0],b=k[1];return d.domain(ic(j,1<b?{floor:function(b){for(;c(b=a.floor(b));)b=Xa(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=Xa(+b+1);return b}}:
a))};d.ticks=function(a,b){var c=mb(d.domain()),j=null==a?e(c,10):"number"===typeof a?e(c,a):!a.range&&[{range:a},b];j&&(a=j[0],b=j[1]);return a.range(c[0],Xa(+c[1]+1),1>b?1:b)};d.tickFormat=function(){return c};d.copy=function(){return Sd(a.copy(),b,c)};return Id(d,a)}function Xa(a){return new Date(a)}function Bi(a){return JSON.parse(a.responseText)}function Ci(a){var b=T.createRange();b.selectNode(T.body);return b.createContextualFragment(a.responseText)}var i={version:"3.5.5"},tg=[].slice,Fa=function(a){return tg.call(a)},
T=this.document;if(T)try{Fa(T.documentElement.childNodes)[0].nodeType}catch(dj){Fa=function(a){for(var b=a.length,c=Array(b);b--;)c[b]=a[b];return c}}Date.now||(Date.now=function(){return+new Date});if(T)try{T.createElement("DIV").style.setProperty("opacity",0,"")}catch(ej){var pc=this.Element.prototype,Di=pc.setAttribute,Ei=pc.setAttributeNS,ug=this.CSSStyleDeclaration.prototype,Fi=ug.setProperty;pc.setAttribute=function(a,b){Di.call(this,a,b+"")};pc.setAttributeNS=function(a,b,c){Ei.call(this,a,
b,c+"")};ug.setProperty=function(a,b,c){Fi.call(this,a,b+"",c)}}i.ascending=ab;i.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};i.min=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){for(;++c<d;)if((f=a[c])!=null&&f>=f){e=f;break}for(;++c<d;)if((f=a[c])!=null&&e>f)e=f}else{for(;++c<d;)if((f=b.call(a,a[c],c))!=null&&f>=f){e=f;break}for(;++c<d;)if((f=b.call(a,a[c],c))!=null&&e>f)e=f}return e};i.max=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){for(;++c<d;)if((f=
a[c])!=null&&f>=f){e=f;break}for(;++c<d;)if((f=a[c])!=null&&f>e)e=f}else{for(;++c<d;)if((f=b.call(a,a[c],c))!=null&&f>=f){e=f;break}for(;++c<d;)if((f=b.call(a,a[c],c))!=null&&f>e)e=f}return e};i.extent=function(a,b){var c=-1,d=a.length,e,f,g;if(arguments.length===1){for(;++c<d;)if((f=a[c])!=null&&f>=f){e=g=f;break}for(;++c<d;)if((f=a[c])!=null){e>f&&(e=f);g<f&&(g=f)}}else{for(;++c<d;)if((f=b.call(a,a[c],c))!=null&&f>=f){e=g=f;break}for(;++c<d;)if((f=b.call(a,a[c],c))!=null){e>f&&(e=f);g<f&&(g=f)}}return[e,
g]};i.sum=function(a,b){var c=0,d=a.length,e,f=-1;if(arguments.length===1)for(;++f<d;){if(ra(e=+a[f]))c=c+e}else for(;++f<d;)if(ra(e=+b.call(a,a[f],f)))c=c+e;return c};i.mean=function(a,b){var c=0,d=a.length,e,f=-1,g=d;if(arguments.length===1)for(;++f<d;)ra(e=Oa(a[f]))?c=c+e:--g;else for(;++f<d;)ra(e=Oa(b.call(a,a[f],f)))?c=c+e:--g;if(g)return c/g};i.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1];return(c=c-d)?e+c*(a[d]-e):e};i.median=function(a,b){var c=[],d=a.length,e,f=
-1;if(arguments.length===1)for(;++f<d;)ra(e=Oa(a[f]))&&c.push(e);else for(;++f<d;)ra(e=Oa(b.call(a,a[f],f)))&&c.push(e);if(c.length)return i.quantile(c.sort(ab),0.5)};i.variance=function(a,b){var c=a.length,d=0,e,f,g=0,h=-1,j=0;if(arguments.length===1)for(;++h<c;){if(ra(e=Oa(a[h]))){f=e-d;d=d+f/++j;g=g+f*(e-d)}}else for(;++h<c;)if(ra(e=Oa(b.call(a,a[h],h)))){f=e-d;d=d+f/++j;g=g+f*(e-d)}if(j>1)return g/(j-1)};i.deviation=function(){var a=i.variance.apply(this,arguments);return a?Math.sqrt(a):a};var vg=
be(ab);i.bisectLeft=vg.left;i.bisect=i.bisectRight=vg.right;i.bisector=function(a){return be(a.length===1?function(b,c){return ab(a(b),c)}:a)};i.shuffle=function(a,b,c){if((d=arguments.length)<3){c=a.length;d<2&&(b=0)}for(var d=c-b,e,f;d;){f=Math.random()*d--|0;e=a[d+b];a[d+b]=a[f+b];a[f+b]=e}return a};i.permute=function(a,b){for(var c=b.length,d=Array(c);c--;)d[c]=a[b[c]];return d};i.pairs=function(a){for(var b=0,c=a.length-1,d=a[0],e=Array(c<0?0:c);b<c;)e[b]=[d,d=a[++b]];return e};i.zip=function(){if(!(e=
arguments.length))return[];for(var a=-1,b=i.min(arguments,Vg),c=Array(b);++a<b;)for(var d=-1,e,f=c[a]=Array(e);++d<e;)f[d]=arguments[d][a];return c};i.transpose=function(a){return i.zip.apply(i,a)};i.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};i.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};i.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};i.merge=function(a){var b=a.length,c;c=-1;for(var d=0,e,f;++c<b;)d=d+a[c].length;for(e=Array(d);--b>=
0;){f=a[b];for(c=f.length;--c>=0;)e[--d]=f[c]}return e};var x=Math.abs;i.range=function(a,b,c){if(arguments.length<3){c=1;if(arguments.length<2){b=a;a=0}}if((b-a)/c===Infinity)throw Error("infinite range");var d=[],e;e=x(c);for(var f=1;e*f%1;)f=f*10;e=f;var f=-1,g,a=a*e,b=b*e,c=c*e;if(c<0)for(;(g=a+c*++f)>b;)d.push(g/e);else for(;(g=a+c*++f)<b;)d.push(g/e);return d};i.map=function(a,b){var c=new sa;if(a instanceof sa)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d=-1,e=a.length,
f;if(arguments.length===1)for(;++d<e;)c.set(d,a[d]);else for(;++d<e;)c.set(b.call(a,f=a[d],d),f)}else for(d in a)c.set(d,a[d]);return c};var Wg="__proto__",Ic="\x00";ce(sa,{has:de,get:function(a){return this._[rb(a)]},set:function(a,b){return this._[rb(a)]=b},remove:ee,keys:fe,values:function(){var a=[],b;for(b in this._)a.push(this._[b]);return a},entries:function(){var a=[],b;for(b in this._)a.push({key:Gb(b),value:this._[b]});return a},size:ge,empty:he,forEach:function(a){for(var b in this._)a.call(this,
Gb(b),this._[b])}});i.nest=function(){function a(b,e,k){if(k>=d.length)return g?g.call(c,e):f?e.sort(f):e;for(var i=-1,m=e.length,n=d[k++],o,q,r=new sa,s;++i<m;)(s=r.get(o=n(q=e[i])))?s.push(q):r.set(o,[q]);if(b){q=b();e=function(c,d){q.set(c,a(b,d,k))}}else{q={};e=function(c,d){q[c]=a(b,d,k)}}r.forEach(e);return q}function b(a,c){if(c>=d.length)return a;var f=[],g=e[c++];a.forEach(function(a,d){f.push({key:a,values:b(d,c)})});return g?f.sort(function(a,b){return g(a.key,b.key)}):f}var c={},d=[],
e=[],f,g;c.map=function(b,c){return a(c,b,0)};c.entries=function(c){return b(a(i.map,c,0),0)};c.key=function(a){d.push(a);return c};c.sortKeys=function(a){e[d.length-1]=a;return c};c.sortValues=function(a){f=a;return c};c.rollup=function(a){g=a;return c};return c};i.set=function(a){var b=new Jc;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b};ce(Jc,{has:de,add:function(a){this._[rb(a=a+"")]=true;return a},remove:ee,values:fe,size:ge,empty:he,forEach:function(a){for(var b in this._)a.call(this,
Gb(b))}});i.behavior={};i.rebind=function(a,b){for(var c=1,d=arguments.length,e;++c<d;)a[e=arguments[c]]=Xg(a,b,b[e]);return a};var ie="webkit ms moz Moz o O".split(" ");i.dispatch=function(){for(var a=new Lc,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=je(a);return a};Lc.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0){d=a.slice(c+1);a=a.slice(0,c)}if(a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(arguments.length===2){if(b==null)for(a in this)if(this.hasOwnProperty(a))this[a].on(d,
null);return this}};i.event=null;i.requote=function(a){return a.replace(Gi,"\\$&")};var Gi=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Hb={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},Pc=function(a,b){return b.querySelector(a)},Qc=function(a,b){return b.querySelectorAll(a)},Ib=function(a,b){var c=a.matches||a[Kc(a,"matchesSelector")];Ib=function(a,b){return c.call(a,b)};return Ib(a,b)};"function"===typeof Sizzle&&(Pc=function(a,b){return Sizzle(a,b)[0]||null},Qc=Sizzle,Ib=
Sizzle.matchesSelector);i.selection=function(){return i.select(T.documentElement)};var E=i.selection.prototype=[];E.select=function(a){for(var b=[],c,d,e,f,a=Oc(a),g=-1,h=this.length;++g<h;){b.push(c=[]);c.parentNode=(e=this[g]).parentNode;for(var j=-1,k=e.length;++j<k;)if(f=e[j]){c.push(d=a.call(f,f.__data__,j,g));if(d&&"__data__"in f)d.__data__=f.__data__}else c.push(null)}return Ea(b)};E.selectAll=function(a){for(var b=[],c,d,a=ke(a),e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,j=g.length;++h<
j;)if(d=g[h]){b.push(c=Fa(a.call(d,d.__data__,h,e)));c.parentNode=d}return Ea(b)};var Td={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:Td,qualify:function(a){var b=a.indexOf(":"),c=a;if(b>=0){c=a.slice(0,b);a=a.slice(b+1)}return Td.hasOwnProperty(c)?{space:Td[c],local:a}:a}};E.attr=function(a,b){if(arguments.length<2){if(typeof a==="string"){var c=
this.node(),a=i.ns.qualify(a);return a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(le(b,a[b]));return this}return this.each(le(a,b))};E.classed=function(a,b){if(arguments.length<2){if(typeof a==="string"){var c=this.node(),d=(a=(a+"").trim().split(/^|\s+/)).length,e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return false}else for(b=c.getAttribute("class");++e<d;)if(!ne(a[e]).test(b))return false;return true}for(b in a)this.each(oe(b,a[b]));return this}return this.each(oe(a,
b))};E.style=function(a,b,c){var d=arguments.length;if(d<3){if(typeof a!=="string"){d<2&&(b="");for(c in a)this.each(pe(c,a[c],b));return this}if(d<2){d=this.node();return Ca(d).getComputedStyle(d,null).getPropertyValue(a)}c=""}return this.each(pe(a,b,c))};E.property=function(a,b){if(arguments.length<2){if(typeof a==="string")return this.node()[a];for(b in a)this.each(qe(b,a[b]));return this}return this.each(qe(a,b))};E.text=function(a){return arguments.length?this.each(typeof a==="function"?function(){var b=
a.apply(this,arguments);this.textContent=b==null?"":b}:a==null?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};E.html=function(a){return arguments.length?this.each(typeof a==="function"?function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"":b}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};E.append=function(a){a=re(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};E.insert=
function(a,b){a=re(a);b=Oc(b);return this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};E.remove=function(){return this.each(Zg)};E.data=function(a,b){function c(a,c){var d,e=a.length,f=c.length,g=Math.min(e,f),i=Array(f),u=Array(f),w=Array(e),p,y;if(b){var g=new sa,B=Array(e),D;for(d=-1;++d<e;){g.has(D=b.call(p=a[d],p.__data__,d))?w[d]=p:g.set(D,p);B[d]=D}for(d=-1;++d<f;){if(p=g.get(D=b.call(c,y=c[d],d))){if(p!==true){i[d]=p;p.__data__=y}}else u[d]=
{__data__:y};g.set(D,true)}for(d=-1;++d<e;)g.get(B[d])!==true&&(w[d]=a[d])}else{for(d=-1;++d<g;){p=a[d];y=c[d];if(p){p.__data__=y;i[d]=p}else u[d]={__data__:y}}for(;d<f;++d)u[d]={__data__:c[d]};for(;d<e;++d)w[d]=a[d]}u.update=i;u.parentNode=i.parentNode=w.parentNode=a.parentNode;h.push(u);j.push(i);k.push(w)}var d=-1,e=this.length,f,g;if(!arguments.length){for(a=Array(e=(f=this[0]).length);++d<e;)if(g=f[d])a[d]=g.__data__;return a}var h=te([]),j=Ea([]),k=Ea([]);if(typeof a==="function")for(;++d<e;)c(f=
this[d],a.call(f,f.parentNode.__data__,d));else for(;++d<e;)c(f=this[d],a);j.enter=function(){return h};j.exit=function(){return k};return j};E.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};E.filter=function(a){var b=[],c,d,e;typeof a!=="function"&&(a=se(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);c.parentNode=(d=this[f]).parentNode;for(var h=0,j=d.length;h<j;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return Ea(b)};E.order=function(){for(var a=
-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],f;--d>=0;)if(f=c[d]){e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e);e=f}return this};E.sort=function(a){for(var a=$g.apply(this,arguments),b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};E.each=function(a){return ta(this,function(b,c,d){a.call(b,b.__data__,c,d)})};E.call=function(a){var b=Fa(arguments);a.apply(b[0]=this,b);return this};E.empty=function(){return!this.node()};E.node=function(){for(var a=0,b=this.length;a<
b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f)return f}return null};E.size=function(){var a=0;ta(this,function(){++a});return a};var ua=[];i.selection.enter=te;i.selection.enter.prototype=ua;ua.append=E.append;ua.empty=E.empty;ua.node=E.node;ua.call=E.call;ua.size=E.size;ua.select=function(a){for(var b=[],c,d,e,f,g,h=-1,j=this.length;++h<j;){e=(f=this[h]).update;b.push(c=[]);c.parentNode=f.parentNode;for(var k=-1,i=f.length;++k<i;)if(g=f[k]){c.push(e[k]=d=a.call(f.parentNode,g.__data__,
k,h));d.__data__=g.__data__}else c.push(null)}return Ea(b)};ua.insert=function(a,b){if(arguments.length<2)var c=this,d,e,b=function(a,b,h){var a=c[h].update,j=a.length;if(h!=e){e=h;d=0}for(b>=d&&(d=b+1);!(b=a[d])&&++d<j;);return b};return E.insert.call(this,a,b)};i.select=function(a){var b;if(typeof a==="string"){b=[Pc(a,T)];b.parentNode=T.documentElement}else{b=[a];b.parentNode=a&&(a.ownerDocument||a.document||a).documentElement}return Ea([b])};i.selectAll=function(a){if(typeof a==="string"){a=Fa(Qc(a,
T));a.parentNode=T.documentElement}else a.parentNode=null;return Ea([a])};E.on=function(a,b,c){var d=arguments.length;if(d<3){if(typeof a!=="string"){d<2&&(b=false);for(c in a)this.each(ue(c,a[c],b));return this}if(d<2)return(d=this.node()["__on"+a])&&d._;c=false}return this.each(ue(a,b,c))};var Rc=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});T&&Rc.forEach(function(a){"on"+a in T&&Rc.remove(a)});var Pa,bh=0;i.mouse=function(a){return Sc(a,Mc())};var Tc=this.navigator&&/WebKit/.test(this.navigator.userAgent)?
-1:0;i.touch=function(a,b,c){if(arguments.length<3){c=b;b=Mc().changedTouches}if(b)for(var d=0,e=b.length,f;d<e;++d)if((f=b[d]).identifier===c)return Sc(a,f)};i.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",f)}function b(a,b,e,f,l){return function(){var m=i.event.target,n=this.parentNode,o=c.of(this,arguments),q=0,r=a(),s=".drag"+(r==null?"":"-"+r),u,w=i.select(e(m)).on(f+s,function(){var a=b(n,r),c,d;if(a){c=a[0]-y[0];d=a[1]-y[1];q=q|c|d;y=a;o({type:"drag",
x:a[0]+u[0],y:a[1]+u[1],dx:c,dy:d})}}).on(l+s,function(){if(b(n,r)){w.on(f+s,null).on(l+s,null);p(q&&i.event.target===m);o({type:"dragend"})}}),p=Jb(m),y=b(n,r);if(d){u=d.apply(this,arguments);u=[u.x-y[0],u.y-y[1]]}else u=[0,0];o({type:"dragstart"})}}var c=Nc(a,"drag","dragstart","dragend"),d=null,e=b(M,i.mouse,Ca,"mousemove","mouseup"),f=b(ch,i.touch,P,"touchmove","touchend");a.origin=function(b){if(!arguments.length)return d;d=b;return a};return i.rebind(a,c,"on")};i.touches=function(a,b){if(arguments.length<
2)b=Mc().touches;return b?Fa(b).map(function(b){var d=Sc(a,b);d.identifier=b.identifier;return d}):[]};var t=1E-6,ud=t*t,C=Math.PI,Z=2*C,Hi=Z-t,K=C/2,z=C/180,I=180/C,qc=Math.SQRT2,Ud=2;i.interpolateZoom=function(a,b){function c(a){var b=a*q;if(o){var a=we(n),c=f/(Ud*i),g,k=qc*b+n;g=((k=Math.exp(2*k))-1)/(k+1);g=a*g;var m=n,k=((m=Math.exp(m))-1/m)/2,c=c*(g-k);return[d+c*h,e+c*j,f*a/we(qc*b+n)]}return[d+a*h,e+a*j,f*Math.exp(qc*b)]}var d=a[0],e=a[1],f=a[2],g=b[2],h=b[0]-d,j=b[1]-e,k=h*h+j*j,i=Math.sqrt(k),
m=(g*g-f*f+4*k)/(2*f*Ud*i),k=(g*g-f*f-4*k)/(2*g*Ud*i),n=Math.log(Math.sqrt(m*m+1)-m),o=Math.log(Math.sqrt(k*k+1)-k)-n,q=(o||Math.log(g/f))/qc;c.duration=q*1E3;return c};i.behavior.zoom=function(){function a(a){a.on(B,k).on(Vd+".zoom",m).on("dblclick.zoom",n).on(J,l)}function b(a){return[(a[0]-o.x)/o.k,(a[1]-o.y)/o.k]}function c(a){o.k=Math.max(w[0],Math.min(w[1],a))}function d(a,b){b=[b[0]*o.k+o.x,b[1]*o.k+o.y];o.x=o.x+(a[0]-b[0]);o.y=o.y+(a[1]-b[1])}function e(b,e,f,g){b.__chart__={x:o.x,y:o.y,k:o.k};
c(Math.pow(2,g));d(r=e,f);b=i.select(b);p>0&&(b=b.transition().duration(p));b.call(a.event)}function f(){v&&v.domain(F.range().map(function(a){return(a-o.x)/o.k}).map(F.invert));da&&da.domain(z.range().map(function(a){return(a-o.y)/o.k}).map(z.invert))}function g(a){y++||a({type:"zoomstart"})}function h(a){f();a({type:"zoom",scale:o.k,translate:[o.x,o.y]})}function j(a){--y||a({type:"zoomend"});r=null}function k(){var a=this,c=i.event.target,e=G.of(a,arguments),f=0,k=i.select(Ca(a)).on(D,function(){f=
1;d(i.mouse(a),l);h(e)}).on(A,function(){k.on(D,null).on(A,null);m(f&&i.event.target===c);j(e)}),l=b(i.mouse(a)),m=Jb(a);rc.call(a);g(e)}function l(){function a(){var c=i.touches(p);u=o.k;c.forEach(function(a){a.identifier in r&&(r[a.identifier]=b(a))});return c}function f(){var b=i.event.target;i.select(b).on(y,m).on(D,n);F.push(b);for(var b=i.event.changedTouches,c=0,d=b.length;c<d;++c)r[b[c].identifier]=null;c=a();d=Date.now();if(c.length===1){if(d-S<500){b=c[0];e(p,b,r[b.identifier],Math.floor(Math.log(o.k)/
Math.LN2)+1);Da()}S=d}else if(c.length>1){b=c[0];d=c[1];c=b[0]-d[0];b=b[1]-d[1];q=c*c+b*b}}function m(){var a=i.touches(p),b,e,f,g;rc.call(p);for(var j=0,k=a.length;j<k;++j,g=null){f=a[j];if(g=r[f.identifier]){if(e)break;b=f;e=g}}if(g){var l=(l=f[0]-b[0])*l+(l=f[1]-b[1])*l,a=q&&Math.sqrt(l/q);b=[(b[0]+f[0])/2,(b[1]+f[1])/2];e=[(e[0]+g[0])/2,(e[1]+g[1])/2];c(a*u)}S=null;d(b,e);h(s)}function n(){if(i.event.touches.length){for(var b=i.event.changedTouches,c=0,d=b.length;c<d;++c)delete r[b[c].identifier];
for(var e in r)return void a()}i.selectAll(F).on(w,null);A.on(B,k).on(J,l);t();j(s)}var p=this,s=G.of(p,arguments),r={},q=0,u,w=".zoom-"+i.event.changedTouches[0].identifier,y="touchmove"+w,D="touchend"+w,F=[],A=i.select(p),t=Jb(p);f();g(s);A.on(B,null).on(J,f)}function m(){var a=G.of(this,arguments);if(t)clearTimeout(t);else{q=b(r=s||i.mouse(this));rc.call(this);g(a)}t=setTimeout(function(){t=null;j(a)},50);Da();c(Math.pow(2,sc()*0.002)*o.k);d(r,q);h(a)}function n(){var a=i.mouse(this),c=Math.log(o.k)/
Math.LN2;e(this,a,b(a),i.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)}var o={x:0,y:0,k:1},q,r,s,u=[960,500],w=wg,p=250,y=0,B="mousedown.zoom",D="mousemove.zoom",A="mouseup.zoom",t,J="touchstart.zoom",S,G=Nc(a,"zoomstart","zoom","zoomend"),F,v,z,da;Vd||(Vd="onwheel"in T?(sc=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in T?(sc=function(){return i.event.wheelDelta},"mousewheel"):(sc=function(){return-i.event.detail},"MozMousePixelScroll"));a.event=function(a){a.each(function(){var a=
G.of(this,arguments),b=o;if(Ya)i.select(this).transition().each("start.zoom",function(){o=this.__chart__||{x:0,y:0,k:1};g(a)}).tween("zoom:zoom",function(){var c=u[0],d=u[1],e=r?r[0]:c/2,f=r?r[1]:d/2,g=i.interpolateZoom([(e-o.x)/o.k,(f-o.y)/o.k,c/o.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){var b=g(b),d=c/b[2];this.__chart__=o={x:e-b[0]*d,y:f-b[1]*d,k:d};h(a)}}).each("interrupt.zoom",function(){j(a)}).each("end.zoom",function(){j(a)});else{this.__chart__=o;g(a);h(a);j(a)}})};a.translate=
function(b){if(!arguments.length)return[o.x,o.y];o={x:+b[0],y:+b[1],k:o.k};f();return a};a.scale=function(b){if(!arguments.length)return o.k;o={x:o.x,y:o.y,k:+b};f();return a};a.scaleExtent=function(b){if(!arguments.length)return w;w=b==null?wg:[+b[0],+b[1]];return a};a.center=function(b){if(!arguments.length)return s;s=b&&[+b[0],+b[1]];return a};a.size=function(b){if(!arguments.length)return u;u=b&&[+b[0],+b[1]];return a};a.duration=function(b){if(!arguments.length)return p;p=+b;return a};a.x=function(b){if(!arguments.length)return v;
v=b;F=b.copy();o={x:0,y:0,k:1};return a};a.y=function(b){if(!arguments.length)return da;da=b;z=b.copy();o={x:0,y:0,k:1};return a};return i.rebind(a,G,"on")};var wg=[0,Infinity],sc,Vd;i.color=Qa;Qa.prototype.toString=function(){return this.rgb()+""};i.hsl=la;var Wd=la.prototype=new Qa;Wd.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);return new la(this.h,this.s,this.l/a)};Wd.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return new la(this.h,this.s,a*this.l)};Wd.rgb=function(){return Vc(this.h,
this.s,this.l)};i.hcl=ga;var Xd=ga.prototype=new Qa;Xd.brighter=function(a){return new ga(this.h,this.c,Math.min(100,this.l+tc*(arguments.length?a:1)))};Xd.darker=function(a){return new ga(this.h,this.c,Math.max(0,this.l-tc*(arguments.length?a:1)))};Xd.rgb=function(){return Wc(this.h,this.c,this.l).rgb()};i.lab=ha;var tc=18,De=0.95047,Ee=1,Fe=1.08883,Yd=ha.prototype=new Qa;Yd.brighter=function(a){return new ha(Math.min(100,this.l+tc*(arguments.length?a:1)),this.a,this.b)};Yd.darker=function(a){return new ha(Math.max(0,
this.l-tc*(arguments.length?a:1)),this.a,this.b)};Yd.rgb=function(){return Ce(this.l,this.a,this.b)};i.rgb=U;var uc=U.prototype=new Qa;uc.brighter=function(a){var a=Math.pow(0.7,arguments.length?a:1),b=this.r,c=this.g,d=this.b;if(!b&&!c&&!d)return new U(30,30,30);b&&b<30&&(b=30);c&&c<30&&(c=30);d&&d<30&&(d=30);return new U(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))};uc.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return new U(a*this.r,a*this.g,a*this.b)};uc.hsl=function(){return ze(this.r,
this.g,this.b)};uc.toString=function(){return"#"+bb(this.r)+bb(this.g)+bb(this.b)};var Lb=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,
darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,
gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,
lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,
orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,
slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Lb.forEach(function(a,b){Lb.set(a,new U(b>>16,b>>8&255,b&255))});i.functor=H;i.xhr=bd(P);i.dsv=function(a,b){function c(a,c,f){if(arguments.length<3){f=c;c=null}var g=Mb(a,b,c==null?d:e(c),f);g.row=function(a){return arguments.length?g.response((c=a)==null?
d:e(a)):c};return g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=RegExp('["'+a+"\n]"),j=a.charCodeAt(0);c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),
c)}:e})};c.parseRows=function(a,b){function c(){if(h>=g)return e;if(p)return p=false,d;var b=h;if(a.charCodeAt(b)===34){for(var f=b;f++<g;)if(a.charCodeAt(f)===34){if(a.charCodeAt(f+1)!==34)break;++f}h=f+2;var i=a.charCodeAt(f+1);if(i===13){p=true;a.charCodeAt(f+2)===10&&++h}else i===10&&(p=true);return a.slice(b+1,f).replace(/""/g,'"')}for(;h<g;){i=a.charCodeAt(h++);f=1;if(i===10)p=true;else if(i===13){p=true;if(a.charCodeAt(h)===10){++h;++f}}else if(i!==j)continue;return a.slice(b,h-f)}return a.slice(b)}
for(var d={},e={},f=[],g=a.length,h=0,i=0,w,p;(w=c())!==e;){for(var y=[];w!==d&&w!==e;){y.push(w);w=c()}b&&(y=b(y,i++))==null||f.push(y)}return f};c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new Jc,e=[];b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))});return[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")};c.formatRows=function(a){return a.map(f).join("\n")};return c};i.csv=i.dsv(",","text/csv");
i.tsv=i.dsv("\t","text/tab-separated-values");var Pb,Qb,Ob,Nb,va,Ie=this[Kc(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};i.timer=function(a,b,c){var d=arguments.length;d<2&&(b=0);d<3&&(c=Date.now());d={c:a,t:c+b,f:false,n:null};Qb?Qb.n=d:Pb=d;Qb=d;if(!Ob){Nb=clearTimeout(Nb);Ob=1;Ie(cd)}};i.timer.flush=function(){Ge();He()};i.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var Ii="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=
Math.pow(10,x(8-b)*3);return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}});i.formatPrefix=function(a,b){var c=0;if(a){a<0&&(a=a*-1);b&&(a=i.round(a,dd(a,b)));c=1+Math.floor(1E-12+Math.log(a)/Math.LN10);c=Math.max(-24,Math.min(24,Math.floor((c-1)/3)*3))}return Ii[8+c/3]};var $f=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ji=i.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},
x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=i.round(a,dd(a,b))).toFixed(Math.max(0,Math.min(20,dd(a*(1+1E-15),b))))}}),v=i.time={},R=Date;wa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},
getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Aa.setUTCDate.apply(this._,arguments)},setDay:function(){Aa.setUTCDay.apply(this._,arguments)},setFullYear:function(){Aa.setUTCFullYear.apply(this._,
arguments)},setHours:function(){Aa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Aa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Aa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Aa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Aa.setUTCSeconds.apply(this._,arguments)},setTime:function(){Aa.setTime.apply(this._,arguments)}};var Aa=Date.prototype;v.year=Ra(function(a){a=v.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+
b)},function(a){return a.getFullYear()});v.years=v.year.range;v.years.utc=v.year.utc.range;v.day=Ra(function(a){var b=new R(2E3,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});v.days=v.day.range;v.days.utc=v.day.utc.range;v.dayOfYear=function(a){var b=v.year(a);return Math.floor((a-b-(a.getTimezoneOffset()-b.getTimezoneOffset())*6E4)/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,
b){var b=7-b,c=v[a]=Ra(function(a){(a=v.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+Math.floor(b)*7)},function(a){var c=v.year(a).getDay();return Math.floor((v.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});v[a+"s"]=c.range;v[a+"s"].utc=c.utc.range;v[a+"OfYear"]=function(a){var c=v.year(a).getDay();return Math.floor((v.dayOfYear(a)+(c+b)%7)/7)}});v.week=v.sunday;v.weeks=v.sunday.range;v.weeks.utc=v.sunday.utc.range;v.weekOfYear=v.sundayOfYear;var xg={"-":"",_:" ",
"0":"0"},L=/^\s*\d+/,Le=/^%/;i.locale=function(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],g=0,h=d[0],j=0;e>0&&h>0;){j+h+1>b&&(h=Math.max(1,b-j));f.push(a.substring(e=e-h,e+h));if((j=j+(h+1))>b)break;h=d[g=(g+1)%d.length]}return f.reverse().join(c)}:P,g=function(a){function b(d){for(var e=[],f=-1,g=0,h,j;++f<c;)if(a.charCodeAt(f)===37){e.push(a.slice(g,f));if((h=xg[g=a.charAt(++f)])!=null)g=a.charAt(++f);if(j=J[g])g=j(d,h==null?g==="e"?" ":
"0":h);e.push(g);g=f+1}e.push(a.slice(g,f));return e.join("")}var c=a.length;b.parse=function(b){var c={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(c,a,b,0)!=b.length)return null;if("p"in c)c.H=c.H%12+c.p*12;var b=c.Z!=null&&R!==wa,d=new (b?wa:R);if("j"in c)d.setFullYear(c.y,0,c.j);else if("w"in c&&("W"in c||"U"in c)){d.setFullYear(c.y,0,1);d.setFullYear(c.y,0,"W"in c?(c.w+6)%7+c.W*7-(d.getDay()+5)%7:c.w+c.U*7-(d.getDay()+6)%7)}else d.setFullYear(c.y,c.m,c.d);d.setHours(c.H+(c.Z/100|0),c.M+c.Z%100,
c.S,c.L);return b?d._:d};b.toString=function(){return a};return b},h=function(a,b,c,d){for(var e,f=0,g=b.length,h=c.length;f<g;){if(d>=h)return-1;e=b.charCodeAt(f++);if(e===37){e=b.charAt(f++);e=S[e in xg?b.charAt(f++):e];if(!e||(d=e(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d},j=a.dateTime,k=a.date,l=a.time,m=a.periods,n=a.days,o=a.shortDays,q=a.months,r=a.shortMonths;g.utc=function(a){function b(a){try{R=wa;var d=new R;d._=a;return c(d)}finally{R=Date}}var c=g(a);b.parse=function(a){try{R=
wa;var b=c.parse(a);return b&&b._}finally{R=Date}};b.toString=c.toString;return b};g.multi=g.utc.multi=sh;var s=i.map(),u=Sb(n),w=Tb(n),p=Sb(o),y=Tb(o),B=Sb(q),D=Tb(q),A=Sb(r),t=Tb(r);m.forEach(function(a,b){s.set(a.toLowerCase(),b)});var J={a:function(a){return o[a.getDay()]},A:function(a){return n[a.getDay()]},b:function(a){return r[a.getMonth()]},B:function(a){return q[a.getMonth()]},c:g(j),d:function(a,b){return V(a.getDate(),b,2)},e:function(a,b){return V(a.getDate(),b,2)},H:function(a,b){return V(a.getHours(),
b,2)},I:function(a,b){return V(a.getHours()%12||12,b,2)},j:function(a,b){return V(1+v.dayOfYear(a),b,3)},L:function(a,b){return V(a.getMilliseconds(),b,3)},m:function(a,b){return V(a.getMonth()+1,b,2)},M:function(a,b){return V(a.getMinutes(),b,2)},p:function(a){return m[+(a.getHours()>=12)]},S:function(a,b){return V(a.getSeconds(),b,2)},U:function(a,b){return V(v.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return V(v.mondayOfYear(a),b,2)},x:g(k),X:g(l),y:function(a,b){return V(a.getFullYear()%
100,b,2)},Y:function(a,b){return V(a.getFullYear()%1E4,b,4)},Z:qh,"%":function(){return"%"}},S={a:function(a,b,c){p.lastIndex=0;return(b=p.exec(b.slice(c)))?(a.w=y.get(b[0].toLowerCase()),c+b[0].length):-1},A:function(a,b,c){u.lastIndex=0;return(b=u.exec(b.slice(c)))?(a.w=w.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){A.lastIndex=0;return(b=A.exec(b.slice(c)))?(a.m=t.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){B.lastIndex=0;return(b=B.exec(b.slice(c)))?(a.m=D.get(b[0].toLowerCase()),
c+b[0].length):-1},c:function(a,b,c){return h(a,J.c.toString(),b,c)},d:Je,e:Je,H:Ke,I:Ke,j:mh,L:ph,m:lh,M:nh,p:function(a,b,c){b=s.get(b.slice(c,c=c+2).toLowerCase());return b==null?-1:(a.p=b,c)},S:oh,U:gh,w:fh,W:hh,x:function(a,b,c){return h(a,J.x.toString(),b,c)},X:function(a,b,c){return h(a,J.X.toString(),b,c)},y:jh,Y:ih,Z:kh,"%":rh};return{numberFormat:function(a){var a=$f.exec(a),c=a[1]||" ",d=a[2]||">",g=a[3]||"-",h=a[4]||"",j=a[5],k=+a[6],l=a[7],m=a[8],p=a[9],n=1,s="",r="",o=false,q=true;m&&
(m=+m.substring(1));if(j||c==="0"&&d==="="){j=c="0";d="="}switch(p){case "n":l=true;p="g";break;case "%":n=100;r="%";p="f";break;case "p":n=100;r="%";p="r";break;case "b":case "o":case "x":case "X":h==="#"&&(s="0"+p.toLowerCase());case "c":q=false;case "d":o=true;m=0;break;case "s":n=-1;p="r"}if(h==="$"){s=e[0];r=e[1]}p=="r"&&!m&&(p="g");if(m!=null)if(p=="g")m=Math.max(1,Math.min(21,m));else if(p=="e"||p=="f")m=Math.max(0,Math.min(20,m));var p=Ji.get(p)||eh,u=j&&l;return function(a){var e=r;if(o&&
a%1)return"";var h=a<0||a===0&&1/a<0?(a=-a,"-"):g==="-"?"":g;if(n<0){e=i.formatPrefix(a,m);a=e.scale(a);e=e.symbol+r}else a=a*n;var a=p(a,m),w=a.lastIndexOf("."),y;if(w<0){w=q?a.lastIndexOf("e"):-1;if(w<0){y=a;a=""}else{y=a.substring(0,w);a=a.substring(w)}}else{y=a.substring(0,w);a=b+a.substring(w+1)}!j&&l&&(y=f(y,Infinity));var w=s.length+y.length+a.length+(u?0:h.length),B=w<k?Array(w=k-w+1).join(c):"";u&&(y=f(B+y,B.length?k-a.length:Infinity));h=h+s;a=y+a;return(d==="<"?h+a+B:d===">"?B+h+a:d===
"^"?B.substring(0,w=w>>1)+h+a+B.substring(w):h+(u?a:B+a))+e}},timeFormat:g}};var yg=i.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
i.format=yg.numberFormat;i.geo={};ed.prototype={s:0,t:0,add:function(a){Me(a,this.t,vc);Me(vc.s,this.s,this);this.s?this.t=this.t+vc.t:this.s=vc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var vc=new ed;i.geo.stream=function(a,b){if(a&&zg.hasOwnProperty(a.type))zg[a.type](a,b);else Ub(a,b)};var zg={Feature:function(a,b){Ub(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)Ub(c[d].geometry,b)}},Ne={Sphere:function(a,b){b.sphere()},
Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;){a=c[d];b.point(a[0],a[1],a[2])}},LineString:function(a,b){fd(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)fd(c[d],b,0)},Polygon:function(a,b){Oe(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Oe(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<
e;)Ub(c[d],b)}};i.geo.area=function(a){nb=0;i.geo.stream(a,X);return nb};var nb,Sa=new ed,X={sphere:function(){nb=nb+4*C},point:M,lineStart:M,lineEnd:M,polygonStart:function(){Sa.reset();X.lineStart=th},polygonEnd:function(){var a=2*Sa;nb=nb+(a<0?4*C+a:a);X.lineStart=X.lineEnd=X.point=M}},wc=function(a,b){Za.push(Na=[O=a,Q=a]);b<ka&&(ka=b);b>qa&&(qa=b)},Ag=function(a,b){var c=Ta([a*z,b*z]);if(ob){var d=cb(ob,c),d=cb([d[1],-d[0],0],d);Xb(d);var d=Yb(d),e=a-$a,f=e>0?1:-1,g=d[0]*I*f,e=x(e)>180;if(e^
(f*$a<g&&g<f*a)){d=d[1]*I;d>qa&&(qa=d)}else if(g=(g+360)%360-180,e^(f*$a<g&&g<f*a)){d=-d[1]*I;d<ka&&(ka=d)}else{b<ka&&(ka=b);b>qa&&(qa=b)}if(e)a<$a?aa(O,a)>aa(O,Q)&&(Q=a):aa(a,Q)>aa(O,Q)&&(O=a);else if(Q>=O){a<O&&(O=a);a>Q&&(Q=a)}else a>$a?aa(O,a)>aa(O,Q)&&(Q=a):aa(a,Q)>aa(O,Q)&&(O=a)}else wc(a,b);ob=c;$a=a},Bg=function(){Ba.point=Ag},Cg=function(){Na[0]=O;Na[1]=Q;Ba.point=wc;ob=null},Fg=function(a,b){if(ob){var c=a-$a;pb=pb+(x(c)>180?c+(c>0?360:-360):c)}else{Dg=a;Eg=b}X.point(a,b);Ag(a,b)},Ki=function(){X.lineStart()},
Li=function(){Fg(Dg,Eg);X.lineEnd();x(pb)>t&&(O=-(Q=180));Na[0]=O;Na[1]=Q;ob=null},aa=function(a,b){return(b=b-a)<0?b+360:b},Mi=function(a,b){return a[0]-b[0]},Gg=function(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a},O,ka,Q,qa,$a,Dg,Eg,ob,pb,Za,Na,Ba={point:wc,lineStart:Bg,lineEnd:Cg,polygonStart:function(){Ba.point=Fg;Ba.lineStart=Ki;Ba.lineEnd=Li;pb=0;X.polygonStart()},polygonEnd:function(){X.polygonEnd();Ba.point=wc;Ba.lineStart=Bg;Ba.lineEnd=Cg;if(Sa<0){O=-(Q=180);ka=-(qa=90)}else pb>
t?qa=90:pb<-t&&(ka=-90);Na[0]=O;Na[1]=Q}};i.geo.bounds=function(a){qa=Q=-(O=ka=Infinity);Za=[];i.geo.stream(a,Ba);if(a=Za.length){Za.sort(Mi);for(var b=1,c=Za[0],d,e=[c];b<a;++b){d=Za[b];if(Gg(d[0],c)||Gg(d[1],c)){aa(c[0],d[1])>aa(c[0],c[1])&&(c[1]=d[1]);aa(d[0],c[1])>aa(c[0],c[1])&&(c[0]=d[0])}else e.push(c=d)}for(var f=-Infinity,g,a=e.length-1,b=0,c=e[a];b<=a;c=d,++b){d=e[b];if((g=aa(c[1],d[0]))>f){f=g;O=d[0];Q=c[1]}}}Za=Na=null;return O===Infinity||ka===Infinity?[[NaN,NaN],[NaN,NaN]]:[[O,ka],[Q,
qa]]};i.geo.centroid=function(a){tb=db=xa=ya=ma=ba=ca=W=Ha=Ia=na=0;i.geo.stream(a,ia);var a=Ha,b=Ia,c=na,d=a*a+b*b+c*c;if(d<ud){a=ba;b=ca;c=W;if(db<t){a=xa;b=ya;c=ma}d=a*a+b*b+c*c;if(d<ud)return[NaN,NaN]}return[Math.atan2(b,a)*I,Ga(c/Math.sqrt(d))*I]};var tb,db,xa,ya,ma,ba,ca,W,Ha,Ia,na,ia={sphere:M,point:hd,lineStart:Pe,lineEnd:Qe,polygonStart:function(){ia.lineStart=uh},polygonEnd:function(){ia.lineStart=Pe}},hf=Ue(eb,function(a){var b=NaN,c=NaN,d=NaN,e;return{lineStart:function(){a.lineStart();
e=1},point:function(f,g){var h=f>0?C:-C,j=x(f-b);if(x(j-C)<t){a.point(b,c=(c+g)/2>0?K:-K);a.point(d,c);a.lineEnd();a.lineStart();a.point(h,c);a.point(f,c);e=0}else if(d!==h&&j>=C){x(b-d)<t&&(b=b-d*t);x(f-h)<t&&(f=f-h*t);var j=b,k=c,i=f,m,n,o=Math.sin(j-i);c=x(o)>t?Math.atan((Math.sin(k)*(n=Math.cos(g))*Math.sin(i)-Math.sin(g)*(m=Math.cos(k))*Math.sin(j))/(m*n*o)):(k+g)/2;a.point(d,c);a.lineEnd();a.lineStart();a.point(h,c);e=0}a.point(b=f,c=g);d=h},lineEnd:function(){a.lineEnd();b=c=NaN},clean:function(){return 2-
e}}},function(a,b,c,d){if(a==null){c=c*K;d.point(-C,c);d.point(0,c);d.point(C,c);d.point(C,0);d.point(C,-c);d.point(0,-c);d.point(-C,-c);d.point(-C,0);d.point(-C,c)}else if(x(a[0]-b[0])>t){a=a[0]<b[0]?C:-C;c=c*a/2;d.point(-a,c);d.point(0,c);d.point(a,c)}else d.point(b[0],b[1])},[-C,-C/2]),ac=1E9;i.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){if(e)e.valid=false;e=f(a);e.valid=true;return e},extent:function(h){if(!arguments.length)return[[a,b],[c,d]];f=$e(a=+h[0][0],b=+h[0][1],c=
+h[1][0],d=+h[1][1]);if(e){e.valid=false;e=null}return g}};return g.extent([[0,0],[960,500]])};(i.geo.conicEqualArea=function(){return kd(af)}).raw=af;i.geo.albers=function(){return i.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};i.geo.albersUsa=function(){function a(a){var b=a[0],a=a[1];e=null;(g(b,a),e)||(h(b,a),e)||j(b,a);return e}var b=i.geo.albers(),c=i.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=i.geo.conicEqualArea().rotate([157,
0]).center([-3,19.9]).parallels([8,18]),e,f={point:function(a,b){e=[a,b]}},g,h,j;a.invert=function(a){var e=b.scale(),f=b.translate(),g=(a[0]-f[0])/e,e=(a[1]-f[1])/e;return(e>=0.12&&e<0.234&&g>=-0.425&&g<-0.214?c:e>=0.166&&e<0.234&&g>=-0.214&&g<-0.115?d:b).invert(a)};a.stream=function(a){var e=b.stream(a),f=c.stream(a),g=d.stream(a);return{point:function(a,b){e.point(a,b);f.point(a,b);g.point(a,b)},sphere:function(){e.sphere();f.sphere();g.sphere()},lineStart:function(){e.lineStart();f.lineStart();
g.lineStart()},lineEnd:function(){e.lineEnd();f.lineEnd();g.lineEnd()},polygonStart:function(){e.polygonStart();f.polygonStart();g.polygonStart()},polygonEnd:function(){e.polygonEnd();f.polygonEnd();g.polygonEnd()}}};a.precision=function(e){if(!arguments.length)return b.precision();b.precision(e);c.precision(e);d.precision(e);return a};a.scale=function(e){if(!arguments.length)return b.scale();b.scale(e);c.scale(e*0.35);d.scale(e);return a.translate(b.translate())};a.translate=function(e){if(!arguments.length)return b.translate();
var i=b.scale(),m=+e[0],n=+e[1];g=b.translate(e).clipExtent([[m-0.455*i,n-0.238*i],[m+0.455*i,n+0.238*i]]).stream(f).point;h=c.translate([m-0.307*i,n+0.201*i]).clipExtent([[m-0.425*i+t,n+0.12*i+t],[m-0.214*i-t,n+0.234*i-t]]).stream(f).point;j=d.translate([m-0.205*i,n+0.212*i]).clipExtent([[m-0.214*i+t,n+0.166*i+t],[m-0.115*i-t,n+0.234*i-t]]).stream(f).point;return a};return a.scale(1070)};var xc,bc,Ja={point:M,lineStart:M,lineEnd:M,polygonStart:function(){bc=0;Ja.lineStart=xh},polygonEnd:function(){Ja.lineStart=
Ja.lineEnd=Ja.point=M;xc=xc+x(bc/2)}},yc,zc,Ac,Bc,Ni={point:function(a,b){a<yc&&(yc=a);a>Ac&&(Ac=a);b<zc&&(zc=b);b>Bc&&(Bc=b)},lineStart:M,lineEnd:M,polygonStart:M,polygonEnd:M},ja={point:Ua,lineStart:cf,lineEnd:df,polygonStart:function(){ja.lineStart=zh},polygonEnd:function(){ja.point=Ua;ja.lineStart=cf;ja.lineEnd=df}};i.geo.path=function(){function a(a){if(a){typeof c==="function"&&g.pointRadius(+c.apply(this,arguments));if(!h||!h.valid)h=f(g);i.geo.stream(a,h)}return g.result()}function b(){h=
null;return a}var c=4.5,d,e,f,g,h;a.area=function(a){xc=0;i.geo.stream(a,f(Ja));return xc};a.centroid=function(a){xa=ya=ma=ba=ca=W=Ha=Ia=na=0;i.geo.stream(a,f(ja));return na?[Ha/na,Ia/na]:W?[ba/W,ca/W]:ma?[xa/ma,ya/ma]:[NaN,NaN]};a.bounds=function(a){Ac=Bc=-(yc=zc=Infinity);i.geo.stream(a,f(Ni));return[[yc,zc],[Ac,Bc]]};a.projection=function(a){if(!arguments.length)return d;var c;if(d=a){if(!(c=a.stream)){var e=ef(function(b,c){return a([b*I,c*I])});c=function(a){return jf(e(a))}}}else c=P;f=c;return b()};
a.context=function(a){if(!arguments.length)return e;g=(e=a)==null?new yh:new Ah(a);typeof c!=="function"&&g.pointRadius(c);return b()};a.pointRadius=function(b){if(!arguments.length)return c;c=typeof b==="function"?b:(g.pointRadius(+b),+b);return a};return a.projection(i.geo.albersUsa()).context(null)};i.geo.transform=function(a){return{stream:function(b){var b=new gf(b),c;for(c in a)b[c]=a[c];return b}}};gf.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},
lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};i.geo.projection=Ka;i.geo.projectionMutator=ld;(i.geo.equirectangular=function(){return Ka(vb)}).raw=vb.invert=vb;i.geo.rotation=function(a){function b(b){b=a(b[0]*z,b[1]*z);return b[0]=b[0]*I,b[1]=b[1]*I,b}a=md(a[0]%360*z,a[1]*z,a.length>2?a[2]*z:0);b.invert=function(b){b=a.invert(b[0]*z,b[1]*z);return b[0]=b[0]*
I,b[1]=b[1]*I,b};return b};kf.invert=vb;i.geo.circle=function(){function a(){var a=typeof b==="function"?b.apply(this,arguments):b,c=md(-a[0]*z,-a[1]*z,0).invert,d=[];e(null,null,1,{point:function(a,b){d.push(a=c(a,b));a[0]=a[0]*I;a[1]=a[1]*I}});return{type:"Polygon",coordinates:[d]}}var b=[0,0],c,d=6,e;a.origin=function(c){if(!arguments.length)return b;b=c;return a};a.angle=function(b){if(!arguments.length)return c;e=nd((c=+b)*z,d*z);return a};a.precision=function(b){if(!arguments.length)return d;
e=nd(c*z,(d=+b)*z);return a};return a.angle(90)};i.geo.distance=function(a,b){var c=(b[0]-a[0])*z,d=a[1]*z,e=b[1]*z,f=Math.sin(c),c=Math.cos(c),g=Math.sin(d),d=Math.cos(d),h=Math.sin(e),e=Math.cos(e),j;return Math.atan2(Math.sqrt((j=e*f)*j+(j=d*h-g*e*c)*j),g*h+d*e*c)};i.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return i.range(Math.ceil(f/n)*n,e,n).map(s).concat(i.range(Math.ceil(k/o)*o,j,o).map(u)).concat(i.range(Math.ceil(d/l)*l,c,l).filter(function(a){return x(a%
n)>t}).map(q)).concat(i.range(Math.ceil(h/m)*m,g,m).filter(function(a){return x(a%o)>t}).map(r))}var c,d,e,f,g,h,j,k,l=10,m=l,n=90,o=360,q,r,s,u,w=2.5;a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[s(f).concat(u(j).slice(1),s(e).reverse().slice(1),u(k).reverse().slice(1))]}};a.extent=function(b){return!arguments.length?a.minorExtent():a.majorExtent(b).minorExtent(b)};a.majorExtent=function(b){if(!arguments.length)return[[f,
k],[e,j]];f=+b[0][0];e=+b[1][0];k=+b[0][1];j=+b[1][1];if(f>e){b=f;f=e;e=b}if(k>j){b=k;k=j;j=b}return a.precision(w)};a.minorExtent=function(b){if(!arguments.length)return[[d,h],[c,g]];d=+b[0][0];c=+b[1][0];h=+b[0][1];g=+b[1][1];if(d>c){b=d;d=c;c=b}if(h>g){b=h;h=g;g=b}return a.precision(w)};a.step=function(b){return!arguments.length?a.minorStep():a.majorStep(b).minorStep(b)};a.majorStep=function(b){if(!arguments.length)return[n,o];n=+b[0];o=+b[1];return a};a.minorStep=function(b){if(!arguments.length)return[l,
m];l=+b[0];m=+b[1];return a};a.precision=function(b){if(!arguments.length)return w;w=+b;q=pf(h,g,90);r=qf(d,c,w);s=pf(k,j,90);u=qf(f,e,w);return a};return a.majorExtent([[-180,-90+t],[180,90-t]]).minorExtent([[-180,-80-t],[180,80+t]])};i.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[c||b.apply(this,arguments),e||d.apply(this,arguments)]}}var b=od,c,d=pd,e;a.distance=function(){return i.geo.distance(c||b.apply(this,arguments),e||d.apply(this,arguments))};a.source=function(d){if(!arguments.length)return b;
b=d;c=typeof d==="function"?null:d;return a};a.target=function(b){if(!arguments.length)return d;d=b;e=typeof b==="function"?null:b;return a};a.precision=function(){return arguments.length?a:0};return a};i.geo.interpolate=function(a,b){var c=a[0]*z,d=a[1]*z,e=b[0]*z,f=b[1]*z,g=Math.cos(d),h=Math.sin(d),j=Math.cos(f),i=Math.sin(f),l=g*Math.cos(c),m=g*Math.sin(c),n=j*Math.cos(e),o=j*Math.sin(e),q=2*Math.asin(Math.sqrt(xe(f-d)+g*j*xe(e-c))),r=1/Math.sin(q),e=q?function(a){var b=Math.sin(a=a*q)*r,c=Math.sin(q-
a)*r,a=c*l+b*n,d=c*m+b*o,b=c*h+b*i;return[Math.atan2(d,a)*I,Math.atan2(b,Math.sqrt(a*a+d*d))*I]}:function(){return[c*I,d*I]};e.distance=q;return e};i.geo.length=function(a){Cc=0;i.geo.stream(a,qb);return Cc};var Cc,qb={sphere:M,point:M,lineStart:function(){function a(a,f){var g=Math.sin(f=f*z),h=Math.cos(f),j=x((a=a*z)-b),i=Math.cos(j);Cc=Cc+Math.atan2(Math.sqrt((j=h*Math.sin(j))*j+(j=d*g-c*h*i)*j),c*g+d*h*i);b=a;c=g;d=h}var b,c,d;qb.point=function(e,f){b=e*z;c=Math.sin(f=f*z);d=Math.cos(f);qb.point=
a};qb.lineEnd=function(){qb.point=qb.lineEnd=M}},lineEnd:M,polygonStart:M,polygonEnd:M},Hg=wb(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(i.geo.azimuthalEqualArea=function(){return Ka(Hg)}).raw=Hg;var Ig=wb(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},P);(i.geo.azimuthalEquidistant=function(){return Ka(Ig)}).raw=Ig;(i.geo.conicConformal=function(){return kd(rf)}).raw=rf;(i.geo.conicEquidistant=function(){return kd(sf)}).raw=sf;var Jg=wb(function(a){return 1/
a},Math.atan);(i.geo.gnomonic=function(){return Ka(Jg)}).raw=Jg;cc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-K]};(i.geo.mercator=function(){return tf(cc)}).raw=cc;var Kg=wb(function(){return 1},Math.asin);(i.geo.orthographic=function(){return Ka(Kg)}).raw=Kg;var Lg=wb(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(i.geo.stereographic=function(){return Ka(Lg)}).raw=Lg;qd.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-K]};(i.geo.transverseMercator=function(){var a=
tf(qd),b=a.center,c=a.rotate;a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])};a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])};return c([0,0,90])}).raw=qd;i.geom={};i.geom.hull=function(a){function b(a){if(a.length<3)return[];var b=H(c),g=H(d),h,j=a.length,i=[],l=[];for(h=0;h<j;h++)i.push([+b.call(this,a[h],h),+g.call(this,a[h],h),h]);i.sort(Bh);for(h=0;h<j;h++)l.push([i[h][0],-i[h][1]]);var b=uf(i),l=uf(l),g=l[0]===b[0],j=l[l.length-
1]===b[b.length-1],m=[];for(h=b.length-1;h>=0;--h)m.push(a[i[b[h]][2]]);for(h=+g;h<l.length-j;++h)m.push(a[i[l[h]][2]]);return m}var c=hb,d=xb;if(arguments.length)return b(a);b.x=function(a){return arguments.length?(c=a,b):c};b.y=function(a){return arguments.length?(d=a,b):d};return b};i.geom.polygon=function(a){Hb(a,Dc);return a};var Dc=i.geom.polygon.prototype=[];Dc.area=function(){for(var a=-1,b=this.length,c,d=this[b-1],e=0;++a<b;){c=d;d=this[a];e=e+(c[1]*d[0]-c[0]*d[1])}return e*0.5};Dc.centroid=
function(a){var b=-1,c=this.length,d=0,e=0,f,g=this[c-1],h;for(arguments.length||(a=-1/(6*this.area()));++b<c;){f=g;g=this[b];h=f[0]*g[1]-g[0]*f[1];d=d+(f[0]+g[0])*h;e=e+(f[1]+g[1])*h}return[d*a,e*a]};Dc.clip=function(a){for(var b,c=vf(a),d=-1,e=this.length-vf(this),f,g,h=this[e-1],j,i,l;++d<e;){b=a.slice();a.length=0;j=this[d];i=b[(g=b.length-c)-1];for(f=-1;++f<g;){l=b[f];if(rd(l,h,j)){rd(i,h,j)||a.push(sd(i,l,h,j));a.push(l)}else rd(i,h,j)&&a.push(sd(i,l,h,j));i=l}c&&a.push(a[0]);h=j}return a};
var lb,Va,jb,xf=[],vd,yb,Bf=[];zf.prototype.prepare=function(){for(var a=this.edges,b=a.length,c;b--;){c=a[b].edge;(!c.b||!c.a)&&a.splice(b,1)}a.sort(Af);return a.length};fc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};wd.prototype={insert:function(a,b){var c,d,e;if(a){b.P=a;if(b.N=a.N)a.N.P=b;a.N=b;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else if(this._){a=Df(this._);b.P=null;b.N=
a;a.P=a.L=b;c=a}else{b.P=b.N=null;this._=b;c=null}b.L=b.R=null;b.U=c;b.C=true;for(a=b;c&&c.C;){d=c.U;if(c===d.L)if((e=d.R)&&e.C){c.C=e.C=false;d.C=true;a=d}else{if(a===c.R){Ab(this,c);a=c;c=a.U}c.C=false;d.C=true;Bb(this,d)}else if((e=d.L)&&e.C){c.C=e.C=false;d.C=true;a=d}else{if(a===c.L){Bb(this,c);a=c;c=a.U}c.C=false;d.C=true;Ab(this,d)}c=a.U}this._.C=false},remove:function(a){if(a.N)a.N.P=a.P;if(a.P)a.P.N=a.N;a.N=a.P=null;var b=a.U,c=a.L,d=a.R,e,f;e=c?d?Df(d):c:d;b?b.L===a?b.L=e:b.R=e:this._=e;
if(c&&d){f=e.C;e.C=a.C;e.L=c;c.U=e;if(e!==d){b=e.U;e.U=a.U;a=e.R;b.L=a;e.R=d;d.U=e}else{e.U=b;b=e;a=e.R}}else{f=a.C;a=e}if(a)a.U=b;if(!f)if(a&&a.C)a.C=false;else{do{if(a===this._)break;if(a===b.L){a=b.R;if(a.C){a.C=false;b.C=true;Ab(this,b);a=b.R}if(a.L&&a.L.C||a.R&&a.R.C){if(!a.R||!a.R.C){a.L.C=false;a.C=true;Bb(this,a);a=b.R}a.C=b.C;b.C=a.R.C=false;Ab(this,b);a=this._;break}}else{a=b.L;if(a.C){a.C=false;b.C=true;Bb(this,b);a=b.L}if(a.L&&a.L.C||a.R&&a.R.C){if(!a.L||!a.L.C){a.R.C=false;a.C=true;Ab(this,
a);a=b.L}a.C=b.C;b.C=a.L.C=false;Bb(this,b);a=this._;break}}a.C=true;a=b;b=b.U}while(!a.C);if(a)a.C=false}}};i.geom.voronoi=function(a){function b(a){var b=Array(a.length),d=h[0][0],e=h[0][1],f=h[1][0],g=h[1][1];xd(c(a),h).cells.forEach(function(c,h){var i=c.edges,u=c.site;(b[h]=i.length?i.map(function(a){a=a.start();return[a.x,a.y]}):u.x>=d&&u.x<=f&&u.y>=e&&u.y<=g?[[d,g],[f,g],[f,e],[d,e]]:[]).point=a[h]});return b}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/t)*t,y:Math.round(g(a,
b)/t)*t,i:b}})}var d=hb,e=xb,f=d,g=e,h=Ec;if(a)return b(a);b.links=function(a){return xd(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})};b.triangles=function(a){var b=[];xd(c(a)).cells.forEach(function(c,d){for(var e=c.site,f=c.edges.sort(Af),g=-1,h=f.length,i,u=f[h-1].edge,u=u.l===e?u.r:u.l;++g<h;){i=u;u=f[g].edge;u=u.l===e?u.r:u.l;d<i.i&&(d<u.i&&(e.x-u.x)*(i.y-e.y)-(e.x-i.x)*(u.y-e.y)<0)&&b.push([a[d],a[i.i],a[u.i]])}});return b};b.x=function(a){return arguments.length?
(f=H(d=a),b):d};b.y=function(a){return arguments.length?(g=H(e=a),b):e};b.clipExtent=function(a){if(!arguments.length)return h===Ec?null:h;h=a==null?Ec:a;return b};b.size=function(a){return!arguments.length?h===Ec?null:h&&h[1]:b.clipExtent(a&&[[0,0],a])};return b};var Ec=[[-1E6,-1E6],[1E6,1E6]];i.geom.delaunay=function(a){return i.geom.voronoi().triangles(a)};i.geom.quadtree=function(a,b,c,d,e){function f(a){function f(a,b,c,d,e,g,h,j){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var k=a.x,l=a.y;if(k!=null){if(!(x(k-
c)+x(l-d)<0.01)){var n=a.point;a.x=a.y=a.point=null;i(a,n,k,l,e,g,h,j)}i(a,b,c,d,e,g,h,j)}else{a.x=c;a.y=d;a.point=b}}else i(a,b,c,d,e,g,h,j)}function i(a,b,c,d,e,g,h,j){var k=(e+h)*0.5,m=(g+j)*0.5,n=c>=k,p=d>=m,s=p<<1|n;a.leaf=false;a=a.nodes[s]||(a.nodes[s]=Ef());n?e=k:h=k;p?g=m:j=m;f(a,b,c,d,e,g,h,j)}var n,o=H(g),q=H(h),r,s,u,w,p,y,B,D;if(b!=null){p=b;y=c;B=d;D=e}else{B=D=-(p=y=Infinity);r=[];s=[];w=a.length;if(j)for(u=0;u<w;++u){n=a[u];if(n.x<p)p=n.x;if(n.y<y)y=n.y;if(n.x>B)B=n.x;if(n.y>D)D=n.y;
r.push(n.x);s.push(n.y)}else for(u=0;u<w;++u){var A=+o(n=a[u],u);n=+q(n,u);A<p&&(p=A);n<y&&(y=n);A>B&&(B=A);n>D&&(D=n);r.push(A);s.push(n)}}A=B-p;n=D-y;A>n?D=y+A:B=p+n;var t=Ef();t.add=function(a){f(t,a,+o(a,++u),+q(a,u),p,y,B,D)};t.visit=function(a){Cb(a,t,p,y,B,D)};t.find=function(a){var b=a[0],c=a[1],d=p,e=y,f=B,g=D,h=Infinity,j;(function oa(a,i,k,l,m){if(!(i>f||k>g||l<d||m<e)){if(n=a.point){var n,p=b-a.x,s=c-a.y,p=p*p+s*s;if(p<h){p=Math.sqrt(h=p);d=b-p;e=c-p;f=b+p;g=c+p;j=n}}n=a.nodes;for(var p=
(i+l)*0.5,s=(k+m)*0.5,r=(c>=s)<<1|b>=p,o=r+4;r<o;++r)if(a=n[r&3])switch(r&3){case 0:oa(a,i,k,p,s);break;case 1:oa(a,p,k,l,s);break;case 2:oa(a,i,s,p,m);break;case 3:oa(a,p,s,l,m)}}})(t,d,e,f,g);return j};u=-1;if(b==null){for(;++u<w;)f(t,a[u],r[u],s[u],p,y,B,D);--u}else a.forEach(t.add);r=s=a=n=null;return t}var g=hb,h=xb,j;if(j=arguments.length){g=Hh;h=Ih;if(j===3){e=c;d=b;c=b=0}return f(a)}f.x=function(a){return arguments.length?(g=a,f):g};f.y=function(a){return arguments.length?(h=a,f):h};f.extent=
function(a){if(!arguments.length)return b==null?null:[[b,c],[d,e]];if(a==null)b=c=d=e=null;else{b=+a[0][0];c=+a[0][1];d=+a[1][0];e=+a[1][1]}return f};f.size=function(a){if(!arguments.length)return b==null?null:[d-b,e-c];if(a==null)b=c=d=e=null;else{b=c=0;d=+a[0];e=+a[1]}return f};return f};i.interpolateRgb=yd;i.interpolateObject=Ff;i.interpolateNumber=za;i.interpolateString=Gf;var zd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ad=RegExp(zd.source,"g");i.interpolate=Wa;i.interpolators=[function(a,
b){var c=typeof b;return(c==="string"?Lb.has(b)||/^(#|rgb\(|hsl\()/.test(b)?yd:Gf:b instanceof Qa?yd:Array.isArray(b)?gc:c==="object"&&isNaN(b)?Ff:za)(a,b)}];i.interpolateArray=gc;var Mg=function(){return P},Oi=i.map({linear:Mg,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return Jh},cubic:function(){return Kh},sin:function(){return Mh},exp:function(){return Nh},circle:function(){return Oh},elastic:function(a,b){var c;arguments.length<2&&(b=0.45);if(arguments.length)c=
b/Z*Math.asin(1/a);else{a=1;c=b/4}return function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Z/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return Ph}}),Pi=i.map({"in":P,out:Hf,"in-out":If,"out-in":function(a){return If(Hf(a))}});i.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.slice(0,b):a,b=b>=0?a.slice(b+1):"in",c=Oi.get(c)||Mg,b=Pi.get(b)||P,d=b(c.apply(null,tg.call(arguments,1)));return function(a){return a<=0?0:a>=1?1:d(a)}};i.interpolateHcl=
function(a,b){var a=i.hcl(a),b=i.hcl(b),c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;if(isNaN(g)){g=0;d=isNaN(d)?b.c:d}if(isNaN(f)){f=0;c=isNaN(c)?b.h:c}else f>180?f=f-360:f<-180&&(f=f+360);return function(a){return Wc(c+f*a,d+g*a,e+h*a)+""}};i.interpolateHsl=function(a,b){var a=i.hsl(a),b=i.hsl(b),c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;if(isNaN(g)){g=0;d=isNaN(d)?b.s:d}if(isNaN(f)){f=0;c=isNaN(c)?b.h:c}else f>180?f=f-360:f<-180&&(f=f+360);return function(a){return Vc(c+f*a,d+g*a,e+h*a)+""}};i.interpolateLab=
function(a,b){var a=i.lab(a),b=i.lab(b),c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return Ce(c+f*a,d+g*a,e+h*a)+""}};i.interpolateRound=Jf;i.transform=function(a){var b=T.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(a){if(a!=null){b.setAttribute("transform",a);var d=b.transform.baseVal.consolidate()}return new Kf(d?d.matrix:Qi)})(a)};Kf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+
")"};var Qi={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=Mf;i.layout={};i.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Sh(a[c]));return b}};i.layout.chord=function(){function a(){var a={},c=[],o=i.range(g),q=[],r,s,u,w,p;d=[];e=[];r=0;for(w=-1;++w<g;){s=0;for(p=-1;++p<g;)s=s+f[w][p];c.push(s);q.push(i.range(g));r=r+s}j&&o.sort(function(a,b){return j(c[a],c[b])});k&&q.forEach(function(a,b){a.sort(function(a,c){return k(f[b][a],f[b][c])})});r=(Z-h*g)/r;
s=0;for(w=-1;++w<g;){u=s;for(p=-1;++p<g;){var y=o[w],B=q[y][p],D=f[y][B],A=s,t=s=s+D*r;a[y+"-"+B]={index:y,subindex:B,startAngle:A,endAngle:t,value:D}}e[y]={index:y,startAngle:u,endAngle:s,value:(s-u)/r};s=s+h}for(w=-1;++w<g;)for(p=w-1;++p<g;){o=a[w+"-"+p];q=a[p+"-"+w];if(o.value||q.value)d.push(o.value<q.value?{source:q,target:o}:{source:o,target:q})}l&&b()}function b(){d.sort(function(a,b){return l((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},d,e,f,g,h=0,j,k,l;
c.matrix=function(a){if(!arguments.length)return f;g=(f=a)&&f.length;d=e=null;return c};c.padding=function(a){if(!arguments.length)return h;h=a;d=e=null;return c};c.sortGroups=function(a){if(!arguments.length)return j;j=a;d=e=null;return c};c.sortSubgroups=function(a){if(!arguments.length)return k;k=a;d=null;return c};c.sortChords=function(a){if(!arguments.length)return l;l=a;d&&b();return c};c.chords=function(){d||a();return d};c.groups=function(){e||a();return e};return c};i.layout.force=function(){function a(a){return function(b,
c,d,e){if(b.point!==a){var d=b.cx-a.x,f=b.cy-a.y,c=e-c,e=d*d+f*f;if(c*c/o<e){if(e<m){c=b.charge/e;a.px=a.px-d*c;a.py=a.py-f*c}return true}if(b.point&&e&&e<m){c=b.pointCharge/e;a.px=a.px-d*c;a.py=a.py-f*c}}return!b.charge}}function b(a){a.px=i.event.x;a.py=i.event.y;c.resume()}var c={},d=i.dispatch("start","tick","end"),e=[1,1],f,g,h=0.9,j=Ri,k=Si,l=-30,m=Ti,n=0.1,o=0.64,q=[],r=[],s,u,w;c.tick=function(){if((g=g*0.99)<0.005){d.end({type:"end",alpha:g=0});return true}var b=q.length,c=r.length,f,j,k,
m,o,t,v;for(f=0;f<c;++f){j=r[f];k=j.source;m=j.target;t=m.x-k.x;v=m.y-k.y;if(o=t*t+v*v){o=g*u[f]*((o=Math.sqrt(o))-s[f])/o;t=t*o;v=v*o;m.x=m.x-t*(o=k.weight/(m.weight+k.weight));m.y=m.y-v*o;k.x=k.x+t*(o=1-o);k.y=k.y+v*o}}if(o=g*n){t=e[0]/2;v=e[1]/2;f=-1;if(o)for(;++f<b;){j=q[f];j.x=j.x+(t-j.x)*o;j.y=j.y+(v-j.y)*o}}if(l){Of(c=i.geom.quadtree(q),g,w);for(f=-1;++f<b;)(j=q[f]).fixed||c.visit(a(j))}for(f=-1;++f<b;){j=q[f];if(j.fixed){j.x=j.px;j.y=j.py}else{j.x=j.x-(j.px-(j.px=j.x))*h;j.y=j.y-(j.py-(j.py=
j.y))*h}}d.tick({type:"tick",alpha:g})};c.nodes=function(a){if(!arguments.length)return q;q=a;return c};c.links=function(a){if(!arguments.length)return r;r=a;return c};c.size=function(a){if(!arguments.length)return e;e=a;return c};c.linkDistance=function(a){if(!arguments.length)return j;j=typeof a==="function"?a:+a;return c};c.distance=c.linkDistance;c.linkStrength=function(a){if(!arguments.length)return k;k=typeof a==="function"?a:+a;return c};c.friction=function(a){if(!arguments.length)return h;
h=+a;return c};c.charge=function(a){if(!arguments.length)return l;l=typeof a==="function"?a:+a;return c};c.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(m);m=a*a;return c};c.gravity=function(a){if(!arguments.length)return n;n=+a;return c};c.theta=function(a){if(!arguments.length)return Math.sqrt(o);o=a*a;return c};c.alpha=function(a){if(!arguments.length)return g;a=+a;if(g)g=a>0?a:0;else if(a>0){d.start({type:"start",alpha:g=a});i.timer(c.tick)}return c};c.start=function(){function a(c,
e){if(!i){i=Array(d);for(h=0;h<d;++h)i[h]=[];for(h=0;h<f;++h){var g=r[h];i[g.source.index].push(g.target);i[g.target.index].push(g.source)}}for(var g=i[b],h=-1,j=g.length,k;++h<j;)if(!isNaN(k=g[h][c]))return k;return Math.random()*e}var b,d=q.length,f=r.length,g=e[0],h=e[1],i,m;for(b=0;b<d;++b){(m=q[b]).index=b;m.weight=0}for(b=0;b<f;++b){m=r[b];if(typeof m.source=="number")m.source=q[m.source];if(typeof m.target=="number")m.target=q[m.target];++m.source.weight;++m.target.weight}for(b=0;b<d;++b){m=
q[b];if(isNaN(m.x))m.x=a("x",g);if(isNaN(m.y))m.y=a("y",h);if(isNaN(m.px))m.px=m.x;if(isNaN(m.py))m.py=m.y}s=[];if(typeof j==="function")for(b=0;b<f;++b)s[b]=+j.call(this,r[b],b);else for(b=0;b<f;++b)s[b]=j;u=[];if(typeof k==="function")for(b=0;b<f;++b)u[b]=+k.call(this,r[b],b);else for(b=0;b<f;++b)u[b]=k;w=[];if(typeof l==="function")for(b=0;b<d;++b)w[b]=+l.call(this,q[b],b);else for(b=0;b<d;++b)w[b]=l;return c.resume()};c.resume=function(){return c.alpha(0.1)};c.stop=function(){return c.alpha(0)};
c.drag=function(){f||(f=i.behavior.drag().origin(P).on("dragstart.force",Th).on("drag.force",b).on("dragend.force",Uh));if(!arguments.length)return f;this.on("mouseover.force",Vh).on("mouseout.force",Wh).call(f)};return i.rebind(c,d,"on")};var Ri=20,Si=1,Ti=Infinity;i.layout.hierarchy=function(){function a(e){var f=[e],g=[],h;for(e.depth=0;(h=f.pop())!=null;){g.push(h);if((i=c.call(a,h,h.depth))&&(j=i.length)){for(var j,i,l;--j>=0;){f.push(l=i[j]);l.parent=h;l.depth=h.depth+1}if(d)h.value=0;h.children=
i}else{if(d)h.value=+d.call(a,h,h.depth)||0;delete h.children}}pa(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b);if(d&&(e=a.parent))e.value=e.value+a.value});return g}var b=$h,c=Yh,d=Zh;a.sort=function(c){if(!arguments.length)return b;b=c;return a};a.children=function(b){if(!arguments.length)return c;c=b;return a};a.value=function(b){if(!arguments.length)return d;d=b;return a};a.revalue=function(b){if(d){Eb(b,function(a){if(a.children)a.value=0});pa(b,function(b){var c;if(!b.children)b.value=
+d.call(a,b,b.depth)||0;if(c=b.parent)c.value=c.value+b.value})}return b};return a};i.layout.partition=function(){function a(b,c,d,e){var i=b.children;b.x=c;b.y=b.depth*e;b.dx=d;b.dy=e;if(i&&(m=i.length))for(var l=-1,m,n,d=b.value?d/b.value:0;++l<m;){a(n=i[l],c,b=n.value*d,e);c=c+b}}function b(a){var a=a.children,c=0;if(a&&(e=a.length))for(var d=-1,e;++d<e;)c=Math.max(c,b(a[d]));return 1+c}function c(c,g){var h=d.call(this,c,g);a(h[0],0,e[0],e[1]/b(h[0]));return h}var d=i.layout.hierarchy(),e=[1,
1];c.size=function(a){if(!arguments.length)return e;e=a;return c};return Db(c,d)};i.layout.pie=function(){function a(g){var h=g.length,j=g.map(function(c,d){return+b.call(a,c,d)}),k=+(typeof d==="function"?d.apply(this,arguments):d),l=(typeof e==="function"?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/h,+(typeof f==="function"?f.apply(this,arguments):f)),n=m*(l<0?-1:1),o=(l-h*n)/i.sum(j),h=i.range(h),q=[],r;c!=null&&h.sort(c===Ng?function(a,b){return j[b]-j[a]}:function(a,b){return c(g[a],
g[b])});h.forEach(function(a){q[a]={data:g[a],value:r=j[a],startAngle:k,endAngle:k=k+(r*o+n),padAngle:m}});return q}var b=Number,c=Ng,d=0,e=Z,f=0;a.value=function(c){if(!arguments.length)return b;b=c;return a};a.sort=function(b){if(!arguments.length)return c;c=b;return a};a.startAngle=function(b){if(!arguments.length)return d;d=b;return a};a.endAngle=function(b){if(!arguments.length)return e;e=b;return a};a.padAngle=function(b){if(!arguments.length)return f;f=b;return a};return a};var Ng={};i.layout.stack=
function(){function a(h,j){if(!(o=h.length))return h;var k=h.map(function(c,d){return b.call(a,c,d)}),l=k.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),m=c.call(a,l,j),k=i.permute(k,m),l=i.permute(l,m),m=d.call(a,l,j),n=k[0].length,o,q,r,s;for(r=0;r<n;++r){e.call(a,k[0][r],s=m[r],l[0][r][1]);for(q=1;q<o;++q)e.call(a,k[q][r],s=s+l[q-1][r][1],l[q][r][1])}return h}var b=P,c=Bd,d=Cd,e=ci,f=ai,g=bi;a.values=function(c){if(!arguments.length)return b;b=c;return a};a.order=
function(b){if(!arguments.length)return c;c=typeof b==="function"?b:Ui.get(b)||Bd;return a};a.offset=function(b){if(!arguments.length)return d;d=typeof b==="function"?b:Vi.get(b)||Cd;return a};a.x=function(b){if(!arguments.length)return f;f=b;return a};a.y=function(b){if(!arguments.length)return g;g=b;return a};a.out=function(b){if(!arguments.length)return e;e=b;return a};return a};var Ui=i.map({"inside-out":function(a){for(var b=a.length,c,d=a.map(di),e=a.map(ei),f=i.range(b).sort(function(a,b){return d[a]-
d[b]}),g=0,h=0,j=[],k=[],a=0;a<b;++a){c=f[a];if(g<h){g=g+e[c];j.push(c)}else{h=h+e[c];k.push(c)}}return k.reverse().concat(j)},reverse:function(a){return i.range(a.length).reverse()},"default":Bd}),Vi=i.map({silhouette:function(a){var b=a.length,c=a[0].length,d=[],e=0,f,g,h,j=[];for(g=0;g<c;++g){for(h=f=0;f<b;f++)h=h+a[f][g][1];h>e&&(e=h);d.push(h)}for(g=0;g<c;++g)j[g]=(e-d[g])/2;return j},wiggle:function(a){var b=a.length,c=a[0],d=c.length,e,f,g,h,j,i,l,m,n,o=[];o[0]=m=n=0;for(f=1;f<d;++f){for(h=
e=0;e<b;++e)h=h+a[e][f][1];j=e=0;for(l=c[f][0]-c[f-1][0];e<b;++e){g=0;for(i=(a[e][f][1]-a[e][f-1][1])/(2*l);g<e;++g)i=i+(a[g][f][1]-a[g][f-1][1])/l;j=j+i*a[e][f][1]}o[f]=m=m-(h?j/h*l:0);m<n&&(n=m)}for(f=0;f<d;++f)o[f]=o[f]-n;return o},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,f,g,h=[];for(f=0;f<c;++f){for(g=e=0;e<b;e++)g=g+a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]=a[e][f][1]/g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=0;return h},zero:Cd});i.layout.histogram=function(){function a(a,
g){for(var h=[],j=a.map(c,this),k=d.call(this,j,g),l=e.call(this,k,j,g),m,g=-1,n=j.length,o=l.length-1,q=b?1:1/n;++g<o;){m=h[g]=[];m.dx=l[g+1]-(m.x=l[g]);m.y=0}if(o>0)for(g=-1;++g<n;){m=j[g];if(m>=k[0]&&m<=k[1]){m=h[i.bisect(l,m,1,o)-1];m.y=m.y+q;m.push(a[g])}}return h}var b=true,c=Number,d=hi,e=gi;a.value=function(b){if(!arguments.length)return c;c=b;return a};a.range=function(b){if(!arguments.length)return d;d=H(b);return a};a.bins=function(b){if(!arguments.length)return e;e=typeof b==="number"?
function(a){return Pf(a,b)}:H(b);return a};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a};return a};i.layout.pack=function(){function a(a,g){var h=b.call(this,a,g),j=h[0],i=d[0],l=d[1],m=e==null?Math.sqrt:typeof e==="function"?e:function(){return e};j.x=j.y=0;pa(j,function(a){a.r=+m(a.value)});pa(j,Rf);if(c){var n=c*(e?1:Math.max(2*j.r/i,2*j.r/l))/2;pa(j,function(a){a.r=a.r+n});pa(j,Rf);pa(j,function(a){a.r=a.r-n})}Tf(j,i/2,l/2,e?1:1/Math.max(2*j.r/i,2*j.r/l));return h}var b=
i.layout.hierarchy().sort(ii),c=0,d=[1,1],e;a.size=function(b){if(!arguments.length)return d;d=b;return a};a.radius=function(b){if(!arguments.length)return e;e=b==null||typeof b==="function"?b:+b;return a};a.padding=function(b){if(!arguments.length)return c;c=+b;return a};return Db(a,b)};i.layout.tree=function(){function a(a,i){var l=e.call(this,a,i),m=l[0],n;n={A:null,children:[m]};for(var o=[n],q;(q=o.pop())!=null;)for(var r=q.children,s,u=0,w=r.length;u<w;++u)o.push((r[u]=s={_:r[u],parent:q,children:(s=
r[u].children)&&s.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:u}).a=s);n=n.children[0];pa(n,b);n.parent.m=-n.z;Eb(n,c);if(h)Eb(m,d);else{var p=m,y=m,t=m;Eb(m,function(a){a.x<p.x&&(p=a);a.x>y.x&&(y=a);a.depth>t.depth&&(t=a)});var v=f(p,y)/2-p.x,A=g[0]/(y.x+f(y,p)/2+v),z=g[1]/(t.depth||1);Eb(m,function(a){a.x=(a.x+v)*A;a.y=a.depth*z})}return l}function b(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){for(var e=0,g=0,h=a.children,i=h.length,s;--i>=0;){s=h[i];s.z=s.z+
e;s.m=s.m+e;e=e+(s.s+(g=g+s.c))}b=(b[0].z+b[b.length-1].z)/2;if(d){a.z=d.z+f(a._,d._);a.m=a.z-b}else a.z=b}else if(d)a.z=d.z+f(a._,d._);b=a.parent;c=a.parent.A||c[0];if(d){g=e=a;h=e.parent.children[0];i=e.m;s=g.m;for(var u=d.m,w=h.m,p;d=Fd(d),e=Ed(e),d&&e;){h=Ed(h);g=Fd(g);g.a=a;p=d.z+u-e.z-i+f(d._,e._);if(p>0){var y=d.a.parent===a.parent?d.a:c,t=a,v=p,A=v/(t.i-y.i);t.c=t.c-A;t.s=t.s+v;y.c=y.c+A;t.z=t.z+v;t.m=t.m+v;i=i+p;s=s+p}u=u+d.m;i=i+e.m;w=w+h.m;s=s+g.m}if(d&&!Fd(g)){g.t=d;g.m=g.m+(u-s)}if(e&&
!Ed(h)){h.t=e;h.m=h.m+(i-w);c=a}}b.A=c}function c(a){a._.x=a.z+a.parent.m;a.m=a.m+a.parent.m}function d(a){a.x=a.x*g[0];a.y=a.depth*g[1]}var e=i.layout.hierarchy().sort(null).value(null),f=Uf,g=[1,1],h=null;a.separation=function(b){if(!arguments.length)return f;f=b;return a};a.size=function(b){if(!arguments.length)return h?null:g;h=(g=b)==null?d:null;return a};a.nodeSize=function(b){if(!arguments.length)return h?g:null;h=(g=b)==null?null:d;return a};return Db(a,e)};i.layout.cluster=function(){function a(a,
g){var h=b.call(this,a,g),j=h[0],k,l=0;pa(j,function(a){var b=a.children;if(b&&b.length){a.x=b.reduce(function(a,b){return a+b.x},0)/b.length;a.y=1+i.max(b,function(a){return a.y})}else{a.x=k?l=l+c(a,k):0;a.y=0;k=a}});var m=Vf(j),n=Wf(j),o=m.x-c(m,n)/2,q=n.x+c(n,m)/2;pa(j,e?function(a){a.x=(a.x-j.x)*d[0];a.y=(j.y-a.y)*d[1]}:function(a){a.x=(a.x-o)/(q-o)*d[0];a.y=(1-(j.y?a.y/j.y:1))*d[1]});return h}var b=i.layout.hierarchy().sort(null).value(null),c=Uf,d=[1,1],e=false;a.separation=function(b){if(!arguments.length)return c;
c=b;return a};a.size=function(b){if(!arguments.length)return e?null:d;e=(d=b)==null;return a};a.nodeSize=function(b){if(!arguments.length)return e?d:null;e=(d=b)!=null;return a};return Db(a,b)};i.layout.treemap=function(){function a(a,b){for(var c=-1,d=a.length,e,f;++c<d;){f=(e=a[c]).value*(b<0?0:b);e.area=isNaN(f)||f<=0?0:f}}function b(c){var e=c.children;if(e&&e.length){var f=k(c),g=[],h=e.slice(),i=Infinity,j,l=n==="slice"?f.dx:n==="dice"?f.dy:n==="slice-dice"?c.depth&1?f.dy:f.dx:Math.min(f.dx,
f.dy);a(h,f.dx*f.dy/c.value);for(g.area=0;(c=h.length)>0;){g.push(c=h[c-1]);g.area=g.area+c.area;if(!(c=n!=="squarify")){j=l;for(var c=g.area,m=void 0,t=0,v=Infinity,z=-1,x=g.length;++z<x;)if(m=g[z].area){m<v&&(v=m);m>t&&(t=m)}c=c*c;j=j*j;c=(j=c?Math.max(j*t*o/c,c/(j*v*o)):Infinity)<=i}if(c){h.pop();i=j}else{g.area=g.area-g.pop().area;d(g,l,f,false);l=Math.min(f.dx,f.dy);g.length=g.area=0;i=Infinity}}if(g.length){d(g,l,f,true);g.length=g.area=0}e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var f=
k(b),g=e.slice(),h=[];a(g,f.dx*f.dy/b.value);for(h.area=0;b=g.pop();){h.push(b);h.area=h.area+b.area;if(b.z!=null){d(h,b.z?f.dx:f.dy,f,!g.length);h.length=h.area=0}}e.forEach(c)}}function d(a,b,c,d){var e=-1,f=a.length,h=c.x,i=c.y,j=b?g(a.area/b):0,k;if(b==c.dx){if(d||j>c.dy)j=c.dy;for(;++e<f;){k=a[e];k.x=h;k.y=i;k.dy=j;h=h+(k.dx=Math.min(c.x+c.dx-h,j?g(k.area/j):0))}k.z=true;k.dx=k.dx+(c.x+c.dx-h);c.y=c.y+j;c.dy=c.dy-j}else{if(d||j>c.dx)j=c.dx;for(;++e<f;){k=a[e];k.x=h;k.y=i;k.dx=j;i=i+(k.dy=Math.min(c.y+
c.dy-i,j?g(k.area/j):0))}k.z=false;k.dy=k.dy+(c.y+c.dy-i);c.x=c.x+j;c.dx=c.dx-j}}function e(d){var d=m||f(d),e=d[0];e.x=0;e.y=0;e.dx=h[0];e.dy=h[1];m&&f.revalue(e);a([e],e.dx*e.dy/e.value);(m?c:b)(e);l&&(m=d);return d}var f=i.layout.hierarchy(),g=Math.round,h=[1,1],j=null,k=Gd,l=false,m,n="squarify",o=0.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return h;h=a;return e};e.padding=function(a){function b(c){var d=a.call(e,c,c.depth);return d==null?Gd(c):Xf(c,typeof d==="number"?[d,d,d,
d]:d)}function c(b){return Xf(b,a)}if(!arguments.length)return j;var d;k=(j=a)==null?Gd:(d=typeof a)==="function"?b:d==="number"?(a=[a,a,a,a],c):c;return e};e.round=function(a){if(!arguments.length)return g!=Number;g=a?Math.round:Number;return e};e.sticky=function(a){if(!arguments.length)return l;l=a;m=null;return e};e.ratio=function(a){if(!arguments.length)return o;o=a;return e};e.mode=function(a){if(!arguments.length)return n;n=a+"";return e};return Db(e,f)};i.random={normal:function(a,b){var c=
arguments.length;c<2&&(b=1);c<1&&(a=0);return function(){var c,e;do{c=Math.random()*2-1;e=Math.random()*2-1;e=c*c+e*e}while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=i.random.normal.apply(i,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=i.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b=b+Math.random();return b}}};i.scale={};var mi={floor:P,ceil:P};i.scale.linear=
function(){return Zf([0,1],[0,1],Wa,false)};var oi={s:1,g:1,p:1,r:1,e:1};i.scale.log=function(){return ag(i.scale.linear().domain([0,1]),10,true,[1,10])};var bg=i.format(".0e"),pi={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};i.scale.pow=function(){return cg(i.scale.linear(),1,[0,1])};i.scale.sqrt=function(){return i.scale.pow().exponent(0.5)};i.scale.ordinal=function(){return dg([],{t:"range",a:[[]]})};i.scale.category10=function(){return i.scale.ordinal().range(Wi)};
i.scale.category20=function(){return i.scale.ordinal().range(Xi)};i.scale.category20b=function(){return i.scale.ordinal().range(Yi)};i.scale.category20c=function(){return i.scale.ordinal().range(Zi)};var Wi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Kb),Xi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Kb),Yi=[3750777,5395619,
7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Kb),Zi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Kb);i.scale.quantile=function(){return eg([],[])};i.scale.quantize=function(){return fg(0,1,[0,1])};i.scale.threshold=function(){return gg([0.5],[0,1])};i.scale.identity=
function(){return hg([0,1])};i.svg={};i.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),l=Math.max(0,+d.apply(this,arguments)),m=g.apply(this,arguments)-K,n=h.apply(this,arguments)-K,o=Math.abs(n-m),q=m>n?0:1;if(l<a){r=l;l=a;a=r}if(o>=Hi)return b(l,q)+(a?b(a,1-q):"")+"Z";var r,s,u,w,p=r=0,t,v,D,A,z,o=[];if(w=(+i.apply(this,arguments)||0)/2){u=f===Fc?Math.sqrt(a*a+l*l):+f.apply(this,arguments);q||(p=p*-1);l&&(p=Ga(u/l*Math.sin(w)));a&&(r=Ga(u/a*Math.sin(w)))}if(l){u=l*Math.cos(m+
p);w=l*Math.sin(m+p);t=l*Math.cos(n-p);v=l*Math.sin(n-p);s=Math.abs(n-m-2*p)<=C?0:1;if(p&&((u-t)*w-(w-v)*u>0?0:1)===q^s){t=(m+n)/2;u=l*Math.cos(t);w=l*Math.sin(t);t=v=null}}else u=w=0;if(a){p=a*Math.cos(n-r);D=a*Math.sin(n-r);A=a*Math.cos(m+r);z=a*Math.sin(m+r);var x=Math.abs(m-n+2*r)<=C?0:1;if(r&&((p-A)*D-(D-z)*p>0?0:1)===1-q^x){A=(m+n)/2;p=a*Math.cos(A);D=a*Math.sin(A);A=z=null}}else p=D=0;if((r=Math.min(Math.abs(l-a)/2,+e.apply(this,arguments)))>0.001){s=a<l^q?0:1;var x=A==null?[p,D]:t==null?[u,
w]:sd([u,w],[A,z],[t,v],[p,D]),m=u-x[0],n=w-x[1],E=t-x[0],G=v-x[1],m=1/Math.sin(Math.acos((m*E+n*G)/(Math.sqrt(m*m+n*n)*Math.sqrt(E*E+G*G)))/2),x=Math.sqrt(x[0]*x[0]+x[1]*x[1]);if(t!=null){n=Math.min(r,(l-x)/(m+1));E=lc(A==null?[p,D]:[A,z],[u,w],l,n,q);G=lc([t,v],[p,D],l,n,q);r===n?o.push("M",E[0],"A",n,",",n," 0 0,",s," ",E[1],"A",l,",",l," 0 ",1-q^((E[1][0]-G[1][0])*E[1][1]-(E[1][1]-G[1][1])*E[1][0]>0?0:1),",",q," ",G[1],"A",n,",",n," 0 0,",s," ",G[0]):o.push("M",E[0],"A",n,",",n," 0 1,",s," ",
G[0])}else o.push("M",u,",",w);if(A!=null){l=Math.min(r,(a-x)/(m-1));A=lc([u,w],[A,z],a,-l,q);t=lc([p,D],t==null?[u,w]:[t,v],a,-l,q);r===l?o.push("L",t[0],"A",l,",",l," 0 0,",s," ",t[1],"A",a,",",a," 0 ",q^((t[1][0]-A[1][0])*t[1][1]-(t[1][1]-A[1][1])*t[1][0]>0?0:1),",",1-q," ",A[1],"A",l,",",l," 0 0,",s," ",A[0]):o.push("L",t[0],"A",l,",",l," 0 0,",s," ",A[0])}else o.push("L",p,",",D)}else{o.push("M",u,",",w);t!=null&&o.push("A",l,",",l," 0 ",s,",",q," ",t,",",v);o.push("L",p,",",D);A!=null&&o.push("A",
a,",",a," 0 ",x,",",1-q," ",A,",",z)}o.push("Z");return o.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=ri,d=si,e=qi,f=Fc,g=ig,h=jg,i=ti;a.innerRadius=function(b){if(!arguments.length)return c;c=H(b);return a};a.outerRadius=function(b){if(!arguments.length)return d;d=H(b);return a};a.cornerRadius=function(b){if(!arguments.length)return e;e=H(b);return a};a.padRadius=function(b){if(!arguments.length)return f;f=b==Fc?Fc:H(b);return a};a.startAngle=
function(b){if(!arguments.length)return g;g=H(b);return a};a.endAngle=function(b){if(!arguments.length)return h;h=H(b);return a};a.padAngle=function(b){if(!arguments.length)return i;i=H(b);return a};a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-K;return[Math.cos(b)*a,Math.sin(b)*a]};return a};var Fc="auto";i.svg.line=function(){return kg(P)};var Jd=i.map({linear:$,"linear-closed":function(a){return $(a)+
"Z"},step:function(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);c>1&&e.push("H",d[0]);return e.join("")},"step-before":Kd,"step-after":Ld,basis:lg,"basis-open":function(a){if(a.length<4)return $(a);for(var b=[],c=-1,d=a.length,e,f=[0],g=[0];++c<3;){e=a[c];f.push(e[0]);g.push(e[1])}b.push(fa(Ma,f)+","+fa(Ma,g));for(--c;++c<d;){e=a[c];f.shift();f.push(e[0]);g.shift();g.push(e[1]);Nd(b,f,g)}return b.join("")},"basis-closed":function(a){for(var b,
c=-1,d=a.length,e=d+4,f,g=[],h=[];++c<4;){f=a[c%d];g.push(f[0]);h.push(f[1])}b=[fa(Ma,g),",",fa(Ma,h)];for(--c;++c<e;){f=a[c%d];g.shift();g.push(f[0]);h.shift();h.push(f[1]);Nd(b,g,h)}return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1,i,k;++h<=c;){i=a[h];k=h/c;i[0]=b*i[0]+(1-b)*(d+k*f);i[1]=b*i[1]+(1-b)*(e+k*g)}return lg(a)},cardinal:function(a,b){return a.length<3?$(a):a[0]+mc(a,Md(a,b))},"cardinal-open":function(a,b){return a.length<
4?$(a):a[1]+mc(a.slice(1,-1),Md(a,b))},"cardinal-closed":function(a,b){return a.length<3?$(a):a[0]+mc((a.push(a[0]),a),Md([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(a.length<3)a=$(a);else{var b=a[0],c=[],d,e,f,g;d=0;e=a.length-1;var h=[];f=a[1];for(g=h[0]=Od(a[0],f);++d<e;)h[d]=(g+(g=Od(f,f=a[d+1])))/2;h[d]=g;for(var i=-1,k=a.length-1;++i<k;){d=Od(a[i],a[i+1]);if(x(d)<t)h[i]=h[i+1]=0;else{e=h[i]/d;f=h[i+1]/d;g=e*e+f*f;if(g>9){g=d*3/Math.sqrt(g);h[i]=g*e;h[i+1]=g*f}}}for(i=-1;++i<=
k;){g=(a[Math.min(k,i+1)][0]-a[Math.max(0,i-1)][0])/(6*(1+h[i]*h[i]));c.push([g||0,h[i]*g||0])}a=b+mc(a,c)}return a}});Jd.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var mg=[0,2/3,1/3,0],ng=[0,1/3,2/3,0],Ma=[0,1/6,2/3,1/6];i.svg.line.radial=function(){var a=kg(og);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};Kd.reverse=Ld;Ld.reverse=Kd;i.svg.area=function(){return pg(P)};i.svg.area.radial=function(){var a=pg(og);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=
a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};i.svg.chord=function(){function a(a,e){var f=b(this,c,a,e),g=b(this,d,a,e);return"M"+f.p0+("A"+f.r+","+f.r+" 0 "+ +(f.a1-f.a0>C)+",1 "+f.p1)+(f.a0==g.a0&&f.a1==g.a1?"Q 0,0 "+f.p0:"Q 0,0 "+g.p0+("A"+g.r+","+g.r+" 0 "+ +(g.a1-g.a0>C)+",1 "+g.p1)+("Q 0,0 "+f.p0))+"Z"}function b(a,b,c,d){var i=b.call(a,c,d),b=e.call(a,i,d),c=f.call(a,i,d)-K,a=g.call(a,i,d)-K;return{r:b,a0:c,a1:a,p0:[b*Math.cos(c),
b*Math.sin(c)],p1:[b*Math.cos(a),b*Math.sin(a)]}}var c=od,d=pd,e=ui,f=ig,g=jg;a.radius=function(b){if(!arguments.length)return e;e=H(b);return a};a.source=function(b){if(!arguments.length)return c;c=H(b);return a};a.target=function(b){if(!arguments.length)return d;d=H(b);return a};a.startAngle=function(b){if(!arguments.length)return f;f=H(b);return a};a.endAngle=function(b){if(!arguments.length)return g;g=H(b);return a};return a};i.svg.diagonal=function(){function a(a,f){var g=b.call(this,a,f),h=
c.call(this,a,f),i=(g.y+h.y)/2,g=[g,{x:g.x,y:i},{x:h.x,y:i},h],g=g.map(d);return"M"+g[0]+"C"+g[1]+" "+g[2]+" "+g[3]}var b=od,c=pd,d=qg;a.source=function(c){if(!arguments.length)return b;b=H(c);return a};a.target=function(b){if(!arguments.length)return c;c=H(b);return a};a.projection=function(b){if(!arguments.length)return d;d=b;return a};return a};i.svg.diagonal.radial=function(){var a=i.svg.diagonal(),b=qg,c=a.projection;a.projection=function(a){var e;if(arguments.length){var f=b=a;e=c(function(){var a=
f.apply(this,arguments),b=a[0],a=a[1]-K;return[b*Math.cos(a),b*Math.sin(a)]})}else e=b;return e};return a};i.svg.symbol=function(){function a(a,e){return(Og.get(b.call(this,a,e))||rg)(c.call(this,a,e))}var b=wi,c=vi;a.type=function(c){if(!arguments.length)return b;b=H(c);return a};a.size=function(b){if(!arguments.length)return c;c=H(b);return a};return a};var Og=i.map({circle:rg,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+
-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){var a=Math.sqrt(a/(2*Pg)),b=a*Pg;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){var a=Math.sqrt(a/Gc),b=a*Gc/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){var a=Math.sqrt(a/Gc),b=a*Gc/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});i.svg.symbolTypes=Og.keys();var Gc=Math.sqrt(3),Pg=Math.tan(30*z);E.transition=
function(a){for(var b=Ya||++Qg,a=Qd(a),c=[],d,e,f=Hc||{time:Date.now(),ease:Lh,delay:0,duration:250},g=-1,h=this.length;++g<h;){c.push(d=[]);for(var i=this[g],k=-1,l=i.length;++k<l;){(e=i[k])&&nc(e,k,a,b,f);d.push(e)}}return Fb(c,a,b)};E.interrupt=function(a){return this.each(a==null?rc:sg(Qd(a)))};var rc=sg(Qd()),N=[],Qg=0,Ya,Hc;N.call=E.call;N.empty=E.empty;N.node=E.node;N.size=E.size;i.transition=function(a,b){return a&&a.transition?Ya?a.transition(b):a:i.selection().transition(a)};i.transition.prototype=
N;N.select=function(a){for(var b=this.id,c=this.namespace,d=[],e,f,g,a=Oc(a),h=-1,i=this.length;++h<i;){d.push(e=[]);for(var k=this[h],l=-1,m=k.length;++l<m;)if((g=k[l])&&(f=a.call(g,g.__data__,l,h))){if("__data__"in g)f.__data__=g.__data__;nc(f,l,c,b,g[c][b]);e.push(f)}else e.push(null)}return Fb(d,c,b)};N.selectAll=function(a){for(var b=this.id,c=this.namespace,d=[],e,f,g,h,a=ke(a),i=-1,k=this.length;++i<k;)for(var l=this[i],m=-1,n=l.length;++m<n;)if(e=l[m]){h=e[c][b];f=a.call(e,e.__data__,m,i);
d.push(e=[]);for(var o=-1,q=f.length;++o<q;){(g=f[o])&&nc(g,o,c,b,h);e.push(g)}}return Fb(d,c,b)};N.filter=function(a){var b=[],c,d,e;typeof a!=="function"&&(a=se(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);d=this[f];for(var h=0,i=d.length;h<i;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return Fb(b,this.namespace,this.id)};N.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):ta(this,b==null?function(b){b[d][c].tween.remove(a)}:
function(e){e[d][c].tween.set(a,b)})};N.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return a==null?c:(a=a+"",function(){var b=this.getAttribute(h),c;return b!==a&&(c=g(b,a),function(a){this.setAttribute(h,c(a))})})}function f(a){return a==null?d:(a=a+"",function(){var b=this.getAttributeNS(h.space,h.local),c;return b!==a&&(c=g(b,a),function(a){this.setAttributeNS(h.space,h.local,c(a))})})}if(arguments.length<2){for(b in a)this.attr(b,
a[b]);return this}var g=a=="transform"?Mf:Wa,h=i.ns.qualify(a);return Pd(this,"attr."+a,b,h.local?f:e)};N.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=i.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)};N.style=function(a,b,c){function d(){this.style.removeProperty(a)}
var e=arguments.length;if(e<3){if(typeof a!=="string"){e<2&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return Pd(this,"style."+a,b,function(b){return b==null?d:(b=b+"",function(){var d=Ca(this).getComputedStyle(this,null).getPropertyValue(a),e;return d!==b&&(e=Wa(d,b),function(b){this.style.setProperty(a,e(b),c)})})})};N.styleTween=function(a,b,c){arguments.length<3&&(c="");return this.tween("style."+a,function(d,e){var f=b.call(this,d,e,Ca(this).getComputedStyle(this,null).getPropertyValue(a));
return f&&function(b){this.style.setProperty(a,f(b),c)}})};N.text=function(a){return Pd(this,"text",a,xi)};N.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})};N.ease=function(a){var b=this.id,c=this.namespace;if(arguments.length<1)return this.node()[c][b].ease;typeof a!=="function"&&(a=i.ease.apply(i,arguments));return ta(this,function(d){d[c][b].ease=a})};N.delay=function(a){var b=this.id,c=this.namespace;
return arguments.length<1?this.node()[c][b].delay:ta(this,typeof a==="function"?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))};N.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:ta(this,typeof a==="function"?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))};N.each=function(a,b){var c=this.id,d=this.namespace;if(arguments.length<
2){var e=Hc,f=Ya;try{Ya=c;ta(this,function(b,e,f){Hc=b[d][c];a.call(b,b.__data__,e,f)})}finally{Hc=e;Ya=f}}else ta(this,function(e){e=e[d][c];(e.event||(e.event=i.dispatch("start","end","interrupt"))).on(a,b)});return this};N.transition=function(){for(var a=this.id,b=++Qg,c=this.namespace,d=[],e,f,g,h,i=0,k=this.length;i<k;i++){d.push(e=[]);f=this[i];for(var l=0,m=f.length;l<m;l++){if(g=f[l]){h=g[c][a];nc(g,l,c,b,{time:h.time,ease:h.ease,delay:h.delay+h.duration,duration:h.duration})}e.push(g)}}return Fb(d,
c,b)};i.svg.axis=function(){function a(a){a.each(function(){var a=i.select(this),k=this.__chart__||b,n=this.__chart__=b.copy(),o=h==null?n.ticks?n.ticks.apply(n,g):n.domain():h,q=j==null?n.tickFormat?n.tickFormat.apply(n,g):P:j,r=a.selectAll(".tick").data(o,n),o=r.enter().insert("g",".domain").attr("class","tick").style("opacity",t),s=i.transition(r.exit()).style("opacity",t).remove(),u=i.transition(r.order()).style("opacity",1),w=Math.max(d,0)+f,p=hc(n),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class",
"domain"),i.transition(a));o.append("line");o.append("text");var v=o.select("line"),B=u.select("line"),r=r.select("text").text(q),z=o.select("text"),A=u.select("text"),x=c==="top"||c==="left"?-1:1,C,E,G,F;if(c==="bottom"||c==="top"){q=yi;C="x";G="y";E="x2";F="y2";r.attr("dy",x<0?"0em":".71em").style("text-anchor","middle");a.attr("d","M"+p[0]+","+x*e+"V0H"+p[1]+"V"+x*e)}else{q=zi;C="y";G="x";E="y2";F="x2";r.attr("dy",".32em").style("text-anchor",x<0?"end":"start");a.attr("d","M"+x*e+","+p[0]+"H0V"+
p[1]+"H"+x*e)}v.attr(F,x*d);z.attr(G,x*w);B.attr(E,0).attr(F,x*d);A.attr(C,0).attr(G,x*w);if(n.rangeBand)var H=n,I=H.rangeBand()/2,k=n=function(a){return H(a)+I};else k.rangeBand?k=n:s.call(q,n,k);o.call(q,k,n);u.call(q,n,n)})}var b=i.scale.linear(),c=Rg,d=6,e=6,f=3,g=[10],h=null,j;a.scale=function(c){if(!arguments.length)return b;b=c;return a};a.orient=function(b){if(!arguments.length)return c;c=b in $i?b+"":Rg;return a};a.ticks=function(){if(!arguments.length)return g;g=arguments;return a};a.tickValues=
function(b){if(!arguments.length)return h;h=b;return a};a.tickFormat=function(b){if(!arguments.length)return j;j=b;return a};a.tickSize=function(b){var c=arguments.length;if(!c)return d;d=+b;e=+arguments[c-1];return a};a.innerTickSize=function(b){if(!arguments.length)return d;d=+b;return a};a.outerTickSize=function(b){if(!arguments.length)return e;e=+b;return a};a.tickPadding=function(b){if(!arguments.length)return f;f=+b;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};
var Rg="bottom",$i={top:1,right:1,bottom:1,left:1};i.svg.brush=function(){function a(f){f.each(function(){var f=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),j=f.selectAll(".background").data([0]);j.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");f.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor",
"move");var k=f.selectAll(".resize").data(q,P);k.exit().remove();k.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return aj[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");k.style("display",a.empty()?"none":null);f=i.transition(f);j=i.transition(j);if(g){k=hc(g);j.attr("x",k[0]).attr("width",k[1]-k[0]);c(f)}if(h){k=
hc(h);j.attr("y",k[0]).attr("height",k[1]-k[0]);d(f)}b(f)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+j[+/e$/.test(a)]+","+k[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",j[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",j[1]-j[0])}function d(a){a.select(".extent").attr("y",k[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1]-k[0])}function e(){function e(){var a=i.mouse(q),f=false;if(H){a[0]=a[0]+H[0];a[1]=a[1]+H[1]}if(!C)if(i.event.altKey){G||
(G=[(j[0]+j[1])/2,(k[0]+k[1])/2]);F[0]=j[+(a[0]<G[0])];F[1]=k[+(a[1]<G[1])]}else G=null;if(A&&s(a,g,0)){c(v);f=true}if(z&&s(a,h,1)){d(v);f=true}if(f){b(v);t({type:"brush",mode:C?"move":"resize"})}}function s(a,b,c){var d=hc(b),b=d[0],e=d[1],d=F[c],f=c?k:j,g=f[1]-f[0];if(C){b=b-d;e=e-(g+d)}a=(c?o:n)?Math.max(b,Math.min(e,a[c])):a[c];if(C)b=(a=a+d)+g;else{G&&(d=Math.max(b,Math.min(e,2*G[c]-a)));if(d<a){b=a;a=d}else b=d}if(f[0]!=a||f[1]!=b){c?m=null:l=null;f[0]=a;f[1]=b;return true}}function u(){e();
v.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);i.select("body").style("cursor",null);I.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);E();t({type:"brushend"})}var q=this,p=i.select(i.event.target),t=f.of(q,arguments),v=i.select(q),x=p.datum(),A=!/^(n|s)$/.test(x)&&g,z=!/^(e|w)$/.test(x)&&h,C=p.classed("extent"),E=Jb(q),G,F=i.mouse(q),H,I=i.select(Ca(q)).on("keydown.brush",
function(){if(i.event.keyCode==32){if(!C){G=null;F[0]=F[0]-j[1];F[1]=F[1]-k[1];C=2}Da()}}).on("keyup.brush",function(){if(i.event.keyCode==32&&C==2){F[0]=F[0]+j[1];F[1]=F[1]+k[1];C=0;Da()}});if(i.event.changedTouches)I.on("touchmove.brush",e).on("touchend.brush",u);else I.on("mousemove.brush",e).on("mouseup.brush",u);v.interrupt().selectAll("*").interrupt();if(C){F[0]=j[0]-F[0];F[1]=k[0]-F[1]}else if(x){var K=+/w$/.test(x),x=+/^n/.test(x);H=[j[1-K]-F[0],k[1-x]-F[1]];F[0]=j[K];F[1]=k[x]}else i.event.altKey&&
(G=F.slice());v.style("pointer-events","none").selectAll(".resize").style("display",null);i.select("body").style("cursor",p.style("cursor"));t({type:"brushstart"});e()}var f=Nc(a,"brushstart","brush","brushend"),g=null,h=null,j=[0,0],k=[0,0],l,m,n=true,o=true,q=Zd[0];a.event=function(a){a.each(function(){var a=f.of(this,arguments),b={x:j,y:k,i:l,j:m},c=this.__chart__||b;this.__chart__=b;if(Ya)i.select(this).transition().each("start.brush",function(){l=c.i;m=c.j;j=c.x;k=c.y;a({type:"brushstart"})}).tween("brush:brush",
function(){var c=gc(j,b.x),d=gc(k,b.y);l=m=null;return function(e){j=b.x=c(e);k=b.y=d(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){l=b.i;m=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})});else{a({type:"brushstart"});a({type:"brush",mode:"resize"});a({type:"brushend"})}})};a.x=function(b){if(!arguments.length)return g;g=b;q=Zd[!g<<1|!h];return a};a.y=function(b){if(!arguments.length)return h;h=b;q=Zd[!g<<1|!h];return a};a.clamp=function(b){if(!arguments.length)return g&&
h?[n,o]:g?n:h?o:null;if(g&&h){n=!!b[0];o=!!b[1]}else g?n=!!b:h&&(o=!!b);return a};a.extent=function(b){var c,d,e,f,i;if(!arguments.length){if(g)if(l){c=l[0];d=l[1]}else{c=j[0];d=j[1];if(g.invert){c=g.invert(c);d=g.invert(d)}if(d<c){i=c;c=d;d=i}}if(h)if(m){e=m[0];f=m[1]}else{e=k[0];f=k[1];if(h.invert){e=h.invert(e);f=h.invert(f)}if(f<e){i=e;e=f;f=i}}return g&&h?[[c,e],[d,f]]:g?[c,d]:h&&[e,f]}if(g){c=b[0];d=b[1];if(h){c=c[0];d=d[0]}l=[c,d];if(g.invert){c=g(c);d=g(d)}if(d<c){i=c;c=d;d=i}if(c!=j[0]||
d!=j[1])j=[c,d]}if(h){e=b[0];f=b[1];if(g){e=e[1];f=f[1]}m=[e,f];if(h.invert){e=h(e);f=h(f)}if(f<e){i=e;e=f;f=i}if(e!=k[0]||f!=k[1])k=[e,f]}return a};a.clear=function(){if(!a.empty()){j=[0,0];k=[0,0];l=m=null}return a};a.empty=function(){return!!g&&j[0]==j[1]||!!h&&k[0]==k[1]};return i.rebind(a,f,"on")};var aj={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Zd=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],$d=
v.format=yg.timeFormat,Sg=$d.utc,Tg=Sg("%Y-%m-%dT%H:%M:%S.%LZ");$d.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Rd:Tg;Rd.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Rd.toString=Tg.toString;v.second=Ra(function(a){return new R(Math.floor(a/1E3)*1E3)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*1E3)},function(a){return a.getSeconds()});v.seconds=v.second.range;v.seconds.utc=v.second.utc.range;v.minute=Ra(function(a){return new R(Math.floor(a/6E4)*6E4)},function(a,
b){a.setTime(a.getTime()+Math.floor(b)*6E4)},function(a){return a.getMinutes()});v.minutes=v.minute.range;v.minutes.utc=v.minute.utc.range;v.hour=Ra(function(a){var b=a.getTimezoneOffset()/60;return new R((Math.floor(a/36E5-b)+b)*36E5)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*36E5)},function(a){return a.getHours()});v.hours=v.hour.range;v.hours.utc=v.hour.utc.range;v.month=Ra(function(a){a=v.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});
v.months=v.month.range;v.months.utc=v.month.utc.range;var oc=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],ae=[[v.second,1],[v.second,5],[v.second,15],[v.second,30],[v.minute,1],[v.minute,5],[v.minute,15],[v.minute,30],[v.hour,1],[v.hour,3],[v.hour,6],[v.hour,12],[v.day,1],[v.day,2],[v.week,1],[v.month,1],[v.month,3],[v.year,1]],bj=$d.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],
["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&a.getDate()!=1}],["%b %d",function(a){return a.getDate()!=1}],["%B",function(a){return a.getMonth()}],["%Y",eb]]),Ai={range:function(a,b,c){return i.range(Math.ceil(a/c)*c,+b,c).map(Xa)},floor:P,ceil:P};ae.year=v.year;v.scale=function(){return Sd(i.scale.linear(),ae,bj)};var Ug=ae.map(function(a){return[a[0].utc,a[1]]}),cj=Sg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],
["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&a.getUTCDate()!=1}],["%b %d",function(a){return a.getUTCDate()!=1}],["%B",function(a){return a.getUTCMonth()}],["%Y",eb]]);Ug.year=v.year.utc;v.scale.utc=function(){return Sd(i.scale.linear(),Ug,cj)};i.text=bd(function(a){return a.responseText});i.json=function(a,b){return Mb(a,"application/json",Bi,b)};i.html=function(a,b){return Mb(a,"text/html",Ci,b)};i.xml=bd(function(a){return a.responseXML});
define("atlassian/libs/d3-3.5.5",i)}();;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_jira.view.issue~sd.portal.api~sd.project.api', location = 'jira.view.issue~sd.portal.api~sd.project.api.e07c981a00a437b80713.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[81],{171:function(s,n){s.exports=require("atlassian/libs/d3-3.5.5")},54:function(s,n,i){"use strict";i.r(n);var o=i(171),t=i.n(o);n.default=t.a}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_jira.view.issue~sd.project.sidebar.content~sd.project.view', location = 'jira.view.issue~sd.project.sidebar.content~sd.project.view.779c54b03e612488e2f6.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[80],{62:function(s,n){s.exports=require("jira/ajs/layer/inline-layer")}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_18', location = '18.e7655acf0f42139a3dd5.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[18],{177:function(s,o){s.exports=require("jira/api/projects")}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~jira.view.issue', location = 'atl.general~jira.view.issue.552e93122dbef425473c.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[105],{49:function(e,t){e.exports=require("jira/util/events/reasons")},59:function(e,t,n){"use strict";var o=n(0),m=n(6),a=n.n(m);n(68),n(61);function s(e,t){Object(o.default)(e).val(t)}function i(e,t,n){s(e,ServiceDesk.Comment.Field.prepopulatedComment({agent:t,reporter:n}))}function l(e,t){Object(o.default)(e).get(0).setSelectionRange(t,t)}function r(e){return e.indexOf("\n")}function c(e,t){return ServiceDesk.Comment.Field.prepopulatedComment({agent:e,reporter:t})}function d(e,t,n){return e.val()!==c(t,n)}function p(e,t,n){e.val()||(i(e,t,n),l(e,r(Object(o.default)(e).val())+2),a.a.trace("sd.comment.populated"))}function u(e,t,n){d(e,t,n)||e.val("")}t.a={prepopulateCommentField:function(e,t){t.isAgent&&(t.isExternalMode?p(e,t.agentDisplayName,t.reporterDisplayName):u(e,t.agentDisplayName,t.reporterDisplayName))},fill:s,fillWithDefault:i,setCaretPosition:l,getFirstLineBreakIndex:r,isChangeCommentFromPrepopulated:d,handleInternalComment:u,getTemplateContent:c,handleExternalComment:p,scrollToComment:function(e){var t="comment-"+e,n=Object(o.default)("#"+t),m=Object(o.default)(".aui-item.detail-panel");m.length>0?m.scrollTop(m.scrollTop()+n.offset().top):n.scrollIntoView({marginBottom:200,marginTop:200}),Object(o.default)("#issue_actions_container > .issue-data-block.focused").removeClass("focused"),n.addClass("focused")}}},61:function(e,t,n){var o=n(662);"string"==typeof o&&(o=[[e.i,o,""]]);var m={hmr:!0,transform:void 0,insertInto:void 0};n(8)(o,m);o.locals&&(e.exports=o.locals)},662:function(e,t,n){(e.exports=n(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n#addcomment .sd-comment-container .sd-add-comment-container,\n.sd-comment-container .sd-add-comment-container {\n  margin-left: 40px;\n}\n#addcomment .sd-comment-container .sd-add-comment-container .sd-comment-buttons,\n.sd-comment-container .sd-add-comment-container .sd-comment-buttons {\n  margin-top: 40px;\n}\n#addcomment .sd-comment-container .sd-add-comment-container .sd-comment-buttons .aui-button,\n.sd-comment-container .sd-add-comment-container .sd-comment-buttons .aui-button {\n  margin-right: 10px;\n}\n#addcomment .sd-comment-container .sd-add-comment-container .sd-comment-message,\n.sd-comment-container .sd-add-comment-container .sd-comment-message {\n  margin-top: 10px;\n}\n#addcomment .sd-comment-container .sd-add-comment-container .sd-comment-message .aui-icon.aui-icon-small.aui-iconfont-locked,\n.sd-comment-container .sd-add-comment-container .sd-comment-message .aui-icon.aui-icon-small.aui-iconfont-locked {\n  margin-right: 5px;\n  color: #d04437;\n}\n#addcomment .sd-comment-container .sd-add-comment-container form.aui,\n.sd-comment-container .sd-add-comment-container form.aui {\n  margin-top: 10px;\n}\n#addcomment .sd-comment-container .sd-rte-bar .sd-comment-buttons,\n.sd-comment-container .sd-rte-bar .sd-comment-buttons {\n  margin-top: 0;\n  margin-left: 10px;\n  display: inline-block;\n}\n#addcomment .sd-comment-container .sd-rte-bar .sd-internal-submit,\n.sd-comment-container .sd-rte-bar .sd-internal-submit {\n  background-color: #fff;\n}\n#addcomment .sd-comment-container .sd-rte-bar .js-status:not(.loading),\n.sd-comment-container .sd-rte-bar .js-status:not(.loading) {\n  display: none;\n}\n#addcomment .sd-comment-container .sd-comment-collapse,\n.sd-comment-container .sd-comment-collapse {\n  /*img*/\n  margin-left: 40px;\n  position: relative;\n}\n#addcomment .sd-comment-container .sd-comment-collapse .sd-comment-avatar,\n.sd-comment-container .sd-comment-collapse .sd-comment-avatar {\n  position: absolute;\n  width: 32px;\n  height: 32px;\n  top: 0;\n  left: -40px;\n}\n#addcomment .sd-comment-container .sd-comment-collapse textarea,\n.sd-comment-container .sd-comment-collapse textarea {\n  max-width: none;\n  height: 32px;\n  min-height: 32px;\n}\n.sd-comment-form-container {\n  /*img*/\n  position: relative;\n}\n.sd-comment-form-container .sd-comment-avatar {\n  position: absolute;\n  width: 32px;\n  height: 32px;\n  top: 0;\n  left: -40px;\n}\n.sd-comment-form-container textarea {\n  max-width: none;\n}\n.sd-comment-form-container .field-tools {\n  float: left;\n  line-height: 2.14285714;\n}\n.sd-comment-form-container .field-tools a ~ a {\n  margin-left: 5px;\n}\n.sd-comment-form-container .field-tools .sd-comment-security-level {\n  vertical-align: middle;\n  margin-right: 20px;\n}\n.sd-comment-form-container .field-tools > span {\n  vertical-align: top;\n}\n.sd-comment-form-container .sd-rte-bar .sd-comment-security-level {\n  vertical-align: initial;\n  margin-left: 10px;\n  margin-right: 0;\n}\n#sd-comment-tabs li.inactive {\n  cursor: pointer;\n}\n#sd-comment-tabs li.disabled {\n  display: none;\n}\nform.aui .sd-comment-field img.sd-comment-avatar {\n  display: none;\n}\nform.aui .sd-comment-field textarea {\n  max-width: none;\n  height: 150px;\n}\nform.aui .sd-comment-field .sd-comment-message {\n  margin: 10px 0;\n}\nform.aui .sd-comment-field .sd-comment-message .aui-icon.aui-icon-small.aui-iconfont-locked {\n  margin-right: 5px;\n  color: #d04437;\n}\n.sd-preview-container::after {\n  content: '\\B7';\n  margin-left: 10px;\n  margin-right: 10px;\n}\n.action-details .sd-action-details-concise {\n  display: -moz-flex;\n  display: -ms-flexbox;\n  display: -ms-flex;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-flow: row wrap;\n  -moz-flex-flow: row wrap;\n  -ms-flex-flow: row wrap;\n  flex-flow: row wrap;\n}\n.action-details .sd-action-details-verbose {\n  display: -moz-flex;\n  display: -ms-flexbox;\n  display: -ms-flex;\n  display: -webkit-flex;\n  display: flex;\n  height: 100%;\n  -webkit-box-pack: space-between;\n  -moz-box-pack: space-between;\n  -ms-flex-pack: space-between;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  -webkit-box-align: space-between;\n  -moz-box-align: space-between;\n  -ms-flex-align: space-between;\n  -webkit-align-items: space-between;\n  align-items: space-between;\n  -webkit-flex-flow: row wrap;\n  -moz-flex-flow: row wrap;\n  -ms-flex-flow: row wrap;\n  flex-flow: row wrap;\n}\n.sd-comment-preview {\n  min-height: 150px;\n  background-color: #e4e8ed;\n  padding: 5px 0 0 6px;\n}\n.sd-activity-comment .sd-comment-action-details .sd-comment-primary-details {\n  margin-right: 10px;\n  -ms-flex-order: 1;\n  order: 1;\n  -moz-flex: 0 0 auto;\n  -ms-flex: 0 0 auto;\n  -webkit-flex: 0 0 auto;\n  flex: 0 0 auto;\n}\n.sd-activity-comment .sd-comment-action-details .sd-comment-secondary-details {\n  -ms-flex-order: 3;\n  order: 3;\n  -moz-flex: 0 0 auto;\n  -ms-flex: 0 0 auto;\n  -webkit-flex: 0 0 auto;\n  flex: 0 0 auto;\n  margin-left: auto;\n}\n.sd-activity-comment .sd-comment-action-details .sd-comment-secondary-details .sd-comment-action-details-item {\n  margin-left: 10px;\n}\n.sd-activity-comment .sd-comment-action-details .sd-comment-secondary-details .sd-comment-action-details-item.sd-comment-action-details-subtext {\n  color: #d04437;\n}\n.sd-activity-comment .sd-comment-action-details .sd-comment-action-body {\n  -ms-flex-order: 2;\n  order: 2;\n  -moz-flex: 1 1 50px;\n  -ms-flex: 1 1 50px;\n  -webkit-flex: 1 1 50px;\n  flex: 1 1 50px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.sd-activity-comment .sd-comment-action-details::before,\n.sd-activity-comment .sd-comment-action-details::after {\n  content: ' ';\n  display: table;\n}\n.sd-activity-comment .sd-comment-action-details::after {\n  clear: both;\n}\n.sd-activity-comment .sd-comment-action-links {\n  float: none;\n  margin-bottom: -10px;\n  text-align: right;\n}\n",""])},68:function(e,t,n){var o,m;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Comment&&(ServiceDesk.Comment={}),void 0===ServiceDesk.Comment.Field&&(ServiceDesk.Comment.Field={}),ServiceDesk.Comment.Field.commentFieldEdit=function(e,t){return""+(e.isBulkEdit?'<td class=" aui-field-wikiedit comment-input" id="comment_container">'+ServiceDesk.Comment.Field.commentFieldEditContent(e)+"</td>":ServiceDesk.Comment.Field.commentFieldEditContent(e))},goog.DEBUG&&(ServiceDesk.Comment.Field.commentFieldEdit.soyTemplateName="ServiceDesk.Comment.Field.commentFieldEdit"),ServiceDesk.Comment.Field.commentFieldEditContent=function(e,t){var n='<div class="field-group">'+(e.isBulkEdit?"":'<label for="comment">'+soy.$$escapeHtml("Comment")+"</label>")+'<sd-comment-field class="sd-comment-field '+soy.$$escapeHtml(e.isAgent?"js-cannedresponses-context":"")+'" data-avatar-url="'+soy.$$escapeHtml(e.avatarUrl)+'" data-modifier-key="'+soy.$$escapeHtml(e.modifierKey)+'" data-is-edit="'+soy.$$escapeHtml(e.isEdit)+'" data-is-agent="'+soy.$$escapeHtml(e.isAgent)+'" data-is-external="'+soy.$$escapeHtml(e.isExternalMode)+'" data-issue-key="'+soy.$$escapeHtml(e.issueKey)+'" data-user-name="'+soy.$$escapeHtml(e.userName)+'" data-is-rte-enabled="'+soy.$$escapeHtml(e.isRteEnabled)+'" data-agent-display-name="'+soy.$$escapeHtml(e.agentDisplayName)+'" data-reporter-display-name="'+soy.$$escapeHtml(e.reporterDisplayName)+'" data-is-security-level-available="'+soy.$$escapeHtml(e.isSecurityLevelAvailable)+'" >'+(e.isSecurityLevelAvailable?ServiceDesk.Comment.Field.commentSecurityLevelPayload(e):"")+'<div class="sd-comment-tab-container tabwrap tabs2">'+ServiceDesk.Comment.Field.drawCommentTabs(e)+'</div><div class="sd-comment-message">'+ServiceDesk.Comment.Field.drawCommentMessage(e)+'</div><div class="sd-comment-field-form-container">'+ServiceDesk.Comment.Field.drawCommentForm(e)+"</div>";if(e.errors&&e.errors.length>0){n+='<div class="error">';for(var o=e.errors,m=o.length,a=0;a<m;a++){var s=o[a];n+="<p>"+soy.$$escapeHtml(s)+"</p>"}n+="</div>"}return n+="</sd-comment-field></div>"},goog.DEBUG&&(ServiceDesk.Comment.Field.commentFieldEditContent.soyTemplateName="ServiceDesk.Comment.Field.commentFieldEditContent"),ServiceDesk.Comment.Field.commentIssuePageEdit=function(e,t){return'<sd-comment class="sd-comment-container  '+soy.$$escapeHtml(e.isAgent?"js-cannedresponses-context":"")+'" data-avatar-url="'+soy.$$escapeHtml(e.avatarUrl)+'" data-modifier-key="'+soy.$$escapeHtml(e.modifierKey)+'"  data-is-agent="'+soy.$$escapeHtml(e.isAgent)+'" data-user-name="'+soy.$$escapeHtml(e.userName)+'" data-issue-id="'+soy.$$escapeHtml(e.issueId)+'" data-issue-key="'+soy.$$escapeHtml(e.issueKey)+'" data-is-rte-enabled="'+soy.$$escapeHtml(e.isRteEnabled)+'" data-agent-display-name="'+soy.$$escapeHtml(e.agentDisplayName)+'" data-reporter-display-name="'+soy.$$escapeHtml(e.reporterDisplayName)+'" data-is-security-level-available="'+soy.$$escapeHtml(e.isSecurityLevelAvailable)+'">'+(e.isSecurityLevelAvailable?ServiceDesk.Comment.Field.commentSecurityLevelPayload(e):"")+ServiceDesk.Comment.Field.drawCollapsedComment(e)+"</sd-comment>"},goog.DEBUG&&(ServiceDesk.Comment.Field.commentIssuePageEdit.soyTemplateName="ServiceDesk.Comment.Field.commentIssuePageEdit"),ServiceDesk.Comment.Field.drawCollapsedComment=function(e,t){return'<div class="sd-comment-collapse"><img class="sd-comment-avatar" src="'+soy.$$escapeHtml(e.avatarUrl)+'"><form class="aui dont-default-focus"><textarea id="sd-comment-collapsed-textarea" class="textarea" placeholder="'+soy.$$escapeHtml("Click to add comment")+'"></textarea></form></div>'},goog.DEBUG&&(ServiceDesk.Comment.Field.drawCollapsedComment.soyTemplateName="ServiceDesk.Comment.Field.drawCollapsedComment"),ServiceDesk.Comment.Field.commentExpanded=function(e,t){var n=(e.shouldUseButtons?"":'<div class="sd-comment-tab-container tabwrap tabs2">'+ServiceDesk.Comment.Field.drawCommentTabs(e)+"</div>")+'<div class="sd-add-comment-container">'+(e.shouldUseButtons?"":'<div class="sd-comment-message">'+ServiceDesk.Comment.Field.drawCommentMessage(e)+"</div>")+'<form class="aui js-comment-form">',o=""+ServiceDesk.Comment.Field.drawCommentButtons(e);return n+=ServiceDesk.Comment.Field.drawCommentForm(soy.$$augmentMap(e,{extraCommentContent:e.isRteEnabled?o:""}))+(e.isRteEnabled?"":soy.$$filterNoAutoescape(o))+"</form></div>"},goog.DEBUG&&(ServiceDesk.Comment.Field.commentExpanded.soyTemplateName="ServiceDesk.Comment.Field.commentExpanded"),ServiceDesk.Comment.Field.drawCommentTabs=function(e,t){return n(15).isFeatureEnabled("sd.adgs.m1")?'<div class="aui-tabs horizontal-tabs"><ul id="sd-comment-tabs" class="tabs-menu"><li class="js-sd-external-comment menu-item '+(e.isExternalMode?"active-tab":"")+" "+(e.isAgent?"":"disabled")+"\"><a href='#'>"+soy.$$escapeHtml("Respond to customer")+'</a></li><li class="js-sd-internal-comment menu-item '+(e.isExternalMode?"":"active-tab")+"\"><a href='#'>"+soy.$$escapeHtml("Internal comment")+"</a></li></ul></div>":'<ul id="sd-comment-tabs" class="tabs horizontal"><li class="js-sd-external-comment '+(e.isExternalMode?"active":"inactive")+" "+(e.isAgent?"":"disabled")+'"><a>'+soy.$$escapeHtml("Respond to customer")+'</a></li><li class="js-sd-internal-comment '+(e.isExternalMode?"inactive":"active")+'"><a>'+soy.$$escapeHtml("Internal comment")+"</a></li></ul>"},goog.DEBUG&&(ServiceDesk.Comment.Field.drawCommentTabs.soyTemplateName="ServiceDesk.Comment.Field.drawCommentTabs"),ServiceDesk.Comment.Field.drawCommentMessage=function(e,t){return(e.isExternalMode?soy.$$escapeHtml("Your comment will be visible to customers. Embed attachments to make them visible to customers."):'<span class="aui-icon aui-icon-small aui-iconfont-locked">Locked</span>'+soy.$$escapeHtml("Your comments will not be visible to customers on the portal."))+'<input name="commentProperty" type="hidden" value="[{key: &quot;sd.public.comment&quot;, value: {internal: &quot;'+soy.$$escapeHtml(!e.isExternalMode)+'&quot;}}]"/>'},goog.DEBUG&&(ServiceDesk.Comment.Field.drawCommentMessage.soyTemplateName="ServiceDesk.Comment.Field.drawCommentMessage"),ServiceDesk.Comment.Field.drawCommentForm=function(e,t){return'<div class="sd-comment-form-container wiki-edit-content"><img class="sd-comment-avatar" src="'+soy.$$escapeHtml(e.avatarUrl)+'">'+(e.isPreview?'<div class="sd-comment-preview">'+soy.$$filterNoAutoescape(e.commentHtml)+'</div><textarea id="comment" name="comment" class="textarea hidden">':'<textarea id="comment" name="comment" class="textarea wiki-textfield sd-comment-textarea mentionable" data-issuekey="'+soy.$$escapeHtml(e.issueKey)+'">')+soy.$$escapeHtml(e.comment)+"</textarea>"+(e.isRteEnabled?"<rich-editor></rich-editor>":"")+'<div class="field-tools '+(e.isRteEnabled?"sd-rte-bar":"")+'">'+(e.isSecurityLevelAvailable?ServiceDesk.Comment.Field.commentSecurityLevelSelector(e):"")+(e.isRteEnabled?"":'<span class="sd-preview-container"><a class="js-sd-preview" href="#" id="sd-comment-preview_link" title="'+soy.$$escapeHtml("preview")+'">'+(e.isPreview?soy.$$escapeHtml("exit preview"):soy.$$escapeHtml("preview"))+'</a></span><span><a class="help-lnk" id="viewHelp" href="'+soy.$$escapeHtml(AJS.contextPath())+'/secure/WikiRendererHelpAction.jspa?section=texteffects" title="'+soy.$$escapeHtml("wiki markup help")+'" data-helplink="local">'+soy.$$escapeHtml("syntax help")+"</a></span>")+(e.extraCommentContent?soy.$$filterNoAutoescape(e.extraCommentContent):"")+"</div></div>"},goog.DEBUG&&(ServiceDesk.Comment.Field.drawCommentForm.soyTemplateName="ServiceDesk.Comment.Field.drawCommentForm"),ServiceDesk.Comment.Field.drawCommentButtons=function(e,t){return'<div class="sd-comment-buttons">'+(e.shouldUseButtons?ServiceDesk.Comment.Field.drawCommentSubmitButtons(e):ServiceDesk.Comment.Field.drawCommentSubmitButton(e))+"</div>"},goog.DEBUG&&(ServiceDesk.Comment.Field.drawCommentButtons.soyTemplateName="ServiceDesk.Comment.Field.drawCommentButtons"),ServiceDesk.Comment.Field.drawCommentSubmitButton=function(e,t){return""+ServiceDesk.Templates.Shared.Form.submitButtons({submitExtraClasses:e.isExternalMode?"aui-button-primary sd-external-submit":"sd-internal-submit",submitButtonLabel:""+(e.isExternalMode?soy.$$escapeHtml("Send response"):soy.$$escapeHtml("Add internal comment")),modifierKey:e.modifierKey})},goog.DEBUG&&(ServiceDesk.Comment.Field.drawCommentSubmitButton.soyTemplateName="ServiceDesk.Comment.Field.drawCommentSubmitButton"),ServiceDesk.Comment.Field.drawCommentSubmitButtons=function(e,t){return""+(e.isAgent?ServiceDesk.Templates.Shared.Form.submitButton({extraClasses:"aui-button-primary sd-external-submit",label:"Share with customer",modifierKey:e.modifierKey,accessKey:"e"}):"")+ServiceDesk.Templates.Shared.Form.submitButtons({submitExtraClasses:"sd-internal-submit",submitButtonLabel:"Comment internally",modifierKey:e.modifierKey,alignment:"right"})},goog.DEBUG&&(ServiceDesk.Comment.Field.drawCommentSubmitButtons.soyTemplateName="ServiceDesk.Comment.Field.drawCommentSubmitButtons"),ServiceDesk.Comment.Field.prepopulatedComment=function(e,t){return(e.reporter?soy.$$escapeHtml(AJS.format("Hi {0},",e.reporter))+"\n":soy.$$escapeHtml("Hi,")+"\n")+"\n\n\n "+soy.$$escapeHtml(e.agent)},goog.DEBUG&&(ServiceDesk.Comment.Field.prepopulatedComment.soyTemplateName="ServiceDesk.Comment.Field.prepopulatedComment"),ServiceDesk.Comment.Field.commentSecurityLevelSelector=function(e,t){for(var n="",o=e.roleSecurityLevels&&e.roleSecurityLevels.length>0,m=e.groupSecurityLevels&&e.groupSecurityLevels.length>0,a="",s=e.roleSecurityLevels,i=s.length,l=0;l<i;l++){var r=s[l];a+=e.selectedCommentSecurityLevel=="role:"+r.id?soy.$$escapeHtml(r.name):""}for(var c=e.groupSecurityLevels,d=c.length,p=0;p<d;p++){var u=c[p];a+=e.selectedCommentSecurityLevel=="group:"+u?soy.$$escapeHtml(u):""}var v=a?AJS.format("Restricted to {0}",'<span class="redText">'+a+"</span>"):"Viewable by All Users";if(n+='<div class="sd-comment-security-level security-level"><fieldset class="hidden parameters"><input type="hidden" title="securityLevelViewableByAll" value="'+soy.$$escapeHtml("Viewable by All Users")+'"><input type="hidden" title="securityLevelViewableRestrictedTo" value="'+soy.$$escapeHtml("Restricted to {0}")+'"></fieldset><a class="drop" href="#"><span class="security-level-drop-icon aui-icon aui-icon-small'+(a?" aui-iconfont-locked":" aui-iconfont-unlocked")+'">'+soy.$$filterNoAutoescape(AJS.format("This comment will be {0}",v))+'</span> <span class="icon drop-menu"></span></a><select name="commentLevel" id="commentLevel" class="js-comment-level"><option value="">'+soy.$$escapeHtml("All Users")+"</option>",o){n+='<optgroup label="'+soy.$$escapeHtml("Project Roles")+'">';for(var y=e.roleSecurityLevels,f=y.length,g=0;g<f;g++){var x=y[g];n+='<option value="role:'+soy.$$escapeHtml(x.id)+'"'+(e.selectedCommentSecurityLevel=="role:"+x.id?' selected="selected"':"")+">"+soy.$$escapeHtml(x.name)+"</option>"}n+="</optgroup>"}if(m){n+='<optgroup label="'+soy.$$escapeHtml("Groups")+'">';for(var b=e.groupSecurityLevels,S=b.length,C=0;C<S;C++){var $=b[C];n+='<option value="group:'+soy.$$escapeHtml($)+'" '+(e.selectedCommentSecurityLevel=="group:"+$?'selected="selected"':"")+">"+soy.$$escapeHtml($)+"</option>"}n+="</optgroup>"}return n+='</select> <span class="current-level">'+soy.$$filterNoAutoescape(v)+"</span></div>"},goog.DEBUG&&(ServiceDesk.Comment.Field.commentSecurityLevelSelector.soyTemplateName="ServiceDesk.Comment.Field.commentSecurityLevelSelector"),ServiceDesk.Comment.Field.commentSecurityLevelPayload=function(e,t){return'<div class="js-comment-security-jsonpayload hidden">'+soy.$$escapeHtml(e.commentSecurityLevelPayload)+"</div>"},goog.DEBUG&&(ServiceDesk.Comment.Field.commentSecurityLevelPayload.soyTemplateName="ServiceDesk.Comment.Field.commentSecurityLevelPayload"),ServiceDesk.Comment.Field.errorContent=function(e,t){return"<h2>"+soy.$$escapeHtml("Communications Breakdown")+'</h2><div class="dialog-error"><p>'+soy.$$escapeHtml(e.errorMessage)+"</p><p>"+soy.$$escapeHtml("Close this dialog and press refresh in your browser")+"</p></div>"},goog.DEBUG&&(ServiceDesk.Comment.Field.errorContent.soyTemplateName="ServiceDesk.Comment.Field.errorContent"),o=[n(60)],void 0===(m=function(){return ServiceDesk.Comment.Field}.apply(t,o))||(e.exports=m)}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_jira.view.issue~sd.project.sidebar.content', location = 'jira.view.issue~sd.project.sidebar.content.27bf361506d4ed59935b.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[102],{129:function(e,t,s){"use strict";var n=s(0),a=s(1),i=s(29),r=s(30),l=(s(386),s(385),ServiceDesk.InternalApi.Feature.KBArticleLink.link);t.a=Object(i.a)("sd-kb-dialog-link",{events:{mousedown:function(e,t){(Object(r.a)(t)||3===t.which)&&Object(n.default)(e).trigger({article:e.articleDetails,type:"clickedNewTab"})},click:function(e,t){Object(r.a)(t)||(t.preventDefault(),Object(n.default)(e).trigger({article:e.articleDetails,type:"clickedNotNewTab"}))}},created:function(e){var t=Object(n.default)(e),s=t.attr("data-title"),i=t.attr("data-display-title")||s,r={id:t.attr("data-id"),title:s,appLinkUrl:t.attr("data-applink-url"),inPageUrl:t.attr("data-inpage-url"),shareable:"true"===t.attr("data-shareable")||"true"===t.attr("data-hidepadlock")};e.articleDetails=r,t.html(l(a.default.extend({},r,{titleWithHighlights:i,href:t.attr("data-href")})))}})},130:function(e,t,s){"use strict";var n=s(2),a=s(3),i=s(13),r=s.n(i),l=s(5),o=s.n(l),c=s(70),h=s(71),u=s(95),d=s(69),p=s(12),m=s.n(p),v=(s(394),s(393),ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithPadlocks),k=ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithoutPadlocks,g=ServiceDesk.Templates.Components.Feature.KBSmartSearch.noResults,S=a.a.View.extend({className:"search-kb-no-results-view",template:g,render:function(){return this.$el.html(this.template()),this}});t.a=a.a.View.extend({EVENT:{RESULTS_RENDERED:"resultsRendered",QUERY_BECAME_EMPTY:"queryBecameEmpty"},initialize:function(e,t){this.searchTracker=e,this.model={search:new c.a({userName:m.a.get("remote-user"),hasKb:!0,singlePortalContext:{serviceDeskId:t.serviceDeskId,projectKey:t.projectKey},currentQuery:t.currentQuery})},this.hidePadlock=!!t.hidePadlock,this.context={issueKey:t.issueKey,isInIssueContext:!!t.issueKey}},hideResults:function(){this.searchResultView&&this.searchResultView.$el.hide(),this.noResultsView&&this.noResultsView.$el.hide()},showNoResults:function(){this.searchResultView&&this.searchResultView.$el.hide(),this.noResultsView&&this.noResultsView.$el.show()},showSearchResults:function(){this.noResultsView&&this.noResultsView.$el.hide(),this.searchResultView&&this.searchResultView.$el.show()},render:function(){var e=this;if(!this.searchInputView||!this.searchResultView){var t={template:this.hidePadlock?k:v};this.context.isInIssueContext&&(t.getQueryUrl=function(t){var s=new r.a(o()()+"/rest/servicedesk/knowledgebase/latest/articles/"+e.context.issueKey);return s.addQuery("query",t),s.addQuery("highlight",!0),s.build().href()});var s=new d.a(this.model,this.searchTracker,t);this.searchInputView=new h.a(this.model,{placeholder:"Search for an article",retainFocusOnEnter:!0}),this.searchResultView=new u.a(this.model,{hideFooter:!0,spinnerSize:"large",searchProviders:[s],analyticsTracker:this.searchTracker}),this.noResultsView=(new S).render(),this.$el.append(this.searchInputView.$el),this.$el.append(this.searchResultView.$el),this.$el.append(this.noResultsView.$el),this.searchInputView.render(),this.hideResults(),this.listenTo(this.searchInputView,"queryChanged",function(){e._renderSearchResults(),e.trigger("searchQueryChanged",e.model.search.getCurrentQuery())}),this.listenTo(this.searchResultView,this.searchResultView.EVENT.NO_RESULTS_FOUND,function(){e.model.search.getCurrentQuery()&&""!==e.model.search.getCurrentQuery()&&e.showNoResults()}),this.listenTo(this.searchResultView,this.searchResultView.EVENT.RESULTS_RENDERED,function(){e.trigger(e.EVENT.RESULTS_RENDERED)})}},close:function(){this.undelegateEvents(),this.stopListening(),this.searchInputView&&this.searchInputView.close(),this.searchResultView&&this.searchResultView.close(),this.noResultsView&&this.noResultsView.close()},hasQuery:function(){var e=this.model.search.getCurrentQuery();return!!e&&e.length>0},focus:function(){this.searchInputView.focusOnSearch()},disableSearch:function(){this.searchInputView.clearSearchQuery(),this.searchInputView.disable()},reset:function(){this.searchInputView=null,this.searchResultView=null},enableSearch:function(){this.searchInputView.enable()},_renderSearchResults:function(){this.model.search.getCurrentQuery()&&""!==this.model.search.getCurrentQuery()?(this.searchResultView.isInitialRender=!1,this.searchResultView.render(),this.showSearchResults()):(this.hideResults(),this.trigger(this.EVENT.QUERY_BECAME_EMPTY))}})},384:function(e,t,s){(e.exports=s(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n/* stylelint-disable-next-line selector-type-no-unknown */\nsd-kb-dialog-link {\n  display: -moz-flex;\n  display: -ms-flexbox;\n  display: -ms-flex;\n  display: -webkit-flex;\n  display: flex;\n  vertical-align: middle;\n  width: 100%;\n}\nsd-kb-dialog-link .sd-kb-article-link {\n  display: inline-block;\n  -moz-flex: 0 1 auto;\n  -ms-flex: 0 1 auto;\n  -webkit-flex: 0 1 auto;\n  flex: 0 1 auto;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  vertical-align: middle;\n}\nsd-kb-dialog-link .sd-not-shareable-container {\n  vertical-align: middle;\n  width: 32px;\n}\n.sd-not-shareable {\n  color: #d04437;\n  margin-left: 5px;\n}\n",""])},385:function(e,t,s){var n=s(384);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s(8)(n,a);n.locals&&(e.exports=n.locals)},386:function(e,t,s){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.InternalApi&&(ServiceDesk.InternalApi={}),void 0===ServiceDesk.InternalApi.Feature&&(ServiceDesk.InternalApi.Feature={}),void 0===ServiceDesk.InternalApi.Feature.KBArticleLink&&(ServiceDesk.InternalApi.Feature.KBArticleLink={}),ServiceDesk.InternalApi.Feature.KBArticleLink.link=function(e,t){return'<a title="'+soy.$$escapeHtml(e.title)+'" href="'+soy.$$escapeHtml(e.href)+'" class="js-sd-kb-article-link sd-kb-article-link js-cv-smart-portal-kb-article">'+soy.$$filterNoAutoescape(e.titleWithHighlights)+"</a>"+(e.shareable?"":'<div class="sd-not-shareable-container"><span class="aui-icon aui-icon-small aui-iconfont-locked sd-not-shareable js-not-shareable js-tooltip" title="'+soy.$$escapeHtml("This article is restricted. Only people with permission can view it.")+"\">getText('sd.knowledge.base.agent.article.not.shareable')</span></div>")},goog.DEBUG&&(ServiceDesk.InternalApi.Feature.KBArticleLink.link.soyTemplateName="ServiceDesk.InternalApi.Feature.KBArticleLink.link"),void 0===(n=function(){return ServiceDesk.InternalApi.Feature.KBArticleLink}.apply(t,[]))||(e.exports=n)},392:function(e,t,s){(e.exports=s(9)(!1)).push([e.i,"/**\n * Search results view overrides for rendering in the inline dialog\n */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n.aui-inline-dialog-contents .cv-smart-portal-search-input-container {\n  width: 320px;\n}\n.aui-inline-dialog-contents .cv-smart-portal-search-input-container .cv-smart-portal-search-input {\n  font-size: 14px;\n  height: 30px;\n  padding: 0 25px 0 8px;\n}\n.aui-inline-dialog-contents .cv-smart-portal-search-input-container .cv-smart-portal-search-input:disabled {\n  background-color: #f5f5f5;\n}\n.aui-inline-dialog-contents .cv-smart-portal-search-input-container .cv-smart-portal-search-clear {\n  right: 10px;\n  top: 0;\n}\n.aui-inline-dialog-contents .cv-smart-portal-search-input-container .cv-smart-portal-search-icon {\n  right: 11px;\n  top: 5px;\n  height: 17px;\n  width: 17px;\n}\n.aui-inline-dialog-contents .cv-smart-portal-search-input-container .cv-smart-portal-search-icon::before {\n  font-size: 17px;\n}\n.aui-inline-dialog-contents .cv-smart-portal-search-input-container .cv-smart-portal-search-icon:not(.disabled)::before {\n  color: #000;\n}\n.aui-inline-dialog-contents .cv-smart-portal-spinner-container {\n  height: 380px;\n  padding: 0;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.aui-inline-dialog-contents .cv-search-results-container {\n  height: 380px;\n  padding-left: 5px;\n  position: relative;\n}\n.aui-inline-dialog-contents .cv-search-results-container::after {\n  background: linear-gradient(to top, #ffffff 0%, rgba(255, 255, 255, 0) 100%);\n  bottom: 0;\n  content: '';\n  height: 20px;\n  position: absolute;\n  width: 100%;\n}\n.aui-inline-dialog-contents .cv-search-results-container .cv-smart-portal-sub-header {\n  font-size: 13px;\n  height: 18px;\n  padding: 20px 0 5px 0;\n}\n.aui-inline-dialog-contents .cv-search-results-container .cv-smart-portal-result-list-container {\n  height: 337px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  width: 315px;\n}\n.aui-inline-dialog-contents .cv-search-results-container .cv-smart-portal-result-list-container .cv-smart-portal-results {\n  padding: 0 5px 0 0;\n}\n.aui-inline-dialog-contents .cv-search-results-container .cv-smart-portal-result-list-container .cv-smart-portal-results .cv-smart-portal-kb-description {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.aui-inline-dialog-contents .cv-search-results-container .cv-smart-portal-result-list-container .cv-smart-portal-results .cv-smart-portal-kb-header {\n  padding-bottom: 10px;\n}\n.aui-inline-dialog-contents .search-kb-no-results-view {\n  height: 380px;\n  padding: 0;\n}\n.aui-inline-dialog-contents .search-kb-no-results-view .search-kb-no-results-view-content {\n  padding-top: 20px;\n}\n.aui-inline-dialog-contents .search-kb-no-results-view .search-kb-no-results-view-content .aui-icon {\n  padding: 5px 5px 0 0;\n  vertical-align: top;\n}\n.aui-inline-dialog-contents .search-kb-no-results-view .search-kb-no-results-view-content .search-kb-no-results-message {\n  display: inline-block;\n  width: 275px;\n}\n",""])},393:function(e,t,s){var n=s(392);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s(8)(n,a);n.locals&&(e.exports=n.locals)},394:function(e,t,s){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Components&&(ServiceDesk.Templates.Components={}),void 0===ServiceDesk.Templates.Components.Feature&&(ServiceDesk.Templates.Components.Feature={}),void 0===ServiceDesk.Templates.Components.Feature.KBSmartSearch&&(ServiceDesk.Templates.Components.Feature.KBSmartSearch={}),ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithPadlocks=function(e,t){return""+ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResults({kbArticles:e.kbArticles,hidePadlocks:!1})},goog.DEBUG&&(ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithPadlocks.soyTemplateName="ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithPadlocks"),ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithoutPadlocks=function(e,t){return""+ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResults({kbArticles:e.kbArticles,hidePadlocks:!0})},goog.DEBUG&&(ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithoutPadlocks.soyTemplateName="ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResultsWithoutPadlocks"),ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResults=function(e,t){var s="";if(e.kbArticles&&e.kbArticles.length>0){s+='<div class="cv-smart-portal-sub-header"><strong>'+soy.$$escapeHtml(AJS.format("Showing {0} {0,choice,1#result|1\u003cresults} from your knowledge base",e.kbArticles.length))+'</strong></div><div class="cv-smart-portal-result-list-container"><ul class="cv-smart-portal-results">';for(var n=e.kbArticles,a=n.length,i=0;i<a;i++){var r=n[i];s+='<div class="js-sd-kb-article"><li class="cv-smart-portal-kb-result js-cv-smart-portal-kb-result"><div class="cv-smart-portal-kb-header"><sd-kb-dialog-link data-id="'+soy.$$escapeHtml(r.id)+'" data-title="'+soy.$$escapeHtml(r.title)+'" data-display-title="'+soy.$$escapeHtml(r.titleHighlightedHtml)+'" data-applink-url="'+soy.$$escapeHtml(r.appLinkUrl)+'" data-inpage-url="'+soy.$$escapeHtml(r.inPageUrl)+'" data-shareable="'+soy.$$escapeHtml(r.shareable)+'" data-hidepadlock="'+soy.$$escapeHtml(e.hidePadlocks)+'" data-href="'+soy.$$escapeHtml(r.url)+'"></sd-kb-dialog-link></div><div class="cv-smart-portal-kb-description">'+soy.$$filterNoAutoescape(r.bodyHighlightedHtml)+"</div></li></div>"}s+="</ul></div>"}return s},goog.DEBUG&&(ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResults.soyTemplateName="ServiceDesk.Templates.Components.Feature.KBSmartSearch.kbSearchResults"),ServiceDesk.Templates.Components.Feature.KBSmartSearch.noResults=function(e,t){return'<div class="search-kb-no-results-view-content"><span class="aui-icon aui-icon-small aui-iconfont-pages"></span><div class="search-kb-no-results-message">'+soy.$$escapeHtml("No one\'s written an article on that yet.")+"</div></div>"},goog.DEBUG&&(ServiceDesk.Templates.Components.Feature.KBSmartSearch.noResults.soyTemplateName="ServiceDesk.Templates.Components.Feature.KBSmartSearch.noResults"),void 0===(n=function(){return ServiceDesk.Templates.Components.Feature.KBSmartSearch}.apply(t,[]))||(e.exports=n)}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_customerportal~jira.view.issue', location = 'customerportal~jira.view.issue.49656026ca547131808e.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[100],{186:function(n,a,s){var e=s(288);"string"==typeof e&&(e=[[n.i,e,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s(8)(e,r);e.locals&&(n.exports=e.locals)},288:function(n,a,s){(n.exports=s(9)(!1)).push([n.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n.sd-user .aui-avatar {\n  vertical-align: middle;\n}\n.sd-user .aui-avatar.aui-avatar-medium {\n  margin-right: 10px;\n}\n.sd-user .aui-avatar.aui-avatar-medium img {\n  width: 32px;\n  height: 32px;\n}\n.sd-user .aui-avatar.aui-avatar-small {\n  margin-right: 5px;\n}\n.sd-user .aui-avatar.aui-avatar-small img {\n  width: 24px;\n  height: 24px;\n}\n.sd-user .sd-user-value {\n  display: inline-block;\n  vertical-align: middle;\n}\n.sd-user.sd-user-tagged {\n  max-width: 100%;\n  display: flex;\n  white-space: nowrap;\n  position: relative;\n}\n.sd-user.sd-user-tagged .aui-avatar {\n  top: 0;\n  left: 0;\n  position: absolute;\n}\n.sd-user.sd-user-tagged .sd-user-value {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  max-width: 100%;\n  display: inline-block;\n}\n.sd-user.sd-user-tagged .sd-user-tag {\n  margin-top: -5px;\n  display: block;\n  font-size: 12px;\n  color: #707070;\n}\n.sd-user.sd-user-tagged .sd-user-cell {\n  align-self: center;\n}\n.sd-user.sd-user-tagged .sd-user-cell.aui-avatar {\n  position: relative;\n}\n.sd-user.sd-user-tagged .sd-user-cell.sd-avatar-cell {\n  align-self: flex-start;\n  width: 29px;\n  padding-right: 5px;\n}\n",""])}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_jira.view.issue~sd.project.view', location = 'jira.view.issue~sd.project.view.41501f05c82b9ec8d1d3.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[97],{128:function(e,s,i){"use strict";i.d(s,"a",function(){return c});var n=i(1),o=i(10),t=i(5),d=i.n(t),r=i(4),u=void 0,c=function(e,s){s&&s!==u&&(u=s,Object(o.c)(d()()+"/rest/servicedesk/noeyeball/1/issueview/"+s+"/opened").done(function(s,i,o){if(200===o.status&&s){var t=n.default.isString(s.issueTypeName)&&s.issueTypeName.toLowerCase().indexOf("incident")>=0,d=s.issueId,u=s.projectId,c=s.sdVersion;r.a.trackEvent("issueview.issue.opened",{isIncident:t,issueId:d,projectId:u,sdVersion:c,source:e})}}))}},73:function(e,s){e.exports=require("jira/components/issueeditor")}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_27', location = '27.25a4362c84e200295b5b.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[27],{172:function(s,n){s.exports=require("jira/message")}}]);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-amd', location = 'issuenav-analytics/Analytics.js' */
define("jira/components/analytics",["require"],function(d){var c=d("jira/components/libs/underscore");var b=d("jira/components/libs/marionette-1.4.1/controller");var a=d("jira/components/analytics/services/trigger");var e=d("jira/components/analytics/services/domtracker");return b.extend({initialize:function(f){this.triggerService=new a(f);this.trackerService=new e(this.triggerService)},trigger:function(f,g){this.triggerService.trigger(f,g)},registerEvent:function(g){var f=[].concat(g);c.each(f,function(h){this.triggerService.registerEvent(h)},this)},registerTracker:function(f){var g=[].concat(f);c.each(g,function(h){this.trackerService.registerTracker(h)},this)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-amd', location = 'issuenav-analytics/AnalyticsAppModule.js' */
define("jira/components/analytics/appmodule",["require"],function(c){var d=c("jira/components/libs/marionette-1.4.1/appmodule");var b=c("jira/components/libs/underscore");var a=c("jira/components/analytics");return d.extend({name:"analytics",generateMasterRequest:true,create:function(e){e=b.defaults({},e,{useLog:false});return new a(e)},commands:{trigger:true,registerEvent:true,registerTracker:true}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-amd', location = 'issuenav-analytics/services/Trigger.js' */
define("jira/components/analytics/services/trigger",["require"],function(c){var b=c("jira/components/libs/marionette-1.4.1/controller");var a=c("jira/components/utils/ajshelper");return b.extend({initialize:function(){},trigger:function(d,e){a.trigger("analyticsEvent",{name:d,data:e})},registerEvent:function(){}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-amd', location = 'issuenav-analytics/services/DomTracker.js' */
define("jira/components/analytics/services/domtracker",["require"],function(c){var a=c("jira/components/libs/marionette-1.4.1/controller");var d=c("jquery");var b=c("jira/components/libs/underscore");return a.extend({initialize:function(e){this.triggerService=e;this.trackers=[]},registerTracker:function(e){var f=this.triggerService;b.defaults(e,{type:"click",handler:function(h,g){f.trigger(this.name,g)},context:document});f.registerEvent(e.name);e.domHandler=function(g){if(!g.preventFurtherAnalytics){e.handler.apply(e,Array.prototype.slice.call(arguments))}};d(e.context).on(e.type,e.selector,e.domHandler);this.trackers.push(e)},clear:function(){b.each(this.trackers,function(e){d(e.context).off(e.type,e.selector,e.domHandler)})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-ajs-namespace', location = 'issuenav-analytics/namespace.js' */
AJS.namespace("JIRA.Components.Analytics",null,require("jira/components/analytics"));AJS.namespace("JIRA.Components.Analytics.AppModule",null,require("jira/components/analytics/appmodule"));AJS.namespace("JIRA.Components.Analytics.Services.Trigger",null,require("jira/components/analytics/services/trigger"));AJS.namespace("JIRA.Components.Analytics.Services.DomTracker",null,require("jira/components/analytics/services/domtracker"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:url-serializer', location = 'content/js/util/URLSerializer.js' */
define("jira/issues/utils/url-serializer",[],function(){var b="browse/";var d="issues/";var c=function(e){return e};var a=function(e){if(typeof e==="string"){return parseInt(e,10)}return e};return{getURLFromState:function(g){g=g||{};var f=[];var e;if(g.selectedIssueKey){e=b+g.selectedIssueKey}else{e=d}if(g.filter!=null){f.push("filter="+g.filter)}if(g.jql!=null&&(g.filterJql==null||g.jql!==g.filterJql)){f.push("jql="+encodeURIComponent(g.jql))}if(g.startIndex&&!g.selectedIssueKey){f.push("startIndex="+g.startIndex)}return e+(f.length?"?"+f.join("&"):"")},getStateFromURL:function(e){var g={};var i=e.split("?")[0];var j;var h;h={filter:null,jql:null,selectedIssueKey:null,startIndex:0};if(e.indexOf(b)===0){h.selectedIssueKey=i.split("/")[1]}if(e.indexOf("?")!==-1){j=e.substr(e.indexOf("?"));g=JIRA.Issues.QueryStringParser.parse(j);var f=_.pick(g,"focusedCommentId","attachmentSortBy","attachmentOrder","attachmentViewMode");if(!_.isEmpty(f)){h.viewIssueQuery=f}}return _.inject(this.PARAMETER_TRANSFORM,function(n,k,l){var m=g[l];if(m!==undefined){n[l]=k(m)}return n},_.extend(h))},PARAMETER_TRANSFORM:{filter:c,jql:c,startIndex:a}}});AJS.namespace("JIRA.Issues.URLSerializer",null,require("jira/issues/utils/url-serializer"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:navigation', location = 'content/js/modules/navigation/State.js' */
define("jira/issues/modules/navigation/state",["require"],function(e){var f=e("jira/issues/utils/url-serializer");var d=e("underscore");var c=function c(h){this.filter=null;this.jql=null;if(h){d.extend(this,h.toJSON())}};d.extend(c.prototype,{toUrl:function g(){return f.getURLFromState(this)},isStandaloneIssue:function b(){return Boolean(this.selectedIssueKey)&&!d.isString(this.jql)&&!this.filter},getStateFromUrl:function a(h){return f.getStateFromURL(h)}});return c});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:navigation', location = 'content/js/modules/navigation/NavigationController.js' */
define("jira/issues/modules/navigation/controller",["require"],function(c){var a=c("jira/issues/application");var j=c("jira/issues/modules/navigation/state");var e=c("jira/components/libs/marionette-1.4.1/controller");var i=c("underscore");var l=c("jira/components/issueviewer/services/darkfeatures");return e.extend({initialize:function f(m){m=i.defaults(m,{isFullPageLoad:true});this.state=m.model||new j();this.isFullPageLoad=m.isFullPageLoad;this.eventQueue=[]},reset:function g(){this.state=new j()},navigate:function d(n,m){if(a.request("issueEditor:canDismissComment")){this.updateState(n,m)}},navigateToUrl:function d(n,m,o){o=o||{};var p=i.extend(this.state.getStateFromUrl(n),o);this.navigate(p,m)},updateState:function k(o,n){n=n||{};var m=i.pick(this.state,i.keys(this.state));if(n.reset){this.reset()}i.extend(this.state,o);if(l.REDIRECT_FROM_GLOBAL_TO_PROJECT.enabled()&&this.state.isStandaloneIssue()){n.forceFullPageLoad=true}if(!i.isEqual(m,i.pick(this.state,i.keys(this.state)))||n.forceRefresh){this._triggerStateChangedEvent(n)}},_triggerStateChangedEvent:function h(m){if(this.isFullPageLoad){i.extend(m,{fullPageLoad:true});this.isFullPageLoad=false}m=i.omit(m,"forceRefresh");this.eventQueue.push({state:i.clone(this.state),options:m});this._processEvents()},_processEvents:function b(){if(!this.processingEvent){this.processingEvent=true;var m=this.eventQueue.shift();this.trigger("stateChanged",m.state,m.options);this.processingEvent=false;if(this.eventQueue.length){this._processEvents()}}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:navigation', location = 'content/js/modules/navigation/NavigationAppModule.js' */
define("jira/issues/modules/navigation/module",["require"],function(c){var a=c("jira/issues/modules/navigation/controller");var b=c("jira/components/libs/marionette-1.4.1/appmodule");return b.extend({name:"navigation",create:function d(){return new a()},commands:{reset:true,updateState:true,navigate:true,navigateToUrl:true},events:["stateChanged"]})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:ajshelper', location = 'libs/ajshelper.js' */
define("jira/issues/libs/ajshelper",[],function(){var a=window.AJS;return{trigger:a.trigger.bind(a),escapeHtml:a.escapeHtml.bind(a),LEFT:a.LEFT,whenIType:function(){return a.whenIType},activeShortcuts:function(){return a.activeShortcuts}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerTemplate.soy' */
// This file was automatically generated from PagerTemplate.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ViewIssue.Header.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ViewIssue == 'undefined') { JIRA.Templates.ViewIssue = {}; }
if (typeof JIRA.Templates.ViewIssue.Header == 'undefined') { JIRA.Templates.ViewIssue.Header = {}; }


JIRA.Templates.ViewIssue.Header.pager = function(opt_data, opt_ignored) {
  return '<ul class="ajax ops page-navigation"><li class="previous">' + ((opt_data.previousIssue && opt_data.position != 1) ? '<a data-id="' + soy.$$escapeHtml(opt_data.previousIssue.id) + '" data-key="' + soy.$$escapeHtml(opt_data.previousIssue.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.previousIssue.key) + '" id="previous-issue" rel="' + soy.$$escapeHtml(opt_data.previousIssue.key) + '" title="' + soy.$$escapeHtml("Previous Issue") + ' \'' + soy.$$escapeHtml(opt_data.previousIssue.key) + '\'"><span class="icon icon-page-prev"><span>' + soy.$$escapeHtml("Previous Issue") + ' \'' + soy.$$escapeHtml(opt_data.previousIssue.key) + '\'</span></span></a>' : (opt_data.position && opt_data.resultCount) ? '<span class="icon icon-page-prev-deactivated" title="' + soy.$$escapeHtml("Not available - this is the first issue") + '"></span>' : '') + '</li><li class="showing">' + ((opt_data.position && opt_data.resultCount) ? soy.$$escapeHtml(AJS.format("{0} of {1}",opt_data.position,opt_data.resultCount)) : '') + '</li><li class="next">' + ((opt_data.nextIssue && opt_data.position != opt_data.resultCount) ? '<a data-id="' + soy.$$escapeHtml(opt_data.nextIssue.id) + '" data-key="' + soy.$$escapeHtml(opt_data.nextIssue.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.nextIssue.key) + '" id="next-issue" rel="' + soy.$$escapeHtml(opt_data.nextIssue.key) + '" title="' + soy.$$escapeHtml("Next Issue") + ' \'' + soy.$$escapeHtml(opt_data.nextIssue.key) + '\'"><span class="icon icon-page-next"><span>' + soy.$$escapeHtml("Next Issue") + ' \'' + soy.$$escapeHtml(opt_data.nextIssue.key) + '\'</span></span></a>' : (opt_data.position && opt_data.resultCount) ? '<span class="icon icon-page-next-deactivated" title="' + soy.$$escapeHtml("Not available - this is the last issue") + '"></span>' : '') + '</li>' + ((opt_data.isError || opt_data.hasSearchLink) ? '<li class="return"><a id="return-to-search" href="' + soy.$$escapeHtml("") + '/issues/" title="' + soy.$$escapeHtml("Return to search") + '">' + soy.$$escapeHtml("Return to search") + '</a></li>' : '') + '</ul>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.Header.pager.soyTemplateName = 'JIRA.Templates.ViewIssue.Header.pager';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/Pager.js' */
define("jira/issues/modules/pager",["require"],function(a){var c=a("jira/issues/modules/pager/model");var b=a("jira/issues/modules/pager/controller");return function(f){var e;var d;this.initialize=function(){e=new c()};this.update=function(g){if(g){e.update(g)}else{if(e.get("isError")!==true){e.clear()}}};this.show=function(g,h){if(!d){d=new b({model:e});d.on("goBack",f.goBack);d.on("nextItem",f.nextItem);d.on("previousItem",f.previousItem)}d.show(g,h)};this.close=function(){if(d){d.close()}d=null;e.clear()}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerModel.js' */
define("jira/issues/modules/pager/model",["require"],function(b){var a=b("jira/issues/basemodel");return a.extend({properties:["nextIssue","previousIssue","position","resultCount","hasSearchLink","isError"],update:function(c){c.hasSearchLink=!c.isSplitView;delete c.isSplitView;this.set(c)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerView.js' */
define("jira/issues/modules/pager/view",["require"],function(c){var d=c("jquery");var e=c("jira/components/libs/marionette-1.4.1/itemview");var a=c("jira/issues/modules/pager/templates");var b=c("jira/issues/libs/ajshelper");return e.extend({template:function(f){return a.pager(f||{})},events:{"simpleClick #return-to-search":"_onReturnToSearchClick"},triggers:{"simpleClick #next-issue":"nextItem","simpleClick #previous-issue":"previousItem"},ui:{nextIssue:"#next-issue",previousIssue:"#previous-issue",returnToSearch:"#return-to-search"},modelEvents:{change:"render"},onRender:function(){var f=b.activeShortcuts();if(f){if(f.j){f.j._addShortcutTitle(this.$el.find(this.ui.nextIssue))}if(f.k){f.k._addShortcutTitle(this.$el.find(this.ui.previousIssue))}if(f.u){f.u._addShortcutTitle(this.$el.find(this.ui.returnToSearch))}}},_onReturnToSearchClick:function(f){f.preventDefault();this.trigger("goBack");d("body").focus()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerController.js' */
define("jira/issues/modules/pager/controller",["require"],function(c){var b=c("jira/components/libs/marionette-1.4.1/controller");var a=c("jira/issues/modules/pager/view");return b.extend({initialize:function(d){this.model=d.model},getView:function(d){if(!this.pagerView){this.pagerView=new a({model:this.model,el:d});this.listenTo(this.pagerView,"close",this.destroyView);this.listenAndRethrow(this.pagerView,["goBack","nextItem","previousItem"])}else{if(d){this.pagerView.setElement(d)}}return this.pagerView},show:function(e){var d=this.getView(e.pager);this.model.set("isError",e.isError);d.render()},onClose:function(){this.pagerView.close()},destroyView:function(){delete this.pagerView}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerAppModule.js' */
define("jira/issues/modules/pager/appmodule",["require"],function(a){var c=a("jira/issues/modules/pager");var b=a("jira/issues/api");return function(d,f){var e=new c({nextItem:function(){b.nextIssue()},previousItem:function(){b.prevIssue()},goBack:function(){f.execute("returnToSearch")}});f.addInitializer(function(){e.initialize();f.commands.setHandlers({"pager:update":e.update,"pager:render":e.show,"pager:close":e.close})})}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/amd-wrapper.js' */
define("jira/issues/modules/pager/templates",function(){return JIRA.Templates.ViewIssue.Header});AJS.namespace("JIRA.Templates.ViewIssue.Header",null,require("jira/issues/modules/pager/templates"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/namespace.js' */
AJS.namespace("JIRA.Components.Pager",null,require("jira/issues/modules/pager"));AJS.namespace("JIRA.Components.Pager.AppModule",null,require("jira/issues/modules/pager/appmodule"));AJS.namespace("JIRA.Components.Pager.Controller",null,require("jira/issues/modules/pager/controller"));AJS.namespace("JIRA.Components.Pager.Model",null,require("jira/issues/modules/pager/model"));AJS.namespace("JIRA.Components.Pager.View",null,require("jira/issues/modules/pager/view"));AJS.namespace("JIRA.Templates.ViewIssue.Header",null,require("jira/issues/modules/pager/templates"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-application', location = 'content/js/Application.js' */
define("jira/issues/application",["require"],function(b){var a=b("jira/components/util/inlineeditparams");var c=new JIRA.Marionette.Application();c.addInitializer(function(){this.module("JIRA.Components.Pager",JIRA.Components.Pager.AppModule);if(a.isEnabled()){this.module("JIRA.Components.IssueEditor",new JIRA.Components.IssueEditor.AppModule().definition)}else{this.module("JIRA.Components.IssueEditor",new JIRA.Components.IssueEditor.NoInlineAppModule().definition)}this.module("JIRA.Components.Analytics",new JIRA.Components.Analytics.AppModule().definition);JIRA.Issues.AnalyticsLoader.init();var d=b("jira/issues/modules/navigation/module");this.module("JIRA.Components.Navigation",new d().definition)});return c});AJS.namespace("JIRA.Issues.Application",null,require("jira/issues/application"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/path.js' */
define("dndattachment/ctrlv/path",["exports"],function(a){var b=function b(c){return c.split(/\//).pop()};a.basename=b;a.dirname=function(c){var d=b(c);return c.substring(0,c.length-d.length)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'templates/soy/attach-screenshot-form.soy' */
// This file was automatically generated from attach-screenshot-form.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Html5Screenshot.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Html5Screenshot == 'undefined') { JIRA.Templates.Html5Screenshot = {}; }


JIRA.Templates.Html5Screenshot.attachScreenshotForm = function(opt_data, opt_ignored) {
  return '<h2 class="dialog-title">' + soy.$$escapeHtml("Attach Screenshot") + '</h2><form action="ShowAttachScreenshotFormAction.jspa" class="aui" method="post" id="attach-screenshot-form" data-attach-secure-token="' + soy.$$escapeHtml(opt_data.attachUserToken) + '" data-submit-secure-token="' + soy.$$escapeHtml(opt_data.submitUserToken) + '"><input type="hidden" name="id" value="' + soy.$$escapeHtml(opt_data.id) + '"/><input type="hidden" name="atl_token" value="' + soy.$$escapeHtml(opt_data.atlToken) + '"><input type="hidden" name="formToken" value="' + soy.$$escapeHtml(opt_data.formToken) + '"><input type="hidden" name="filetoconvert" value=""><div class="attach-screenshot-padding"><div class="attach-screenshot-container"><div id="attach-screenshot-inner-container"><div class="mod-content"><ul class="item-details"><li><dl><dt>' + soy.$$escapeHtml("Take a screenshot:") + '</dt>' + ((opt_data.userPlatform == 'pc') ? '<dd>' + soy.$$filterNoAutoescape("\x3ckbd\x3ePrtScn\x3c/kbd\x3e") + '</dd>' : '<dd>' + soy.$$filterNoAutoescape("\x3ckbd\x3e\x26#8963; Ctrl\x3c/kbd\x3e + \x3ckbd\x3e\x26#8984; Cmd\x3c/kbd\x3e + \x3ckbd\x3e\x26#8679; Shift\x3c/kbd\x3e + \x3ckbd\x3e3\x3c/kbd\x3e") + '</dd>') + '</dl></li><li><dl><dt>' + soy.$$escapeHtml("Paste the image:") + '</dt>' + ((opt_data.userPlatform == 'pc') ? '<dd>' + soy.$$filterNoAutoescape("\x3ckbd\x3eCtrl\x3c/kbd\x3e + \x3ckbd\x3ev\x3c/kbd\x3e") + '</dd>' : '<dd>' + soy.$$filterNoAutoescape("\x3ckbd\x3e\x26#8984; Cmd\x3c/kbd\x3e + \x3ckbd\x3ev\x3c/kbd\x3e") + '</dd>') + '</dl></li></ul></div><input type="text" id="attach-screenshot-fake-input"><div class="attach-screenshot-padding attach-screenshot-padding-inner"><div id="attach-screenshot-image-container" class="attach-screenshot-image-container"><div class="attach-screenshot-placeholder"><div class="mod-content"><ul class="item-details"><li><dl><dt id="attach-screenshot-placeholder-message">' + soy.$$escapeHtml("Your image will be pasted here") + '</dt></dl></li></ul></div></div></div></div><div id=\'attach-max-size\' class="hidden">' + soy.$$escapeHtml(opt_data.maxSize) + '</div></div></div></div><fieldset><div><legend><span>' + soy.$$escapeHtml("Attach Screenshot") + '</span></legend><div id="attach-screenshot-filename-group" class="field-group"><div id="attach-screenshot-progress-container"></div><label for="attachscreenshotname">' + soy.$$escapeHtml("File name") + ' <span class="aui-icon icon-required">' + soy.$$escapeHtml("Required") + '</span></label><input class="text" type="text" id="attachscreenshotname" name="attachscreenshotname" title="File Name" value="' + soy.$$escapeHtml(opt_data.nextScreenshotName) + '"><div class="description">' + soy.$$escapeHtml("A file name to be used as attached image name") + '</div></div></div></fieldset><div class="buttons-container form-footer"><div class="buttons"><button class="aui-button aui-button-primary" id="attach-screenshot-html5-upload">' + soy.$$escapeHtml("Upload") + '</button><a href="#" class="cancel">' + soy.$$escapeHtml("Cancel") + '</a></div></div></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.Html5Screenshot.attachScreenshotForm.soyTemplateName = 'JIRA.Templates.Html5Screenshot.attachScreenshotForm';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/html5.js' */
define("dndattachment/ctrlv/html5",["require","exports"],function(b,c){var k=b("jira/util/formatter");var e=b("wrm/context-path");var h=b("jira/jquery/deferred");var d=b("jquery");var m=b("underscore");var i=b("dndattachment/ctrlv/base64decode");var l=b("dndattachment/ctrlv/utility");var g=b("jira/dialog/dialog");var j=b("jira/dialog/dialog-register");var a=b("jira/ajs/ajax/smart-ajax");var f=b("jira/attachment/inline-attach");c.getFileFromEvent=function(o){var n=new h();if(l.isImagePasteEvent(o)){n.resolve(m(o.clipboardData.items).filter(function(p){return p.type.indexOf("image")!==-1}).map(function(p){return p.getAsFile()})[0]||m(o.clipboardData.files).filter(function(p){return p.type.indexOf("image")!==-1})[0])}else{n.reject()}return n.promise()};c.REQUEST_TIMEOUT_MILLIS=5*60*1000;c.screenshotFileUpload={};c.screenshotFileUploadUri=null;c.$document=undefined;c.$window=undefined;c.$container=undefined;c.$fakeInput=undefined;c.uploadError=false;c.uploadErrorMsg="";c.progressView={hidden:false,progress:0,old:0,progressBarContainer:undefined,progressEl:undefined,container:undefined,options:undefined,staticProgress:undefined,initProgress:function(){this.container=this.buildContainer();this.progressEl=this.buildProgress();this.container.append(this.progressEl);this.options={showPercentage:false,height:"5px"};this.progressBarContainer=d("#attach-screenshot-progress-container");this.progressBarContainer.empty();this.progressBarContainer.append(this.container);this.staticProgress=this.container;this.hidden=true},finish:function(){this.value(100)},progressHandler:function(o){var n=Math.round(o.loaded*100/o.total);this.value(n)},value:function(n){if(n>100){n=100}else{if(n<0){n=0}}if(this.hidden){this.progressEl.show();this.hidden=false}if(this.old!==n){this.progressEl.progressBar(n,this.options);if(n>=100){this.progressEl.fadeOut()}this.old=n}},buildContainer:function(){return d("<div>").addClass("file-progress")},buildProgress:function(){return d("<div>").attr("id","attach-screenshot-upload-progress")}};c.dialogView={pasteCatcher:{},presenter:undefined,getMaxSize:function(){return d("#attach-max-size").text()},getFileSize:function(){if(d.isPlainObject(this.presenter.screenshotFileUpload)&&m.isEmpty(this.presenter.screenshotFileUpload)){return 0}return this.presenter.screenshotFileUpload.size||this.presenter.screenshotFileUpload.byteLength||this.presenter.screenshotFileUpload.length},cleanGeneralErrors:function(){d("#error-attach-screenshot-image").closest(".field-group").remove()},cleanFileErrors:function(){d("#error-attach-screenshot-filename").remove()},displayErrors:function(n){if("compatibility" in n){l.showErrorMsg("",n.compatibility)}if("fileName" in n){l.showErrorMsg("",n.fileName)}if("fileUpload" in n){l.showErrorMsg("",n.fileUpload)}},appendBlobImage:function(n){var p=window.URL||window.webkitURL;var o=p.createObjectURL(n);this.presenter.screenshotFileUpload=n;this.createImage(o)},createImage:function(q){var o=new Image();o.onload=function(){};o.src=q;this.presenter.screenshotToUpload=o;var p=d(o);p.addClass("attach-screenshot-pasted-image");var n=d("#attach-screenshot-image-container");n.empty();n.append(p);this.presenter.$fakeInput.focus();m.defer(function(){c.imageCreatedHandler()})},checkInput:function(){var o,n=c.dialogView.pasteCatcher.childNodes[0];if(n){if("IMG"===n.tagName){if(n.src.indexOf("data:")===0){o=n.src}else{}}c.dialogView.pasteCatcher.innerHTML=""}if(!o){c.$fakeInput.focus()}return o},onPaste:function(n){c.dialogView.cleanFileErrors();c.dialogView.cleanGeneralErrors();if(l.isImagePasteEvent(n)){c.getFileFromEvent(n).then(function(o){this.appendBlobImage(o)}.bind(this))}else{setTimeout(function(){var o=this.checkInput();if(o){c.screenshotFileUpload=i.decodeBase64DataUri(o);c.dialogView.createImage(o)}}.bind(this),0)}},getFakeInput:function(){return d("#attach-screenshot-fake-input")},getContainer:function(){return d("#attach-screenshot-image-container")},getIssueKey:function(){return d("input[name='id']").val()},getDocument:function(){return d(document)},getWindow:function(){return d(window)},getFileNameInput:function(){return d("#attachscreenshotname")},hasPngExtension:function(o){var n=/\.png$/i;return n.test(o)},setFileToConvert:function(n){d("input[name='filetoconvert']").val(n)},buildPasteCatcher:function(){if(!document.getElementById("attach-screenshot-form")){return}var n=document.createElement("div");n.setAttribute("contenteditable","true");n.style.width=0;n.style.height=0;n.style.position="absolute";n.style.top="-5000px";document.getElementById("attach-screenshot-form").appendChild(n);return n},_getFormSubmits:function(){return d("#attach-screenshot-form").find("button.aui-button")},disable:function(){this._getFormSubmits().attr("disabled","disabled");return this},enable:function(){this._getFormSubmits().removeAttr("disabled");return this},isEnabled:function(){return this.isVisible()&&!this._getFormSubmits().attr("disabled")},isVisible:function(){return d("#attach-screenshot-form").length>0},initDialog:function(n){this.pasteCatcher={};this.presenter=n;this.pasteCatcher=this.buildPasteCatcher()}};c.initScreenshotPasteHandler=function(){var n=c.dialogView;c.screenshotFileUpload={};c.resetUploadErrors();c.dialogView.initDialog(c);c.$document=n.getDocument();c.$window=n.getWindow();c.$container=n.getContainer();c.$fakeInput=n.getFakeInput();c.bindOnce(c.$container,"click",c.setFocusOnClickHandler);c.bindOnce(c.$fakeInput,"focus",c.showFocusOnFieldHandler);c.bindOnce(c.$fakeInput,"blur",c.hideFocusOnFieldHandler);c.bindOnce(c.$fakeInput,"keydown",c.keyDownHandler);if(!l.browserIsSupported()){n.displayErrors({compatibility:k.format("Your browser is not supported. Consider using an alternative supported browser such as {0}Google Chrome{1} or {2}Firefox{3}.",'<a href="//www.google.com/chrome/browser/">',"</a>",'<a href="//www.mozilla.org/firefox/">',"</a>")})}else{c.bindOnce(c.$window,"paste",c.pasteHandler)}};c.resetUploadErrors=function(){c.uploadError=false;c.uploadErrorMsg=undefined};c.setUploadError=function(n){c.uploadError=true;c.uploadErrorMsg=n};c.bindOnce=function(p,n,o){p.unbind(n,o);p.bind(n,o)};c.showFocusOnFieldHandler=function(){c.$container.addClass("focus")};c.hideFocusOnFieldHandler=function(){c.$container.addClass("focus")};c.setFocusOnClickHandler=function(){c.$fakeInput.focus()};c.pasteHandler=function(n){if(!c.dialogView.isEnabled()){return}n=l.normalizePasteEvent(n);c.dialogView.onPaste(n)};c.polyPasteHandler=function(o,n,p){if(!c.dialogView.isEnabled()){return}c.screenshotFileUpload={length:-1};c.screenshotFileUploadUri=n;c.dialogView.createImage(p)};c.keyDownHandler=function(n){if(l.isKeyPasteEvent(n)){if(c.dialogView.pasteCatcher.focus){c.dialogView.pasteCatcher.focus()}}};c.imageCreatedHandler=function(){c.doAjaxUpload(this.dialogView.getIssueKey(),this.dialogView.getFileNameInput().val())};c.getMimeType=function(){return"image/png"};c.createData=function(){return c.screenshotFileUpload};c.clipboardDataIsEmpty=function(n){if(window.clipboardData!=null){return false}return !(n&&n.clipboardData&&n.clipboardData.types&&n.clipboardData.types.length>0)};c.validateFileSize=function(q,n,p){var n=n||c.dialogView.getFileSize();var p=p||c.dialogView.getMaxSize();if(n>p){var o=f.Text.fileSize(p,n);q.fileUpload=k.format("Screenshot is too large to attach. Attachment is {0} but the largest allowed attachment is {1}.",o[1],o[0])}};c.validateFormData=function(n,p){var o={};if(d.isPlainObject(n)&&m.isEmpty(n)){o.fileUpload="Please paste the image you wish to upload"}c.validateFileSize(o);if(c.uploadError){o.fileUpload="The error occurred during image upload - you will need to try the pasting image again. Sorry for the inconvenience."}if(""==p){o.fileName="You must specify a filename of the image."}if(!l.isValidFileName(p)){o.fileName="Filename must not contain the characters \'\\\', \'/\', \'\"\', \':\', \'?\', \'*\', \'\u003c\', \'|\', \'\u003e\', \'!\'"}return o};c.doAjaxUpload=function(n,u){c.dialogView.disable();var t={};c.validateFileSize(t);if(!m.isEmpty(t)){c.dialogView.displayErrors(t);c.dialogView.enable();return}var r=c.createData(),s=c.getMimeType(),p=d("#attach-screenshot-form").data("attach-secure-token"),o=d("#attach-screenshot-form").find("input[name='formToken']").attr("value");var q=e()+"/rest/internal/1.0/AttachTemporaryFile?size="+c.dialogView.getFileSize()+"&filename="+encodeURIComponent(u)+"&atl_token="+encodeURIComponent(atl_token())+"&issueId="+encodeURIComponent(this.dialogView.getIssueKey())+(p?("&secureToken="+encodeURIComponent(p)):"")+(o?("&formToken="+encodeURIComponent(o)):"");c.resetUploadErrors();c.executeAjaxUpload(r,q,s).progress(function(v){if(v=="init"){c.progressView.initProgress()}}).done(function(v){if(typeof v=="string"){v=JSON.parse(v)}c.dialogView.setFileToConvert(v.id)}).fail(function(x,A,z,v){var w;if(v.statusText=="abort"){w="The call to the Jira server did not complete within the timeout period.  We are unsure of the result of this operation."}else{if(v.hasData){var y=JSON.parse(v.data);if(y.errorMessage){w=y.errorMessage}else{w=a.buildSimpleErrorContent(v,{alert:false})}}}c.setUploadError(w);c.dialogView.displayErrors({fileUpload:w})}).always(function(){c.dialogView.enable();c.progressView.finish()}).progress(function(v){if(v!="init"){c.progressView.progressHandler(v)}})};c.executeAjaxUpload=function(p,o,r){var n=h();var q=a.makeRequest({type:"POST",url:o,contentType:r,processData:false,data:p,timeout:c.REQUEST_TIMEOUT_MILLIS,success:n.resolve.bind(n),error:n.reject.bind(n),xhr:function(){var s=d.ajaxSettings.xhr();n.notify("init");s.upload.addEventListener("progress",n.notify.bind(n));return s}});n.always(function(){d.ajaxSettings.xhr().removeEventListener("progress",c.progressView.progressHandler);d(j.attachScreenshotDialog).off("Dialog.hide",q.abort)});d(j.attachScreenshotDialog).one("Dialog.hide",q.abort);return n.promise()};c.show=function(){var n=new h();var o=d(".issueaction-attach-screenshot-html5");if(g.current!=null){return n.reject().promise()}if(o.length==0){return n.reject().promise()}m.defer(function(){o.trigger("click")});d(document).on("dialogContentReady",function(q,p){if(p===j.attachScreenshotDialog&&c.dialogView.isEnabled()){n.resolve(p)}else{n.reject()}});d(document).on("ajaxComplete.jira.screenshot.dialog",function(r,q,p){if(p.url.indexOf(o.attr("href"))>-1){setTimeout(function(){if(!n.isResolved()){n.reject()}},1000)}});n.always(function(){d(document).off("ajaxComplete.jira.screenshot.dialog")});return n.promise()}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/issue-paste.js' */
define("dndattachment/ctrlv/issue-paste",["require","exports"],function(h,D){var d=h("jquery");var v=h("dndattachment/ctrlv/trace");var e=h("dndattachment/ctrlv/tracking");var r=h("dndattachment/ctrlv/utility");var g=h("dndattachment/ctrlv/html5");var B=h("dndattachment/ctrlv/base64decode");var f=h("jira/dialog/dialog");var o=h("jira/util/events");var x=h("dndattachment/util/events/types");var A=0;var m=1;var c=2;var y=3;var p=4;var t=5;var i=6;var w=7;var q=8;var n=9;function l(G,F){F.stateName=G;var E=function(){var H=F.apply(null,arguments);H.stateName=G;return H};E.stateName=G;return E}function b(F,E,G){return l(F,function(){var J=setTimeout(function(){a(n)},G);var I=E.apply(null,arguments);var H=function(M,L){var K=I(M,L);if(K){clearTimeout(J);return K}};H.stateName=F;return H})}var k=l("idle",function(){function E(F){if(d(F.target).is(":input:not(.wiki-textfield, #summary)")||r.isContentEditable(F.target)){return}return true}return function(G,F){if(G==A&&r.isKeyPasteEvent(F)){if(r.browserIsNativePaste()||!E(F)||!r.browserIsSupported()){return}e.trigger("attach.screenshot.html5.catchClipboard");return new u(F)}if(G==m){if(r.isImagePasteEvent(F)){e.trigger("attach.screenshot.html5.handlePaste");if(!E(F)){v("jira/attach-images-plugin/pasteIgnored");return}if(d(F.target).is(":input.wiki-textfield")){F.preventDefault()}return new s(F)}else{v("jira/attach-images-plugin/pasteIgnoredNotImage")}}}});var u=b("catchClipboard",function(G){var E=document.activeElement;G.selectionStart=G.target.selectionStart;G.selectionEnd=G.target.selectionEnd;var H=d('<div contenteditable="true" class="attach-screenshot-paste-catcher"></div>').appendTo("body");H.focus();if(d(E).is(":focusable:input,:aui-focusable:input")){setTimeout(function(){E.focus()})}function F(){H.remove()}return function(L,I){if(L==m){if(r.isImagePasteEvent(I)){F();I.target=E;return new s(I)}if(r.isHtmlImagePasteEvent(I)){F();I.target=E;return new z(I)}if(r.isTextPasteEvent(I)){F();var O=r.getTextPasteContent(I);r.insertToInput(O,G.target,G.selectionStart,G.selectionEnd);I.preventDefault();return new k()}}if(L==n){F();var K=H.find(">img");if(K.is(":only-child")){var M=K.attr("src");if(M.toLowerCase().indexOf("http")===0){return k()}else{var P=B.decodeBase64DataUri(M);var J=new Blob([P],{type:"image/png"});return new j(J,G)}}else{var N=r.getTextContent(H[0]);r.insertToInput(N,G.target,G.selectionStart,G.selectionEnd);return k()}}}});var z=l("imageLoading",function(E){var F=r.getHtmlImagePaste(E);if(!F){a(t)}else{r.loadImage(F).then(function(G){a(p,G)},a.bind(null,t))}return function(I,G){if(I==p){var H=r.convertImageToBlob(G);if(H){return new j(H,E)}else{return new k()}}if(I==n||I==t){return new k()}}});var s=b("fileLoading",function(E){g.getFileFromEvent(E).done(function(F){a(c,F)}).fail(function(){a(y)});return function(G,F){if(G==c){return new j(F,E)}else{if(G==y||G==n){return new k()}}}},1000);var j=l("attachImage",function(G,F){var H=F.target;var I=r.generateFileName()+".png";var E=r.convertBlobToImage(G,I);o.trigger(x.ATTACHMENT_FOR_PAGE_RECEIVED,{files:[E],isWikiTextfieldFocused:r.isWikiTextfield(d(H)),wikiTextfield:H,isPaste:true,successCallback:function(){a(i)}});return function(K,J){return new k()}});var C=new k();function a(F,E){if(a.eventQueue){a.eventQueue.push({type:F,object:E});return}a.eventQueue=[{type:F,object:E}];while(a.eventQueue.length>0){var G=a.eventQueue.splice(0,1)[0];var H=C(G.type,G.object);if(H){C=H}}delete a.eventQueue}D._getStateMap=function(){return{events:{EVENT_WINDOW_KEYDOWN:A,EVENT_WINDOW_PASTE:m,EVENT_FILE_LOADED:c,EVENT_FILE_LOAD_ERROR:y,EVENT_IMAGE_LOADED:p,EVENT_IMAGE_LOAD_ERROR:t,EVENT_DIALOG_LOADED:i,EVENT_DIALOG_CLOSED:w,EVENT_DIALOG_CANCELED:q,EVENT_TIMEOUT:n},states:{StateIdle:k,StateCatchClipboard:u,StateImageLoading:z,StateFileLoading:s,StateAttachImage:j}}};D.initIssuePaste=function(){d(window).on("keydown",function(E){a(A,E)});d(window).on("paste",function(E){a(m,r.normalizePasteEvent(E))});o.bind("Dialog.hide",function(E,G,F){if(F){a(q,G)}else{a(w,G)}})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/trace.js' */
define("dndattachment/ctrlv/trace",["require"],function(b){var a=b("jira/util/logger");return a.trace});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/tracking.js' */
define("dndattachment/ctrlv/tracking",["require","exports"],function(c,b){var a=c("jira/analytics");b.trigger=function(e,d){a.send({name:e,data:d||{}})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/executor.js' */
define("dndattachment/ctrlv/executor",["require","exports"],function(e,c){var d=e("jira/jquery/deferred");var g=e("jquery");var a=e("jira/util/events");var b=e("dndattachment/ctrlv/html5");var f=e("dndattachment/upload/handler");c.register=function(){var h={name:"JIRA Ctrl+V attachment executor",weight:5,isValid:function(j,i){return !!i.isPaste},processFiles:function(k,j){var i=d();b.show().done(function(n){var m=g("#attach-screenshot-placeholder-message");var l=g.Event("paste");l.clipboardData={files:k};m.focus();setTimeout(function(){m.trigger(l)});a.bind("Dialog.hide",function(o,q,p){if(p){i.reject()}else{i.resolve([q.find("#attachscreenshotname").val()+".png"])}})});return i}};f.registerExecutor(h)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/initialize.js' */
define("dndattachment/ctrlv/initialize",["require","exports"],function(b,d){var h=b("jira/jquery/deferred");var e=b("jquery");var k=b("underscore");var l=b("dndattachment/ctrlv/utility");var f=b("dndattachment/ctrlv/html5");var g=b("dndattachment/ctrlv/issue-paste");var j=b("dndattachment/ctrlv/tracking");var c=b("dndattachment/ctrlv/executor");var i=b("jira/dialog/dialog-register");var a=b("jira/dialog/form-dialog");d.init=function(){var m=a.extend({options:{}});window.JIRA.ScreenshotDialog=m;g.initIssuePaste();e(document).ready(function(){var o=h();o.resolve();i.attachScreenshotDialog=new m({id:"attach-screenshot-dialog",trigger:".issueaction-attach-screenshot-html5",isIssueDialog:true,onContentRefresh:function n(){this.$form.bind("before-submit",function p(q){var r=f.validateFormData(f.screenshotFileUpload,e.trim(f.dialogView.getFileNameInput().val()));if(f.dialogView.getFileSize()==0){q.preventDefault();return false}else{if(!k.isEmpty(r)){f.dialogView.displayErrors(r);q.preventDefault();return false}}return true})},delayShowUntil:function(){return o}});e(document).bind("dialogContentReady",function(q,p){if(p===i.attachScreenshotDialog&&document.getElementById("attach-screenshot-form")!==null){j.trigger("attach.screenshot.html5.contentReady");f.initScreenshotPasteHandler()}});e(document).ready(function(){e(document).on("click","#attach-screenshot-html5",function(){j.trigger("attach.screenshot.html5.display")})})});c.register()}});require(["dndattachment/ctrlv/initialize","jquery"],function(b,a){a(function(){b.init()})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-form-drop-zone', location = 'js/dropzones/FormDropZone.js' */
define("dndattachment/dropzones/FormDropZone",["require"],function(a){var m=a("jira/util/logger");var c=a("jira/util/events/types");var k=a("underscore");var i=a("jira/jquery/deferred");var d=a("dndattachment/Parser");var h=a("dndattachment/dropzones/IssueDropZone");var e=a("jquery");var l=a("dndattachment/aui/dialog2");var b=a("dndattachment/i18n");var f=a("dndattachment/util/DataTransfer");var g=a("dndattachment/ctrlv/utility");var n=a("jira/util/events");var j=h.extend({eventGroup:"formdropzone",init:function(){this._super.apply(this,arguments);this.progressBars=[];this.bind("uploadFinished",this.onUploadFinished.bind(this));this.$containerNode=this.getContainerNode();this.$formNode=this.$node.parents("form");this.formToken=this.$formNode.find('input[name="formToken"]').attr("value");this.$inputNode=e('<input name="dnd-dropzone" type="hidden" />').insertAfter(this.$node);this.$fieldNode=this.$node.parents(".field-group");this.$fieldNode.addClass("long-field");this.connectContainer()},onUploadFinished:function(p,q){var o=e('<input type="checkbox" name="filetoconvert"/>').addClass("upload-progress-bar__checkbox").attr("value",q.fileID).attr("id","filetoconvert-"+q.fileID).prop("checked",true).insertBefore(q.$node);q.bind("onBeforeDestroy",function(){o.prop("checked",false).prop("value",null)});setTimeout(function(){q.$node.addClass("upload-progress-bar__upload-ready");q.setIcon("aui-iconfont-close-dialog")},1000);m.trace("jira.issue.dnd.uploadfinished")},commitUpload:function(o){this.queueEvent("commitUpload",{count:o.length});return new i()},getContainerNode:function(){return this.$node.parents(".jira-dialog-content")},connectContainer:function(){this.$dragoverMask=e('<div class="attach-files-drop-zone__dragover-mask" />');this.$dragoverMask.appendTo(this.$containerNode);this.$body=e(document.body);this.onDragOverDropHandler=this.onDragOverDrop.bind(this);this.onDragLeaveHandler=this.onDragLeave.bind(this);this.onBodyDragOverDropHandler=this.onBodyDragOverDrop.bind(this);this.$containerNode.on("dragover drop",this.onDragOverDropHandler);this.$containerNode.on("dragleave",this.onDragLeaveHandler);this.$body.on("dragover drop",this.onBodyDragOverDropHandler);this.onBeforeSubmitHandler=this.onBeforeSubmit.bind(this);this.$formNode.on("before-submit",this.onBeforeSubmitHandler);this.onContentAddedHandler=this.onContentAdded.bind(this);n.bind(c.NEW_CONTENT_ADDED,this.onContentAddedHandler);n.bind("Dialog.hide",this.onDialogHide.bind(this));if(l){l.on("hide",this.onDialogHide.bind(this))}},disconnectContainer:function(){this.$dragoverMask.remove();this.$containerNode.removeClass("attach-files-drop-zone__dragover");this.$containerNode.off("dragover drop",this.onDragOverDropHandler);this.$containerNode.off("dragleave",this.onDragLeaveHandler);this.$formNode.off("before-submit",this.onBeforeSubmitHandler);n.unbind(c.NEW_CONTENT_ADDED,this.onContentAddedHandler);n.unbind("Dialog.hide",this.onDialogHide.bind(this));if(l){l.off("hide",this.onDialogHide.bind(this))}},isAttached:function(){return e.contains(document,this.$node[0])},onContentAdded:function(){if(!this.isAttached()){this.disconnectContainer()}},onDialogHide:function(){this.$body.off("dragover drop",this.onBodyDragOverDropHandler)},onBodyDragOverDrop:function(o){o.preventDefault();if(o.originalEvent){o.originalEvent.dataTransfer.dropEffect="none"}},onDragOverDrop:function(o){if(!this.isAttached()){this.disconnectContainer();return}if(!g.dragEventContainsFiles(o)){return}o.preventDefault();o.stopPropagation();if(o.originalEvent){o.originalEvent.dataTransfer.dropEffect="copy"}this.$containerNode.addClass("attach-files-drop-zone__dragover");if(o.type=="drop"){this.$containerNode.removeClass("attach-files-drop-zone__dragover");e(document).trigger("dropHandled");var p=new f(o.dataTransfer);p.getFiles().then(function(q){this.handleFilesReceived(q);this.queueEvent("fileDrop",{count:q.length})}.bind(this))}},onDragLeave:function(){this.$containerNode.removeClass("attach-files-drop-zone__dragover")},onBeforeSubmit:function(o){if(this.isDirty){o.preventDefault();var p={};p[this.$inputNode.attr("name")]=b("dnd.attachment.upload.in.progress");JIRA.applyErrorsToForm(this.$formNode,p);this.$formNode.find(".error").toArray().some(function(q){q.scrollIntoView()})}},markDirty:function(o){h.prototype.markDirty.apply(this,arguments);this.isDirty=o;m.trace(o?"jira.issue.dnd.isdirty":"jira.issue.dnd.isclear")},handleNewProgressBar:function(o){this.progressBars.push(o);o.bind("onBeforeDestroy",k.bind(function(){this.trigger("progressBarOnBeforeDestroy",o);this.progressBars=k.filter(this.progressBars,function(p){return p!==o});if(this.progressBars.length===0){this.trigger("allUploadsCancelled")}},this));o.bind("onDestroy",k.bind(function(){this.trigger("progressBarDestroyed")},this));o.bind("onFinished",k.bind(function(){this.trigger("progressBarFinished")},this));o.bind("onFailed",k.bind(function(){this.trigger("progressBarFailed")},this));this.trigger("progressBarStarted")},filesStillUploading:function(){return k.filter(this.progressBars,function(o){return !o.isFinished()}).length>0},anyFilesFailed:function(){return k.filter(this.progressBars,function(o){return o.isFailed()}).length>0}});return j});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-comment-drop-zone', location = 'js/dropzones/CommentDialogDropZone.js' */
define("dndattachment/dropzones/CommentDialogDropZone",["require"],function(c){var b=c("underscore");var h=c("dndattachment/Parser");var d=c("dndattachment/dropzones/FormDropZone");var f=c("jquery");var a=c("dndattachment/templates");var e=c("dndattachment/util/DataTransfer");var g=c("dndattachment/util/FileSizeUtil");return d.extend({eventGroup:"commentdialogdropzone",progressBarType:"dndattachment/progressbars/TempUploadProgressBar",init:function(i,j){this._super.apply(this,arguments);if(j){this.uploadLimit=j;this.uploadSize=g.format(j)}},render:function(){this.$node.html(a.CommentDialogDropZoneContainer({}))},getContainerNode:function(){return f(this.$node.parents(".dialog2-content-container"))},placeUploadProgressBar:function(i){return i.prependTo(this.$node.find(".issue-drop-zone__target"))},attachUploadedFiles:function(){this.attachFileUrl=contextPath+"/rest/jddap/1.0/attachment";var i=b.map(b.filter(this.progressBars,function(j){return j.isSuccessful()}),function(j){return j.getFileID()});return this.attachFile(i)},getFileNames:function(){return b.map(b.filter(this.progressBars,function(i){return i.isSuccessful()}),function(i){return i.getFileName()})}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-comment-drop-zone', location = 'js/progressbars/TempUploadProgressBar.js' */
define("dndattachment/progressbars/TempUploadProgressBar",["require"],function(d){var c=d("dndattachment/progressbars/UploadProgressBar");var a=d("jira/flag");var f=d("jquery");var b=d("dndattachment/templates");var g=d("dndattachment/util/FileSizeUtil");var e=d("dndattachment/i18n");return c.extend({init:function(){this._super.apply(this,arguments);this.bind("onDestroy",this.hideTooltips.bind(this))},render:function(){this.$node.html(b.TempUploadProgressBar());this.afterRender()},loadThumbnail:function(h){if(c.prototype.isImageType.call(this)){this._super.apply(this,arguments)}else{f(JIRA.Templates.ViewIssue.renderThumbnailIcon({mimetype:h.type})).appendTo(this.getThumbnailNode().addClass("upload-progress-bar__other-file-thumbnail"))}},showErrorMessage:function(h){this.$node.find(".upload-progress-bar__error").show();this.$node.find(".upload-progress-bar__thumbnail").hide();this.$node.find(".upload-progress-bar__control .error-message").attr("aria-label",h);this.$node.find(".temp-upload-progress-bar__container .upload-progress-bar__error-indicator").attr("title",h);this.$node.find(".temp-upload-progress-bar__container .upload-progress-bar__error-indicator").tooltip({title:"title",delayIn:0})},setFileName:function(i){var h=this.$node.find(".upload-progress-bar__file-name");h.text(i);h.attr("title",i);this.$node.find(".upload-progress-bar__file-name").tooltip({title:"title"});this.$node.find(".upload-progress-bar__control .file-name").attr("aria-label",i)},setFileSize:function(h){if(h>=0){var j=this.$node.find(".upload-progress-bar__file-name").attr("original-title");var i=j?" | ":"";this.$node.find(".upload-progress-bar__file-name").attr("title",j+i+g.format(h))}},setFinished:function(){this.$node.addClass("upload-progress-bar__upload-finished");this.$node.find(".temp-upload-progress-bar__uploading").removeClass("temp-upload-progress-bar__uploading");this.$node.find(".upload-progress-bar__progress-bar").addClass("upload-progress-bar__progress-bar-fade");this.$node.find(".upload-progress-bar__control .button-text").attr("aria-label",e("dnd.attachment.upload.remove"));this.getThumbnailNode().removeClass("upload-progress-bar__thumbnail-uploading");this.finished=true;this.trigger("onFinished")},setFailed:function(){this.$node.addClass("UploadProgressBar_uploadFailed");this.$node.find(".temp-upload-progress-bar__uploading").removeClass("temp-upload-progress-bar__uploading");this.$node.find(".upload-progress-bar__progress-bar").hide();this.finished=true;this.failed=true;this.trigger("onFailed")},hideTooltips:function(){this.$node.find(".upload-progress-bar__file-name").tooltip("hide");this.$node.find(".temp-upload-progress-bar__container .upload-progress-bar__error-indicator").tooltip("hide")}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-comment-drop-zone', location = 'templates/CommentDialogDropZone.soy' */
// This file was automatically generated from CommentDialogDropZone.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DnDAttachmentPlugin.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DnDAttachmentPlugin == 'undefined') { JIRA.Templates.DnDAttachmentPlugin = {}; }


JIRA.Templates.DnDAttachmentPlugin.CommentDialogDropZoneContainer = function(opt_data, opt_ignored) {
  return '<div class="issue-drop-zone__target comment-dialog-drop-zone"><div class="temp-upload-progress-bar__parent-container"><div class="temp-upload-progress-bar__container"><span class="issue-drop-zone__text"><span class="issue-drop-zone__drop-icon"> </span><br> ' + soy.$$escapeHtml("Drag files or paste screenshots to attach them") + ' </span></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.CommentDialogDropZoneContainer.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.CommentDialogDropZoneContainer';
}
;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_jira.view.issue', location = 'jira.view.issue.8fed2957085df95ee7f2.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[140],{144:function(e,t,a){"use strict";t.a={getHref:function(){return window.location.href},setHref:function(e){window.location.href=e}}},164:function(e,t){e.exports=require("dndattachment/upload/handler")},192:function(e,t){e.exports=require("jira/field/label-picker")},193:function(e,t,a){"use strict";var n=a(5),i=a.n(n),r=a(2),s=a(192),o=a.n(s),l=a(26),c=a.n(l),d=a(56),u=a.n(d),p=a(0),m=a(1);a(274);t.a=o.a.extend({_getDefaultOptions:function(){return p.default.extend(!0,this._super(),{ajaxOptions:{projectKey:"",url:function(){var e=this.projectKey;return"function"==typeof e&&(e=e()),i()()+"/rest/servicedesk/1/servicedesk/"+e+"/kb/labels"},query:!0,formatResponse:this._formatResponse}})},_formatResponse:function(e){var t=new u.a({label:"Suggestions",type:"optgroup",styleClass:"labels-suggested"});return e&&e.contentNameMatches&&e.contentNameMatches.length>0&&p.default.each(e.contentNameMatches[0],function(){t.addItem(new c.a({value:this.name,label:this.name,html:m.default.escape(this.name),highlighted:!0}))}),[t]}})},194:function(e,t,a){"use strict";var n=a(0),i=a(1),r=a(3),s=a(77),o=a(144),l=a(2),c=a(6),d=a.n(c),u=a(101),p=a(13),m=a.n(p),g=a(10),v=a(5),f=a.n(v),h=a(12),b=a.n(h),k=a(4);a(287),a(286);t.a=function(e){var t=ServiceDesk.Internal.Approvals.Feature.AdvancedApprovalsNotificationsTour,a={brace:r.a,underscore:i.default,jQuery:n.default},c=b.a.get("projectKey"),p=f()()+"/rest/servicedesk/notifications/1/"+c+"/approval.required/template",v=function(){var e=Object(n.default)(".chaperone:last").innerHeight()-Object(n.default)(".chaperone-content:last").innerHeight();e>0&&Object(n.default)(".aan-tour-footer").css("margin-top",e)},h=function(){return Object(g.c)(p)};if(b.a.get("isAdmin"))var D=s.a.registerHotspotTour({syncKey:"aan-tour-project:"+c,shouldRegisterTourCheck:function(){return h().pipe(function(e){return e.usesDefaultContent&&"sd.notification.default.rule.content.approval.required"===e.defaultContentI18nKey}).fail(function(e){d.a.error("Default and Version template check failed: "+e.errors.map(function(e){return e.errorMessage}).join(","))})},steps:[{selector:e.triggerSelector,dismissed:!1,offsetRight:e.rightOffset,styleClass:"aan-hotspot-part1",dismissingSelectors:".aan-dismiss-hotspot-step1",onShow:function(){h().done(function(i){Object(n.default)(".aan-hotspot-part1").click(function(){k.a.trackEvent("servicedesk.approval.email.notifications.tour.hotspot."+e.hotspotAnalyticsSuffix+".clicked"),function(i,r){var d=s.a.register({id:"aan-inner-tour-admin",numbered:!1,sync:!1,steps:[{width:310,minHeight:360,id:"aan-inner-tour-admin-step1",selector:".aan-hotspot-part1",dismissingSelectors:".aan-inner-tour-next",dir:e.direction,html:t.dialog({title:"Approving just got easier",lede:"You can now approve requests straight from your email. Check out the new approval notifications template.",progress:"1/3",next:{text:"Check it out"},dismiss:{text:"Dismiss"},images:["step-1"]}),onShow:function(){v(),k.a.trackEvent("servicedesk.approval.email.notifications.tour.dialog.step.shown",{step:"1"}),Object(n.default)(".aan-inner-tour-dismiss").click(function(){d.dismissTour(),i.dismissTour(),k.a.trackEvent("servicedesk.approval.email.notifications.tour.dialog.step.dismissed",{step:"1"})})}},{width:310,minHeight:360,id:"aan-inner-tour-admin-step2",selector:".aan-hotspot-part1",dismissingSelectors:".aan-inner-tour-next",dir:e.direction,html:t.dialog({title:"How the new template works",lede:"We\'ve added the full details of the request plus approval buttons. Approvers now have everything they need to act quickly.",followup:"Would you like your template updated?",progress:"2/3",next:{text:"Yes, update now"},dismiss:{text:"No, show me",buttonType:"button"},images:["step-2-part-1","step-2-part-2"]}),onShow:function(){v(),k.a.trackEvent("servicedesk.approval.email.notifications.tour.dialog.step.shown",{step:"2"}),Object(n.default)(".aan-inner-tour-next").click(function(){Object(g.g)(p,{newI18nVersion:2}),k.a.trackEvent("servicedesk.approval.email.notifications.tour.update.template")}),Object(n.default)(".aan-inner-tour-dismiss").click(function(){d.dismissTour();var e=new m.a(Object(u.customerNotificationsFragment)(c,r));e.addQuery("aan-tour-template-updated",!1),k.a.trackEvent("servicedesk.approval.email.notifications.tour.no.update.view.template"),o.a.setHref(e)})}},{width:310,minHeight:360,id:"aan-inner-tour-admin-step3",selector:".aan-hotspot-part1",dismissingSelectors:".aan-inner-tour-next",dir:e.direction,html:t.dialog({title:"You\'ve made every approver\'s day",lede:"The next time they receive a request, the email will include these time saving features.",progress:"3/3",next:{text:"See it in action",extraClasses:"aan-dismiss-hotpot-step1"},dismiss:{text:"Dismiss"},images:["step-3"]}),onShow:function(){v(),k.a.trackEvent("servicedesk.approval.email.notifications.tour.dialog.step.shown",{step:"3"}),Object(n.default)(".aan-inner-tour-next").click(function(){d.dismissTour();var e=new m.a(Object(u.customerNotificationsFragment)(c,r));e.addQuery("aan-tour-template-updated",!0),o.a.setHref(e)}),Object(n.default)(".aan-inner-tour-dismiss").click(function(){d.dismissTour(),i.dismissTour(),k.a.trackEvent("servicedesk.approval.email.notifications.tour.dialog.step.dismissed",{step:"3"})})}}]},a);Object(n.default)("body").click(function(e){Object(n.default)(e.target).closest(".chaperone-content").length>0||d.dismissTour()})}(D,i.ruleSetId)})})}}]},a)}},207:function(e,t,a){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Internal&&(ServiceDesk.Internal={}),void 0===ServiceDesk.Internal.KB&&(ServiceDesk.Internal.KB={}),void 0===ServiceDesk.Internal.KB.Feature&&(ServiceDesk.Internal.KB.Feature={}),void 0===ServiceDesk.Internal.KB.Feature.KBViewer&&(ServiceDesk.Internal.KB.Feature.KBViewer={}),void 0===ServiceDesk.Internal.KB.Feature.KBViewer.Templates&&(ServiceDesk.Internal.KB.Feature.KBViewer.Templates={}),ServiceDesk.Internal.KB.Feature.KBViewer.Templates.articleFooter=function(e,t){return e=e||{},""+aui.buttons.button({text:"Share as comment",extraClasses:"sd-kb-article-share js-sd-kb-article-share "+(e.isShareable?"":"js-tooltip"),extraAttributes:e.isShareable?"":'title="'+soy.$$escapeHtml("This article is restricted. Only people with permission can view it.")+'"',isDisabled:!e.isShareable})},goog.DEBUG&&(ServiceDesk.Internal.KB.Feature.KBViewer.Templates.articleFooter.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBViewer.Templates.articleFooter"),void 0===(n=function(){return ServiceDesk.Internal.KB.Feature.KBViewer.Templates}.apply(t,[]))||(e.exports=n)},242:function(e,t){e.exports=require("dndattachment/dropzones/CommentDialogDropZone")},243:function(e,t){e.exports=require("dndattachment/ctrlv/utility")},244:function(e,t){e.exports=require("jira/issues/application")},258:function(e,t,a){"use strict";a.d(t,"a",function(){return g}),a.d(t,"b",function(){return v}),a.d(t,"i",function(){return S}),a.d(t,"k",function(){return x}),a.d(t,"l",function(){return w}),a.d(t,"j",function(){return A}),a.d(t,"t",function(){return B}),a.d(t,"v",function(){return F}),a.d(t,"u",function(){return T}),a.d(t,"s",function(){return K}),a.d(t,"p",function(){return j}),a.d(t,"r",function(){return $}),a.d(t,"d",function(){return _}),a.d(t,"e",function(){return P}),a.d(t,"m",function(){return M}),a.d(t,"n",function(){return R}),a.d(t,"o",function(){return N}),a.d(t,"h",function(){return U}),a.d(t,"f",function(){return L}),a.d(t,"c",function(){return V}),a.d(t,"g",function(){return H}),a.d(t,"q",function(){return G});var n=a(2),i=a(1),r=a(27),s=a(54),o=a(15),l=a.n(o),c="h",d="d",u="M",p="%",m=1,g="YYYY-MM-DD",v=1460,f="hour",h="day",b="week",k="month",D="quarter";function C(e){return{value:(100*e).toFixed(m),units:p}}function y(e){var t=C(e);return""+t.value+t.units}var S=function(e,t){var a=Object(r.a)(e),n="";return n="m"===t?"MMM":"h"===t?"ddd ha":"D MMM",a.format(n)},x=function(e,t){var a=Object(r.a)(e);if("h"===t)return a.format("D MMM YYYY ha");if("w"===t){var i=a.format("D MMM YYYY");return n.format("Week starting {0}",i)}return"m"===t?a.format("MMMM YYYY"):a.format("D MMM YYYY")},w=function(e,t){var a=Object(r.a)(e);if("w"===t){var i=a.format("D MMM YYYY");return n.format("week starting {0}",i)}return x(e,t)},A=function(e,t){var a=Object(r.a)(e);if("m"===t)return a.format("MMMM YYYY");if("h"===t)return a.format("dddd, ha");if("w"===t){var i=a.format("D MMM YYYY");return n.format("Week starting {0}",i)}return a.format("dddd, D MMMM YYYY")};function I(e,t,a){var i=r.a.duration(e),s=0,o="";return t===u?(s=i.asMonths(),o="mths"):t===d?(s=i.asDays(),o="days"):t===c?(s=i.asHours(),o="hrs"):(s=i.asMinutes(),o="mins"),void 0!==a&&(s=s.toFixed(a)),{value:s,units:o}}function E(e,t,a){var n=I(e,t,a);return n.value+" "+n.units}var B=function(e){return e.x},F=function(e){return e.y},T=function(e){return i.default.map(e,B)},K=function(e){return e.length>0?e.at(0).getYAxisType():""},j=function(e){if("time"===K(e)){var t=0;return e.each(function(e){var a=i.default.max(i.default.pluck(e.getData(),"y"));t=Math.max(a,t)}),t>r.a.duration(6,"months").asMilliseconds()?u:t>r.a.duration(30,"days").asMilliseconds()?d:t>r.a.duration(2,"hours").asMilliseconds()?c:"m"}return""},$=function(e){switch(K(e)){case"time":var t=j(e);return function(e){return E(e,t,0)};case"star":return function(e){return e.toFixed(0)};case"percentage":return y;default:return i.default.identity}},_=function(e){var t=T(e.getSampleData());if(t.length>6){var a=Math.floor(t.length/6);return i.default.filter(t,function(e,t){return t%a==0})}return t};function O(e){var t=e[1]-e[0],a=i.default.last(e)+t;return e.concat([a])}var P=function(e){var t=K(e),a=void 0;if("time"===t){var n=j(e),o=I(e.highestYValue(),n),l=Math.max(Math.ceil(o.value),5);a=s.default.scale.linear().domain([0,l]).ticks(6),a=l===i.default.last(a)?a:O(a),a=i.default.map(a,function(e){return r.a.duration(e,n)})}else if("star"===t)a=s.default.scale.linear().domain([0,5]).ticks(6),a=5===i.default.last(a)?a:O(a);else if("percentage"===t)a=s.default.scale.linear().domain([0,1]).ticks(6),a=1===i.default.last(a)?a:O(a);else{var c=Math.max(e.highestYValue(),5);a=s.default.scale.linear().domain([0,c]).ticks(6),a=5===i.default.last(a)?a:O(a)}return a},M=function(e,t){switch(K(e)){case"time":return E(t,j(e),2);case"star":return t.toFixed(1);case"percentage":return y(t);default:return t}},R=function(e,t,a){switch(t){case"time":return I(e,a,2);case"star":return{value:e.toFixed(1),units:""};case"percentage":return C(e);default:return{value:e,units:""}}},N=function(e,t){var a=[],n="",s=Object(r.a)(t).diff(e,"days");return 1===s?(a=[f],n=f):s>=2&&s<=4?(a=[f,h],n=f):s>=5&&s<=13?(a=[h],n=h):s>=14&&s<=27?(a=[h,b],n=h):s>=28&&s<=59?(a=[h,b],n=b):s>=60&&s<=90?(a=[h,b,k],n=b):s>=91&&s<=179?(a=[b,k],n=b):s>=180&&s<=365?(a=[b,k,D],n=k):s>=366&&s<=v&&(a=[k,D],n=k),{options:i.default.map([f,h,b,k,D],function(e){return{name:e,enabled:a.indexOf(e)>-1}}),default:n}},U=[{id:1,name:"Past 48 hours",analyticsKey:"past48.byhour",customReportAnalyticKey:"past48",timeBreakdown:"h",timePeriod:"PT48H"},{id:2,name:"Past 7 days",analyticsKey:"past7.byday",customReportAnalyticKey:"past7",timeBreakdown:"d",timePeriod:"P7D"},{id:3,name:"Past 14 days",analyticsKey:"past14.byday",customReportAnalyticKey:"past14",timeBreakdown:"d",timePeriod:"P14D"},{id:4,name:"Past 30 days",analyticsKey:"past30.byday",customReportAnalyticKey:"past30",timeBreakdown:"d",timePeriod:"P30D"},{id:5,name:"Past quarter by day",analyticsKey:"pastquarter.byday",customReportAnalyticKey:"past3byday",timeBreakdown:"d",timePeriod:"P3M"},{id:6,name:"Past quarter by week",analyticsKey:"pastquarter.byweek",customReportAnalyticKey:"past3byweek",timeBreakdown:"w",timePeriod:"P3M"},{id:7,name:"Past year by week",analyticsKey:"pastyear.byweek",customReportAnalyticKey:"past12byweek",timeBreakdown:"w",timePeriod:"P1Y"},{id:8,name:"Past year by month",analyticsKey:"pastyear.bymonth",customReportAnalyticKey:"past12bymonth",timeBreakdown:"m",timePeriod:"P1Y"}],L={id:9,name:"Custom date range",analyticsKey:"custom",customReportAnalyticKey:"custom",timeBreakdown:"c",timePeriod:"CUSTOM"},V=l.a.isFeatureEnabled("sd.report.custom.date.range")?U.concat(L):U,H=U[1],G=function(e){return i.default.find(V,function(t){return t.id===e})}},274:function(e,t,a){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Internal&&(ServiceDesk.Internal={}),void 0===ServiceDesk.Internal.Feature&&(ServiceDesk.Internal.Feature={}),void 0===ServiceDesk.Internal.Feature.KbLabelSelect&&(ServiceDesk.Internal.Feature.KbLabelSelect={}),void 0===ServiceDesk.Internal.Feature.KbLabelSelect.Templates&&(ServiceDesk.Internal.Feature.KbLabelSelect.Templates={}),ServiceDesk.Internal.Feature.KbLabelSelect.Templates.enabledLabelSelectEdit=function(e,t){for(var a='<select multiple="multiple" class="select imagebacked field-visible-required hidden" data-edit-value="" name="'+soy.$$escapeHtml(e.name)+'" id="'+soy.$$escapeHtml(e.name)+'Key">',n=e.labels,i=n.length,r=0;r<i;r++){var s=n[r];a+='<option selected="selected" value="'+soy.$$escapeHtml(s)+'">'+soy.$$escapeHtml(s)+"</option>"}return a+="</select>"},goog.DEBUG&&(ServiceDesk.Internal.Feature.KbLabelSelect.Templates.enabledLabelSelectEdit.soyTemplateName="ServiceDesk.Internal.Feature.KbLabelSelect.Templates.enabledLabelSelectEdit"),ServiceDesk.Internal.Feature.KbLabelSelect.Templates.requiredLabelSelectRead=function(e,t){for(var a="",n=e.labels,i=n.length,r=0;r<i;r++){var s=n[r];a+='<span id="unclickable-label" class="aui-label">'+soy.$$escapeHtml(s)+"</span>"}return a},goog.DEBUG&&(ServiceDesk.Internal.Feature.KbLabelSelect.Templates.requiredLabelSelectRead.soyTemplateName="ServiceDesk.Internal.Feature.KbLabelSelect.Templates.requiredLabelSelectRead"),void 0===(n=function(){return ServiceDesk.Internal.Feature.KbLabelSelect.Templates}.apply(t,[]))||(e.exports=n)},284:function(e,t,a){e.exports=a.p+"cb03daa6ec71c446529a751093e35062.svg"},285:function(e,t,a){var n=a(66);(e.exports=a(9)(!1)).push([e.i,"/*\n * @see https://atlassian.design/guidelines/brand/color-1\n */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n.aan-tour-image-container {\n  display: flex;\n}\n.aan-tour-image {\n  margin-top: 10px;\n  padding-top: 10px;\n  width: 100%;\n  background: no-repeat center;\n}\n.aan-tour-image.step-1 {\n  background-image: url("+n(a(284))+');\n  height: 150px;\n  margin-right: 10px;\n}\n.aan-tour-image.step-2-part-1 {\n  background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewBox%3D%220%200%20215.0798%20183.1157%22%3E%0A%20%20%3Cdefs%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20.cls-1%20%7B%0A%20%20%20%20%20%20%20%20fill%3A%20%230065ff%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20.cls-2%20%7B%0A%20%20%20%20%20%20%20%20fill%3A%20%23fafbfc%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20.cls-3%20%7B%0A%20%20%20%20%20%20%20%20fill%3A%20none%3B%0A%20%20%20%20%20%20%20%20stroke%3A%20%233384ff%3B%0A%20%20%20%20%20%20%20%20stroke-miterlimit%3A%2010%3B%0A%20%20%20%20%20%20%20%20stroke-width%3A%202px%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20.cls-4%20%7B%0A%20%20%20%20%20%20%20%20fill%3A%20%231db9d4%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20.cls-5%20%7B%0A%20%20%20%20%20%20%20%20fill%3A%20url(%23linear-gradient)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20.cls-6%20%7B%0A%20%20%20%20%20%20%20%20fill%3A%20%236bd5e5%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%3C%2Fstyle%3E%0A%20%20%20%20%3ClinearGradient%20id%3D%22linear-gradient%22%20x1%3D%22107.5399%22%20y1%3D%22183.1157%22%20x2%3D%22107.5399%22%20y2%3D%2275.5757%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220%22%20stop-color%3D%22%231db9d4%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220.1246%22%20stop-color%3D%22%2338c3da%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220.2637%22%20stop-color%3D%22%234fcbdf%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220.415%22%20stop-color%3D%22%235fd1e2%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220.5858%22%20stop-color%3D%22%2368d4e4%22%2F%3E%0A%20%20%20%20%20%20%3Cstop%20offset%3D%220.8176%22%20stop-color%3D%22%236bd5e5%22%2F%3E%0A%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%3C%2Fdefs%3E%0A%20%20%3Ctitle%3EOpen%20Letter%3C%2Ftitle%3E%0A%20%20%3Cg%20id%3D%22Layer_2%22%20data-name%3D%22Layer%202%22%3E%0A%20%20%20%20%3Cg%20id%3D%22Objects%22%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22cls-1%22%20d%3D%22M214.9142%2C75.4426%2C131.5325%2C8.4449a38.3043%2C38.3043%2C0%2C0%2C0-47.9848%2C0L.166%2C75.4426H0v107.54H215.08V75.4426Z%22%2F%3E%0A%20%20%20%20%20%20%3Crect%20class%3D%22cls-2%22%20x%3D%2225.4233%22%20y%3D%2222.4242%22%20width%3D%22162.8374%22%20height%3D%22131.8239%22%2F%3E%0A%20%20%20%20%20%20%3Cline%20class%3D%22cls-3%22%20x1%3D%2243.8595%22%20y1%3D%2258.1709%22%20x2%3D%22169.5104%22%20y2%3D%2258.1709%22%2F%3E%0A%20%20%20%20%20%20%3Crect%20class%3D%22cls-4%22%20x%3D%2225.4232%22%20y%3D%2219.5188%22%20width%3D%22162.8374%22%20height%3D%2212.1465%22%2F%3E%0A%20%20%20%20%20%20%3Cline%20class%3D%22cls-3%22%20x1%3D%2243.8595%22%20y1%3D%2267.7576%22%20x2%3D%22109.5912%22%20y2%3D%2267.7576%22%2F%3E%0A%20%20%20%20%20%20%3Cline%20class%3D%22cls-3%22%20x1%3D%2243.8595%22%20y1%3D%2248.5843%22%20x2%3D%22169.5104%22%20y2%3D%2248.5843%22%2F%3E%0A%20%20%20%20%20%20%3Cline%20class%3D%22cls-3%22%20x1%3D%2243.8595%22%20y1%3D%2286.9309%22%20x2%3D%22169.5104%22%20y2%3D%2286.9309%22%2F%3E%0A%20%20%20%20%20%20%3Cline%20class%3D%22cls-3%22%20x1%3D%2243.8595%22%20y1%3D%2296.5175%22%20x2%3D%22169.5104%22%20y2%3D%2296.5175%22%2F%3E%0A%20%20%20%20%20%20%3Cline%20class%3D%22cls-3%22%20x1%3D%2243.8595%22%20y1%3D%22106.1041%22%20x2%3D%22116.142%22%20y2%3D%22106.1041%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22cls-5%22%20d%3D%22M215.08%2C183.1156c-36.4392%2C0-59.6935-5.8778-74.15-14.2367-33.5422-19.3936-37.686-47.244-72.7243-70.5964C43.4438%2C81.7794%2C17.5525%2C77.0531%2C0%2C75.5757v107.54Z%22%2F%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22cls-6%22%20d%3D%22M0%2C183.1156c36.6762%2C0%2C59.6935-5.8778%2C74.15-14.2367%2C33.5422-19.3936%2C37.686-47.244%2C72.7243-70.5964%2C24.7612-16.503%2C50.6525-21.2294%2C68.205-22.7067v107.54Z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A");\n  height: 65px;\n  background-size: contain;\n  margin-left: 25px;\n}\n.aan-tour-image.step-2-part-2 {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2260px%22%20height%3D%2259px%22%20viewBox%3D%220%200%2060%2059%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2049.1%20(51147)%20-%20http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%20--%3E%0A%20%20%20%20%3Ctitle%3ETick%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%2250.6022649%25%22%20y1%3D%220.115305422%25%22%20x2%3D%2248.6019218%25%22%20y2%3D%22100.132464%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%2348CC8C%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%2378F0B7%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Feature-intro%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Tick%22%20transform%3D%22translate(-2.000000%2C%20-3.000000)%22%20fill-rule%3D%22nonzero%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ccircle%20id%3D%22_Ellipse_7%22%20fill%3D%22url(%23linearGradient-1)%22%20transform%3D%22translate(32.080574%2C%2032.860000)%20rotate(-83.880000)%20translate(-32.080574%2C%20-32.860000)%20%22%20cx%3D%2232.0805741%22%20cy%3D%2232.86%22%20r%3D%2229.14%22%3E%3C%2Fcircle%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M26.3223559%2C47.4772694%20L15.3223559%2C35.4772694%20C15.1018077%2C35.2361207%2014.9862902%2C34.9171181%2015.0012993%2C34.5906691%20C15.0163085%2C34.2642201%2015.1606103%2C33.9571633%2015.4023559%2C33.7372694%20L20.2323559%2C29.3472694%20C20.4735046%2C29.1267212%2020.7925072%2C29.0112037%2021.1189562%2C29.0262129%20C21.4454052%2C29.041222%2021.752462%2C29.1855239%2021.9723559%2C29.4272694%20L27.7323559%2C35.7572694%20L43.9323559%2C21.0972694%20C44.1747924%2C20.877959%2044.4945614%2C20.7641828%2044.8210386%2C20.7810696%20C45.1475158%2C20.7979563%2045.4538399%2C20.9441166%2045.6723559%2C21.1872694%20L50.0523559%2C26.0272694%20C50.2716663%2C26.2697059%2050.3854424%2C26.589475%2050.3685557%2C26.9159522%20C50.3516689%2C27.2424293%2050.2055086%2C27.5487534%2049.9623559%2C27.7672694%20L28.0623559%2C47.5272694%20C27.8250947%2C47.7515948%2027.5083745%2C47.8723762%2027.1819901%2C47.8629974%20C26.8556057%2C47.8536185%2026.5463439%2C47.7148491%2026.3223559%2C47.4772694%20Z%22%20id%3D%22Shape%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E");\n  background-size: contain;\n  margin-right: 20px;\n}\n.aan-tour-image.step-3 {\n  background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewBox%3D%220%200%20221.19%20220.42%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3Aurl(%23linear-gradient)%3B%7D.cls-2%7Bfill%3Aurl(%23linear-gradient-2)%3B%7D.cls-3%7Bfill%3Aurl(%23linear-gradient-3)%3B%7D.cls-4%7Bclip-path%3Aurl(%23clip-path)%3B%7D.cls-5%7Bfill%3Aurl(%23linear-gradient-5)%3B%7D.cls-6%7Bopacity%3A0.1%3Bfill%3Aurl(%23linear-gradient-6)%3B%7D.cls-10%2C.cls-11%2C.cls-7%2C.cls-8%7Bfill%3Anone%3Bstroke-miterlimit%3A10%3B%7D.cls-10%2C.cls-7%7Bstroke%3A%230065ff%3B%7D.cls-7%7Bstroke-width%3A18.04px%3B%7D.cls-8%7Bstroke%3A%2300c7e5%3Bstroke-width%3A16.74px%3B%7D.cls-9%7Bfill%3A%23ffbdad%3B%7D.cls-10%2C.cls-11%7Bstroke-width%3A2px%3B%7D.cls-11%7Bstroke%3A%23fff%3B%7D.cls-12%7Bfill%3A%23ff7452%3B%7D%3C%2Fstyle%3E%3ClinearGradient%20id%3D%22linear-gradient%22%20x1%3D%2256.3%22%20y1%3D%22177.79%22%20x2%3D%22178.7%22%20y2%3D%2255.38%22%20gradientTransform%3D%22translate(116.85%20-48.94)%20rotate(45)%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%3Cstop%20offset%3D%220.13%22%20stop-color%3D%22%23b2d4ff%22%2F%3E%3Cstop%20offset%3D%220.25%22%20stop-color%3D%22%23b2d4ff%22%2F%3E%3Cstop%20offset%3D%220.67%22%20stop-color%3D%22%232684ff%22%2F%3E%3C%2FlinearGradient%3E%3ClinearGradient%20id%3D%22linear-gradient-2%22%20x1%3D%22119.23%22%20y1%3D%22228.96%22%20x2%3D%22229.73%22%20y2%3D%22118.45%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%3Cstop%20offset%3D%220.44%22%20stop-color%3D%22%23b3bac5%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23dfe1e5%22%2F%3E%3C%2FlinearGradient%3E%3ClinearGradient%20id%3D%22linear-gradient-3%22%20x1%3D%2286.32%22%20y1%3D%22257.43%22%20x2%3D%22258.2%22%20y2%3D%2285.54%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%3Cstop%20offset%3D%220.44%22%20stop-color%3D%22%230052cc%22%2F%3E%3Cstop%20offset%3D%220.78%22%20stop-color%3D%22%232684ff%22%2F%3E%3C%2FlinearGradient%3E%3CclipPath%20id%3D%22clip-path%22%3E%3Cellipse%20class%3D%22cls-1%22%20cx%3D%22117.5%22%20cy%3D%22116.58%22%20rx%3D%2286.55%22%20ry%3D%2246.23%22%20transform%3D%22translate(-48.02%20117.23)%20rotate(-45)%22%2F%3E%3C%2FclipPath%3E%3ClinearGradient%20id%3D%22linear-gradient-5%22%20x1%3D%2258.85%22%20y1%3D%22175.24%22%20x2%3D%22176.16%22%20y2%3D%2257.93%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%3Cstop%20offset%3D%220%22%20stop-color%3D%22%234c9aff%22%2F%3E%3Cstop%20offset%3D%220.27%22%20stop-color%3D%22%234c9aff%22%2F%3E%3Cstop%20offset%3D%220.67%22%20stop-color%3D%22%230065ff%22%2F%3E%3C%2FlinearGradient%3E%3ClinearGradient%20id%3D%22linear-gradient-6%22%20x1%3D%22144.15%22%20y1%3D%22146.53%22%20x2%3D%22144.15%22%20y2%3D%2214.33%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23091e42%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23b3bac5%22%20stop-opacity%3D%220%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Ctitle%3ECelebration%3C%2Ftitle%3E%3Cg%20id%3D%22Layer_2%22%20data-name%3D%22Layer%202%22%3E%3Cg%20id%3D%22Objects%22%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M215.63%2C186.09v0L186.82%2C75.54%2C76.32%2C186l110.51%2C28.81h0l21.34%2C5.56a13%2C13%2C0%2C0%2C0%2C13-13Z%22%2F%3E%3Cpath%20class%3D%22cls-3%22%20d%3D%22M218.85%2C198.45l-3.22-12.36v0L186.82%2C75.54%2C76.32%2C186l110.51%2C28.81h0l12.36%2C3.22A20.17%2C20.17%2C0%2C0%2C0%2C218.85%2C198.45Z%22%2F%3E%3Cellipse%20class%3D%22cls-1%22%20cx%3D%22117.5%22%20cy%3D%22116.58%22%20rx%3D%2286.55%22%20ry%3D%2246.23%22%20transform%3D%22translate(-48.02%20117.23)%20rotate(-45)%22%2F%3E%3Cg%20class%3D%22cls-4%22%3E%3Cg%20id%3D%22_Group_%22%20data-name%3D%22%26lt%3BGroup%26gt%3B%22%3E%3Cpath%20class%3D%22cls-5%22%20d%3D%22M78.86%2C182.38c-8.54%2C0-15.27-2.4-20-7.14-7.75-7.75-9.27-21-4.29-37.44%2C5.22-17.18%2C16.87-35.41%2C32.8-51.35%2C22-22%2C48.35-35.66%2C68.78-35.66%2C8.54%2C0%2C15.27%2C2.4%2C20%2C7.14%2C7.75%2C7.75%2C9.27%2C21%2C4.29%2C37.44-5.22%2C17.18-16.87%2C35.41-32.8%2C51.35C125.65%2C168.72%2C99.29%2C182.38%2C78.86%2C182.38Z%22%2F%3E%3C%2Fg%3E%3Cpath%20class%3D%22cls-6%22%20d%3D%22M180.45%2C95.37c5-16.4%2C3.46-29.7-4.29-37.45-4.74-4.74-11.47-7.14-20-7.14-15.19%2C0-33.66%2C7.56-51.18%2C20.47a31.86%2C31.86%2C0%2C0%2C1%2C10.29%2C7.15c7.86%2C8.27%2C8.7%2C18.23%2C9.52%2C27.86.74%2C8.75%2C1.44%2C17%2C7%2C25.2%2C3.91%2C5.79%2C9.63%2C10.5%2C17%2C14.11C164.12%2C129.91%2C175.35%2C112.14%2C180.45%2C95.37Z%22%2F%3E%3C%2Fg%3E%3Cpath%20class%3D%22cls-7%22%20d%3D%22M29.49%2C160.1A33.43%2C33.43%2C0%2C0%2C1%2C44.36%2C147c14.59-6.39%2C28.34.76%2C30.17%2C1.75%22%2F%3E%3Cpath%20class%3D%22cls-7%22%20d%3D%22M75.89%2C5.29A33.43%2C33.43%2C0%2C0%2C0%2C69.46%2C24C69.13%2C40%2C81%2C49.94%2C82.61%2C51.26%22%2F%3E%3Cline%20class%3D%22cls-8%22%20x1%3D%2255.16%22%20y1%3D%2276.52%22%20x2%3D%2291.8%22%20y2%3D%22104.77%22%2F%3E%3Cline%20class%3D%22cls-8%22%20x1%3D%22152.4%22%20y1%3D%2225.71%22%20x2%3D%22163.97%22%20y2%3D%2270.68%22%2F%3E%3Ccircle%20class%3D%22cls-9%22%20cx%3D%227.97%22%20cy%3D%22123.8%22%20r%3D%227.97%22%2F%3E%3Ccircle%20class%3D%22cls-9%22%20cx%3D%22111.7%22%20cy%3D%22124.55%22%20r%3D%227.97%22%2F%3E%3Cpath%20class%3D%22cls-10%22%20d%3D%22M52%2C112c-3.67-.87-2.28-6.72-6-7.59s-5.06%2C5-8.73%2C4.11-2.28-6.72-6-7.59-5.06%2C5-8.73%2C4.11-2.29-6.72-6-7.59%22%2F%3E%3Cpath%20class%3D%22cls-11%22%20d%3D%22M135.14%2C115.11c-1.74-3.34%2C3.59-6.12%2C1.85-9.47s-7.07-.57-8.81-3.91%2C3.59-6.12%2C1.85-9.47-7.08-.57-8.82-3.92%2C3.59-6.13%2C1.85-9.47%22%2F%3E%3Crect%20class%3D%22cls-12%22%20x%3D%2221.46%22%20y%3D%2246.31%22%20width%3D%2216.06%22%20height%3D%2216.06%22%20transform%3D%22translate(-7.54%204.83)%20rotate(-8.3)%22%2F%3E%3Crect%20class%3D%22cls-12%22%20x%3D%2286.59%22%20y%3D%22152.07%22%20width%3D%2216.06%22%20height%3D%2216.06%22%20transform%3D%22translate(-22.13%2015.34)%20rotate(-8.3)%22%2F%3E%3Crect%20class%3D%22cls-12%22%20x%3D%22111.23%22%20y%3D%2238.15%22%20width%3D%2212.96%22%20height%3D%2212.96%22%20transform%3D%22translate(50.46%20-61.79)%20rotate(36.94)%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");\n  height: 70px;\n  margin: 10px 10px 0 0;\n}\n.aan-tour-footer {\n  height: 30px;\n}\n.aan-tour-actions {\n  float: right;\n}\n.aan-tour-actionsbutton {\n  padding: 0;\n}\n.aan-tour-progress {\n  position: absolute;\n  padding: 5px;\n  float: left;\n  color: #B3BAC5;\n}\n.aan-tour-title {\n  font-weight: bold;\n  margin-top: 20px;\n}\n',""])},286:function(e,t,a){var n=a(285);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(8)(n,i);n.locals&&(e.exports=n.locals)},287:function(e,t,a){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Internal&&(ServiceDesk.Internal={}),void 0===ServiceDesk.Internal.Approvals&&(ServiceDesk.Internal.Approvals={}),void 0===ServiceDesk.Internal.Approvals.Feature&&(ServiceDesk.Internal.Approvals.Feature={}),void 0===ServiceDesk.Internal.Approvals.Feature.AdvancedApprovalsNotificationsTour&&(ServiceDesk.Internal.Approvals.Feature.AdvancedApprovalsNotificationsTour={}),ServiceDesk.Internal.Approvals.Feature.AdvancedApprovalsNotificationsTour.dialog=function(e,t){for(var a='<div class="aan-tour-image-container">',n=e.images,i=n.length,r=0;r<i;r++){var s=n[r];a+='<div class="aan-tour-image '+soy.$$escapeHtml(s)+'"></div>'}return a+='</div><h3 class="aan-tour-title">'+soy.$$escapeHtml(e.title)+"</h3><p>"+soy.$$escapeHtml(e.lede)+"</p>"+(e.followup?"<p>"+soy.$$escapeHtml(e.followup)+"</p>":"")+'<div class="aan-tour-footer">'+(e.progress?'<p class="aan-tour-progress">'+soy.$$escapeHtml(e.progress)+"</p>":"")+'<div class="aan-tour-actions">'+(e.next?aui.buttons.button({extraClasses:aui.renderExtraClasses(e.next.extraClasses)+"aan-inner-tour-next aui-button",extraAttributes:{type:"button"},type:"primary",text:e.next.text}):"")+(e.dismiss?aui.buttons.button({extraClasses:"aan-inner-tour-dismiss aui-button",extraAttributes:{type:"button"},type:e.dismiss.buttonType?e.dismiss.buttonType:"link",text:e.dismiss.text}):"")+"</div></div>"},goog.DEBUG&&(ServiceDesk.Internal.Approvals.Feature.AdvancedApprovalsNotificationsTour.dialog.soyTemplateName="ServiceDesk.Internal.Approvals.Feature.AdvancedApprovalsNotificationsTour.dialog"),void 0===(n=function(){return ServiceDesk.Internal.Approvals.Feature.AdvancedApprovalsNotificationsTour}.apply(t,[]))||(e.exports=n)},316:function(e,t,a){"use strict";a.r(t);a(35),a(42),a(41),a(40),a(34),a(39),a(38),a(37),a(409),a(186),a(112);var n=a(0),i=a(22),r=a.n(i),s=a(3),o=a(17),l=a(65),c=a.n(l),d=(a(407),s.a.View.extend({mixins:[o.a],template:ServiceDesk.Internal.Approvals.Feature.CreateApproval.Templates.body,tagName:"section",className:"aui-layer aui-dialog2 aui-dialog2-medium sd-create-approval",attributes:{role:"dialog"},events:{"submit form":"onSubmit","click .cancel":"onCancelClicked","change .js-approver-field-picker":"onApproverFieldChanged","focus .js-condition-partial":"onConditionPartialFocus","focus .js-partial-amount":"onPartialInputFocus"},onCancelClicked:function(e){this.trigger("cancelClicked"),e.preventDefault()},onConditionPartialFocus:function(){this.$(".js-partial-amount").focus()},onPartialInputFocus:function(){this.$(".js-condition-partial").attr("checked","checked")},onSubmit:function(e){var t=this,a=this.$("form").sdSerializeObject(),n={name:"Please approve with custom field",approvers:{customField:a.field},conditions:{conditionType:a.condition,conditionValue:"number"===a.condition?a["partial-amount"]:100}};this.handleSubmit(this.model.createApproval(n),{showSuccess:!0,selector:".aui-dialog2-content"}).done(function(){return t.trigger("submitSuccessful",n)}).fail(function(){return t.trigger("submitError")}),e.preventDefault()},getRenderData:function(){return{eligibleFields:this.model.getEligibleFields().toJSON().map(function(e){return{text:e.name,id:e.id,value:e.id}})}},render:function(){var e=this.getRenderData();return this.$el.html(this.template(e)),new c.a({element:this.$(".js-approver-field-picker")}),this}})),u=a(5),p=a.n(u),m=a(10),g=a(21),v=a.n(g),f=s.a.Model.extend({namedAttributes:{name:String,isSingleUser:Boolean}}),h=s.a.Collection.extend({model:f}),b=s.a.Model.extend({namedAttributes:{eligibleFields:h},url:function(){return p()()+"/rest/servicedesk/approvals/1/approval/request/"+v.a.getIssueKey()+"/create"},createApproval:function(e){return Object(m.e)(this.url(),e)},fetch:function(){var e=this;return Object(m.c)(this.url()).done(function(t){return e.set(t)})}}),k=a(4),D=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var C=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=new b,this.view=new d({model:this.model}),this.view.on("submitSuccessful",function(e){"percent"===e.condition?k.a.trackEvent("servicedesk.approval.create.success.all.success"):k.a.trackEvent("servicedesk.approval.create.success.partial.success",{amount:e["partial-amount"]}),t.dialog.hide()}),this.view.on("cancelClicked",function(){k.a.trackEvent("servicedesk.approval.create.cancel"),t.dialog.hide()}),this.view.on("submitError",function(){k.a.trackEvent("servicedesk.approval.create.error")}),this.dialog=new r.a(this.view.$el)}return D(e,[{key:"show",value:function(){var e=this;this.model.fetch().done(function(){e.view.render(),e.dialog.show()})}},{key:"hide",value:function(){this.dialog.hide()}}]),e}(),y=a(20),S=a.n(y),x=a(18),w=a.n(x),A=a(49),I=a.n(A),E=a(194),B=a(15),F=a.n(B),T=a(244),K=a.n(T),j=a(2),$=a(1),_=s.a.Model.extend({namedAttributes:{approvalId:String,approvalName:String},actionUrl:function(e){return p()()+"/rest/servicedesk/approvals/1/approval/"+this.getApprovalId()+"/"+e},activeApprovalUrl:function(){return p()()+"/rest/servicedesk/approvals/1/approval/request/"+v.a.getIssueKey()+"/active"},actionOnApproval:function(e,t){return Object(m.e)(this.actionUrl(t),e)},fetchActiveApproval:function(){var e=this;return Object(m.c)(this.activeApprovalUrl()).done(function(t){t&&(e.setApprovalId(t.id),e.setApprovalName(t.name))})}}),O=a(172),P=a.n(O),M=new _;function R(e){M.fetchActiveApproval().done(function(){M.getApprovalId()?M.actionOnApproval({},e).done(function(){k.a.trackEvent("servicedesk.approval.issue.view."+e),w.a.trigger(S.a.REFRESH_ISSUE_PAGE,[v.a.getIssueId()])}).fail(function(){w.a.trigger(S.a.REFRESH_ISSUE_PAGE,[v.a.getIssueId()])}):(P.a.showErrorMsg("You do not have any pending approval.",{closeable:!0}),w.a.trigger(S.a.REFRESH_ISSUE_PAGE,[v.a.getIssueId()]))})}var N=$.default.once(function(){Object(n.default)(document).on("click",".js-issueaction-approve-approval",function(e){R("approve"),e.preventDefault()}),Object(n.default)(document).on("click",".js-issueaction-reject-approval",function(e){R("reject"),e.preventDefault()})}),U=["issue-view-past-approval-statuses-web-panel","issue-view-pending-approval-statuses-web-panel"];function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(n.default)(document.body);e.find(".sd-approval-status-lozenge").tooltip({className:"jira-issue-status-tooltip",gravity:"e"}),e.find(".sd-approver-icon-wrapper").tooltip({gravity:"n"})}function V(e,t,a){var n=t.attr("id");a===I.a.panelRefreshed&&$.default.contains(U,n)&&L(t)}var H=$.default.once(function(){w.a.bind(S.a.NEW_CONTENT_ADDED,V),Object(n.default)(function(){return L()})});var G=$.default.once(function(){w.a.bind(S.a.NEW_CONTENT_ADDED,function(e,t){"activitymodule"===t.attr("id")&&function(e){e.on("click","a.ajax-activity-content#sd-approvals-tabpanel",function(){k.a.trackEvent("servicedesk.approval.issue.view.tab.clicked")})}(t)})}),Y=a(164),q=a.n(Y),J=a(7),z=a.n(J),Z=a(12),W=a.n(Z),Q=a(83),X=s.a.Model.extend({namedAttributes:{files:Object,issueAttachmentDropZone:Object,dialogAttachmentDropZone:Object,isEditComment:Boolean,commentId:String,uploadedFileIds:Array,uploadingFileIdBuffer:Array,modifierKey:String,isRteEnabled:Boolean},defaults:{modifierKey:Q.a&&Q.a.modifierKey()},sendComment:function(e,t){var a={body:e,properties:[{key:"sd.public.comment",value:{internal:t}}],visibility:{}},n=p()()+"/rest/api/2/issue/"+v.a.getIssueId()+"/comment";return this.getIsEditComment()?(n+="/"+this.getCommentId(),Object(m.g)(n,a)):Object(m.e)(n,a)},getCurrentComment:function(){var e=z()(),t=p()()+"/rest/api/2/issue/"+v.a.getIssueId()+"/comment/"+this.getCommentId();return Object(m.c)(t).done(function(t){e.resolve(t.body)}),e},uploadFiles:function(){var e=this.getDialogAttachmentDropZone();e.attachFileUrl=p()()+"/rest/jddap/1.0/attachment";var t=this.getUploadedFileIds(),a=$.default.map($.default.filter(e.progressBars,function(e){return e.isSuccessful()&&!$.default.contains(t,e.getFileID())}),function(e){return e.getFileID()});return this.setUploadingFileIdBuffer(a),e.attachFile(a)},flushFileIdBuffer:function(){this.setUploadedFileIds(this.getUploadedFileIds().concat(this.getUploadingFileIdBuffer())),this.setUploadingFileIdBuffer([])},emptyFileIdBuffer:function(){this.setUploadingFileIdBuffer([])}}),ee=a(19),te=(a(406),function(){AJS.dim()}),ae=function(){AJS.undim()},ne=(a(405),a(404),ServiceDesk.InternalApi.Feature.LoadingIndicator.default),ie=a(59),re=a(243),se=a.n(re),oe=a(242),le=a.n(oe),ce=(a(402),a(401),s.a.View.extend({namedEvents:["attachmentsAddedSuccessfully"],template:ServiceDesk.Templates.Attachments.dialog,errorTemplate:ServiceDesk.Templates.Attachments.displayError,initialize:function(){this.$html=Object(n.default)(this.template({isEditComment:this.model.getIsEditComment(),issueKey:v.a.getIssueKey(),modifierKey:this.model.getModifierKey(),isRteEnabled:this.model.getIsRteEnabled()})),this.dialog=new r.a(this.$html),this.$errorIcon=this.$html.find("#attachments-dialog-error-icon > .aui-icon"),this.$errorBox=this.$html.find("#dialog-message-box"),this.$publicButton=this.$html.find("#button-public"),this.$privateButton=this.$html.find("#button-private"),this.$publicButton.click(this._handlePublicButton.bind(this)),this.$privateButton.click(this._handlePrivateButton.bind(this)),this.$html.find("#button-cancel").click(this._handleCancelButton.bind(this)),this.model.setUploadedFileIds([]),this.model.setUploadingFileIdBuffer([]),this.showDialog().done(this._dialogLoaded.bind(this))},_dialogLoaded:function(){w.a.trigger(S.a.NEW_CONTENT_ADDED,[this.$html,I.a.panelRefreshed,"servicedesk/components/attachments-dialog/attachments-dialog.soy","servicedesk/components/attachments-dialog/attachments-dialog.less"]),k.a.trackEvent("agent.attachments.dialog.loaded")},_initDropzone:function(){var e=new le.a(this.$html.find("#attachment-area"),Object(n.default)("#dnd-metadata-webpanel").data("upload-limit"));this.model.setDialogAttachmentDropZone(e),this.model.getDialogAttachmentDropZone().handleFilesReceived(this.model.getFiles()),this.model.getDialogAttachmentDropZone().bind("progressBarDestroyed",this._onProgressBarDestroyed.bind(this)),this.model.getDialogAttachmentDropZone().bind("progressBarOnBeforeDestroy",this._onProgressBarBeforeDestroy.bind(this)),this.model.getDialogAttachmentDropZone().bind("progressBarStarted",this.validate.bind(this)),this.model.getDialogAttachmentDropZone().bind("progressBarFinished",this.validate.bind(this)),this.model.getDialogAttachmentDropZone().bind("progressBarFailed",this.validate.bind(this)),this._getTextarea().on("input propertychange keyup change",$.default.throttle(this.validate.bind(this),500))},addFiles:function(e){this.model.getDialogAttachmentDropZone().handleFilesReceived(e)},_handlePublicButton:function(){var e=this;this.validate()&&(this.disableDialogActions(),this._spinButton(this.$publicButton),this.model.uploadFiles().done(function(){e.model.sendComment(e._getComment(),!1).done(function(t){e.triggerAttachmentsAddedSuccessfully(),e.closeDialog(),e._triggerRefresh(t)}).fail(function(t){e.displayErrors(e._getCommentErrors(t),"Failed to post comment"),e.enableDialogActions(),e.model.flushFileIdBuffer()})}).fail(function(t){e.displayErrors(t,"Failed to attach files"),e.enableDialogActions(),e.model.emptyFileIdBuffer()}),k.a.trackEvent("agent.attachments.dialog.button.clicked.public",this._buildOnSubmitAnalyticsProperties()))},_handlePrivateButton:function(){var e=this;this.validate()&&(this.disableDialogActions(),this._spinButton(this.$privateButton),this.model.uploadFiles().done(function(){(e._getTextarea().val()?e.model.sendComment(e._getComment(),!0):z()().resolve()).done(function(t){e.triggerAttachmentsAddedSuccessfully(),e.closeDialog(),e._triggerRefresh(t)}).fail(function(t){e.displayErrors(e._getCommentErrors(t),"Failed to post comment"),e.enableDialogActions(),e.model.flushFileIdBuffer()})}).fail(function(t){e.displayErrors(t,"Failed to attach files"),e.enableDialogActions(),e.model.emptyFileIdBuffer()}),k.a.trackEvent("agent.attachments.dialog.button.clicked.private",this._buildOnSubmitAnalyticsProperties()))},_buildOnSubmitAnalyticsProperties:function(){var e={},t=this._getTextarea().val()||"",a=this.model.getDialogAttachmentDropZone().getFileNames()||[],i={};return Object(n.default)(a).each(function(e,t){if("string"!=typeof t)return!0;var a=t.match(/\.([a-zA-Z0-9]+)$/i),n="_no_extension_";a instanceof Array&&a.length>1&&(n=a[1].toLowerCase());var r=i[n];i[n]=r?r+1:1}),e.commentCharLength=t.length,e.attachmentWikiMarkupCount=Object(ee.countAttachmentWikiMarkup)(t),e.linkWikiMarkupCount=Object(ee.countLinksWikiMarkup)(t),e.temporaryAttachmentWikiMarkupCount=Object(ee.countOccurrenceOfWordsInStr)(a,t),e.numFilesToBeAttached=a.length,e.fileExtensionsCount=JSON.stringify(i),e},_spinButton:function(e){e.spin({top:"",left:""})},_getCommentErrors:function(e){var t=[];for(var a in e.errors)e.errors.hasOwnProperty(a)&&t.push(e.errors[a]);return t.concat(e.errorMessages)},_triggerRefresh:function(e){w.a.trigger(S.a.REFRESH_ISSUE_PAGE,[v.a.getIssueId(),{complete:function(){e&&e.id&&ie.a.scrollToComment(e.id)}},"servicedesk/components/attachments-dialog/attachments-dialog.soy","servicedesk/components/attachments-dialog/attachments-dialog.less"])},_handleCancelButton:function(){var e=this,t=function(){e.closeDialog(),k.a.trackEvent("agent.attachments.dialog.button.clicked.cancel")};this.model.getIsEditComment()?this.originalComment!==this._getComment()?confirm("Your changes were not saved. Are you sure you want to cancel?")&&t():t():confirm("Your files were not attached. Are you sure you want to cancel?")&&t()},_getTextarea:function(){return this.$html.find(".comment-textarea")},_onProgressBarBeforeDestroy:function(e,t){var a=t.$node.parent().find(".upload-progress-bar"),n=a.index(t.$node),i=n+1===a.length?n-1:n+1;this.closestProgressBar=i>-1?a[i]:null},_onProgressBarDestroyed:function(){var e=void 0;this.closestProgressBar&&(e=Object(n.default)(this.closestProgressBar).find(".upload-progress-bar__control button")),e?e.focus():this._getTextarea().focus(),this.validate()},_getComment:function(){var e=this._getTextarea().val()||"",t=[];$.default.each(this.model.getDialogAttachmentDropZone().getFileNames(),function(a){var n=se.a.getMarkup(a);-1===e.indexOf(n)&&t.push(n)});var a=t.join(" ");return e+(e&&a?"\n":"")+a},validate:function(){if(!this.disabled)return this.model.getDialogAttachmentDropZone().filesStillUploading()?(this.disableSubmitDialogActions(),!1):this.model.getDialogAttachmentDropZone().anyFilesFailed()?(this.dialogInvalidated("Some files failed to upload. Please remove them or retry upload."),!1):""===this._getComment()?(this.dialogInvalidated("It looks like you still need to write a comment or attach a file"),!1):(this.dialogValidated(),!0)},displayErrors:function(e,t){var a=this;this.$errorBox.html(this.errorTemplate({title:t,errors:[].concat(e)})),this.$errorBox.slideDown(),this.$errorBox.find(".aui-icon.icon-close").click(function(){a.$errorBox.slideUp()})},dialogInvalidated:function(e){this.disableSubmitDialogActions(),this.addTooltip(this.$errorIcon,e),this.$errorIcon.attr("aria-label",e),this.$errorIcon.css("visibility","visible")},dialogValidated:function(){this.removeTooltip(this.$errorIcon),this.$errorIcon.css("visibility","hidden"),this.enableDialogActions()},addTooltip:function(e,t){e.attr("title",t),e.tooltip({title:"title"})},removeTooltip:function(e){e.attr("title","")},disableDialog:function(){this.disabled=!0,this.enableDialogActions(),this.disableSubmitDialogActions()},enableDialogActions:function(){this.$publicButton.spin(!1),this.$privateButton.spin(!1),this.$html.find(".aui-button").prop("disabled",!1)},disableDialogActions:function(){this.$html.find(".aui-button").prop("disabled",!0)},disableSubmitDialogActions:function(){this.$publicButton.prop("disabled",!0),this.$privateButton.prop("disabled",!0)},showDialog:function(){var e=this,t=new z.a;return this.model.getIsEditComment()?(te(),Object(n.default)("body").append(ne()),Object(n.default)(".sd-loading-indicator aui-spinner").show(),this.model.getCurrentComment().done(function(a){e._initDropzone(),e.originalComment=a;var i=e._getTextarea();i.val(a),i.trigger("input"),ae(),Object(n.default)(".sd-loading-indicator").remove(),e.dialog.show(),t.resolve()})):(this._initDropzone(),this.dialog.show(),t.resolve()),t},closeDialog:function(){this.$errorIcon.tooltip("hide"),this.dialog.hide()},isDialogVisible:function(){return this.dialog&&this.dialog.isVisible()}})),de=a(177),ue=a.n(de),pe={},me=function(){return pe.dialogView&&pe.dialogView.isDialogVisible()},ge=function(){return"service_desk"===(Object(n.default)("#dnd-metadata-webpanel").data("project-type")||W.a.get("issue-project-type")||ue.a.getCurrentProjectType())},ve=function(){return Object(n.default)(".sd-comment-container").data("is-agent")};var fe=function(e){return me()?pe.dialogView.addFiles(e.files):(pe.deferred=z()(),pe.dialogModel=new X($.default.extend({isRteEnabled:Object(n.default)(".sd-comment-container").data("is-rte-enabled")},e)),pe.dialogView=new ce({model:pe.dialogModel}),pe.dialogView.on("attachmentsAddedSuccessfully",function(){pe.deferred.resolve()})),pe.deferred},he=(a(258),a(11)),be=$.default.once(function(){Object(he.a)("sd-edit-comment",{type:he.a.types.CLASS,attached:function(e){var t=Object(n.default)(e),a=t.data("comment-id");t.closest("#comment-"+a).find(".sd-comment-secondary-details").find(".sd-comment-action-details-subtext").data("restricted-comment")&&Object(n.default)(".sd-comment-container").data("is-security-level-available")||ge()&&ve()&&t.click(function(e){return e.preventDefault(),t.blur(),fe({isEditComment:!0,commentId:a}),!1})}})}),ke=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var De=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return ke(e,[{key:"trackPanelLoadedExpanded",value:function(e){this._trackEventBasedOnArticlesCount(e,"servicedesk.page.view.issue.kb.panel.expanded.loaded.related.some","servicedesk.page.view.issue.kb.panel.expanded.loaded.related.none")}},{key:"trackPanelLoadedCollapsed",value:function(e){this._trackEventBasedOnArticlesCount(e,"servicedesk.page.view.issue.kb.panel.collapsed.loaded.related.some","servicedesk.page.view.issue.kb.panel.collapsed.loaded.related.none")}},{key:"trackPanelCollapsed",value:function(e,t){this._trackEventBasedOnArticlesCount(t,"servicedesk.page.view.issue.kb.panel.collapsed.triggered."+e+".some","servicedesk.page.view.issue.kb.panel.collapsed.triggered."+e+".none")}},{key:"trackPanelExpanded",value:function(e,t){this._trackEventBasedOnArticlesCount(t,"servicedesk.page.view.issue.kb.panel.expanded.triggered."+e+".some","servicedesk.page.view.issue.kb.panel.expanded.triggered."+e+".none")}},{key:"trackArticleViewed",value:function(e,t){t?k.a.trackEvent("servicedesk.page.view.issue.kb.panel.expanded."+e+".view.public"):k.a.trackEvent("servicedesk.page.view.issue.kb.panel.expanded."+e+".view.private")}},{key:"trackArticleViewedNewTab",value:function(e,t){t?k.a.trackEvent("servicedesk.page.view.issue.kb.panel.expanded."+e+".view.public.newtab"):k.a.trackEvent("servicedesk.page.view.issue.kb.panel.expanded."+e+".view.private.newtab")}},{key:"trackArticleShared",value:function(e,t){k.a.trackEvent("servicedesk.page.view.issue.kb.panel.expanded."+e+"."+t+".public.share")}},{key:"trackCreateArticleDialogOpened",value:function(){k.a.trackEvent("servicedesk.page.view.issue.kb.panel.expanded.create.dialog")}},{key:"trackCreateArticleCancelled",value:function(){k.a.trackEvent("servicedesk.page.view.issue.kb.panel.expanded.create.cancel")}},{key:"trackCreateArticleSubmitted",value:function(){k.a.trackEvent("servicedesk.page.view.issue.kb.panel.expanded.create.submit")}},{key:"trackSharedArticleViewFromCommentSuccessful",value:function(){k.a.trackEvent("servicedesk.page.view.issue.comment.share.kb.view")}},{key:"trackSharedArticleViewFromCommentErrorNoKBLink",value:function(){k.a.trackEvent("servicedesk.page.view.issue.comment.share.kb.view.error.no.kb.link")}},{key:"trackSharedArticleViewFromCommentErrorDifferentKBLink",value:function(){k.a.trackEvent("servicedesk.page.view.issue.comment.share.kb.view.error.different.kb.link")}},{key:"trackSharedArticleViewFromCommentNewTab",value:function(){k.a.trackEvent("servicedesk.page.view.issue.comment.share.kb.view.newtab")}},{key:"_trackEventBasedOnArticlesCount",value:function(e,t,a){if(e&&e.length>0){var n=this._getArticlesCount(e);k.a.trackEvent(t,{publicKBCount:n.publicCount,privateKBCount:n.privateCount})}else k.a.trackEvent(a)}},{key:"_getArticlesCount",value:function(e){var t=0,a=0;return e.forEach(function(e){return e.shareable?t++:a++}),{publicCount:t,privateCount:a}}}]),e}()),Ce=s.a.Model.extend({namedAttributes:{id:Number,title:String,url:String,appLinkUrl:String,fullUrl:String,inPageUrl:String,shareable:Boolean,bodyTextHighlights:String,portalName:String,spaceKey:String,appLinkId:String},initialize:function(){this.setFullUrl(""+this.getAppLinkUrl()+this.getUrl())}}),ye=a(36),Se=a(13),xe=a.n(Se),we=s.a.Collection.extend({model:Ce}),Ae=s.a.Model.extend({namedAttributes:{relatedArticles:we,issueKey:String,projectKey:String,isProjectAdmin:Boolean,portalId:Number,isSDRequest:Boolean,appLinkId:String,source:String},urlRoot:function(){return p()()+"/rest/servicedesk/knowledgebase/latest/articles/"+this.getIssueKey()},fetch:function(){var e=this;return Object(m.c)(this.urlRoot()).done(function(t){var a=t.results;e.setRelatedArticles(a);var n=e.getIssueKey(),i=e.getPortalId(),r=e.getAppLinkId();e.getRelatedArticles().forEach(function(t){var a=t.getId(),s=t.getTitle(),o=t.getSpaceKey(),l=Object(ye.a)(a,s,o,r);if(e.getIsSDRequest()){var c=new xe.a(l);c.setQuery("requestKey",n),c.setQuery("portalId",i),t.setInPageUrl(c.toString())}else t.setInPageUrl(l)})})}}),Ie=s.a.Model.extend({namedAttributes:{statusCode:Number,errors:Array,isProjectAdmin:Boolean,projectKey:String,reasonKey:String}}),Ee=(a(399),ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates),Be=s.a.View.extend({render:function(){this.$el.html(Ee.searchResults({articles:this.model.getRelatedArticles().toJSON()}))},showSpinner:function(){this.$el.html(Ee.spinner())}}),Fe=(a(398),ServiceDesk.Internal.KB.Feature.KBSearcher.Error),Te=s.a.View.extend({events:{"click .js-sd-retry":"_retryFetch"},render:function(){var e=this.model.getStatusCode(),t=this.model.getReasonKey();return 403===e?this._renderNoAccessToSpaceError():"sd.knowledge.base.agent.issueview.panel.upgrade.confluence"===t?this._renderInformation():this._renderErrors(),this},_getKBSettingsPageUrl:function(){var e=this.model.getProjectKey();return Object(ye.c)(e)},_renderNoAccessToSpaceError:function(){var e=void 0,t=!1;this.model.getIsProjectAdmin()?(e="You don\'t have access to view or create knowledge base articles.",t=!0):e="You don\'t have access to view or create knowledge base articles. Ask a project administrator to give you access.",this.$el.html(Fe.error({messages:[e],displayKBSettingsLink:t,kbSettingsPageUrl:this._getKBSettingsPageUrl()}))},_renderErrors:function(){var e=$.default.pluck(this.model.getErrors(),"errorMessage");this.$el.html(Fe.error({messages:e}))},_renderInformation:function(){var e=$.default.pluck(this.model.getErrors(),"errorMessage");this.$el.html(Fe.info({messages:e}))},_retryFetch:function(){this.trigger("retry:related")}}),Ke=(a(207),s.a.View.extend({template:ServiceDesk.Internal.KB.Feature.KBViewer.Templates.articleFooter,shareable:!0,events:{"click .js-sd-kb-article-share":"_handleShare"},initialize:function(e){this.shareable=e.shareable},render:function(){this.$el.html(this.template({isShareable:this.shareable}))},_handleShare:function(){this.trigger("shareClicked")}})),je=a(82),$e=function(e,t,a){var i=Object(n.default)("sd-comment.sd-comment-container").last().get(0);if(i){var r=Object(ye.f)(e);i.enableCommentWithoutPrefill();var s=i.getCurrentCommentValue();!s||s.trim().length<=0?i.appendToInProgressComment(r):i.appendToInProgressComment("\n\n"+r)}De.trackArticleShared(t,a)},_e=function(e){return Object(n.default)(".sd-kb-webpanel-root").data("payload")[e]},Oe=function(){return _e("appLinkId")},Pe=function(){return _e("projectKey")},Me=s.a.View.extend({showSharableArticle:function(e,t){var a=this,i=new Ke({shareable:e.shareable}),r=$.default.extend({footerView:i,pageId:e.id,confUrl:e.appLinkUrl,openResultsInNewTab:!1,onPageShown:n.default.noop},e),s=this._showPageViewer(r);this.listenTo(i,"shareClicked",function(){s.dialog.hide(),a.trigger("shareClicked"),$e(e,t,"view")})},showArticle:function(e){var t=$.default.extend({pageId:e.id,confUrl:e.appLinkUrl,openResultsInNewTab:!1},e);this._showPageViewer(t)},showErrorDialog:function(e){var t="Cannot display article",a=Pe(),n=Object(ye.c)(a);Object(je.a)(t,e,n).show()},_showPageViewer:function(e){var t=this,a=Object(je.b)(e);return this.listenTo(a,"onClose",function(){t.trigger("onClose")}),a.show(),a}}),Re=a(62),Ne=a.n(Re),Ue=a(193),Le=a(28),Ve=a.n(Le),He=a(26),Ge=a.n(He),Ye=(a(397),a(396),s.a.Model.extend({namedAttributes:{issueId:Number,projectKey:String,labels:Array,title:String}})),qe=function(e){return p()()+"/rest/servicedesk/1/servicedesk/"+e+"/kb/create-draft"},Je=s.a.View.extend({mixins:[o.a],template:ServiceDesk.Internal.KB.Feature.CreateKB,events:{"click .sd-cancel-create-kb":"close",submit:"submit","change #kb-template-field":"onTemplateSelected"},close:function(e){this.options.dialog.closeRequested=!0,this.options.dialog.hide(),e.preventDefault()},initLabelPicker:function(){var e=this,t=this.$("#kb-labels");if(!t.data("ss-bound")){t.data("ss-bound",!0);var a=this.model.getProjectKey();this.labelPicker=new Ue.a({element:t,submitInputVal:!0,width:250,ajaxOptions:{projectKey:a,error:function(t,a,n,i){e._addErrors(i.data)}}}),this.labelPicker._addMultipleItems(this.model.getLabels().map(function(e){return new Ge.a({label:e,value:e,title:e})}))}},initSingleSelect:function(){var e=this.$("#kb-template");this.singleSelect=new c.a({element:e,itemAttrDisplayed:"label",width:320,revertOnInvalid:!0}),this.disableSubmit()},onTemplateSelected:function(){this.singleSelect.$field.val()&&this.enableSubmit()},submit:function(e){De.trackCreateArticleSubmitted();var t=qe(this.model.getProjectKey()),a=Object(n.default)(e.target).sdSerializeObject(),i=this.model.getIssueId(),r=a.articleSummary||"";r=n.default.trim(r).substring(0,255);var s={issueId:i,template:a.templateKey,title:r,labels:""};this.disableSubmit(),this.$el.addClass("loading"),this._startSpin(),this.createKBWindow=window.open(null,"_blank"),Object(m.e)(t,s).done(this.success.bind(this)).fail(this.error.bind(this)),e.preventDefault()},success:function(e){this._stopSpin(),this.options.dialog.hide(),this.createKBWindow&&(this.createKBWindow.location.href=e.url),this.enableSubmit()},error:function(e){this.createKBWindow&&this.createKBWindow.close(),this._addErrors(e.responseText),this.enableSubmit(),this._stopSpin()},_startSpin:function(){this.$(".sd-kb-container .sd-kb-container__spinner").removeClass("hidden")},_stopSpin:function(){this.$(".sd-kb-container .sd-kb-container__spinner").addClass("hidden")},_addErrors:function(e){var t=this.$(".errors");if(t.empty(),e){var a=JSON.parse(e);if(a.errors){var i=a.errors;$.default.each(i,function(e){Object(n.default)("<div />").addClass("error").text(e.errorMessage).appendTo(t)})}else a.message&&t.append(Object(n.default)("<div />").addClass("error").text(a.message))}else{Object(n.default)("<div />").addClass("error").text("An error has occurred, we are unsure about the state of this operation. Refresh the page and try again.").appendTo(this.$(".errors"))}},complete:function(){this.$el.removeClass("loading")},render:function(){var e={title:this.model.getTitle()};this.$el.html(this.template.simpleDialog(e)).removeClass("hidden").show(),this.initSingleSelect()},focus:function(){this.$el.find(":input:visible:first").focus()}}),ze=a(130),Ze=a(50),We=(a(391),a(30)),Qe=/.*http[s]*:\/\/.+?\/servicedesk\/customer\/kb\/view\/[\d]+.*/,Xe=function(e){if(Object(We.a)(e))De.trackSharedArticleViewFromCommentNewTab();else{var t=e.target,a=new xe.a(t.href);if(Qe.test(a.href())){e.preventDefault();var n=new Me,i=a.query(!0),r=i.applicationId,s=_e("appLinkUrl");if(s)if(r&&r!==Oe())n.showErrorDialog("This knowledge base article link accesses a Confluence instance different to the one currently linked to this service desk and cannot be displayed."),De.trackSharedArticleViewFromCommentErrorDifferentKBLink();else{var o=i.title,l=a.href(),c=a.segment(-1),d=o||"Knowledge base article";n.showArticle({pageId:c,title:d,confUrl:s,inPageUrl:l}),De.trackSharedArticleViewFromCommentSuccessful()}else n.showErrorDialog("The knowledge base isn\'t correctly configured for this service desk."),De.trackSharedArticleViewFromCommentErrorNoKBLink()}}},et=$.default.once(function(){Object(n.default)(document).on("click",".sd-activity-comment .action-body a",Xe).on("contextmenu",".sd-activity-comment .action-body a",function(){return De.trackSharedArticleViewFromCommentNewTab()})}),tt=a(6),at=a.n(tt),nt=(a(389),a(388),"#inline-dialog-searchKBDialog"),it=ServiceDesk.Internal.KB.Feature.KBPanel.Templates,rt="search",st="related";function ot(e){return Object(n.default)(e).closest(nt).length>0?rt:st}var lt,ct=s.a.View.extend({events:{"click .js-sd-kb-article-share":"_onKBArticleShareClicked"},initialize:function(e){var t=this;et(),this._detectAndSetPanelViewMode(),this.render(),this.searcherModel=new Ae({issueKey:e.issueKey,projectKey:e.projectKey,isProjectAdmin:e.isProjectAdmin,portalId:e.portalId,isSDRequest:e.isSDRequest,appLinkId:e.appLinkId}),this.searcherErrorModel=new Ie({projectKey:e.projectKey,isProjectAdmin:e.isProjectAdmin});var a=this.$el.find(".js-sd-kb-panel-container"),i=this.$el.find(".js-sd-kb-articles");this.kbSearcherResultsView=new Be({el:i,model:this.searcherModel}),this.kbSearcherErrorView=new Te({el:a,model:this.searcherErrorModel}),this.listenTo(this.kbSearcherErrorView,"retry:related",function(){return t._fetchRelatedArticles()}),function(e,t,a){if(e.length){var i=Object(n.default)("#inline-dialog-createKBDialog");i.length&&i.remove();var r={url:qe(t),data:{issueId:a}},s=Object(m.c)(r),o=void 0,l=new Ve.a(e,"createKBDialog",function(e,t,a){l.closeRequested=!1,De.trackCreateArticleDialogOpened(),s.done(function(){e.append(o.$el),a(),setTimeout(function(){o.focus()},0)})},{width:320,hideDelay:null,persistent:!0,gravity:"w",preHideCallback:function(){return De.trackCreateArticleCancelled(),!Ne.a.current}});s.done(function(e){var t=new Ye(e);(o=new Je({model:t,dialog:l})).render()})}}(this.$el.find(".js-sd-create-kb-button"),e.projectKey,e.issueId),this.searchKBDialog=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.length){var a=Object(n.default)("#inline-dialog-searchKBDialog");a.length>0&&a.remove();var i=Object(Ze.b)("servicedesk.page.view.issue.kb.panel.expanded",{searchOrigin:"kb-panel"}),r=new ze.a(i,t),s=new Ve.a(e,"searchKBDialog",function(e,t,a){Object(n.default)(document).on("click","#inline-dialog-searchKBDialog",function(e){e.stopPropagation()}),r.setElement(e),r.render(),a(),setTimeout(function(){r.focus()},0),k.a.trackEvent("servicedesk.page.view.issue.kb.panel.expanded.search.inline.dialog.shown")},{container:"#knowledgebase-issueview-panel",hideDelay:null,gravity:"w",preHideCallback:function(){return s.shouldClose},width:320});return r.on(r.EVENT.RESULTS_RENDERED,function(){s.refresh()}),r.on(r.EVENT.QUERY_BECAME_EMPTY,function(){s.refresh()}),s.shouldClose=!0,s.setShouldClose=function(e){s.shouldClose=e},s.forceHide=function(){s.shouldClose=!0,s.hide()},s}}(this.$el.find(".js-sd-search-kb-button"),{issueKey:e.issueKey,projectKey:e.projectKey,portalId:e.portalId}),this._panelToggleHandler=function(){return t._handlePanelToggled()},Object(n.default)("#knowledgebase-issueview-panel .toggle-title").on("click",this._panelToggleHandler),Object(n.default)("#knowledgebase-issueview-panel").on("clickedNotNewTab","sd-kb-dialog-link",function(e){t._onKBArticleClicked(e)}),Object(n.default)("#knowledgebase-issueview-panel").on("clickedNewTab","sd-kb-dialog-link",function(e){t._onKBArticleAltClicked(e)}),this._initRelatedArticles(),at.a.trace("kb.panel.dialogs.added.to.page")},render:function(){this.$el.html(it.linkContainer())},disable:function(){this.stopListening(),this._panelToggleHandler&&Object(n.default)("#knowledgebase-issueview-panel .toggle-title").off("click",this._panelToggleHandler)},_initRelatedArticles:function(){var e=this;this._fetchRelatedArticles().done(function(t){var a=t.results;e.panelExpanded?De.trackPanelLoadedExpanded(a):De.trackPanelLoadedCollapsed(a)})},_fetchRelatedArticles:function(){var e=this;return this.kbSearcherResultsView.showSpinner(),this.searcherModel.fetch().done(function(){e._handleSuccessfulRelatedArticlesFetch()}).fail(function(t){e._handleUnsuccessfulRelatedArticlesFetch(t)})},_handleSuccessfulRelatedArticlesFetch:function(){this.kbSearcherResultsView.render()},_handleUnsuccessfulRelatedArticlesFetch:function(e){var t=e.status;this.searcherErrorModel.setStatusCode(t),this.searcherErrorModel.setErrors(e.errors),this.searcherErrorModel.setReasonKey(e.reasonKey),this.kbSearcherErrorView.render()},_detectAndSetPanelViewMode:function(){this.panelExpanded=!0,Object(n.default)("#knowledgebase-issueview-panel").hasClass("collapsed")&&(this.panelExpanded=!1)},_handlePanelToggled:function(){this.panelExpanded=!this.panelExpanded;var e=st,t=this.searcherModel.getRelatedArticles().toJSON();this.panelExpanded?De.trackPanelExpanded(e,t):De.trackPanelCollapsed(e,t)},_onKBArticleClicked:function(e){var t=this,a=e.article,n=new Me,i=ot(e.target);n.showSharableArticle(a,i),De.trackArticleViewed(i,a.shareable),this.searchKBDialog.setShouldClose(!1),this.listenTo(n,"onClose",function(){t.searchKBDialog.setShouldClose(!0)}),this.listenTo(n,"shareClicked",function(){t.searchKBDialog.forceHide()})},_onKBArticleAltClicked:function(e){var t=e.article,a=ot(e.target);De.trackArticleViewedNewTab(a,t.shareable)},_onKBArticleShareClicked:function(e){var t=Object(n.default)(e.currentTarget),a=Object(n.default)("#"+t.attr("share-for"))[0].articleDetails;$e(a,st,"list")}}),dt=a(129),ut=$.default.once(function(){Object(he.a)("sd-kb-webpanel-root",{created:function(e){Object(n.default)(e).html(ServiceDesk.Internal.KB.Feature.KBPanel.Templates.panelContent())}}),Object(he.a)("sd-kb-panel",{created:function(e){e.panelController=new ct({el:e,issueKey:_e("issueKey"),issueId:_e("issueId"),projectKey:Pe(),isProjectAdmin:_e("isProjectAdmin"),portalId:_e("portalId"),isSDRequest:_e("isSDRequest"),appLinkId:Oe()})},detached:function(e){e.panelController&&e.panelController.disable()}}),dt.a.install()}),pt=a(73),mt=a.n(pt),gt="com.atlassian.servicedesk:sd-request-participants",vt=a(128);F.a.isFeatureEnabled("sd.approvals.light.weight")&&Object(n.default)(document).on("click",".js-issueaction-create-approval",function(e){(new C).show(),e.preventDefault()}),w.a.bind(S.a.ISSUE_REFRESHED,function(){Object(n.default)("body > .sd-customfield-tip").remove()}),K.a.on("navigation:stateChanged",function(e){Object(vt.a)("jira",e.selectedIssueKey)},void 0),ut(),lt={name:"Service Desk attachment executor",weight:50,isValid:function(e,t){var a=t.isWikiTextfieldFocused||t.isRichEditorFieldFocused;return!a&&t.wikiTextfield&&(a=Object(n.default)(t.wikiTextfield).is(":visible:focus")),me()||ge()&&ve()&&!a},processFiles:function(e,t){return fe({files:e,issueAttachmentDropZone:t})}},q.a.registerExecutor(lt),ge()&&q.a.unregisterExecutor({name:"JIRA Ctrl+V attachment executor"}),be(),function(){function e(){k.a.trackPageview("/servicedesk/issue/requestparticipants/inlineedit/saved")}w.a.bind(S.a.INLINE_EDIT_STARTED,function(t,a,n){w.a.unbind(S.a.INLINE_EDIT_SAVE_COMPLETE,e),n===gt&&(k.a.trackPageview("/servicedesk/issue/requestparticipants/inlineedit/started"),w.a.one(S.a.INLINE_EDIT_SAVE_COMPLETE,e))})}(),w.a.bind(S.a.INLINE_EDIT_STARTED,function(e,t,a,n){a===gt&&he.a.init(n)}),function(){if(mt.a&&mt.a.InlineEditUtils){var e=mt.a.InlineEditUtils;e.BlurTriggerMapping.custom[gt]=e.BlurTriggers.Default}else at.a.error("Failed to install inline edit blur handler for request participants field, JIRA.Components.IssueEditor.InlineEditUtils is missing")}(),F.a.isFeatureEnabled("sd.approvals.visibility")&&(H(),G()),N(),F.a.isFeatureEnabled("sd.approvals.notification.email.action")&&w.a.bind(S.a.NEW_CONTENT_ADDED,function(e,t,a){var n=t.attr("id");a===I.a.panelRefreshed&&"issue-view-pending-approval-statuses-web-panel"===n&&Object(E.a)({triggerSelector:"#issue-view-pending-approval-statuses-web-panel_heading",rightOffset:"101%",direction:"e",hotspotAnalyticsSuffix:"issue.view"})})},387:function(e,t,a){(e.exports=a(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n#knowledgebase-issueview-panel {\n  position: relative;\n}\n.sd-kb-panel-container .sd-kb-articles {\n  margin-bottom: 15px;\n}\n.sd-kb-panel-container .sd-kb-articles .sd-kb-article-results {\n  min-height: 30px;\n}\n.sd-kb-panel-container .sd-kb-articles .sd-kb-article-results.sd-kb-article-results-loading {\n  display: flex;\n  justify-content: center;\n}\n.sd-kb-panel-container .sd-kb-articles .sd-kb-article-results .sd-kb-article:hover .sd-kb-article-share,\n.sd-kb-panel-container .sd-kb-articles .sd-kb-article-results .sd-kb-article .sd-kb-article-share:focus {\n  opacity: 1;\n}\n.sd-kb-panel-container .sd-kb-articles .sd-kb-article-results .sd-kb-article-share {\n  opacity: 0;\n}\n.sd-kb-panel-container .sd-kb-articles .sd-kb-article-results .sd-kb-article-item {\n  line-height: 2.14285714em;\n}\n.sd-kb-panel-container .sd-create-kb-link {\n  margin-left: 0;\n}\n",""])},388:function(e,t,a){var n=a(387);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(8)(n,i);n.locals&&(e.exports=n.locals)},389:function(e,t,a){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Internal&&(ServiceDesk.Internal={}),void 0===ServiceDesk.Internal.KB&&(ServiceDesk.Internal.KB={}),void 0===ServiceDesk.Internal.KB.Feature&&(ServiceDesk.Internal.KB.Feature={}),void 0===ServiceDesk.Internal.KB.Feature.KBPanel&&(ServiceDesk.Internal.KB.Feature.KBPanel={}),void 0===ServiceDesk.Internal.KB.Feature.KBPanel.Templates&&(ServiceDesk.Internal.KB.Feature.KBPanel.Templates={}),ServiceDesk.Internal.KB.Feature.KBPanel.Templates.buttonContainer=function(e,t){return'<div class="js-sd-kb-panel-container sd-kb-panel-container"><div class="js-sd-kb-articles sd-kb-articles"></div>'+aui.buttons.button({text:"Create article",extraClasses:"js-sd-create-kb-button"})+"<div>"},goog.DEBUG&&(ServiceDesk.Internal.KB.Feature.KBPanel.Templates.buttonContainer.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBPanel.Templates.buttonContainer"),ServiceDesk.Internal.KB.Feature.KBPanel.Templates.linkContainer=function(e,t){return'<div class="js-sd-kb-panel-container sd-kb-panel-container"><div class="js-sd-kb-articles sd-kb-articles"></div><span>'+soy.$$filterNoAutoescape(AJS.format("Didn\'\'t find a suitable article? {0}Search knowledge base{1} or {2}create an article{3}.",'<button class="aui-button aui-button-link js-sd-search-kb-button sd-search-kb-link">',"</button>",'<button class="aui-button aui-button-link js-sd-create-kb-button sd-create-kb-link">',"</button>"))+"</span><div>"},goog.DEBUG&&(ServiceDesk.Internal.KB.Feature.KBPanel.Templates.linkContainer.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBPanel.Templates.linkContainer"),ServiceDesk.Internal.KB.Feature.KBPanel.Templates.panelContent=function(e,t){return"<sd-kb-panel />"},goog.DEBUG&&(ServiceDesk.Internal.KB.Feature.KBPanel.Templates.panelContent.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBPanel.Templates.panelContent"),void 0===(n=function(){return ServiceDesk.Internal.KB.Feature.KBPanel.Templates}.apply(t,[]))||(e.exports=n)},390:function(e,t,a){(e.exports=a(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n#inline-dialog-searchKBDialog.aui-inline-dialog .contents {\n  padding: 20px;\n  overflow-x: hidden;\n}\n",""])},391:function(e,t,a){var n=a(390);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(8)(n,i);n.locals&&(e.exports=n.locals)},395:function(e,t,a){(e.exports=a(9)(!1)).push([e.i,"#inline-dialog-createKBDialog.aui-inline-dialog .contents {\n  padding: 20px;\n}\n#inline-dialog-createKBDialog.aui-inline-dialog .contents .kb-primary-problem-kbpanel-phase2 {\n  width: 320px;\n  max-width: 320px;\n}\n#inline-dialog-createKBDialog.aui-inline-dialog .contents .sd-button-group .sd-kb-container__spinner {\n  height: 20px;\n  width: 20px;\n  display: inline-block;\n  position: relative;\n  left: 10px;\n}\n",""])},396:function(e,t,a){var n=a(395);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(8)(n,i);n.locals&&(e.exports=n.locals)},397:function(e,t,a){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Internal&&(ServiceDesk.Internal={}),void 0===ServiceDesk.Internal.KB&&(ServiceDesk.Internal.KB={}),void 0===ServiceDesk.Internal.KB.Feature&&(ServiceDesk.Internal.KB.Feature={}),void 0===ServiceDesk.Internal.KB.Feature.CreateKB&&(ServiceDesk.Internal.KB.Feature.CreateKB={}),ServiceDesk.Internal.KB.Feature.CreateKB.simpleDialog=function(e,t){return'<div class="sd-kb-container"><form class="aui top-label"><div class="field-group"><input id="kb-primary-problem" name="articleSummary" type="text" class="text kb-primary-problem-kbpanel-phase2" value="'+soy.$$escapeHtml(e.title)+'" maxlength="255" /></div><div class="field-group"><select class="select" id="kb-template" name="templateKey"><option selected="selected" data-placeholder="true">'+soy.$$escapeHtml("Choose a template")+'</option><option value="com.atlassian.confluence.plugins.confluence-knowledge-base:kb-troubleshooting-article-blueprint" label="'+soy.$$escapeHtml("Troubleshooting")+'">'+soy.$$escapeHtml("Troubleshooting")+'</option><option value="com.atlassian.confluence.plugins.confluence-knowledge-base:kb-how-to-article-blueprint" label="'+soy.$$escapeHtml("How-To")+'">'+soy.$$escapeHtml("How-To")+'</option></select></div><div class="field-group sd-button-group"><button type="submit" accesskey="'+soy.$$escapeHtml("s")+'" class="aui-button aui-button-primary" > '+soy.$$escapeHtml("Create")+"</button>"+aui.buttons.button({extraClasses:"cancel sd-cancel-create-kb",type:"link",text:"Cancel"})+'<div class="sd-kb-container__spinner hidden"><aui-spinner size="small" filled></aui-spinner></div></div><div class="errors"></div></form></div>'},goog.DEBUG&&(ServiceDesk.Internal.KB.Feature.CreateKB.simpleDialog.soyTemplateName="ServiceDesk.Internal.KB.Feature.CreateKB.simpleDialog"),void 0===(n=function(){return ServiceDesk.Internal.KB.Feature.CreateKB}.apply(t,[]))||(e.exports=n)},398:function(e,t,a){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Internal&&(ServiceDesk.Internal={}),void 0===ServiceDesk.Internal.KB&&(ServiceDesk.Internal.KB={}),void 0===ServiceDesk.Internal.KB.Feature&&(ServiceDesk.Internal.KB.Feature={}),void 0===ServiceDesk.Internal.KB.Feature.KBSearcher&&(ServiceDesk.Internal.KB.Feature.KBSearcher={}),void 0===ServiceDesk.Internal.KB.Feature.KBSearcher.Error&&(ServiceDesk.Internal.KB.Feature.KBSearcher.Error={}),ServiceDesk.Internal.KB.Feature.KBSearcher.Error.error=function(e,t){for(var a='<div class="sd-kb-article-results aui-message aui-message-error">',n=e.messages,i=n.length,r=0;r<i;r++){var s=n[r];a+="<p>"+soy.$$escapeHtml(s)+"</p>"}return a+=(e.displayKBSettingsLink?'<p><a href="'+soy.$$escapeHtml(e.kbSettingsPageUrl)+'" target="_blank">'+soy.$$escapeHtml("Manage knowledge base settings")+"</a></p>":"")+"</div>"},goog.DEBUG&&(ServiceDesk.Internal.KB.Feature.KBSearcher.Error.error.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBSearcher.Error.error"),ServiceDesk.Internal.KB.Feature.KBSearcher.Error.info=function(e,t){for(var a='<div class="sd-kb-article-results">',n=e.messages,i=n.length,r=0;r<i;r++){var s=n[r];a+="<p>"+soy.$$escapeHtml(s)+"</p>"}return a+="</div>"},goog.DEBUG&&(ServiceDesk.Internal.KB.Feature.KBSearcher.Error.info.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBSearcher.Error.info"),void 0===(n=function(){return ServiceDesk.Internal.KB.Feature.KBSearcher.Error}.apply(t,[]))||(e.exports=n)},399:function(e,t,a){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Internal&&(ServiceDesk.Internal={}),void 0===ServiceDesk.Internal.KB&&(ServiceDesk.Internal.KB={}),void 0===ServiceDesk.Internal.KB.Feature&&(ServiceDesk.Internal.KB.Feature={}),void 0===ServiceDesk.Internal.KB.Feature.KBSearcher&&(ServiceDesk.Internal.KB.Feature.KBSearcher={}),void 0===ServiceDesk.Internal.KB.Feature.KBSearcher.Results&&(ServiceDesk.Internal.KB.Feature.KBSearcher.Results={}),void 0===ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates&&(ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates={}),ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates.spinner=function(e,t){return'<div class="sd-kb-article-results sd-kb-article-results-loading"><aui-spinner size="medium"></aui-spinner><div>'},goog.DEBUG&&(ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates.spinner.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates.spinner"),ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates.searchResults=function(e,t){var a='<div class="sd-kb-article-results">';if(e.articles.length>0)for(var n=e.articles,i=n.length,r=0;r<i;r++){var s=n[r],o="sd-kb-related-article-"+soy.$$escapeHtml(s.id);a+='<div class="aui-group sd-kb-article js-sd-kb-article"><div class="aui-item aui-item sd-kb-article-item"><sd-kb-dialog-link id="'+soy.$$escapeHtml(o)+'" data-id="'+soy.$$escapeHtml(s.id)+'" data-title="'+soy.$$escapeHtml(s.title)+'" data-applink-url="'+soy.$$escapeHtml(s.appLinkUrl)+'" data-inpage-url="'+soy.$$escapeHtml(s.inPageUrl)+'" data-shareable="'+soy.$$escapeHtml(s.shareable)+'" data-href="'+soy.$$escapeHtml(s.fullUrl)+'"></sd-kb-dialog-link></div><div class="aui-item">'+aui.buttons.button({text:"Share as comment",extraClasses:"sd-kb-article-share js-sd-kb-article-share",extraAttributes:{"aria-describedBy":o,"share-for":o},isDisabled:!s.shareable})+"</div></div>"}else a+=soy.$$escapeHtml("No related articles found.");return a+="</div>"},goog.DEBUG&&(ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates.searchResults.soyTemplateName="ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates.searchResults"),void 0===(n=function(){return ServiceDesk.Internal.KB.Feature.KBSearcher.Results.Templates}.apply(t,[]))||(e.exports=n)},400:function(e,t,a){(e.exports=a(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n.servicedesk-attachments-dialog .aui-dialog2-content {\n  padding: 0;\n  max-height: 420px;\n  position: relative;\n  overflow-y: auto;\n}\n.servicedesk-attachments-dialog .aui-dialog2-content .dialog2-content-container {\n  height: 100%;\n  position: relative;\n}\n@media screen and (max-height: 640px) {\n  .servicedesk-attachments-dialog.aui-dialog2 {\n    top: 100px;\n  }\n  .servicedesk-attachments-dialog .aui-dialog2-content {\n    max-height: 70%;\n  }\n}\n#dialog-message-box {\n  display: none;\n  visibility: visible;\n}\n#dialog-message-box .aui-message {\n  margin: 0;\n  -webkit-border-radius: 0;\n  -moz-border-radius: 0;\n  border-radius: 0;\n}\n#dialog-message-box .aui-message .icon-close {\n  top: 50%;\n  margin-top: -8px;\n}\n.servicedesk-attachments-dialog .comment-textarea {\n  min-height: 150px;\n  width: 100%;\n  box-sizing: border-box;\n  border: 0;\n  border-bottom: 1px solid #ccc;\n  padding: 10px;\n  resize: none;\n  height: auto;\n  font-size: inherit;\n  font-family: inherit;\n}\n.servicedesk-attachments-dialog .comment-textarea.expand-fallback {\n  resize: none;\n  white-space: pre;\n  word-wrap: normal;\n}\n.servicedesk-attachments-dialog .richeditor-cover {\n  border-top: 0;\n  border-left: 0;\n  border-right: 0;\n}\n.servicedesk-attachments-dialog .wiki-edit-toolbar {\n  border: 0;\n  border-bottom: 1px solid #ccc;\n  right: 0;\n  left: 0;\n}\n.sd-attach-dialog-footer-actions .aui-button .spinner {\n  display: inline-block;\n  left: 0;\n  padding-right: 15px;\n  padding-left: 5px;\n  position: relative;\n  top: -5px;\n  width: 0;\n}\n#attachments-dialog-error-icon {\n  padding-right: 10px;\n  display: inline-block;\n  position: relative;\n}\n#attachments-dialog-error-icon .aui-icon {\n  visibility: hidden;\n  color: #d04437;\n  text-indent: 0;\n}\n.wiki-edit-content + #attachment-area {\n  margin-top: 30px;\n}\n#attachment-area {\n  position: relative;\n  overflow-y: auto;\n  height: 159px;\n}\n.attachment-dialog-button {\n  margin-right: 10px;\n}\n",""])},401:function(e,t,a){var n=a(400);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(8)(n,i);n.locals&&(e.exports=n.locals)},402:function(e,t,a){var n,i;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Attachments&&(ServiceDesk.Templates.Attachments={}),ServiceDesk.Templates.Attachments.dialog=function(e,t){return'<section role="dialog" class="aui-layer aui-dialog2 aui-dialog2-xlarge servicedesk-attachments-dialog jira-dialog dialog-can-receive-files js-cannedresponses-context" data-aui-modal="true" data-aui-remove-on-hide="true" data-can-attach="true" data-insert-markup-on-browse="true" aria-hidden="true" data-is-rte-enabled="'+soy.$$escapeHtml(e.isRteEnabled)+'" data-issue-key="'+soy.$$escapeHtml(e.issueKey)+'"><header class="aui-dialog2-header">'+(e.isEditComment?'<h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml("Edit comment")+"</h2>":'<h2 class="aui-dialog2-header-main">'+soy.$$escapeHtml("Add attachments")+"</h2>")+'</header><div id="dialog-message-box" role="alert"></div><div class="aui-dialog2-content"><div class="dialog2-content-container"><div class="wiki-edit-content"><textarea id="sd-comment-field" autofocus name="comment" class="textarea comment-textarea wiki-textfield mentionable" data-issuekey="'+soy.$$escapeHtml(e.issueKey)+'" placeholder="'+soy.$$escapeHtml("Include a comment here...")+'"/>'+(e.isRteEnabled?"<rich-editor></rich-editor>":"")+"</div>"+(e.isRteEnabled?'<div class="sd-rte-bar"></div>':"")+'<div id="attachment-area"/><div id="errors"/></div></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions sd-attach-dialog-footer-actions"><div id="attachments-dialog-error-icon"><span tabindex="0" class="aui-icon aui-icon-small aui-iconfont-error"></span></div>'+ServiceDesk.Templates.Shared.Form.submitButton({extraAttributes:{id:"button-public"},extraClasses:"aui-button-primary attachment-dialog-button",label:"Share with customer",modifierKey:e.modifierKey,accessKey:"e"})+ServiceDesk.Templates.Shared.Form.submitButtons({submitExtraAttributes:{id:"button-private"},submitButtonLabel:"Add to issue only",submitExtraClasses:"attachment-dialog-button",modifierKey:e.modifierKey,alignment:"right",cancelText:"Cancel",cancelExtraClasses:"js-dialog-close-button",cancelExtraAttributes:{id:"button-cancel"}})+"</div></footer></section>"},goog.DEBUG&&(ServiceDesk.Templates.Attachments.dialog.soyTemplateName="ServiceDesk.Templates.Attachments.dialog"),ServiceDesk.Templates.Attachments.displayError=function(e,t){var a="",n=""+(e.errors.length>1?ServiceDesk.Templates.Attachments.multipleErrors(e):1==e.errors.length?ServiceDesk.Templates.Attachments.singleError({errorText:e.errors[0]}):"");return a+=aui.message.error({titleContent:e.title,isCloseable:!0,id:"attachments-dialog-error-message",content:n})},goog.DEBUG&&(ServiceDesk.Templates.Attachments.displayError.soyTemplateName="ServiceDesk.Templates.Attachments.displayError"),ServiceDesk.Templates.Attachments.singleError=function(e,t){return'<p id="dialog-message-box-text">'+soy.$$escapeHtml(e.errorText)+"</p>"},goog.DEBUG&&(ServiceDesk.Templates.Attachments.singleError.soyTemplateName="ServiceDesk.Templates.Attachments.singleError"),ServiceDesk.Templates.Attachments.multipleErrors=function(e,t){for(var a="<ol>",n=e.errors,i=n.length,r=0;r<i;r++){var s=n[r];a+="<li><p>"+soy.$$escapeHtml(s)+"</p></li>"}return a+="</ol>"},goog.DEBUG&&(ServiceDesk.Templates.Attachments.multipleErrors.soyTemplateName="ServiceDesk.Templates.Attachments.multipleErrors"),n=[a(60)],void 0===(i=function(){return ServiceDesk.Templates.Attachments}.apply(t,n))||(e.exports=i)},403:function(e,t,a){(e.exports=a(9)(!1)).push([e.i,".sd-loading-indicator {\n  background-color: #333;\n  border-radius: 10px;\n  height: 35px;\n  width: 35px;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  margin-top: -20px;\n  margin-left: -20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.sd-loading-indicator .aui-spinner > svg {\n  stroke: white;\n}\n",""])},404:function(e,t,a){var n=a(403);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(8)(n,i);n.locals&&(e.exports=n.locals)},405:function(e,t,a){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.InternalApi&&(ServiceDesk.InternalApi={}),void 0===ServiceDesk.InternalApi.Feature&&(ServiceDesk.InternalApi.Feature={}),void 0===ServiceDesk.InternalApi.Feature.LoadingIndicator&&(ServiceDesk.InternalApi.Feature.LoadingIndicator={}),ServiceDesk.InternalApi.Feature.LoadingIndicator.default=function(e,t){return'<div class="sd-loading-indicator"><aui-spinner size="small"></aui-spinner></div>'},goog.DEBUG&&(ServiceDesk.InternalApi.Feature.LoadingIndicator.default.soyTemplateName="ServiceDesk.InternalApi.Feature.LoadingIndicator.default"),void 0===(n=function(){return ServiceDesk.InternalApi.Feature.LoadingIndicator}.apply(t,[]))||(e.exports=n)},406:function(e,t,a){e.exports=void 0},407:function(e,t,a){var n,i;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Internal&&(ServiceDesk.Internal={}),void 0===ServiceDesk.Internal.Approvals&&(ServiceDesk.Internal.Approvals={}),void 0===ServiceDesk.Internal.Approvals.Feature&&(ServiceDesk.Internal.Approvals.Feature={}),void 0===ServiceDesk.Internal.Approvals.Feature.CreateApproval&&(ServiceDesk.Internal.Approvals.Feature.CreateApproval={}),void 0===ServiceDesk.Internal.Approvals.Feature.CreateApproval.Templates&&(ServiceDesk.Internal.Approvals.Feature.CreateApproval.Templates={}),ServiceDesk.Internal.Approvals.Feature.CreateApproval.Templates.body=function(e,t){return""+aui.form.form({action:"#",isLongLabels:!0,content:""+aui.dialog.dialog2Content({visible:!0,titleText:"Create approval",content:""+(e.eligibleFields.length?"":aui.message.warning({content:"You need to {0}create a \'User Picker (multiple users)\' custom field{1} before configuring an approval"}))+aui.form.fieldGroup({content:""+aui.form.label({content:"Get approvers from",required:!0})+(e.eligibleFields.length?aui.form.select({name:"field",id:"approver-field-picker",extraClasses:"js-approver-field-picker",options:e.eligibleFields}):aui.form.select({name:"field",extraAttributes:{disabled:"disabled"},options:[]}))})+aui.form.fieldset({isGroup:!0,legendContent:"Consider approved after",content:'<div class="radio"><input class="radio" type="radio" checked="checked" name="condition" value="percent" id="condition-all"><label for="condition-all">'+soy.$$escapeHtml("All approvals")+'</label></div><div class="radio sd-partial-condition"><input class="radio js-condition-partial" type="radio" name="condition" value="number"  id="condition-partial"><input class="text js-partial-amount sd-partial-amount" type="text" name="partial-amount" /><label for="condition-partial">'+soy.$$escapeHtml("approval(s)")+"</label></div>"}),footerActionContent:""+ServiceDesk.Templates.Shared.Form.submitButtons({submitExtraAttributes:e.eligibleFields.length?[]:{disabled:"disabled"},submitExtraClasses:"aui-button-primary",submitButtonLabel:"Create",alignment:"right"})})})},goog.DEBUG&&(ServiceDesk.Internal.Approvals.Feature.CreateApproval.Templates.body.soyTemplateName="ServiceDesk.Internal.Approvals.Feature.CreateApproval.Templates.body"),n=[a(60)],void 0===(i=function(){return ServiceDesk.Internal.Approvals.Feature.CreateApproval.Templates}.apply(t,n))||(e.exports=i)},408:function(e,t,a){(e.exports=a(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* ul */\n/*\n * @see https://atlassian.design/guidelines/brand/color-1\n */\n#aui .typography .h800 {\n  font-size: 29px;\n  font-weight: 600;\n  line-height: 1.37931034;\n  letter-spacing: -0.01em;\n  text-transform: none;\n}\n.sd-approval-statuses .sd-approval-status-lozenge,\n.sd-customfield-tip .sd-approval-status-lozenge {\n  width: 100%;\n  box-sizing: border-box;\n  margin-right: 5px;\n}\n.sd-approval-statuses .sd-request-option-title,\n.sd-customfield-tip .sd-request-option-title {\n  margin-bottom: 0;\n}\n.sd-approval-statuses .sd-final-decision-gray,\n.sd-customfield-tip .sd-final-decision-gray,\n.sd-approval-statuses .sd-approval-requirement-gray,\n.sd-customfield-tip .sd-approval-requirement-gray,\n.sd-approval-statuses .sd-final-decision,\n.sd-customfield-tip .sd-final-decision,\n.sd-approval-statuses .sd-approval-requirement,\n.sd-customfield-tip .sd-approval-requirement {\n  color: #172B4D;\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 1.42857143;\n  letter-spacing: -0.003em;\n  text-transform: none;\n}\n.sd-approval-statuses .sd-approval-status li,\n.sd-customfield-tip .sd-approval-status li {\n  padding: 5px 0 5px 0;\n}\n.sd-approval-statuses .sd-approver,\n.sd-customfield-tip .sd-approver {\n  white-space: nowrap;\n  word-wrap: break-word;\n}\n.sd-approval-statuses .sd-user-value,\n.sd-customfield-tip .sd-user-value {\n  white-space: normal;\n}\n.sd-approval-statuses dl dt,\n.sd-customfield-tip dl dt {\n  text-align: left;\n  box-sizing: border-box;\n  padding: 2px 5px 2px 0;\n  color: #707070;\n  display: table-cell;\n  vertical-align: top;\n  width: 140px;\n  list-style: none;\n}\n.sd-approval-statuses dl dd,\n.sd-customfield-tip dl dd {\n  display: table-cell;\n  box-sizing: border-box;\n}\n.sd-approval-statuses ul,\n.sd-customfield-tip ul {\n  display: block;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n.sd-approval-statuses ul > li,\n.sd-customfield-tip ul > li {\n  margin: 0;\n  padding: 0;\n}\n.sd-approval-statuses .sd-approver-empty,\n.sd-customfield-tip .sd-approver-empty {\n  color: #d04437;\n}\n.sd-approval-statuses .sd-approver-icon-wrapper,\n.sd-customfield-tip .sd-approver-icon-wrapper {\n  margin-left: 8px;\n}\n.sd-approval-statuses .sd-approver-icon-wrapper--approved,\n.sd-customfield-tip .sd-approver-icon-wrapper--approved {\n  color: #14892c;\n}\n.sd-approval-statuses .sd-approver-icon-wrapper--rejected,\n.sd-customfield-tip .sd-approver-icon-wrapper--rejected {\n  color: #d04437;\n}\n.sd-approval-statuses .sd-approval-text,\n.sd-customfield-tip .sd-approval-text {\n  padding-right: 10px;\n}\n.sd-approval-statuses .sd-approval-complete-date,\n.sd-customfield-tip .sd-approval-complete-date {\n  font-size: 12px;\n}\n.sd-approval-statuses dd {\n  padding: 2px 0 2px 5px;\n}\n.sd-approver-decision-details .aui-lozenge {\n  float: right;\n}\n.sd-adgs-feature-flag-m1 .sd-approver-icon-wrapper--rejected {\n  color: #FF5630;\n}\n.sd-adgs-feature-flag-m1 .sd-approver-icon-wrapper--approved {\n  color: #36B37E;\n}\n",""])},409:function(e,t,a){var n=a(408);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(8)(n,i);n.locals&&(e.exports=n.locals)}},[[316,122,2,62,10,0,3,61,63,64,66,65,4,68,67,5,69,20,13,73,14,79,78,23,76,15,89,83,81,80,18,105,102,100,97,27]]]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:entrypoint-jira.view.issue', location = 'runtime~jira.view.issue.b4c6ec25bcf3623f6293.js' */
!function(e){function r(r){for(var t,i,f=r[0],l=r[1],a=r[2],c=0,p=[];c<f.length;c++)i=f[c],o[i]&&p.push(o[i][0]),o[i]=0;for(t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t]);for(s&&s(r);p.length;)p.shift()();return u.push.apply(u,a||[]),n()}function n(){for(var e,r=0;r<u.length;r++){for(var n=u[r],t=!0,f=1;f<n.length;f++){var l=n[f];0!==o[l]&&(t=!1)}t&&(u.splice(r--,1),e=i(i.s=n[0]))}return e}var t={},o={122:0},u=[];function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,r,n){i.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,r){if(1&r&&(e=i(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var t in e)i.d(n,t,function(r){return e[r]}.bind(null,t));return n},i.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(r,"a",r),r},i.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},i.p="","undefined"!=typeof AJS&&(i.p=AJS.contextPath()+"/download/resources/com.atlassian.servicedesk.frontend-webpack-plugin:assets-DEV_PSEUDO_HASH/");var f=window.jsdsjsonp=window.jsdsjsonp||[],l=f.push.bind(f);f.push=r,f=f.slice();for(var a=0;a<f.length;a++)r(f[a]);var s=l;n()}([]);;
;
/* module-key = 'com.atlassian.jira.jira-project-config-plugin:custom-fields', location = 'customfields/js/util/IssuesApi.js' */
define("jira-project-config/issues/api",function(){return window.JIRA&&window.JIRA.Issues&&window.JIRA.Issues.Api});;
;
/* module-key = 'com.atlassian.jira.jira-project-config-plugin:custom-fields', location = 'customfields/js/main.js' */
require(["wrm/require","jquery"],function(i,e){function c(e){i(["wrc!com.atlassian.jira.jira-project-config-plugin.custom-fields-impl"],function(){require(["jira-project-config/custom-fields/api","jira-project-config/issues/api"],e)})}e(document).on("click",".issueaction-fields-add",function(i){i.preventDefault(),c(function(i,e){var c=e.getSelectedIssueId();i.addCustomFieldToIssue(c)})})});;
;
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources', location = 'templates/share-dialog.soy' */
// This file was automatically generated from share-dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Dialogs.Share.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Dialogs == 'undefined') { JIRA.Templates.Dialogs = {}; }
if (typeof JIRA.Templates.Dialogs.Share == 'undefined') { JIRA.Templates.Dialogs.Share = {}; }


JIRA.Templates.Dialogs.Share.contentPopup = function(opt_data, opt_ignored) {
  return '<form action="#" method="post" class="aui recipients-form share-content-popup ' + ((opt_data.shareData.issue) ? ' viewissue ' : (opt_data.shareData.filter) ? ' issuenav ' : '') + '">' + JIRA.Templates.Dialogs.Share.shareLink(opt_data) + '<fieldset class="padding">' + ((opt_data.showForm) ? JIRA.Templates.Dialogs.Share.shareForm(opt_data) : JIRA.Templates.Dialogs.Share.disabledMailMessage(soy.$$augmentMap(opt_data.isAdmin, {isAdmin: opt_data.isAdmin}))) + '</fieldset></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.contentPopup.soyTemplateName = 'JIRA.Templates.Dialogs.Share.contentPopup';
}


JIRA.Templates.Dialogs.Share.shareForm = function(opt_data, opt_ignored) {
  return '<label for="sharenames-multi-select">' + soy.$$escapeHtml("User name or email") + '</label><div class="autocomplete-user-target"><select id="sharenames" name="sharenames" class="share-user-picker hidden" multiple="multiple"></select></div><ol class="recipients"></ol><div><label for="note">' + soy.$$escapeHtml("Note") + '</label></div><textarea class="textarea long-field" id="note" placeholder="' + soy.$$escapeHtml("Add an optional note") + '"/><div class="button-panel"><div class="status"><div class="icon"></div><div class="progress-messages"></div></div><div class="buttons"><input accesskey="' + soy.$$escapeHtml("s") + '" id="submitShare" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",opt_data.modifierKey)) + '" class="button submit" type="submit" value="' + soy.$$escapeHtml("Share") + '" disabled/> <a accesskey="' + soy.$$escapeHtml("`") + '" id="cancelShare" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",opt_data.modifierKey)) + '" class="close-dialog" href="javascript:">' + soy.$$escapeHtml("Cancel") + '</a></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.shareForm.soyTemplateName = 'JIRA.Templates.Dialogs.Share.shareForm';
}


JIRA.Templates.Dialogs.Share.disabledMailMessage = function(opt_data, opt_ignored) {
  return '' + ((! opt_data.isAdmin) ? aui.message.generic({content: '<p>' + soy.$$escapeHtml("Outgoing mail is not configured. Please contact your Jira administrator to enable sharing.") + '</p>', extraClasses: 'disabled-mail-message'}) : aui.message.generic({content: '<p>' + soy.$$escapeHtml("Outgoing mail is not configured. You can configure it here") + '<a class="aui-list-item-link" id="configure_mail_server" href="' + soy.$$escapeHtml("") + '/secure/admin/OutgoingMailServers.jspa"><em> ' + soy.$$escapeHtml("Outgoing mail") + '</em></a>.</p>', extraClasses: 'disabled-mail-message'}));
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.disabledMailMessage.soyTemplateName = 'JIRA.Templates.Dialogs.Share.disabledMailMessage';
}


JIRA.Templates.Dialogs.Share.shareLink = function(opt_data, opt_ignored) {
  return '' + ((opt_data.shareData.permlink) ? '<div class="issuenav-permalink padding"><label>' + ((opt_data.shareData.issue) ? soy.$$escapeHtml("Link to issue") : (opt_data.shareData.filter) ? soy.$$escapeHtml("Link to filter") : '') + '</label><input class="permalink text long-field" value="' + soy.$$escapeHtml(opt_data.shareData.permlink) + '" readonly></div>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.shareLink.soyTemplateName = 'JIRA.Templates.Dialogs.Share.shareLink';
}
;
;
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources', location = 'js/share-user-multi-select.js' */
define("jira/share-plugin/share-user-picker",["jira/skate","jira/field/multi-user-list-picker","jquery"],function(e,r,t){var a=t(document);return e("share-user-picker",{type:e.type.CLASSNAME,attached:function(e){var i=t(e),u=new r({layerId:i.attr("id")+"-layer",element:i,freeEmailInput:!0});a.trigger("ready.multi-select.share-user",u)}})});;
;
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources', location = 'js/share-dialog.js' */
define("jira/share-plugin/share-plugin-dialog",["jira/util/key-code","jira/util/logger","jira/util/formatter","wrm/context-path","underscore","jira/ajs/layer/inline-layer","jira/ajs/ajax/smart-ajax","jira/util/events","jira/util/events/types","jira/util/data/meta","jira/util/events/reasons","aui/inline-dialog","jquery"],function(e,i,n,t,a,s,r,o,l,d,u,h,c){"use strict";return function(){function g(){return c(this).attr("data-username")}function f(){return c(this).attr("data-email")}var m,p,b,v=!0;this.resetAndHide=function(){return c(document).one("hideLayer",function(e,i,n){"inlineDialog"===i&&n.popup===m&&(c(document).unbind(".share-dialog"),b.empty(),b=void 0,p=void 0)}),this.hideDialog()},this.hideDialog=function(){return m.hide(),!1},this._buildSendShareUrl=function(e,i){var n=t()+"/rest/share/1.0";return e.issue?n+="/issue/"+e.issueKey:e.filter&&(e.filterId?n+="/filter/"+e.filterId:(i.jql=e.jql,n+="/search")),n},this._successShareHandler=function(){b.find(".button-panel .icon").removeClass("throbber loading").addClass("icon-tick"),b.find(".progress-messages").removeClass("sending").addClass("success").text("Sent"),setTimeout(a.bind(this.resetAndHide,this),1e3)},this._errorShareHandler=function(){b.find(".button-panel .icon").removeClass("throbber loading").addClass("icon-cross"),b.find(".progress-messages").removeClass("sending").addClass("error").text("Error while sending")},this._sendShare=function(e,t){c("button,input,textarea",this).attr("disabled","disabled"),b.find(".button-panel .icon").addClass("throbber loading");var s=b.find(".progress-messages");s.text("Sending"),s.addClass("sending");var o=this._buildSendShareUrl(t,e);i.trace("jira.plugins.share.send",a.defaults({url:o},e));var l={type:"POST",contentType:"application/json",dataType:"json",url:o,data:JSON.stringify(e),success:a.bind(this._successShareHandler,this),error:a.bind(this._errorShareHandler,this)};r.makeRequest(l)},this._collectMailData=function(){var e=b.find(".recipients"),i=e.find("li[data-username]").map(g).toArray(),n=e.find("li[data-email]").map(f).toArray();return!(!i.length&&!n.length)&&{usernames:i,emails:n,message:b.find("#note").val()}},this.submit=function(e){var i=this._collectMailData();return i&&this._sendShare(i,e),!1},this._enableSubmit=function(e){b.find(".submit").prop("disabled",!e)},this.enableAccessKeys=function(e){c(e).handleAccessKeys({selective:!1})},this._getShareData=function(e){var i,n,t=c(e);t.hasClass("viewissue-share")?(i="issue",n=d.get("viewissue-permlink")):t.hasClass("issuenav-share")&&(i="filter",n=d.get("issuenav-permlink"));var a={issueKey:d.get("issue-key"),filterId:d.get("filter-id"),jql:d.get("filter-jql"),permlink:n};return a[i]=!0,a},this._enableSubmitWhenIsRecipient=function(){var e=b.find("#sharenames").val(),i=null!=e&&e.length>0;this._enableSubmit(i)},this._addInteractionHandlersToDialog=function(i){b.find("#sharenames").bind("change unselect",a.bind(this._enableSubmitWhenIsRecipient,this)),b.find(".close-dialog").click(a.bind(this.resetAndHide,this)),b.find("form").submit(a.bind(this.submit,this,i)),b.find(".issuenav-permalink .text").click(function(e){return e.target.select(),!1}),c(document).bind("keyup.share-dialog",a.bind(function(i){return i.keyCode!==e.ESCAPE||this.hideDialog()},this)),c(document).bind("showLayer.share-dialog",function(e,i,n){"inlineDialog"===i&&n.popup===m&&b.find("#sharenames-textarea").focus()})},this._renderDialogContent=function(e){b.html(JIRA.Templates.Dialogs.Share.contentPopup({shareData:e,modifierKey:d.get("keyboard-accesskey-modifier"),showForm:d.get("outgoing-mail-enabled"),isAdmin:d.get("is-admin")}))},this._generatePopup=function(e,i,n){var t=this._getShareData(i);if(b&&p===t.permlink)return b=e,void n();p=t.permlink,b=e,this._renderDialogContent(t),c.browser.msie&&b.find("form").ieImitationPlaceholder(),this._enableSubmit(!1),this._addInteractionHandlersToDialog.call(this,t),this.enableAccessKeys(c("form",b)),n(),o.trigger(l.NEW_CONTENT_ADDED,[b,u.shareDialogOpened])},this._scrollIntoViewForAuto=function(){var e=this;c(this.context).scrollIntoViewForAuto({complete:function(){var i=c(this).add(window);a.delay(function(){i.one("scroll",function(){c(document.activeElement).blur(),e.hideDialog()})},20)}})},this._createDialogOptions=function(e){var i=-1!==e.indexOf("issuenav")?-110:-170;return{preHideCallback:function(){return v},hideCallback:function(){c(".dashboard-actions .explanation").hide()},offsetY:17,offsetX:i,hideDelay:36e5,useLiveEvents:!0,initCallback:a.bind(this._scrollIntoViewForAuto,this)}},this._addAJSInlineLayerEventHandlers=function(){o.bind(s.EVENTS.beforeShow,function(e,i,n){"sharenames-layer"===n&&(v=!1)}),o.bind(s.EVENTS.hide,function(e,i,n,t){"sharenames-layer"===t&&setTimeout(function(){v=!0},0)})},this._initShareDialog=function(i,n){var t=this;this.context=n,this._addAJSInlineLayerEventHandlers();var s=this._createDialogOptions(i);m=h(c(n),i,a.bind(t._generatePopup,t),s),m[0].popup._validateClickToClose=function(e){return 0===m.has(e.target).length},c(n).live("click",function(){m.find(".contents:visible").length&&m.find("a.close-dialog").click()}),c(document).bind("keydown",function(i){i.keyCode===e.ESCAPE&&h.current!==m&&m.is(":visible")&&(h.current&&h.current.hide(),m.hide())})},this._overrideContents=function(e){b=e},this._getCurrentDialogContent=function(){return b},this._getAllowDialogHide=function(){return v}}}),AJS.namespace("JIRA.JiraSharePlugin.SharePluginDialog",null,require("jira/share-plugin/share-plugin-dialog"));;
;
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources-init', location = 'js/share-dialog-init.js' */
define("jira/share-plugin/initialiser",["underscore","jquery","jira/share-plugin/share-plugin-dialog","jira/share-plugin/share-user-picker"],function(i,e,a){"use strict";return{init:i.once(function(){var s={};return s.viewIssueDialog=new a(e),s.issueNavDialog=new a(e),e(i.bind(s.viewIssueDialog._initShareDialog,s.viewIssueDialog,"share-entity-popup-viewissue","#jira-share-trigger.viewissue-share")),e(i.bind(s.issueNavDialog._initShareDialog,s.issueNavDialog,"share-entity-popup-issuenav","#jira-share-trigger.issuenav-share")),s})}}),function(i){"use strict";var e=i.init();AJS.namespace("JIRA.JiraSharePlugin.viewIssueDialog",null,e.viewIssueDialog),AJS.namespace("JIRA.JiraSharePlugin.issueNavDialog",null,e.issueNavDialog)}(require("jira/share-plugin/initialiser"));;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:marionette', location = 'lib/backbone/marionette/backbone.marionette-amd.js' */
define("jira/view-issue-plugin/lib/marionette",["backbone","underscore","atlassian/libs/factories/marionette-2.1.0"],function(e,i,n){return n(i,e)});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'viewissue/attachment/attachment-contents-view.js' */
define("jira/view-issue-plugin/attachment/attachment-contents-view",["jira/view-issue-plugin/lib/marionette"],function(t){"use strict";return t.ItemView.extend({template:JIRA.Templates.ViewIssue.attachmentContents,initialize:function(t){this.attachment=t.attachment,this.issueId=t.issueId,this.baseUrl=t.baseUrl},serializeData:function(){return{attachment:this.attachment,issueId:this.issueId,baseUrl:this.baseUrl}}})}),define("jira/attachment/attachment-contents-view",["jira/view-issue-plugin/attachment/attachment-contents-view"],function(t){return t});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'viewissue/attachment/attachment-element.js' */
define("jira/view-issue-plugin/attachment/attachment-element",["jira/util/logger","wrm/context-path","jquery","jira/skate","jira/viewissue/slideshow/slideshow-configuration","jira/view-issue-plugin/lib/marionette","jira/attachment/attachment-contents-view"],function(t,e,n,i,a,o,r){"use strict";function c(i){var a=n(i),c=a.data("attachment-id"),s=a.data("issue-id"),u=e()+"/rest/api/2/attachment/"+c+"/expand/human",l=n.get(u);l.done(function(t){var n=new o.Region({el:a.find(".zip-contents").first()}),i=new r({attachment:t,issueId:s,baseUrl:window.location.protocol+"//"+window.location.host+e()});n.show(i)}),l.error(function(e){t.error(e)})}return i("js-file-attachment",{type:i.type.CLASSNAME,attached:function(e){n(e).find(".expander").one("expandBlock",function(){c(e)}),t.trace("jira.plugins.viewissue.expansion.wired")},events:{"click .attachment-title":function(t,e){if(1===e.which){var n=t.getThumbnailImage();n.length&&(n.click(),e.preventDefault())}}},prototype:{getThumbnailImage:function(){return n(".gallery",this)}}})});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'viewissue/attachment/attachment.soy' */
// This file was automatically generated from attachment.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ViewIssue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ViewIssue == 'undefined') { JIRA.Templates.ViewIssue = {}; }


JIRA.Templates.ViewIssue.attachmentContents = function(opt_data, opt_ignored) {
  var output = '<ol class="archive-expanded">';
  var entries__soy4 = opt_data.attachment.entries;
  var entryList5 = entries__soy4;
  var entryListLen5 = entryList5.length;
  for (var entryIndex5 = 0; entryIndex5 < entryListLen5; entryIndex5++) {
    var entryData5 = entryList5[entryIndex5];
    output += JIRA.Templates.ViewIssue.attachmentArchiveEntry(soy.$$augmentMap(opt_data, {entry: entryData5}));
  }
  output += ((opt_data.attachment.totalEntryCount == 0) ? '<li><div class="aui-message aui-message-warning" style="display: inline-block"><p>' + soy.$$escapeHtml("This archive is either corrupt, empty or not an archive at all") + '.</p></div></li>' : '') + '</ol><span class="zip-contents-trailer">' + ((entries__soy4.length < opt_data.attachment.totalEntryCount) ? '<span class="limit-info">' + soy.$$escapeHtml(AJS.format("Showing {0} of {1} items",entries__soy4.length,opt_data.attachment.totalEntryCount)) + ' </span>' : '');
  var attachmentUrl__soy20 = soy.$$escapeHtml(opt_data.baseUrl) + '/secure/attachment/' + soy.$$escapeHtml(opt_data.attachment.id) + '/';
  output += '<a href="' + soy.$$escapeHtml(attachmentUrl__soy20) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.attachment.mediaType) + ':' + soy.$$escapeHtml(opt_data.attachment.name) + ':' + soy.$$escapeHtml(attachmentUrl__soy20) + '">' + soy.$$escapeHtml("Download Zip") + '</a></span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.attachmentContents.soyTemplateName = 'JIRA.Templates.ViewIssue.attachmentContents';
}


JIRA.Templates.ViewIssue.attachmentArchiveEntry = function(opt_data, opt_ignored) {
  var output = '';
  var entryUrl__soy37 = soy.$$escapeHtml(opt_data.baseUrl) + '/secure/attachmentzip/unzip/' + soy.$$escapeHtml(opt_data.issueId) + '/' + soy.$$escapeHtml(opt_data.attachment.id) + '%5B' + soy.$$escapeHtml(opt_data.entry.index) + '%5D/';
  var entryDownloadUrl__soy49 = soy.$$filterNoAutoescape(opt_data.entry.mediaType) + ':' + soy.$$filterNoAutoescape(opt_data.entry.path) + ':' + soy.$$filterNoAutoescape(entryUrl__soy37);
  output += '<li class="archive-entry" data-entry-index="' + soy.$$escapeHtml(opt_data.entry.index) + '"><div class="attachment-thumb"><a href="' + soy.$$escapeHtml(entryUrl__soy37) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(entryDownloadUrl__soy49) + '"' + JIRA.Templates.ViewIssue.tagFilePreview({id: opt_data.attachment.id + '/' + opt_data.entry.index, title: opt_data.entry.label, mimeType: opt_data.entry.mediaType}) + '>' + JIRA.Templates.ViewIssue.renderAttachmentIcon({mimetype: opt_data.entry.mediaType, baseurl: opt_data.baseUrl}) + '</a></div><a class="file-path" href="' + soy.$$escapeHtml(entryUrl__soy37) + '" title="' + soy.$$escapeHtml(opt_data.entry.path) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(entryDownloadUrl__soy49) + '"' + JIRA.Templates.ViewIssue.tagFilePreview({id: opt_data.attachment.id + '/' + opt_data.entry.index, title: opt_data.entry.label, mimeType: opt_data.entry.mediaType}) + '>' + soy.$$escapeHtml(opt_data.entry.label) + '</a><span class="attachment-size">' + soy.$$escapeHtml(opt_data.entry.size) + '</span></li>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.attachmentArchiveEntry.soyTemplateName = 'JIRA.Templates.ViewIssue.attachmentArchiveEntry';
}
;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:draggableattachment', location = 'viewissue/initDraggableAttachment.js' */
define("jira/view-issue-plugin/init-draggable-attachment",["jquery"],function(a){a.event.props.push("dataTransfer"),a("[draggable=true]").live("dragstart",function(e){var t=a(this),i=e.dataTransfer;i.effectAllowed="copy",i.dropEffect="copy",i.setData("DownloadURL",t.data("downloadurl")),t.find("img").length||i.setDragImage(t.closest("li").find("img:visible")[0],8,8)})});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:analytics', location = 'viewissue/analytics.js' */
define("jira/view-issue-plugin/analytics",["jira/analytics","jquery"],function(i,s){"use strict";var n=s(document);n.on("click","#subtasks-bulk-operation",function(){i.send({name:"jira.bulk.move.click.subtasks-bulk-operation"})}),n.on("click","#subtasks-open-issue-navigator",function(){i.send({name:"jira.bulk.move.click.subtasks-open-issue-navigator"})})});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:controller-subtasks', location = 'viewissue/subtasks/subtasks.js' */
require(["jquery","wrm/data","wrm/context-path","jira/analytics","jira/issuetable"],function(n,i,t,e,r){var o=function(n){return n.position.original!==n.position.current},a=function(n){return n.position.current<n.position.original},s=function(i){return n(i.row).parent().find("tr .stsequence div")},u=function(n){var i=s(n),t=n.position;return a(n)?i.slice(t.current+1,t.original+1):i.slice(t.original,t.current)};i.claim("com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters",function(i){r.onTable(function(r){var c=t()+i.url.replace("{issueId}",JIRA.Issue.getIssueId());n.get(c).success(function(c){c&&(r.on(r.Events.ROW_DRAG_COMPLETED,function(c){o(c)&&(n.ajax({url:t()+i.url.replace("{issueId}",JIRA.Issue.getIssueId()),type:"POST",method:"POST",accept:"application/json",contentType:"application/json",data:JSON.stringify({original:c.position.original,current:c.position.current}),dataType:"json"}).success(function(){[].slice.call(s(c)).forEach(function(i,t){n(i).html(t+1+".")})}).fail(function(){console.error("Unable to store updated issues position"),r.dragging.cancel()}),e.send({name:"com.atlassian.jira.view-issue-plugin.subtasks.drag.and.drop",data:{direction:a(c)?"up":"down",rowsCount:s(c).length,rowsUpdated:u(c).length}}))}),r.dragging.enable())})})},function(){console.warn("Unable to read data from WRM")})});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:linkingmodule-js', location = 'viewissue/links/links-container.js' */
define("jira/view-issue-plugin/links/links-container",["jira/util/formatter","wrm/context-path","jira/ajs/ajax/smart-ajax","jira/skate","jquery"],function(n,e,i,t,a){"use strict";function l(n){var e=n.data("remote-link-id");e&&n.data("requires-async-loading")&&s(e,n.attr("id"))}function s(t,l){i.makeRequest({error:function(){var e=a(document.getElementById(l)),i=e.parents("*[data-default-link-icon]").data("default-link-icon");e.find(".link-loading").removeClass("link-loading").addClass("link-loading-failed").html("Failed to load"),e.find(".link-throbber").append(a("<img width='16' height='16' title='' alt='' />").attr("src",i))},success:function(n){a(document.getElementById(l)).find(".link-content").html(n)},url:e()+"/rest/viewIssue/1/remoteIssueLink/render/"+t})}return t("links-container",{type:t.type.CLASSNAME,attached:function(n){a(n).find("dd:not(.collapsed-link)").each(function(n,e){l(a(e))})},events:{"click #show-more-links-link":function(n,e,i){e.preventDefault();var t=a(n);t.find(i).parent().hide(),t.find(".collapsed-links-list").removeClass("collapsed-links-list"),t.find("dd.collapsed-link").each(function(n,e){var i=a(e);l(i),i.removeClass("collapsed-link")})}}})});;
;
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:initialiser', location = 'viewissue/initViewIssue.js' */
require(["jira/view-issue-plugin/attachment/attachment-element","jira/view-issue-plugin/init-draggable-attachment","jira/view-issue-plugin/links/links-container","jira/view-issue-plugin/analytics"]);;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:loading-indicator', location = 'js/util/loading-indicator.js' */
define("quick-edit/util/loading-indicator",["jira/loading/loading","jira/flag"],function(b,d){var c=AJS.dim;var a=AJS.undim;return{showLoadingIndicator:function(){c();b.showLoadingIndicator()},hideLoadingIndicator:function(e){a();b.hideLoadingIndicator();if(e){d.showErrorMsg(null,"The Jira server could not be contacted. This may be a temporary glitch or the server may be down.")}}}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-edit-issue-bootstrap', location = 'js/init/edit-bootstrap-wrm.js' */
require(["jquery","underscore","wrm/require","quick-edit/util/loading-indicator","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle"],function(i,h,e,f,b){var d=function(){b.disable();f.showLoadingIndicator()};var c=function(){f.hideLoadingIndicator(true);b.enable()};var g;var a=function(l){l.preventDefault();d();var k="wr!com.atlassian.jira.jira-quick-edit-plugin:quick-edit-issue";var j=e([k]);j.then(function(){var n=require("quick-edit/init/edit");if(!g){g=n.initDialog()}g._events.trigger.simpleClick.call(g,l,i(l.target));b.enable()},function m(){c()})};i(document).delegate(".issueaction-edit-issue","click",a)});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:hipchat-user-link-support', location = 'user/hipchat-user-link.js' */
AJS.toInit(function(e){var b={removeLink:AJS.contextPath()+"/rest/hipchat/integration/latest/oauth2"};var c="com.atlassian.plugins.base-hipchat-integration-plugin";var k=WRM.data instanceof Function?WRM.data:WRM.data.claim;var i=k(c+":hipchat-user-link-support.user-link-context");function a(){var l=window.location;var m=AJS.contextPath();var o=l.pathname;if(o.indexOf(m)===0){o=o.substr(m.length)}var n=l.search;if(n){n=n.substr(1)}return{path:o,query:n}}function g(l){window.location.assign(l)}function f(m){if(m){var l=m.attr("href");if(l!==undefined&&l.length>1&&l.indexOf("#")===0){return l.substr(1)}}return""}var j=function(){var l=e("<div></div>");l.css({position:"fixed",left:"50%",top:"50%"});e("body").append(l);l.spin("large")};var d=function(m){var n=a();var l={url:i.beginOauth,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({redirect:n.path,redirectQuery:n.query,redirectFragment:m&&m.target&&f(e(m.target))})};e.ajax(l).done(g);m&&m.preventDefault&&m.preventDefault();j()};e(document).on("click",".hipchat-user-link",d);var h=function(m){var l={url:b.removeLink,type:"DELETE",contentType:"application/json"};e.ajax(l).always(function(){window.location.reload()});m&&m.preventDefault&&m.preventDefault();j()};e(document).delegate(".hipchat-user-unlink","click",h);window.HipChat=window.HipChat||{};window.HipChat.UserLink=window.HipChat.UserLink||{};window.HipChat.UserLink.context=i;window.HipChat.UserLink.linkUser=d;window.HipChat.UserLink.unlinkUser=h});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:hipchat-links-support', location = 'links/hipchat-links.js' */
(function(e){var g="HIPCHAT_NATIVE_LINK_ENABLED";function d(){return AJS.Cookie.read(g)==="true"}function f(i){var j=document.createElement("a");j.href=i;return j.hostname}function h(i,j){return i+(c(i,"/")?"":"/")+j}function c(j,i){return j.indexOf(i,j.length-i.length)!==-1}function b(){var i=d()?"inapp":"web";var k=navigator.platform.toUpperCase().indexOf("MAC")>=0?"native.enabled":"native.disabled";var j="notifications.hipchat.link.clicked."+i+"."+k;AJS.trigger("analyticsEvent",{name:j})}function a(j,i){var k=2;while(k>0&&j.prop("tagName").toLowerCase()!==i.toLowerCase()){j=j.parent();k--}return j}e(document).on("click",".hipchat-room-link-url",function(k){k.preventDefault();var l=a(e(k.target),"A");var i=l.data("api-url");var j=l.data("room-id");if(d()){window.location="hipchat://"+f(i)+"/room/"+j}else{window.open(h(i,"chat/room/"+j),"hipchat")}b()});e(document).on("click",".hipchat-user-link-url",function(k){k.preventDefault();var l=a(e(k.target),"A");var i=l.data("api-url");var j=l.data("user-id");if(d()){window.location="hipchat://"+f(i)+"/user/"+j}else{window.open(h(i,"chat/user/"+j),"hipchat")}b()})})(AJS.$);;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin-api:ajs-amd', location = 'lib/amd/ajs-amd.js' */
define("ajs",function(){return AJS});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin-api:wrm-amd', location = 'lib/amd/wrm-amd.js' */
define("wrm/context-path",function(){return AJS.contextPath});define("wrm/data",function(){var a=function(){};if(WRM){if(typeof WRM.data==="function"){a=WRM.data}else{if(WRM.data&&typeof WRM.data.claim==="function"){a=WRM.data.claim}}}return{claim:a}});define("wrm",function(){if(WRM.data instanceof Function){WRM.data.claim=WRM.data}return WRM});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin-api:backbone-amd', location = 'lib/amd/backbone-amd.js' */
define("backbone",function(){return Backbone});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin-api:jquery-amd', location = 'lib/amd/jquery-amd.js' */
define("jquery",function(){return AJS.$});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin-api:underscore-amd', location = 'lib/amd/underscore-amd.js' */
define("underscore",function(){return _});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:configure-integration-data', location = 'admin/configure-integration-data.js' */
define("hipchat/admin/configure-integration-data",["jquery"],function(f){var e="com.atlassian.plugins.base-hipchat-integration-plugin";var d="configure-integration-data";var c="configure-integration";var a=WRM.data instanceof Function?WRM.data:WRM.data.claim;var b=a(e+":"+d+"."+c);return b});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:connection-status-resources', location = 'feature/connectionstatus/connectionstatus.soy' */
// This file was automatically generated from connectionstatus.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace HipChat.Templates.Configuration.ConnectionStatus.
 */

if (typeof HipChat == 'undefined') { var HipChat = {}; }
if (typeof HipChat.Templates == 'undefined') { HipChat.Templates = {}; }
if (typeof HipChat.Templates.Configuration == 'undefined') { HipChat.Templates.Configuration = {}; }
if (typeof HipChat.Templates.Configuration.ConnectionStatus == 'undefined') { HipChat.Templates.Configuration.ConnectionStatus = {}; }


HipChat.Templates.Configuration.ConnectionStatus.status = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<h6 class="hipchat-connection-status-container">' + ((opt_data.label) ? soy.$$escapeHtml(opt_data.label) : soy.$$escapeHtml("Connection status")) + '<span class="hipchat-connection-status"></span></h6>';
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.ConnectionStatus.status.soyTemplateName = 'HipChat.Templates.Configuration.ConnectionStatus.status';
}


HipChat.Templates.Configuration.ConnectionStatus.lozenge = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ' class="aui-lozenge' + soy.$$escapeHtml(opt_data.type ? ' aui-lozenge-' + opt_data.type : '') + soy.$$escapeHtml(opt_data.isSubtle ? ' aui-lozenge-subtle' : '') + '">' + ((opt_data.maxLength) ? soy.$$truncate(soy.$$escapeHtml(opt_data.text), opt_data.maxLength, true) : soy.$$escapeHtml(opt_data.text)) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.ConnectionStatus.lozenge.soyTemplateName = 'HipChat.Templates.Configuration.ConnectionStatus.lozenge';
}


HipChat.Templates.Configuration.ConnectionStatus.connectedStatus = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.ConnectionStatus.lozenge({text: "Connected", type: 'success', isSubtle: true, extraClasses: opt_data.extraClasses});
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.ConnectionStatus.connectedStatus.soyTemplateName = 'HipChat.Templates.Configuration.ConnectionStatus.connectedStatus';
}


HipChat.Templates.Configuration.ConnectionStatus.partialConnectivityStatus = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.ConnectionStatus.lozenge({text: "Limited", type: 'current', isSubtle: true, extraClasses: opt_data.extraClasses});
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.ConnectionStatus.partialConnectivityStatus.soyTemplateName = 'HipChat.Templates.Configuration.ConnectionStatus.partialConnectivityStatus';
}


HipChat.Templates.Configuration.ConnectionStatus.unknownStatus = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.ConnectionStatus.lozenge({text: "Unknown", type: '', isSubtle: true, extraClasses: opt_data.extraClasses});
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.ConnectionStatus.unknownStatus.soyTemplateName = 'HipChat.Templates.Configuration.ConnectionStatus.unknownStatus';
}


HipChat.Templates.Configuration.ConnectionStatus.notConnectedStatus = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.ConnectionStatus.lozenge({text: "Not connected", type: 'error', isSubtle: true, extraClasses: opt_data.extraClasses});
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.ConnectionStatus.notConnectedStatus.soyTemplateName = 'HipChat.Templates.Configuration.ConnectionStatus.notConnectedStatus';
}


HipChat.Templates.Configuration.ConnectionStatus.oauthFailureStatus = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.ConnectionStatus.lozenge({text: "Oauth Failure", type: 'error', isSubtle: true, extraClasses: opt_data.extraClasses});
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.ConnectionStatus.oauthFailureStatus.soyTemplateName = 'HipChat.Templates.Configuration.ConnectionStatus.oauthFailureStatus';
}


HipChat.Templates.Configuration.ConnectionStatus.connectivityTooltip = function(opt_data, opt_ignored) {
  return '<div class="hipchat-connection-status-tooltip"><h6>' + soy.$$escapeHtml(opt_data.title) + '</h6><p>' + soy.$$filterNoAutoescape(opt_data.description) + '</p>' + ((opt_data.link) ? '<p><a href="' + soy.$$escapeHtml(opt_data.link.href) + '">' + soy.$$escapeHtml(opt_data.link.text) + '</a></p>' : '') + '</div>';
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.ConnectionStatus.connectivityTooltip.soyTemplateName = 'HipChat.Templates.Configuration.ConnectionStatus.connectivityTooltip';
}
;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:connection-status-resources', location = 'feature/connectionstatus/connectionstatus.js' */
require(["jquery"],function(f){var c={CONNECTED:"connectedStatus",PARTIAL_CONNECTIVITY:"partialConnectivityStatus",NOT_CONNECTED:"notConnectedStatus",UNKNOWN:"unknownStatus",OAUTH_FAILURE:"oauthFailureStatus"};var h={CONNECTED:{status:HipChat.Templates.Configuration.ConnectionStatus.connectedStatus},PARTIALLY_CONNECTED:{status:HipChat.Templates.Configuration.ConnectionStatus.partialConnectivityStatus,toolTipTitle:"Connectivity issues",toolTipDescription:"HipChat cannot connect to your JIRA server - it may be behind a firewall. \u003cbr\u003e You can still receive messages from JIRA in HipChat, but some functionality (such as Issue Preview) may not work."},NO_CONNECTION:{status:HipChat.Templates.Configuration.ConnectionStatus.notConnectedStatus,toolTipTitle:"Connectivity issues",toolTipDescription:"Could not connect to the HipChat server. Integration features will be unavailable until the connection is restored."},UNKNOWN:{status:HipChat.Templates.Configuration.ConnectionStatus.unknownStatus,toolTipTitle:"\u00af\\_(\u30c4)_/\u00af",toolTipDescription:"We cannot determine the connection status. You\'re probably using an old version of HipChat."},OAUTH_FAILURE:{status:HipChat.Templates.Configuration.ConnectionStatus.oauthFailureStatus,toolTipTitle:"Error authenticating with HipChat",toolTipDescription:"The integration may have been removed from HipChat. Please remove and reinstall the integration in JIRA."}};function e(j){var i=h[j];if(i===undefined){i=c.UNKNOWN}return i}function d(j){var i=e(j);return i.status({extraClasses:i.toolTipDescription!==undefined?"has-tooltip":""})}function a(){return f.ajax({url:AJS.contextPath()+"/rest/hipchat/integration/1.0/connection-status",cache:false,dataType:"json",type:"GET"})}function g(k,j){var i=e(j);if(i.toolTipDescription!==undefined){AJS.InlineDialog(k,"connection-status-tooltip",function(n,l,o){var m=HipChat.Templates.Configuration.ConnectionStatus.connectivityTooltip({title:i.toolTipTitle,description:i.toolTipDescription,link:i.toolTipLink});n.html(m);o()},{onHover:true,gravity:"w"})}}function b(i){var j=f(".hipchat-connection-status");j.html(d(i));g(j,i)}AJS.toInit(function(j){var i=j(".hipchat-connection-status");if(i.length>0){i.spin();a().done(function(k){b(k)}).fail(function(){b("UNKNOWN")}).always(function(){i.spinStop()})}})});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:integration-steps-resources', location = 'feature/invites/invite-hipchat-enabler.js' */
define("hipchat/invite/enabler",["jquery"],function(f){var h="hipchat-invite-visited";var g=null;var d=false;function e(){if(!g){var k="com.atlassian.plugins.base-hipchat-integration-plugin";var i=WRM.data instanceof Function?WRM.data:WRM.data.claim;g=i(k+":integration-steps-resources.enable-invite")}if(!g.inviteToHipChatEnabled){return}var j=g.isInvitationsToGroupAllowedURI;f.ajax(j,{type:"GET"}).done(function(l){var m=f("#hipchat-invite-button");m.click(c);if(l&&l.free){m.removeClass("hidden");a(m)}else{f("#hipchat-integration-invite-step-normal-text").hide({complete:function(){f("#hipchat-integration-invite-step-unable-text").show()}})}})}function c(){try{AJS.Cookie.save(h,"true")}catch(i){d=true}}function b(){try{var i=AJS.Cookie.read(h);return i}catch(j){d=true}}function a(j){if(AJS.HelpTip&&!b()&&!d){var i=new AJS.HelpTip({id:"hipchat-invite-user-help",title:"Invite users to HipChat",bodyHtml:"If you would like to invite users in the future, click here.",anchor:j});i.show();i.view.popup.addClass("hipchat-invite-user-help")}}return{enableInviteButtonIfFreePlan:e}});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:integration-steps-resources', location = 'feature/integrationsteps/integrationsteps.js' */
require(["hipchat/invite/enabler"],function(a){AJS.toInit(function(c){var d=c(".hipchat-integration-steps");d.on("mapping-added.integration-steps",function(){d.addClass("complete");a.enableInviteButtonIfFreePlan()});var b=c("#inviteButtonWaitingForMapping").val();if(b==="false"){a.enableInviteButtonIfFreePlan()}})});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:invites-soy-resources', location = 'feature/invites/invite-hipchat-client.soy' */
// This file was automatically generated from invite-hipchat-client.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace HipChat.Templates.Configuration.
 */

if (typeof HipChat == 'undefined') { var HipChat = {}; }
if (typeof HipChat.Templates == 'undefined') { HipChat.Templates = {}; }
if (typeof HipChat.Templates.Configuration == 'undefined') { HipChat.Templates.Configuration = {}; }


HipChat.Templates.Configuration.inviteeList = function(opt_data, opt_ignored) {
  return '<ul class="hipchat-invitee-list"></ul>';
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.inviteeList.soyTemplateName = 'HipChat.Templates.Configuration.inviteeList';
}


HipChat.Templates.Configuration.invitee = function(opt_data, opt_ignored) {
  var output = '';
  var userUrl__soy5 = '' + HipChat.Templates.Invite.Support.userLinkUrl(opt_data);
  output += '<li class="hipchat-invitee" data-username="' + soy.$$escapeHtml(opt_data.username) + '"><img class="hipchat-invitee-avatar" src="' + soy.$$escapeHtml(opt_data.avatarUrl) + '"><div class="lines"><div class="line hipchat-invitee-name-container" title="' + soy.$$escapeHtml(opt_data.fullname) + '"><a href="' + soy.$$escapeHtml(userUrl__soy5) + '" class="hipchat-invitee-name invitee-line-1" target="_blank">' + soy.$$escapeHtml(opt_data.fullname) + '</a></div><div class="line"><span data-invite-processing="running" class="aui-lozenge aui-lozenge-current aui-lozenge-subtle hidden">' + soy.$$escapeHtml("inviting...") + '</span>' + ((opt_data.email) ? '<div class="email-container" title="' + soy.$$escapeHtml(opt_data.email) + '"><span class="email">' + soy.$$escapeHtml(opt_data.emailDomain) + '</span></div>' : '<span>&nbsp;</span>') + '<span class="aui-lozenge aui-lozenge-current aui-lozenge-subtle" style="display:none"></span><span class="aui-lozenge aui-lozenge-success aui-lozenge-subtle" style="display:none"></span></div></div><div class="icon-holder"><button class="remove-invite-button aui-button aui-button-link">' + aui.icons.icon({useIconFont: true, icon: 'remove'}) + '</button></div><div class="status-icon-holder"><span class="aui-icon aui-icon-small aui-iconfont-approve success"> </span><span class="aui-icon aui-icon-small aui-iconfont-error failure"> </span></div></li>';
  return output;
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.invitee.soyTemplateName = 'HipChat.Templates.Configuration.invitee';
}
;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:resources', location = 'admin/configure-hipchat.js' */
require(["hipchat/admin/configure-integration-data"],function(a){AJS.toInit(function(g){var d=g("#hipchat-integration-configuration").val();var k=window.localStorage;if(d){var j={self:g("#hipchat-route-config").val(),serverPing:g("#hipchat-route-check-server-connectivity").val(),clientPing:g("#hipchat-route-check-client-connectivity").val(),beginInstall:g("#hipchat-route-begin-install").val(),completeInstall:g("#hipchat-route-complete-install").val(),installableUrl:g("#hipchat-route-installable-url").val(),uninstall:g("#hipchat-route-uninstall").val(),redirectUrl:g("#hipchat-route-redirectUrl").val()};var e={screenshotResource:g("#hipchat-server-resource-screenshot").val(),screenshotResource2x:g("#hipchat-server-resource-screenshot-2x").val(),uninstalling:g("#hipchat-server-resource-uninstalling").val()};var l=HipChat.Templates.Configuration;var b=g("#hipchat-configuration-panel");if(a.linkId){var i=a.linkId}var h=(function(){var m;return{installing:function(){g("#hipchat-installing .hipchat-install-message").spin("large")},error:function(n){b.html(l.error({msg:n}))},uninstallError:function(n){if(n.status==401){b.html(l.uninstallPermissionError())}else{b.html(l.uninstallConnectionError())}},confirmUninstall:function(){var n=g.Deferred();if(!m){m=new AJS.Dialog(600,300,"hipchat-remove-link-dialog");m.addHeader("Remove integration","remove-warning");m.addPanel("Message Panel",l.removeLinkMessage());m.addButton("Remove integration",function(){m.hide();h.uninstall();n.resolve()});m.addCancel("Cancel",function(){m.hide();n.reject()})}m.show();return n.promise()},uninstall:function(){b.html(l.uninstalling({uninstallingImage:e.uninstalling}));g("#hipchat-uninstalling .hipchat-install-message").spin("large")},reinstallationSucceeded:function(){try{var n=require("aui/flag");n({type:"success",title:"HipChat Integration updated",persistent:false,body:"Your HipChat Integration has been successfully updated to the latest version, enjoy the new features."})}catch(o){}}}})();var f={serverPing:function(){return g.ajax(j.serverPing,{type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({serverUrl:""})})},serverPingToUrl:function(m){return g.ajax(j.serverPing,{type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({serverUrl:m})})},beginInstall:function(n,m){return g.ajax(j.beginInstall,{type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({installableUrl:n,reinstall:m})})},completeInstall:function(m){return g.ajax(j.completeInstall,{type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({installableUrl:m})})},remove:function(m){return g.ajax({url:j.uninstall+"/"+m,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({})})},reinstall:function(m){return g.ajax({url:j.uninstall+"/"+m,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({reinstall:true})})},removeDefault:function(){return g.ajax(j.uninstall,{type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({})})}};var c={initialize:function(m){switch(m){case"installing":c.installing();break;case"installed":c.installed(i);break;case"uninstalling":c.uninstalling();break;case"reinstall":c.reinstalling();break;case"configure":default:c.configure()}},redirect:function(m){window.location.replace(m)},navigate:function(m){window.location.assign(m)},configure:function(){f.serverPing().done(function(){g("#hipchat-install").removeAttr("disabled")}).fail(function(){g("#hipchat-server-failure").removeClass("hidden")}).always(function(){g("#hipchat-loading").hide()});g("#hipchat-install").click(function(n){n.preventDefault();if(g(this).attr("aria-disabled")){return}g(this).attr("aria-disabled","true");AJS.trigger("analyticsEvent",{name:"notifications.hipchat.server.registration.started",data:{}});f.beginInstall(undefined,false).done(c.navigate)});g("#enable-btf-install").click(function(n){n.preventDefault();window.onbeforeunload=null;m()});AJS.trigger("analyticsEvent",{name:"notifications.hipchat.server.discovered",data:{}});function m(){g(".hipchat-install-form").toggleClass("hipchat-btf");g("#btf-url").focus();g("#btf-install").click(function(o){g("#btf-error").hide();o.preventDefault();var n=g("#btf-url").val();var p=/^https?:\/\//i;if(!p.test(n)){n="https://"+n}f.serverPingToUrl(n).done(function(){f.beginInstall(n,false).done(c.navigate)}).fail(function(){g("#btf-error").show()})})}g("#btf-install-cancel").click(function(n){n.preventDefault();g(".hipchat-install-form").toggleClass("hipchat-btf")})},installing:function(){h.installing();f.completeInstall(j.installableUrl).done(function(m){c.redirect(j.self)}).error(h.error)},installed:function(){g("#hipchat-uninstall").click(function(m){m.preventDefault();if(g(this).attr("aria-disabled")){return}h.confirmUninstall().done(function(){f.remove(i).done(c.redirect).error(h.uninstallError)})});g(".hipchat-reinstall").click(function(){if(g(this).attr("aria-disabled")){return}var m=g(this);m.attr("aria-disabled",true);m.find(".aui-icon-wait").css("display","inline-block");f.reinstall(i).done(c.redirect).error(h.uninstallError)});if(k.getItem("hipchat-reinstalling")){h.reinstallationSucceeded();k.removeItem("hipchat-reinstalling")}},uninstalling:function(){f.removeDefault().done(function(){c.redirect(j.redirectUrl)}).error(h.uninstallError)},reinstalling:function(){function o(r){var u=window.location.search.substring(1);var t=u.split("&");for(var s=0;s<t.length;s++){var v=t[s].split("=");if(v[0]==r){if(v.length>1){return v[1]}else{return null}}}}var q=o("installable_url");if(q===undefined){console.log("ERROR: the 'installable_url' parameter was missing from the request URL:'"+window.location.search+"'")}else{var n=decodeURIComponent(q);var m=document.createElement("a");m.href=n;var p=m.protocol+"//"+m.host;f.serverPingToUrl(p).done(function(){k.setItem("hipchat-reinstalling",true);f.beginInstall(p,true).done(c.navigate)}).fail(function(){g("#btf-error").show()})}}};c.initialize(d)}})});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:resources', location = 'admin/configure-hipchat.soy' */
// This file was automatically generated from configure-hipchat.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace HipChat.Templates.Configuration.
 */

if (typeof HipChat == 'undefined') { var HipChat = {}; }
if (typeof HipChat.Templates == 'undefined') { HipChat.Templates = {}; }
if (typeof HipChat.Templates.Configuration == 'undefined') { HipChat.Templates.Configuration = {}; }


HipChat.Templates.Configuration.installing = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.connected({id: 'hipchat-installing', installHeading: "Integrating with HipChat", installImage: opt_data.installingImage, showRemove: false});
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.installing.soyTemplateName = 'HipChat.Templates.Configuration.installing';
}


HipChat.Templates.Configuration.uninstalling = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.connected({id: 'hipchat-uninstalling', installHeading: "Removing HipChat Integration", installImage: opt_data.uninstallingImage, showRemove: false});
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.uninstalling.soyTemplateName = 'HipChat.Templates.Configuration.uninstalling';
}


HipChat.Templates.Configuration.connected = function(opt_data, opt_ignored) {
  return '<div id="' + soy.$$escapeHtml(opt_data.id) + '">' + ((opt_data.showRemove) ? HipChat.Templates.Configuration.uninstallButton(null) : '') + ((opt_data.installImage) ? '<img src="' + soy.$$escapeHtml(opt_data.installImage) + '" />' : '') + ((opt_data.installHeading) ? '<h5>' + soy.$$escapeHtml(opt_data.installHeading) + '</h5>' : '') + '<hr/><div class="hipchat-install-message">' + ((opt_data.installMessageHtml) ? '<p>' + soy.$$filterNoAutoescape(opt_data.installMessageHtml) + '</p>' : '') + '</div></div>';
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.connected.soyTemplateName = 'HipChat.Templates.Configuration.connected';
}


HipChat.Templates.Configuration.error = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.message({type: 'error', title: "Error encountered creating your hipchat link", content: soy.$$escapeHtml("Something went wrong integrating JIRA and HipChat. We probably had trouble connecting to the HipChat server. Check that the connection between your server and HipChat is working correctly and try again.") + '<p>' + soy.$$escapeHtml("Try uninstalling the existing integration from HipChat before trying again.") + '</p>'});
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.error.soyTemplateName = 'HipChat.Templates.Configuration.error';
}


HipChat.Templates.Configuration.uninstallConnectionError = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.message({type: 'error', title: "Error encountered removing your hipchat link", content: '' + soy.$$escapeHtml("Something went wrong removing the integration in HipChat. We probably had trouble connecting to the HipChat server. You may need to remove the integration from HipChat\'s admin page. The link has been removed from JIRA.")});
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.uninstallConnectionError.soyTemplateName = 'HipChat.Templates.Configuration.uninstallConnectionError';
}


HipChat.Templates.Configuration.uninstallPermissionError = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.message({type: 'error', title: "Error encountered removing your hipchat link", content: '' + soy.$$escapeHtml("You do not have permission to remove this integration, please contact your site admin if you wish to remove the HipChat integration.")});
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.uninstallPermissionError.soyTemplateName = 'HipChat.Templates.Configuration.uninstallPermissionError';
}


HipChat.Templates.Configuration.refreshToken = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.message({type: 'error', title: 'Setting up your HipChat link', content: '' + soy.$$escapeHtml("Error encountered creating your hipchat link")});
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.refreshToken.soyTemplateName = 'HipChat.Templates.Configuration.refreshToken';
}


HipChat.Templates.Configuration.message = function(opt_data, opt_ignored) {
  return '<div class="aui-message ' + soy.$$escapeHtml(opt_data.type) + ' ' + ((opt_data.altClass) ? soy.$$escapeHtml(opt_data.altClass) : '') + '"><p class="title"><span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span><strong>' + soy.$$escapeHtml(opt_data.title) + '</strong></p>' + ((opt_data.content) ? '<p>' + soy.$$filterNoAutoescape(opt_data.content) + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.message.soyTemplateName = 'HipChat.Templates.Configuration.message';
}


HipChat.Templates.Configuration.removeLinkMessage = function(opt_data, opt_ignored) {
  return '<div class=\'remove-link-message\'>' + soy.$$filterNoAutoescape("\u003cp>Are you sure you want to completely remove your HipChat integration?\u003c\/p>\u003cp>The JIRA plugin will not be removed from HipChat.\u003c\/p>") + '</div>';
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.removeLinkMessage.soyTemplateName = 'HipChat.Templates.Configuration.removeLinkMessage';
}


HipChat.Templates.Configuration.installButton = function(opt_data, opt_ignored) {
  return '<div class="hipchat-install-form"><button class="aui-button aui-button-primary" type="submit" id="hipchat-install" disabled="disabled">' + soy.$$escapeHtml("Connect HipChat") + '</button><div id="hipchat-loading"><span class="aui-icon aui-icon-wait"></span> ' + soy.$$escapeHtml("Checking your server can see HipChat") + '</div><div id="hipchat-server-failure" class="hidden"><p><span class="aui-icon aui-icon-small aui-iconfont-warning hipchat-failure-marker"></span> ' + soy.$$escapeHtml("Unable to reach HipChat") + '</p><p class="details">' + soy.$$escapeHtml("If JIRA does not have access to the internet you won\'t be able to integrate with HipChat.") + '</p></div><div><button class="cancel aui-link aui-button aui-button-link" id="enable-btf-install">' + soy.$$escapeHtml("Or, if you\x27re using HipChat Server, click here.") + '</button>' + HipChat.Templates.Configuration.btfInstall(null) + '</div></div>';
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.installButton.soyTemplateName = 'HipChat.Templates.Configuration.installButton';
}


HipChat.Templates.Configuration.btfInstall = function(opt_data, opt_ignored) {
  return '<form class="aui top-label" id="hipchat-btf-install"><fieldset class="top-label"><div class="field-group top-label"><label for="hipchat-btf-url" style="text-align:center">' + soy.$$escapeHtml("First things first, let us know where we can find your HipChat Server:") + '</label><input class="text long-field" type="text" id="btf-url" name="btf-url" data-aui-notification-field="" placeholder="http://www.hipchat.com"></input><div class="error" id="btf-error">' + soy.$$escapeHtml("We couldn\x27t reach your server") + '</div></div></fieldset><div class="buttons-container"><button class="aui-button aui-button-primary" type="submit" id="btf-install">' + soy.$$escapeHtml("Connect HipChat") + '</button><a class="cancel" href="#" id="btf-install-cancel">Cancel</a></div></form>';
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.btfInstall.soyTemplateName = 'HipChat.Templates.Configuration.btfInstall';
}


HipChat.Templates.Configuration.uninstallButton = function(opt_data, opt_ignored) {
  return '<button class="aui-button aui-button-subtle" id="hipchat-uninstall"><span class="aui-icon aui-icon-small aui-iconfont-delete">Configure</span> ' + soy.$$escapeHtml("Remove integration") + '</button>';
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.uninstallButton.soyTemplateName = 'HipChat.Templates.Configuration.uninstallButton';
}


HipChat.Templates.Configuration.inviteButton = function(opt_data, opt_ignored) {
  return '<input type="hidden" id="inviteButtonWaitingForMapping" value="' + soy.$$escapeHtml(opt_data.inviteButtonWaitingForMapping) + '"/><a class="aui-button aui-button-subtle hidden" id="hipchat-invite-button" href="' + soy.$$escapeHtml(opt_data.adminInviteUrl) + '"><span class="aui-icon aui-icon-small aui-iconfont-space-personal">Invite</span> ' + soy.$$escapeHtml("Invite users to HipChat") + '</a>';
};
if (goog.DEBUG) {
  HipChat.Templates.Configuration.inviteButton.soyTemplateName = 'HipChat.Templates.Configuration.inviteButton';
}
;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:invites-resources', location = 'feature/invites/invite-hipchat-service.js' */
define("hipchat/invite/service",["hipchat/admin/configure-integration-data","jquery","underscore"],function(o,h,r){var f=24;var p=12;var i=[];var e=h({});var b={};var a={inviteUsersURL:AJS.contextPath()+"/rest/hipchat/integration/latest/users/invite"};function g(){return f}function s(){return i}function k(t){return r.find(i,function(u){if(u.username==t){return u}})}function q(t){t.username=h("<div/>").text(t.username).html();var u=k(t.username);if(!r.contains(i,u)){i.push(t);e.trigger("user-added",t);j()}}function c(u){var t=k(u);if(t.isSuggested){AJS.trigger("analyticsEvent",{name:"notifications.hipchat.user.invite.remove.suggested",data:{}})}if(r.contains(i,t)){i=r.filter(i,function(v){return v.username!=u});e.trigger("user-removed",t.username);j()}}function j(){var t=i.length;if(t>=f){h("#invite-users-picker-container").hide();h("#inviation-limit-message").show()}else{h("#inviation-limit-message").hide();h("#invite-users-picker-container").show()}}function l(){i=[];e.off()}function m(){AJS.$("#invite-users-picker-container input[type='text']").prop("disabled",true);AJS.$("#hipchat-invite-form").on("select2-opening",function(v){v.preventDefault()});b.invitationProcessingStartedRenderer.call();var u=r.map(s(),function(v){return v.username});var t=JSON.stringify({"user-names":u});h.ajax({url:a.inviteUsersURL,type:"POST",contentType:"application/json",data:t}).done(function(w){for(var x=0;x<w.resultSet.length;x++){var v=w.resultSet[x];b.resultRenderer(v.userName,v.errorMessage)}b.renderDoneStep.call()}).fail(function(y){var x="Error";var v=AJS.escapeHtml(y.responseText);var w=AJS.escapeHtml(AJS.format("Reason: {1} ({0})",y.status,y.statusText));b.errorRenderer.call(this,x,v,w)}).always(function(){b.invitationProcessingCompletedRenderer.call()})}function d(){var t=h("#admin-configuration-page-uri").val();window.location=t}function n(t,u,x,v,w){b.invitationProcessingStartedRenderer=t;b.invitationProcessingCompletedRenderer=u;b.resultRenderer=x;b.renderDoneStep=v;b.errorRenderer=w;a.findInviteUsersURL=h("#hipchat-find-invite-users-uri").val()+"?max-results="+p;h.ajax(a.findInviteUsersURL,{type:"GET"}).done(function(E){var D=i.length>0;if(D){}else{if(E.users){var C=E.users.length;var A=Math.min(C,p);for(var y=0;y<A;y++){var z=E.users[y];var B={username:z.name,avatarUrl:z.extraSmallPictureURI,fullname:z.displayName,email:z.email,isSuggested:true};q(B)}}}})}return{getMaxInvitationsPerRequest:g,getUsers:s,addUser:q,removeUser:c,clear:l,initialise:n,sendInvitations:m,handleDone:d,events:e}});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:invites-resources', location = 'feature/invites/invite-hipchat.js' */
require(["hipchat/invite/service"],function(a){AJS.toInit(function(i){var e=i("#hipchat-invite-form");var m=HipChat.Templates.Configuration.invitee;var r=e.find(".hipchat-invitee-list");var f=e.find(".send-invites-button");var l=e.find(".cancel");var h=e.find(".done-button");var o=i("#authorize-not-now-link");var p=i("#invite-not-now-link");p.click(function(){AJS.trigger("analyticsEvent",{name:"notifications.hipchat.user.invite.wizard.dropout.invite.notnow",data:{}})});o.click(function(){AJS.trigger("analyticsEvent",{name:"notifications.hipchat.user.invite.wizard.dropout.authorize.notnow",data:{}})});var g=a.getMaxInvitationsPerRequest();i("#invite-explanation-message").html(AJS.format("Inviting your teammates to HipChat creates a HipChat account and sends them an activation email. Note that only {0} invitations can be sent at a time, but you can always return here to invite more users.",g));if(e.length==0){return}window.onbeforeunload=null;e.on("user-picker-user-selected",function(u,t){a.addUser(t)});r.on("click",".remove-invite-button",function(u){u.preventDefault();var t=i(this).closest(".hipchat-invitee");a.removeUser(t.attr("data-username"))});i(".hipchat-invitee-name-container").tipsy({live:true,gravity:"s"});i(".hipchat-invitee .email-container, .hipchat-invitee .aui-lozenge").tipsy({live:true,gravity:"n"});function k(t){var u;if(t&&(u=t.indexOf("@"))&&u>=0){return t.substr(u)}return t}function q(u,t){if(!t.emailDomain){t.emailDomain=k(t.email)}r.append(m(t));f.prop("disabled",false);f.removeAttr("aria-disabled")}function b(u,v){var t=r.find("[data-username='"+v+"']");t.remove();if(!a.getUsers().length){f.prop("disabled",true);f.attr("aria-disabled",true)}}function c(){f.attr("aria-disabled",true);var w=i("[data-invite-processing='idle']");w.addClass("hidden");var v=i("[data-invite-processing='running']");v.removeClass("hidden");var t=i(".email");t.hide();var u=i(".remove-invite-button");u.hide()}function j(){var u=i("[data-invite-processing='running']");u.addClass("hidden");var t=i("[data-invite-processing='idle']");t.removeClass("hidden")}function n(x,w){var v=i("[data-username='"+x+"']");var t=v.find(".aui-lozenge-success");var u=v.find(".aui-lozenge-current");if(w){u.text("Unable to invite");u.show();t.hide();u.tooltip({title:function(){return w}})}else{t.text("sent");t.show();u.hide()}}function d(){f.hide();l.hide();h.show();h.removeAttr("aria-disabled");h.removeAttr("disabled")}function s(v,t,u){var w=i("#invite-banner-messages");w.empty();AJS.messages.error("#invite-banner-messages",{title:v,body:"<p>"+t+"<br/>"+u+"</p>"})}a.events.on("user-added.invite-hipchat",q);a.events.on("user-removed",b);a.initialise(c,j,n,d,s);e.on("submit",function(t){t.preventDefault();a.sendInvitations()});h.click(function(t){t.preventDefault();a.handleDone()})})});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:invites-resources', location = 'feature/invites/user-picker.js' */
define("hipchat/invite/user-picker",["jquery"],function(a){return function(e,d,c){e=a(e);d=a(d);e.auiSelect2({ajax:{url:c.url,dataType:"json",delay:200,data:c.params,results:c.results,cache:true},multiple:true,minimumInputLength:2});e.select2("focus");function b(h){var g=c.choice(h.choice);if(g.always){g.always(function(i){if(!i.isRejected||!i.isRejected()){f(i)}})}else{f(g)}}function f(g){d.trigger("user-picker-user-selected",g);e.select2("val","")}e.on("selected",b)}});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:amd', location = 'js/lib/amd/jira/jira-components-query-amd.js' */
define("hipchat/jira/query-component",function(){return JIRA.Components.Query});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:amd', location = 'js/lib/amd/jira/jira-issues-amd.js' */
define("hipchat/jira/issues/searcher-collection",function(){return JIRA.Issues.SearcherCollection});define("hipchat/jira/issues/query-state-model",function(){return JIRA.Issues.QueryStateModel});define("hipchat/jira/issues/criteria-model",function(){return JIRA.Issues.CriteriaModel});define("hipchat/jira/issues/criteria-view",function(){return JIRA.Issues.CriteriaView});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:amd', location = 'js/lib/amd/hipchat-scopes-provider-amd.js' */
define("hipchat/scopes-provider",function(){return HipChat.ScopesProvider});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:global', location = 'js/base.js' */
define("hipchat/base",["underscore","backbone","exports"],function(b,d,a){if(typeof HipChat==="undefined"||!HipChat){window.HipChat={}}function c(){a.View=d.View;a.Model=d.Model.extend({saveWrapper:function(e){this.trigger("waitingToSave");e.apply(this);this.trigger("saved")},addDebounceSave:function(e){this.save=b.wrap(b.debounce(this.save,e),this.saveWrapper)},traceAjaxRequests:function(j){var i=null;var h=i?"request:"+i:"request";var g=i?"sync:"+i:"sync";var e=i?"error:"+i:"error";var f=this;f.on(h,function(){JIRA.trace("ajax.request.started."+j)},this);f.on(g+" "+e,function(){JIRA.trace("ajax.request.completed."+j)},this)}});a.Collection=d.Collection;a.Events=d.Events}c()});;
;
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin:hipchat-installed-scopes', location = 'install/hipchat-scopes-provider.js' */
(function(){function a(){var e="com.atlassian.plugins.base-hipchat-integration-plugin";var d=WRM.data instanceof Function?WRM.data:WRM.data.claim;var b=d(e+":hipchat-installed-scopes.scopes");function c(f){return b[f]!==undefined}return{hasScope:c}}window.HipChat=window.HipChat||{};window.HipChat.ScopesProvider=a()})();;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:widget-roomselector', location = 'js/widget/roomselector/roommapping-service.js' */
define("hipchat/widget/roomselector/roommapping-service",["wrm/context-path","ajs","jquery","underscore"],function(a,b,e,c){var d=(function(){var q={};var g=[];var m={};function h(){g=c.map(q,function(u){return{id:u.roomId,text:u.roomName,isPrivate:u.isPrivate}});g=c.sortBy(g,function(u){return u.text.toLocaleLowerCase()});c.each(m,function(u){u.apply(null,[g])})}function l(v){var u=e.Deferred();e.ajax({url:a()+"/rest/hipchat/integration/1.0/rooms?roomName="+v,type:"POST",dataType:"json",cache:false}).done(function(w){var x={roomId:w.id,roomName:w.name};s(x);u.resolve(x)}).fail(function(w){u.reject(w)});return u}function s(u){q[u.roomId]=u;h()}function t(u){delete q[u.roomId];h()}function j(u){m[u]=u}function p(u){delete m[u]}function f(u){return q[u]}function o(){return g}var i={createRoom:l,addRoom:s,removeRoom:t,getRoomById:f,getRooms:o,onChange:j,offChange:p};var r=(function(v,u){var w=e.Deferred();if(v){e.ajax({url:a()+"/rest/hipchat/integration/1.0/rooms?projectKey="+(c.isString(u)?u:""),dataType:"json",cache:false}).done(function(x){q=c.object(c.map(x,function(y){return[y.id,{roomId:y.id,roomName:y.name,isPrivate:y["private"]}]}));h(q);w.resolve(i)}).fail(function(x){w.reject(x)})}else{w.resolve(i)}return w.promise()});var n={};var k=function(v,u){if(n[u]===undefined){n[u]=r(v,u)}return n[u]};k.reset=function(){n={}};return k})();return{roomServicePromise:d}});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:widget-roomselector', location = 'js/widget/roomselector/roomselector-view.js' */
define("hipchat/widget/roomselector/roomselector-view",["jquery","backbone","hipchat/widget/roomselector/roommapping-service","hipchat/scopes-provider"],function(f,i,b,a){var d="private-room";var c="public-room";function h(l){var m={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(l).replace(/[&<>"'\/\\]/g,function(n){return m[n]})}function e(){return f("[name='projectKey']").attr("content")}function g(l,m){var n=b.roomServicePromise(true,e());return Class.extend({_formatResponse:function(t,q,s){var p=[];if(t.length>0){var r=new AJS.GroupDescriptor({weight:0,label:l?"All rooms":"Public rooms"});_.each(t,function(v){r.addItem(new AJS.ItemDescriptor({value:v.id,label:v.text,html:h(v.text),title:v.text,meta:{roomId:v.id,roomName:v.roomName||v.text,existing:true},styleClass:v.isPrivate?d:c}))});p.push(r)}if(!l){var u=new AJS.GroupDescriptor({weight:1,footerHtml:JIRA.Templates.HipChat.RoomSelector.loginDropdownFooter({hasManageRoomScope:m})});u.addItem(new AJS.ItemDescriptor({label:"filler",html:"filler",highlighted:true}));p.push(u)}else{if(s){var o=new AJS.GroupDescriptor({weight:1,label:"Create room"});o.addItem(new AJS.ItemDescriptor({value:q,label:q,html:h(q)+"<span class='aui-lozenge aui-lozenge-subtle aui-lozenge-complete'>new</span>",title:q,meta:{roomId:q,roomName:q,existing:false},highlighted:true,styleClass:c}));p.push(o)}}return p},execute:function(q){var p=jQuery.Deferred();var o=this;n.done(function(s){var x=s.getRooms();var t=q.toLocaleLowerCase();var v=false;var u=_.filter(x,function(y){var z=y.text.toLocaleLowerCase();if(z===t){v=true}return z.indexOf(t)>=0});var w=m&&(!v&&t.length>0);var r=o._formatResponse(u,q,w);JIRA.trace("ajax.request.completed.RoomSelector");p.resolve(r,q)}).fail(function(t){if(l&&(t.status==403||t.status==401)){var s=new AJS.Dialog({width:600,height:200,id:"oauth-failure",closeOnOutsideClick:true});s.addHeader("Authentication Failure");s.addPanel("panel 0",JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessage({}));s.show();p.reject(t)}else{var r=new AJS.GroupDescriptor({weight:1,footerHtml:JIRA.Templates.HipChat.RoomSelector.errorDropdownFooter({})});r.addItem(new AJS.ItemDescriptor({label:"filler",html:"filler",highlighted:true}));p.resolve([r],q)}});return p}})}function j(n,l,o){var m=a.hasScope("manage_rooms");return new AJS.SingleSelect({element:n,width:o,suggestionsHandler:g(l,m),submitInputVal:true,matchingStrategy:"(.*)()({0})(.*)"})}var k=i.View.extend({events:{},initialize:function(m){if(!this.$el.length){return}this.roomSelector=j(this.$el,m.loggedIn,m.maxWidth);var l=this;this.roomSelector.model.$element.on("selected",function(o,n){if(n.properties.value!==""){l.roomSelector.$field.addClass(n.properties.styleClass);l.trigger("change")}else{l.roomSelector.$field.removeClass(c).removeClass(d);l.trigger("clear")}});this.roomSelector.model.$element.on("unselect",function(n){l.trigger("clear")})},getSelectedRoom:function(){var m=this.roomSelector.getSelectedDescriptor();var l=JSON.parse(m.properties.meta);return{id:l.roomId,roomName:l.roomName,existing:l.existing}},clearSelectedRoom:function(){this.roomSelector.clear();this.roomSelector._deactivate()}});return k});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:widget-roomselector', location = 'soy/widget/roomselector/roomselector-client.soy' */
// This file was automatically generated from roomselector-client.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.HipChat.RoomSelector.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.HipChat == 'undefined') { JIRA.Templates.HipChat = {}; }
if (typeof JIRA.Templates.HipChat.RoomSelector == 'undefined') { JIRA.Templates.HipChat.RoomSelector = {}; }


JIRA.Templates.HipChat.RoomSelector.loginDropdownFooter = function(opt_data, opt_ignored) {
  return '<div class="hipchat-login-dropdown-footer"><h6>' + soy.$$escapeHtml("Rooms") + '</h6><p>' + ((opt_data.hasManageRoomScope) ? soy.$$filterNoAutoescape("\x3ca href\x3d\x22#\x22 class\x3d\x22hipchat-user-link\x22\x3eConfirm access to your HipChat account\x3c/a\x3e, to view private rooms and create new rooms.") : soy.$$filterNoAutoescape("\x3ca href\x3d\x22#\x22 class\x3d\x22hipchat-user-link\x22\x3eConfirm access to your HipChat account\x3ca/\x3e, to view private rooms.")) + '</p></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.RoomSelector.loginDropdownFooter.soyTemplateName = 'JIRA.Templates.HipChat.RoomSelector.loginDropdownFooter';
}


JIRA.Templates.HipChat.RoomSelector.errorDropdownFooter = function(opt_data, opt_ignored) {
  return '<div class="hipchat-login-dropdown-footer error"><h6>' + soy.$$escapeHtml("Error") + '</h6><p>' + soy.$$escapeHtml("Failed to load the list of rooms from HipChat.") + '</p></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.RoomSelector.errorDropdownFooter.soyTemplateName = 'JIRA.Templates.HipChat.RoomSelector.errorDropdownFooter';
}
;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:widget-roomselector', location = 'soy/issuepanel/issuepanel-client.soy' */
// This file was automatically generated from issuepanel-client.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.HipChat.Project.IssuePanel.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.HipChat == 'undefined') { JIRA.Templates.HipChat = {}; }
if (typeof JIRA.Templates.HipChat.Project == 'undefined') { JIRA.Templates.HipChat.Project = {}; }
if (typeof JIRA.Templates.HipChat.Project.IssuePanel == 'undefined') { JIRA.Templates.HipChat.Project.IssuePanel = {}; }


JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomsDescription = function(opt_data, opt_ignored) {
  var output = '';
  var noOfMentionRooms__soy3 = opt_data.mentionedRooms.length;
  output += ((noOfMentionRooms__soy3 > 0) ? '<a id="hipchat-issue-mentions-list" href="' + soy.$$escapeHtml("" + '/secure/HipChatMentionedRooms.jspa?issueKey=' + opt_data.issueKey) + '"' + ((opt_data.userLoggedIntoHipChat) ? 'class="trigger-dialog-large">' : 'class="trigger-dialog">') : '<span>') + soy.$$escapeHtml(AJS.format("Issue mentioned in {0} {0,choice,0#rooms|1#room|1\x3crooms}",noOfMentionRooms__soy3)) + ((noOfMentionRooms__soy3 > 0) ? '</a>' : '</span>');
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomsDescription.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomsDescription';
}


JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomDetails = function(opt_data, opt_ignored) {
  return '<div class="hipchat-dedicated-room"><div class="hipchat-dedicated-room-icon ' + ((opt_data.justLinked) ? 'success' : '') + '"><span class="aui-icon aui-icon-small aui-iconfont-approve"> </span>' + ((opt_data.dedicatedRoom.privateRoom) ? '<span class="aui-icon private-room"> </span>' : '<span class="aui-icon public-room"> </span>') + '</div><a href="#" class="hipchat-dedicated-room-name public-room hipchat-room-link-url" data-api-url="' + soy.$$escapeHtml(opt_data.dedicatedRoom.apiUrl) + '" data-room-id="' + soy.$$escapeHtml(opt_data.dedicatedRoom.roomId) + '" data-issue-id="' + soy.$$escapeHtml(opt_data.dedicatedRoom.issueId) + '" data-room="' + soy.$$escapeHtml(opt_data.dedicatedRoom.roomId) + '">' + soy.$$escapeHtml(opt_data.dedicatedRoom.name) + '</a>' + ((! opt_data.hideUnlink) ? '<a class="trash-dedicated-room" href="#" title="' + soy.$$escapeHtml("Unlink room") + '"><span class="aui-icon aui-icon-small aui-iconfont-remove-label">Delete</span></a>' : '') + '<div class="hc-button-spinner"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomDetails.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomDetails';
}


JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomForm = function(opt_data, opt_ignored) {
  return '<div class="hipchat-no-dedicated-room">' + ((opt_data.canAssignRoom) ? '<div id="hipchat-dedicated-room-buttons" class="buttons-container">' + ((opt_data.canCreateRoom || opt_data.isAdmin) ? aui.buttons.button({text: "Create a room", extraClasses: 'hipchat-create-dedicated-room hipchat-issue-panel-button'}) : '') + '<a id="hipchat-select-dedicated-room" href="' + soy.$$escapeHtml("" + '/secure/HipChatSelectRoom.jspa?issueKey=' + opt_data.issueKey) + '" class="hipchat-issue-panel-button hipchat-select-dedicated-room trigger-dialog-select-room">' + soy.$$escapeHtml("Choose a room") + '</a><div class="hc-button-spinner"></div></div>' : '<div>' + soy.$$escapeHtml("None") + '</div>') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomForm.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomForm';
}


JIRA.Templates.HipChat.Project.IssuePanel.notLoggedInMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-help aui-help-text hipchat-dedicated-room-not-logged-in"><div class="aui-help-content">' + ((opt_data.action == 'create') ? '<p>' + soy.$$filterNoAutoescape("\x3ca class\x3d\x22hipchat-user-link\x22 href\x3d\x22#create-dedicated-room\x22\x3eConfirm access to your HipChat account\x3c/a\x3e to create a dedicated room for this issue.") + '</p>' : (opt_data.action == 'delete') ? '<p>' + soy.$$filterNoAutoescape("\x3ca class\x3d\x22hipchat-user-link\x22 href\x3d\x22#delete-dedicated-room\x22\x3eConfirm access to your HipChat account\x3c/a\x3e to delete the dedicated room for this issue.") + '</p>' : '') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.notLoggedInMessage.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.notLoggedInMessage';
}


JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessageDedicatedRoom = function(opt_data, opt_ignored) {
  return '<div class="aui-help aui-help-text hipchat-dedicated-room-not-logged-in"><div class="aui-help-content"><p>' + soy.$$filterNoAutoescape("Please \x3ca class\x3d\x22hipchat-user-link\x22 href\x3d\x22#create-dedicated-room\x22\x3ereconfirm access to your HipChat account\x3c/a\x3e.") + '</p></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessageDedicatedRoom.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessageDedicatedRoom';
}


JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-help aui-help-text hipchat-dedicated-room-not-logged-in"><div class="aui-help-content"><p>' + soy.$$filterNoAutoescape("Please \x3ca class\x3d\x22hipchat-user-link\x22 href\x3d\x22\x22\x3ereconfirm access to your HipChat account\x3c/a\x3e.") + '</p></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessage.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessage';
}


JIRA.Templates.HipChat.Project.IssuePanel.cantCreateRoomMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-help aui-help-text hipchat-dedicated-room-not-logged-in"><div class="aui-help-content"><p>' + soy.$$filterNoAutoescape(AJS.format("HipChat integration \x3ca href\x3d\x22{0}\x22\x3ehas to be reinstalled\x3c/a\x3e in order to create dedicated rooms.","" + '/plugins/servlet/hipchat/configure')) + '</p></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.cantCreateRoomMessage.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.cantCreateRoomMessage';
}


JIRA.Templates.HipChat.Project.IssuePanel.invitee = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.invitee({username: opt_data.user.userKey, avatarUrl: opt_data.user.avatarUrl, fullname: opt_data.user.displayName, email: opt_data.user.emailAddress, emailDomain: opt_data.user.emailDomain});
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.invitee.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.invitee';
}
;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:hipchat-viewissue-panel-resources', location = 'soy/invites/hipchat-invite-jira-support.soy' */
// This file was automatically generated from hipchat-invite-jira-support.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace HipChat.Templates.Invite.Support.
 */

if (typeof HipChat == 'undefined') { var HipChat = {}; }
if (typeof HipChat.Templates == 'undefined') { HipChat.Templates = {}; }
if (typeof HipChat.Templates.Invite == 'undefined') { HipChat.Templates.Invite = {}; }
if (typeof HipChat.Templates.Invite.Support == 'undefined') { HipChat.Templates.Invite.Support = {}; }


HipChat.Templates.Invite.Support.userLinkUrl = function(opt_data, opt_ignored) {
  return soy.$$escapeHtml("") + '/secure/ViewProfile.jspa?name=' + soy.$$escapeHtml(opt_data.username);
};
if (goog.DEBUG) {
  HipChat.Templates.Invite.Support.userLinkUrl.soyTemplateName = 'HipChat.Templates.Invite.Support.userLinkUrl';
}
;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:hipchat-viewissue-panel-resources', location = 'soy/issuepanel/issuepanel.soy' */
// This file was automatically generated from issuepanel.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.HipChat.Project.IssuePanel.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.HipChat == 'undefined') { JIRA.Templates.HipChat = {}; }
if (typeof JIRA.Templates.HipChat.Project == 'undefined') { JIRA.Templates.HipChat.Project = {}; }
if (typeof JIRA.Templates.HipChat.Project.IssuePanel == 'undefined') { JIRA.Templates.HipChat.Project.IssuePanel = {}; }


JIRA.Templates.HipChat.Project.IssuePanel.hipChatPanel = function(opt_data, opt_ignored) {
  return '<div class="hipchat-issue-panel" data-issue-key="' + soy.$$escapeHtml(opt_data.issueKey) + '">' + ((! opt_data.hipChatConfigured) ? JIRA.Templates.HipChat.Project.IssuePanel.hipChatNotConfigured(opt_data) : (opt_data.jirauser && ! opt_data.hipChatUserName) ? soy.$$filterNoAutoescape("\x3ca href\x3d\x22#\x22 class\x3d\x22hipchat-user-link\x22\x3eConfirm access to your HipChat account\x3c/a\x3e for more information.") + '<p>' : (opt_data.privateRoom && opt_data.hipChatUserName && ! opt_data.personalToken) ? soy.$$filterNoAutoescape("\x3ca href\x3d\x22#\x22 class\x3d\x22hipchat-user-link\x22\x3eConfirm access to your HipChat account\x3c/a\x3e for more information.") + '<p>' : '<div id="hipchat-issue-panel-rooms-container" data-logged-in="' + soy.$$escapeHtml(opt_data.personalToken) + '" data-can-create-room="' + soy.$$escapeHtml(opt_data.canCreateRoom) + '" data-can-assign-room="' + soy.$$escapeHtml(opt_data.canAssignRoom) + '" data-hipchat-configured="' + soy.$$escapeHtml(opt_data.hipChatConfigured) + '"' + ((opt_data.hipChatUserName) ? 'data-hipchat-username="' + soy.$$escapeHtml(opt_data.hipChatUserName) + '"' : '') + ((opt_data.dedicatedRoom) ? 'data-dedicated-room-id="' + soy.$$escapeHtml(opt_data.dedicatedRoom.roomId) + '"' : '') + '><ul class="item-details">' + ((opt_data.privateRoom && opt_data.hipChatUserName && opt_data.personalToken && ! opt_data.userCanAccessPrivateRoom) ? soy.$$escapeHtml("The dedicated room for this issue is private.") + '<p>' : JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomSection({issueKey: opt_data.issueKey, dedicatedRoom: opt_data.dedicatedRoom, loggedIn: opt_data.personalToken, canCreateRoom: opt_data.canCreateRoom, canAssignRoom: opt_data.canAssignRoom, isAdmin: opt_data.isAdmin})) + ((opt_data.connectionStatus == 'CONNECTED') ? JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomSection(null) : '') + '</ul></div>') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.hipChatPanel.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.hipChatPanel';
}


JIRA.Templates.HipChat.Project.IssuePanel.hipChatNotConfigured = function(opt_data, opt_ignored) {
  var output = '<div id="hipchat-issue-panel-rooms-container" data-project-key="' + soy.$$escapeHtml(opt_data.projectKey) + '">';
  var configureUrl__soy62 = '' + ((opt_data.isAdmin) ? soy.$$escapeHtml("" + '/plugins/servlet/hipchat/configure?source=issue-panel') : (opt_data.isProjectAdmin) ? soy.$$escapeHtml("" + '/secure/ConfigureHipChat.jspa?source=issue-panel&projectKey=' + opt_data.projectKey) : '');
  output += '<p>' + soy.$$filterNoAutoescape(AJS.format("Do you want to discuss this issue? Connect to HipChat.",configureUrl__soy62)) + '</p><p>' + aui.buttons.button({id: 'hipchat-issue-panel-configure-button', text: "Connect", extraAttributes: 'data-configure-url="' + configureUrl__soy62 + '"'}) + '<a id="hipchat-issue-panel-hide" href="#">' + soy.$$escapeHtml("Dismiss") + '</a></p></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.hipChatNotConfigured.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.hipChatNotConfigured';
}


JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomSection = function(opt_data, opt_ignored) {
  return '<li id="hipchat-dedicated-room-section"><div class="hipchat-settings-button"><span class="aui-icon aui-icon-small aui-iconfont-configure hidden" id="hipchat-panel-settings"></span></div><dl><dt class="dedicated-room-label">' + soy.$$escapeHtml("Dedicated room") + ':</dt><dd class="hipchat-dedicated-room-content">' + ((opt_data.dedicatedRoom) ? JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomDetails(opt_data) : JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomForm(opt_data)) + '</dd></dl><div id="hipchat-dedicated-room-footer"><div id="hipchat-dedicated-room-errors" class="errors"/><div id="dedicated-room-message-bar" /></div></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomSection.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomSection';
}


JIRA.Templates.HipChat.Project.IssuePanel.selectRoomDialog = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<h1>' + soy.$$escapeHtml("Choose a room") + '</h1>' + ((opt_data.hipChatUserName) ? '<div class="dialog-panel-body"><form class="hipchat-room-select-form aui"><div class="dialog-panel-body-header aui-item">' + soy.$$escapeHtml("Discuss this issue and be notified of any changes in a room of your choice.") + '</div><div class="field-group"><div id="hipchat-dedicated-room-select-container" class="hipchat-room-selector-container" ' + ((opt_data.hipChatUserName) ? 'data-hipchat-username="' + soy.$$escapeHtml(opt_data.hipChatUserName) + '"' : '') + '><select id="hipchat-dedicated-room-select" class="hidden hipchat-room-selector"><option value="" disabled selected>' + soy.$$escapeHtml("Select HipChat room") + '</option></select></div></div><div class="dialog-errors error"></div></form></div><div class="buttons-container form-footer">' + JIRA.Templates.HipChat.Project.IssuePanel.selectRoomDialogButtons(null) + '</div>' : '<div class="dialog-panel-body"><p>' + soy.$$filterNoAutoescape("\x3ca class\x3d\x22hipchat-user-link\x22 href\x3d\x22#choose-room\x22\x3eConfirm access to your HipChat account\x3c/a\x3e to choose a dedicated room for this issue.") + '</p></div>');
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.selectRoomDialog.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.selectRoomDialog';
}


JIRA.Templates.HipChat.Project.IssuePanel.selectRoomDialogButtons = function(opt_data, opt_ignored) {
  return '<div class="buttons"><button class="aui-button submit" id="hipchat-select-dedicated-room-dialog-submit">' + soy.$$escapeHtml("Select") + '</button><button class="aui-button aui-button-link cancel" id="hipchat-select-dedicated-room-dialog-close">' + soy.$$escapeHtml("Cancel") + '</button></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.selectRoomDialogButtons.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.selectRoomDialogButtons';
}


JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomSection = function(opt_data, opt_ignored) {
  return '<li id="hipchat-mentioned-rooms-section"><dl><dt class="mentions-label">' + soy.$$escapeHtml("Other rooms:") + '</dt><dd class="hipchat-mentioned-rooms-content"><span class="aui-icon aui-icon-wait"></span></dd></dl></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomSection.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomSection';
}


JIRA.Templates.HipChat.Project.IssuePanel.loginMentionsDialog = function(opt_data, opt_ignored) {
  return '<div class="hipchat-mentions-dialog-login"><h6>' + soy.$$escapeHtml("HipChat discussions") + '</h6><p>' + soy.$$filterNoAutoescape("\x3ca href\x3d\x22#open-issue-mentions\x22 class\x3d\x22hipchat-user-link\x22\x3eConfirm access to your HipChat account\x3c/a\x3e to see issue mention details") + '</p></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.loginMentionsDialog.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.loginMentionsDialog';
}


JIRA.Templates.HipChat.Project.IssuePanel.errorPage = function(opt_data, opt_ignored) {
  var output = '<h1>' + soy.$$escapeHtml("HipChat discussions") + '</h1><div class="hipchat-mentions-dialog-content">';
  var param141 = '<ul>';
  var errorList143 = opt_data.errors;
  var errorListLen143 = errorList143.length;
  for (var errorIndex143 = 0; errorIndex143 < errorListLen143; errorIndex143++) {
    var errorData143 = errorList143[errorIndex143];
    param141 += '<li>' + soy.$$escapeHtml(errorData143) + '</li>';
  }
  param141 += '</ul>';
  output += aui.message.error({titleContent: "Failed to get issue mention details", content: param141});
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.errorPage.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.errorPage';
}


JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomDialog = function(opt_data, opt_ignored) {
  var output = '<h1>' + soy.$$escapeHtml("HipChat discussions") + '</h1><div class="hipchat-mentions-dialog-content">';
  var roomsMentionsLength__soy155 = opt_data.mentionRooms.length;
  var roomsNotAvailable__soy156 = opt_data.totalRooms - roomsMentionsLength__soy155;
  output += '<h4>' + soy.$$escapeHtml(AJS.format("{0} {0,choice,0#mentions|1#mention|1\x3cmentions} in {1} {1,choice,0#rooms|1#room|1\x3crooms}",opt_data.issueMentions.length,roomsMentionsLength__soy155)) + '</h4>' + ((roomsNotAvailable__soy156 > 0) ? '<h7>' + soy.$$escapeHtml(AJS.format("There are mentions in {0} private room(s) you do not have access to.",roomsNotAvailable__soy156)) + '</h7>' : '') + '<table class="aui"><thead><tr><th id="hipchat-mentioned-author">' + soy.$$escapeHtml("Author") + '</th><th id="hipchat-mentioned-room">' + soy.$$escapeHtml("Room") + '</th><th id="hipchat-mentioned-message">' + soy.$$escapeHtml("Message") + '</th><th id="hipchat-mentioned-date">' + soy.$$escapeHtml("Date") + '</th></tr></thead><tbody>';
  var mentionList174 = opt_data.issueMentions;
  var mentionListLen174 = mentionList174.length;
  for (var mentionIndex174 = 0; mentionIndex174 < mentionListLen174; mentionIndex174++) {
    var mentionData174 = mentionList174[mentionIndex174];
    var mentionMessage__soy175 = mentionData174.message;
    var mentionRoom__soy176 = mentionData174.room;
    var mentionUser__soy177 = mentionData174.user;
    output += '<tr><td headers="hipchat-mentioned-author"><a href="#" class="hipchat-user-link-url" data-user-id="' + soy.$$escapeHtml(mentionUser__soy177.id) + '" data-api-url="' + soy.$$escapeHtml(opt_data.apiUrl) + '">' + soy.$$truncate(soy.$$escapeHtml(mentionUser__soy177.name), 50, true) + '</a></td><td headers="hipchat-mentioned-room"><a href="#" class="hipchat-dedicated-room-name public-room hipchat-room-link-url" data-api-url="' + soy.$$escapeHtml(opt_data.apiUrl) + '" data-room-id="' + soy.$$escapeHtml(mentionRoom__soy176.id) + '">' + soy.$$truncate(soy.$$escapeHtml(mentionRoom__soy176.name), 50, true) + '</a></td><td headers="hipchat-mentioned-message" title="' + soy.$$escapeHtml(mentionMessage__soy175.text) + '">' + soy.$$truncate(soy.$$escapeHtml(mentionMessage__soy175.text), 100, true) + '</td><td headers="hipchat-mentioned-date"><time class="livestamp date user-tz" data-datetime-format="fullAge" datetime="' + soy.$$escapeHtml(mentionData174.localizedMessageDate) + '">$' + soy.$$escapeHtml(mentionData174.localizedMessageDate) + '</time></td></tr>';
  }
  output += '</tbody></table></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomDialog.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomDialog';
}


JIRA.Templates.HipChat.Project.IssuePanel.inviteContributorsDialog = function(opt_data, opt_ignored) {
  return '<h1>' + soy.$$escapeHtml("Invite users to room") + '</h1>' + ((opt_data.hipChatUserName) ? (opt_data.dedicatedRoom) ? '<div class="dialog-panel-body"><form id="hipchat-invite-contributors-form" class="hipchat-invite-contributors-form aui" data-dedicated-room-id="' + soy.$$escapeHtml(opt_data.dedicatedRoom.roomId) + '"><div class="dialog-panel-body-header aui-item">' + JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomDetails({loggedIn: opt_data.hipChatUserName, dedicatedRoom: opt_data.dedicatedRoom, hideUnlink: true, justLinked: false}) + '</div><div id="dedicated-room-invite-users-picker-container" class="field-group dedicated-room-invite-user-field"><label for="dedicated-room-invite-user">' + soy.$$escapeHtml("Search for collaborators") + '</label><input type="hidden" name="dedicated-room-invite-user" id="dedicated-room-invite-user" placeholder="' + soy.$$escapeHtml("Search for collaborators") + '"/><div class="user-picker-errors"></div></div>' + HipChat.Templates.Configuration.inviteeList(null) + '<div class="dialog-errors"></div></form></div><div class="buttons-container form-footer">' + JIRA.Templates.HipChat.Project.IssuePanel.inviteContributorsDialogButtons(null) + '</div>' : '<div class="dialog-panel-body"><p>' + soy.$$escapeHtml("Couldn\x27t find the dedicated room for this issue.") + '</p></div>' : '<div class="dialog-panel-body"><p>' + soy.$$filterNoAutoescape("You cannot invite people without granting JIRA access to your HipChat account.") + '</p></div>');
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.inviteContributorsDialog.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.inviteContributorsDialog';
}


JIRA.Templates.HipChat.Project.IssuePanel.inviteContributorsDialogButtons = function(opt_data, opt_ignored) {
  return '<div class="buttons"><button class="aui-button submit" id="hipchat-invite-contributors-dialog-submit">' + soy.$$escapeHtml("Invite") + '</button><button class="aui-button aui-button-link cancel" id="hipchat-invite-contributors-dialog-close">' + soy.$$escapeHtml("Close") + '</button></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.inviteContributorsDialogButtons.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.inviteContributorsDialogButtons';
}
;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:hipchat-viewissue-panel-resources', location = 'soy/issuepanel/issuepanel-client.soy' */
// This file was automatically generated from issuepanel-client.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.HipChat.Project.IssuePanel.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.HipChat == 'undefined') { JIRA.Templates.HipChat = {}; }
if (typeof JIRA.Templates.HipChat.Project == 'undefined') { JIRA.Templates.HipChat.Project = {}; }
if (typeof JIRA.Templates.HipChat.Project.IssuePanel == 'undefined') { JIRA.Templates.HipChat.Project.IssuePanel = {}; }


JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomsDescription = function(opt_data, opt_ignored) {
  var output = '';
  var noOfMentionRooms__soy3 = opt_data.mentionedRooms.length;
  output += ((noOfMentionRooms__soy3 > 0) ? '<a id="hipchat-issue-mentions-list" href="' + soy.$$escapeHtml("" + '/secure/HipChatMentionedRooms.jspa?issueKey=' + opt_data.issueKey) + '"' + ((opt_data.userLoggedIntoHipChat) ? 'class="trigger-dialog-large">' : 'class="trigger-dialog">') : '<span>') + soy.$$escapeHtml(AJS.format("Issue mentioned in {0} {0,choice,0#rooms|1#room|1\x3crooms}",noOfMentionRooms__soy3)) + ((noOfMentionRooms__soy3 > 0) ? '</a>' : '</span>');
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomsDescription.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomsDescription';
}


JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomDetails = function(opt_data, opt_ignored) {
  return '<div class="hipchat-dedicated-room"><div class="hipchat-dedicated-room-icon ' + ((opt_data.justLinked) ? 'success' : '') + '"><span class="aui-icon aui-icon-small aui-iconfont-approve"> </span>' + ((opt_data.dedicatedRoom.privateRoom) ? '<span class="aui-icon private-room"> </span>' : '<span class="aui-icon public-room"> </span>') + '</div><a href="#" class="hipchat-dedicated-room-name public-room hipchat-room-link-url" data-api-url="' + soy.$$escapeHtml(opt_data.dedicatedRoom.apiUrl) + '" data-room-id="' + soy.$$escapeHtml(opt_data.dedicatedRoom.roomId) + '" data-issue-id="' + soy.$$escapeHtml(opt_data.dedicatedRoom.issueId) + '" data-room="' + soy.$$escapeHtml(opt_data.dedicatedRoom.roomId) + '">' + soy.$$escapeHtml(opt_data.dedicatedRoom.name) + '</a>' + ((! opt_data.hideUnlink) ? '<a class="trash-dedicated-room" href="#" title="' + soy.$$escapeHtml("Unlink room") + '"><span class="aui-icon aui-icon-small aui-iconfont-remove-label">Delete</span></a>' : '') + '<div class="hc-button-spinner"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomDetails.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomDetails';
}


JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomForm = function(opt_data, opt_ignored) {
  return '<div class="hipchat-no-dedicated-room">' + ((opt_data.canAssignRoom) ? '<div id="hipchat-dedicated-room-buttons" class="buttons-container">' + ((opt_data.canCreateRoom || opt_data.isAdmin) ? aui.buttons.button({text: "Create a room", extraClasses: 'hipchat-create-dedicated-room hipchat-issue-panel-button'}) : '') + '<a id="hipchat-select-dedicated-room" href="' + soy.$$escapeHtml("" + '/secure/HipChatSelectRoom.jspa?issueKey=' + opt_data.issueKey) + '" class="hipchat-issue-panel-button hipchat-select-dedicated-room trigger-dialog-select-room">' + soy.$$escapeHtml("Choose a room") + '</a><div class="hc-button-spinner"></div></div>' : '<div>' + soy.$$escapeHtml("None") + '</div>') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomForm.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomForm';
}


JIRA.Templates.HipChat.Project.IssuePanel.notLoggedInMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-help aui-help-text hipchat-dedicated-room-not-logged-in"><div class="aui-help-content">' + ((opt_data.action == 'create') ? '<p>' + soy.$$filterNoAutoescape("\x3ca class\x3d\x22hipchat-user-link\x22 href\x3d\x22#create-dedicated-room\x22\x3eConfirm access to your HipChat account\x3c/a\x3e to create a dedicated room for this issue.") + '</p>' : (opt_data.action == 'delete') ? '<p>' + soy.$$filterNoAutoescape("\x3ca class\x3d\x22hipchat-user-link\x22 href\x3d\x22#delete-dedicated-room\x22\x3eConfirm access to your HipChat account\x3c/a\x3e to delete the dedicated room for this issue.") + '</p>' : '') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.notLoggedInMessage.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.notLoggedInMessage';
}


JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessageDedicatedRoom = function(opt_data, opt_ignored) {
  return '<div class="aui-help aui-help-text hipchat-dedicated-room-not-logged-in"><div class="aui-help-content"><p>' + soy.$$filterNoAutoescape("Please \x3ca class\x3d\x22hipchat-user-link\x22 href\x3d\x22#create-dedicated-room\x22\x3ereconfirm access to your HipChat account\x3c/a\x3e.") + '</p></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessageDedicatedRoom.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessageDedicatedRoom';
}


JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-help aui-help-text hipchat-dedicated-room-not-logged-in"><div class="aui-help-content"><p>' + soy.$$filterNoAutoescape("Please \x3ca class\x3d\x22hipchat-user-link\x22 href\x3d\x22\x22\x3ereconfirm access to your HipChat account\x3c/a\x3e.") + '</p></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessage.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessage';
}


JIRA.Templates.HipChat.Project.IssuePanel.cantCreateRoomMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-help aui-help-text hipchat-dedicated-room-not-logged-in"><div class="aui-help-content"><p>' + soy.$$filterNoAutoescape(AJS.format("HipChat integration \x3ca href\x3d\x22{0}\x22\x3ehas to be reinstalled\x3c/a\x3e in order to create dedicated rooms.","" + '/plugins/servlet/hipchat/configure')) + '</p></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.cantCreateRoomMessage.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.cantCreateRoomMessage';
}


JIRA.Templates.HipChat.Project.IssuePanel.invitee = function(opt_data, opt_ignored) {
  return '' + HipChat.Templates.Configuration.invitee({username: opt_data.user.userKey, avatarUrl: opt_data.user.avatarUrl, fullname: opt_data.user.displayName, email: opt_data.user.emailAddress, emailDomain: opt_data.user.emailDomain});
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Project.IssuePanel.invitee.soyTemplateName = 'JIRA.Templates.HipChat.Project.IssuePanel.invitee';
}
;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:hipchat-viewissue-panel-resources', location = 'js/feature/issuepanel/invitecontributors.js' */
define("hipchat/feature/issuepanel/invitecontributors",["jquery","backbone"],function(b,c){var a=c.Model.extend({defaults:{hipChatUsersMap:{},appUsersMap:{}},initialize:function(){this.attributes.hipChatUsersMap={};this.attributes.appUsersMap={}},url:function(){return AJS.contextPath()+"/rest/hipchat/integrations/1.0/invite/issue/"+this.attributes.issueKey},destroy:function(){var d={data:JSON.stringify(this.toJSON()),contentType:"application/json"};return c.Model.prototype.destroy.call(this,d)}});return a});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:hipchat-viewissue-panel-resources', location = 'js/feature/issuepanel/invitecontributors-view.js' */
define("hipchat/feature/issuepanel/invitecontributors-view",["jquery","backbone","hipchat/base","hipchat/feature/issuepanel/invitecontributors","hipchat/invite/user-picker"],function(e,f,c,d,a){var b=c.View.extend({events:{},initialize:function(g){this.loggedIn=g.loggedIn;this.canCreateRoom=g.canCreateRoom;this.canAssignRoom=g.canAssignRoom;this.isAdmin=g.isAdmin;this.hipChatUserName=g.hipChatUserName;this.issueKey=g.issueKey},close:function(){this.unbind()},openInviteDialog:function(i){var h=this;var g=h.issueKey;if(!h.dialog){h.dialog=new JIRA.FormDialog({id:"hipchat-invite-contributors-dialog",ajaxOptions:{url:AJS.contextPath()+"/secure/HipChatInviteContributors.jspa?issueKey="+g,data:{decorator:"dialog",inline:"false"}},width:400});h.initInviteContributorsDialog(h.dialog)}h.dialog.show()},initInviteContributorsDialog:function(h){var g=this;g.dialogContentReadyCallback=function(j,i){if(i.options.id==="hipchat-invite-contributors-dialog"){g.initializeDialogUi();g.initializeUserPicker();g.initializeContributorsList();e(document).unbind("dialogContentReady",g.dialogContentReadyCallback)}};e(document).bind("dialogContentReady",{},g.dialogContentReadyCallback)},getEmailDomain:function(g){var h;if(g&&(h=g.indexOf("@"))&&h>=0){return g.substr(h)}return g},setInviteButtonStatus:function(){var g=this;var h=g.model.get("hipChatUsersMap");var i=false;var j=Object.keys(h);j.forEach(function(k){if(!h[k].invitedAlready){i=true}});g.$inviteButton.prop("disabled",!i)},addHipChatUser:function(h){var g=this;var i=g.model.get("hipChatUsersMap");if(h.userKey in i){console.log("User "+h.userKey+" is already in the list, ignoring.");return}if(!h.emailDomain){h.emailDomain=g.getEmailDomain(h.emailAddress)}i[h.userKey]=h;g.$inviteeList.append(g.inviteeTemplate({user:h}));g.setInviteButtonStatus()},removeHipChatUser:function(j){var g=this;var i=g.$inviteeList.find("[data-username='"+j+"']");i.remove();var h=g.model.get("hipChatUsersMap");if(!(j in h)){console.log("User "+j+" is not in the list but it is asked to be removed, WTF?");return}h=_.omit(h,j);g.model.set("hipChatUsersMap",h);g.setInviteButtonStatus()},submitInviteContributorsDialog:function(){var i=this;i.$inviteButton.attr("disabled","disabled");i.$userFieldContainer.prop("disabled","disabled");i.dialog.showFooterLoadingIndicator();var k=e("#hipchat-invite-contributors-dialog").find(".dialog-errors");var h=e.Deferred();k.empty();var j=i.model.get("hipChatUsersMap");var m=Object.keys(j);if(!m.length){console.log("No user to be invited but this method is called, WTF?");return}var l=[];m.forEach(function(n){var o=j[n].mentionName;if(!j[n].invitedAlready&&l.indexOf(o)<0){l.push(o)}});i.model.save({mentionNames:l}).done(function(n){h.resolve();i.dialog.hideFooterLoadingIndicator()}).fail(function(n){console.log("An error occurred while making a server-side call to invite contributors.");h.reject(n)});var g=function(p){var o=i.$form.find(".icon-holder");o.each(function(q){e(this).hide()});var n=i.$form.find(".status-icon-holder");n.show();n.each(function(s){var r=e(this);if(!r.data("already-invited")){if(p){r.data("already-invited",true)}var q=e(this).find(".success");var t=e(this).find(".failure");setTimeout(function(){e(q).css("display",p?"inline-block":"none");e(t).css("display",p?"none":"inline-block")},100*s)}})};h.done(function(o){g(true);var n=i.model.get("hipChatUsersMap");var p=Object.keys(n);p.forEach(function(q){n[q].invitedAlready=true});i.model.set("hipChatUsersMap",n);JIRA.trace("hipchat.invite.contributors.successful")}).fail(function(n){g(false);k.empty();k.append(AJS.format("Failed to invite users: {0}",n.statusText));i.$inviteButton.removeAttr("disabled");i.$userFieldContainer.removeAttr("disabled")}).always(function(){i.dialog.hideFooterLoadingIndicator()})},initializeDialogUi:function(){var g=this;g.$form=e("#hipchat-invite-contributors-dialog").find("form");g.$userFieldContainer=g.$form.find("#dedicated-room-invite-users-picker-container");g.$userField=g.$form.find("#dedicated-room-invite-user");g.$closeButton=e("#hipchat-invite-contributors-dialog-close");g.$inviteButton=e("#hipchat-invite-contributors-dialog-submit");g.$inviteeList=g.$form.find(".hipchat-invitee-list");g.inviteeTemplate=JIRA.Templates.HipChat.Project.IssuePanel.invitee;g.$inviteeList.on("click",".remove-invite-button",function(i){i.preventDefault();var h=e(this).closest(".hipchat-invitee");g.removeHipChatUser(h.attr("data-username"))});g.$form.on("user-picker-user-selected",function(i,h){g.addHipChatUser(h)});g.$inviteButton.on("click",function(h){g.submitInviteContributorsDialog()})},initializeContributorsList:function(){var h=this;var g=AJS.Meta.get("issue-key");h.model=new d({issueKey:g});h.setInviteButtonStatus();var j=e("#hipchat-invite-contributors-dialog").find(".dialog-errors");j.empty();var i=h.$form.find(".hc-button-spinner");i.css({display:"inline-block"});i.spin();h.model.fetch({success:function(k){i.spinStop();i.css({display:"none"});h.$inviteeList.empty();k.attributes.hipChatUsers.forEach(function(l){h.addHipChatUser(l)})},error:function(k){i.spinStop();i.css({display:"none"});j.empty();j.append("Failed to fetch list of issue contributors.")}})},initializeUserPicker:function(){var j=this;function h(l){return{maxResults:10,query:l,showAvatar:true}}function g(n,m){var l=_.reduce(n.users,function(o,p){o.push({id:p.name,text:p.displayName,restObj:p});return o},[]);return{results:l}}function k(m){var l=e.Deferred();var o=e("#dedicated-room-invite-users-picker-container").find(".user-picker-errors");o.empty();var n=j.$form.find(".hc-button-spinner");n.css({display:"inline-block"});n.spin();i(m.restObj.key).done(function(p){l.resolve(p)}).always(function(){n.spinStop();n.css({display:"none"})}).fail(function(p){o.empty();o.append("Sorry, this user doesn\'t have a HipChat account.");j.$userField.select2("val","");l.reject(p)});return l.promise()}function i(n){var m=AJS.contextPath()+"/rest/hipchat/integrations/1.0/invite/user/"+n;var l=e.Deferred();e.ajax(m,{type:"GET",dataType:"json"}).done(function(o){if(o.hipChatUser){l.resolve(o)}else{l.reject()}}).fail(function(o){l.reject(o)});return l.promise()}a(j.$userField,j.$form,{url:AJS.contextPath()+"/rest/api/2/user/picker",params:h,results:g,choice:k})}});return b});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:hipchat-viewissue-panel-resources', location = 'js/feature/issuepanel/dedicatedroom.js' */
define("hipchat/feature/issuepanel/dedicatedroom",["jquery","backbone"],function(a,c){var b=c.Model.extend({url:function(){return AJS.contextPath()+"/rest/hipchat/integrations/1.0/dedicatedroom/"},destroy:function(){var d={data:JSON.stringify(this.toJSON()),contentType:"application/json"};this.id=-1;return c.Model.prototype.destroy.call(this,d)}});return b});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:hipchat-viewissue-panel-resources', location = 'js/feature/issuepanel/dedicatedroom-view.js' */
define("hipchat/feature/issuepanel/dedicatedroom-view",["ajs","jquery","backbone","hipchat/base","hipchat/feature/issuepanel/dedicatedroom","hipchat/widget/roomselector/roommapping-service","hipchat/widget/roomselector/roomselector-view","hipchat/feature/issuepanel/invitecontributors","hipchat/feature/issuepanel/invitecontributors-view"],function(f,d,g,j,e,b,i,a,c){var h=j.View.extend({events:{"click .hipchat-create-dedicated-room":"createDedicatedRoom","click a.trigger-dialog-select-room":"openSelectRoomDialog","click .trash-dedicated-room":"unassignDedicatedRoom"},initialize:function(k){this.loggedIn=k.loggedIn;this.canCreateRoom=k.canCreateRoom;this.canAssignRoom=k.canAssignRoom;this.isAdmin=k.isAdmin;this.hipChatUserName=k.hipChatUserName;this.issueKey=k.issueKey},initInviteContributorsView:function(k){var m={issueKey:k};var n=new a(m);var l=_.extend(this.options,{model:n});this.inviteContributorsView=new c(l)},close:function(){if(this.inviteContributorsView){this.inviteContributorsView.close()}if(this.dialogContentReadycallback){d(document).unbind("dialogContentReady",this.dialogContentReadycallback)}this.unbind()},createDedicatedRoom:function(n){var l=this.$(".hipchat-create-dedicated-room");var k=this;if(k.loggedIn&&k.canCreateRoom){l.attr("disabled","disabled");k.createOrAssignDedicatedRoom().done(function(o){JIRA.trace("hipchat.dedicated.room.created");if(!o.privateRoom){k.inviteContributorsView.openInviteDialog(o.roomId)}}).always(function(){l.removeAttr("disabled")})}else{if(!k.loggedIn||!k.canCreateRoom){var m=f.InlineDialog(l,"dedicated-room-not-logged-in-dialog",function(q,o,r){var p;if(!k.canCreateRoom&&k.isAdmin){p=JIRA.Templates.HipChat.Project.IssuePanel.cantCreateRoomMessage({})}else{p=JIRA.Templates.HipChat.Project.IssuePanel.notLoggedInMessage({action:"create"})}q.html(p);r()},k.dialogConfig());m.show(n,l)}}},createOrAssignDedicatedRoom:function(o){var m=this;var l=m.issueKey;var k=d.Deferred();var p=m.$("#hipchat-dedicated-room-errors");m.clearError(p);var n=m.$(".hc-button-spinner");n.css({display:"inline-block"});n.spin();m.model.save({issue_key:l,room_id:o}).done(function(q){var r=JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomDetails({loggedIn:m.loggedIn,dedicatedRoom:q,created:true});m.$(".hipchat-dedicated-room-content").hide().html(r).fadeIn({complete:function(){setTimeout(function(){m.$(".hipchat-dedicated-room-icon").removeClass("success")},1500)}});var s=d("#hipchat-issue-panel-rooms-container");s.data("dedicated-room-id",q.roomId);JIRA.trace("hipchat.dedicated.room.created");m.initInviteContributorsView(m.issueKey);k.resolve(q)}).fail(function(r){if(m.loggedIn&&(r.status==403||r.status==401)){var q=new f.Dialog({width:500,height:300,id:"oauth-failure",closeOnOutsideClick:true});q.addHeader("Authentication Failure");q.addPanel("panel 0",JIRA.Templates.HipChat.Project.IssuePanel.oauthNoLongerValidMessageDedicatedRoom({}));q.show()}else{m.displayError(p,o===undefined?"Failed to create a dedicated room":"We can\'t assign that name. The room name may already be taken or you don\'t have access to it.",r)}k.reject(r)}).always(function(){n.spinStop();n.css({display:"none"});var q=d(".hipchat-create-dedicated-room");q.removeAttr("disabled")});return k},openSelectRoomDialog:function(l){l.preventDefault();var k=l.currentTarget;if(this.dialog===undefined){this.dialog=new JIRA.FormDialog({id:k.id+"-dialog",ajaxOptions:{url:k.href,data:{decorator:"dialog",inline:"false"}},width:400});this.initSelectRoomDialog(this.dialog)}this.dialog.show()},initSelectRoomDialog:function(l){var k=this;k.dialogContentReadycallback=function(r,p){if(p.options.id==="hipchat-select-dedicated-room-dialog"){var o=b.roomServicePromise(true);if(!k.loggedIn){return}var s=new i({el:d("#hipchat-dedicated-room-select"),loggedIn:k.loggedIn,maxWidth:"480px"});var m={roomSelector:s,clearSelectedRoom:function(){this.roomSelector.clearSelectedRoom();this.disableSubmitButton()},enableSubmitButton:function(){var t=this.roomSelector.getSelectedRoom();if(t&&t.id!==""){d("#hipchat-select-dedicated-room-dialog-submit").removeAttr("aria-disabled").removeAttr("disabled")}},disableSubmitButton:function(){d("#hipchat-select-dedicated-room-dialog-submit").attr({"aria-disabled":"true",disabled:""})},roomSelected:function(){return d("#hipchat-select-dedicated-room-dialog-submit").attr("disabled")===undefined},init:function(){this.roomSelector.on("change",this.enableSubmitButton,this);this.roomSelector.on("clear",this.disableSubmitButton,this)}};m.init();var q=function(){l.showFooterLoadingIndicator();var t=d.Deferred();var v=s.getSelectedRoom();if(!v.existing){var u=b.roomServicePromise(true);u.done(function(w){t=w.createRoom(v.roomName);t.fail(function(x){t.reject(x)})}).fail(function(w){t.reject(w)})}else{t.resolve(v)}t.done(function(x){d("#hipchat-select-dedicated-room-dialog-close").click();var w=x.id||x.roomId;k.createOrAssignDedicatedRoom(w).done(function(y){JIRA.trace("hipchat.dedicated.room.selected");if(!y.privateRoom){k.inviteContributorsView.openInviteDialog(y.roomId)}})}).fail(function(x){var w=d("#hipchat-select-dedicated-room-dialog").find(".dialog-errors");var y="We can\'t assign that name. The room name may already be taken or you don\'t have access to it.";k.displayError(w,y,x)}).always(function(){l.hideFooterLoadingIndicator()})};var n=d("#hipchat-select-dedicated-room-dialog").find("form");n.on("before-submit",function(t){t.preventDefault();if(m.roomSelected()){q()}});o.done(function(t){m.disableSubmitButton()}).fail(function(){m.disableSubmitButton()});d("#hipchat-select-dedicated-room-dialog-submit").on("click",q)}};d(document).bind("dialogContentReady",{},k.dialogContentReadycallback)},clearError:function(k){k.hide();k.empty()},displayError:function(l,n,k){l.show();l.empty();var m;if(k.status===503){m="Unable to connect to HipChat."}else{m=n}l.append(m)},unassignDedicatedRoom:function(p){p.preventDefault();var l=this;if(!l.loggedIn){var n=l.$(".trash-dedicated-room");var m=f.InlineDialog(n,"dedicated-room-not-logged-in-dialog",function(s,q,t){var r=JIRA.Templates.HipChat.Project.IssuePanel.notLoggedInMessage({action:"delete"});s.html(r);t()},l.dialogConfig());m.show(p,n)}else{var k=d.Deferred();var o=l.$("#hipchat-dedicated-room-errors");l.clearError(o);l.showSpinner();l.$(".trash-dedicated-room").hide();l.model.destroy().always(function(){l.hideSpinner();var q=l.$(".trash-dedicated-room");q.data("hide-for-progress",false)}).done(function(){l.model=new e({});var q=JIRA.Templates.HipChat.Project.IssuePanel.dedicatedRoomForm({canAssignRoom:l.canAssignRoom,canCreateRoom:l.canCreateRoom,isAdmin:l.isAdmin,issueKey:l.issueKey});l.$(".hipchat-dedicated-room-content").html(q);f.messages.success("#dedicated-room-message-bar",{title:"Success",body:"The HipChat room will no longer receive notifications about this issue.",fadeout:true});JIRA.trace("hipchat.dedicated.room.deleted");k.resolve()}).fail(function(q){l.displayError(o,"Failed to un-assign a dedicated room",q);k.reject(q)});return k}},dialogConfig:function(){return{noBind:true,hideDelay:null}},showSpinner:function(){var k=this.$(".hc-button-spinner");if(k){k.css({display:"inline-block"});k.spin()}},hideSpinner:function(){var k=this.$(".hc-button-spinner");if(k){k.spinStop();k.css({display:"none"})}}});return h});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:hipchat-viewissue-panel-resources', location = 'js/feature/issuepanel/issuemention.js' */
define("hipchat/feature/issuepanel/issuemention",["jquery","backbone"],function(b,c){var a=c.Model.extend({initialize:function(d){},url:function(){return AJS.contextPath()+"/rest/hipchat/integrations/1.0/issue-mentions/"+this.get("issue_key")+"/rooms"},parse:function(d){this.set("issueMentionRooms",d)}});return a});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:hipchat-viewissue-panel-resources', location = 'js/feature/issuepanel/issuemention-view.js' */
define("hipchat/feature/issuepanel/issuemention-view",["jquery","backbone","hipchat/base"],function(c,d,b){var a=b.View.extend({events:{"click a.trigger-dialog-large":"openMentionDialog"},initialize:function(e){this.loggedIn=e.loggedIn;this.canCreateRoom=e.canCreateRoom;this.isAdmin=e.isAdmin;this.issueKey=e.issueKey;this.hipChatUserName=e.hipChatUserName;this.hipChatConfigured=e.hipChatConfigured;this.model.on("sync",this.updateMentionCount,this);this.model.on("sync",this.ready,this);this.model.on("error",this.displayError,this);if(this.hipChatConfigured){this.model.fetch()}},close:function(){this.unbind()},openMentionDialog:function(g){g.preventDefault();var f=g.currentTarget;if(this.dialog===undefined){this.dialog=new JIRA.FormDialog({id:f.id+"-dialog",ajaxOptions:{url:f.href,data:{decorator:"dialog",inline:"false"}},width:900})}this.dialog.show()},updateMentionCount:function(){var e=JIRA.Templates.HipChat.Project.IssuePanel.mentionedRoomsDescription({mentionedRooms:this.model.get("issueMentionRooms"),issueKey:this.issueKey,userLoggedIntoHipChat:this.loggedIn});this.$(".hipchat-mentioned-rooms-content").html(e);JIRA.trace("hipchat.mentioned.rooms.fetched")},ready:function(){this.trigger("ready")},displayError:function(f,h,e){var g=this.$(".hipchat-mentioned-rooms-content");g.empty();g.append("<span class='errors'>"+"Failed to get issue room mention information"+"</span>")}});return a});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:hipchat-viewissue-panel-resources', location = 'js/feature/issuepanel/issuepanel-view.js' */
define("hipchat/feature/issuepanel/issuepanel-view",["jquery","backbone","hipchat/base","hipchat/feature/issuepanel/dedicatedroom","hipchat/feature/issuepanel/dedicatedroom-view","hipchat/feature/issuepanel/issuemention","hipchat/feature/issuepanel/issuemention-view"],function(a,h,k,c,i,d,j){var f="hipchat.inapp.links.first.clicked";var e="hipchat.inapp.links";var b=1;var g=k.View.extend({events:{"click #hipchat-issue-panel-configure-button":"configure","click #hipchat-issue-panel-hide":"dismissPanel"},initialize:function(l){this.initDedicatedView();this.initIssueMentionView();this.initPanelSettings()},initDedicatedView:function(){var n=this.getIssuePanelDetails();var o={};if(n.dedicatedRoomId){o={issue_key:n.issueKey,room_id:n.dedicatedRoomId}}var m=new c(o);var l=_.extend(n,{el:this.$("#hipchat-dedicated-room-section"),model:m});this.dedicatedRoomView=new i(l)},initIssueMentionView:function(){var m=this.getIssuePanelDetails();var l=_.extend({el:this.$("#hipchat-mentioned-rooms-section"),model:new d({issue_key:m.issueKey})},m);this.issueMentionView=new j(l);this.issueMentionView.on("ready",this.ready,this)},close:function(){this.dedicatedRoomView.close();this.issueMentionView.close()},ready:function(){this.trigger("ready")},getIssuePanelDetails:function(){var m=this.$el;var r=m.data("logged-in");var p=m.data("can-create-room");var l=m.data("can-assign-room");var s=AJS.Meta.get("is-admin");var n=m.data("hipchat-username");var q=m.data("dedicated-room-id");var t=m.data("hipchat-configured");var o=AJS.Meta.get("issue-key");return{loggedIn:r,canCreateRoom:p,canAssignRoom:l,isAdmin:s,hipChatUserName:n,dedicatedRoomId:q,hipChatConfigured:t,issueKey:o}},dismissPanel:function(o){o.preventDefault();var n=this.$el;var l=n.data("project-key");var m=this;a.ajax({type:"POST",url:AJS.contextPath()+"/rest/hipchat/integrations/1.0/issuepanel/hide?projectKey="+l,dataType:"json",cache:false}).done(function(){m.close();a("#hipchat-viewissue-panel").remove()}).fail(function(){})},configure:function(m){var l=a(m.currentTarget);window.location=l.data("configure-url")},initPanelSettings:function(){if(navigator.platform.toUpperCase().indexOf("MAC")>=0&&AJS.Meta.get("issue-key")!==undefined){var r=a("#hipchat-panel-settings");if(r===undefined){return}r.removeClass("hidden");r.click(function(s){s.preventDefault();l(a(s.target),false)});a(document).on("click","#hipchat-inapp-links",function(t){var s=a(t.target).is(":checked");AJS.Cookie.save("HIPCHAT_NATIVE_LINK_ENABLED",s);var u="jira.hipchat.integration.issuepanel.native.link."+(s?"enabled":"disabled");AJS.trigger("analyticsEvent",{name:u})});a(document).on("click",".hipchat-room-link-url",function(s){o()});a(document).on("click",".hipchat-user-link-url",function(s){o()});m(r)}var q;function l(s,u){if(!q){AJS.$("#inline-dialog-hipchat-link-dialog").remove();q=AJS.InlineDialog(s,"hipchat-link-dialog",function(w,v,y){var x={isAppLinkEnable:AJS.Cookie.read("HIPCHAT_NATIVE_LINK_ENABLED")==="true"};w.html(JIRA.Templates.HipChat.Config.LinkSettings.enableInAppLinksForHipChat(x));y();return false},{hideDelay:null})}q.show();var t=AJS.contextPath()+"/rest/api/2/mypreferences?key=";a.ajax({url:t+e,contentType:"application/json",cache:false,type:"PUT",data:"true"});if(u){AJS.trigger("analyticsEvent",{name:"jira.hipchat.integration.issuepanel.native.link.discovery"})}p(e,true)}function o(){var s=n(f);if(s==="undefined"||s==="false"){p(f,true);var t=AJS.contextPath()+"/rest/api/2/mypreferences?key="+f;a.ajax({url:t,contentType:"application/json",cache:false,type:"PUT",data:"true"})}}function p(s,t){var v=AJS.Meta.get("remote-user");var u=s+"."+v;AJS.Cookie.save(u,t,b)}function n(s){var u=AJS.Meta.get("remote-user");var t=s+"."+u;return AJS.Cookie.read(t)}function m(u){var t=AJS.contextPath()+"/rest/api/2/mypreferences?key=";var s=n(f);if(s==="true"){if(n(e)==="true"){return}a.ajax({url:t+e,dataType:"json",cache:false}).fail(function(v){if(v.status==404){l(u,true)}}).success(function(v){p(e,true)})}else{if(s===undefined){a.ajax({url:t+f,dataType:"json",cache:false}).success(function(v){p(f,true);m(u)}).fail(function(v){p(f,false)})}}}}});return g});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:hipchat-viewissue-panel-resources', location = 'js/feature/issuepanel/issuepanel-init.js' */
require(["ajs","jquery","jira/util/data/meta","jira/util/events","jira/util/events/types","wrm/context-path","hipchat/feature/issuepanel/issuepanel-view"],function(i,f,c,m,e,g,k){function h(){var n=window.location.hash;if(n==="#choose-room"){f("#hipchat-select-dedicated-room").click();b()}else{if(n==="#create-dedicated-room"){f(".hipchat-create-dedicated-room").click();b()}else{if(n==="#open-issue-mentions"){f("#hipchat-issue-mentions-list").click();b()}else{if(n==="#delete-dedicated-room"){f(".trash-dedicated-room").click()}}}}}function b(){window.location.hash=""}function a(){return new k({el:f("#hipchat-issue-panel-rooms-container")})}var j=null;function l(){d();m.bind(e.ISSUE_REFRESHED,function(){if(j!==null){j.close()}d()})}function d(){var n=c.get("issue-key");if(n){var p=f("#hipchat-issue-panel");var q=f("#hipchat-issue-panel-spinner");var o=f("#hipchat-issue-panel-errors");q.spin();return f.ajax({url:g()+"/rest/hipchat/integrations/1.0/issuepanel/data/"+n,cache:false,dataType:"json",type:"GET"}).done(function(s){var r=JIRA.Templates.HipChat.Project.IssuePanel.hipChatPanel(s);p.html(r);j=a();j.on("ready",h)}).fail(function(r,s){o.append("Error getting HipChat data from JIRA")}).always(function(){q.spinStop()})}}f(function(){l()})});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:hipchat-viewissue-panel-resources', location = 'soy/configure/hipchat-link-dialog.soy' */
// This file was automatically generated from hipchat-link-dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.HipChat.Config.LinkSettings.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.HipChat == 'undefined') { JIRA.Templates.HipChat = {}; }
if (typeof JIRA.Templates.HipChat.Config == 'undefined') { JIRA.Templates.HipChat.Config = {}; }
if (typeof JIRA.Templates.HipChat.Config.LinkSettings == 'undefined') { JIRA.Templates.HipChat.Config.LinkSettings = {}; }


JIRA.Templates.HipChat.Config.LinkSettings.enableInAppLinksForHipChat = function(opt_data, opt_ignored) {
  return '<div class="hipchat-settings-panel"><h6>' + soy.$$escapeHtml("Use the HipChat App") + '</h6><p>' + soy.$$escapeHtml("Would you rather open links in the HipChat application instead of your browser?") + '</p><p></p><input type="checkbox" class="matcher-type" id="hipchat-inapp-links" autocomplete="off" ' + ((opt_data.isAppLinkEnable) ? ' checked' : '') + '/><label for="hipchat-inapp-links">' + soy.$$escapeHtml("Open in the HipChat App") + '</label><p>' + soy.$$filterNoAutoescape("Don\x27t have the app?  \x3ca href\x3d\x22http://hipchat.com/downloads\x22 target\x3d\x22_blank\x22\x3eGet it\x3c/a\x3e!") + '</p></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Config.LinkSettings.enableInAppLinksForHipChat.soyTemplateName = 'JIRA.Templates.HipChat.Config.LinkSettings.enableInAppLinksForHipChat';
}
;
;
/* module-key = 'com.atlassian.jirafisheyeplugin:css', location = 'script/fisheye.js' */
AJS.$(function(){AJS.JFEP=AJS.JFEP||{};var a=function(b){AJS.$(".review-filter",b).live("change",function(d){var f=AJS.$(d.target).val(),c=AJS.$(d.target).is(":checked")?"block":"none";AJS.$(".review-status-"+f).css("display",c)});AJS.$(".tab-content",b).find(".project-activity:gt(0)").addClass("hidden");AJS.$("#activity-filter",b).live("change",function(c){var d=AJS.$("#activity-filter").val();AJS.$(".project-activity").addClass("hidden");AJS.$(".limit-"+d).removeClass("hidden")})};AJS.$("#preview-hide-tab",AJS.$(document)).live("click",function(b){AJS.$("#preview_form").submit();b.preventDefault()});if(JIRA.ViewIssueTabs){JIRA.ViewIssueTabs.onTabReady(a)}else{a(document)}AJS.JFEP.reviewIssueToggle=function(){AJS.$(".review-issue-target").addClass("hidden");AJS.$(".review-issue-trigger").click(function(c){c.preventDefault();var b=AJS.$(this).attr("href");AJS.$(b).toggleClass("hidden")})};AJS.JFEP.ignoreCookieName=function(){var b=AJS.$("#header-details-user-fullname").attr("data-username");if(!b){b="__ANON"}return"JFEP.ignoredAppLinks."+b};AJS.JFEP.ignoreAppLink=function(f){var e;var c=document.cookie;if(c.indexOf(AJS.JFEP.ignoreCookieName()+"=")>-1){var d=new RegExp(AJS.JFEP.ignoreCookieName()+"=([^;]*)");e=d.exec(c)[1]}else{e=""}if(e.indexOf(f)==-1){e+=(e.length>0?"|":"")+f;var b=new Date();b.setDate(b.getDate()+365);document.cookie=AJS.JFEP.ignoreCookieName()+"="+e+"; expires="+b.toUTCString()+"; path="+contextPath}};AJS.JFEP.clearIgnoredAppLinks=function(){var b=new Date();b.setDate(b.getDate()-5);document.cookie=AJS.JFEP.ignoreCookieName()+"=expired;expires="+b.toUTCString()+"; path="+contextPath};AJS.$(".ignore-applink").live("click",function(){var b=AJS.$(this).attr("data-id");AJS.JFEP.ignoreAppLink(b);AJS.$(this).parents(".credentials-required-message").slideUp()});AJS.$(".clear-ignored-applinks").live("click",function(){AJS.JFEP.clearIgnoredAppLinks();document.location.reload(true)});AJS.JFEP.loadMoreChangesets=function(c,b,d,e){jQuery("#more-changesets-action-spinner").show();jQuery("#more-changesets-blurb").hide();JIRA.SmartAjax.makeRequest({url:c+"/rest/tabs/1.0/more-changesets/"+b+d,type:"GET",dataType:"json",contentType:"application/json",complete:function(i,f,h){if(!h.successful){var g=(h.status!==401||h.statusText===JIRA.SmartAjax.SmartAjaxResult.TIMEOUT)?JSON.parse(h.data).errorMessages:JIRA.SmartAjax.buildSimpleErrorContent(h);jQuery(document).trigger(JIRA.SERVER_ERROR_EVENT,g)}else{e(h.data.changesets)}}})}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:create-linked-issue-init', location = '/js/create-linked-issue/create-linked-issue-init.js' */
require(["jquery","wrm/require","quick-edit/util/loading-indicator"],function(e,a,f){var c=function(){f.showLoadingIndicator()};var d=function(){f.hideLoadingIndicator(true)};var b=false;e(document).on("click",".issueaction-create-linked-issue",function(g){g.preventDefault();if(!b){b=true;c();a(["wr!com.atlassian.jira.jira-quick-edit-plugin:create-linked-issue"]).done(function(){var h=require("quick-edit/create-linked-issue/create-linked-issue-form-factory");h().asDialog({id:"create-linked-issue-dialog",windowTitle:"Create linked issue"}).show();b=false}).fail(function(){d();b=false})}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:analytics', location = 'js/editor-analytics.js' */
define("jira/editor/analytics",["jira/analytics","jira/util/logger"],function(a,c){var e="editor.instance.perf.";var d={};d.sendEvent=function(f,g){a.send({name:f,properties:g||{}})};d.mark=function(f){window.performance.mark&&window.performance.mark(f)};d.measure=function(h,g,f){window.performance.measure&&window.performance.measure(h,g,f)};d.oneShotMeasure=function(g,m,j,f){var l=window.performance;if(!l.mark){c.debug("The browser does not support User Timing API");return -1}var k=l.now();var i=l.getEntriesByName(g);var n=i.length&&i[i.length-1];if(!(n instanceof window.PerformanceMark)){c.debug("The mark has not been found");return -1}if(typeof j!=="string"){j=g.replace(/^rte\-/,"")}var h=b(n.startTime,k,m,j);if(!f){l.clearMarks(g)}return h};d.startMeasure=function(){var g=window.performance.now();return{measure:function f(h,i){return b(g,window.performance.now(),i,h)}}};return d;function b(j,h,k,g){var l=h-j;var i=e+g;var f=k||{};f.time=l;d.sendEvent(i,f);return l}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:analytics', location = 'js/editor-analytics-shortcuts.js' */
define("jira/editor/analytics-shortcuts",["jira/editor/analytics","jira/editor/tinymce"],function(b,c){var a=function(d){this.editor=d;d.on("keydown",this._handle.bind(this))};a.prototype._handle=function(f){var d=String.fromCharCode(f.keyCode);if(c.util.VK.metaKeyPressed(f)){switch(d){case"B":b.sendEvent("editor.instance.shortcut.bold");break;case"I":b.sendEvent("editor.instance.shortcut.italic");break;case"U":b.sendEvent("editor.instance.shortcut.underline");break;case"Z":b.sendEvent("editor.instance.shortcut.undo");break;case"Y":b.sendEvent("editor.instance.shortcut.redo");break;case"0":b.sendEvent("editor.instance.shortcut.paragraph");break;case"1":b.sendEvent("editor.instance.shortcut.heading1");break;case"2":b.sendEvent("editor.instance.shortcut.heading2");break;case"8":b.sendEvent("editor.instance.shortcut.code");break;case"9":b.sendEvent("editor.instance.shortcut.quote");break;case"K":b.sendEvent("editor.instance.shortcut.links");break}}if(f.shiftKey){switch(d){case"2":b.sendEvent("editor.instance.shortcut.mention");break}}};return a});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:constants', location = 'js/editor-constants.js' */
define("jira/editor/constants",[],function(){return{EventSources:{SHORTCUT:"shortcut",BUTTON:"button",UNKNOWN:"unknown"},EventTypes:{ADD:"add",UNDO:"undo",REDO:"redo",CLEAR:"clear"},Context:{DIALOG:"dialog",COMMENT:"comment",UNKNOWN:"unknown"},Modes:{TEXT:"source",VISUAL:"wysiwyg"},SupportedImagesRegexp:/\.(bmp|gif|jpg|jpeg|png|tiff|webp)$/i,LEFT_WHITESPACE_MATCHER:/^\s+/,RIGHT_WHITESPACE_MATCHER:/\s+$/,CLASS_COVER:"richeditor-cover",CLASS_LOADING:"richeditor-loading",EVENT_CHANGE:"richeditor:change",EVENT_OPERATION:"toolbar-operation",EVENT_OPERATION_COLOR:"toolbar-operation-color",EVENT_OPERATION_ATTACHMENT:"toolbar-operation-attachment"}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:registry', location = 'js/api/editor-registry-entry.js' */
define("jira/editor/registry/entry",["underscore","jquery","jira/editor/constants"],function(c,e,d){var b=d.Modes;function a(i,h,g){var f=e.Deferred();this._rteInstance=f;this._editorRegistry=g;this.id=i;this.currentMode=undefined;this.textArea=h;this.toolbar=this._findToolbar(h);this.rteInstance=f.promise()}c.extend(a.prototype,{isVisualMode:function(){return this.currentMode===b.VISUAL},isTextMode:function(){return this.currentMode===b.TEXT},applyIfTextMode:function(f){return this._applyIfMode(b.TEXT,f)},applyIfVisualMode:function(f){return this._applyIfMode(b.VISUAL,f)},onSwitch:function(f){this._editorRegistry.on("switch::"+this.id,f);return this},onUnregister:function(f){this._editorRegistry.once("unregister::"+this.id,f);return this},onSwitchToText:function(f){this._editorRegistry.on("switch:"+b.TEXT+":"+this.id,f);return this},onSwitchToVisual:function(f){this._editorRegistry.on("switch:"+b.VISUAL+":"+this.id,f);return this},_applyIfMode:function(f,g){if(this.currentMode===f){g(this)}return this},_findToolbar:function(g){var f=g.parentNode;var h=f.parentNode;return h.querySelector("div.wiki-edit-toolbar")}});return a});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:registry', location = 'js/api/editor-registry.js' */
define("jira/editor/registry",["underscore","backbone","jira/editor/constants","jira/editor/registry/entry"],function(d,f,e,b){var c=e.Modes;function a(){this._instances={}}d.extend(a.prototype,f.Events,{getEntry:function(g){return this._instances[g]},_registerTextMode:function(h){if(!h){return}var i=this._getTextAreaId(h);var g=new b(i,h,this);this._register(g,c.TEXT)},_registerVisualMode:function(k){if(!k){return}var i=this._findTextArea(k);var j=this._getTextAreaId(i);var h=this.getEntry(j);var g=!!h;if(g){this._resolveRTEInstance(h,k);this._switchMode(i,c.VISUAL)}else{h=new b(j,i,this);this._resolveRTEInstance(h,k);this._register(h,c.VISUAL)}},_findTextArea:function(i){var h=i.element;var g=h.getContainer().parent().get(0);return g.querySelector("textarea:last-of-type")},_getTextAreaId:function(h){var g=h.getAttribute("data-editor-id");if(!!g){return g}g=d.uniqueId(new Date().getTime()+"-");h.setAttribute("data-editor-id",g);return g},_register:function(g,h){g.currentMode=h;this._instances[g.id]=g;this._triggerEvents("register",g)},_resolveRTEInstance:function(g,h){if(g._rteInstance.isResolved()||!h){return}g._rteInstance.resolve(h)},_switchMode:function(i,h){var j=this._getTextAreaId(i);var g=this.getEntry(j);if(!g||g.currentMode===h){return}g.currentMode=h;this._triggerEvents("switch",g)},_unregister:function(h){var i=this._getTextAreaId(h);var g=this.getEntry(i);if(!g){return}delete this._instances[i];this._triggerEvents("unregister",g)},_triggerEvents:function(g,h){this.trigger(g,h);this.trigger(g+":"+h.currentMode,h);this.trigger(g+":"+h.currentMode+":"+h.id,h);this.trigger(g+"::"+h.id,h)}});return new a()});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:editor-tags', location = 'soy/editor-tags.soy' */
// This file was automatically generated from editor-tags.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Editor.Tags.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Editor == 'undefined') { JIRA.Editor = {}; }
if (typeof JIRA.Editor.Tags == 'undefined') { JIRA.Editor.Tags = {}; }
if (typeof JIRA.Editor.Tags.Templates == 'undefined') { JIRA.Editor.Tags.Templates = {}; }


JIRA.Editor.Tags.Templates.image = function(opt_data, opt_ignored) {
  return '<img src="' + soy.$$escapeHtml(opt_data.source) + '" data-filename="' + soy.$$escapeHtml(opt_data.filename) + '" ' + ((opt_data.width) ? 'width="' + soy.$$escapeHtml(opt_data.width) + '"' : '') + ' ' + ((opt_data.height) ? 'height="' + soy.$$escapeHtml(opt_data.height) + '"' : '') + ' ' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' ' + ((opt_data.vspace) ? 'vspace="' + soy.$$escapeHtml(opt_data.vspace) + '"' : '') + ' />';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.image.soyTemplateName = 'JIRA.Editor.Tags.Templates.image';
}


JIRA.Editor.Tags.Templates.mentionlink = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml("") + '/secure/ViewProfile.jspa?name=' + soy.$$escapeUri(opt_data.username) + '" class="user-hover" rel="' + soy.$$escapeHtml(opt_data.username) + '" title="' + soy.$$escapeHtml("Follow link") + '">' + soy.$$escapeHtml(opt_data.displayname) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.mentionlink.soyTemplateName = 'JIRA.Editor.Tags.Templates.mentionlink';
}


JIRA.Editor.Tags.Templates.attachedImage = function(opt_data, opt_ignored) {
  return '<img style="border: 0px solid black" src="' + soy.$$escapeHtml(opt_data.source) + '" data-filename="' + soy.$$escapeHtml(opt_data.filename) + '">';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.attachedImage.soyTemplateName = 'JIRA.Editor.Tags.Templates.attachedImage';
}


JIRA.Editor.Tags.Templates.attachedFile = function(opt_data, opt_ignored) {
  return '<span class="nobr"><a title="' + soy.$$escapeHtml(opt_data.title) + '" href="' + soy.$$escapeHtml(opt_data.href) + '" data-filename="' + soy.$$escapeHtml(opt_data.filename) + '">' + soy.$$escapeHtml(opt_data.filename) + '<sup><img class="rendericon" width="7" height="7" border="0" align="absmiddle" alt="" src="/jira/images/icons/link_attachment_7.gif"></sup></a></span>';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.attachedFile.soyTemplateName = 'JIRA.Editor.Tags.Templates.attachedFile';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:toggle', location = 'js/ui/editor-toggle-tabs.js' */
define("jira/editor/ui/toggle-tabs",["jira/editor/constants","jira/editor/analytics","jira/editor/toggle","jira/lib/class","backbone","aui/tabs","underscore","jquery"],function(b,g,c,a,h,f,i,e){var j=b.Modes;var d=a.extend({init:function(k){this.$parent=e(k).parent(".wiki-edit-content");this.rendered=new e.Deferred();c.getMode().always(function(l){this.renderTabs(l)}.bind(this));this.hideTooltip=i.debounce(this.hideTooltip,750)},renderTabs:function(k){this.activeMode=k;this.$tabs=e(aui.tabs({menuItems:[{text:"Visual",url:"#",mode:j.VISUAL},{text:"Text",url:"#",mode:j.TEXT}].map(function(l){return i.extend(l,{url:"#",extraAttributes:'data-mode="'+l.mode+'"',isActive:k===l.mode})}),paneContent:"",extraClasses:"editor-toggle-tabs"}));this.$tabs.appendTo(this.$parent).find(".menu-item").on("tabSelect",this.onTabSelect.bind(this));this.$tooltip=e(aui.labels.label({text:"",extraClasses:"editor-toggle-tooltip"})).appendTo(this.$parent);f.setup();this.rendered.resolve(this.$tabs)},getTab:function(){return this.$tabs.find(".menu-item").filter(function(k,l){return e(l).data("mode")===j.VISUAL})},onTabSelect:function(l,k){var m=k.tab.parent(".menu-item").data("mode");if(m&&m!==this.activeMode){this.activeMode=m;this.trigger("change",m);c.setMode(m);this.showTooltip(m);this.hideTooltip();g.sendEvent("editor.instance.switch.change");g.sendEvent("bundled.editor.instance.switch.change")}},getMode:function(){var k=new e.Deferred();this.rendered.then(function(l){var m=l.find(".menu-item.active-tab").data("mode");if(m){k.resolve(m)}else{k.reject()}}.bind(this));return k.promise()},setMode:function(k){this.rendered.then(function(l){l.find(".menu-item").removeClass("active-tab").filter(function(m,n){return e(n).data("mode")===k}).addClass("active-tab");this.activeMode=k;this.showTooltip(k);this.hideTooltip()}.bind(this))},enable:function(){this.$tabs.removeClass("aui-tabs-disabled").find("a").removeAttr("tabindex")},disable:function(){this.$tabs.addClass("aui-tabs-disabled").find("a").attr("tabindex",-1)},showTooltip:function(l){var k=l===j.VISUAL?"Visual mode":"Text mode";this.$tooltip.text(k).addClass("visible")},hideTooltip:function(){this.$tooltip.removeClass("visible")},isVisible:function(){if(!this.$tabs){return}var k=this.$tabs[0].getBoundingClientRect();return k&&e(document.elementFromPoint(k.left+k.width/2,k.top+k.height/2)).parents().is(this.$tabs)}}).extend(h.Events);return d});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:toggle', location = 'js/editor-toggle.js' */
define("jira/editor/toggle",["jira/featureflags/feature-manager","jira/editor/constants","jira/data/cookie","jquery"],function(m,d,e,h){var c=!m.isFeatureEnabled("jira.richeditor.enable-rte.optional");var k="jira.editor.user.mode";var l=d.Modes;var a=function(n){return b.setProperty(k,n)};var i=function(){return b.getProperty(k,c?l.VISUAL:l.TEXT)};var f=function(o,p){if(p===e.read(o)){return new h.Deferred().resolve(p)}e.save(o,p);var n=new h.Deferred();b.fetchProperty(o).always(function(q){if(p===q){n.resolve(q);return}return h.ajax({url:AJS.contextPath()+"/rest/api/2/mypreferences?key="+o,type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify(p)}).then(n.resolve.bind(n,q)).fail(n.resolve.bind(n,q))});return n};var g=function(p,o){var n=new h.Deferred();if(e.read(p)){return n.resolve(e.read(p)).promise()}b.fetchProperty(p).then(function(q){n.resolve(q)}).fail(function(){n.reject(o)});if(o){n.always(function(q){b.setProperty(p,q)})}return n.promise()};var j=function(n){return h.ajax({url:AJS.contextPath()+"/rest/api/2/mypreferences?key="+n,type:"GET",contentType:"application/json",dataType:"json"})};var b={setProperty:f,getProperty:g,fetchProperty:j,getMode:i,setMode:a};return b});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:marionette', location = 'js/amd/marionette-amd.js' */
define("jira/editor/marionette",["backbone","underscore","atlassian/libs/factories/marionette-2.1.0"],function(c,a,b){return b(a,c)});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo-ui', location = 'js/ui/button-bar-decorator.js' */
define("jira/editor/ui/button-bar-decorator",["jira/lib/class","jquery"],function(a,c){var b=a.extend({init:function d(){},decorateButtonBars:function(e){var f=function(){var i=c(this);if(i.find(".wiki-button-bar-content").length){return}var h=c('<div class="wiki-button-bar-content"></div>');i.wrapInner(h);var g=c('<div class="tabs-placeholder"></div>');g.width(e.width());g.height(e.height());i.prepend(g);i.append(c("<div></div>").css("clear","both"))};e.closest(".jira-wikifield").next(".wiki-button-bar").each(f);e.closest(".inline-edit-fields").nextAll(".save-options").each(f);e.prev(".sd-rte-bar").each(f);e.parent(".wiki-edit-content").siblings(".sd-rte-bar").each(f)}});return b});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo-ui', location = 'js/ui/undo-redo-buttons.js' */
define("jira/editor/ui/undo-redo-buttons",["jira/editor/constants","jira/editor/marionette","jira/util/logger","jquery"],function(k,i,o,d){var j=i.ItemView.extend({tagName:"div",template:function(r){return JIRA.Editor.Tags.Templates.undoRedoButtons()},ui:{undo:".wiki-operation-undo",redo:".wiki-operation-redo"},events:{"click @ui.undo":"onUndo","click @ui.redo":"onRedo"},initialize:function f(r){this.$container=this.determineButtonsContainer(r.textarea);if(null===this.$container){o.warn("Could not attach undo/redo buttons to the editor");return}this.undoManager=r.undoManager},enable:function g(r){if(!this.undoManager){return}r=r||d([this.ui.undo,this.ui.redo]);r.removeAttr("disabled");r.attr("aria-disabled","false")},disable:function e(r){if(!this.undoManager){return}r=r||d([this.ui.undo,this.ui.redo]);r.attr("disabled","");r.attr("aria-disabled","true")},highlight:function b(r){if(!this.undoManager){return}r.addClass("active");setTimeout(function(){r.removeClass("active")},100)},updateUI:function n(r,s){if(!this.undoManager){return}this.updateButton(this.ui.undo,this.undoManager.hasUndo());this.updateButton(this.ui.redo,this.undoManager.hasRedo());if(k.EventSources.SHORTCUT===s){if(k.EventTypes.UNDO===r){this.highlight(this.ui.undo)}else{if(k.EventTypes.REDO===r){this.highlight(this.ui.redo)}}}},updateButton:function m(s,r){if(r){this.enable(s)}else{this.disable(s)}},onRender:function q(){if(!this.undoManager){return}this.$el.addClass("wiki-edit-undo-redo-buttons aui-buttons");if(this.shouldUseDivider()){this.$el.addClass("wiki-edit-separate-section")}this.ui.undo.tooltip("destroy");this.ui.redo.tooltip("destroy");this.updateUI();this.$el.prependTo(this.$container);this.attachHandlers()},attachHandlers:function a(){this.undoManager.on("editor:historychanged",function r(s,t){this.updateUI(s,t)},this)},determineButtonsContainer:function l(s){var r;r=d(s).closest("div.inline-edit-fields").nextAll(".save-options").find(".wiki-button-bar-content");if(!r.length){r=d(s).closest("div.jira-wikifield").next(".save-options").find(".wiki-button-bar-content")}if(!r.length){r=d(s).siblings(".sd-rte-bar").find(".wiki-button-bar-content")}if(!r.length){r=d(s).parent(".wiki-edit-content").siblings(".sd-rte-bar").find(".wiki-button-bar-content")}return(r.length)?r:null},shouldUseDivider:function p(){var r=this.$container.children(":visible");return r.length>0&&!r.eq(0).is("button, input")},onUndo:function h(){this.undoManager.undo()},onRedo:function c(){this.undoManager.redo()}});return j});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo-ui', location = 'soy/ui/undo-redo-buttons.soy' */
// This file was automatically generated from undo-redo-buttons.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Editor.Tags.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Editor == 'undefined') { JIRA.Editor = {}; }
if (typeof JIRA.Editor.Tags == 'undefined') { JIRA.Editor.Tags = {}; }
if (typeof JIRA.Editor.Tags.Templates == 'undefined') { JIRA.Editor.Tags.Templates = {}; }


JIRA.Editor.Tags.Templates.undoRedoButtons = function(opt_data, opt_ignored) {
  return '<button type="button" class="aui-button aui-button-subtle wiki-operation-undo" title="' + soy.$$escapeHtml("Undo") + '"><span class="aui-icon aui-icon-small aui-iconfont-undo" aria-disabled="true" disabled>Undo</span></button><button type="button" class="aui-button aui-button-subtle wiki-operation-redo" title="' + soy.$$escapeHtml("Redo") + '"><span class="aui-icon aui-icon-small aui-iconfont-redo" aria-disabled="true" disabled>Redo</span></button>';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.undoRedoButtons.soyTemplateName = 'JIRA.Editor.Tags.Templates.undoRedoButtons';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:history-store', location = 'js/editor-undo-history-store.js' */
define("jira/editor/undo-history-store",[],function(){var a=[];var b=function(){};b.prototype.put=function(f,e){if(!f){return}a[d(f)]=e};b.prototype.get=function(e){return a[d(e)]};var c=new b();return{get:c.get,put:c.put};function d(e){return"jira.richeditor.history."+e}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo', location = 'js/editor-undo-redo-analytics.js' */
define("jira/editor/undo-redo-analytics",["jira/editor/analytics","jira/editor/constants","jira/lib/class"],function(d,c,b){var h=b.extend({init:function f(j){j.on("editor:historychanged",function i(k,l,m){if(c.EventTypes.UNDO===k){this.logUndo(k,l,m)}else{if(c.EventTypes.REDO===k){this.logRedo(k,l,m)}}if(c.EventTypes.ADD===k){if(this.countAddEvents>0){this.isFirstEditorAction=false}++this.countAddEvents}else{this.isFirstEditorAction=false}},this)},logUndo:function g(i,j,k){d.sendEvent("editor.instance.action."+i,{firstAction:this.isFirstEditorAction,source:j,mode:k});d.sendEvent("editor.instance.action",{name:i,mode:k})},logRedo:function a(i,j,k){d.sendEvent("editor.instance.action."+i,{source:j,mode:k});d.sendEvent("editor.instance.action",{name:i,mode:k})},clearCounters:function e(){this.isFirstEditorAction=true;this.countAddEvents=0},countAddEvents:0,isFirstEditorAction:true});return h});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo', location = 'js/undomanager-adapter/text-adapter.js' */
define("jira/editor/undomanager-adapter/text-adapter",["jira/editor/constants","jira/editor/marionette","jira/util/logger","jquery"],function(i,g,k,c){var l=g.Object.extend({initialize:function d(m){this.textEditor=c(m.textarea);var o=this.textEditor.data("wikiEditor");if(!o){var n="Wiki-editor should be already initialised. Could not find 'wikiEditor' instance in given textarea element";k.error(n,this.textEditor);throw new Error(n)}this.textUndoableTextarea=o.undoRedoEl;this.textUndoManager=this.textUndoableTextarea.undoManager;this.ongoingInternalOperation=false;this.attachEvents(this.textUndoManager)},undo:function j(){try{this.ongoingInternalOperation=true;this.textUndoableTextarea.undo()}finally{this.ongoingInternalOperation=false}},redo:function f(){try{this.ongoingInternalOperation=true;this.textUndoableTextarea.redo()}finally{this.ongoingInternalOperation=false}},hasUndo:function b(){return this.textUndoManager.canUndo()},hasRedo:function a(){return this.textUndoManager.canRedo()},clear:function e(){this.textUndoManager.clear()},attachEvents:function h(n){var m=n.EventTypes;n.on([m.PUSH,m.UPDATE_CURRENT].join(" "),function(o){if(!this.ongoingInternalOperation){this.triggerMethod("action",i.EventTypes.ADD,i.EventSources.UNKNOWN)}}.bind(this));n.on(m.UNDO,function(o){if(!this.ongoingInternalOperation){this.triggerMethod("action",i.EventTypes.UNDO,i.EventSources.SHORTCUT)}}.bind(this));n.on(m.REDO,function(o){if(!this.ongoingInternalOperation){this.triggerMethod("action",i.EventTypes.REDO,i.EventSources.SHORTCUT)}}.bind(this));n.on(m.CLEAR,function(o){if(!this.ongoingInternalOperation){this.triggerMethod("action",i.EventTypes.CLEAR,i.EventSources.UNKNOWN)}}.bind(this))}});return l});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo', location = 'js/undomanager-adapter/visual-adapter.js' */
define("jira/editor/undomanager-adapter/visual-adapter",["jira/editor/constants","jira/editor/marionette","jquery"],function(l,j,f){var n=j.Object.extend({initialize:function g(p){this.id=this.determineId(p.richEditorEl);this.visualEditorInstance=p.richEditorEl.getInstance();this.visualEditor=this.visualEditorInstance.editor;this.visualUndoManager=this.visualEditor.undoManager;this.ongoingInternalOperation=false;this.attachEvents(this.visualEditor)},undo:function m(){try{this.ongoingInternalOperation=true;this.visualUndoManager.undo()}finally{this.ongoingInternalOperation=false}},redo:function i(){try{this.ongoingInternalOperation=true;this.visualUndoManager.redo()}finally{this.ongoingInternalOperation=false}},hasUndo:function d(){return this.visualUndoManager.hasUndo()},hasRedo:function c(){return this.visualUndoManager.hasRedo()},clear:function h(){this.visualUndoManager.clear()},add:function o(p){this.visualEditorInstance.setContent(p.content,null,true);this.visualUndoManager.add(p)},getData:function e(){return this.visualUndoManager.data},getId:function b(){return this.id},attachEvents:function k(p){p.on("AddUndo",function(q){if(!this.ongoingInternalOperation){this.triggerMethod("action",l.EventTypes.ADD,l.EventSources.UNKNOWN)}}.bind(this));p.on("Undo",function(q){if(!this.ongoingInternalOperation){this.triggerMethod("action",l.EventTypes.UNDO,l.EventSources.SHORTCUT)}}.bind(this));p.on("Redo",function(q){if(!this.ongoingInternalOperation){this.triggerMethod("action",l.EventTypes.REDO,l.EventSources.SHORTCUT)}}.bind(this));p.on("ClearUndos",function(q){if(!this.ongoingInternalOperation){this.triggerMethod("action",l.EventTypes.CLEAR,l.EventSources.UNKNOWN)}}.bind(this))},determineId:function a(r){var t=r.$textarea;var p=f(r).data("renderParams").issueKey||"";var s=t.attr("name");var q=t.attr("id");return[p,s,q].join(".")}});return n});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo', location = 'js/undomanager-adapter/noop-adapter.js' */
define("jira/editor/undomanager-adapter/noop-adapter",["jira/editor/marionette"],function(h){return h.Object.extend({initialize:function b(){},undo:function c(){},redo:function d(){},hasUndo:function f(){},hasRedo:function g(){},clear:function a(){},getId:function e(){}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo-manager', location = 'js/editor-undomanager.js' */
define("jira/editor/undomanager",["jira/editor/undo-redo-analytics","jira/editor/undomanager-adapter/text-adapter","jira/editor/undomanager-adapter/visual-adapter","jira/editor/undomanager-adapter/noop-adapter","jira/editor/undo-history-store","jira/editor/constants","jira/util/logger","jira/editor/marionette","jira/dialog/dialog","jquery"],function(q,a,x,s,i,l,y,o,k,j){var m=l.Modes;var g=o.Object.extend({initialize:function d(z){this.context=this.determineContext(z.textarea);this.restoreHistory=false;try{this.textUndoManager=new a({textarea:z.textarea})}catch(A){this.textUndoManager=new s()}this.visualUndoManager=new s();this.activeUndoManager=new s();this.analytics=new q(this);this.setActiveMode(z.mode);this.listenTo(this.textUndoManager,"action",this.notifyHistoryChanged)},undo:function w(){this.activeUndoManager.undo();this.notifyHistoryChanged(l.EventTypes.UNDO,l.EventSources.BUTTON)},redo:function r(){this.activeUndoManager.redo();this.notifyHistoryChanged(l.EventTypes.REDO,l.EventSources.BUTTON)},hasUndo:function t(){return this.activeUndoManager.hasUndo()},hasRedo:function n(){return this.activeUndoManager.hasRedo()},setActiveMode:function v(z){this.activeMode=z;this.activeUndoManager.clear();if(m.TEXT===z){this.activeUndoManager=this.textUndoManager}else{if(m.VISUAL===z){this.activeUndoManager=this.visualUndoManager}else{this.activeUndoManager=new s();y.warn("UndoManager: incorrect mode",z)}}this.activeUndoManager.clear();this.analytics.clearCounters()},attachToVisualEditor:function p(z){this.visualUndoManager=new x({richEditorEl:z});this.listenTo(this.visualUndoManager,"action",this.notifyHistoryChanged)},restoreUndoHistory:function e(){if(!this.restoreHistory){return}if(m.VISUAL===this.activeMode&&l.Context.UNKNOWN===this.context){var z=i.get(this.visualUndoManager.getId());if(z){this.visualUndoManager.clear();z.forEach(function(A){this.visualUndoManager.add(A)}.bind(this));this.restoreHistory=false}}this.analytics.clearCounters()},shouldRestoreHistory:function h(z){this.restoreHistory=!!z},onBeforeDestroy:function b(){this.saveUndoHistory()},saveUndoHistory:function u(){if(m.VISUAL===this.activeMode&&l.Context.UNKNOWN===this.context){i.put(this.visualUndoManager.getId(),this.visualUndoManager.getData().concat([]))}},notifyHistoryChanged:function f(z,A){A=A||this.EventSources.UNKNOWN;this.trigger("editor:historychanged",z,A,this.activeMode)},determineContext:function c(z){if(k.current){return l.Context.DIALOG}else{if(j(z).parents("div.jira-wikifield[field-id=comment]").length){return l.Context.COMMENT}else{return l.Context.UNKNOWN}}}});return g});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:height-helper', location = 'js/height-helper-heights.js' */
define("jira/editor/height-helper-heights",[],function(){var a={FULL_ISSUE_DETAILS:{min:219,max:629},SD_COMMENT:{min:220,max:629},BOARD_BACKLOG_ISSUE_DETAILS:{min:219,max:629},DIALOG_ISSUE_DETAILS:{min:174,max:369},COMMENT:{min:174,max:629}};return a});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:height-helper', location = 'js/height-helper.js' */
define("jira/editor/height-helper",["jquery","jira/editor/height-helper-heights"],function(c,b){var a=function(d){this.element=d;this.getMinHeight=function(){return this._getLocation().min};this.getMaxHeight=function(){return this._getLocation().max};this.setHeights=function(g,h){var h=h||0;var f=g?c(g):c(this.element);f.css("height","");f.removeAttr("rows");var e=this._getLocation();f.css("min-height",(e.min+h)+"px");f.css("max-height",(e.max+h)+"px")};this._getLocation=function(){if(this._isDialog()){return b.DIALOG_ISSUE_DETAILS}else{if(this._isBoard()){return b.BOARD_BACKLOG_ISSUE_DETAILS}else{if(this._isComment()){return b.COMMENT}else{if(this._isSDComment()){return b.SD_COMMENT}else{return b.FULL_ISSUE_DETAILS}}}}};this._isComment=function(){return c(this.element).closest(".comment-input").length>0};this._isSDComment=function(){return c(this.element).closest("sd-comment").length>0};this._isDialog=function(){return c(this.element).closest(".jira-dialog").length>0};this._isBoard=function(){return c(this.element).closest(".ghx-detail-view").length>0}};return a});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:toolbar-ui', location = 'js/ui/toolbar/clear-formatting.js' */
define("jira/editor/ui/toolbar/clear-formatting",["jira/editor/analytics","jira/util/logger","jquery"],function(c,d,e){var b=function(g){var h=e(g).find("a[data-operation='clear-format']").parent();if(h.length===0){e(g).find("li").wrapAll('<div class="aui-dropdown2-section"></div>');var h=e(g).find("li:last-child").clone().appendTo(g).wrap('<div class="aui-dropdown2-section"></div>');h.find("a").attr("data-operation","clear-format").html("Clear formatting")}return h};var a=function(i){var g=i.getInstance();var h=g&&g.editor;if(h&&!h.isHidden()){h.undoManager.add();h.execCommand("RemoveFormat");d.trace("jira.editor.operation.executed");c.sendEvent("editor.instance.operation.clear.formatting");h.undoManager.add()}};var f=function(g){e(g).parents(".wiki-edit").find('div[id*="wiki-edit-dropdown2-more"] .aui-list-truncate').each(function(h,i){var j=b(i);j.on("click",function(k){k.preventDefault();a(g)});g.getInstance().on("tabs:changed",function(k){j.parent().css("display",k?"none":"block")})})};return{init:f}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:temporaryAttachmentUtil', location = 'js/util/temporaryAttachment.js' */
define("jira/editor/util/temporaryAttachment",["jquery","exports"],function(b,a){a.getFormToken=function(c){if(!c){return}return b(c).parents("form").find('input[name="formToken"]').attr("value")||"undefined"}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:controller', location = 'js/editor-controller.js' */
define("jira/editor/controller",["jira/editor/analytics","jira/editor/constants","jira/editor/registry","jira/editor/ui/toggle-tabs","jira/editor/ui/undo-redo-buttons","jira/editor/ui/toolbar/clear-formatting","jira/editor/undomanager","jira/editor/ui/button-bar-decorator","jira/editor/height-helper","wrm/require","jquery","underscore","jira/util/navigator","jira/editor/util/temporaryAttachment"],function(k,c,p,o,n,a,f,h,s,r,g,t,e,i){var d="jiraEditorWrap";var l=">p:first-child:last-child";var q=-2;var j=c.Modes;return{init:function(){},initResources:function(){if(this.webResources){return this.webResources}return this.webResources=r(["wr!com.atlassian.jira.plugins.jira-editor-plugin:api","wr!com.atlassian.jira.plugins.jira-editor-plugin:resources","wr!com.atlassian.jira.plugins.jira-editor-plugin:converter","wrc!jira.rich.editor"])},_createTabs:function(w,x){var u=x[0];var v=x.data("toggleTabs");if(!v){x.data("toggleTabs",v=new o(u))}v.getMode().then(function(y){if(x.is(":visible")&&(y===j.TEXT)){k.sendEvent("editor.instance.init.source");k.sendEvent("bundled.editor.instance.init.source")}});return v},_createUndoManager:function(w,z,v,y){var u=z[0];var x=z.data("undoManager");if(!x){x=new f({textarea:u,mode:y});z.data("undoManager",x)}return x},_createUndoRedoButtons:function(x,z,v,y){var u=z[0];new h().decorateButtonBars(v.$tabs);var w=z.data("undoRedoButtons");if(!w){w=new n({textarea:u,undoManager:y});w.render();z.data("undoRedoButtons",w)}return w},_initModes:function(w,x,u){var v=t.partial(b,x[0],u);u.getMode().then(function(A){m(x[0],A);var z=this._createUndoManager(w,x,u,A);var y=this._createUndoRedoButtons(w,x,u,z);if(A===j.VISUAL){z.shouldRestoreHistory(true);this.initResources();this.initEditor(w,x,u,z,y,true).then(v)}else{x.setCaretToPosition(0);u.once("change",function(B){u.disable();y.disable();if(B===j.VISUAL){k.sendEvent("editor.instance.switch.wysiwyg");k.sendEvent("bundled.editor.instance.switch.wysiwyg");this.initEditor(w,x,u,z,y).then(v).always(function(){u.enable();y.updateUI()}).done(function(C){C.focus()})}}.bind(this),this);y.updateUI()}}.bind(this))},_renderMarkup:function(x,A,y){var u=A[0];var v=u.value;var z=this.getRenderParams(u);if(!y){return this.renderMarkup(v,z)}if(x.data("content-present")){var w=x.html();x.empty();return new g.Deferred().resolve(this._postProcessRendered(g(new DOMParser().parseFromString(w,"text/html").body))).promise()}else{return this.renderMarkup(v,z)}},initEditor:function(w,y,z,D,x,u){var E=new g.Deferred();var C=y[0];var A=w[0];if(w.data("textarea")===C){return new g.Deferred().reject().promise()}var B=this._renderMarkup(w,y,u);new s(C).setHeights(w,q);z.disable();var v=this.getRenderParams(C);w.data("textarea",C).data("renderParams",v);if(!A.loadingStart()){return new g.Deferred().reject().promise()}else{this.require(["jira/editor/create"],function(F){F.builder().withElement(A).withMeta(A.$textarea.data()).withPlugin("jira/editor/plugins/mentions/jira-mentions").withPlugin("jira/editor/plugins/prevent-default").withPlugin("jira/editor/plugins/paste").withPlugin("jira/editor/plugins/wiki-autoformat").withPlugin("jira/editor/plugins/editor-content-postprocess").withPlugin("jira/editor/plugins/toolbar-sync").build().progress(function(G){A.setInstance(G)}).then(function(G){A.loadingStop();G.on("content",A.serialize,A);if(A.$textarea.is(document.activeElement)){A.syncSelection(A.$textarea[0])}G.on("switchMode",function(J){A.setMode(J)});if(A.shouldFocus()){setTimeout(function(){G.focus()})}G.relayEvent("blur",function(){A.$textarea.blur()});G.relayEvent("keydown",function(J){if(J.ctrlKey&&(J.keyCode===13||(!e.isMac()&&(J.keyCode===10)))){J.preventDefault();A.serialize().then(function(){k.sendEvent("editor.instance.submit");g(A.$textarea.prop("form")).submit()})}},true);var H=window.performance.now();B.then(function(J){I(A);G.setContent(J,null,true)}).fail(function(){I(A);var J=y[0].value;G.setContent(J,null,true)}).always(function(){A.hideMask();z.enable();x.updateUI();E.resolve(A);a.init(A);k.oneShotMeasure("rte-init",{},"init",true);var J=window.performance.now()-H;k.sendEvent("editor.instance.init.perf",{time:J})});function I(J){D.attachToVisualEditor(J);D.setActiveMode(j.VISUAL);D.restoreUndoHistory()}k.oneShotMeasure("rte-init",{},"init-bare",true)})});this._bindToggleTabsChange(z,x,D,A);return E.promise()}},_bindToggleTabsChange:function(u,v,x,w){u.on("change",function(z){u.disable();v.disable();var y=z===j.TEXT;w.setMode(y).done(function(){x.setActiveMode(z);w.getInstance().trigger("tabs:changed",y)}).fail(function(){w.setMode(!y);u.setMode(!y?j.TEXT:j.VISUAL)}).always(function(){u.enable();v.updateUI()})})},destroyEditor:function(y){var x=g(y);var u=y.parentNode;var v=x.data("textarea");x.removeData(["textarea","renderParams"]);g(v).data(d,false);var w=g(v).data("toggleTabs");w&&w.off("change");v=v||u.querySelector("textarea");if(v){p._unregister(v)}},getRenderParams:function(w){var x=g(w);var u=x.parents("form").find("#issuetype").val();var v=i.getFormToken(x);return{issueKey:this.getIssueKey(x),projectId:x.parents("form").find("#pid").val(),issueType:t.isArray(u)?t.first(u):u,formToken:v}},getIssueKey:function(u){if(u.attr("data-issuekey")){return u.attr("data-issuekey")}if(JIRA&&JIRA.Issue&&JIRA.Issue.getIssueKey){return JIRA.Issue.getIssueKey()}return AJS.Meta.get("issue-key")},renderMarkup:function(w,x){k.mark("rte-rendermarkup");var u=new g.Deferred();var v=function(){u.reject(w.replace(/(?:\r\n|\r|\n)/g,"<br />"))};if(!w){return u.resolve("")}this.require(["jira/editor/html-renderer"],function(y){y.renderMarkup(w,x).then(function(B){try{var A=g(new DOMParser().parseFromString(B,"text/html").body);u.resolve(this._postProcessRendered(A))}catch(z){u.reject(w)}}.bind(this),v)}.bind(this),v);return u.promise().then(function(){k.oneShotMeasure("rte-rendermarkup")})},_postProcessRendered:function(v){v.find("span.image-wrap").replaceWith(function(x,y){var w=g(y);if(w.is("img")){if(this.style.textAlign){w.css({"text-align":this.style.textAlign,display:"block",margin:"0 auto"})}else{if(this.style["float"]){w.css("float",this.style["float"])}}}return w});v.find("div.code.panel,div.preformatted.panel").html(function(x,y){var w=g(y);w.find("pre:empty").html("<br>");return w});var u=v.find(l);if(u.length===1&&!u[0].previousSibling&&!u[0].nextSibling){return u.html()||""}else{return v.html()||""}},require:function(u,v){this.initResources().then(function(){require(u,v)})},overrideWikiPreview:function(){var u=require("jira/wikipreview/wiki-preview");var v=function(y,x){var z=x.find("textarea.wiki-textfield");if(!z.attr("data-issue-key")){var w=g(y).find('dt:contains("issueKey")+dd').text();if(w){z.attr("data-issue-key",w)}}return u.apply(this,arguments)};AJS.namespace("jira.app.wikiPreview",null,v);AJS.namespace("JIRA.wikiPreview",null,v)}};function m(v,u){if(u===j.TEXT){p._registerTextMode(v)}if(!v.isListenedByRegistry){p.listenTo(v,"detached",p._unregister);v.isListenedByRegistry=true}}function b(y,u,x){var w=x.getInstance();p._registerVisualMode(w);u.on("change",function v(z){p._switchMode(y,z)})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state.js' */
define("jira/editor/fsm/states/state",["underscore"],function(a){var b=function(d,e){e.stateName=d;e.extend=c;return e};var c=function(d){return b(this.stateName,a.compose(d,this))};return function(d,e){return b(d,e)}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-attached.js' */
define("jira/editor/fsm/states/attached",["jira/editor/fsm/states/state","jira/editor/fsm/states/wrap","jira/editor/fsm/states/hidden","jira/editor/fsm/events","jquery"],function(c,e,b,a,d){return function(i){var f=require("jira/editor/fsm/states/init");var h=d(i);if(!h.parent().hasClass("rte-container")){h.wrap(JIRA.Editor.Init.Templates.container())}var g=h.parent().siblings('textarea[class*="wiki-textfield"]')[0];if(g){if(!g.wikiEnabled){d(g).one("wiki-editor-initialized",function(){i.FSM.triggerEvent(a.WIKI_EDITOR_INITIALIZED)}.bind(this))}else{return e(i,g)}}return c("Attached",function(k,j){if(k===a.DETACHED){return f(j)}if(k===a.WIKI_EDITOR_INITIALIZED){if(d(g).is(":visible")){return e(i,g)}else{return b(i,g)}}})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-detached.js' */
define("jira/editor/fsm/states/detached",["jira/editor/fsm/states/state","jira/editor/fsm/events","jira/editor/controller","jira/util/logger","jquery"],function(c,b,a,e,g){var d="richEditorInstance";var f="richEditorInstance_loading";return function(i){var h=require("jira/editor/fsm/states/init");var j=require("jira/editor/fsm/states/attached");setTimeout(function(){i.FSM.triggerEvent(b.DESTROY_TIMEOUT)});return c("Detached",function(m,l){if(m===b.ATTACHED&&l===i){return j(l)}if(m===b.DESTROY_TIMEOUT){if(i.undoManager){i.undoManager.destroy();delete i.undoManager}i.uncoverTextarea();if(i[d]){try{i[d].destroy()}catch(n){e.debug("Editor destroy exception:",n)}delete i[d]}delete i[f];delete i.$textarea;if(i.style.display==="none"){i.style.display=""}a.destroyEditor(i);var k=g(i);k.removeAttr("id","aria-hidden","data-content-present");k.empty();e.trace("jira.editor.plugin.detached");return h(i)}})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-init.js' */
define("jira/editor/fsm/states/init",["jira/editor/fsm/states/state","jira/editor/fsm/states/attached","jira/editor/fsm/events"],function(b,c,a){return function(){return b("Init",function(e,d){if(e===a.ATTACHED){return c(d)}})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-wrap.js' */
define("jira/editor/fsm/states/wrap",["jira/editor/fsm/states/state","jira/editor/fsm/states/detached","jira/editor/fsm/states/mode-text","jira/editor/fsm/states/mode-visual","jira/editor/fsm/events","jira/editor/constants","jira/editor/controller","jira/editor/height-helper","jira/editor/analytics","underscore","jquery"],function(j,d,g,b,k,a,e,f,h,i,c){return function(n,l){var o=c(l);h.mark("rte-init");o.addClass("wiki-edit-wrapped");new f(o).setHeights();n.textarea=l;n.$textarea=o;var m=e._createTabs(c(n),o);e._initModes(c(n),o,m);m.on("change",function(p){n.FSM.triggerEvent(k.TABS_CHANGE,p)});m.getMode().then(i.debounce(function(p){n.FSM.triggerEvent(k.TABS_CHANGE,p)}));return j("Wrap",function(q,p){if(q===k.DETACHED&&p===n){return d(n)}if(q===k.TABS_CHANGE&&p===a.Modes.VISUAL){return b(n)}else{if(q===k.TABS_CHANGE&&p===a.Modes.TEXT){return g(n)}}})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/util/state-hidden-intersection-observer.js' */
define("jira/editor/fsm/states/state-hidden-intersection-observer",["jira/editor/fsm/events"],function(a){var b=function(c,d){this.element=c;this.FSM=d};b.prototype.isIntersectionObserverSupported=function(){return"IntersectionObserver" in window&&"IntersectionObserverEntry" in window&&"intersectionRatio" in window.IntersectionObserverEntry.prototype};b.prototype.observe=function(){if(!this.isIntersectionObserverSupported()){return false}var c={root:null,rootMargin:"0px",threshold:0};function d(e,f){e.forEach(function(g){if(g.isIntersecting){this.FSM.triggerEvent(a.VISIBLE)}}.bind(this))}this.observer=new window.IntersectionObserver(d.bind(this),c);this.observer.observe(this.element);return true};b.prototype.cleanup=function(){if(this.observer){this.observer.disconnect();delete this.observer}};return b});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-hidden.js' */
define("jira/editor/fsm/states/hidden",["jira/editor/fsm/states/state","jira/editor/fsm/states/wrap","jira/editor/fsm/events","jquery","underscore","jira/editor/fsm/states/state-hidden-intersection-observer"],function(c,f,b,e,d,a){var g=100;var h=".rteHiddenState";return function(k,q){var p=require("jira/editor/fsm/states/init");var l=e(q);var m;var r;var n=new a(q,k.FSM);if(!n.observe()){var s=l.parents(".tabs-pane");if(s.length>0){var i=e(s[0]).attr("id");m=e('a[href="#'+i+'"]');m.on("click"+h,function(){d.defer(function(){k.FSM.triggerEvent(b.VISIBLE)})})}}r=setInterval(function o(){if(l.is(":visible")){k.FSM.triggerEvent(b.VISIBLE)}},g);return c("Hidden",function(u,t){if(u===b.DETACHED){return p(t)}if(u===b.VISIBLE||u===b.ATTACHED){if(l.is(":visible")){return f(k,q)}}}).extend(function j(t){if(t){if(r){clearInterval(r);r=undefined}if(m){m.off("click"+h)}n.cleanup()}return t})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-mode-text.js' */
define("jira/editor/fsm/states/mode-text",["jira/editor/fsm/states/state","jira/editor/fsm/states/detached","jira/editor/fsm/events","jira/editor/analytics","jira/editor/constants"],function(c,e,a,b,d){return function(g){var f=require("jira/editor/fsm/states/mode-visual");var i=window.performance.now();return c("Text",function h(k,j){if(k===a.DETACHED&&j===g){return e(g)}if(k===a.TABS_CHANGE&&j===d.Modes.VISUAL){return f(g)}}).extend(function(j){if(j){b.sendEvent("editor.instance.tab.timing.text",{time:window.performance.now()-i})}return j})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-mode-visual.js' */
define("jira/editor/fsm/states/mode-visual",["jira/editor/fsm/states/state","jira/editor/fsm/states/detached","jira/editor/fsm/events","jira/editor/analytics","jira/editor/constants","underscore"],function(d,g,b,c,f,e){var a=".stateVisual";return function(i){var h=require("jira/editor/fsm/states/mode-text");[f.EVENT_OPERATION,f.EVENT_OPERATION_COLOR,f.EVENT_OPERATION_ATTACHMENT].forEach(function(l){i.$textarea.on(l+a,function(n,m){i.FSM.triggerEvent(l,m);return true})});i.$textarea.on("focus"+a,function(){i.FSM.triggerEvent(b.TEXTAREA_FOCUS)});i.$textarea.on("keydown"+a,function(){i.FSM.triggerEvent(b.TEXTAREA_FOCUS)});i.$textarea.on(f.EVENT_CHANGE+a,function(l,m){i.FSM.triggerEvent(f.EVENT_CHANGE,m)});var k=window.performance.now();return d("Visual",function j(m,l){if(m===b.DETACHED&&l===i){return g(i)}if(m===b.TABS_CHANGE&&l===f.Modes.TEXT){return h(i)}if(m===f.EVENT_OPERATION){i.getInstance().focus().executeOperation(l)}if(m===f.EVENT_OPERATION_COLOR){i.getInstance().focus().executeOperation("color",l)}if(m===f.EVENT_OPERATION_ATTACHMENT){e.each(e.isArray(l)?l:[l],function(n){i.getInstance().focus().executeOperation("attachment",{attachment:n})})}if(m===b.TEXTAREA_FOCUS){i.getInstance().focus()}if(m===f.EVENT_CHANGE){i.changeHandler(l)}}).extend(function(l){if(l){c.sendEvent("editor.instance.tab.timing.visual",{time:window.performance.now()-k});i.$textarea.off(".stateVisual")}return l})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/events.js' */
define("jira/editor/fsm/events",[],function(){return["ATTACHED","DETACHED","WIKI_EDITOR_INITIALIZED","DESTROY_TIMEOUT","TABS_CHANGE","TEXTAREA_FOCUS","VISIBLE"].reduce(function(a,b){a[b]=b;return a},{})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/fsm.js' */
define("jira/editor/fsm",["jira/editor/fsm/states/init","jira/editor/fsm/events","jira/lib/class","jira/util/logger","underscore"],function(a,b,c,e,d){var f=c.extend({init:function(){this.currentState=a()},triggerEvent:function(h){e.debug("JEP FSM - Event:",h,d.rest(arguments,1));e.debug("JEP FSM - Current state:",this.currentState.stateName);var g=this.currentState.apply(null,arguments);if(d.isFunction(g)&&g!==this.currentState){this.currentState=g;e.debug("JEP FSM - Next State:",g.stateName)}}});f.Events=b;return f});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:util', location = 'js/util/edit-distance.js' */
define("jira/editor/util/edit-distance",["exports"],function(a){a.getEditDistance=function(d,c){if(d.length===0){return c.length}if(c.length===0){return d.length}var e=[];var g;for(g=0;g<=c.length;g++){e[g]=[g]}var f;for(f=0;f<=d.length;f++){e[0][f]=f}for(g=1;g<=c.length;g++){for(f=1;f<=d.length;f++){if(c.charAt(g-1)===d.charAt(f-1)){e[g][f]=e[g-1][f-1]}else{e[g][f]=Math.min(e[g-1][f-1]+1,Math.min(e[g][f-1]+1,e[g-1][f]+1))}}}return e[c.length][d.length]}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:util', location = 'js/util/strings.js' */
define("jira/editor/util/strings",["exports"],function(a){a.getFilenameFromError=function(b){return b&&(b.match(/^Unable to render embedded object: File \(([^)]+)\) not found\.$/)||b.match(/^No usable issue stored in the context, unable to resolve filename '([^']+)'$/)||[])[1]}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:round-trip', location = 'js/round-trip.js' */
define("jira/editor/round-trip",["jira/editor/analytics","jira/editor/controller","jira/editor/util/strings","jira/data/local-storage","jira/editor/util/edit-distance","underscore","jquery"],function(l,o,j,m,e,u,d){var n="jira.editor.score";var h=JSON.stringify({count:0,average:0,lastReport:0});var k=100;var p=1000*60*60*24;var t=k*0.1;var c=30000;var s=function(){try{return JSON.parse(m.getItem(n)||h)}catch(v){return JSON.parse(h)}};var f=function(w){try{m.setItem(n,JSON.stringify(w));return true}catch(v){return false}};var g=function(v){var w=s();w.average=(v+w.count*w.average)/(w.count+1);w.count+=1;r(w);if(w.count>k){w.count=1;w.average=v}f(w)};var r=function(v){if(Date.now()-v.lastReport<p||v.count<t){return}v.lastReport=Date.now();if(f(v)){l.sendEvent("editor.instance.roundtrip.score",{average:v.average,count:v.count})}};var b=function(x,z,w){if(x===z){return 1}if(x.length===0||z.length===0){return 0}var y={_chars:33};var B=i(new DOMParser().parseFromString(x,"text/html").body,y);var v=i(new DOMParser().parseFromString(z,"text/html").body,y);var C=e.getEditDistance(B,v);var A=1-(C/Math.max(B.length,v.length));l.sendEvent("editor.instance.roundtrip.score.raw",{distance:C,score:A,sourceLength:x.length,targetLength:z.length,time:window.performance.now()-w});return A};var i=function(w,z){var v=u(w.childNodes).toArray();var y="";while(v.length>0){var A=v.splice(0,1)[0];var x=A.nodeName;if(A.nodeType===Node.TEXT_NODE){x+="#"+A.nodeValue}else{if(A.attributes.length>0){x+="@"+u(A.attributes).toArray().filter(function(B){return !/^(data-mce|style)/.test(B.name)}).map(function(B){return B.name+="="+B.value}).sort().join("@")}}if(!z[x]){z[x]=String.fromCharCode(z._chars++)}y+=z[x];v.push.apply(v,A.childNodes)}return y};var q=function(A){try{var E="";var y=new DOMParser().parseFromString(A,"text/html").body;var B=function(F){return F.nodeType===Node.TEXT_NODE&&/^\s+$/.test(F.nodeValue)||F.nodeType===Node.COMMENT_NODE||F.nodeName==="A"&&!F.nodeValue};d(y).find(">p:first-child:last-child").contents().unwrap();var C=u(y.childNodes).toArray();while(C.length>0){var w=C.pop();if(B(w)){w.parentNode.removeChild(w);continue}else{if(w.nodeName==="STRONG"){var x=document.createElement("b");u(w.childNodes).toArray().forEach(x.appendChild,x);w.parentNode.replaceChild(x,w);w=x}else{if(w.nodeName==="SPAN"&&w.className==="error"){var D=d(w).text();var v=j.getFilenameFromError(D);if(v){d(w).replaceWith(d("<img />").attr("data-filename",v))}}else{if(w.nodeName==="IMG"&&w.getAttribute("data-filename")&&/^data:/.test(w.src)){w.removeAttribute("src")}else{if(w.nodeName==="DIV"&&w.className==="table-wrap"){d(w).find("table:first-child:last-child").unwrap()}}}}}C.push.apply(C,w.childNodes)}return y.innerHTML}catch(z){return A}};var a=u.debounce(function(w,v,x){o.renderMarkup(v,x).done(function(z){var y=window.performance.now();g(b(q(w),q(z),y))}).fail(function(){})},c);return{verify:a,get:s}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:rteInitElement', location = 'soy/editor-init.soy' */
// This file was automatically generated from editor-init.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Editor.Init.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Editor == 'undefined') { JIRA.Editor = {}; }
if (typeof JIRA.Editor.Init == 'undefined') { JIRA.Editor.Init = {}; }
if (typeof JIRA.Editor.Init.Templates == 'undefined') { JIRA.Editor.Init.Templates = {}; }


JIRA.Editor.Init.Templates.init = function(opt_data, opt_ignored) {
  return '' + JIRA.Editor.Init.Templates.container({content: '<rich-editor contenteditable="true" data-issue-key="' + soy.$$escapeHtml(opt_data.issueKey) + '" data-content-present="true" tabindex="-1">' + soy.$$filterNoAutoescape(opt_data.valueRendered) + '</rich-editor>'});
};
if (goog.DEBUG) {
  JIRA.Editor.Init.Templates.init.soyTemplateName = 'JIRA.Editor.Init.Templates.init';
}


JIRA.Editor.Init.Templates.container = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="rte-container">' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Editor.Init.Templates.container.soyTemplateName = 'JIRA.Editor.Init.Templates.container';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:element', location = 'js/ui/rich-editor.js' */
define("jira/editor/ui/rich-editor",["atlassian/libs/skate-0.12.6","jira/util/logger","jira/util/navigator","jira/editor/controller","jira/editor/analytics","jira/editor/round-trip","jira/editor/fsm","jira/editor/constants","jquery","underscore"],function(f,k,n,h,i,e,m,b,d,j){if(window.JIRA_EDITOR_CONNECT_PLUGIN_INSTALLED||n.isIE()&&!n.isEdge()&&n.majorVersion()<11){return}window.JIRA_EDITOR_CONNECT_PLUGIN_INSTALLED=true;d.valHooks.textarea={get:function(o){},set:function(o,p){d(o).trigger(b.EVENT_CHANGE,p)}};h.overrideWikiPreview();var l="richEditorInstance";var c="richEditorInstance_loading";var a={prototype:{showMask:function(){d(this).addClass(b.CLASS_LOADING);this.getToolbar().addClass(b.CLASS_LOADING);this.getContainer().addClass(b.CLASS_LOADING);this.getInstance()&&this.getInstance().disable()},hideMask:function(){d(this).removeClass(b.CLASS_LOADING);this.getToolbar().removeClass(b.CLASS_LOADING);this.getContainer().removeClass(b.CLASS_LOADING);this.getInstance()&&this.getInstance().enable()},getToolbar:function(){return this.getToolbarContainer().find(".wiki-edit-toolbar")},getContainer:function(){return d(this.parentNode)},getToolbarContainer:function(){return d(this).parents(".wiki-edit, .js-comment-form, .servicedesk-attachments-dialog, .sd-comment-field-form-container")},coverTextarea:function(){this.$textarea.addClass(b.CLASS_COVER).prop("defaultValue",this.$textarea.val()).on("focus.rteCover",function(o){o.preventDefault()})},uncoverTextarea:function(){this.$textarea.removeClass(b.CLASS_COVER).off(".rteCover");if(this.$textarea.expandOnInput){this.$textarea.css({height:""});this.$textarea.expandOnInput()}},getRenderParams:function(){return d(this).data("renderParams")},replaceSelection:function(o){h.renderMarkup(o,this.getRenderParams()).done(function(p){this.getInstance().replaceSelection(p)}.bind(this))},syncSelection:function(q){var s=q.selectionStart;var p=q.selectionEnd;var r=q.value.length;var o=this.getInstance();j.defer(function(){if(p===r){if(s===0){o.selectAll()}else{if(s===p){o.selectAll();o.editor.selection.collapse(false)}}}o.focus()})},setContent:function(o){return h.renderMarkup(o,this.getRenderParams()).done(function(p){this._setRawContent(p)}.bind(this))},_setRawContent:function(p,o){this.getInstance().setContent(p,null,o)},getContent:function(){return this.$textarea.val()},focus:function(){this.getInstance().focus()},setMode:function(q){var o=new d.Deferred();if(q){i.sendEvent("editor.instance.switch.source");i.sendEvent("bundled.editor.instance.switch.source")}else{i.sendEvent("editor.instance.switch.wysiwyg");i.sendEvent("bundled.editor.instance.switch.wysiwyg")}if(q){this.uncoverTextarea();if(this.getInstance()){this.getInstance().hide()}setTimeout(function(){this.$textarea.setCaretToPosition(0);this.$textarea.focus();o.resolve()}.bind(this),25);this.$textarea.attr("originalValue",this.$textarea.val())}else{var r=this.$textarea.attr("originalValue")!==this.$textarea.val();this.showMask();this.coverTextarea();var p=r?h.renderMarkup(this.$textarea.val(),this.getRenderParams()):new d.Deferred().resolve();p.always(function(){this.hideMask();this.getInstance().show();this.getInstance().focus();if(r){p.done(function(s){this.getInstance().setContent(s,null,true);o.resolve()}.bind(this)).fail(function(){o.reject();this.$textarea.removeAttr("originalValue")}.bind(this))}else{o.resolve()}}.bind(this))}return o},changeHandler:function(o){h.renderMarkup(o,this.getRenderParams()).done(function(p){this.getInstance().setContent(p)}.bind(this))},getInstance:function(){return this[l]},loadingStart:function(){if(typeof this[l]!=="undefined"||this[c]){return false}this.undoManager=this.$textarea.data("undoManager");this[c]=true;this.coverTextarea();this.showMask();return true},setInstance:function(o){this[l]=o},loadingStop:function(){delete this[c];this[l].disable()},shouldFocus:function(){return this.$textarea.parents("#addcomment, #comment-add, .issue-body-content").length>0},serialize:function(){var o=new d.Deferred();var p=this.getInstance().getContent();require("jira/editor/converter").convert(p).then(function(q){k.trace("jira.editor.plugin.converted");this.$textarea.attr("value",q).trigger("input");e.verify(p,q,this.getRenderParams());o.resolve()}.bind(this));return o}},attached:function(o){if(!o.FSM){o.FSM=new m()}if(document.body.contains(o)){o.FSM.triggerEvent(m.Events.ATTACHED,o)}},detached:function(o){if(!document.body.contains(o)&&o.FSM){o.FSM.triggerEvent(m.Events.DETACHED,o)}}};var g=f("rich-editor",{type:f.types.TAG,prototype:a.prototype,attached:a.attached,detached:a.detached});return g});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:customization', location = 'js/editor-customizer.js' */
define("jira/editor/customizer",["jira/util/logger"],function(b){var a=[];var c={};c.customizeSettings=function(e,d){if(typeof e!=="function"){b.error("callback has to be a function");return false}if(typeof d==="object"){e=e.bind(d)}a.push(e);return true};c.getCustomizeSettingCallbacks=function(){return a.slice(0)};return c});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:init', location = 'js/rich-editor-init.js' */
require(["jira/featureflags/feature-manager","jira/editor/ui/rich-editor","jira/editor/controller"],function(b,c,a){if(!b.isFeatureEnabled("jira.richeditor.deferred.loading")){a.initResources()}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-notification', location = 'includes/js/rapid/ui/notification/Notification.soy' */
// This file was automatically generated from Notification.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.notification.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.notification == 'undefined') { GH.tpl.rapid.notification = {}; }


GH.tpl.rapid.notification.renderErrorMessages = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.errors.length > 1) {
    output += '<ul>';
    var errorList6 = opt_data.errors;
    var errorListLen6 = errorList6.length;
    for (var errorIndex6 = 0; errorIndex6 < errorListLen6; errorIndex6++) {
      var errorData6 = errorList6[errorIndex6];
      output += '<li>' + ((errorData6.noAutoescape) ? soy.$$filterNoAutoescape(errorData6.message) : soy.$$escapeHtml(errorData6.message)) + '</li>';
    }
    output += '</ul>';
  } else {
    var errorList18 = opt_data.errors;
    var errorListLen18 = errorList18.length;
    for (var errorIndex18 = 0; errorIndex18 < errorListLen18; errorIndex18++) {
      var errorData18 = errorList18[errorIndex18];
      output += '<p>' + ((errorData18.noAutoescape) ? soy.$$filterNoAutoescape(errorData18.message) : soy.$$escapeHtml(errorData18.message)) + '</p>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderErrorMessages.soyTemplateName = 'GH.tpl.rapid.notification.renderErrorMessages';
}


GH.tpl.rapid.notification.renderContextualErrors = function(opt_data, opt_ignored) {
  var output = '';
  var errorList29 = opt_data.errors;
  var errorListLen29 = errorList29.length;
  for (var errorIndex29 = 0; errorIndex29 < errorListLen29; errorIndex29++) {
    var errorData29 = errorList29[errorIndex29];
    output += '<div class="ghx-error">' + soy.$$escapeHtml(errorData29.message) + '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderContextualErrors.soyTemplateName = 'GH.tpl.rapid.notification.renderContextualErrors';
}


GH.tpl.rapid.notification.renderMessageHolder = function(opt_data, opt_ignored) {
  return '<div class="ghx-body-warning">' + soy.$$escapeHtml(AJS.format("This version of {0} is not a supported browser.",opt_data.browser)) + ' <a href="' + soy.$$escapeHtml(opt_data.docsUrl) + '">' + soy.$$escapeHtml("See our documentation for the list of supported browsers.") + '</a></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderMessageHolder.soyTemplateName = 'GH.tpl.rapid.notification.renderMessageHolder';
}


GH.tpl.rapid.notification.renderAuiMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-message ' + soy.$$escapeHtml(opt_data.type) + ((opt_data.className) ? ' ' + soy.$$escapeHtml(opt_data.className) : '') + '">' + ((opt_data.title) ? '<p class="title">' + ((opt_data.icon) ? '<span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span>' : '') + '<strong>' + soy.$$escapeHtml(opt_data.title) + '</strong></p>' : '') + ((opt_data.message) ? '<p>' + ((! opt_data.title && opt_data.icon) ? '<span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span>' : '') + ((opt_data.messageHtml) ? soy.$$filterNoAutoescape(opt_data.message) : soy.$$escapeHtml(opt_data.message)) + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderAuiMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderAuiMessage';
}


GH.tpl.rapid.notification.renderGHtvMessage = function(opt_data, opt_ignored) {
  return '<div id="ghx-update-message" class="ghx-tv-message"><p>' + soy.$$escapeHtml("This board has been updated") + ': <a href="" class="js-refresh-now">' + soy.$$escapeHtml("Refresh") + '</a><span class="ghx-divider">&bull;</span><a href="" class="js-ignore-refresh">' + soy.$$escapeHtml("Ignore") + '</a></p></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderGHtvMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderGHtvMessage';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-notification', location = 'includes/js/rapid/ui/notification/Notification.js' */
define("jira-agile/rapid/ui/notification",["require"],function(e){"use strict";function a(e,a,r){return s(n({body:e,title:r.showTitle?a:void 0,close:r.autoHide?"auto":r.closeable?"manual":"never",type:r.type}))}function s(e){var a=r(e).find(".title");return""===r.trim(a.text())&&a.remove(),e}var r=e("jquery"),t=e("underscore"),n=e("aui/flag"),o=e("jira/util/logger"),i={showErrors:function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments[2],r="Error",t=GH.tpl.rapid.notification.renderErrorMessages(e);i.showError(r,t,a,s)},showError:function(e,s){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments[3],o={autoHide:!1,closeable:r,showTitle:!0,type:"error"};n=t.extend({},o,n),a(s,e,n)},showWarnings:function(e,s){var r={preRendered:!1,autoHide:!0,closeable:!0,showTitle:!1,type:"warning"};s=t.extend({},r,s);var n=void 0;n=s.preRendered?e:GH.tpl.rapid.notification.renderErrorMessages({errors:e}),a(n,"Warning",s)},showWarning:function(e){i.showWarnings(e,{preRendered:!0})},showSuccess:function(e,s){var r={closeable:!0,autoHide:!0,showTitle:!1,type:"success"};s=t.extend({},r,s),a(e,null,s)},clear:function(){r("#aui-flag-container").empty()},handleDateFormatMismatchError:function(e){var a='<a href="'+GH.Ajax.CONTEXT_PATH+'/secure/admin/AdvancedApplicationProperties.jspa">';a+="Advanced Settings",a+="</a>";var s=AJS.format("It appears your Jira date format settings are misconfigured. Please check the {0} and ensure that \'\'jira.date.time.picker.java.format\'\' and \'\'jira.date.time.picker.javascript.format\'\' have matching output.",a);i.showWarnings(s,{autoHide:!1,preRendered:!0})},auiMessage:function(){o.warn("[deprecated] GH.Notification.auiMessage has no effect")},showIssueMessage:function(e){var a=JIRA.SessionStorage,s=null,r=null;e||(e=a.getItem("selectedIssueId")),e&&(r=a.getItem("selectedIssueKey"),s=a.getItem("selectedIssueMsg"),i.showIssueMessageImpl(e,s,r)),a.removeItem("selectedIssueId"),a.removeItem("selectedIssueKey"),a.removeItem("selectedIssueMsg")},showIssueMessageImpl:function(e,a,s){a||(a="thanks_issue_updated");var r=AJS.params[a];r&&s&&(r=AJS.format(r,s),i.showSuccess(r))},addPageLoadMessage:function(e,a){var s=GH.storage.get("gh.pageloadmessages",!0)||[];s.push({message:e,type:a||"success"}),GH.storage.put("gh.pageloadmessages",s,!0)},_displayPageLoadMessages:function(){var e=GH.storage.get("gh.pageloadmessages",!0);if(e){var a=e[0].type,s="";switch(t.each(e,function(e){s.length>0&&(s+="<br>"),s+=e.message}),a){case"warning":i.showWarning(s);break;case"success":default:i.showSuccess(s)}GH.storage.put("gh.pageloadmessages",null,!0)}},showBoardUpdatedMessage:function(){i.clearBoardUpdatedMessage();var e=r.Deferred(),a=r(GH.tpl.rapid.notification.renderGHtvMessage()).appendTo("#gh");return a.data("deferred",e),a.find(".js-refresh-now").click(function(s){s.preventDefault(),a.removeData("deferred"),i.clearBoardUpdatedMessage(),e.resolve()}),a.find(".js-ignore-refresh").click(function(e){e.preventDefault(),i.clearBoardUpdatedMessage()}),e.promise()},clearBoardUpdatedMessage:function(){var e=r("#ghx-update-message");if(e.length){var a=e.data("deferred");a&&a.reject&&a.reject(),e.remove()}},isBoardUpdatedMessageVisible:function(){var e=r("#ghx-update-message");return e.length>0}};return i}),AJS.namespace("GH.Notification",null,require("jira-agile/rapid/ui/notification")),AJS.$(document).ready(function(){GH.Notification.showIssueMessage(),GH.storage&&GH.Notification._displayPageLoadMessages()});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form-templates', location = 'soy/quickform.soy' */
// This file was automatically generated from quickform.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.QuickForm.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.QuickForm == 'undefined') { JIRA.Templates.QuickForm = {}; }


JIRA.Templates.QuickForm.field = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(opt_data.editHtml);
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.field.soyTemplateName = 'JIRA.Templates.QuickForm.field';
}


JIRA.Templates.QuickForm.fieldPicker = function(opt_data, opt_ignored) {
  return '<div class="qf-picker"><div class="qf-picker-header"><dl><dt>' + soy.$$escapeHtml("Show Fields:") + '</dt>' + ((opt_data.isConfigurable) ? '<dd><a class="qf-unconfigurable" href="#">' + soy.$$escapeHtml("All") + '</a></dd><dd>' + soy.$$escapeHtml("Custom") + '</dd>' : '<dd>' + soy.$$escapeHtml("All") + '</dd><dd><a class="qf-configurable" href="#">' + soy.$$escapeHtml("Custom") + '</a></dd>') + '</dl></div><div class="qf-picker-content ' + ((! opt_data.isConfigurable) ? 'qf-picker-unconfigurable' : '') + '"></div><div class="qf-picker-footer"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.fieldPicker.soyTemplateName = 'JIRA.Templates.QuickForm.fieldPicker';
}


JIRA.Templates.QuickForm.configurablePickerButton = function(opt_data, opt_ignored) {
  return '<a title="' + soy.$$escapeHtml(opt_data.label) + '" data-field-id="' + soy.$$escapeHtml(opt_data.fieldId) + '" class="qf-picker-button' + ((opt_data.isActive) ? ' qf-active' : '') + '" href="#">' + soy.$$escapeHtml(opt_data.label) + ((opt_data.required) ? '<span class="aui-icon icon-required"></span>' : '') + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.configurablePickerButton.soyTemplateName = 'JIRA.Templates.QuickForm.configurablePickerButton';
}


JIRA.Templates.QuickForm.unconfigurablePickerButton = function(opt_data, opt_ignored) {
  return '<span title="' + soy.$$escapeHtml(opt_data.label) + '" data-field-id="' + soy.$$escapeHtml(opt_data.fieldId) + '" class="qf-picker-button' + ((opt_data.isActive) ? ' qf-active' : '') + '" href="#">' + soy.$$escapeHtml(opt_data.label) + ((opt_data.required) ? '<span class="aui-icon icon-required"></span>' : '') + '</span>';
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.unconfigurablePickerButton.soyTemplateName = 'JIRA.Templates.QuickForm.unconfigurablePickerButton';
}


JIRA.Templates.QuickForm.errorMessage = function(opt_data, opt_ignored) {
  return '' + aui.message.error({closeable: 'true', content: opt_data.message});
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.errorMessage.soyTemplateName = 'JIRA.Templates.QuickForm.errorMessage';
}
;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form-templates', location = 'soy/issue.soy' */
// This file was automatically generated from issue.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issue == 'undefined') { JIRA.Templates.Issue = {}; }


JIRA.Templates.Issue.editIssueError = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml("Edit Issue") + '</h2><div class="form-body">' + soy.$$filterNoAutoescape(opt_data.errorHtml) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.editIssueError.soyTemplateName = 'JIRA.Templates.Issue.editIssueError';
}


JIRA.Templates.Issue.editIssueForm = function(opt_data, opt_ignored) {
  return '<form action="#" name="jiraform" class="aui"><h2>' + ((opt_data.showFieldConfigurationToolBar) ? JIRA.Templates.Issue.fieldConfigurationToolbar(null) : '') + soy.$$filterNoAutoescape(opt_data.title) + '</h2><div class="form-body"><input type="hidden" name="id" value="' + soy.$$escapeHtml(opt_data.issueId) + '" /><input type="hidden" name="atl_token" value="' + soy.$$escapeHtml(opt_data.atlToken) + '" /><input type="hidden" name="formToken" value="' + soy.$$escapeHtml(opt_data.formToken) + '" /><div class="content">' + ((opt_data.fieldsHtml) ? soy.$$filterNoAutoescape(opt_data.fieldsHtml) : '') + ((opt_data.commentField) ? soy.$$filterNoAutoescape(opt_data.commentField.editHtml) : '') + '<!-- fields inserted here via javascript --></div></div><div class="buttons-container form-footer"><div class="buttons"><input accesskey="' + soy.$$escapeHtml("s") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",opt_data.modifierKey)) + '" class="button" id="edit-issue-submit" name="Edit" type="submit" value="' + soy.$$escapeHtml("Update") + '" /><a href="#" accesskey="' + soy.$$escapeHtml("`") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",opt_data.modifierKey)) + '" class="cancel">' + soy.$$escapeHtml("Cancel") + '</a></div></div></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.editIssueForm.soyTemplateName = 'JIRA.Templates.Issue.editIssueForm';
}


JIRA.Templates.Issue.fieldConfigurationToolbar = function(opt_data, opt_ignored) {
  return '' + aui.toolbar2.toolbar2({extraClasses: 'qf-form-operations', content: '' + aui.toolbar2.item({item: 'secondary', content: '' + aui.buttons.button({text: ' ' + soy.$$escapeHtml("Configure Fields"), id: 'qf-field-picker-trigger', extraClasses: 'toolbar-trigger', iconText: "Configure Fields", iconType: 'aui', iconClass: 'aui-icon-small aui-iconfont-configure'})})});
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.fieldConfigurationToolbar.soyTemplateName = 'JIRA.Templates.Issue.fieldConfigurationToolbar';
}


JIRA.Templates.Issue.issueFields = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.hasTabs) {
    output += '<div class="aui-tabs horizontal-tabs" id="horizontal"><ul class="tabs-menu">';
    var tabList64 = opt_data.tabs;
    var tabListLen64 = tabList64.length;
    for (var tabIndex64 = 0; tabIndex64 < tabListLen64; tabIndex64++) {
      var tabData64 = tabList64[tabIndex64];
      output += (tabData64) ? '<li class="menu-item ' + ((tabData64.isFirst) ? 'first active-tab' : '') + ' "><a href="#tab-' + soy.$$escapeHtml(tabData64.position) + '" ><strong>' + soy.$$escapeHtml(tabData64.label) + '</strong></a></li>' : '';
    }
    output += '</ul>';
    var tabList78 = opt_data.tabs;
    var tabListLen78 = tabList78.length;
    for (var tabIndex78 = 0; tabIndex78 < tabListLen78; tabIndex78++) {
      var tabData78 = tabList78[tabIndex78];
      if (tabData78) {
        output += '<div class="tabs-pane ' + ((tabData78.isFirst) ? 'active-pane' : '') + '" id="tab-' + soy.$$escapeHtml(tabData78.position) + '">';
        var fieldList88 = tabData78.fields;
        var fieldListLen88 = fieldList88.length;
        for (var fieldIndex88 = 0; fieldIndex88 < fieldListLen88; fieldIndex88++) {
          var fieldData88 = fieldList88[fieldIndex88];
          output += (fieldData88.editHtml) ? soy.$$filterNoAutoescape(fieldData88.editHtml) : '';
        }
        output += '</div>';
      }
    }
    output += '</div>';
  } else {
    var fieldList98 = opt_data.fields;
    var fieldListLen98 = fieldList98.length;
    for (var fieldIndex98 = 0; fieldIndex98 < fieldListLen98; fieldIndex98++) {
      var fieldData98 = fieldList98[fieldIndex98];
      output += (fieldData98.editHtml) ? soy.$$filterNoAutoescape(fieldData98.editHtml) : '';
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.issueFields.soyTemplateName = 'JIRA.Templates.Issue.issueFields';
}


JIRA.Templates.Issue.createIssueForm = function(opt_data, opt_ignored) {
  var output = '<form name="jiraform" action="#" class="aui"><h2>' + ((opt_data.showFieldConfigurationToolBar) ? JIRA.Templates.Issue.fieldConfigurationToolbar(null) : '') + soy.$$escapeHtml(opt_data.title) + '</h2><div class="form-body">';
  if (opt_data.issueSetupFields) {
    output += '<div class="issue-setup-fields">';
    var fieldList114 = opt_data.issueSetupFields;
    var fieldListLen114 = fieldList114.length;
    for (var fieldIndex114 = 0; fieldIndex114 < fieldListLen114; fieldIndex114++) {
      var fieldData114 = fieldList114[fieldIndex114];
      output += '<div class="qf-field qf-field-' + soy.$$escapeHtml(fieldData114.id) + ' qf-required" data-field-id="' + soy.$$escapeHtml(fieldData114.id) + '">' + soy.$$filterNoAutoescape(fieldData114.editHtml) + '</div>';
    }
    output += '</div>';
  }
  output += ((opt_data.parentIssueId) ? '<input type="hidden" name="parentIssueId" value="' + soy.$$escapeHtml(opt_data.parentIssueId) + '" />' : '') + '<input type="hidden" name="atl_token" value="' + soy.$$escapeHtml(opt_data.atlToken) + '" /><input type="hidden" name="formToken" value="' + soy.$$escapeHtml(opt_data.formToken) + '" /><div class="content">' + ((opt_data.fieldsHtml) ? soy.$$filterNoAutoescape(opt_data.fieldsHtml) : '') + '<!-- fields inserted here via javascript --></div></div><div class="buttons-container form-footer"><div class="buttons">' + ((! opt_data.disallowCreateAnother) ? '<label for="qf-create-another" class="qf-create-another"><input id="qf-create-another" type="checkbox" ' + ((opt_data.multipleMode) ? 'checked="checked"' : '') + ' />' + soy.$$escapeHtml("Create another") + '</label>' : '') + '<input accesskey="' + soy.$$escapeHtml("s") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",opt_data.modifierKey)) + '" class="aui-button aui-button-primary" id="create-issue-submit" name="Edit" type="submit" value="' + soy.$$escapeHtml("Create") + '" /><a href="#" accesskey="' + soy.$$escapeHtml("`") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",opt_data.modifierKey)) + '" class="cancel">' + soy.$$escapeHtml("Cancel") + '</a></div></div></form>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.createIssueForm.soyTemplateName = 'JIRA.Templates.Issue.createIssueForm';
}


JIRA.Templates.Issue.checkBoxField = function(opt_data, opt_ignored) {
  return '<fieldset class="group"><legend><span></span></legend><div class="checkbox"><input class="checkbox" type="checkbox" name="' + soy.$$escapeHtml(opt_data.name) + '" id="' + soy.$$escapeHtml(opt_data.name) + '" value="true" ' + ((opt_data.checked) ? 'checked' : '') + '><label for="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.label) + '</label></div></fieldset>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.checkBoxField.soyTemplateName = 'JIRA.Templates.Issue.checkBoxField';
}


JIRA.Templates.Issue.createIssueError = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml("Create Issue") + '</h2><div class="form-footer">' + soy.$$filterNoAutoescape(opt_data.errorHtml) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.createIssueError.soyTemplateName = 'JIRA.Templates.Issue.createIssueError';
}


JIRA.Templates.Issue.undealtErrors = function(opt_data, opt_ignored) {
  var output = '<div>' + soy.$$escapeHtml("There were some errors when trying to create this issue") + '</div><ul>';
  var errorList187 = opt_data.errors;
  var errorListLen187 = errorList187.length;
  for (var errorIndex187 = 0; errorIndex187 < errorListLen187; errorIndex187++) {
    var errorData187 = errorList187[errorIndex187];
    output += '<li>' + soy.$$escapeHtml(errorData187) + '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.undealtErrors.soyTemplateName = 'JIRA.Templates.Issue.undealtErrors';
}
;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/templates/form.js' */
define("quick-edit/templates/form",function(){return JIRA.Templates.QuickForm});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/templates/issue.js' */
define("quick-edit/templates/issue",function(){return JIRA.Templates.Issue});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/extension-mixin.js' */
define("quick-edit/util/extension-mixin",["jquery"],function(b){var a=function(e,c,d){b(this).trigger(e,c);if(d&&this.globalEventNamespaces){b.each(this.globalEventNamespaces,function(g,f){b(document).trigger(f+"."+e,c)})}return this};return{triggerEvent:a}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/class.js' */
define("quick-edit/util/class",["quick-edit/util/extension-mixin","jira/lib/class"],function(a,b){return b.extend(a)});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/control.js' */
define("quick-edit/util/control",["quick-edit/util/extension-mixin","jira/ajs/control"],function(a,b){return b.extend(a)});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/dialog.js' */
define("quick-edit/util/dialog",["jira/dialog/dialog","jira/issue","jira/issuenavigator/issue-navigator"],function(b,f,c){var e=JIRA.Issues;var d=function(j){var k=b.current,i=k.$activeTrigger;if(i){return i.attr(j)}};var g=function(){var i=d("data-issueKey");if(!i&&f.getIssueKey()){i=f.getIssueKey()}if(!i&&c.getSelectedIssueKey()){i=c.getSelectedIssueKey()}if(!i&&e){i=e.Api.getSelectedIssueKey()}return i};var h=function(j){var i=g();if(!i){return j}return j+" : "+i};var a=function(){return e||c.isNavigator()||d("data-issueKey")};return{getActionIssueKey:g,getAttrFromActiveTrigger:d,getIssueActionTitle:h,shouldShowIssueKeyInTitle:a}});AJS.namespace("JIRA.Dialog.getActionIssueKey",null,require("quick-edit/util/dialog").getActionIssueKey);AJS.namespace("JIRA.Dialog.getAttrFromActiveTrigger",null,require("quick-edit/util/dialog").getAttrFromActiveTrigger);AJS.namespace("JIRA.Dialog.getIssueActionTitle",null,require("quick-edit/util/dialog").getIssueActionTitle);AJS.namespace("JIRA.Dialog.shouldShowIssueKeyInTitle",null,require("quick-edit/util/dialog").shouldShowIssueKeyInTitle);;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/jira.js' */
define("quick-edit/util/jira",["quick-edit/templates/issue","jira/util/data/meta","aui/message","jquery"],function(d,f,c,m){var a=function(r){var p,o,n,q=r.closest(".tabs-pane");if(q.length){o=q.closest(".aui-tabs");p=q.attr("id");n=o.find("a[href='#"+p+"']");n.click()}};var i=function(o,n){return l("error",o,AJS.escapeHtml(n),false)};var b=function(o,n){return l("error",o,n,false)};var h=function(p,q){var o,n=[];m.each(q,function(s,v){var u,r,t=p.find(":input[name='"+s+"']").last();if(t.length===1){if(!o){o=t}r=m("<div class='error' />").attr("data-field",s).text(v);u=t.closest(".field-group, .group");u.find(".error").remove();u.append(r)}else{if(t.length===0){n.push(v)}}});if(n.length>0){b(p,d.undealtErrors({errors:n}))}a(p.find(".error:first"));if(o){o.focus()}};var l=function(n,p,o,r){var q=p.find(".aui-message-context");if(!q.length){q=m("<div class='aui-message-context' />");q.prependTo(p.find(".form-body"))}q.empty();c[n](q,{shadowed:false,closeable:r,body:o})};var k=function(o,n){return l("success",o,n,true)};var j=function(o){var n=m(o);return{html:n.not("script"),scripts:n.filter("script")}};var e=function(n){if(m.isFunction(n)){return n}else{return function(){return n}}};var g=function(){f.get("keyboard-accesskey-modifier")};return{activateTabWithChild:a,applyErrorMessageToForm:i,applyErrorsToForm:h,applyMessageToForm:l,applySuccessMessageToForm:k,getModifierKey:g,extractScripts:j,makePropertyFunc:e}});AJS.namespace("JIRA.activateTabWithChild",null,require("quick-edit/util/jira").activateTabWithChild);AJS.namespace("JIRA.applyErrorMessageToForm",null,require("quick-edit/util/jira").applyErrorMessageToForm);AJS.namespace("JIRA.applyErrorsToForm",null,require("quick-edit/util/jira").applyErrorsToForm);AJS.namespace("JIRA.applyMessageToForm",null,require("quick-edit/util/jira").applyMessageToForm);AJS.namespace("JIRA.applySuccessMessageToForm",null,require("quick-edit/util/jira").applySuccessMessageToForm);AJS.namespace("JIRA.extractScripts",null,require("quick-edit/util/jira").extractScripts);AJS.namespace("JIRA.makePropertyFunc",null,require("quick-edit/util/jira").makePropertyFunc);;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field/configurable.js' */
define("quick-edit/form/field/configurable",["quick-edit/util/jira","quick-edit/util/control","quick-edit/templates/form","jira/util/events","jira/util/events/types","jquery"],function(b,e,d,a,c,f){return e.extend({init:function(g){this.descriptor=g;this.$element=f("<div />").attr("id","qf-field-"+this.getId())},focus:function(){this.$element.find(":input:first").focus()},highlight:function(){var g=this;this.$element.css("backgroundColor","#fff").animate({backgroundColor:"lightyellow"},function(){g.$element.animate({backgroundColor:"#fff"},function(){g.$element.css("backgroundColor","")})})},getLabel:function(){return this.descriptor.label},getId:function(){return this.descriptor.id},activate:function(h){var g;this.active=true;this.$element.addClass("qf-field-active").show();this.$element.find("textarea").trigger("refreshInputHeight");if(!h){g=this.render();this.$element.append(g.scripts);this.focus();a.trigger(c.NEW_CONTENT_ADDED,[this.$element]);this.$element.scrollIntoView();this.triggerEvent("activated")}},hasVisibilityFeature:function(){return !!this.descriptor.hasVisibilityFeature},hasRetainFeature:function(){return !!this.descriptor.hasRetainFeature},isActive:function(){return this.active},disable:function(g){this.render();this.active=false;this.$element.removeClass("qf-field-active").hide();if(!g){this.triggerEvent("disabled")}},render:function(){var h=d.field(this.descriptor),g=b.extractScripts(h);this.$element.html(g.html).addClass("qf-field").data("model",this);return{element:this.$element,scripts:g.scripts}}})});AJS.namespace("JIRA.Forms.ConfigurableField",null,require("quick-edit/form/field/configurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/model.js' */
define("quick-edit/form/model",["quick-edit/util/class","jira/util/data/meta","jira/util/objects","jira/ajs/ajax/smart-ajax","jquery"],function(a,c,b,d,e){return a.extend({init:function(f){this.userFieldsResource=f.userFieldsResource;this.fieldsResource=f.fieldsResource;this.retainedFields=[];this._hasRetainFeature=false;this._hasVisibilityFeature=true},getFieldsResource:function(){return this.fieldsResource},getAtlToken:function(){return this.atlToken},getFormToken:function(){return this.formToken},getActiveFieldIds:function(){return this.getUserFields()},addFieldToRetainValue:function(f){if(this._hasRetainFeature){this.removeFieldToRetainValue(f);this.retainedFields.push(f)}else{throw new Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature=true]")}},clearRetainedFields:function(){this.retainedFields=[]},removeFieldToRetainValue:function(g){if(this._hasRetainFeature){var f=e.inArray(g,this.retainedFields);if(f!=-1){this.retainedFields.splice(f,1)}}else{throw new Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature=true]")}},getFieldsWithRetainedValues:function(){if(this._hasRetainFeature){return this.retainedFields}else{throw new Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature=true]")}},hasRetainedValue:function(f){if(this._hasRetainFeature){return e.inArray(f.id,this.retainedFields)!==-1}else{throw new Error("HasRetainedValue: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature=true]")}},refresh:function(h){var f=this,g=e.Deferred(),i;if(h){i=h+"&retainValues=true"}d.makeRequest({url:this.getFieldsResource(),type:"POST",data:i,success:function(j){f._update(j)},complete:function(k,l,j){if(j.successful){g.resolveWith(f,arguments)}else{f.triggerEvent("serverError",[j]);g.rejectWith(f,[j])}}});return g.promise()},_update:function(f){this.atlToken=f.atl_token;this.formToken=f.formToken;this.fields=f.fields;this.sortedTabs=f.sortedTabs;this.userPreferences=f.userPreferences},setFields:function(f){this.fields=f},getConfigurableFields:function(){return this.getFields()},getFields:function(){var f=this,g=e.Deferred();if(!this.fields){this.refresh().done(function(){g.resolve(f.fields)})}else{g.resolve(f.fields)}return g.promise()},_mungeTabs:function(g){var f=0,h=[];e.each(g,function(j,k){f++;if(k.tab){if(!h[k.tab.position]){h[k.tab.position]=b.copyObject(k.tab)}if(k.tab.position===0){h[k.tab.position].isFirst=true}if(!h[k.tab.position].fields){h[k.tab.position].fields=[]}h[k.tab.position].fields.push(b.copyObject(k))}});return h},getTabs:function(){var f=this,g=e.Deferred();this.getFields().done(function(h){var i=f._mungeTabs(h);g.resolve(i)});return g.promise()},getSortedTabs:function(){var f=e.Deferred();if(!this.sortedTabs){this.refresh().done(function(){f.resolve(this.sortedTabs)})}else{f.resolve(this.sortedTabs)}return f.promise()},getUserFields:function(){var f=this,g=e.Deferred();if(!this.userPreferences){this.refresh().done(function(){g.resolve(f.userPreferences.fields)})}else{g.resolve(f.userPreferences.fields)}return g.promise()},setUserFields:function(f){var g={};g.fields=f;return this.updateUserPrefs(g)},hasRetainFeature:function(){return !!this._hasRetainFeature},hasVisibilityFeature:function(){return !!this._hasVisibilityFeature},getUseConfigurableForm:function(){var f=this,g=e.Deferred();if(!this.userPreferences){this.refresh().done(function(){g.resolve(f.userPreferences.useQuickForm)}).fail(function(){g.reject()})}else{g.resolve(f.userPreferences.useQuickForm)}return g.promise()},setUseConfigurableForm:function(f){var g={};g.useQuickForm=f;return this.updateUserPrefs(g)},updateUserPrefs:function(h){var g=e.Deferred(),f=this;if(c.get("remote-user")===""){g.done();return g.promise()}if(!this.userPreferences){g.reject();return g.promise()}if(!h.fields){h.fields=this.userPreferences.fields}if(typeof h.showWelcomeScreen==="undefined"){h.showWelcomeScreen=this.userPreferences.showWelcomeScreen}if(typeof h.useQuickForm==="undefined"){h.useQuickForm=this.userPreferences.useQuickForm}return d.makeRequest({url:this.userFieldsResource,type:"POST",data:JSON.stringify(h),dataType:"json",contentType:"application/json",complete:function(j,k,i){if(i.successful){f.userPreferences=h}else{f.triggerEvent("serverError",[i])}}})}})});AJS.namespace("JIRA.Forms.Model",null,require("quick-edit/form/model"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/create-issue.js' */
define("quick-edit/form/model/create-issue",["quick-edit/form/model","wrm/context-path","underscore","jquery"],function(a,c,b,d){return a.extend({DEFAULT_NON_RETAINED_FIELDS:["summary","description","timetracking","timetracking_originalestimate","timetracking_remainingestimate","worklog","worklog_startDate","worklog_timeLogged","worklog_newEstimate","worklog_adjustmentAmount","attachment"],CUSTOMFIELD_PATTERN:/^(customfield_(\d+))(?:|\:(?:\d+))$/,TIMETRACKING_PATTERN:/^timetracking_/,init:function(e){e=e||{};this.userFieldsResource=c()+"/rest/quickedit/1.0/userpreferences/create";this._hasRetainFeature=true;this._hasVisibilityFeature=true;this.retainedFields=[];this.dirtyFields=[];this.initIssueType=e.issueType;this.initProjectId=e.projectId;this.parentIssueId=e.parentIssueId;this.nonRetainedFields=this.DEFAULT_NON_RETAINED_FIELDS;if(e.nonRetainedFields){this.nonRetainedFields=b.union(e.nonRetainedFields,this.DEFAULT_NON_RETAINED_FIELDS)}},getParentIssueId:function(){return this.parentIssueId},isInMultipleMode:function(){return this.multipleMode},setIsMultipleMode:function(e){this.multipleMode=e},getActiveFieldIds:function(){var e=this,f=d.Deferred(),g=[];this.getUserFields().done(function(h){d.each(h,function(k,j){g.push(j)});e.getRequiredFields().done(function(i){d.each(i,function(k,j){if(d.inArray(j.id,g)===-1){g.push(j.id)}});f.resolve(g)})});return f.promise()},hasVisibilityFeature:function(e){return !e.required},getFieldsResource:function(){var e=c()+"/secure/QuickCreateIssue!default.jspa?decorator=none";if(this.parentIssueId){return e+"&parentIssueId="+this.parentIssueId}if(this.initIssueType){e=e+"&issuetype="+this.initIssueType;delete this.initIssueType}if(this.initProjectId){e=e+"&pid="+this.initProjectId;delete this.initProjectId}return e},addFieldToRetainValue:function(h,f){var e=!b.contains(this.nonRetainedFields,h);var g=h.match(/^filetoconvert/)!==null;if(e||g||f){this._super(h)}},getRequiredFields:function(){var e=d.Deferred(),f=[];this.getFields().done(function(g){d.each(g,function(h,j){if(j.required){f.push(j)}});e.resolve(f)});return e.promise()},getConfigurableFields:function(){var e=d.Deferred(),f=[];this.getFields().done(function(g){d.each(g,function(h,j){if(j.id!=="project"&&j.id!=="issuetype"){f.push(j)}});e.resolve(f)});return e.promise()},getIssueSetupFields:function(){var e=d.Deferred(),f=[];this.getFields().done(function(g){d.each(g,function(h,j){if(j.id==="project"||j.id==="issuetype"){f.push(j)}});e.resolve(f)});return e.promise()},markFieldAsDirty:function(e){e=this.normalizeCustomFieldId(e);if(!this.fieldIsDirty(e)){this.dirtyFields.push(e)}},fieldIsDirty:function(e){return b.contains(this.dirtyFields,e)},isCustomFieldId:function(e){return e&&!!e.match(this.CUSTOMFIELD_PATTERN)},isTimetrackingFieldId:function(e){return e&&!!e.match(this.TIMETRACKING_PATTERN)},normalizeCustomFieldId:function(e){if(this.isCustomFieldId(e)){return e.match(this.CUSTOMFIELD_PATTERN)[1]}else{return e}},normalizeFieldParam:function(e,f){if(e=="filetoconvert"){return e+"-"+f}else{if(this.isCustomFieldId(e)){return this.normalizeCustomFieldId(e)}else{if(this.isTimetrackingFieldId(e)){return"timetracking"}else{return e}}}}})});AJS.namespace("JIRA.Forms.CreateIssueModel",null,require("quick-edit/form/model/create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/edit-issue.js' */
define("quick-edit/form/model/edit-issue",["quick-edit/form/model","underscore","jquery"],function(a,b,c){return a.extend({getUnconfigurableTabs:function(){var d=this,e=c.Deferred();d.getTabs().done(function(g){var f=g.slice(0);f[0].fields=f[0].fields.slice(0);c.each(f[0].fields,function(h,j){if(j.id==="comment"){f[0].fields.splice(h,1);return false}});e.resolve(f)});return e.promise()},getCommentField:function(){var d=c.Deferred();this.getFields().done(function(e){c.each(e,function(f,g){if(g.id==="comment"){d.resolve(g)}});d.reject()});return d.promise()}})});AJS.namespace("JIRA.Forms.EditIssueModel",null,require("quick-edit/form/model/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/factory/edit-issue.js' */
define("quick-edit/form/model/factory/edit-issue",["quick-edit/form/model/edit-issue","wrm/context-path"],function(b,a){return function(c){return new b({fieldsResource:a()+"/secure/QuickEditIssue!default.jspa?issueId="+c+"&decorator=none",userFieldsResource:a()+"/rest/quickedit/1.0/userpreferences/edit"})}});AJS.namespace("JIRA.Forms.Model.createQuickEditIssueModel",null,require("quick-edit/form/model/factory/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/helper/helper.js' */
define("quick-edit/form/helper/helper",["quick-edit/util/jira","quick-edit/form/model","quick-edit/util/class","jira/jquery/plugins/isdirty","jira/util/events","jira/dialog/dialog","underscore","jquery"],function(c,a,b,g,h,e,f,i){var d=AJS.escapeHTML;return b.extend({init:function(j){this.form=j},handleSubmitSuccess:function(m){function l(n,p,o){var q='<a href="'+o+'">'+n+" - "+d(p)+"</a>";return AJS.format("Issue {0} has been successfully created",q)}var j=this,k=this.form.$element.find("#summary").val();m.summary=k;this.form.triggerEvent("submitted",[m,this]);this.form.triggerEvent("issueCreated",[m,this],true);if(j.form.model.isInMultipleMode()){this.form.render().done(function(){var n=l(m.issueKey,k,contextPath+"/browse/"+m.issueKey);c.applySuccessMessageToForm(j.form.getForm(),n)})}else{this.form.triggerEvent("sessionComplete")}},getCreateAnotherCheckbox:function(){return this.form.$element.find("#qf-create-another")},isInMultipleMode:function(){return this.getCreateAnotherCheckbox().is(":checked")},getProjectField:function(){return this.form.$element.find(".issue-setup-fields #project")},getIssueTypeField:function(){return this.form.$element.find(".issue-setup-fields #issuetype")},serializeForToggle:function(l){if(!this.form.model.hasRetainFeature()){return this.form.getForm().serialize()}var n=this.form.model.prevActiveFields||[];var t=this.form.getForm().serializeArray();var p=function(u){return this.form.model.normalizeFieldParam(u.name,u.value)}.bind(this);var m=this.form.getActiveFieldIds();var o=i.grep(t,function(u){return i.inArray(p(u),m)!==-1});var j=i.grep(n,function(u){return i.inArray(p(u),m)===-1});var k=i.map(j,function(u){return p(u)});var r=i.merge(o,j);var q=i.merge(m,k);this.form.model.prevActiveFields=i.extend(true,[],r);if(l){q=this.executeProjectChangedSecuritySettingAction(q)}q=q.filter(function(u){return !this.form.model.isCustomFieldId(u)||this.form.model.fieldIsDirty(u)}.bind(this));var s=i.merge([{name:"retainValues",value:true}],r);i.each(t,function(u,v){if(v.name==="pid"||v.name==="issuetype"){s.push(v)}});s.push({name:"toggle",value:true});i.each(q,function(u,v){s.push({name:"fieldsToRetain",value:v})});s.push({name:"formToken",value:this.form.model.getFormToken()});return i.param(s)},executeProjectChangedSecuritySettingAction:function(j){return f.reject(j,function(k){return k==="security"})},prepareFieldsToRetain:function(j,k){i.each(j,function(l,m){k.push({name:"fieldsToRetain",value:m})});return k},setIssueType:function(){var j=this,k=this.serializeForToggle();this.form.invalidateFieldsCache();this.form.disable();this.form.render(k).done(function(){j.form.enable()})},setProjectId:function(){var j=this,k=this.serializeForToggle(true);this.form.invalidateFieldsCache();this.form.disable();this.form.render(k).done(function(){j.form.enable()})},saveFormDirtyStatus:function(){this.form.isDirty=this.form.getForm().isDirty()},restoreFormDirtyStatus:function(){if(this.form.isDirty){this.form.getForm().addClass(g.ClassNames.BY_DEFAULT)}},decorate:function(){var j=this;this.getProjectField().change(function(){j.saveFormDirtyStatus();h.trigger("dialogBeforeContentChange",["projectId",this.value,e.current.options.id]);j.setProjectId(this.value)});this.getIssueTypeField().change(function(){j.saveFormDirtyStatus();h.trigger("dialogBeforeContentChange",["issueType",this.value,e.current.options.id]);j.setIssueType(this.value)});this.getCreateAnotherCheckbox().change(function(){j.form.model.setIsMultipleMode(this.checked)})},decorateFields:function(){var j=this;this.form.$element.find('*[id^="customfield_"]').off("change.customField").on("change.customField",function(){if(j.form.model.isCustomFieldId(this.name)){j.form.model.markFieldAsDirty(this.name)}})},sendQuickEditAnalyticsEvent:function(l){var j=l.instance;var k=l.name;var o;var n;var m=j.model.fields.map(function(p){return{id:p.id,required:p.required}});if(l.field){n={id:l.field.descriptor.id,required:l.field.descriptor.required}}j.model.getActiveFieldIds().then(function(p){o=m.filter(function(q){return p.some(function(r){return r===q.id})});AJS.trigger("analyticsEvent",{name:k,data:{allFieldsShown:l.allFieldsShown,field:JSON.stringify(n),allFields:JSON.stringify(m),displayedFields:l.allFieldsShown?JSON.stringify(m):JSON.stringify(o)}})})}})});AJS.namespace("JIRA.Forms.CreateIssueHelper",null,require("quick-edit/form/helper/helper"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/abstract/abstract.js' */
define("quick-edit/form/abstract",["quick-edit/util/jira","quick-edit/util/control","jira/ajs/ajax/smart-ajax","jira/dialog/form-dialog","jira/dialog/dialog","jira/util/events/types","jira/util/events","jira/util/browser","jquery","underscore"],function(d,b,a,c,g,j,k,i,l,h){var f=AJS.extractBodyFromResponse;var e=AJS.log;return b.extend({submit:function(){var m=this;m.getForm().addClass("submitting");this.triggerEvent("submitting",[],true);return a.makeRequest({url:this.getAction(),type:"POST",beforeSend:function(){m.disable()},data:this.serialize(),complete:function(s,t,o){var q=o.data;m.getForm().find(".aui-message-context").remove();m.enable();m.getForm().find(".error").remove();if(o.successful){m.performAnalytics();if(q&&q.fields){m.invalidateFieldsCache();m.model.setFields(q.fields)}if(typeof q==="string"){var r=l(f(q));var p=r.find("#atl_token").val();if(p){m.model.atlToken=p;m.getForm().find('input[name="atl_token"]').val(p)}var n=new c({offsetTarget:"body",content:r});n._handleServerSuccess=function(){if(n.prev){n.prev._removeStackState();n.prev._resetWindowTitle();n._removeStackState()}n.hide();m.triggerEvent("sessionComplete",[],true);m.handleSubmitSuccess()};n._handleServerError=function(u){n.hide();m.handleSubmitError(u)};n.show()}else{m.handleSubmitSuccess(o.data)}}else{m.handleSubmitError(s)}m.getForm().removeClass("submitting")}})},disable:function(){this.getForm().find(":input").attr("disabled","disabled").trigger("disable");this.getForm().find(":submit").attr("disabled","disabled")},enable:function(){this.getForm().find(":input").removeAttr("disabled").trigger("enable");this.getForm().find(":submit").removeAttr("disabled")},getActiveFieldIds:function(){throw new Error("getActiveFieldIds: Abstract, must be implemented by sub class")},serialize:function(o){var m=this,n=this.getForm().serialize();if(this.model.isInMultipleMode&&this.model.isInMultipleMode()){n=n+"&multipleMode=true"}if(this.model.hasRetainFeature()){this.model.clearRetainedFields();l.each(this.getActiveFieldIds(),function(q,p){m.model.addFieldToRetainValue(p,o)});l.each(this.model.getFieldsWithRetainedValues(),function(p,q){n=n+"&fieldsToRetain="+q})}return n},invalidateFieldsCache:function(){delete this.fields},setInitialFocus:function(){this.getFormContent().find(":input:first").focus()},handleSubmitSuccess:function(){this.triggerEvent("submitted");i.reloadViaWindowLocation()},performAnalytics:function(){var m=function(p,q){var o="***** Analytics log ["+p+"]";if(q){o+="["+JSON.stringify(q)+"]"}e(o);if(AJS.EventQueue){AJS.EventQueue.push({name:p,properties:q||{}})}};var n=function(q){var o={};var r=h.filter(q,function(s){return !h.contains(["isCreateIssue","isEditIssue","atl_token","hasWorkStarted"],s.name)});var p=h.filter(r,function(s){return s.value!=""});h.each(p,function(t){var s=t.name;if(!h.has(o,s)){o[s]=[]}o[s].push(t.value)});return o};this.previousAnalytics=(function(w,A){var r=n(w);var y=h.keys(r);var s=h.keys(A.data);var v=h.difference(y,s);var z=h.difference(s,y);var x=h.intersection(s,y);var p=h.filter(x,function(B){return h.isEqual(A.data[B],r[B])});var o=h.difference(x,p);var u=A.count+1;var t=(g.current.options.id==="edit-issue-dialog");var q={"atlassian.numCreates":u,"edit.form":t};h.each(v,function(B){q[B]="added"});h.each(z,function(B){q[B]="removed"});h.each(p,function(B){q[B]="same"});h.each(o,function(B){q[B]="changed"});m("quick.create.fields",q);return{data:r,count:u}})(this.getForm().serializeArray(),this.previousAnalytics||{data:{},count:0})},addErrorMessage:function(m){d.applyErrorMessageToForm(this.getForm(),[m])},handleSubmitError:function(r){var m=this;var s;if(!r.responseText){var o=a.SmartAjaxResult(r,undefined,r.statusText,"",false,undefined);var n=a.buildSimpleErrorContent(o);m.addErrorMessage(n)}else{try{s=JSON.parse(r.responseText)}catch(q){}if(s){if(s.errorMessages&&s.errorMessages.length){d.applyErrorMessageToForm(this.getForm(),s.errorMessages[0])}if(s&&s.errors&&r.status===400){if(this.getFieldById){l.each(s.errors,function(t){if(/^timetracking/.test(t)){m.getFieldById("timetracking").done(function(u){k.trigger(j.VALIDATE_TIMETRACKING,[m.$element]);u.activate(true)})}else{if(/^worklog/.test(t)){m.getFieldById("worklog").done(function(u){k.trigger(j.VALIDATE_TIMETRACKING,[m.$element]);u.activate(true)})}else{m.getFieldById(t).done(function(u){u.activate(true)})}}})}d.applyErrorsToForm(this.getForm(),s.errors);this.triggerEvent("validationError",[this,s.errors],true)}var p=m.$element.find(".error");if(p.length){p[0].scrollIntoView(false)}}}},getAction:function(){return this.action},getFormContent:function(){return this.$element.find("div.content")},getForm:function(){return this.$element.find("form")},createField:function(){throw new Error("AbstractForm: You must implement [createField] method in subclass.")},_getActiveAttachments:function(m){var n=[];if(!m){return n}var p=m.split("&");for(var o=0;o<p.length;o++){var q=p[o].split("=");if(q[0]=="filetoconvert"){n.push(q[1])}}return n},_setActiveAttachments:function(n){var m=this.$element.find("input[name=filetoconvert]");m.each(function(){var p=l(this);var o=h.contains(n,p.attr("value"));p.prop("checked",o)})},render:function(o){var n=l.Deferred(),m=this;var p=m._getActiveAttachments(o);if(o){this.invalidateFieldsCache();this.model.refresh(o).done(function(){m._render().done(function(r,q){m.triggerEvent("rendered",[m.$element]);n.resolveWith(m,[m.$element,q])})})}else{m._render().done(function(r,q){m.triggerEvent("rendered",[m.$element]);n.resolveWith(m,[m.$element,q])})}n.always(function(){m._setActiveAttachments(p)});return n.promise()}})});AJS.namespace("JIRA.Forms.AbstractForm",null,require("quick-edit/form/abstract"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/abstract/configurable.js' */
define("quick-edit/form/abstract/configurable",["quick-edit/form/abstract","quick-edit/form/field/configurable","quick-edit/form/helper/helper","jquery"],function(a,c,b,d){return a.extend({getFields:function(){var f=d.Deferred(),e=this;if(!this.fields){this.fields=[];this.model.getConfigurableFields().done(function(g){d.each(g,function(h,k){var j=e.createField(k);e.fields.push(j)});f.resolveWith(e,[e.fields])})}else{f.resolveWith(this,[this.fields])}return f.promise()},getActiveFieldIds:function(){var f=[],e=this.$element.find(".qf-field.qf-field-active:not(.qf-required), .qf-field.qf-required:not(.qf-field-active)");d.each(e,function(j,k){var h=d(k);var g=h.data("model");var l=h.data("field-id")||g&&g.getId();if(l!=null){f.push(l)}if(l==="attachment"){h.find("input[name=filetoconvert]").each(function(){f.push(this.id)})}});return f},createField:function(h){h.hasVisibilityFeature=this.model.hasVisibilityFeature(h);if(this.model.hasRetainFeature(h)){h.hasRetainFeature=true;h.retainValue=this.model.hasRetainedValue(h)}var e=this,g=new c(h),f=new b(e);if(h.hasVisibilityFeature){g.bind("activated",function(){e.model.setUserFields(e.getActiveFieldIds());g.highlight();e.triggerEvent("QuickForm.fieldAdded",[g]);f.sendQuickEditAnalyticsEvent({name:"quickeditform.custom.added",field:g,instance:e})}).bind("disabled",function(){e.model.setUserFields(e.getActiveFieldIds());e.triggerEvent("QuickForm.fieldRemoved",[g]);f.sendQuickEditAnalyticsEvent({name:"quickeditform.custom.removed",field:g,instance:e})})}return g},getFieldById:function(g){var e=this,f=d.Deferred();this.getFields().done(function(h){d.each(h,function(j,k){if(k.getId()===g){f.resolveWith(e,[k])}});f.rejectWith(e,[])});return f.promise()},hasNoVisibleFields:function(){var e=d.Deferred();e.resolve(this.getActiveFieldIds().length===0);return e.promise()},renderFormContents:function(){var g=d.Deferred(),f=d(),e=this;e.getFields().done(function(i){var h=e.reorderFieldsToRender(i);e.model.getActiveFieldIds().done(function(j){d.each(h,function(){var k=this.render();f=f.add(k.scripts);e.getFormContent().append(k.element)});d.each(j,function(l,k){d.each(h,function(){if(this.getId()===k){this.activate(true)}})});d.each(h,function(){if(!this.isActive()){this.disable(true)}});e.hasNoVisibleFields().done(function(l){if(l===true){for(var k=0;k<3;k++){if(h[k]){h[k].activate(true)}}}g.resolveWith(this,[e.$element,f])})})});return g.promise()},reorderFieldsToRender:function(e){return e}})});AJS.namespace("JIRA.Forms.AbstractConfigurableForm",null,require("quick-edit/form/abstract/configurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/abstract/unconfigurable.js' */
define("quick-edit/form/abstract/unconfigurable",["quick-edit/form/abstract","quick-edit/templates/issue","jquery"],function(a,b,c){return a.extend({getFieldsHtml:function(){var d=this,e=c.Deferred(),f={};this.model.getTabs().done(function(g){if(g.length===1){f.fields=g[0].fields}else{f.tabs=g;f.hasTabs=true}e.resolveWith(d,[b.issueFields(f)])});return e.promise()},getActiveFieldIds:function(){var e=[];this.model.getFields().done(function(f){c.each(f,function(g,h){e.push(h.id)})});if(e.indexOf("attachment")){var d=this.$element.find("input[name=filetoconvert]").map(function(f,g){return g.id}).toArray();e.push.apply(e,d)}return e},getFields:function(){var e=c.Deferred(),d=this;if(!this.fields){this.fields=[];this.model.getFields().done(function(f){c.each(f,function(g,j){var h=d.createField(j);d.fields.push(h)});e.resolveWith(d,[d.fields])})}else{e.resolveWith(this,[this.fields])}return e.promise()}})});AJS.namespace("JIRA.Forms.AbstractUnconfigurableForm",null,require("quick-edit/form/abstract/unconfigurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/configurable/create-issue.js' */
define("quick-edit/form/configurable/create-issue",["quick-edit/form/abstract/configurable","quick-edit/form/helper/helper","quick-edit/templates/issue","quick-edit/util/jira","jira/util/users/logged-in-user","wrm/context-path","jquery"],function(d,c,e,a,g,b,f){return d.extend({init:function(h){this.model=h.model;this.helper=new c(this);this.globalEventNamespaces=h.globalEventNamespaces||[];this.issueId=h.issueId;this.title=h.title;this._serialization={};this.action=b()+"/secure/QuickCreateIssue.jspa?decorator=none";this.$element=f("<div />").addClass("qf-form qf-configurable-form")},handleSubmitSuccess:function(h){return this.helper.handleSubmitSuccess(h)},_render:function(){var i=f.Deferred(),h=this;h.model.getIssueSetupFields().done(function(k){var j=e.createIssueForm({issueSetupFields:k,atlToken:h.model.getAtlToken(),formToken:h.model.getFormToken(),isConfigurable:true,title:h.title,parentIssueId:h.model.getParentIssueId(),multipleMode:h.model.isInMultipleMode(),showFieldConfigurationToolBar:!g.isAnonymous(),modifierKey:a.getModifierKey()});h.$element.html(j);h.helper.decorate();h.renderFormContents().done(function(m,l){h.helper.decorateFields();i.resolveWith(h,[h.$element,l])});h.bind("QuickForm.fieldAdded",function(){h.helper.decorateFields()})});return i.promise()}})});AJS.namespace("JIRA.Forms.ConfigurableCreateIssueForm",null,require("quick-edit/form/configurable/create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/configurable/edit-issue.js' */
define("quick-edit/form/configurable/edit-issue",["quick-edit/form/abstract/configurable","quick-edit/util/jira","quick-edit/templates/issue","jira/util/users/logged-in-user","wrm/context-path","jquery"],function(c,a,d,f,b,e){return c.extend({init:function(g){this.model=g.model;this.globalEventNamespaces=g.globalEventNamespaces||[];this.issueId=g.issueId;this.title=g.title;this.action=b()+"/secure/QuickEditIssue.jspa?issueId="+g.issueId+"&decorator=none";this.$element=e("<div />").addClass("qf-form qf-configurable-form")},handleSubmitSuccess:function(g){this.triggerEvent("submitted",[g]);this.triggerEvent("issueEdited",[g],true);this.triggerEvent("sessionComplete")},hasNoVisibleFields:function(){var g=e.Deferred(),h=this.getActiveFieldIds();this.model.getUserFields().done(function(i){if(i.length===1&&i[0]==="comment"){g.resolve(false)}else{if(h.length===0||(h.length===1&&h[0]==="comment")){g.resolve(true)}else{g.resolve(false)}}});return g.promise()},_render:function(){var h=e.Deferred(),g=this,i=d.editIssueForm({issueId:this.issueId,title:this.title,atlToken:g.model.getAtlToken(),formToken:g.model.getFormToken(),isConfigurable:true,modifierKey:a.getModifierKey(),showFieldConfigurationToolBar:!f.isAnonymous()});this.$element.html(i);g.renderFormContents().done(function(k,j){g.getFieldById("comment").done(function(l){g.getFormContent().append(l.$element)});h.resolveWith(g,[g.$element,j])});return h.promise()}})});AJS.namespace("JIRA.Forms.ConfigurableEditIssueForm",null,require("quick-edit/form/configurable/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field-picker/button/configurable.js' */
define("quick-edit/form/field-picker/button/configurable",["quick-edit/util/control","quick-edit/templates/form"],function(b,a){return b.extend({init:function(d){var c=this;this.field=d.field;this.field.bind("disabled",function(){c.$element.removeClass("qf-active")}).bind("activated",function(){c.$element.addClass("qf-active")})},toggle:function(){if(this.field.isActive()){this.field.disable()}else{this.field.activate()}},getId:function(){return this.field.getId()},render:function(){this.$element=jQuery(a.configurablePickerButton({required:this.field.descriptor.required,label:this.field.getLabel(),fieldId:this.field.getId(),isActive:this.field.isActive()}));this._assignEvents("button",this.$element);return this.$element},_events:{button:{click:function(c){this.toggle();c.preventDefault()}}}})});AJS.namespace("JIRA.Forms.FieldPicker.ConfigurableButton",null,require("quick-edit/form/field-picker/button/configurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field-picker/button/unconfigurable.js' */
define("quick-edit/form/field-picker/button/unconfigurable",["quick-edit/util/control","quick-edit/templates/form","jquery"],function(b,a,c){return b.extend({init:function(d){this.descriptor=d},render:function(){this.$element=c(a.unconfigurablePickerButton({required:this.descriptor.required,label:this.descriptor.label,fieldId:this.descriptor.id,isActive:true}));return this.$element}})});AJS.namespace("JIRA.Forms.FieldPicker.UnconfigurableButton",null,require("quick-edit/form/field-picker/button/unconfigurable"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field-picker/field-picker.js' */
define("quick-edit/form/field-picker",["quick-edit/form/field-picker/button/configurable","quick-edit/form/field-picker/button/unconfigurable","quick-edit/templates/form","quick-edit/util/control","aui/inline-dialog","jquery"],function(a,e,b,d,c,f){return d.extend({INLINE_DIALOG_ID:"field_picker_popup",init:function(){this.buttons=[]},switchToAll:function(g){this.isConfigurable=false;if(g!==true){this.hideCallback=function(){this.remove()};this.inlineDialog.hide();this.triggerEvent("switchedToAll")}},setForm:function(g){this.form=g},switchToCustom:function(g){this.isConfigurable=true;if(g!==true){this.hideCallback=function(){this.remove()};this.inlineDialog.hide();this.triggerEvent("switchedToCustom")}},hideCallback:function(){},bindInlineDialog:function(){var h=this;var g=this.getInlineDialogTrigger();function i(l,j,k){h.render().done(function(m){if(l.find(".qf-picker").length===0){l.html(m);l.click(function(q){q.stopPropagation()})}var p=g.offset().top-f(window).scrollTop();var o=f(window).height();var n=o-p-110;l.find(".qf-picker-content").css("maxHeight",n);k()})}if(this.inlineDialog){this.inlineDialog.remove()}this.inlineDialog=c(g,this.INLINE_DIALOG_ID,i,{width:450,upfrontCallback:function(){g.parent().addClass("active")},hideCallback:function(){g.parent().removeClass("active")},nobind:true});g.click(function(j){if(f("#inline-dialog-"+h.INLINE_DIALOG_ID).is(":visible")){h.inlineDialog.hide()}else{h.inlineDialog.show()}});return this.inlineDialog},getInlineDialogTrigger:function(){return this.form.$element.find("#qf-field-picker-trigger")},renderButtons:function(h){var g=this;var i=f('<ul class="qf-picker-buttons" />').appendTo(this.$content);f.each(h,function(k,l){var m;var j;if(g.isConfigurable){g.form.getFieldById(l.id).done(function(o){if(o&&o.hasVisibilityFeature()){var p=f("<li />").appendTo(i);var n=new a({field:o});n.render().appendTo(p);g.buttons.push(n)}})}else{j=new e(l);m=f("<li />").appendTo(i);j.render().appendTo(m)}});if(i.children().length===0){i.addClass("qf-no-fields").append("<li><em>"+"No fields can be configured for this tab"+"</em></li>")}},renderContents:function(){var g=this;var h=f.Deferred();this.form.model.getSortedTabs().done(function(i){if(i.length===1){g.renderButtons(i[0].fields)}else{f.each(i,function(j,k){if(k.fields.length>0){f("<h4><span></span></h4>").appendTo(g.$content).find("span").text(k.label);g.renderButtons(k.fields)}})}h.resolveWith(g,[g.$element])});return h.promise()},show:function(){this.inlineDialog.show()},render:function(){this.$element=f(b.fieldPicker({isConfigurable:this.isConfigurable}));this.$content=this.$element.find(".qf-picker-content");this._assignEvents("switchToCustom",this.$element.find(".qf-configurable"));this._assignEvents("switchToAll",this.$element.find(".qf-unconfigurable"));return this.renderContents()},_events:{switchToCustom:{click:function(g){this.switchToCustom();g.preventDefault()}},switchToAll:{click:function(g){this.switchToAll();g.preventDefault()}}}})});AJS.namespace("JIRA.Forms.FieldPicker",null,require("quick-edit/form/field-picker"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/container/container.js' */
define("quick-edit/form/container",["quick-edit/form/field-picker","quick-edit/util/jira","quick-edit/util/control","quick-edit/form/helper/helper","jira/dialog/form-dialog","jira/dialog/dialog","jira/util/navigator","jira/issue","jira/issuenavigator/issue-navigator","jquery"],function(i,c,a,e,b,g,j,f,d,h){return a.extend({init:function(k){this.$element=h("<div />").addClass("qf-container");this.options=c.makePropertyFunc(k);this.fieldPicker=new i();this.successData=[];this.helper=new e(this)},decorateRenderers:function(){var k=this;if(!this.fieldPicker.decorated){this.fieldPicker.bind("switchedToAll",function(){k.unconfigurableForm.render(k.currentView.serialize(true)).done(function(){k.fieldPicker.show()});k.helper.sendQuickEditAnalyticsEvent({name:"quickeditform.switched.all",allFieldsShown:true,instance:k})});this.fieldPicker.bind("switchedToCustom",function(){k.configurableForm.render(k.currentView.serialize(true)).done(function(){k.fieldPicker.show()});k.helper.sendQuickEditAnalyticsEvent({name:"quickeditform.switched.custom",allFieldsShown:false,instance:k})});this.fieldPicker.decorated=true}if(!this.configurableForm.decorated){this.configurableForm.bind("rendered",function(m,l){k.currentView=k.configurableForm;k.fieldPicker.switchToCustom(true);k.fieldPicker.setForm(k.configurableForm);k.fieldPicker.bindInlineDialog();k.applyGlobalDecorator(l);k.model.setUseConfigurableForm(true);k.triggerEvent("configurableFormRendered")});this.configurableForm.bind("submitted",function(m,l){k.successData.push(l);k.triggerEvent("configurableFormSubmitted");k.helper.sendQuickEditAnalyticsEvent({name:"quickeditform.submit.success",allFieldsShown:false,instance:k})});this.configurableForm.decorated=true}if(!this.unconfigurableForm.decorated){this.unconfigurableForm.bind("rendered",function(m,l){k.fieldPicker.switchToAll(true);k.fieldPicker.setForm(k.unconfigurableForm);k.fieldPicker.bindInlineDialog();k.currentView=k.unconfigurableForm;k.applyGlobalDecorator(l);k.model.setUseConfigurableForm(false);k.triggerEvent("unconfigurableFormRendered")});this.unconfigurableForm.bind("submitted",function(m,l){k.successData.push(l);k.triggerEvent("unconfigurableFormSubmitted");k.helper.sendQuickEditAnalyticsEvent({name:"quickeditform.submit.success",allFieldsShown:true,instance:k})});this.unconfigurableForm.decorated=true}},applyGlobalDecorator:function(m){function l(){if(k.currentView.setInitialFocus){k.currentView.setInitialFocus()}}var k=this;m.detach();this.$element.html(m);this.triggerEvent("contentRefreshed",[this.$element]);if(j.isIE()){window.setTimeout(l,0)}else{l()}},asDialog:function(m){m=h.extend(true,{},m);var k=this;var n;var l=!!m.modeless;this.dialog=n=new b({id:m.id,trigger:m.trigger,windowTitle:(m.windowTitle!==undefined?m.windowTitle:!l),width:(l)?g.WIDTH_PRESETS.medium:g.WIDTH_PRESETS.large,defineResources:function(){this.requireContext("jira.create.issue")},content:function(o){k.render().done(function(){o(k.$element)});k.triggerEvent("dialogShown")},submitHandler:function(p,o){p.preventDefault();k.currentView.submit().then(o,o)},stacked:true,modeless:l});if(m.id==="edit-issue-dialog"){h(this.dialog).on("beforeShow",function(o){if(!f.getIssueKey()&&!d.isRowSelected()){o.preventDefault()}})}this.dialog._focusFirstField=function(){b.prototype._focusFirstField.apply(this,["div.content :input:visible:first"])};this.bind("initialized",function(){this.unconfigurableForm.bind("sessionComplete",function(){n.hide()});this.configurableForm.bind("sessionComplete",function(){n.hide()})}).bind("contentRefreshed",function(){n.notifyOfNewContent()});n.bind("Dialog.hide",function(){if(k.successData.length){k.triggerEvent("sessionComplete",[k.successData],true);k.successData=[]}});k.$element.ajaxStart(function(){n.showFooterLoadingIndicator()}).ajaxStop(function(){n.hideFooterLoadingIndicator()});n.getQuickForm=function(){return k};n.dirtyFormWarning();return n},lazyInit:function(){var k=this;var l=this.options.call(this);this.model=l.model;this.errorHandler=l.errorHandler;this.globalEventNamespaces=l.globalEventNamespaces;this.configurableForm=l.configurableForm;this.unconfigurableForm=l.unconfigurableForm;this.sessionComplete=l.sessionComplete;this.model.clearRetainedFields();this.configurableForm.invalidateFieldsCache();this.model.bind("serverError",function(n,m){k.$element.html(k.errorHandler.render(m));k.triggerEvent("contentRefreshed",[this.$element])});this.triggerEvent("initialized");this.decorateRenderers()},render:function(){var k=this;var l=h.Deferred();this.lazyInit();k.model.getUseConfigurableForm().done(function(m){if(m===true){k.configurableForm.render().done(function(o,n){l.resolveWith(k,[k.$element]);k.$element.append(n)})}else{k.unconfigurableForm.render().done(function(o,n){l.resolveWith(k,[k.$element,n]);k.$element.append(n)})}}).fail(function(){l.resolveWith(k,[k.$element])});return l.promise()}})});AJS.namespace("JIRA.Forms.Container",null,require("quick-edit/form/container"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/error/error.js' */
define("quick-edit/form/error",["quick-edit/util/control","quick-edit/templates/form","jira/ajs/ajax/smart-ajax"],function(c,a,b){return c.extend({getErrorMessageFromSmartAjax:function(d){var f,g;if(d.hasData&&d.status!==401){try{g=JSON.parse(d.data);if(g.errorMessages&&g.errorMessages.length>0){f=a.errorMessage({message:g.errorMessages[0]})}else{f=b.buildDialogErrorContent(d,true).html()}}catch(h){f=b.buildDialogErrorContent(d,true).html()}}else{f=b.buildDialogErrorContent(d,true).html()}return f},render:function(e){var d=this.getErrorMessageFromSmartAjax(e);return this._render(d)}})});AJS.namespace("JIRA.Forms.Error",null,require("quick-edit/form/error"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/error/create-issue.js' */
define("quick-edit/form/error/create-issue",["quick-edit/form/error","quick-edit/templates/issue","jquery"],function(c,a,b){return c.extend({_render:function(d){return b(a.createIssueError({errorHtml:d}))}})});AJS.namespace("JIRA.Forms.CreateIssueError",null,require("quick-edit/form/error/create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/error/edit-issue.js' */
define("quick-edit/form/error/edit-issue",["quick-edit/form/error","quick-edit/templates/issue","jquery"],function(c,a,b){return c.extend({_render:function(d){return b(a.editIssueError({errorHtml:d}))}})});AJS.namespace("JIRA.Forms.EditIssueError",null,require("quick-edit/form/error/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/unconfigurable/create-issue.js' */
define("quick-edit/form/unconfigurable-create-issue",["quick-edit/form/abstract/unconfigurable","quick-edit/form/helper/helper","quick-edit/templates/issue","quick-edit/util/jira","jira/util/users/logged-in-user","wrm/context-path","jquery"],function(g,c,d,a,f,b,e){return g.extend({init:function(h){this._serialization={};this.globalEventNamespaces=h.globalEventNamespaces||[];this.model=h.model;this.helper=new c(this);this.title=h.title;this.action=b()+"/secure/QuickCreateIssue.jspa?decorator=none";this.$element=e("<div class='qf-unconfigurable-form' />")},handleSubmitSuccess:function(h){this.helper.handleSubmitSuccess(h)},_render:function(){var i=e.Deferred(),h=this;this.getFieldsHtml().done(function(j){h.model.getIssueSetupFields().done(function(m){var l=d.createIssueForm({issueSetupFields:m,fieldsHtml:j,parentIssueId:h.model.getParentIssueId(),atlToken:h.model.getAtlToken(),formToken:h.model.getFormToken(),title:h.title,multipleMode:h.model.isInMultipleMode(),showFieldConfigurationToolBar:!f.isAnonymous(),modifierKey:a.getModifierKey()}),k=a.extractScripts(l);h.$element.empty().append(k.html);h.helper.restoreFormDirtyStatus();h.helper.decorate();h.helper.decorateFields();i.resolveWith(h,[h.$element,k.scripts])})});return i.promise()}})});AJS.namespace("JIRA.Forms.UnconfigurableCreateIssueForm",null,require("quick-edit/form/unconfigurable-create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/unconfigurable/edit-issue.js' */
define("quick-edit/form/unconfigurable-edit-issue",["quick-edit/form/abstract/unconfigurable","quick-edit/util/jira","quick-edit/templates/issue","jira/util/users/logged-in-user","wrm/context-path","jquery"],function(f,a,c,e,b,d){return f.extend({init:function(g){this.globalEventNamespaces=g.globalEventNamespaces||[];this.model=g.model;this.issueId=g.issueId;this.title=g.title;this.action=b()+"/secure/QuickEditIssue.jspa?issueId="+g.issueId+"&decorator=none";this.$element=d("<div class='qf-unconfigurable-form' />")},getFieldsHtml:function(){var g=this,h=d.Deferred(),i={};this.model.getUnconfigurableTabs().done(function(j){if(j.length===1){i.fields=j[0].fields}else{i.tabs=j;i.hasTabs=true}h.resolveWith(g,[c.issueFields(i)])});return h.promise()},handleSubmitSuccess:function(g){this.triggerEvent("submitted",[g]);this.triggerEvent("issueEdited",[g],true);this.triggerEvent("sessionComplete")},_render:function(){var h=d.Deferred(),g=this;this.getFieldsHtml().done(function(i){var j={fieldsHtml:i,title:g.title,issueId:g.issueId,atlToken:g.model.getAtlToken(),formToken:g.model.getFormToken(),modifierKey:a.getModifierKey(),showFieldConfigurationToolBar:!e.isAnonymous()};this.model.getCommentField().then(function(m){var l,k;j.commentField=m;l=c.editIssueForm(j);k=a.extractScripts(l);g.$element.html(k.html);h.resolveWith(g,[g.$element,k.scripts])},function(){var l=c.editIssueForm(j),k=a.extractScripts(l);g.$element.html(k.html);h.resolveWith(g,[g.$element,k.scripts])})});return h.promise()}})});AJS.namespace("JIRA.Forms.UnconfigurableEditIssueForm",null,require("quick-edit/form/unconfigurable-edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/factory/create-issue.js' */
define("quick-edit/form/factory/create-issue",["quick-edit/form/container","quick-edit/form/configurable/create-issue","quick-edit/form/unconfigurable-create-issue","quick-edit/form/error/create-issue","quick-edit/form/model/create-issue"],function(e,d,c,b,a){return function(f){f=f||{};return new e(function(){f.globalEventNamespaces=f.globalEventNamespaces||["QuickCreateIssue"];var j="Create Issue",g=new a({projectId:f.pid,issueType:f.issueType}),i=new d({model:g,title:j,globalEventNamespaces:f.globalEventNamespaces}),h=new c({model:g,title:j,globalEventNamespaces:f.globalEventNamespaces});return{globalEventNamespaces:f.globalEventNamespaces,model:g,errorHandler:new b(),configurableForm:i,unconfigurableForm:h}})}});AJS.namespace("JIRA.Forms.createCreateIssueForm",null,require("quick-edit/form/factory/create-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/factory/create-subtask.js' */
define("quick-edit/form/factory/create-subtask",["quick-edit/form/container","quick-edit/form/configurable/create-issue","quick-edit/form/error/create-issue","quick-edit/form/model/create-issue","quick-edit/form/unconfigurable-create-issue","quick-edit/util/dialog","jira/issue","jira/issuenavigator/issue-navigator"],function(d,e,f,b,a,g,h,c){function j(k){return k.parentIssueId||h.getIssueId()||c.getSelectedIssueId()}return function i(k){k=k||{};return new d(function(){k.globalEventNamespaces=k.globalEventNamespaces||["QuickCreateSubtask"];var o=j(k),p=g.getIssueActionTitle("Create Subtask"),l=new b({parentIssueId:o,projectId:k.pid,issueType:k.issueType}),n=new e({model:l,title:p,globalEventNamespaces:k.globalEventNamespaces}),m=new a({model:l,title:p,globalEventNamespaces:k.globalEventNamespaces});return{globalEventNamespaces:k.globalEventNamespaces,model:l,errorHandler:new f(),configurableForm:n,unconfigurableForm:m}})}});AJS.namespace("JIRA.Forms.createSubtaskForm",null,require("quick-edit/form/factory/create-subtask"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/factory/edit-issue.js' */
define("quick-edit/form/factory/edit-issue",["quick-edit/form/container","quick-edit/form/configurable/edit-issue","quick-edit/form/error/edit-issue","quick-edit/util/dialog","quick-edit/form/model/factory/edit-issue","quick-edit/form/unconfigurable-edit-issue","jira/issue","jira/issuenavigator/issue-navigator","jquery"],function(e,a,f,g,c,i,h,d,k){function j(l){var m=g.getAttrFromActiveTrigger("data-issueId");if(k.isFunction(l.issueId)){return l.issueId(l)}else{if(l.issueId){return l.issueId}else{if(m){return m}else{return h.getIssueId()||d.getSelectedIssueId()}}}}function b(){var l="Edit Issue";if(g.shouldShowIssueKeyInTitle()){return g.getIssueActionTitle(l)}else{return l}}return function(l){l=l||{};return new e(function(){var q=j(l),p=b(),m=c(q),o=new a({title:p,model:m,issueId:q,globalEventNamespaces:["QuickEdit"]}),n=new i({title:p,model:m,issueId:q,globalEventNamespaces:["QuickEdit"]});return{globalEventNamespaces:["QuickEdit"],model:m,errorHandler:new f(),configurableForm:o,unconfigurableForm:n}})}});AJS.namespace("JIRA.Forms.createEditIssueForm",null,require("quick-edit/form/factory/edit-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue-bootstrap', location = 'js/init/create-bootstrap-wrm.js' */
require(["jquery","underscore","wrm/require","quick-edit/util/loading-indicator","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle"],function(l,k,h,i,b){var f=function(){b.disable();i.showLoadingIndicator()};var c=function(){i.hideLoadingIndicator(true);b.enable()};var g;var a=false;l(document).on("simpleClick",".create-issue, .create-issue-type",function(o){o.preventDefault();if(!a){a=true;f();var n="wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue";var m=h([n]);m.then(d.bind(undefined,o),function p(){c();a=false})}});var d=function(n){var m=require("quick-edit/init/create");m.initIssueDialog(n);b.enable();a=false};l(function(){g=document.getElementById("stqc_show");if(g){g.onclick=null}});var j=false;l(document).on("simpleClick",".issueaction-create-subtask",function(o){o.preventDefault();if(!j){j=true;f();var n="wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue";var m=h([n]);m.then(e,function p(){c();j=false})}});var e=function(n){var m=require("quick-edit/init/create");m.initSubtaskDialog(n);b.enable();j=false}});;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue', location = 'js/init/create.js' */
define("quick-edit/init/create",["quick-edit/form/factory/create-issue","quick-edit/form/factory/create-subtask","quick-edit/util/dialog","jquery"],function(d,b,a,e){var c=function(j){var g=e(j.target);var i=g.is("a")?g:g.find("a");var k=parseUri(i.attr("href")).queryKey;var h={pid:k.pid,issueType:k.issuetype};h=e.extend(h,{pid:g.attr("data-pid"),issueType:g.attr("data-issue-type")});d(h).asDialog({trigger:document.createElement("a"),id:"create-issue-dialog",windowTitle:"Create Issue"}).show()};var f=function(j){var g=e(j.target);var i=g.is("a")?g:g.find("a");var h={parentIssueId:i.attr("data-issueid")};b(h).asDialog({windowTitle:function(){return a.getIssueActionTitle("Create Subtask")},trigger:document.createElement("a"),id:"create-subtask-dialog"}).show()};return{initIssueDialog:c,initSubtaskDialog:f}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources', location = 'includes/js/gh-namespace.js' */
AJS.namespace("GH.namespace",null,AJS.namespace);;
;
/* module-key = 'com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources', location = 'includes/js/rapid/Namespaces.js' */
AJS.namespace("GH.view"),AJS.namespace("GH.view.model"),AJS.namespace("GH.Global"),AJS.namespace("GH.Dialog"),AJS.namespace("GH.Dialogs"),AJS.namespace("GH.State"),AJS.namespace("GH.XBoard"),AJS.namespace("GH.RapidBoard"),AJS.namespace("GH.HelpPaths"),AJS.namespace("GH.JQLAutoComplete"),AJS.namespace("GH.RapidBoard.Util"),AJS.namespace("GH.NumberFormat"),AJS.namespace("GH.UrlFormat");;
;
/* module-key = 'com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources', location = 'includes/js/rapid/Ajax.js' */
define("jira-agile/rapid/ajax",["jira/util/formatter","jira/ajs/ajax/smart-ajax","jira/util/data/meta","underscore","wrm/context-path","jquery","jira/jquery/deferred"],function(e,r,t,n,o,a,s){var u={};return u.CONTEXT_PATH=o(),u.REST_URL_BASE="/rest/greenhopper/1.0",u.PUBLIC_REST_URL_BASE="/rest/agile/1.0",u.xhrRegistery={},u.stallTimeout=300,u.get=function(e,r){a.extend(e,{type:"GET",headers:{"X-Atlassian-GreenHopper-Gadget":!n.isUndefined(GH.gadget)}});var t=u._executeGet(e,r);return t.pipe(function(e,r,t){return s().resolveWith(this,[e.success,r,t])})},u.post=function(e){return e=u._getSettings(e,!0),a.extend(e,{type:"POST",contentType:"application/json"}),u._executeStore(e)},u.put=function(e){return e=u._getSettings(e,!0),e.type="PUT",u._executeStore(e)},u.del=function(e){return e=u._getSettings(e,!0),e.type="DELETE",u._executeStore(e)},u._getSettings=function(e,r){return!e.bareUrl&&e.url&&(e.bareUrl=u.buildRestUrl(e.url)),e.bareUrl&&(e.url=e.bareUrl),e.dataType||(e.dataType="json"),e.data&&r&&(e.data=JSON.stringify(e.data)),e.contentType="application/json",e},u._getXhrData=function(e){var r={timestamp:0};return e&&(r=u.xhrRegistery[e]?u.xhrRegistery[e]:u.xhrRegistery[e]=r),r},u._executeGet=function(e,r){e=u._getSettings(e);var t=u._getXhrData(r);t.xhr&&(GH.log("aborting request for "+r,GH.Logger.Contexts.ajax),t.xhr.abort(),delete t.xhr,delete t.xhrAbort,delete t.timeoutId);var n=t.timestamp;if(t.timestamp=(new Date).getTime(),t.timestamp-n<u.stallTimeout){GH.log("stalling request for "+r+", time since last request: "+(t.timestamp-n),GH.Logger.Contexts.ajax);var o,a=s(),i=function(){o=u._executeGet(e,r),o.then(a.resolve,a.reject)};t.timeoutId=window.setTimeout(i,u.stallTimeout),t.xhr=a.promise(),t.xhr.abort=function(){o?o.abort.apply(o,arguments):clearTimeout(t.timeoutId)}}else GH.log("executing request for "+r,GH.Logger.Contexts.ajax),t.xhr=u.makeRequest(e);return t.xhrAbort=t.xhr.abort,t.xhr.abort=function(){var e=t.xhr,r=t.xhrAbort;if(e&&r)return r.apply(e,arguments)},t.xhr.done(function(){t.xhr&&delete t.xhr}).fail(function(){t.xhr&&delete t.xhr}),t.xhr},u._executeStore=function(e){if(e=e||{},e.data&&"string"==typeof e.data&&/\?\?/.test(e.data)){var r="\\u003F\\u003F";e.data=e.data.replace(/\?\?/g,r)}return e.dataType="json",u.makeRequest(e)},u.makeRequest=function(e){var t=s();e=n.extend(e,{success:function(){t.resolveWith(this,arguments)},error:function(){t.rejectWith(this,arguments)}});var o=t.promise(r.makeRequest(e)),a=o.abort;o.abort=function(e){return o.abortMarker="timeout"!=e,a.apply(o,arguments)};var i=o.pipe(u._generateDoneInterceptor(),u._generateFailInterceptor(e.errorsNoAutoEscape));return e.deferErrorHandling||i.fail(u._generateErrorHandler(e.onGlobalError,e.errorContextMap,e.contextualErrorRenderer,e.globalErrorDismissable)),i},u._generateDoneInterceptor=function(){return function(e,r,t){return e=e||{},e=u._createExtendedResult(e),u.matchesCurrentUser(t)?e.isSuccess()?s().resolveWith(this,[e,r,t]):s().rejectWith(this,[e,t,r,null]):u._handleCurrentUserChanged(t)}},u._generateFailInterceptor=function(e){return function(r,t,n){if(r.abortMarker)return s();if(!u.matchesCurrentUser(r))return u._handleCurrentUserChanged(r);var o={},a=null;if(r.responseText)try{o=JSON.parse(r.responseText)}catch(e){}return o.errors||o.errorMessages?a=u._convertJiraErrors(o,e):o.message&&(a=u._convertFrameworkErrors(o)),a||(a=u._convertGenericErrors(r,n)),s().rejectWith(this,[a,r,t,n])}},u.handleContextualErrors=function(e,r,t){return r=r||{},!!e.hasContextualErrors()&&(a(e.getContextualErrors()).each(function(n,o){var s=r[o.contextId];if(s)if(a.isFunction(s))s(o,e);else{s=a(s),s.siblings(".ghx-error").remove();var u;u=t?t(o):GH.tpl.rapid.notification.renderContextualErrors({errors:o.errors}),s.after(u)}else a(o.errors).each(function(r,t){e.addGlobalError(t)})}),!0)},u.handleGlobalErrors=function(e,r,t){return!!e.hasGlobalErrors()&&(GH.Notification.showErrors({errors:e.getGlobalErrors()},t),r&&r instanceof Function&&r(e),!0)},u.buildRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),u.buildBareRestUrl(u.REST_URL_BASE+e)},u.buildPublicRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),u.buildBareRestUrl(u.PUBLIC_REST_URL_BASE+e)},u.buildBareRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),u.CONTEXT_PATH+e},u._createExtendedResult=function(e){return e?u._extendResult({success:e}):u._extendResult({success:!0})},u._extendResult=function(e){return a.extend(e,{getGlobalErrors:function(){return e.error?e.error.errors:null},getContextualErrors:function(){return e.error?e.error.contextualErrors:null},hasGlobalErrors:function(){return e.error&&e.error.errors&&e.error.errors.length>0},hasContextualErrors:function(){return e.error&&e.error.contextualErrors},addGlobalError:function(r){e.error||(e.error={}),e.error.errors||(e.error.errors=[]),e.error.errors[e.error.errors.length]=r},getSuccessObject:function(){return e.success},isSuccess:function(){return!e.error}})},u._generateErrorHandler=function(e,r,t,n){return function(o){u.handleContextualErrors(o,r,t),u.handleGlobalErrors(o,e,n)}},u._convertJiraErrors=function(e,r){var t=e.errorMessages?e.errorMessages:[];t=n.map(t,function(e){return{message:e,noAutoescape:r}});var o=e.errors?e.errors:{};o=n.map(o,function(e,t){return{contextId:t,errors:[{message:e,noAutoescape:r}]}});var a={error:{errors:t,contextualErrors:o}};return u._extendResult(a)},u._convertFrameworkErrors=function(e){var r={error:{errors:[{message:e.message}],contextualErrors:[]}};return u._extendResult(r)},u._convertGenericErrors=function(r,t){var n=u._extendResult({});return r.responseText&&GH.log("Got an error response with text that we don't know how to parse: "+r.responseText),504===r.status||0===r.status&&a.contains(["abort","timeout"],t)?n.addGlobalError({status:504,message:"Request timed out"}):t?n.addGlobalError({status:r.status,message:t}):GH.log("Got an Ajax request error response with empty 'errorThrown' value. Silently logging"),n},u._hasUsernameResponseHeader=function(e){return!!e.getResponseHeader("X-AUSERNAME")},u._getUserForResponse=function(e){return e.getResponseHeader("X-AUSERNAME")?decodeURIComponent(e.getResponseHeader("X-AUSERNAME")):"anonymous"},u.getUserFromAJS=function(){var e=t.get("remote-user");return e?e:"anonymous"},u.matchesCurrentUser=function(e){return!e.getResponseHeader||!e.getAllResponseHeaders||!u._hasUsernameResponseHeader(e)||u.getUserFromAJS()===u._getUserForResponse(e)||204===e.status&&!e.getAllResponseHeaders()&&a.browser.msie},u._handleCurrentUserChanged=function(e){var r=u.getUserFromAJS(),t=u._getUserForResponse(e);return"anonymous"!==r&&"anonymous"===t?(GH.log("User changed. original: "+r+" new: "+t+". Redirecting to the login page"),location.href=GH.Navigation.getLoginUrl()):(GH.log("User changed. original: "+r+" new: "+t+". Reloading the page"),location.reload()),s()},u}),AJS.namespace("GH.Ajax",null,require("jira-agile/rapid/ajax"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:greenhopper-epics-issue-web-panel-resources', location = 'includes/js/viewissue/QuickCreateIssueInEpic.js' */
!function(){var e=require("wrm/context-path");GH.QuickCreateIssueInEpic={},GH.QuickCreateIssueInEpic.epicKey=null,GH.QuickCreateIssueInEpic.epicName=null,GH.QuickCreateIssueInEpic.init=function(){JIRA.unbind("QuickCreateIssueInEpic.sessionComplete"),JIRA.bind("QuickCreateIssueInEpic.sessionComplete",function(e,i){AJS.$(document).unbind(JIRA.EpicPicker.READY_EVENT),GH.QuickCreateIssueInEpic.handleIssuesCreated(i)})},GH.QuickCreateIssueInEpic.createQuickCreateIssueForEpicDialog=function(){if(GH.QuickCreateIssueInEpic.epicKey=AJS.$("#ghx-epic-key").text(),GH.QuickCreateIssueInEpic.epicName=AJS.$("#ghx-epic-name").text(),"true"==AJS.$("#ghx-hide-table").text()){var e=AJS.$("#ghx-issues-in-epic-table");e.addClass("hidden")}var i=new JIRA.Forms.Container(function(){var e={title:AJS.format("Create issue in epic : {0}",GH.QuickCreateIssueInEpic.epicKey),id:"create-issue-in-epic-form",globalEventNamespaces:["QuickCreateIssueInEpic"]},i=new JIRA.Forms.CreateIssueModel({projectId:e.pid,issueType:e.issueType}),s=new JIRA.Forms.ConfigurableCreateIssueForm({model:i,title:e.title,globalEventNamespaces:e.globalEventNamespaces}),n=new JIRA.Forms.UnconfigurableCreateIssueForm({model:i,title:e.title,globalEventNamespaces:e.globalEventNamespaces});return{globalEventNamespaces:e.globalEventNamespaces,model:i,errorHandler:new JIRA.Forms.CreateIssueError,configurableForm:s,unconfigurableForm:n}});i.bind("contentRefreshed",function(){AJS.$(document).unbind("QuickCreateIssueInEpic.validationError"),AJS.$(document).unbind(JIRA.EpicPicker.READY_EVENT),AJS.$(document).bind(JIRA.EpicPicker.READY_EVENT,function(e,i){i.setSelection(new AJS.ItemDescriptor({value:"key:"+GH.QuickCreateIssueInEpic.epicKey,label:GH.QuickCreateIssueInEpic.epicName})),setTimeout(function(){i.disable()},0),AJS.$(document).bind("QuickCreateIssueInEpic.validationError",function(e){i.disable()})})});var s=i.asDialog({windowTitle:AJS.format("Create issue in epic : {0}",GH.QuickCreateIssueInEpic.epicKey),id:"create-issue-dialog"});return s.bind("Dialog.hide",function(){AJS.$(document).unbind(JIRA.EpicPicker.READY_EVENT),AJS.$(document).unbind("QuickCreateIssueInEpic.validationError")}),s},GH.QuickCreateIssueInEpic.handleIssuesCreated=function(e){var i=_.pluck(e,"issueKey");GH.QuickCreateIssueInEpic.addIssuesToEpic(e).done(function(){GH.QuickCreateIssueInEpic.refreshIssuesInEpicTable(i)})},GH.QuickCreateIssueInEpic.addIssuesToEpic=function(e){var i=_.pluck(e,"issueKey"),s={ignoreEpics:!0,issueKeys:i};return GH.Ajax.put({url:"/epics/"+GH.QuickCreateIssueInEpic.epicKey+"/add",data:s})},GH.QuickCreateIssueInEpic.refreshIssuesInEpicTable=function(i){var s=AJS.$("#greenhopper-epics-issue-web-panel");s.addClass("updating"),AJS.$.ajax({url:e()+"/secure/ViewIssuesInEpic.jspa?epicKey="+GH.QuickCreateIssueInEpic.epicKey+"&decorator=none"}).done(function(e){s.find(".mod-content").html(e),JIRA.Dropdowns.bindIssueActionsDds(s),AJS.$.each(i,function(e,i){s.find(".issuerow[data-issuekey='"+i+"']").fadeInBackground()});var n=AJS.$("#ghx-issues-in-epic-table"),c="true"==AJS.$("#ghx-hide-table").text();c?n.addClass("hidden"):(AJS.$("#ghx-issues-in-epic-empty-message").remove(),n.removeClass("hidden")),s.removeClass("updating")})}}(),AJS.$(function(){GH.QuickCreateIssueInEpic.init(),JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,i,s){s===JIRA.CONTENT_ADDED_REASON.pageLoad&&GH.QuickCreateIssueInEpic.init()}),AJS.$(document).undelegate("#gh-create-issue-in-epic-lnk","click"),AJS.$(document).delegate("#gh-create-issue-in-epic-lnk","click",function(e){var i=GH.QuickCreateIssueInEpic.createQuickCreateIssueForEpicDialog();i.show(),e.preventDefault()})});;
;
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:css', location = 'templates/plugins/bamboo/script/common.js' */
(function(c,b,d){var a=require("jira/util/events");if(typeof b.CONFIG==="undefined"){b.CONFIG={$planSelect:c(),$buildTypes:c(),buildResultsContainerId:"bamboo-build-results",stagesContainerId:"bamboo-plan-stages",variablesContainerId:"bamboo-override-variables",initialised:false,updateTimeout:null,init:function(){if(b.CONFIG.initialised){return}c(document).bind("dialogContentReady",function(h){var g=b.CONFIG.buildResultsContainerId,f=b.CONFIG.stagesContainerId,i=b.CONFIG.variablesContainerId;b.CONFIG.$planSelect=c("#bamboo-plan").change(b.CONFIG.onPlanChange);b.CONFIG.BuildResults.init({container:{id:g,insertAfter:b.CONFIG.$planSelect.closest(".field-group")}});b.CONFIG.Stages.init({container:{id:f,insertAfter:"#"+g}});b.CONFIG.Variables.init({container:{id:i,insertAfter:"#"+f}});b.CONFIG.$buildTypes=c("input:radio[name='buildType']").change(b.CONFIG.onBuildTypeChange).filter(":checked").change().end()});b.CONFIG.initialised=true}};b.CONFIG.Spinner=function(e,f){this.beforeShow=f;this.add=function(){return c(bamboo.components.icon({type:"loading"})).appendTo(e)}};b.CONFIG.Spinner.prototype.show=function(){var e=this.$spinner;this.beforeShow();if(!e||(e&&(!e.length||!e.parent().length))){this.$spinner=this.add()}else{e.show()}return this};b.CONFIG.Spinner.prototype.hide=function(){if(this.$spinner){this.$spinner.hide()}return this}}b.CONFIG.onPlanChange=function(l){var h=c("#existing-build").is(":checked"),k=c(this),g=k.add(b.CONFIG.$buildTypes).attr("disabled",true),p=k.find("option:selected"),o=c("#release"),j=(h?p.attr("data-selected-build-result"):null),q=(h?null:p.attr("data-selected-stages")),m=(h?null:p.attr("data-selected-variables")),n,i,f;if(!k.val()){return}o.attr("disabled","disabled");if(m){m=c.parseJSON(m)}b.CONFIG.BuildResults.updateSelectedBuildResult(j);b.CONFIG.Stages.updateSelectedStages(q);b.CONFIG.Variables.updateSelectedVariables(m);b.CONFIG.Variables.hide();if(h){b.CONFIG.Stages.hide();b.CONFIG.BuildResults.showSpinner();n=b.restURL+"history/"+b.jiraProjectKey+"/"+k.val()+"/5";i={continuable:true,buildstate:"successful"};f=function(e){if(e.results.result&&e.results.result.length){o.removeAttr("disabled");b.CONFIG.BuildResults.show(e.results.result)}else{b.CONFIG.BuildResults.showNoResultsMsg()}g.attr("disabled",false)}}else{o.removeAttr("disabled");b.CONFIG.BuildResults.hide();b.CONFIG.Stages.showSpinner();n=b.restURL+"plan/"+b.jiraProjectKey+"/"+k.val();f=function(e){if(e.stages.stage&&e.stages.stage.length){b.CONFIG.Stages.show(e.stages.stage)}else{b.CONFIG.Stages.showNoStagesMsg()}if(e.variableContext.variable&&e.variableContext.variable.length){b.CONFIG.Variables.show(e.variableContext.variable)}g.attr("disabled",false)}}c.ajax({url:n,dataType:"json",data:i,beforeSend:function(){k.attr("disabled","true")},success:f,error:function(x,y){var t,w,r,s,u=c('<div class="form-body"></div><div class="form-footer"><a class="cancel">Cancel</a></div>');u.find(".cancel").click(function(z){if(b.CONFIG.FormDialog&&b.CONFIG.FormDialog.hide){b.CONFIG.FormDialog.hide()}});try{s=x.responseText||x.response;if(s){t=c.parseJSON(s);w=t.message;r=(t.messageBody?"<p>"+t.messageBody+"</p>":null);if(t.oauthCallback){u.filter(".content-footer").prepend('<a href="'+t.oauthCallback+"&amp;redirectUrl="+encodeURIComponent(b.baseURL)+'">Login &amp; Approve</a> | ')}}else{throw"noJSONResponse"}}catch(v){w="An error occurred while trying to retrieve the build information."}AJS.messages.warning(u.filter(".form-body"),{title:w,body:r,closeable:false});k.closest("form").replaceWith(u)},ajaxComplete:function(){k.attr("disabled","false")}})};b.CONFIG.onBuildTypeChange=function(i){var f=c(this),h=f.closest("fieldset.group"),g=h.nextAll(".field-group,.group"),j=c("#"+b.CONFIG.buildResultsContainerId);c("#release").removeAttr("disabled");switch(f.val()){case"no-build":g.hide();h.css({"margin-bottom":0,"padding-bottom":0});break;case"new-build":g.show();j.hide();h.css({"margin-bottom":"","padding-bottom":""});b.CONFIG.$planSelect.change();break;case"existing-build":g.show();h.css({"margin-bottom":"","padding-bottom":""});b.CONFIG.$planSelect.change();break}};b.CONFIG.Stages=(function(){var f={container:{id:null,insertAfter:null,i18n:{legend:"Stages"}},selectedStages:null},m,l,h,i=function(){l=c("<fieldset/>",{id:m.container.id,"class":"group",html:h}).insertAfter(m.container.insertAfter).delegate("input:checkbox","click",j)},e=function(o){var n=false,x,q,z;for(q=0,z=o.length;q<z;q++){var s=o[q],t=!!(s.state&&s.state!="Unknown"),y=!!(s.manual),p=!!(!s.manual||t),r,v,w="stage-"+q,u;if(!n&&s.manual&&!t){n=true}v=c('<input type="checkbox" />').attr({name:"selectedStages",id:w,"class":"checkbox",checked:y,disabled:p}).val(s.name);u=c("<label />",{text:s.name,"for":w});r=c("<div/>",{"class":"checkbox"+(s.manual?(t?" already-run":" manual"):"")+(!n?" selected":"")}).append(v).append(u).appendTo(l);if(!t&&y){x=r}}if(x){x.find("input:checkbox").trigger("click",true)}},g=function(){l.find("div.checkbox,p").remove()},j=function(r,n){if(n){r.preventDefault()}var o=c(this),q=o.is(":checked"),p=false;o.closest("div.checkbox").toggleClass("selected",q).prevAll("div.checkbox").each(function(u){var t=c(this),v=t.children("input:checkbox"),s=t.hasClass("manual");if(q){t.addClass("selected");if(s){v.attr("checked","checked").attr("disabled","disabled")}}else{if(s&&!p){v.removeAttr("disabled");p=true}}}).end().nextAll("div.checkbox").each(function(t){var s=c(this);if(s.hasClass("manual")){return false}else{s.toggleClass("selected",q)}})},k;return{init:function(n){m=c.extend(true,f,n);h="<legend><span>"+m.container.i18n.legend+"</span></legend>";i();k=new b.CONFIG.Spinner(l,g)},show:function(n){l.html(h).show();e(n)},hide:function(){l.hide().html(h)},showNoStagesMsg:function(){k.hide();l.append(c("<p/>",{text:"No stages found."}))},showSpinner:function(){k.show()},updateSelectedStages:function(n){m.selectedStages=n}}})();b.CONFIG.Variables=(function(){var e={container:{id:null,insertAfter:null,i18n:{legend:"Build Variables"}},selectedVariables:null},n,l,m,i,j=function(){l=c("<fieldset/>",{id:n.container.id,"class":"group",html:i}).insertAfter(n.container.insertAfter).delegate("#override-another","click",k).delegate(".bamboo-icon-variable-delete","click",h).delegate("select","change",g)},f=function(t){var o,s,q,r;m=c("<select/>",{"class":"select"});for(q=0,r=t.length;q<r;q++){var p=t[q];if(o!=p.variableType){o=p.variableType;s=c("<optgroup/>",{label:o}).appendTo(m)}c("<option/>",{text:p.key,data:{"server-value":p.value}}).appendTo(s)}},k=function(){var p=m.clone(true),q,r,s,o="";if(arguments.length==2){r=p.find("option[text='"+arguments[0]+"']");o=arguments[1]}else{r=p.find("option:first")}r.attr("selected","selected");s=c('<input type="text" />').attr({name:"variable_"+r.val(),placeholder:r.data("server-value"),"class":"text medium-field"}).val(o);q=c("<div/>",{"class":"field-group"}).append(p).append(s).append(bamboo.components.icon({type:"variable-delete"})).insertBefore(l.children("a"))},h=function(o){c(this).closest(".field-group").remove()},g=function(q){var o=c(this),p=o.find("option:selected");o.nextAll(".text").attr({name:"variable_"+p.val(),placeholder:p.data("server-value")})};return{init:function(o){n=c.extend(true,e,o);i="<legend><span>"+n.container.i18n.legend+'</span></legend><a id="override-another" class="aui-button aui-button-link">Override variable<span class="icon icon-edit-sml"></span></a>';j()},show:function(o){f(o);if(n.selectedVariables&&n.selectedVariables.variables){c.each(n.selectedVariables.variables,k)}l.show()},hide:function(){l.hide().html(i)},updateSelectedVariables:function(o){n.selectedVariables=o}}})();b.CONFIG.BuildResults=(function(){var h={container:{id:null,insertAfter:null,i18n:{legend:"Existing build"}},selectedBuildResult:null},n,m,j,k=function(){m=c("<fieldset/>",{id:n.container.id,"class":"group",html:j}).insertAfter(n.container.insertAfter).delegate("input:radio","change",i).delegate("a","click",function(o){o.preventDefault();window.open(this.href)})},g=function(u){var s,v,q="build-result-"+u.number,o,p=(u.lifeCycleState=="Finished"?(u.continuable?"SuccessfulPartial":u.state):u.lifeCycleState),r=(u.key==n.selectedBuildResult),t=(u.stages.stage&&u.stages.stage.length?u.stages.stage:[]);v=c('<input type="radio" />').attr({name:"buildResult",id:q,"class":"radio",checked:r}).val(u.key).data("stages",t);o=c("<label />",{html:'<a href="'+b.bambooBaseURL+"/browse/"+u.key+'" class="'+p+'">#'+u.number+'</a><span class="trigger-reason">'+b.replaceWithBambooIcon(u.buildReason)+"</span>","for":q}).prepend(bamboo.components.icon({type:p}));s=c("<div/>",{"class":"radio"}).append(v).append(o).appendTo(m);if(r){f(t)}},f=function(o){if(o&&o.length){b.CONFIG.Stages.show(o)}else{b.CONFIG.Stages.showNoStagesMsg()}},e=function(){m.find("div.radio,p").remove()},i=function(o){var p=c(this).data("stages");f(p)},l;return{init:function(o){n=c.extend(true,h,o);j="<legend><span>"+n.container.i18n.legend+"</span></legend>";k();l=new b.CONFIG.Spinner(m,e)},show:function(q){m.html(j).show();if(q.length>0&&!n.selectedBuildResult){n.selectedBuildResult=q[0].key}for(var o=0,p=q.length;o<p;o++){g(q[o])}},hide:function(){m.hide().html(j)},showNoResultsMsg:function(){l.hide();m.append(c("<p/>",{text:"No builds found with unbuilt manual stages."})).show()},showSpinner:function(){l.show()},updateSelectedBuildResult:function(o){n.selectedBuildResult=o}}})();b.flagNotification=function(g,f,e){require(["aui/flag"],function(h){h({type:g,title:f,close:"manual",body:e})})};b.getNewUrlObject=function(f,h){var k=URI.parse(f);var j=URI.parseQuery(k.query);if(h&&h.length>0){for(var g=0;g<h.length;g++){delete j[h[g]];if(k.fragment){var e=new URI("?"+k.fragment);e.removeQuery(h[g]);k.fragment=e.toString().substring(1)}}}k.query=URI.buildQuery(j);return k};b.excludeParamsFromUrl=function(e,f){var g=b.getNewUrlObject(e,f);return URI.build(g)};b.getReloadUrl=function(){return b.excludeParamsFromUrl(window.location.href,["showReleaseDialog"])};b.replaceState=function(e,f){if(window.history.replaceState){var h=b.getNewUrlObject(e,f);var g=URI.build(h);window.history.replaceState(h,"",g)}};b.CheckReleaseBuildStatus=function(f,e){c.ajax({url:b.restURL+"status/"+b.jiraVersionId+"/"+f,dataType:"json",success:function(j){var h=j.bamboo,i=(h.lifeCycleState=="Finished"?(h.continuable?"SuccessfulPartial":h.state):h.lifeCycleState),g;if((h.lifeCycleState!="InProgress"&&h.lifeCycleState!="Queued")||(j.jira&&j.jira.forceRefresh)){AJS.reloadViaWindowLocation(b.getReloadUrl());return}else{if(h.lifeCycleState=="InProgress"&&h.progress){if(!e){g=c("#build-details");e=c(bamboo.components.buildDetail({key:"Duration",keyClass:"duration",value:h.progress.prettyBuildTime+" &ndash; <span>"+h.progress.prettyTimeRemaining+"</span>"})).appendTo(g).find("dd");g.find(".build + dd > span.bamboo-icon").replaceWith(bamboo.components.icon({type:i}))}else{e.html(h.progress.prettyBuildTime+" &ndash; <span>"+h.progress.prettyTimeRemaining+"</span>")}clearTimeout(b.CONFIG.updateTimeout);b.CONFIG.updateTimeout=setTimeout(function(){b.CheckReleaseBuildStatus(f,e)},5000)}}},error:function(m,n){var j,l,h,i,g=c("#build-details").empty();try{i=m.responseText||m.response;if(i){j=c.parseJSON(i);l=j.message;h=(j.messageBody?"<p>"+j.messageBody+"</p>":"");if(j.oauthCallback){h+='<p><a href="'+j.oauthCallback+"&amp;redirectUrl="+encodeURIComponent(b.baseURL)+'">Login &amp; Approve</a></p>'}}else{throw"noJSONResponse"}}catch(k){l="An error occurred while trying to retrieve the build information."}b.flagNotification("warning",l,h)}})};b.ShowBuildReleaseDetails=function(g){var f=c("#build-details"),e=c(bamboo.components.icon({type:"loading"}));if(f.length){e.appendTo(f);c.ajax({url:b.restURL+"status/"+b.jiraVersionId+"/"+g,dataType:"json",success:function(k){var h=k.bamboo,i=(h.lifeCycleState=="Finished"?(h.continuable?"SuccessfulPartial":h.state):h.lifeCycleState),j;if(k.jira&&k.jira.forceRefresh){AJS.reloadViaWindowLocation(b.getReloadUrl());return}e.remove();f.append(bamboo.components.buildDetail({key:"Build",keyClass:"build",value:bamboo.components.icon({type:i})+' <a class="build-link" href="'+b.bambooBaseURL+"/browse/"+g+'" title="'+h.planName+'"><span class="'+i+'">#'+h.number+"</span> "+h.planName+"</a>"}));if(h.lifeCycleState=="InProgress"||h.lifeCycleState=="Queued"){if(h.lifeCycleState=="InProgress"&&h.progress){j=c(bamboo.components.buildDetail({key:"Duration",keyClass:"duration",value:h.progress.prettyBuildTime+" &ndash; <span>"+h.progress.prettyTimeRemaining+"</span>"})).appendTo(f).find("dd")}clearTimeout(b.CONFIG.updateTimeout);b.CONFIG.updateTimeout=setTimeout(function(){b.CheckReleaseBuildStatus(g,j)},5000)}else{if(h.lifeCycleState=="Finished"){if(h.buildCompletedTime){f.append(bamboo.components.buildDetail({key:"Completed",keyClass:"completed",value:'<time datetime="'+h.buildCompletedTime+'">'+h.buildRelativeTime+"</time>"}))}}else{if(h.lifeCycleState=="NotBuilt"){if(h.buildCompletedTime){f.append(bamboo.components.buildDetail({key:"Completed",keyClass:"completed",value:'<time datetime="'+h.buildCompletedTime+'">'+h.buildRelativeTime+"</time>"}))}}}}if(h.artifacts.artifact&&h.artifacts.artifact.length){f.append(bamboo.components.buildDetail({key:"Artifacts",keyClass:"artifacts",value:bamboo.components.artifacts({artifacts:h.artifacts.artifact})}))}},error:function(m,n){var j,l,h,i;e.remove();try{i=m.responseText||m.response;if(i){j=c.parseJSON(i);l=j.message;h=(j.messageBody?"<p>"+j.messageBody+"</p>":"");if(j.oauthCallback){h+='<p><a href="'+j.oauthCallback+"&amp;redirectUrl="+encodeURIComponent(b.baseURL)+'">Login &amp; Approve</a></p>'}}else{throw"noJSONResponse"}}catch(k){l="An error occurred while trying to retrieve the build information."}b.flagNotification("warning",l,h)}})}};b.replaceWithBambooIcon=function(e){return e.replace(/(\b)icon(\b)/g,"$1bamboo-icon$2")};b.clearReleaseErrors=function(){var e=b.restURL+"errors/"+b.jiraVersionId;c.ajax({url:e,type:"DELETE"}).done(function(f){})};b.publishAnalyticsForReleaseClicked=function(f,g,e){AJS.trigger("analyticsEvent",{name:"jira.project.versions.version-detail.release.clicked",data:{versionId:f,overdue:g,daysRemaining:e}})};b.publishAnalyticsForReleaseDialogClicked=function(f,e){AJS.trigger("analyticsEvent",{name:"jira.project.versions.version-detail.release.dialog.clicked",data:{versionId:f,released:e}})};b.init=function(f){b.CONFIG.init();var e=c("#runRelease",f);if(e.length){b.CONFIG.FormDialog=new JIRA.FormDialog({trigger:e,widthClass:"large",autoClose:true});a.bind("dialogContentReady",function(g,p,l){var n=AJS.$('#release-form-date-picker input[title="currentReleaseDate"]').val();var j=AJS.$('#release-form-date-picker input[title="formattedReleaseDate"]').val();var k=AJS.$('#release-form-date-picker input[title="firstDay"]').val();var o=AJS.$('#release-form-date-picker input[title="currentMillis"]').val();var i=AJS.$('#release-form-date-picker input[title="useISO8601"]').val();var h=AJS.$('#release-form-date-picker input[title="dateFormat"]').val();var m=AJS.$("#release-form-release-date-field")[0];d.setup({singleClick:true,align:"Bl",firstDay:k,button:AJS.$("#release-form-release-date-trigger")[0],inputField:m,currentMillis:o,useISO8601WeekNumbers:i,ifFormat:h});if(typeof j==="string"&&j.length>0){m.value=j}});if(e.attr("href").indexOf("redirectUrlOnSuccess")===-1){e.attr("href",e.attr("href")+"&redirectUrlOnSuccess="+URI.encode(b.getReloadUrl()))}if(/showReleaseDialog=true/.test(window.location.href)){b.replaceState(window.location.href,["showReleaseDialog"]);e.click()}}};c(function(){b.init(AJS.$(document))});JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(h,f,g){if(g===JIRA.CONTENT_ADDED_REASON.tabUpdated){b.init(f)}})}(AJS.$,window.JBAM=(window.JBAM||{}),Calendar));;
;
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:css', location = 'templates/plugins/bamboo/script/uri/URI.js' */
/*! URI.js v1.14.1 http://medialize.github.io/URI.js/ */
(function(b,a){"object"===typeof exports?module.exports=a(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"===typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],a):b.URI=a(b.punycode,b.IPv6,b.SecondLevelDomains,b)})(this,function(R,o,K,S){function U(e,d){if(!(this instanceof U)){return new U(e,d)}void 0===e&&(e="undefined"!==typeof location?location.href+"":"");this.href(e);return void 0!==d?this.absoluteTo(d):this}function N(d){return d.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function g(d){return void 0===d?"Undefined":String(Object.prototype.toString.call(d)).slice(8,-1)}function T(d){return"Array"===g(d)}function i(l,d){var q,p;if(T(d)){q=0;for(p=d.length;q<p;q++){if(!i(l,d[q])){return !1}}return !0}var m=g(d);q=0;for(p=l.length;q<p;q++){if("RegExp"===m){if("string"===typeof l[q]&&l[q].match(d)){return !0}}else{if(l[q]===d){return !0}}}return !1}function Q(l,d){if(!T(l)||!T(d)||l.length!==d.length){return !1}l.sort();d.sort();for(var p=0,m=l.length;p<m;p++){if(l[p]!==d[p]){return !1}}return !0}function s(d){return escape(d)}function c(d){return encodeURIComponent(d).replace(/[!'()*]/g,s).replace(/\*/g,"%2A")}function k(d){return function(e,l){if(void 0===e){return this._parts[d]||""}this._parts[d]=e||null;this.build(!l);return this}}function O(e,d){return function(m,l){if(void 0===m){return this._parts[e]||""}null!==m&&(m+="",m.charAt(0)===d&&(m=m.substring(1)));this._parts[e]=m;this.build(!l);return this}}var n=S&&S.URI;U.version="1.14.1";var V=U.prototype,P=Object.prototype.hasOwnProperty;U._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:U.duplicateQueryParameters,escapeQuerySpace:U.escapeQuerySpace}};U.duplicateQueryParameters=!1;U.escapeQuerySpace=!0;U.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;U.idn_expression=/[^a-z0-9\.-]/i;U.punycode_expression=/(xn--)/i;U.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;U.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;U.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;U.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};U.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};U.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;U.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"};U.getDomAttribute=function(e){if(e&&e.nodeName){var d=e.nodeName.toLowerCase();return"input"===d&&"image"!==e.type?void 0:U.domAttributes[d]}};U.encode=c;U.decode=decodeURIComponent;U.iso8859=function(){U.encode=escape;U.decode=unescape};U.unicode=function(){U.encode=c;U.decode=decodeURIComponent};U.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}};U.encodeQuery=function(e,d){var l=U.encode(e+"");void 0===d&&(d=U.escapeQuerySpace);return d?l.replace(/%20/g,"+"):l};U.decodeQuery=function(e,d){e+="";void 0===d&&(d=U.escapeQuerySpace);try{return U.decode(d?e.replace(/\+/g,"%20"):e)}catch(l){return e}};U.recodePath=function(e){e=(e+"").split("/");for(var d=0,l=e.length;d<l;d++){e[d]=U.encodePathSegment(U.decode(e[d]))}return e.join("/")};U.decodePath=function(e){e=(e+"").split("/");for(var d=0,l=e.length;d<l;d++){e[d]=U.decodePathSegment(e[d])}return e.join("/")};var M={encode:"encode",decode:"decode"},a,L=function(e,d){return function(m){try{return U[d](m+"").replace(U.characters[e][d].expression,function(p){return U.characters[e][d].map[p]})}catch(l){return m}}};for(a in M){U[a+"PathSegment"]=L("pathname",M[a])}U.encodeReserved=L("reserved","encode");U.parse=function(e,d){var l;d||(d={});l=e.indexOf("#");-1<l&&(d.fragment=e.substring(l+1)||null,e=e.substring(0,l));l=e.indexOf("?");-1<l&&(d.query=e.substring(l+1)||null,e=e.substring(0,l));"//"===e.substring(0,2)?(d.protocol=null,e=e.substring(2),e=U.parseAuthority(e,d)):(l=e.indexOf(":"),-1<l&&(d.protocol=e.substring(0,l)||null,d.protocol&&!d.protocol.match(U.protocol_expression)?d.protocol=void 0:"//"===e.substring(l+1,l+3)?(e=e.substring(l+3),e=U.parseAuthority(e,d)):(e=e.substring(l+1),d.urn=!0)));d.path=e;return d};U.parseHost=function(l,d){var p=l.indexOf("/"),m;-1===p&&(p=l.length);"["===l.charAt(0)?(m=l.indexOf("]"),d.hostname=l.substring(1,m)||null,d.port=l.substring(m+2,p)||null,"/"===d.port&&(d.port=null)):l.indexOf(":")!==l.lastIndexOf(":")?(d.hostname=l.substring(0,p)||null,d.port=null):(m=l.substring(0,p).split(":"),d.hostname=m[0]||null,d.port=m[1]||null);d.hostname&&"/"!==l.substring(p).charAt(0)&&(p++,l="/"+l);return l.substring(p)||"/"};U.parseAuthority=function(e,d){e=U.parseUserinfo(e,d);return U.parseHost(e,d)};U.parseUserinfo=function(e,d){var m=e.indexOf("/"),l=e.lastIndexOf("@",-1<m?m:e.length-1);-1<l&&(-1===m||l<m)?(m=e.substring(0,l).split(":"),d.username=m[0]?U.decode(m[0]):null,m.shift(),d.password=m[0]?U.decode(m.join(":")):null,e=e.substring(l+1)):(d.username=null,d.password=null);return e};U.parseQuery=function(l,e){if(!l){return{}}l=l.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!l){return{}}for(var u={},q=l.split("&"),p=q.length,r,m,t=0;t<p;t++){r=q[t].split("="),m=U.decodeQuery(r.shift(),e),r=r.length?U.decodeQuery(r.join("="),e):null,P.call(u,m)?("string"===typeof u[m]&&(u[m]=[u[m]]),u[m].push(r)):u[m]=r}return u};U.build=function(e){var d="";e.protocol&&(d+=e.protocol+":");e.urn||!d&&!e.hostname||(d+="//");d+=U.buildAuthority(e)||"";"string"===typeof e.path&&("/"!==e.path.charAt(0)&&"string"===typeof e.hostname&&(d+="/"),d+=e.path);"string"===typeof e.query&&e.query&&(d+="?"+e.query);"string"===typeof e.fragment&&e.fragment&&(d+="#"+e.fragment);return d};U.buildHost=function(e){var d="";if(e.hostname){d=U.ip6_expression.test(e.hostname)?d+("["+e.hostname+"]"):d+e.hostname}else{return""}e.port&&(d+=":"+e.port);return d};U.buildAuthority=function(d){return U.buildUserinfo(d)+U.buildHost(d)};U.buildUserinfo=function(e){var d="";e.username&&(d+=U.encode(e.username),e.password&&(d+=":"+U.encode(e.password)),d+="@");return d};U.buildQuery=function(l,e,u){var q="",p,r,m,t;for(r in l){if(P.call(l,r)&&r){if(T(l[r])){for(p={},m=0,t=l[r].length;m<t;m++){void 0!==l[r][m]&&void 0===p[l[r][m]+""]&&(q+="&"+U.buildQueryParameter(r,l[r][m],u),!0!==e&&(p[l[r][m]+""]=!0))}}else{void 0!==l[r]&&(q+="&"+U.buildQueryParameter(r,l[r],u))}}}return q.substring(1)};U.buildQueryParameter=function(e,d,l){return U.encodeQuery(e,l)+(null!==d?"="+U.encodeQuery(d,l):"")};U.addQuery=function(e,d,m){if("object"===typeof d){for(var l in d){P.call(d,l)&&U.addQuery(e,l,d[l])}}else{if("string"===typeof d){void 0===e[d]?e[d]=m:("string"===typeof e[d]&&(e[d]=[e[d]]),T(m)||(m=[m]),e[d]=(e[d]||[]).concat(m))}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")}}};U.removeQuery=function(l,e,t){var q;if(T(e)){for(t=0,q=e.length;t<q;t++){l[e[t]]=void 0}}else{if("object"===typeof e){for(q in e){P.call(e,q)&&U.removeQuery(l,q,e[q])}}else{if("string"===typeof e){if(void 0!==t){if(l[e]===t){l[e]=void 0}else{if(T(l[e])){q=l[e];var r={},p,m;if(T(t)){for(p=0,m=t.length;p<m;p++){r[t[p]]=!0}}else{r[t]=!0}p=0;for(m=q.length;p<m;p++){void 0!==r[q[p]]&&(q.splice(p,1),m--,p--)}l[e]=q}}}else{l[e]=void 0}}else{throw new TypeError("URI.removeQuery() accepts an object, string as the first parameter")}}}};U.hasQuery=function(l,e,q,m){if("object"===typeof e){for(var p in e){if(P.call(e,p)&&!U.hasQuery(l,p,e[p])){return !1}}return !0}if("string"!==typeof e){throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter")}switch(g(q)){case"Undefined":return e in l;case"Boolean":return l=Boolean(T(l[e])?l[e].length:l[e]),q===l;case"Function":return !!q(l[e],e,l);case"Array":return T(l[e])?(m?i:Q)(l[e],q):!1;case"RegExp":return T(l[e])?m?i(l[e],q):!1:Boolean(l[e]&&l[e].match(q));case"Number":q=String(q);case"String":return T(l[e])?m?i(l[e],q):!1:l[e]===q;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}};U.commonPath=function(l,d){var p=Math.min(l.length,d.length),m;for(m=0;m<p;m++){if(l.charAt(m)!==d.charAt(m)){m--;break}}if(1>m){return l.charAt(0)===d.charAt(0)&&"/"===l.charAt(0)?"/":""}if("/"!==l.charAt(m)||"/"!==d.charAt(m)){m=l.substring(0,m).lastIndexOf("/")}return l.substring(0,m+1)};U.withinString=function(y,x,w){w||(w={});var u=w.start||U.findUri.start,v=w.end||U.findUri.end,t=w.trim||U.findUri.trim,r=/[a-z0-9-]=["']?$/i;for(u.lastIndex=0;;){var e=u.exec(y);if(!e){break}e=e.index;if(w.ignoreHtml){var q=y.slice(Math.max(e-3,0),e);if(q&&r.test(q)){continue}}var q=e+y.slice(e).search(v),p=y.slice(e,q).replace(t,"");w.ignore&&w.ignore.test(p)||(q=e+p.length,p=x(p,e,q,y),y=y.slice(0,e)+p+y.slice(q),u.lastIndex=e+p.length)}u.lastIndex=0;return y};U.ensureValidHostname=function(d){if(d.match(U.invalid_hostname_characters)){if(!R){throw new TypeError('Hostname "'+d+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available')}if(R.toASCII(d).match(U.invalid_hostname_characters)){throw new TypeError('Hostname "'+d+'" contains characters other than [A-Z0-9.-]')}}};U.noConflict=function(d){if(d){return d={URI:this.noConflict()},S.URITemplate&&"function"===typeof S.URITemplate.noConflict&&(d.URITemplate=S.URITemplate.noConflict()),S.IPv6&&"function"===typeof S.IPv6.noConflict&&(d.IPv6=S.IPv6.noConflict()),S.SecondLevelDomains&&"function"===typeof S.SecondLevelDomains.noConflict&&(d.SecondLevelDomains=S.SecondLevelDomains.noConflict()),d}S.URI===this&&(S.URI=n);return this};V.build=function(d){if(!0===d){this._deferred_build=!0}else{if(void 0===d||this._deferred_build){this._string=U.build(this._parts),this._deferred_build=!1}}return this};V.clone=function(){return new U(this)};V.valueOf=V.toString=function(){return this.build(!1)._string};V.protocol=k("protocol");V.username=k("username");V.password=k("password");V.hostname=k("hostname");V.port=k("port");V.query=O("query","?");V.fragment=O("fragment","#");V.search=function(e,d){var l=this.query(e,d);return"string"===typeof l&&l.length?"?"+l:l};V.hash=function(e,d){var l=this.fragment(e,d);return"string"===typeof l&&l.length?"#"+l:l};V.pathname=function(e,d){if(void 0===e||!0===e){var l=this._parts.path||(this._parts.hostname?"/":"");return e?U.decodePath(l):l}this._parts.path=e?U.recodePath(e):"/";this.build(!d);return this};V.path=V.pathname;V.href=function(l,e){var q;if(void 0===l){return this.toString()}this._string="";this._parts=U._parts();var m=l instanceof U,p="object"===typeof l&&(l.hostname||l.path||l.pathname);l.nodeName&&(p=U.getDomAttribute(l),l=l[p]||"",p=!1);!m&&p&&void 0!==l.pathname&&(l=l.toString());if("string"===typeof l||l instanceof String){this._parts=U.parse(String(l),this._parts)}else{if(m||p){for(q in m=m?l._parts:l,m){P.call(this._parts,q)&&(this._parts[q]=m[q])}}else{throw new TypeError("invalid input")}}this.build(!e);return this};V.is=function(x){var w=!1,v=!1,t=!1,u=!1,r=!1,q=!1,p=!1,e=!this._parts.urn;this._parts.hostname&&(e=!1,v=U.ip4_expression.test(this._parts.hostname),t=U.ip6_expression.test(this._parts.hostname),w=v||t,r=(u=!w)&&K&&K.has(this._parts.hostname),q=u&&U.idn_expression.test(this._parts.hostname),p=u&&U.punycode_expression.test(this._parts.hostname));switch(x.toLowerCase()){case"relative":return e;case"absolute":return !e;case"domain":case"name":return u;case"sld":return r;case"ip":return w;case"ip4":case"ipv4":case"inet4":return v;case"ip6":case"ipv6":case"inet6":return t;case"idn":return q;case"url":return !this._parts.urn;case"urn":return !!this._parts.urn;case"punycode":return p}return null};var j=V.protocol,h=V.port,f=V.hostname;V.protocol=function(e,d){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(U.protocol_expression))){throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]")}return j.call(this,e,d)};V.scheme=V.protocol;V.port=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/)))){throw new TypeError('Port "'+e+'" contains characters other than [0-9]')}return h.call(this,e,d)};V.hostname=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0!==e){var l={};U.parseHost(e,l);e=l.hostname}return f.call(this,e,d)};V.host=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e){return this._parts.hostname?U.buildHost(this._parts):""}U.parseHost(e,this._parts);this.build(!d);return this};V.authority=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e){return this._parts.hostname?U.buildAuthority(this._parts):""}U.parseAuthority(e,this._parts);this.build(!d);return this};V.userinfo=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e){if(!this._parts.username){return""}var l=U.buildUserinfo(this._parts);return l.substring(0,l.length-1)}"@"!==e[e.length-1]&&(e+="@");U.parseUserinfo(e,this._parts);this.build(!d);return this};V.resource=function(e,d){var l;if(void 0===e){return this.path()+this.search()+this.hash()}l=U.parse(e);this._parts.path=l.path;this._parts.query=l.query;this._parts.fragment=l.fragment;this.build(!d);return this};V.subdomain=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e){if(!this._parts.hostname||this.is("IP")){return""}var l=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,l)||""}l=this._parts.hostname.length-this.domain().length;l=this._parts.hostname.substring(0,l);l=new RegExp("^"+N(l));e&&"."!==e.charAt(e.length-1)&&(e+=".");e&&U.ensureValidHostname(e);this._parts.hostname=this._parts.hostname.replace(l,e);this.build(!d);return this};V.domain=function(e,d){if(this._parts.urn){return void 0===e?"":this}"boolean"===typeof e&&(d=e,e=void 0);if(void 0===e){if(!this._parts.hostname||this.is("IP")){return""}var l=this._parts.hostname.match(/\./g);if(l&&2>l.length){return this._parts.hostname}l=this._parts.hostname.length-this.tld(d).length-1;l=this._parts.hostname.lastIndexOf(".",l-1)+1;return this._parts.hostname.substring(l)||""}if(!e){throw new TypeError("cannot set domain empty")}U.ensureValidHostname(e);!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(l=new RegExp(N(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(l,e));this.build(!d);return this};V.tld=function(e,d){if(this._parts.urn){return void 0===e?"":this}"boolean"===typeof e&&(d=e,e=void 0);if(void 0===e){if(!this._parts.hostname||this.is("IP")){return""}var l=this._parts.hostname.lastIndexOf("."),l=this._parts.hostname.substring(l+1);return !0!==d&&K&&K.list[l.toLowerCase()]?K.get(this._parts.hostname)||l:l}if(e){if(e.match(/[^a-zA-Z0-9-]/)){if(K&&K.is(e)){l=new RegExp(N(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(l,e)}else{throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]')}}else{if(!this._parts.hostname||this.is("IP")){throw new ReferenceError("cannot set TLD on non-domain host")}l=new RegExp(N(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(l,e)}}else{throw new TypeError("cannot set TLD empty")}this.build(!d);return this};V.directory=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname){return""}if("/"===this._parts.path){return"/"}var l=this._parts.path.length-this.filename().length-1,l=this._parts.path.substring(0,l)||(this._parts.hostname?"/":"");return e?U.decodePath(l):l}l=this._parts.path.length-this.filename().length;l=this._parts.path.substring(0,l);l=new RegExp("^"+N(l));this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e));e&&"/"!==e.charAt(e.length-1)&&(e+="/");e=U.recodePath(e);this._parts.path=this._parts.path.replace(l,e);this.build(!d);return this};V.filename=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path){return""}var m=this._parts.path.lastIndexOf("/"),m=this._parts.path.substring(m+1);return e?U.decodePathSegment(m):m}m=!1;"/"===e.charAt(0)&&(e=e.substring(1));e.match(/\.?\//)&&(m=!0);var l=new RegExp(N(this.filename())+"$");e=U.recodePath(e);this._parts.path=this._parts.path.replace(l,e);m?this.normalizePath(d):this.build(!d);return this};V.suffix=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path){return""}var m=this.filename(),l=m.lastIndexOf(".");if(-1===l){return""}m=m.substring(l+1);m=/^[a-z0-9%]+$/i.test(m)?m:"";return e?U.decodePathSegment(m):m}"."===e.charAt(0)&&(e=e.substring(1));if(m=this.suffix()){l=e?new RegExp(N(m)+"$"):new RegExp(N("."+m)+"$")}else{if(!e){return this}this._parts.path+="."+U.recodePath(e)}l&&(e=U.recodePath(e),this._parts.path=this._parts.path.replace(l,e));this.build(!d);return this};V.segment=function(m,l,u){var r=this._parts.urn?":":"/",t=this.path(),q="/"===t.substring(0,1),t=t.split(r);void 0!==m&&"number"!==typeof m&&(u=l,l=m,m=void 0);if(void 0!==m&&"number"!==typeof m){throw Error('Bad segment "'+m+'", must be 0-based integer')}q&&t.shift();0>m&&(m=Math.max(t.length+m,0));if(void 0===l){return void 0===m?t:t[m]}if(null===m||void 0===t[m]){if(T(l)){t=[];m=0;for(var p=l.length;m<p;m++){if(l[m].length||t.length&&t[t.length-1].length){t.length&&!t[t.length-1].length&&t.pop(),t.push(l[m])}}}else{if(l||"string"===typeof l){""===t[t.length-1]?t[t.length-1]=l:t.push(l)}}}else{l?t[m]=l:t.splice(m,1)}q&&t.unshift("");return this.path(t.join(r),u)};V.segmentCoded=function(l,e,q){var p,m;"number"!==typeof l&&(q=e,e=l,l=void 0);if(void 0===e){l=this.segment(l,e,q);if(T(l)){for(p=0,m=l.length;p<m;p++){l[p]=U.decode(l[p])}}else{l=void 0!==l?U.decode(l):void 0}return l}if(T(e)){for(p=0,m=e.length;p<m;p++){e[p]=U.decode(e[p])}}else{e="string"===typeof e||e instanceof String?U.encode(e):e}return this.segment(l,e,q)};var b=V.query;V.query=function(l,e){if(!0===l){return U.parseQuery(this._parts.query,this._parts.escapeQuerySpace)}if("function"===typeof l){var p=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace),m=l.call(this,p);this._parts.query=U.buildQuery(m||p,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!e);return this}return void 0!==l&&"string"!==typeof l?(this._parts.query=U.buildQuery(l,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):b.call(this,l,e)};V.setQuery=function(l,e,q){var p=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"===typeof l||l instanceof String){p[l]=void 0!==e?e:null}else{if("object"===typeof l){for(var m in l){P.call(l,m)&&(p[m]=l[m])}}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")}}this._parts.query=U.buildQuery(p,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof l&&(q=e);this.build(!q);return this};V.addQuery=function(l,e,p){var m=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace);U.addQuery(m,l,void 0===e?null:e);this._parts.query=U.buildQuery(m,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof l&&(p=e);this.build(!p);return this};V.removeQuery=function(l,e,p){var m=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace);U.removeQuery(m,l,e);this._parts.query=U.buildQuery(m,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof l&&(p=e);this.build(!p);return this};V.hasQuery=function(l,e,p){var m=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return U.hasQuery(m,l,e,p)};V.setSearch=V.setQuery;V.addSearch=V.addQuery;V.removeSearch=V.removeQuery;V.hasSearch=V.hasQuery;V.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};V.normalizeProtocol=function(d){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!d));return this};V.normalizeHostname=function(d){this._parts.hostname&&(this.is("IDN")&&R?this._parts.hostname=R.toASCII(this._parts.hostname):this.is("IPv6")&&o&&(this._parts.hostname=o.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!d));return this};V.normalizePort=function(d){"string"===typeof this._parts.protocol&&this._parts.port===U.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!d));return this};V.normalizePath=function(l){if(this._parts.urn||!this._parts.path||"/"===this._parts.path){return this}var e,r=this._parts.path,q="",m,p;"/"!==r.charAt(0)&&(e=!0,r="/"+r);r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");e&&(q=r.substring(1).match(/^(\.\.\/)+/)||"")&&(q=q[0]);for(;;){m=r.indexOf("/..");if(-1===m){break}else{if(0===m){r=r.substring(3);continue}}p=r.substring(0,m).lastIndexOf("/");-1===p&&(p=m);r=r.substring(0,p)+r.substring(m+3)}e&&this.is("relative")&&(r=q+r.substring(1));r=U.recodePath(r);this._parts.path=r;this.build(!l);return this};V.normalizePathname=V.normalizePath;V.normalizeQuery=function(d){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(U.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!d));return this};V.normalizeFragment=function(d){this._parts.fragment||(this._parts.fragment=null,this.build(!d));return this};V.normalizeSearch=V.normalizeQuery;V.normalizeHash=V.normalizeFragment;V.iso8859=function(){var e=U.encode,d=U.decode;U.encode=escape;U.decode=decodeURIComponent;this.normalize();U.encode=e;U.decode=d;return this};V.unicode=function(){var e=U.encode,d=U.decode;U.encode=c;U.decode=unescape;this.normalize();U.encode=e;U.decode=d;return this};V.readable=function(){var l=this.clone();l.username("").password("").normalize();var e="";l._parts.protocol&&(e+=l._parts.protocol+"://");l._parts.hostname&&(l.is("punycode")&&R?(e+=R.toUnicode(l._parts.hostname),l._parts.port&&(e+=":"+l._parts.port)):e+=l.host());l._parts.hostname&&l._parts.path&&"/"!==l._parts.path.charAt(0)&&(e+="/");e+=l.path(!0);if(l._parts.query){for(var t="",r=0,p=l._parts.query.split("&"),q=p.length;r<q;r++){var m=(p[r]||"").split("="),t=t+("&"+U.decodeQuery(m[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==m[1]&&(t+="="+U.decodeQuery(m[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}e+="?"+t.substring(1)}return e+=U.decodeQuery(l.hash(),!0)};V.absoluteTo=function(l){var e=this.clone(),q=["protocol","username","password","hostname","port"],p,m;if(this._parts.urn){throw Error("URNs do not have any generally defined hierarchical components")}l instanceof U||(l=new U(l));e._parts.protocol||(e._parts.protocol=l._parts.protocol);if(this._parts.hostname){return e}for(p=0;m=q[p];p++){e._parts[m]=l._parts[m]}e._parts.path?".."===e._parts.path.substring(-2)&&(e._parts.path+="/"):(e._parts.path=l._parts.path,e._parts.query||(e._parts.query=l._parts.query));"/"!==e.path().charAt(0)&&(l=l.directory(),e._parts.path=(l?l+"/":"")+e._parts.path,e.normalizePath());e.build();return e};V.relativeTo=function(l){var e=this.clone().normalize(),r,q,m,p;if(e._parts.urn){throw Error("URNs do not have any generally defined hierarchical components")}l=(new U(l)).normalize();r=e._parts;q=l._parts;m=e.path();p=l.path();if("/"!==m.charAt(0)){throw Error("URI is already relative")}if("/"!==p.charAt(0)){throw Error("Cannot calculate a URI relative to another relative URI")}r.protocol===q.protocol&&(r.protocol=null);if(r.username===q.username&&r.password===q.password&&null===r.protocol&&null===r.username&&null===r.password&&r.hostname===q.hostname&&r.port===q.port){r.hostname=null,r.port=null}else{return e.build()}if(m===p){return r.path="",e.build()}l=U.commonPath(e.path(),l.path());if(!l){return e.build()}q=q.path.substring(l.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");r.path=q+r.path.substring(l.length);return e.build()};V.equals=function(l){var e=this.clone();l=new U(l);var r={},q={},m={},p;e.normalize();l.normalize();if(e.toString()===l.toString()){return !0}r=e.query();q=l.query();e.query("");l.query("");if(e.toString()!==l.toString()||r.length!==q.length){return !1}r=U.parseQuery(r,this._parts.escapeQuerySpace);q=U.parseQuery(q,this._parts.escapeQuerySpace);for(p in r){if(P.call(r,p)){if(!T(r[p])){if(r[p]!==q[p]){return !1}}else{if(!Q(r[p],q[p])){return !1}}m[p]=!0}}for(p in q){if(P.call(q,p)&&!m[p]){return !1}}return !0};V.duplicateQueryParameters=function(d){this._parts.duplicateQueryParameters=!!d;return this};V.escapeQuerySpace=function(d){this._parts.escapeQuerySpace=!!d;return this};return U});;
;
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:deployments-resources', location = '/templates/plugins/bamboo/script/backbone-brace/backbone.brace.min.js' */
//     Backbone Brace - 2012/10/29
//     Copyright 2012 Atlassian Software Systems Pty Ltd
//     Licensed under the Apache License, Version 2.0
(function(){function i(e){return n.isArray(e)?n.reduce(e,function(e,t){return e[t]=null,e},{}):e}function s(e,t){if(!e||t==null)return t;if(typeof e=="string"||e instanceof String){if(typeof t!=""+e)throw"The typeof "+t+" is "+typeof t+" but expected it to be "+e;return t}if(n.isArray(e)||e===Array){if(!u(t))throw"Array type expected, but nonnull, non-Array value provided.";return e===Array||!e[0]?t:n.map(t,n.bind(s,null,e[0]))}if(typeof e!="function")throw"Invalid expected type "+e+". Should be falsy, String, Array, Backbone.Collection constructor, or function.";return t instanceof e?t:o(e)?new e(s([e.model],t)):new e(t)}function o(e,t){return e&&(e.__super__ instanceof(t||r.Collection)||e.__super__===(t||r.Collection).prototype||e===(t||r.Collection))}function u(e){return n.has(e,"length")&&!(e instanceof String||n.has({string:1,"function":1},typeof e)||e instanceof r.Collection)}function a(e,t){var r={};return n.each(e,function(e,n){if(!!t[n]&&!f(e,t[n])){if(!e||f(t[n],e))return;throw n+" has conflicted type descriptors."}r[n]=e}),r}function f(e,t){return!t||t===e?!0:!e||typeof e=="string"?!1:e instanceof Array?t===Array||t instanceof Array&&f(e[0],t[0]):typeof t!="function"?!1:o(t)?o(e,t):e.prototype instanceof t}function l(e){return n.isObject(e)?n.reduce(e,function(e,t,r){return t&&n.isFunction(t.toJSON)?e[r]=t.toJSON():n.isArray(t)&&(e[r]=n.map(t,function(e){return e&&n.isFunction(e.toJSON)?e.toJSON():e})),e},e):e}function c(e){return function(){var n=e.call(this);return l(n)}}function h(e){return function r(s,o){var u,a=n.extend({},s),f;return s&&s.mixins&&(f=s.mixins,delete a.mixins),u=e.call(this,a,o),this.prototype.namedEvents&&t.Mixins.applyMixin(u,{namedEvents:this.prototype.namedEvents}),this.prototype.namedAttributes&&t.Mixins.applyMixin(u,{namedAttributes:this.prototype.namedAttributes}),f&&n.each(s.mixins,function(e){t.Mixins.applyMixin(u,e)}),u.prototype.namedEvents&&t.Mixins.applyMixin(u,t.EventsMixinCreator.create(u.prototype.namedEvents)),u.prototype.namedAttributes&&(u.prototype.namedAttributes=i(u.prototype.namedAttributes),t.Mixins.applyMixin(u,t.AttributesMixinCreator.create(u.prototype.namedAttributes))),u.prototype.toJSON&&(u.prototype.toJSON=c(u.prototype.toJSON)),u.extend=r,u}}function p(e,t){var r=e.prototype,i=t.prototype,o=r.set;i.set=function(e,t,r){var i,u=this.namedAttributes;if(!u||e==null)return o.apply(this,arguments);n.isObject(e)?(i=n.clone(e),r=t):(i={},i[e]=t);for(var a in i){if(!n.has(i,a))continue;if(!n.has(u,a))throw"Attribute '"+a+"' does not exist";i[a]=s(u[a],i[a])}return o.call(this,i,r)};var u=r.get;i.get=function(e){if(this.namedAttributes&&!n.has(this.namedAttributes,e))throw"Attribute '"+e+"' does not exist";return u.apply(this,arguments)}}function d(e){var t=e.extend(),n=e.extend;return t.extend=h(n),t}function v(e){var t=d(e);return p(e,t),t}var e=this,t;typeof exports!="undefined"?t=exports:t=e.Brace={};var n=e._;!n&&typeof require!="undefined"&&(n=require("underscore"));var r=e.Backbone;!r&&typeof require!="undefined"&&(r=require("backbone")),t.Mixins={createMethodName:function(e,t){return e+t.charAt(0).toUpperCase()+t.substr(1)},applyMixin:function(e,t){n.forEach(n.keys(t),function(r){var s=e.prototype;if("initialize"===r){var o=s.initialize;s.initialize=function(){o&&o.apply(this,arguments),t.initialize.apply(this,arguments)};return}if("validate"===r){var u=s.validate;s.validate=function(){if(u){var e=u.apply(this,arguments);if(e)return e}return t.validate.apply(this,arguments)};return}if("defaults"===r){var f=s.defaults||(s.defaults={}),l=t[r];for(var c in l){if(f.hasOwnProperty(c))throw"Mixin error: class already has default '"+c+"' defined";f[c]=l[c]}return}if("namedAttributes"===r){var h=i(s.namedAttributes)||{},p=i(t[r]);s.namedAttributes=n.extend(h,a(p,h));return}if("namedEvents"===r){if(!n.isArray(t[r]))throw"Expects events member on mixin to be an array";s.namedEvents||(s.namedEvents=[]),s.namedEvents=n.uniq(s.namedEvents.concat(t[r]));return}if(s.hasOwnProperty(r))throw"Mixin error: class already has property '"+r+"' defined";s[r]=t[r]},this)}},t.AttributesMixinCreator={create:function(e){var r={};return e||(e={}),n.has(e,"id")||(e.id=null),n.each(e,function(e,n){var i=t.Mixins.createMethodName("set",n);r[i]=function(e,t){return this.set(n,e,t)};var s=t.Mixins.createMethodName("get",n);r[s]=function(){return this.get(n)}}),r},ensureType:s},t.EventsMixinCreator={create:function(e){var r={},i=function(e){var i=t.Mixins.createMethodName("on",e);r[i]=function(){return this.on.apply(this,[e].concat(n.toArray(arguments)))};var s=t.Mixins.createMethodName("trigger",e);r[s]=function(){return this.trigger.apply(this,[e].concat(n.toArray(arguments)))}};return n.each(e,n.bind(i,this)),r}},t.Model=v(r.Model),t.Collection=d(r.Collection),t.View=d(r.View),t.Router=d(r.Router)})();;
;
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:deployments-resources', location = '/templates/plugins/bamboo/script/deployments.js' */
(function(c,b){b.Model={};b.Model.DeploymentProject=Brace.Model.extend({namedAttributes:{name:"string",bambooId:"number",url:"string",environmentCount:"number",upToDateEnvironmentCount:"number",applinkId:"string"}});b.Model.Version=Brace.Model.extend({namedAttributes:{name:"string",id:"number",url:"string"}});b.Model.Environment=Brace.Model.extend({namedAttributes:{name:"string",id:"number",issueStatus:"string",statusOk:"boolean",url:"string",version:b.Model.Version}});b.Model.IssueDeploymentStatus=Brace.Model.extend({fetchUrl:"",namedAttributes:{deploymentProject:b.Model.DeploymentProject,versions:Brace.Collection.extend({model:b.Model.Version}),environments:Brace.Collection.extend({model:b.Model.Environment})},url:function(){return this.fetchUrl},initialize:function(e,d){this.fetchUrl=d.fetchUrl}});b.Model.ErrorMessage=Brace.Model.extend({namedAttributes:{message:"string",messageBody:"string"}});b.Model.OauthCallback=Brace.Model.extend({namedAttributes:{oauthCallback:"string",serverName:"string"}});b.Model.RelatedDeploymentProjects=Brace.Model.extend({fetchUrl:"",namedAttributes:{deploymentProjects:Brace.Collection.extend({model:b.Model.DeploymentProject}),errorMessages:Brace.Collection.extend({model:b.Model.ErrorMessage}),oauthCallbacks:Brace.Collection.extend({model:b.Model.OauthCallback})},url:function(){return this.fetchUrl},initialize:function(e,d){this.fetchUrl=d.fetchUrl}});b.IssueDeploymentStatus={};b.IssueDeploymentStatus.View=Brace.View.extend({oAuthDanceReturnUrl:"",initialize:function(d){this.options.bootstrap=d.bootstrap||[];this.oAuthDanceReturnUrl=d.oAuthDanceReturnUrl||"";this.model=new b.Model.IssueDeploymentStatus(this.options.bootstrap,{fetchUrl:d.fetchUrl});this.update()},render:function(){this.$el.html(bamboo.deployments.issueDetailsDialogContent({data:this.model.toJSON()}));return this},update:function(){return this.model.fetch({cache:false}).done(_.bind(this.render,this)).fail(_.bind(this.removeSpinner,this)).fail(_.bind(this.clearError,this)).fail(_.bind(this.displayError,this))},displayError:function(d,f,e){a(d,f,e,this.$el)},clearError:function(){this.$el.children(".aui-message").remove()},removeSpinner:function(){this.$el.children(".bamboo-icon-loading").remove()}});b.RelatedDeploymentProjects={};b.RelatedDeploymentProjects.PopupDialog=b.RelatedDeploymentProjects.PopupDialog||new JIRA.FormDialog({trigger:".bamboo-deployments-details-link",width:640,autoClose:true});b.RelatedDeploymentProjects.View=Brace.View.extend({initialize:function(d){this.options.bootstrap=d.bootstrap||[];this.oAuthDanceReturnUrl=d.oAuthDanceReturnUrl||"";this.issueId=d.issueId||"";this.selector=d.el;this.model=new b.Model.RelatedDeploymentProjects(this.options.bootstrap,{fetchUrl:d.fetchUrl});this.update()},render:function(){c(this.selector).html(bamboo.deployments.issuePanelContent({data:this.model.toJSON(),issueId:this.issueId,oAuthDanceReturnUrl:encodeURIComponent(this.oAuthDanceReturnUrl)}));return this.showPanelIfNotEmpty()},showPanelIfNotEmpty:function(){if(!c(this.selector).is(":empty")){c("#bamboo-deployment-projects-right").show()}else{c("#bamboo-deployment-projects-right").hide()}return this},update:function(){return this.model.fetch({cache:false}).done(_.bind(this.render,this)).fail(_.bind(this.displayError,this))},displayError:function(d,f,e){c(this.selector).children(".aui-message").remove();a(d,f,e,c(this.selector))}});function a(h,l,j,g){var f,k,d;try{d=h.responseText||h.response;if(d){f=c.parseJSON(d);g.append(bamboo.components.errorResponseMessage({errorMessage:f,oAuthDanceReturnUrl:encodeURIComponent(this.oAuthDanceReturnUrl)}))}else{k="Unknown error: no response from server"}}catch(i){k="An error occurred while trying to retrieve the deployment project information."}if(k){AJS.messages.warning(g,{title:k,closeable:false})}c("#bamboo-deployment-projects-right").show()}}(AJS.$,window.JBAM_DEPLOYMENT=(window.JBAM_DEPLOYMENT||{})));;
;
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:deployments-resources', location = '/templates/plugins/bamboo/deployments/deployments.soy' */
// This file was automatically generated from deployments.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bamboo.deployments.
 */

if (typeof bamboo == 'undefined') { var bamboo = {}; }
if (typeof bamboo.deployments == 'undefined') { bamboo.deployments = {}; }


bamboo.deployments.issueDetailsDialog = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml("Issue deployment details") + '</h2><div id=\'bamboo-deployments-issue-status-container\'><span class="bamboo-icon bamboo-icon-loading" title="loading"><span> </span></span></div><script>new JBAM_DEPLOYMENT.IssueDeploymentStatus.View({el: \'#bamboo-deployments-issue-status-container\', fetchUrl: \'' + soy.$$escapeHtml("" + '/rest/bamboo/latest/deploy/' + opt_data.issueKey + '/' + opt_data.applinkId + '/' + opt_data.deploymentProjectId) + '\', oAuthDanceReturnUrl: \'' + soy.$$escapeHtml(opt_data.returnUrl) + '\'});<\/script>';
};
if (goog.DEBUG) {
  bamboo.deployments.issueDetailsDialog.soyTemplateName = 'bamboo.deployments.issueDetailsDialog';
}


bamboo.deployments.issuePanelContent = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.data.deploymentProjects) {
    output += '<ul class=\'property-list\'>';
    var deploymentProjectList14 = opt_data.data.deploymentProjects;
    var deploymentProjectListLen14 = deploymentProjectList14.length;
    for (var deploymentProjectIndex14 = 0; deploymentProjectIndex14 < deploymentProjectListLen14; deploymentProjectIndex14++) {
      var deploymentProjectData14 = deploymentProjectList14[deploymentProjectIndex14];
      output += '<li class=\'item\'><div class=\'wrap\'><strong class=\'name\'>' + soy.$$escapeHtml(deploymentProjectData14.name) + '</strong><span class=\'value\'>' + ((deploymentProjectData14.environmentCount == 0) ? '<span class="aui-icon aui-icon-info"> </span> ' + soy.$$escapeHtml("No environments defined") : (deploymentProjectData14.upToDateEnvironmentCount == 0) ? '<span class="aui-icon aui-icon-warning"> </span> ' + soy.$$escapeHtml("None of the environments have all related commits.") : (deploymentProjectData14.environmentCount > deploymentProjectData14.upToDateEnvironmentCount) ? '<span class="aui-icon aui-icon-warning"> </span> ' + soy.$$escapeHtml(AJS.format("{0} of {1} environments don\x27\x27t have all related commits.",deploymentProjectData14.environmentCount - deploymentProjectData14.upToDateEnvironmentCount,deploymentProjectData14.environmentCount)) : '<span class="aui-icon aui-icon-success"> </span> ' + soy.$$escapeHtml("All environments have all related commits.")) + ' <a id="bamboo-deployment-details_' + soy.$$escapeHtml(deploymentProjectData14.bambooId) + '" class="bamboo-deployments-details-link" href="' + soy.$$escapeHtml("") + '/secure/ViewIssueDeploymentStatus.jspa?id=' + soy.$$escapeHtml(opt_data.issueId) + '&deploymentProjectId=' + soy.$$escapeHtml(deploymentProjectData14.bambooId) + '&applicationLinkId=' + soy.$$escapeHtml(deploymentProjectData14.applinkId) + '">' + soy.$$filterNoAutoescape("Details\x26hellip;") + '</a></span></div></li>';
    }
    output += '</ul>';
  }
  if (opt_data.data.errorMessages) {
    var errorMessageList49 = opt_data.data.errorMessages;
    var errorMessageListLen49 = errorMessageList49.length;
    for (var errorMessageIndex49 = 0; errorMessageIndex49 < errorMessageListLen49; errorMessageIndex49++) {
      var errorMessageData49 = errorMessageList49[errorMessageIndex49];
      output += bamboo.components.errorResponseMessage({errorMessage: errorMessageData49, oAuthDanceReturnUrl: opt_data.oAuthDanceReturnUrl});
    }
  }
  if (opt_data.data.oauthCallbacks && opt_data.data.oauthCallbacks.length) {
    output += '<div class="aui-message no-border no-background"><span class="aui-icon icon-warning"></span> ' + soy.$$escapeHtml("For more deployment information, you need to log in to and approve the following servers:") + '<ul>';
    var oauthCallbackList59 = opt_data.data.oauthCallbacks;
    var oauthCallbackListLen59 = oauthCallbackList59.length;
    for (var oauthCallbackIndex59 = 0; oauthCallbackIndex59 < oauthCallbackListLen59; oauthCallbackIndex59++) {
      var oauthCallbackData59 = oauthCallbackList59[oauthCallbackIndex59];
      output += '<li><a href="' + soy.$$filterNoAutoescape(oauthCallbackData59.oauthCallback) + '&amp;redirectUrl=' + soy.$$filterNoAutoescape(opt_data.oAuthDanceReturnUrl) + '">' + soy.$$escapeHtml(oauthCallbackData59.serverName) + '</a></li>';
    }
    output += '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  bamboo.deployments.issuePanelContent.soyTemplateName = 'bamboo.deployments.issuePanelContent';
}


bamboo.deployments.issueDetailsDialogContent = function(opt_data, opt_ignored) {
  var output = '<h3>' + soy.$$escapeHtml("Bamboo releases with related commits") + '</h3><ul class=\'property-list\'><li class=\'item\'><div class=\'wrap\'><strong class=\'name\'>' + soy.$$escapeHtml("Deployment project") + '</strong><span class=\'value\'>' + bamboo.deployments.itemLink({item: opt_data.data.deploymentProject}) + '</span></div></li><li class=\'item\'><div class=\'wrap\'><strong class=\'name\'>' + soy.$$escapeHtml("Releases with commits") + '</strong><span class=\'value\'>';
  var versionList82 = opt_data.data.versions;
  var versionListLen82 = versionList82.length;
  if (versionListLen82 > 0) {
    for (var versionIndex82 = 0; versionIndex82 < versionListLen82; versionIndex82++) {
      var versionData82 = versionList82[versionIndex82];
      output += bamboo.deployments.itemLink({item: versionData82}) + ((! (versionIndex82 == versionListLen82 - 1)) ? ', ' : '');
    }
  } else {
    output += soy.$$escapeHtml("No related releases found");
  }
  output += '</span></div></li></ul>' + bamboo.deployments.environmentsTable({environments: opt_data.data.environments});
  return output;
};
if (goog.DEBUG) {
  bamboo.deployments.issueDetailsDialogContent.soyTemplateName = 'bamboo.deployments.issueDetailsDialogContent';
}


bamboo.deployments.environmentsTable = function(opt_data, opt_ignored) {
  var output = '<h3>' + soy.$$escapeHtml("Issue availability across environments") + '</h3>';
  if (opt_data.environments.length > 0) {
    output += '<table width=\'100%\' class=\'aui\'><colgroup><col width=\'45%\'><col width=\'30%\'><col width=\'25%\'></colgroup><thead><tr><th>' + soy.$$escapeHtml("Environment") + '</th><th>' + soy.$$escapeHtml("Issue availability") + '</th><th>' + soy.$$escapeHtml("Current release") + '</th></tr></thead><tbody>';
    var environmentList107 = opt_data.environments;
    var environmentListLen107 = environmentList107.length;
    for (var environmentIndex107 = 0; environmentIndex107 < environmentListLen107; environmentIndex107++) {
      var environmentData107 = environmentList107[environmentIndex107];
      output += '<tr><td>' + bamboo.deployments.itemLink({item: environmentData107}) + ((! environmentData107.statusOk) ? ' <span class="aui-icon aui-icon-error">Error</span>' : '') + '</td><td>' + bamboo.deployments.issueAvailabilityLozenge({issueStatus: environmentData107.issueStatus}) + '</td><td>' + ((environmentData107.version) ? bamboo.deployments.itemLink({item: environmentData107.version}) : '<em>' + soy.$$escapeHtml("Never deployed") + '</em>') + '</td></tr>';
    }
    output += '</tbody></table>';
  } else {
    output += '<p>' + soy.$$escapeHtml("No environments defined") + '</p>';
  }
  return output;
};
if (goog.DEBUG) {
  bamboo.deployments.environmentsTable.soyTemplateName = 'bamboo.deployments.environmentsTable';
}


bamboo.deployments.issueAvailabilityLozenge = function(opt_data, opt_ignored) {
  return '' + ((opt_data.issueStatus == 'AVAILABLE') ? '<span class="aui-lozenge aui-lozenge-success">' + soy.$$escapeHtml("deployed") + '</span>' : (opt_data.issueStatus == 'PARTIALLY_AVAILABLE') ? '<span class="aui-lozenge aui-lozenge-current">' + soy.$$escapeHtml("partly deployed") + '</span>' : '<span class="aui-lozenge">' + soy.$$escapeHtml("not deployed") + '</span>');
};
if (goog.DEBUG) {
  bamboo.deployments.issueAvailabilityLozenge.soyTemplateName = 'bamboo.deployments.issueAvailabilityLozenge';
}


bamboo.deployments.itemLink = function(opt_data, opt_ignored) {
  return '' + ((opt_data.item.url) ? '<a href="' + soy.$$filterNoAutoescape(opt_data.item.url) + '">' + soy.$$escapeHtml(opt_data.item.name) + '</a>' : soy.$$escapeHtml(opt_data.item.name));
};
if (goog.DEBUG) {
  bamboo.deployments.itemLink.soyTemplateName = 'bamboo.deployments.itemLink';
}
;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:lodash-amd', location = 'applinks/internal/lib/lodash-jslibs.js' */
define("applinks/lib/lodash",["atlassian/libs/underscore-1.5.2"],function(a){return a});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/lib-version.js' */
define("applinks/lib/version",["applinks/lib/lodash"],function(c){function d(f,g){if(c.isUndefined(f)){return 0}else{if(typeof f!=="number"||isNaN(f)){throw new Error(g+": expected a number, was: <"+f+">")}else{return Math.floor(f)}}}function a(f,g){if(!f||!(f instanceof e)){throw new Error(g+": expected a Version object, was: <"+f+">")}return f}function b(f,g){return f>g?1:f==g?0:-1}function e(g,h,f){this.major=d(g,"major");this.minor=d(h,"minor");this.bugfix=d(f,"bugfix")}e.parse=function(g,h){h=h||"versionString";if(!g){throw new Error(h+": expected a non-empty string")}var f=g.split(".");if(f.length!==3){throw new Error(h+": expected <major>.<minor>.<bugfix> string, was: <"+g+">")}return new e(parseInt(f[0]),parseInt(f[1]),parseInt(f[2]))};e.comparator=function(g,f){return a(g,"versionOne").compareTo(a(f,"versionTwo"))};e.prototype.compareTo=function(h){a(h,"that");var f=b(this.major,h.major);if(f!=0){return f}var g=b(this.minor,h.minor);if(g!=0){return g}return b(this.bugfix,h.bugfix)};e.prototype.greaterThan=function(f){return this.compareTo(f)>0};e.prototype.greaterThanOrEqual=function(f){return this.compareTo(f)>=0};e.prototype.lessThan=function(f){return this.compareTo(f)<0};e.prototype.lessThanOrEqual=function(f){return this.compareTo(f)<=0};e.prototype.equals=function(f){return this.compareTo(f)==0};e.prototype.toMinor=function(){return new e(this.major,this.minor)};e.prototype.toMajor=function(){return new e(this.major)};e.prototype.toString=function(){return this.major+"."+this.minor+"."+this.bugfix};return e});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-version-details.js' */
define("applinks/lib/aui-version-details",["applinks/lib/version"],function(g){var d=new g(5,8,15);var f=new g(5,9,13);var e=new g(5,8);var c=new g(5,9);function a(h){if(h.lessThan(d)){throw new Error("AUI version "+h+" is too low, you need to upgrade AUI to "+d+" or "+f+" for Applinks to work")}if(h.greaterThanOrEqual(c)&&h.lessThan(f)){throw new Error("AUI version "+h+" is too low, you need to upgrade AUI to "+f+" for Applinks to work")}}function b(h){var i=g.parse(h.version,"AUI version");a(i);h.versionDetails=i;h.versionDetails.is58=i.toMinor().equals(e);h.versionDetails.is59=i.toMinor().equals(c);return h}return{addVersionDetails:b}});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/console-amd.js' */
define("applinks/lib/console",function(){return window.console});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/jquery-amd.js' */
define("applinks/lib/jquery",function(){return window.jQuery});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-amd.js' */
define("applinks/lib/aui",["applinks/lib/window","applinks/lib/aui-version-details"],function(b,c){var a=b.AJS;if(!a){throw new Error("window.AJS not defined, cannot load AUI")}return c.addVersionDetails(a)});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/wrm-amd.js' */
define("applinks/lib/wrm",function(){return window.WRM});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/skate-amd.js' */
define("applinks/lib/skate",function(){return window.skate});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/window-amd.js' */
define("applinks/lib/window",function(){return window});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/spi-amd.js' */
define("applinks/lib/spi",function(){return{get:function(){return AppLinks.SPI}}});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/applinks-creation-amd.js' */
define("applinks/lib/creation",function(){return{get:function(){return AppLinks.Creation}}});;
;
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-public', location = 'js/applinks.public.js' */
var ApplinksUtils=ApplinksUtils||(function(f){var c={},b={};var p="com_atlassian_applinks_authentication";function o(r){var q=f('<span class="aui-icon icon-close"></span>').click(function(){r.trigger("messageClose",[this]).remove()});r.append(q)}function g(){if(window===parent.window){return null}var r=null,q=window;f("iframe",parent.document.body).each(function(s){if(this.contentWindow.window===q){r=this}});return r}function d(r,x,w,q,s,u){if(x in c){var t=c[x];if(w){t.authAdminUri=q;delete c[x]}j(t,w,u)}if(!s&&parent&&(parent!==window)){var v=window;f("iframe",parent.document.body).each(function(y,A){var z=A.contentWindow;if(z!==v){if(z.AJS&&z.AJS.$){z.AJS.$(z.document).trigger("applinks.auth.completion",[x,w,q,true,u])}}})}}function j(q,u,t){var s=f(document);if(u){var r=function(v){if(v.isDefaultPrevented()){m(q)}else{h(q);document.location.reload(true)}};s.bind("applinks.auth.approved",r);s.trigger("applinks.auth.approved",q);s.unbind("applinks.auth.approved",r)}else{s.trigger("applinks.auth.denied",[q,t])}}function k(r,q){var s=r.find("a.applink-authenticate");if(r.hasClass("aui-message")){o(r)}s.click(function(t){window.open(q.authUri,p);t.preventDefault()});c[q.id]=q;return r}function n(){f(".applinks-auth-request").each(function(t){var s=f(this),v=s.find(".applinkId").val(),q=s.find(".appName").val(),r=s.find(".appUri").val(),u=s.find(".authUri").val();if(v&&u){k(s,{id:v,appName:q,appUri:r,authUri:u})}})}function i(q){var r=f('<div class="aui-message warning closeable applinks-auth-request"><p><span class="aui-icon icon-applinks-key"></span></p></div>');r.append(AJS.format("Additional information may be available, please \u003ca class=\"applink-authenticate\" href=\"{0}\"\u003eauthenticate\u003c/a\u003e with \u003ca href=\"{1}\"\u003e{2}\u003c/a\u003e.",AJS.escapeHtml(q.authUri),AJS.escapeHtml(q.appUri),AJS.escapeHtml(q.appName)));k(r,q);return r}function e(u,r){var q=f('<span class="applinks-auth-request"></span>'),s=f('<span class="applinks-request-description"></span>'),t=AJS.format("\u003ca class=\"applink-authenticate\" href=\"{0}\"\u003eAuthenticate\u003c/a\u003e to see additional information.",AJS.escapeHtml(r.authUri));if(u){s.append(u);s.append(" - ")}s.append(t);q.append(s);k(q,r);return q}function h(q){var r=g();if((!r)||(!r.id)){return}if(!parent.ApplinksUtils.pendingConfirmations){parent.ApplinksUtils.pendingConfirmations={}}if(!(r.id in parent.ApplinksUtils.pendingConfirmations)){parent.ApplinksUtils.pendingConfirmations[r.id]=[]}parent.ApplinksUtils.pendingConfirmations[r.id].push(q);return}function l(){if(parent&&parent.ApplinksUtils&&parent.ApplinksUtils.pendingConfirmations){var r=g();if(r){if(r.id in parent.ApplinksUtils.pendingConfirmations){var s=parent.ApplinksUtils.pendingConfirmations[r.id];delete parent.ApplinksUtils.pendingConfirmations[r.id];for(var q=0,t=s.length;q<t;q++){m(s[q])}}}}}function m(s){var t=f(document),r=f('<div class="aui-message success closeable applinks-auth-confirmation"><p><span class="aui-icon icon-applinks-key-success"></span></p></div>'),q=t.find("div.applinks-auth-confirmation-container");if(!q.length){q=t.find("body")}r.append(AJS.format("This application is now using \u003ca href=\"{0}\"\u003e{1}\u003c/a\u003e\'\'s credentials. Revoke access at any time by going to \u003ca href=\"{2}\"\u003eOAuth access tokens\u003c/a\u003e.",AJS.escapeHtml(s.appUri),AJS.escapeHtml(s.appName),AJS.escapeHtml(s.authAdminUri)));o(r);q.prepend(r);setTimeout(function(){r.fadeOut(1000,function(){f(this).remove()})},5000)}function a(){if(parent&&!(parent===window)){if(!parent.ApplinksUtils){parent.ApplinksUtils={}}}f(document).bind("applinks.auth.completion",d);n();l()}f(document).ready(a);return{createAuthRequestBanner:i,createAuthRequestInline:e}})(AJS.$);;
;
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:issue-view-components', location = '/templates/plugins/bamboo/buildLink/auth-link-component.js' */
define("jira/bamboo-plugin/component/issue-link/auth-link",["jira/skate","jquery"],function(a,b){return a("jbp-issue-link-auth",{type:a.type.CLASSNAME,attached:function(c){ApplinksUtils.createAuthRequestInline(null,{id:c.getAttribute("data-app-link-id"),appName:c.getAttribute("data-application-name"),appUri:c.getAttribute("data-application-url"),authUri:c.getAttribute("data-authentication-url")}).each(function(d,e){b(c).append(e)})}})});;
;
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:issue-view-components', location = '/templates/plugins/bamboo/deployments/panel-component.js' */
define("jira/bamboo-plugin/component/deployments/panel",["jira/skate"],function(a){return a("jbp-deployments-panel",{type:a.type.CLASSNAME,attached:function(b){new JBAM_DEPLOYMENT.RelatedDeploymentProjects.View({el:".jbp-deployments-panel",fetchUrl:b.getAttribute("data-fetch-url"),oAuthDanceReturnUrl:b.getAttribute("data-oauth-dance-return-url"),issueId:b.getAttribute("data-issue-id")})}})});;
;
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:issue-view-components', location = '/templates/plugins/bamboo/view-issue-components-init.js' */
require(["jira/bamboo-plugin/component/issue-link/auth-link","jira/bamboo-plugin/component/deployments/panel"]);;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:underscore', location = 'js/lib/underscore-adapter.js' */
define("workflow-designer/underscore",["underscore"],function(A){return A});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:workflow-designer-loader', location = 'js/require.js' */
define("workflow-designer/application-loader",["wrm/require","require"],function(A,B){return{load:function C(D){return A(["wrc!com.atlassian.jira.plugins.jira-workflow-designer.workflow-designer"],function(){D&&D(B("workflow-designer/application"))})}}});AJS.namespace("JIRA.WorkflowDesigner.require",null,require("workflow-designer/application-loader").load);;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:workflow-designer-templates', location = 'js/templates-amd.js' */
define("workflow-designer/templates",[],function(){AJS.namespace("JIRA.WorkflowDesigner.Templates");return JIRA.WorkflowDesigner.Templates});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:dialog', location = 'js/util/DialogSizeCalculator.js' */
define("workflow-designer/dialog-size-calculator",["workflow-designer/underscore","jquery"],function(A,B){return{DISTANCE_FROM_EDGE:100,calculateDialogSize:function(D,C){this.dialog=D;C=A.defaults(C||{},{windowHeight:this._getWindowHeight(),windowWidth:this._getWindowWidth(),dialogHeaderHeight:this._getDialogHeaderHeight(),dialogFooterHeight:this._getDialogFooterHeight()});return{height:this._calculateDialogHeight(C.windowHeight,C.dialogHeaderHeight,C.dialogFooterHeight),width:this._calculateDialogWidth(C.windowWidth)}},_calculateDialogHeight:function(E,C,D){return E-C-D-(this.DISTANCE_FROM_EDGE*2)},_calculateDialogWidth:function(C){return C-(this.DISTANCE_FROM_EDGE*2)},_getWindowHeight:function(){return B(window).height()},_getWindowWidth:function(){return B(window).width()},_getDialogHeaderHeight:function(){return this.dialog.$popupHeading.outerHeight()},_getDialogFooterHeight:function(){return this.dialog.$buttonContainer.outerHeight()}}});AJS.namespace("JIRA.WorkflowDesigner.DialogSizeCalculator",null,require("workflow-designer/dialog-size-calculator"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:dialog', location = 'js/views/dialogs/Dialog.js' */
define("workflow-designer/dialog",["workflow-designer/dialog-size-calculator","jira/dialog/form-dialog","workflow-designer/application-loader","workflow-designer/templates","jira/dialog/dialog","workflow-designer/underscore","jquery"],function(A,F,E,D,B,C,G){return F.extend({init:function(H){C.bindAll(this,"_sizeAndPositionDialog");H=C.defaults({},H,{content:this.createDialogContent,isDraft:false,onContentRefresh:this._showWorkflowDesigner,widthClass:"large"});this.options=H;this.sizeAndPositionDialog=C.throttle(this._sizeAndPositionDialog,100);this._super(H);this.onContentReady(this._addLabelHint)},createDialogContent:function(H){H(D.Dialog.workflowDialog({title:C.result(this.options,"workflowId")}))},show:function(){this._super.apply(this,arguments);G(window).on("resize",this.sizeAndPositionDialog)},hide:function(){this._designer&&this._designer.destroy();this._super.apply(this,arguments);G(window).off("resize",this.sizeAndPositionDialog)},_sizeAndPositionDialog:function(){var H,I;if(B.current===this){I=A.calculateDialogSize(this);this.options.width=I.width;H=this.$popup.find(".form-body");H.css({height:I.height,maxHeight:""});this._positionInCenter()}},_showWorkflowDesigner:function(){var H=this;this._sizeAndPositionDialog();E.load(function(I){if(H.isCurrent()){H._designer=new I({actions:false,element:H.get$popup().find(".form-body"),immutable:true,draft:C.result(H.options,"isDraft"),layoutData:C.result(H.options,"layoutData"),workflowId:C.result(H.options,"workflowId"),currentStepId:C.result(H.options,"currentStepId")})}})},_addLabelHint:function(){this.getButtonsContainer().prepend(D.Dialog.labelMouseOverHint())}})});AJS.namespace("JIRA.WorkflowDesigner.Dialog",null,require("workflow-designer/dialog"));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:dialog', location = 'soy/Dialog.soy' */
// This file was automatically generated from Dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.WorkflowDesigner.Templates.Dialog.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.WorkflowDesigner == 'undefined') { JIRA.WorkflowDesigner = {}; }
if (typeof JIRA.WorkflowDesigner.Templates == 'undefined') { JIRA.WorkflowDesigner.Templates = {}; }
if (typeof JIRA.WorkflowDesigner.Templates.Dialog == 'undefined') { JIRA.WorkflowDesigner.Templates.Dialog = {}; }


JIRA.WorkflowDesigner.Templates.Dialog.workflowDialog = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog-content"><h2 class="dialog-title">' + soy.$$escapeHtml(opt_data.title) + '</h2><div class="form-body"></div></div>';
};
if (goog.DEBUG) {
  JIRA.WorkflowDesigner.Templates.Dialog.workflowDialog.soyTemplateName = 'JIRA.WorkflowDesigner.Templates.Dialog.workflowDialog';
}


JIRA.WorkflowDesigner.Templates.Dialog.labelMouseOverHint = function(opt_data, opt_ignored) {
  return '<div class="buttons-container-left"><small>' + soy.$$escapeHtml("Mouse over objects to see transition names.") + '</small></div>';
};
if (goog.DEBUG) {
  JIRA.WorkflowDesigner.Templates.Dialog.labelMouseOverHint.soyTemplateName = 'JIRA.WorkflowDesigner.Templates.Dialog.labelMouseOverHint';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:workflow-designer-browser-is-supported', location = 'js/browserIsSupported.js' */
define("workflow-designer/browser-support",["jira/util/navigator"],function(A){return{browserIsSupported:function B(){return !(A.isIE()&&parseInt(A.majorVersion(),10)<10)}}});AJS.namespace("JIRA.WorkflowDesigner.browserIsSupported",null,require("workflow-designer/browser-support").browserIsSupported);;
;
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:view-issue-page-workflow-designer', location = 'js/views/ViewIssue.js' */
(function(){var K=require("workflow-designer/application-loader");var I=require("workflow-designer/dialog");var O=require("jquery");var E=require("jira/skate");var D;var C;var B;function A(){D=require("workflow-designer/io/workflow-data-reader");C=require("workflow-designer/io/ajax/workflow-ajax-manager");B=require("workflow-designer/messages")}var N;var G;var M;var J;function F(Q,P){var R=parseUri(Q).queryKey[P]||"";return decodeURIComponent(R.replace(/\+/g,"%20"))}function L(){var P;if(G){return O.Deferred().resolve(G).promise()}else{P=C.load(J);P.done(function(R,Q){G=Q});return P}}M=new I({content:function(Q){var P=this;K.load().pipe(A).pipe(L).done(function(){P.createDialogContent(Q)}).fail(function(R){R=R||"The Jira server could not be contacted. This may be a temporary glitch or the server may be down.";B.showErrorMessage(R);M.hide(true)})},id:"view-workflow-dialog",workflowId:function(){return J},currentStepId:function(){return N},layoutData:function(){return D.read(G)}});var H=(E.type)?E.type.CLASSNAME:E.types.CLASS;E("jira-workflow-designer-link",{type:H,created:function(P){var Q=(this instanceof Element)?this:P;Q.classList.add("new-workflow-designer")},attached:function(P){var Q=(this instanceof Element)?this:P;var R=Q.getAttribute("href");J=F(R,"workflowName");N=parseInt(F(R,"stepId"),10);G=null},events:{click:function(P,Q){M&&M.show();Q.preventDefault()}}})}());AJS.namespace("JIRA.WorkflowDesigner.ViewIssue.replaceViewWorkflowLink",null,jQuery.noop);AJS.namespace("JIRA.WorkflowDesigner.Templates.ViewIssue.viewWorkflowLink",null,jQuery.noop);;
;
/* module-key = 'com.k15t.backbone.backbone-issue-sync:bb-syncpanelinfo-resources', location = 'com/k15t/backbone/js/livestamp.js' */
(function(e,j){var g,a=6000,c=AJS.Meta.getBoolean("date-relativize"),i=[],f=function(k,l){k.data("livestampdata",l);i.push(k)},b=function(){clearTimeout(g);d();g=setTimeout(b,a)},d=function(){i=e.grep(i,function(l){var m=l.data("livestampdata"),n=l.data("relativize"),p,o;if(!j.isMoment(m)||!l.closest("html").length){l.removeData("livestampdata")}else{p=l.text();var k=l.data("datetime-format");k=k?k:"fullAge";if(!(c||n)){k=k.replace("Age","")}o=JIRA.Time.formatDate(m,JIRA.Time.FormatType.types[k],n);if(p!==o){l.text(o)}}return !!l.data("livestampdata")})},h=function(k){k.each(function(){var n=e(this),m=n.attr("data-livestamp");if(m){var l=isNaN(m)?j(m).zone(m):j(parseInt(m,10));f(n,l)}});b();return k};e.fn.backboneLivestamp=function(){return h(this)}}(AJS.$,window.moment));;
;
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/rpc.js' */
var gadgets=gadgets||{};gadgets.rpc=function(){var CALLBACK_NAME="__cb";var DEFAULT_NAME="";var FE_G2C_CHANNEL="__g2c_rpc";var FE_C2G_CHANNEL="__c2g_rpc";var services={};var iframePool=[];var relayUrl={};var useLegacyProtocol={};var authToken={};var callId=0;var callbacks={};var setup={};var sameDomain={};var params={};if(gadgets.util){params=gadgets.util.getUrlParameters()}authToken[".."]=params.rpctoken||params.ifpctok||0;function getRelayChannel(){return typeof window.postMessage==="function"?"wpm":typeof document.postMessage==="function"?"dpm":navigator.product==="Gecko"?"fe":"ifpc"}function setupChannel(){if(relayChannel==="dpm"||relayChannel==="wpm"){window.addEventListener("message",function(packet){try{if(packet&&packet.origin&&packet.origin!=="null"&&typeof packet.data==="string"){if(packet.origin===location.origin){process(gadgets.json.parse(packet.data))}else{AJS.$.get(AJS.contextPath()+"/rest/whitelist/1/check",{url:packet.origin}).done(function(result){if(result&&result.inbound&&result.inbound===true){process(gadgets.json.parse(packet.data))}else{if(AJS.debug){AJS.log("RPC: request rejected (bad origin): "+(packet&&packet.origin?packet.origin:"undefined origin"))}}}).fail(function(jqXHR,textStatus,errorThrown){AJS.log("RPC: REST "+textStatus,errorThrown)})}}else{if(AJS.debug){AJS.log("RPC: request rejected (bad origin): "+(packet&&packet.origin?packet.origin:"undefined origin"))}}}catch(e){if(AJS.debug){var origin=packet&&packet.origin?packet.origin:"undefined origin";AJS.log("Error processing gadget rpc message from '"+origin+"': "+e)}}},false)}}var relayChannel=getRelayChannel();setupChannel();services[DEFAULT_NAME]=function(){throw new Error("Unknown RPC service: "+this.s)};services[CALLBACK_NAME]=function(callbackId,result){var callback=callbacks[callbackId];if(callback){delete callbacks[callbackId];callback(result)}};function setupFrame(frameId){if(setup[frameId]){return }if(relayChannel==="fe"){try{var frame=document.getElementById(frameId);frame[FE_G2C_CHANNEL]=function(args){process(gadgets.json.parse(args))}}catch(e){}}setup[frameId]=true}function encodeLegacyData(args){var stringify=gadgets.json.stringify;var argsEscaped=[];for(var i=0,j=args.length;i<j;++i){argsEscaped.push(encodeURIComponent(stringify(args[i])))}return argsEscaped.join("&")}function process(rpc){if(rpc&&typeof rpc.s==="string"&&typeof rpc.f==="string"&&rpc.a instanceof Array){if(authToken[rpc.f]){if(authToken[rpc.f]!=rpc.t){if(AJS.debug){console.log("Invalid auth token received for operation: "+rpc.s)}return }}if(rpc.c){rpc.callback=function(result){gadgets.rpc.call(rpc.f,CALLBACK_NAME,null,rpc.c,result)}}var result=(services[rpc.s]||services[DEFAULT_NAME]).apply(rpc,rpc.a);if(rpc.c&&typeof result!="undefined"){gadgets.rpc.call(rpc.f,CALLBACK_NAME,null,rpc.c,result)}}}function callFrameElement(targetId,serviceName,from,rpcData,callArgs){try{if(from!=".."){var fe=window.frameElement;if(typeof fe[FE_G2C_CHANNEL]==="function"){if(typeof fe[FE_G2C_CHANNEL][FE_C2G_CHANNEL]!=="function"){fe[FE_G2C_CHANNEL][FE_C2G_CHANNEL]=function(args){process(gadgets.json.parse(args))}}fe[FE_G2C_CHANNEL](rpcData);return }}else{var frame=document.getElementById(targetId);if(typeof frame[FE_G2C_CHANNEL]==="function"&&typeof frame[FE_G2C_CHANNEL][FE_C2G_CHANNEL]==="function"){frame[FE_G2C_CHANNEL][FE_C2G_CHANNEL](rpcData);return }}}catch(e){}callIfpc(targetId,serviceName,from,rpcData,callArgs)}function callIfpc(targetId,serviceName,from,rpcData,callArgs){var relay=gadgets.rpc.getRelayUrl(targetId);if(!relay){throw new Error("No relay file assigned for IFPC")}var src=null;if(useLegacyProtocol[targetId]){src=[relay,"#",encodeLegacyData([from,callId,1,0,encodeLegacyData([from,serviceName,"","",from].concat(callArgs))])].join("")}else{src=[relay,"#",targetId,"&",from,"@",callId,"&1&0&",encodeURIComponent(rpcData)].join("")}emitInvisibleIframe(src)}function emitInvisibleIframe(src){var iframe;for(var i=iframePool.length-1;i>=0;--i){var ifr=iframePool[i];try{if(ifr&&(ifr.recyclable||ifr.readyState==="complete")){ifr.parentNode.removeChild(ifr);if(window.ActiveXObject){iframePool[i]=ifr=null;iframePool.splice(i,1)}else{ifr.recyclable=false;iframe=ifr;break}}}catch(e){}}if(!iframe){iframe=document.createElement("iframe");iframe.style.border=iframe.style.width=iframe.style.height="0px";iframe.style.visibility="hidden";iframe.style.position="absolute";iframe.onload=function(){this.recyclable=true};iframePool.push(iframe)}iframe.src=src;setTimeout(function(){document.body.appendChild(iframe)},0)}function callSameDomain(target,rpc){if(typeof sameDomain[target]==="undefined"){sameDomain[target]=false;var targetEl=null;if(target===".."){targetEl=parent}else{targetEl=frames[target]}try{sameDomain[target]=targetEl.gadgets.rpc.receiveSameDomain}catch(e){}}if(typeof sameDomain[target]==="function"){sameDomain[target](rpc);return true}return false}if(gadgets.config){function init(config){if(config.rpc.parentRelayUrl.substring(0,7)==="http://"){relayUrl[".."]=config.rpc.parentRelayUrl}else{var params=document.location.search.substring(0).split("&");var parentParam="";for(var i=0,param;param=params[i];++i){if(param.indexOf("parent=")===0){parentParam=decodeURIComponent(param.substring(7));break}}relayUrl[".."]=parentParam+config.rpc.parentRelayUrl}useLegacyProtocol[".."]=!!config.rpc.useLegacyProtocol}var requiredConfig={parentRelayUrl:gadgets.config.NonEmptyStringValidator};gadgets.config.register("rpc",requiredConfig,init)}return{register:function(serviceName,handler){if(serviceName==CALLBACK_NAME){throw new Error("Cannot overwrite callback service")}if(serviceName==DEFAULT_NAME){throw new Error("Cannot overwrite default service:"+" use registerDefault")}services[serviceName]=handler},unregister:function(serviceName){if(serviceName==CALLBACK_NAME){throw new Error("Cannot delete callback service")}if(serviceName==DEFAULT_NAME){throw new Error("Cannot delete default service:"+" use unregisterDefault")}delete services[serviceName]},registerDefault:function(handler){services[""]=handler},unregisterDefault:function(){delete services[""]},call:function(targetId,serviceName,callback,var_args){++callId;targetId=targetId||"..";if(callback){callbacks[callId]=callback}var from="..";if(targetId===".."){from=window.name}var rpc={s:serviceName,f:from,c:callback?callId:0,a:Array.prototype.slice.call(arguments,3),t:authToken[targetId]};if(callSameDomain(targetId,rpc)){return }var rpcData=gadgets.json.stringify(rpc);var channelType=relayChannel;if(useLegacyProtocol[targetId]){channelType="ifpc"}switch(channelType){case"dpm":var targetDoc=targetId===".."?parent.document:frames[targetId].document;targetDoc.postMessage(rpcData);break;case"wpm":var targetWin=targetId===".."?parent:frames[targetId];targetWin.postMessage(rpcData,relayUrl[targetId]);break;case"fe":callFrameElement(targetId,serviceName,from,rpcData,rpc.a);break;default:callIfpc(targetId,serviceName,from,rpcData,rpc.a);break}},getRelayUrl:function(targetId){return relayUrl[targetId]},setRelayUrl:function(targetId,url,opt_useLegacy){relayUrl[targetId]=url;useLegacyProtocol[targetId]=!!opt_useLegacy},setAuthToken:function(targetId,token){authToken[targetId]=token;setupFrame(targetId)},getRelayChannel:function(){return relayChannel},receive:function(fragment){if(fragment.length>4){process(gadgets.json.parse(decodeURIComponent(fragment[fragment.length-1])))}},receiveSameDomain:function(rpc){rpc.a=Array.prototype.slice.call(rpc.a);window.setTimeout(function(){process(rpc)},0)}}}();;
;
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/util.js' */
Function.prototype.inherits=function(parentCtor){function tempCtor(){}tempCtor.prototype=parentCtor.prototype;this.superClass_=parentCtor.prototype;this.prototype=new tempCtor();this.prototype.constructor=this};;
;
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/json.js' */
var gadgets=gadgets||{};gadgets.json=function(){function f(n){return n<10?"0"+n:n}Date.prototype.toJSON=function(){return[this.getUTCFullYear(),"-",f(this.getUTCMonth()+1),"-",f(this.getUTCDate()),"T",f(this.getUTCHours()),":",f(this.getUTCMinutes()),":",f(this.getUTCSeconds()),"Z"].join("")};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function stringify(value){var a,i,k,l,r=/["\\\x00-\x1f\x7f-\x9f]/g,v;switch(typeof value){case"string":return r.test(value)?'"'+value.replace(r,function(a){var c=m[a];if(c){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"':'"'+value+'"';case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}a=[];if(typeof value.length==="number"&&!(value.propertyIsEnumerable("length"))){l=value.length;for(i=0;i<l;i+=1){a.push(stringify(value[i])||"null")}return"["+a.join(",")+"]"}for(k in value){if(value.hasOwnProperty(k)){if(typeof k==="string"){v=stringify(value[k]);if(v){a.push(stringify(k)+":"+v)}}}}return"{"+a.join(",")+"}"}}return{stringify:stringify,parse:function(text){if(/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return eval("("+text+")")}return false}}}();;
;
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/gadgets-core.js' */
var gadgets=gadgets||{};gadgets.error={};gadgets.error.SUBCLASS_RESPONSIBILITY="subclass responsibility";gadgets.error.TO_BE_DONE="to be done";gadgets.log=function(message){if(window.console&&console.log){console.log(message)}else{var logEntry=document.createElement("div");logEntry.className="gadgets-log-entry";logEntry.innerHTML=message;document.body.appendChild(logEntry)}};gadgets.Extensible=function(){};gadgets.Extensible.prototype.setDependencies=function(dependencies){for(var p in dependencies){this[p]=dependencies[p]}};gadgets.Extensible.prototype.getDependencies=function(name){return this[name]};gadgets.UserPrefStore=function(){};gadgets.UserPrefStore.prototype.getPrefs=function(gadget){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.UserPrefStore.prototype.savePrefs=function(gadget){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.DefaultUserPrefStore=function(){gadgets.UserPrefStore.call(this)};gadgets.DefaultUserPrefStore.inherits(gadgets.UserPrefStore);gadgets.DefaultUserPrefStore.prototype.getPrefs=function(gadget){};gadgets.DefaultUserPrefStore.prototype.savePrefs=function(gadget){};gadgets.GadgetService=function(){};gadgets.GadgetService.prototype.setHeight=function(elementId,height){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.GadgetService.prototype.setTitle=function(gadget,title){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.GadgetService.prototype.setUserPref=function(id){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.IfrGadgetService=function(){gadgets.GadgetService.call(this);var service=this;gadgets.rpc.register("resize_iframe",function(){service.setHeight.apply(this,arguments)});gadgets.rpc.register("set_pref",function(){service.setUserPref.apply(this,arguments)});gadgets.rpc.register("set_title",function(){service.setTitle.apply(this,arguments)});gadgets.rpc.register("requestNavigateTo",function(){service.requestNavigateTo.apply(this,arguments)})};gadgets.IfrGadgetService.inherits(gadgets.GadgetService);gadgets.IfrGadgetService.prototype.setHeight=function(height){if(height>gadgets.container.maxheight_){height=gadgets.container.maxheight_}var element=document.getElementById(this.f);if(element){element.style.height=height+"px"}};gadgets.IfrGadgetService.prototype.requestNavigateTo=function(view,opt_params){var id=this.getGadgetIdFromModuleId(this.f);var url=this.getUrlForView(view);if(opt_params){var paramStr=JSON.stringify(opt_params);if(paramStr.length>0){url+="&appParams="+encodeURIComponent(paramStr)}}if(url&&document.location.href.indexOf(url)==-1){document.location.href=url}};gadgets.IfrGadgetService.prototype.getUrlForView=function(view){if(view==="canvas"){return"/canvas"}else{if(view==="profile"){return"/profile"}else{return null}}};gadgets.IfrGadgetService.prototype.getGadgetIdFromModuleId=function(moduleId){return parseInt(moduleId.match(/_([0-9]+)$/)[1],10)};gadgets.LayoutManager=function(){};gadgets.LayoutManager.prototype.getGadgetChrome=function(gadget){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.StaticLayoutManager=function(){gadgets.LayoutManager.call(this)};gadgets.StaticLayoutManager.inherits(gadgets.LayoutManager);gadgets.StaticLayoutManager.prototype.setGadgetChromeIds=function(gadgetChromeIds){this.gadgetChromeIds_=gadgetChromeIds};gadgets.StaticLayoutManager.prototype.getGadgetChrome=function(gadget){var chromeId=this.gadgetChromeIds_[gadget.id];return chromeId?document.getElementById(chromeId):null};gadgets.FloatLeftLayoutManager=function(layoutRootId){gadgets.LayoutManager.call(this);this.layoutRootId_=layoutRootId};gadgets.FloatLeftLayoutManager.inherits(gadgets.LayoutManager);gadgets.FloatLeftLayoutManager.prototype.getGadgetChrome=function(gadget){var layoutRoot=document.getElementById(this.layoutRootId_);if(layoutRoot){var chrome=document.createElement("div");chrome.className="gadgets-gadget-chrome";chrome.style.cssFloat="left";layoutRoot.appendChild(chrome);return chrome}else{return null}};;
;
/* module-key = 'com.atlassian.gadgets.embedded:gadget-container-resources', location = 'js/gadgets-container.js' */
gadgets.Container=function(){this.parentUrl_="http://"+document.location.host;this.country_="ALL";this.language_="ALL";this.view_="default";this.nocache_=1;this.maxheight_=2147483647};gadgets.Container.inherits(gadgets.Extensible);gadgets.Container.prototype.userPrefStore=new gadgets.DefaultUserPrefStore();gadgets.Container.prototype.gadgetService=new gadgets.GadgetService();gadgets.Container.prototype.layoutManager=new gadgets.StaticLayoutManager();gadgets.Container.prototype.setParentUrl=function(url){this.parentUrl_=url};gadgets.Container.prototype.setCountry=function(country){this.country_=country};gadgets.Container.prototype.setNoCache=function(nocache){this.nocache_=nocache};gadgets.Container.prototype.setLanguage=function(language){this.language_=language};gadgets.Container.prototype.setView=function(view){this.view_=view};gadgets.Container.prototype.setMaxHeight=function(maxheight){this.maxheight_=maxheight};gadgets.Container.prototype.getGadgetKey_=function(instanceId){return"gadget_"+instanceId};gadgets.IfrContainer=function(){gadgets.Container.call(this)};gadgets.IfrContainer.inherits(gadgets.Container);gadgets.IfrContainer.prototype.gadgetService=new gadgets.IfrGadgetService();gadgets.IfrContainer.prototype.setParentUrl=function(url){if(!url.match(/^http[s]?:\/\//)){url=document.location.href.match(/^[^?#]+\//)[0]+url}this.parentUrl_=url};gadgets.container=new gadgets.IfrContainer();;
;
/* module-key = 'com.atlassian.gadgets.embedded:gadget-standalone-resources', location = 'js/gadgets-standalone.js' */
new gadgets.IfrGadgetService();gadgets.IfrGadgetService.prototype.setTitle=function(title){};;
;
/* module-key = 'net.customware.plugins.connector.atlassian.jira-connector-plugin:jquery-autocomplete', location = 'js/jquery.autocomplete.js' */
jQuery.fn.connectorautocomplete=function(d,c,a,b){return this.each(function(){var e=AJS.$(this);var k=AJS.$(this).next();k.after('<ul class="autocomplete"></ul>');var i=k.next().css({width:e.width()+4});var l="";var j;var m=0;var f=0;c=jQuery.extend({minChars:1,timeout:1000,after:null,before:null,validSelection:true,parameters:{inputName:k.attr("name"),inputId:e.attr("id")}},c);function g(n){window.clearInterval(j);if(n!=l&&(c.minChars!=null&&n.length>=c.minChars)){h();if(c.before=="function"){c.before(e,n)}e.addClass("autocomplete-loading");c.parameters.text=n;AJS.$.ajax({type:"POST",url:d,dataType:"json",contentType:"application/json; charset=utf-8",data:'{"system":"'+a+'", "objectType":"'+b+'", "searchTerm":"'+n+'"}',error:function(){var o="<li>Error: Please check the configuration of this Custom Field.</li>";i.html(o);i.show().children().click(function(){h()})},success:function(q){var o="";if(q){m=q.results.length;if(m>0){AJS.$.each(q.results,function(s,t){var u=AJS.escapeHTML(t.id);var r=AJS.escapeHTML(t.name);o+='<li title="'+u+'">'+r.replace(new RegExp("("+AJS.$.trim(n)+")","i"),"<strong>$1</strong>")+"</li>"});i.html(o);i.show().children().hover(function(){AJS.$(this).addClass("selected").siblings().removeClass("selected")},function(){AJS.$(this).removeClass("selected")}).click(function(){k.val(AJS.$(this).attr("title"));e.val(AJS.$(this).text());h()});if(c.after=="function"){c.after(e,n)}}else{var p=AJS.escapeHTML(n);o+="<li>"+p+" <i>returned 0 results.</i></li>";i.html(o);i.show().children().click(function(){h()})}}e.removeClass("autocomplete-loading")}});l=n}}function h(){i.hide();m=0;f=0}e.keydown(function(n){window.clearInterval(j);if(n.which==27){h()}else{if(n.which==46||n.which==8){h();if(c.validSelection){k.val("")}}else{if(n.which==13){if(i.css("display")=="none"){g(e.val())}else{h()}n.preventDefault();return false}else{if(n.which==40||n.which==9||n.which==38){switch(n.which){case 40:case 9:f=f>=m-1?0:f+1;break;case 38:f=f<=0?m-1:f-1;break;default:break}e.val(i.children().removeClass("selected").eq(f).addClass("selected").text());k.val(i.children().eq(f).attr("title"))}else{if(c.validSelection){k.val("")}j=window.setTimeout(function(){g(e.val())},c.timeout)}}}}})})};;
;
/* module-key = 'net.customware.plugins.connector.atlassian.jira-connector-plugin:connector-linkfield-autocomplete', location = 'net/customware/plugins/connector/jira/action/customfield/remotefield-autocomplete.js' */
AJS.$(document).ready(function(){var b=function(f){var d=AJS.$(this).attr("remotesystem");var e=AJS.$(this).attr("remoteobjecttype");if(d!=null&&d!=""&&e!=null&&e!=""){AJS.$(this).connectorautocomplete(contextPath+"/rest/customware/connector/1.0/search/basic.json",{minChars:3,timeout:500,validSelection:true,parameters:{system:d,objectType:e},before:function(g,h){},after:function(g,h){}},d,e)}};var a=function(d){AJS.$(this).click(function(e){AJS.$(this).parent().remove();return false})};var c=function(d){AJS.$(this).click(function(h){var e=AJS.$(this).attr("customfield");var f=AJS.$("#new-connector-autocomplete-container-"+e);var i="";i+='<div class="connector-autocomplete-container remote-object-link">';i+=f.html();i+='<a class="aui-button aui-button-compact connector-field-remove" href="#"><span class="aui-icon aui-icon-small aui-iconfont-delete"> </span></a>';i+="</div>";AJS.$(this).before(i);var g=AJS.$(this).prev();g.children(".connector-field-autocomplete").each(b);g.children(".connector-field-remove").each(a);return false})};AJS.$(".connector-field-autocomplete").each(b);AJS.$(".connector-field-remove").each(a);AJS.$(".connector-field-add").each(c);JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(f,d){AJS.$(".connector-field-autocomplete").unbind("click");AJS.$(".connector-field-autocomplete").each(b);AJS.$(".connector-field-remove").unbind("click");AJS.$(".connector-field-remove").each(a);AJS.$(".connector-field-add").unbind("click");AJS.$(".connector-field-add").each(c)})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-thumbnails', location = '/js/Thumbnails.js' */
define("wiki-edit/thumbnails",["wrm/data"],function(b){var a=b.claim("com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-thumbnails.thumbnails-allowed");return{isThumbnailable:function(f,e){var d=true;if(a!=null){d=!!a}if(!d){return false}var c;if(e){c=e.data("attachment-thumbnail")}if(c==null){return Boolean(f.match(/\.(jpg|jpeg|pjpeg|png)$/i))}else{if(c){return !f.match(/\.gif$/i)}return false}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/templates/wiki-editor.soy' */
// This file was automatically generated from wiki-editor.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Plugins.WikiEditor.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Plugins == 'undefined') { JIRA.Templates.Plugins = {}; }
if (typeof JIRA.Templates.Plugins.WikiEditor == 'undefined') { JIRA.Templates.Plugins.WikiEditor = {}; }


JIRA.Templates.Plugins.WikiEditor.renderEditor = function(opt_data, opt_ignored) {
  var output = '<div id="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="paragraph" title="' + soy.$$escapeHtml("Paragraph") + '">' + soy.$$escapeHtml("Paragraph") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h1" data-operation="h1" title="' + soy.$$escapeHtml("Heading 1") + '">' + soy.$$escapeHtml("Heading 1") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h2" data-operation="h2" title="' + soy.$$escapeHtml("Heading 2") + '">' + soy.$$escapeHtml("Heading 2") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h3" data-operation="h3" title="' + soy.$$escapeHtml("Heading 3") + '">' + soy.$$escapeHtml("Heading 3") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h4" data-operation="h4" title="' + soy.$$escapeHtml("Heading 4") + '">' + soy.$$escapeHtml("Heading 4") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h5" data-operation="h5" title="' + soy.$$escapeHtml("Heading 5") + '">' + soy.$$escapeHtml("Heading 5") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h6" data-operation="h6" title="' + soy.$$escapeHtml("Heading 6") + '">' + soy.$$escapeHtml("Heading 6") + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-monospace" data-operation="monospace" title="' + soy.$$escapeHtml("Preformatted") + '">' + soy.$$escapeHtml("Preformatted") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="paragraph-quote" title="' + soy.$$escapeHtml("Paragraph quote") + '">' + soy.$$escapeHtml("Paragraph quote") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="block-quote" title="' + soy.$$escapeHtml("Block quote") + '">' + soy.$$escapeHtml("Block quote") + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="delete" data-shortcut="ctrl+shift+s, command+shift+s" title="' + soy.$$escapeHtml("Strikethrough") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+S)">' + soy.$$escapeHtml("Strikethrough") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="subscript">' + soy.$$escapeHtml("Subscript") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="superscript">' + soy.$$escapeHtml("Superscript") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="cite">' + soy.$$escapeHtml("Citation") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="monospace-inline">' + soy.$$escapeHtml("Monospace") + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown wiki-edit-dropdown-link"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="link" data-shortcut="ctrl+k, command+k" title="' + soy.$$escapeHtml("External link") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+K)">' + soy.$$escapeHtml("External link") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="link-mail">' + soy.$$escapeHtml("Mail link") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="link-anchor">' + soy.$$escapeHtml("Anchor link") + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown wiki-edit-dropdown-attachment"><div class="aui-dropdown2-section wiki-edit-insert-attachment"><ul class="aui-list-truncate"><li><a href="#"></a></li></ul></div><div class="aui-dropdown2-section wiki-edit-browse-image"><ul class="aui-list-truncate"><li><a href="#" class="wiki-attachment-browse"><span class="aui-icon aui-icon-small aui-iconfont-add"></span>&nbsp;&nbsp;' + soy.$$escapeHtml("Browse") + '</a></li></ul></div></div><div id="wiki-edit-color-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-picker wiki-edit-color-picker">';
  var colors__soy80 = ['172B4D', '505F79', 'C1C7D0', '0747A6', '4C9AFF', '00875A', '57D9A3', 'DE350B', 'FF8B00', 'FFAB00', '403294', 'FFBDAD'];
  output += '<div class="aui-dropdown2-section"><ul>';
  var colorList82 = colors__soy80;
  var colorListLen82 = colorList82.length;
  for (var colorIndex82 = 0; colorIndex82 < colorListLen82; colorIndex82++) {
    var colorData82 = colorList82[colorIndex82];
    output += '<li><a href="#" style="background-color: #' + soy.$$escapeHtml(colorData82) + '" data-operation="color" data-color="#' + soy.$$escapeHtml(colorData82) + '">&nbsp;</a></li>';
  }
  output += '</ul></div></div><div id="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-picker wiki-edit-icon-picker"><div class="aui-dropdown2-section"><ul><li><a href="#" class="wiki-edit-operation" title=":)" data-operation=":)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/smile.gif" alt="' + soy.$$escapeHtml("smile") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title=":(" data-operation=":("><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/sad.gif" alt="' + soy.$$escapeHtml("sad") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title=":P" data-operation=":P"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/tongue.gif" alt="' + soy.$$escapeHtml("tongue") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title=":D" data-operation=":D"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/biggrin.gif" alt="' + soy.$$escapeHtml("biggrin") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title=";)" data-operation=";)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/wink.gif" alt="' + soy.$$escapeHtml("wink") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(y)" data-operation="(y)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/thumbs_up.gif" alt="' + soy.$$escapeHtml("thumbs up") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(n)" data-operation="(n)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/thumbs_down.gif" alt="' + soy.$$escapeHtml("thumbs down") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(i)" data-operation="(i)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/information.gif" alt="' + soy.$$escapeHtml("information") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(/)" data-operation="(/)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/check.gif" alt="' + soy.$$escapeHtml("check") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(x)" data-operation="(x)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/error.gif" alt="' + soy.$$escapeHtml("error") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(!)" data-operation="(!)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/warning.gif" alt="' + soy.$$escapeHtml("warning") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(+)" data-operation="(+)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/add.gif" alt="' + soy.$$escapeHtml("add") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(-)" data-operation="(-)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/forbidden.gif" alt="' + soy.$$escapeHtml("forbidden") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(?)" data-operation="(?)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/help_16.gif" alt="' + soy.$$escapeHtml("help") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(on)" data-operation="(on)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/lightbulb_on.gif" alt="' + soy.$$escapeHtml("lightbulb on") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(off)" data-operation="(off)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/lightbulb.gif" alt="' + soy.$$escapeHtml("lightbulb") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*)" data-operation="(*)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_yellow.gif" alt="' + soy.$$escapeHtml("star yellow") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*r)" data-operation="(*r)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_red.gif" alt="' + soy.$$escapeHtml("star red") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*g)" data-operation="(*g)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_green.gif" alt="' + soy.$$escapeHtml("star green") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*b)" data-operation="(*b)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_blue.gif" alt="' + soy.$$escapeHtml("star blue") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*y)" data-operation="(*y)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_yellow.gif" alt="' + soy.$$escapeHtml("star yellow") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(flag)" data-operation="(flag)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/flag.gif" alt="' + soy.$$escapeHtml("flag") + '" /></a></li><li><a href="#" class="wiki-edit-operation" title="(flagoff)" data-operation="(flagoff)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/flag_grey.gif" alt="' + soy.$$escapeHtml("flag off") + '" /></a></li></ul></div></div><div id="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><div class="aui-dropdown2-section"><li><a href="#" class="wiki-edit-operation" data-operation="mention">' + soy.$$escapeHtml("User mention") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="table">' + soy.$$escapeHtml("Table") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="code">' + soy.$$escapeHtml("Code") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="noformat">' + soy.$$escapeHtml("Preformatted") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="panel">' + soy.$$escapeHtml("Panel") + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="hr">' + soy.$$escapeHtml("Horizontal ruler") + '</a></li><li class="wiki-edit-speech-item hidden"><a href="#" class="wiki-edit-operation" data-operation="speech">' + soy.$$escapeHtml("Speech recognition") + '</a></li></div>' + ((opt_data.helpData.showHelp) ? '<div class="aui-dropdown2-section"><li><a href="' + soy.$$escapeHtml("") + '/secure/WikiRendererHelpAction.jspa?section=texteffects" target="_blank" title="' + soy.$$escapeHtml("Show me wiki markup syntax") + '">' + soy.$$escapeHtml("Text help") + '</a></li><li><a href="' + soy.$$escapeHtml(opt_data.helpData.editorDocumentationUrl) + '" target="_blank" title="' + soy.$$escapeHtml(opt_data.helpData.editorDocumentationTitle) + '">' + soy.$$escapeHtml("Visual help") + '</a></li></div>' : '') + '</ul></div></div><div class="wiki-edit-toolbar" id="wiki-edit-' + soy.$$escapeHtml(opt_data.editorId) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-double-down">' + soy.$$escapeHtml("Toggle visibility") + '</span><div class="aui-toolbar2"><div class="aui-toolbar2-inner"><div class="aui-toolbar2-primary"><div class="aui-buttons"><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-style-picker-trigger" aria-owns="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '">' + soy.$$escapeHtml("Style") + '</a></div><div class="aui-buttons wiki-edit-toolbar-section"><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="bold" data-shortcut="ctrl+b, command+b" title="' + soy.$$escapeHtml("Bold") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+B)"><span class="aui-icon aui-icon-small aui-iconfont-editor-bold">' + soy.$$escapeHtml("Bold") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="italic" data-shortcut="ctrl+i, command+i" title="' + soy.$$escapeHtml("Italic") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+I)"><span class="aui-icon aui-icon-small aui-iconfont-editor-italic">' + soy.$$escapeHtml("Italic") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="underline" data-shortcut="ctrl+u, command+u" title="' + soy.$$escapeHtml("Underline") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+U)"><span class="aui-icon aui-icon-small aui-iconfont-editor-underline">' + soy.$$escapeHtml("Underline") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-color-picker-trigger" data-operation="color-parameter" aria-owns="wiki-edit-color-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" title="' + soy.$$escapeHtml("More colors") + '"><span>' + soy.$$escapeHtml("More colors") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation wiki-edit-operation-color" data-operation="color" data-color="red" title="' + soy.$$escapeHtml("Text color") + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-color">' + soy.$$escapeHtml("Text color") + '</span><span class="wiki-edit-color-indicator"></span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-more-picker-trigger" aria-owns="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml("More") + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-styles">' + soy.$$escapeHtml("More") + '</span></a></div><div class="aui-buttons"><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-link-picker-trigger" aria-owns="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml("Link") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+K)"><span class="aui-icon aui-icon-small aui-iconfont-link">' + soy.$$escapeHtml("Link") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-attachment-picker-trigger" aria-owns="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml("Attachment") + '"><span class="aui-icon aui-icon-small aui-iconfont-file-generic">' + soy.$$escapeHtml("Attachment") + '</span></a></div><div class="aui-buttons wiki-edit-toolbar-section"><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="bullet-list" data-shortcut="ctrl+shift+b, command+shift+b" title="' + soy.$$escapeHtml("Bullet list") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+B)"><span class="aui-icon aui-icon-small aui-iconfont-editor-list-bullet">' + soy.$$escapeHtml("Bullet list") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="numbered-list" data-shortcut="ctrl+shift+n, command+shift+n" title="' + soy.$$escapeHtml("Numbered list") + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+N)"><span class="aui-icon aui-icon-small aui-iconfont-editor-list-number">' + soy.$$escapeHtml("Numbered list") + '</span></a></div><div class="aui-buttons"><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-icon-picker-trigger wiki-edit-tooltip" aria-owns="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml("Icons") + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-emoticon">' + soy.$$escapeHtml("Icons") + '</span></a><a href="#" tabindex="-1" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-other-picker-trigger wiki-edit-tooltip" aria-owns="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml("Other") + '"><span class="aui-icon aui-icon-small aui-iconfont-add">' + soy.$$escapeHtml("Other") + '</span></a></div><div class="aui-buttons wiki-edit-toolbar-last"><a href="#" tabindex="-1" class="aui-button aui-button-subtle wiki-edit-visible-toggle wiki-edit-tooltip" title="' + soy.$$escapeHtml("Toggle visibility") + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-double-up">Lock / Unlock</span></a></div></div></div><!-- .aui-toolbar-inner --></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.renderEditor.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.renderEditor';
}


JIRA.Templates.Plugins.WikiEditor.renderListItem = function(opt_data, opt_ignored) {
  return '<li><a href="#" ' + soy.$$escapeHtml(opt_data.attachmentType ? 'data-attachment-type=' + opt_data.attachmentType : '') + ' ' + soy.$$escapeHtml(opt_data.attachmentHref ? 'data-attachment-href=' + opt_data.attachmentHref : '') + ' data-attachment-thumbnail=' + soy.$$escapeHtml(opt_data.attachmentThumbnailable ? true : false) + '><span class="wiki-edit-attachment-type-icon aui-icon aui-icon-small ' + soy.$$escapeHtml(((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.cssClass) != null ? ((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.cssClass) : 'aui-iconfont-file-txt') + '" title="' + soy.$$escapeHtml(((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.title) != null ? ((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.title) : "File") + '"></span>&nbsp;&nbsp;<span class="wiki-edit-attachment-name">' + soy.$$escapeHtml(opt_data.text) + '</span></a></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.renderListItem.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.renderListItem';
}


JIRA.Templates.Plugins.WikiEditor.temporaryAttachmentViewUrl = function(opt_data, opt_ignored) {
  return soy.$$escapeHtml("") + '/secure/temporaryattachment/' + soy.$$escapeHtml(opt_data.formToken) + '/' + soy.$$escapeHtml(opt_data.temporaryAttachmentId) + '_' + soy.$$escapeHtml(opt_data.filename);
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.temporaryAttachmentViewUrl.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.temporaryAttachmentViewUrl';
}
;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/keymaster.js' */
(function(u){var v,B={},A={16:false,18:false,17:false,91:false},r="all",e={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},f={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},a=function(k){return f[k]||k.toUpperCase().charCodeAt(0)},x=[];for(v=1;v<20;v++){f["f"+v]=111+v}function h(F,E){var k=F.length;while(k--){if(F[k]===E){return k}}return -1}function y(E,k){if(E.length!=k.length){return false}for(var F=0;F<E.length;F++){if(E[F]!==k[F]){return false}}return true}var q={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function i(k){for(v in A){A[v]=k[q[v]]}}function C(J){var G,I,E,F,K,H;G=J.keyCode;if(h(x,G)==-1){x.push(G)}if(G==93||G==224){G=91}if(G in A){A[G]=true;for(E in e){if(e[E]==G){g[E]=true}}return}i(J);if(!g.filter.call(this,J)){return}if(!(G in B)){return}H=n();for(F=0;F<B[G].length;F++){I=B[G][F];if(I.scope==H||I.scope=="all"){K=I.mods.length>0;for(E in A){if((!A[E]&&h(I.mods,+E)>-1)||(A[E]&&h(I.mods,+E)==-1)){K=false}}if((I.mods.length==0&&!A[16]&&!A[18]&&!A[17]&&!A[91])||K){if(I.method(J,I)===false){if(J.preventDefault){J.preventDefault()}else{J.returnValue=false}if(J.stopPropagation){J.stopPropagation()}if(J.cancelBubble){J.cancelBubble=true}}}}}}function d(H){var G=H.keyCode,E,F=h(x,G);if(F>=0){x.splice(F,1)}if(G==93||G==224){G=91}if(G in A){A[G]=false;for(E in e){if(e[E]==G){g[E]=false}}}}function j(){for(v in A){A[v]=false}for(v in e){g[v]=false}}function g(E,F,I){var H,G;H=b(E);if(I===undefined){I=F;F="all"}for(var k=0;k<H.length;k++){G=[];E=H[k].split("+");if(E.length>1){G=w(E);E=[E[E.length-1]]}E=E[0];E=a(E);if(!(E in B)){B[E]=[]}B[E].push({shortcut:H[k],scope:F,method:I,key:H[k],mods:G})}}function z(G,H){var k,J,I=[],F,E,K;k=b(G);for(E=0;E<k.length;E++){J=k[E].split("+");if(J.length>1){I=w(J);G=J[J.length-1]}G=a(G);if(H===undefined){H=n()}if(!B[G]){return}for(F in B[G]){K=B[G][F];if(K.scope===H&&y(K.mods,I)){B[G][F]={}}}}}function c(k){if(typeof(k)=="string"){k=a(k)}return h(x,k)!=-1}function p(){return x.slice(0)}function l(E){var k=(E.target||E.srcElement).tagName;return !(k=="INPUT"||k=="SELECT"||k=="TEXTAREA")}for(v in e){g[v]=false}function m(k){r=k||"all"}function n(){return r||"all"}function s(G){var F,k,E;for(F in B){k=B[F];for(E=0;E<k.length;){if(k[E].scope===G){k.splice(E,1)}else{E++}}}}function b(k){var E;k=k.replace(/\s/g,"");E=k.split(",");if((E[E.length-1])==""){E[E.length-2]+=","}return E}function w(E){var F=E.slice(0,E.length-1);for(var k=0;k<F.length;k++){F[k]=e[F[k]]}return F}function t(k,E,F){if(k.addEventListener){k.addEventListener(E,F,false)}else{if(k.attachEvent){k.attachEvent("on"+E,function(){F(window.event)})}}}t(document,"keydown",function(k){C(k)});t(document,"keyup",d);t(window,"focus",j);var o=u.key;function D(){var E=u.key;u.key=o;return E}u.key=g;u.key.setScope=m;u.key.getScope=n;u.key.deleteScope=s;u.key.filter=l;u.key.isPressed=c;u.key.getPressedKeyCodes=p;u.key.noConflict=D;u.key.unbind=z;if(typeof module!=="undefined"){module.exports=key}})(this);;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/amd-wrappers.js' */
(function(){var a=window.key.noConflict();define("wiki-edit/keymaster",["jira/util/data/meta"],function(b){if(b.get("keyboard-shortcuts-enabled")===false){return function c(){}}return a})}());define("wiki-edit/editor/templates",[],function(){return window.JIRA.Templates.Plugins.WikiEditor});define("wiki-edit/viewissue/templates",[],function(){return window.JIRA.Templates.ViewIssue});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/AttachmentListUtil.js' */
define("wiki-edit/attachment-list-util",["wiki-edit/WikiEnabledTextarea","jquery","underscore","wiki-edit/keymaster","wiki-edit/analytics","wiki-edit/WikiEditorUtil","wiki-edit/editor/templates","wiki-edit/thumbnails"],function(h,d,g,f,e,i,a,b){var c=function(j){return j.match(/\.(bmp|gif|jpg|jpeg|pjpeg|png|tiff|webp)$/i)?"image":"file"};return{buildAttachmentLinks:function(t,n,k,l,r){var s=[];var p=[];if(k){d(".upload-progress-bar:not(.upload-progress-bar__upload-error) span.upload-progress-bar__file-name").each(function(w,u){s.push(u)})}var o=function(){d("#attachment_thumbnails li.attachment-content, #file_attachments li.attachment-content").each(function(w,u){s.push(u)})};if(!l&&r){o()}var j=function(w,u){if(!w){return null}var v=i.getFileExtension(w);return{name:w,type:u,icon:i.translateFileExtensionToAttachmentTypeIcon(v)}};var q=d("#ghx-tab-attachments .ghx-container");var m=q.length>0;if(m){q.find("#file_attachments li.attachment-content > dl dt.attachment-title a, #file_attachments div.verbose dt.attachment-title a").each(function(v,w){var u=j(w.textContent,"file");if(u){p.push(u)}});q.find("#attachment_thumbnails a.attachment-title").each(function(v,w){var u=j(w.textContent,"image");if(u){p.push(u)}})}else{if(d("#ghx-detail-issue").length>0){o()}}t.empty();n.addClass("hidden");if((k||r||!m)&&s.length){n.removeClass("hidden");d(s).each(function(){var D=d(this);var v=D.is("span.upload-progress-bar__file-name")?D.text():D.find("a.attachment-title, .attachment-title a").first().text();var G=D.attr("data-attachment-type");if(G===undefined){G=c(v)}var x=i.defaultAttachmentTypeIcon;var C=D.attr("data-downloadurl");if(C===undefined){C=D.find("[data-downloadurl]").attr("data-downloadurl")}if(C!==undefined&&typeof C==="string"&&i.canTranslateMimeTypeToAttachmentTypeIcon()){var E=C.split(":");if(E.length>0){var u=E[0];x=i.translateMimeTypeToAttachmentTypeIcon(u)}}else{if(v!==undefined&&typeof v==="string"){var z=v.match(/\.(\w{1,5})$/i);if(z&&z.length>1){var w=z[1];x=i.translateFileExtensionToAttachmentTypeIcon(w)}}}var B=D.find("a.attachment-title, .attachment-title>a").attr("href");if(!B&&D.is("span.upload-progress-bar__file-name")){var F=D.parents("[data-file-id]").attr("data-file-id");var y=D.parents("form").find('input[name="formToken"]').attr("value")||"undefined";if(F&&y){B=JIRA.Templates.Plugins.WikiEditor.temporaryAttachmentViewUrl({formToken:y,temporaryAttachmentId:F,filename:encodeURIComponent(v)})}}var A=b.isThumbnailable(v,D);t.append(d(a.renderListItem({text:v,attachmentType:G,attachmentTypeIcon:x,attachmentThumbnailable:A,attachmentHref:B})))})}else{if(!l&&p.length>0){n.removeClass("hidden");p.forEach(function(x){if(x==null||x.name==null){return}var y=x.name;var w=x.type?x.type:"file";var v=x.icon?x.icon:{cssClass:"aui-iconfont-devtools-file",title:""};var u=_isThumbnailable(y);t.append(d(a.renderListItem({text:y,attachmentType:w,attachmentThumbnailable:u,attachmentTypeIcon:v})))})}}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/Analytics.js' */
define("wiki-edit/analytics",["jira/analytics"],function(b){function c(d,e){b.send({name:"jira.wikieditor."+d,data:e||{}})}function a(e){var d;var g=0;if(!e){return""}for(var f=0;f<e.length;f+=1){d=e.charCodeAt(f);g=((g*32)-g)+d;g|=0}return g}return{trigger:c,hashCode:a}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/KeyTester.js' */
define("wiki-edit/KeyTester",function(){return{getActionType:function(a){if(this.isNavigation(a)){return"navigating"}else{if(this.isDeleting(a)){return"deleting"}else{if(this.isReturn(a)){return"newline"}else{if(this.isEscape(a)){return"escape"}else{if(this.isTyping(a)){return"typing"}}}}}},isNavigation:function(a){return(a>=33&&a<=40)||(a>=63232&&a<=63235)},isDeleting:function(a){return(a==8||a==46||a==127)},isReturn:function(a){return(a==13)},isEscape:function(a){return(a==27)},isTyping:function(a){return(a>47&&a<58)||(a>95&&a<112)||(a>64&&a<91)||(a>185&&a<193)||(a>218&&a<223)||a==32||a==13}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/UndoManager.js' */
define("wiki-edit/UndoManager",["backbone","underscore"],function(c,a){var b=function(){this._undoStack=[];this._redoStack=[];this._current=undefined;a.extend(this,c.Events)};b.EventTypes=b.prototype.EventTypes={UNDO:"UndoManager:undo",REDO:"UndoManager:redo",CLEAR:"UndoManager:clear",PUSH:"UndoManager:push",UPDATE_CURRENT:"UndoManager:updateCurrent"};b.prototype.MAX_STACK=1000;b.prototype.updateCurrent=function(e,d){if(e!=this._current){this._current=e;if(!d){this._redoStack.length=0}this.trigger(this.EventTypes.UPDATE_CURRENT)}};b.prototype.push=function(d){this._redoStack.length=0;if(!this._undoStack.length||!a.isEqual(d,this._undoStack[this._undoStack.length-1])){this._undoStack.push(d);this._current=d}if(this._undoStack.length>this.MAX_STACK){this._undoStack.splice(0,this._undoStack.length-this.MAX_STACK)}this.trigger(this.EventTypes.PUSH)};b.prototype.undo=function(){if(!this.canUndo()){return}var d;do{d=this._undoStack.pop()}while(a.isEqual(d,this._current)&&this.canUndo());this._redoStack.push(this._current);this._current=d;this.trigger(this.EventTypes.UNDO);return d};b.prototype.redo=function(){if(!this.canRedo()){return}var d=this._redoStack.pop();this._undoStack.push(this._current);this._current=d;this.trigger(this.EventTypes.REDO);return d};b.prototype.canUndo=function(){return !!this._undoStack.length};b.prototype.canRedo=function(){return !!this._redoStack.length};b.prototype.clear=function(){this._undoStack=[];this._redoStack=[];this.trigger(this.EventTypes.CLEAR)};return b});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/UndoableTextarea.js' */
define("wiki-edit/UndoableTextarea",["wiki-edit/UndoManager","wiki-edit/KeyTester","jquery"],function(h,a,e){var g="cut-paste";var f="";function c(i,j){if(j===g||f!=j){if(f!="newline"){i.recordHistoryItem()}f=j}}function d(i,k){if(i.undoManager["can"+k[0].toUpperCase()+k.substring(1)]()){var j=i.undoManager[k]();i.element.value=j.value;i.element.selectionStart=j.selectionStart;i.element.selectionEnd=j.selectionEnd}}var b=function b(k){this.element=k;this.$el=e(k);this.undoManager=new h();this.undoManager.updateCurrent(this.getValue());this.undoManager.push(this.getValue());var l=(function j(n){var m=n.keyCode;var o=String.fromCharCode(m);if(m){if(!n.ctrlKey&&!n.metaKey){this.undoManager.updateCurrent(this.getValue());c(this,a.getActionType(m))}else{if((n.ctrlKey||n.metaKey)&&!n.altKey){switch(o.toLowerCase()){case"y":this.undoManager.updateCurrent(this.getValue(),true);this.redo();n.preventDefault();break;case"z":this.undoManager.updateCurrent(this.getValue(),true);if(!n.shiftKey){this.undo()}else{this.redo()}n.preventDefault();break}}}}else{this.undoManager.updateCurrent(this.getValue());c(this,"other")}}).bind(this);this.$el.on("keydown",l);this.$el.on("paste cut",function i(){this.undoManager.updateCurrent(this.getValue());c(this,g)}.bind(this))};b.prototype.getValue=function(){return{value:this.element.value,selectionStart:this.element.selectionStart,selectionEnd:this.element.selectionEnd}};b.prototype.updateCurrent=function(){this.undoManager.updateCurrent(this.getValue())};b.prototype.recordHistoryItem=function(){this.undoManager.push(this.getValue())};b.prototype.undo=function(){c(this,"undo");d(this,"undo");this.element.scrollTop=this.element.scrollHeight};b.prototype.redo=function(){d(this,"redo");this.element.scrollTop=this.element.scrollHeight};return b});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/TextareaManipulator.js' */
define("wiki-edit/TextareaManipulator",function(){var a=function(b){this.el=b};a.prototype.NEW_LINE_TOKEN="\n";a.prototype.getSelection=function(){return{start:this.el.selectionStart,end:this.el.selectionEnd,length:this.el.selectionEnd-this.el.selectionStart,text:this.el.value.substring(this.el.selectionStart,this.el.selectionEnd)}};a.prototype.setSelection=function(c,b){if(arguments.length===1){b=c}this.el.selectionStart=c;this.el.selectionEnd=b};a.prototype.replaceSelectionWith=function(d,c){var e=this.el.selectionStart;var b=this.el.value;this.el.value=b.substring(0,this.el.selectionStart)+d+b.substring(this.el.selectionEnd,b.length);this.el.selectionEnd=e+d.length;this.el.selectionStart=(c)?e:this.el.selectionEnd};a.prototype.wrapSelectionWith=function(e,f,h){if(arguments.length<3){h=""}if(arguments.length===1){f=e}var d=this.getSelection();var g=this.el.value;if(g.substring(d.start-e.length,d.start)===e&&g.substring(d.end,d.end+f.length)===f){return}var c=g.substring(d.start,d.end);if(c.length==0){c=h}this.el.value=g.substring(0,d.start)+e+c+f+g.substring(d.end,g.length);var b=d.start+e.length;this.setSelection(b,b+c.length)};a.prototype._getSelectedLines=function(){var f=this.el.value;var c=this.getSelection();var e=f.substring(0,c.start).split(this.NEW_LINE_TOKEN).length-1;var d=e+f.substring(c.start,c.end).split(this.NEW_LINE_TOKEN).length-1;var b=f.split(this.NEW_LINE_TOKEN);return{lines:b,start:e,end:d}};a.prototype.getLineAtCursor=function(){var b=this._getSelectedLines();return b.lines[b.end]};a.prototype.getFirstLineMatch=function(d){var b=this._getSelectedLines();var c=b.lines[b.start].match(d);if(c){return c[0]}};a.prototype.areSelectedLinesPrefixed=function(c){var b=this._getSelectedLines();var d;for(d=b.start;d<=b.end;d++){if(b.lines[d].indexOf(c)==0){return true}}return false};a.prototype.prefixSelectedLines=function(f){var e=this.getSelection();var b=this._getSelectedLines();var h;var c=0;var g=true;for(h=b.start;h<=b.end;h++){if(b.lines[h].indexOf(f)==0){if(h==b.start){g=false}continue}c+=1;b.lines[h]=f+b.lines[h]}this.el.value=b.lines.join(this.NEW_LINE_TOKEN);var d=f.length*c;this.setSelection(e.start+((g)?f.length:0),e.end+d)};a.prototype.unprefixSelectedLines=function(f){var e=this.getSelection();var b=this._getSelectedLines();var h;var g=false;var c=0;for(h=b.start;h<=b.end;h++){if(b.lines[h].indexOf(f)==0){c+=1;b.lines[h]=b.lines[h].substring(f.length);if(h==b.start){g=true}}}this.el.value=b.lines.join(this.NEW_LINE_TOKEN);var d=f.length*c;this.setSelection(e.start-((g)?f.length:0),e.end-d)};return a});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/keymaster-setup.js' */
define("wiki-edit/keymaster-setup",["jquery","wiki-edit/keymaster"],function(b,a){return{init:function(){a.filter=function(e){var c=e.target||e.srcElement||false;var d;if(c&&(" "+c.className+" ").indexOf(" wiki-textfield ")>-1){d=b(c).data("wikiEditor");if(d){a.setScope(d.id);return true}}return false}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/WikiEnabledTextarea.js' */
define("wiki-edit/WikiEnabledTextarea",["jira/util/formatter","underscore","wiki-edit/TextareaManipulator","wiki-edit/UndoableTextarea","wiki-edit/keymaster","wiki-edit/keymaster-setup","wiki-edit/SpeechRecognition","jquery"],function(i,k,b,a,f,o,l,c){o.init();var h=0;var e=/^[#\*]+ /;var n=function(q){this.el=q;this.$el=c(q);if(this.$el.data("wikiEditor")){return this.$el.data("wikiEditor")}this.id="wikiEdit"+h;h+=1;this.manipulationEngine=new b(this.el);this.undoRedoEl=new a(q);var r=this;f("enter",r.id,function p(u){var s=r.manipulationEngine.getSelection();var t=r.manipulationEngine.getFirstLineMatch(e);if(t){if(s.length==0&&r.manipulationEngine.getLineAtCursor()===t){r.manipulationEngine.unprefixSelectedLines(t)}else{r.manipulationEngine.replaceSelectionWith("\n"+t)}u.preventDefault()}});this.$el.data("wikiEditor",this);this.$el.addClass("wiki-editor-initialised")};var g={bold:["*","*","strong text"],italic:["_","_","emphasized text"],underline:["+","+","underlined text"],"delete":["-","-","deleted text"],superscript:["^","^","superscript text"],subscript:["~","~","subscript text"],monospace:["{{","}}","monospaced text"],cite:["??","??","citation"],"block-quote":["{quote}","{quote}","quoted text"],color:["{color:$1}","{color}","colored text","red"],link:["[","|http://example.com]","link title"],"link-anchor":["[#","]","anchor"],"link-mail":["[mailto:","]","mail@example.com"],image:["!","!","http://example.com/image.png"],mention:["@","","Mention someone by typing their name..."],code:["\n{code:java}\n","\n{code}\n","// Some comments here\npublic String getFoo()\n{\n    return foo;\n}"],noformat:["\n{noformat}\n","\n{noformat}\n","*no* further _formatting_ is done here"],panel:["\n{panel:title="+"My title"+"}\n","\n{panel}\n","Some text with a title"],table:["\n||"+"Heading"+" 1||"+"Heading"+" 2||\n|","|"+"Col"+" A2|\n","Col"+" A1"]};g["monospace-inline"]=g.monospace;for(var j in g){n.prototype[j]=(function(p,q){var r=0;if(p.length>3){r=p.length-3}return function(){var v=p[0];var w=p[1];var x=p[2];var s;for(s=1;s<=r;s++){v=v.replace("$"+s,arguments[s-1]||p[2+s]);w=w.replace("$"+s,arguments[s-1]||p[2+s])}var u=this.el.value;var t=this.manipulationEngine.getSelection();this.undoRedoEl.recordHistoryItem();if(u.substring(t.start-v.length,t.start)===v&&u.substring(t.end,t.end+w.length)===w){this.el.value=u.substring(0,t.start-v.length)+u.substring(t.start,t.end)+u.substring(t.end+w.length,u.length);this.manipulationEngine.setSelection(t.start-v.length,t.end-v.length)}else{this.manipulationEngine.wrapSelectionWith.call(this.manipulationEngine,v,w,x)}this.undoRedoEl.recordHistoryItem();this.$el.trigger("input")}})(g[j],j)}var d={paragraph:"","bullet-list":"* ","numbered-list":"# ",h1:"h1. ",h2:"h2. ",h3:"h3. ",h4:"h4. ",h5:"h5. ",h6:"h6. ","paragraph-quote":"bq. "};for(var j in d){n.prototype[j]=(function(p){return function(){this.undoRedoEl.recordHistoryItem();for(var q in d){if(this.manipulationEngine.areSelectedLinesPrefixed(d[q])){this.manipulationEngine.unprefixSelectedLines(d[q])}}this.manipulationEngine.prefixSelectedLines.call(this.manipulationEngine,p);this.undoRedoEl.recordHistoryItem();this.$el.trigger("input")}})(d[j])}var m={hr:"\n----\n",":)":":)",":(":":(",":P":":P",":D":":D",";)":";)","(y)":"(y)","(n)":"(n)","(i)":"(i)","(/)":"(/)","(x)":"(x)","(!)":"(!)","(+)":"(+)","(-)":"(-)","(?)":"(?)","(on)":"(on)","(off)":"(off)","(*)":"(*)","(*r)":"(*r)","(*g)":"(*g)","(*b)":"(*b)","(*y)":"(*y)","(flag)":"(flag)","(flagoff)":"(flagoff)","image-attachment":[" !$1|thumbnail! ","attachment-name.jpg"],"image-attachment-full":[" !$1! ","attachment-name.gif"],"link-attachment":[" [^$1] ","attachment-name.zip"]};for(var j in m){n.prototype[j]=(function(p){var r=0;var q;if(k.isArray(p)){r=p.length-1;q=p.slice(1);p=p[0]}return function(){var t;var s=p;for(t=1;t<=r;t++){s=p.replace("$"+t,arguments[t-1]||q[t-1])}this.undoRedoEl.recordHistoryItem();this.manipulationEngine.replaceSelectionWith.call(this.manipulationEngine,s,false);this.undoRedoEl.recordHistoryItem();this.$el.trigger("input")}})(m[j])}n.prototype.speech=function(){l.start(this)};return n});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/WikiEditor.js' */
define("wiki-edit/WikiEditor",["wiki-edit/WikiEnabledTextarea","jquery","underscore","wiki-edit/keymaster","wiki-edit/analytics","wiki-edit/WikiEditorUtil","wiki-edit/editor/templates","jira/util/navigator","jira/util/events","jira/util/events/types","jira/editor/constants","wrm/data","wiki-edit/thumbnails","wiki-edit/attachment-list-util"],function(m,e,q,s,j,p,i,d,b,o,f,g,k,a){var r=g.claim("com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data");var c="Ctrl";if(d.isMac()){c=""}var h=function(t){return t.match(/\.(bmp|gif|jpg|jpeg|pjpeg|png|tiff|webp)$/i)?"image":"file"};var l=function(w,x,t,u,v){if(w.$el.triggerHandler(f.EVENT_OPERATION_ATTACHMENT,{name:x,type:t,thumbnailable:u,href:v})){return}if(t=="image"){if(u){w["image-attachment"](x)}else{w["image-attachment-full"](x)}j.trigger("operation.attachment.image")}else{w["link-attachment"](x);j.trigger("operation.attachment.link")}};function n(u){var t=e(u).closest(".aui-dropdown2");if(t.length){t[0].hide()}}return{_isThumbnailable:k.isThumbnailable,create:function(x){if(typeof x.selectionStart=="undefined"){return}var C=e(x);if(C.data("wikiEditor")){return}j.trigger("initialized");var t=new m(x);this.wikiEditor=t;var w=e(i.renderEditor({editorId:t.id,controlKey:c,helpData:r}));var L=w.filter(".wiki-edit-toolbar");if("webkitSpeechRecognition" in window){w.find(".wiki-edit-speech-item").removeClass("hidden")}C.parent().before(w);var B=C.closest(".jira-dialog").length>0||C.closest("form#issue-create").length>0;var A=C.closest("#create-issue-dialog").length>0;var J=e("#issue-content").length>0;var u=C.closest("#addcomment").length>0;var O=w.find(".wiki-edit-operation[title], .aui-dropdown2-trigger, .wiki-edit-tooltip");var N;if(B){N="Dialog.beforeHide"}else{N=o.BEFORE_INLINE_EDIT_CANCEL}O.each(function(){var T=e(this);var S={aria:true,hideOnClick:true,hoverable:false};if(T.parent().is("li")){S.gravity="w"}T.tooltip(S)});var Q=function(){O.each(function(){e(this).tooltip("hide")})};b.bind(N,Q);var D=false;var R=w.filter(".aui-dropdown2");R.on({"aui-dropdown2-show":function(){D=true;if(!C.hasClass(f.CLASS_COVER)){C.focus()}},"aui-dropdown2-hide":function(){D=false;Q()}});C.on("keydown",function M(T){if(D&&T.keyCode===AJS.keyCode.ESCAPE){if(B){b.one("Dialog.beforeHide",function(U){U.preventDefault()})}else{if(J&&!u){b.one(o.BEFORE_INLINE_EDIT_CANCEL,function S(U){U.preventDefault()})}}}});var y=w.filter(".wiki-edit-dropdown-image, .wiki-edit-dropdown-attachment");var z=y.find(".wiki-edit-insert-image, .wiki-edit-insert-attachment");var v=y.find(".wiki-edit-insert-image ul, .wiki-edit-insert-attachment ul");v.on("click","a",function(U){U.preventDefault();n(U.target);var S=e(this).attr("data-attachment-type");if(typeof S==="undefined"){S="file"}var V=e(this).find(".wiki-edit-attachment-name").text();var T=k.isThumbnailable(V,e(this));l(t,V,S,T,e(this).attr("data-attachment-href"))});y.on("aui-dropdown2-show",function(){a.buildAttachmentLinks(v,z,B,A,J)});if(p.compareVersion(AJS.version,"5.8.0")<0){y.on("aui-dropdown2-item-selected",function P(){var S=e(this).find(".aui-dropdown2-active");if(typeof S!=="object"){return}var W=S.closest("div");if(typeof W!=="object"){return}var U=W.offset().top;var X=U+W.height();var T=S.offset().top;var V=T+S.height();if(T<U){W.scrollTop(W.scrollTop()-(U-T))}if(V>X){W.scrollTop(W.scrollTop()+(V-X))}})}w.filter(".wiki-edit-dropdown, .wiki-edit-picker").on("mousedown",function(S){S.preventDefault()});w.find(".wiki-edit-operation:not(.wiki-edit-operation-color)").each(function(){var T=e(this);var S=function(U){if(!U){return}U.preventDefault&&U.preventDefault();n(U.target);if(t.$el.triggerHandler(f.EVENT_OPERATION,T.data("operation"))){return}C.focus();t[T.data("operation")]();j.trigger("operation",{name:T.data("operation"),nameHash:j.hashCode(T.data("operation")),trigger:U.type});j.trigger("operation."+T.data("operation"),{trigger:U.type})};T.click(S);if(T.data("shortcut")){s(T.data("shortcut"),t.id,S)}});w.find(".wiki-edit-operation-color").each(function(){var T=e(this);var S=function(U){if(!U){return}U.preventDefault&&U.preventDefault();n(U.target);if(t.$el.triggerHandler(f.EVENT_OPERATION_COLOR,T.data("color"))){return}C.focus();t[T.data("operation")](T.data("color"));j.trigger("operation",{name:T.data("operation"),nameHash:j.hashCode(T.data("operation")),trigger:U.type});j.trigger("operation."+T.data("operation"),{trigger:U.type})};T.click(S);if(T.data("shortcut")){s(T.data("shortcut"),t.id,S)}});var K=(window.localStorage.getItem("jira.wikieditor.last.color"))?window.localStorage.getItem("jira.wikieditor.last.color"):"red";var G=w.find(".wiki-edit-operation-color");G.data("color",K);var F=L.find(".wiki-edit-color-indicator");F.css("background-color",K);w.filter(".wiki-edit-color-picker").on("click","a",function(T){T.preventDefault();n(T.target);var S=e(this).data("color");G.data("color",S);F.css("background-color",S);window.localStorage.setItem("jira.wikieditor.last.color",S);if(t.$el.triggerHandler(f.EVENT_OPERATION_COLOR,S)){return}C.focus();t.color(S);j.trigger("operation",{name:"color"});j.trigger("operation.color.picked",{color:S})});var I=w.find(".wiki-edit-visible-toggle");var H=(localStorage.getItem("jira.wikieditor.visibility"+x.name+"."+x.id)==="true")?true:false;if(H){I.addClass("active");L.addClass("wiki-edit-toolbar-compact")}function E(S){S.preventDefault();S.stopPropagation();H=!H;I.toggleClass("active",H);L.toggleClass("wiki-edit-toolbar-compact",H);localStorage.setItem("jira.wikieditor.visibility"+x.name+"."+x.id,(H)?"true":"false");j.trigger((H)?"hide":"show")}I.on("click",E);L.parent().on("click",".wiki-edit-toolbar-compact",E);e(document).on("showWikiPreview",function(T,S){if(e(S).find(x).length){L.addClass("hidden")}});e(document).on("showWikiInput",function(T,S){if(e(S).find(x).length){L.removeClass("hidden")}})},initBrowseLink:function(x){var A=this.wikiEditor;var H=e(x);var E=H.parent().siblings().find(".wiki-attachment-browse");var C=e("#dnd-metadata-webpanel").data("can-attach");var w=H.closest(".jira-dialog").length>0||H.closest("form#issue-create").length>0;if(w){var B=["#create-issue-dialog:visible","#create-subtask-dialog:visible","#edit-issue-dialog:visible","#create-linked-issue-dialog:visible"];var F=e(B.join(","));var v=F.length>0;C=e(".jira-dialog fieldset span:contains('Attachment')").length>0;if(!v){F=H.closest(".dialog-can-receive-files:visible");v=F.length>0;C=F.data("can-attach")}var y=F.data("insert-markup-on-browse")}var z=H.parent().siblings().find(".wiki-edit-attachment-picker-trigger");if(C&&(w?v:true)){E.closest("div").removeClass("hidden");z.removeClass("hidden");if(!E.data("initialised")){E.on("click",function(J){J.preventDefault();n(J.target);var I=e('<input type="file" multiple />');I.change(function(N){var M=I[0].files;if(w){var L=e.Event("drop");L.dataTransfer={files:M};F.find(".issue-drop-zone__target").trigger(L)}else{b.trigger("attachmentForPageReceived",{files:M,isWikiTextfieldFocused:false,wikiTextfield:x})}if(A.$el.triggerHandler(f.EVENT_OPERATION_ATTACHMENT,q.map(M,function(P){return{name:P.name,type:h(P.name),thumbnailable:k.isThumbnailable(P.name),href:window.URL.createObjectURL(P)}}))){return}if(w?y:true){for(var K=0;K<M.length;K++){var O=M[K].name;l(A,O,h(O),k.isThumbnailable(O),window.URL.createObjectURL(M[K]))}}});I.click();j.trigger("attachment.dropdown.button.clicked.browse")});E.data("initialised",true)}}else{E.closest("div").addClass("hidden");var u=e("#attachment_thumbnails li.attachment-content, #file_attachments li.attachment-content");var D=u.length>0;var G=w&&v&&(F.attr("id")==="create-issue-dialog"||F.attr("id")==="create-subtask-dialog");var t=D&&!G;if(!t){z.addClass("hidden")}}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/WikiEditorUtil.js' */
define("wiki-edit/WikiEditorUtil",["wiki-edit/viewissue/templates","jira/util/formatter","jquery","underscore"],function(g,d,f,c){var e={cssClass:"aui-iconfont-devtools-file",title:"File"};var b={pdf:"aui-iconfont-file-pdf",gif:"aui-iconfont-image",png:"aui-iconfont-image",jpeg:"aui-iconfont-image",jpg:"aui-iconfont-image",xml:"aui-iconfont-file-code",html:"aui-iconfont-file-code",htm:"aui-iconfont-file-code",txt:"aui-iconfont-file-txt",zip:"aui-iconfont-file-zip",gz:"aui-iconfont-file-zip",tar:"aui-iconfont-file-zip",rar:"aui-iconfont-file-zip","7z":"aui-iconfont-file-zip",doc:"aui-iconfont-file-doc",docx:"aui-iconfont-file-doc",xls:"aui-iconfont-file-xls",xlsx:"aui-iconfont-file-xls",xlsm:"aui-iconfont-file-xls",ppt:"aui-iconfont-file-ppt",pptx:"aui-iconfont-file-ppt",java:"aui-iconfont-file-code",c:"aui-iconfont-file-code",h:"aui-iconfont-file-code",cpp:"aui-iconfont-file-code",hpp:"aui-iconfont-file-code",scala:"aui-iconfont-file-code",php:"aui-iconfont-file-code",css:"aui-iconfont-file-code",less:"aui-iconfont-file-code",soy:"aui-iconfont-file-code",js:"aui-iconfont-file-code",jar:"aui-iconfont-file-zip",war:"aui-iconfont-file-zip",obr:"aui-iconfont-file-zip"};var a={pdf:"PDF File",gif:"GIF File",png:"PNG File",jpeg:"JPEG File",jpg:"JPEG File",xml:"XML File",html:"HTML File",htm:"HTML File",txt:"Text File",zip:"Zip Archive",gz:"GZip Archive",doc:"Microsoft Word",docx:"Microsoft Word",xls:"Microsoft Excel",xlsx:"Microsoft Excel",xlsm:"Microsoft Excel",ppt:"Microsoft PowerPoint",pptx:"Microsoft PowerPoint",java:"Java Source File",jar:"Java Archive File",war:"Java Archive File"};return{defaultAttachmentTypeIcon:e,canTranslateMimeTypeToAttachmentTypeIcon:function(){return !!g},translateMimeTypeToAttachmentTypeIcon:function(h){return{cssClass:g.matchFileClass({mimetype:h}),title:g.matchFileIconAlt({mimetype:h})}},translateFileExtensionToAttachmentTypeIcon:function(k){var h=c.clone(e);if(typeof k!=="string"){return h}k=k.toLowerCase();k=k.replace(/^\.+/,"");var i=b[k];if(typeof i==="string"){h.cssClass=i}var j=a[k];if(typeof j==="string"){h.title=j}return h},compareVersion:function(l,k){var j=l.split(".");var i=k.split(".");var h=NaN;f(j).each(function(o,p){if(o>=i.length){return false}var n=Number(p);var m=Number(i[o]);if(isNaN(n)||isNaN(m)){h=NaN;return false}if(n<m){h=-1;return false}else{if(n>m){h=1;return false}}h=0});if(h==0&&j.length!=i.length){return(j.length>i.length)?1:-1}return h},getFileExtension:function(i){if(typeof i!=="string"){return""}var h=i.match(/\.(\w{1,5})$/i);if(h&&h.length>1){return h[1]}return""}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/SpeechRecognition.js' */
define("wiki-edit/SpeechRecognition",["jira/util/formatter","jira/util/data/meta","aui/flag"],function(c,d,e){function a(f){return f&&f[0]&&f[0].isFinal}function b(f){return f&&f[0]&&f[0][0]&&f[0][0].transcript||""}return{start:function(i,h){var f=this;var g=new webkitSpeechRecognition();g.continuous=false;g.interimResults=true;g.lang=d.get("user-locale").replace("_","-");g.stop();g.start();g.onstart=function(){f.showTimedMessage({title:"You can start speaking now :)"},"info",10);if(i){f.selectionStart=i.manipulationEngine.getSelection().start}else{if(h){f.selectionStart=h.getSelectionStart()}}};g.onresult=function(k){f.dismissCurrentMessage();var m=a(k.results);var j=b(k.results);j=j.charAt(0).toUpperCase()+j.slice(1);if(i){if(m){i.undoRedoEl.recordHistoryItem()}i.manipulationEngine.replaceSelectionWith.call(i.manipulationEngine,j,false);var l=f.selectionStart+j.length;if(m){i.manipulationEngine.setSelection(l);i.undoRedoEl.recordHistoryItem();i.$el.trigger("input")}else{i.manipulationEngine.setSelection(f.selectionStart,l)}}if(h){h.replaceSelection(j);if(!m){h.setSelectionStart(f.selectionStart)}}if(m){g.stop()}};g.onerror=function(k){g.stop();var j={title:"Sorry, I can\'t hear you :(",body:""};switch(k.error){case"not-allowed":j.title="Speech recognition is currently disabled";j.body="Click the camera icon in the browser\'s address bar to enable it.";break;case"network":j.title="No internet connection";j.body="You need a working internet connection to use speech recognition.";break;case"no-speech":j.title="Sorry, I couldn\'t hear anything :(";j.body="Is your microphone working and unmuted?";break;case"aborted":return}f.showTimedMessage(j,"warning",5)};g.onend=function(){g.stop()}},showTimedMessage:function(f,h,g){this.dismissCurrentMessage();this.speakFlag=e({type:h,title:f.title,body:f.body,persistent:true});clearTimeout(this.flagTimer);this.flagTimer=setTimeout(this.dismissCurrentMessage.bind(this),g*1000)},dismissCurrentMessage:function(){if(this.speakFlag&&this.speakFlag.close){this.speakFlag.close();this.speakFlag=null}}}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:skate', location = '/js/lib/skate.js' */
define("wiki-edit/skate",["jira/skate"],function(a){return a});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources-init', location = '/js/wiki-editor-init.js' */
require(["jira/dialog/dialog-register","wiki-edit/WikiEditor","wiki-edit/skate","jquery","underscore","backbone"],function(f,e,d,c,i,h){function g(k){i.extend(k,h.Events);var l=(this instanceof Element)?this:k;var j=function(m){e.create(m);e.initBrowseLink(m);m.wikiEnabled=true;c(m).trigger("wiki-editor-initialized")};if(l.wikiEnabled===false){if(c(l).is(":hidden")){i.defer(j,l)}else{j(l)}}}function a(j){if(c.contains(document,j)){return}i.isFunction(j.trigger)&&j.trigger("detached",j)}function b(){return{type:d.type.CLASSNAME,attached:g,detached:a,prototype:{wikiEnabled:false}}}d("wiki-textfield",b());d("wiki-enabled-textfield",b());c(function(){if(c("#gh").length>0){f.comment.options.width=810;f.assignIssue.options.width=810;f.attachFile.options.width=810;f.logWork.options.width=810;f.logWork.options.width=810}})});;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-button', location = 'src/js/aui/button.js' */
("undefined"===typeof window?global:window).__eaacbdad8b92ceca9114dc3be870abe7=function(){function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return a.hasAttribute("aria-busy")&&"true"===a.getAttribute("aria-busy")}"use strict";var c;var a=__c1e961001275c079e48525ad3a48c8c2;if(a&&a.__esModule)c=a;else{var b={};if(null!=a)for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(b[f]=a[f]);b.default=a;c=b}var a=d(__65ca28a9d6b0f244027266ff8e6a6d1c),b=d(__0ac9a2c09f995a9c0a478af8742f59b7),
g=__6c1bd26c14066cf537a86a0966c2d4fc,h=d(g);(0,b.default)("aui-button",{type:b.default.type.CLASSNAME,created:function(a){a._spinner=new h.default;a._spinner.setAttribute("size",g.SIZE.SMALL.name)},prototype:{busy:function(){if("INPUT"===this.nodeName||e(this))return c.warn("It is not valid to call busy() on an input button."),this;this.appendChild(this._spinner);this.setAttribute("aria-busy",!0);this.setAttribute("busy","");return this},idle:function(){if("INPUT"===this.nodeName||!e(this))return c.warn("It is not valid to call idle() on an input button."),
this;this.removeChild(this._spinner);this.removeAttribute("aria-busy");this.removeAttribute("busy");return this},isBusy:function(){return"INPUT"===this.nodeName?(c.warn("It is not valid to call isBusy() on an input button."),!1):e(this)}}});(0,a.default)("aui/button");return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-internal-select-option', location = 'src/js/aui/internal/select/option.js' */
("undefined"===typeof window?global:window).__fe251e1f4080cfe4e163e9b243bb0491=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__0ac9a2c09f995a9c0a478af8742f59b7,a=a&&a.__esModule?a:{"default":a},c=__48697fd7ae587e40e44fef53ab10460c,e=c&&c.__esModule?c:{"default":c};b.default=(0,a.default)("aui-option",{created:function(d){Object.defineProperty(d,"value",{get:function(){return d.getAttribute("value")||(0,e.default)(this.textContent)},set:function(a){d.setAttribute("value",
a)}})},prototype:{serialize:function(){var a={};this.hasAttribute("img-src")&&(a["img-src"]=this.getAttribute("img-src"));a.value=this.value;a.label=(0,e.default)(this.textContent);return a}}});return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-internal-select-suggestion-model', location = 'src/js/aui/internal/select/suggestion-model.js' */
("undefined"===typeof window?global:window).__3612acbfe60f9cd2a88e38733670f664=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=__320e4ec293ac29d49b959aa9d46df68f;a.default=(b&&b.__esModule?b:{"default":b}).default.Model.extend({idAttribute:"label",getLabel:function(){return this.get("label")||this.get("value")}});return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-internal-select-suggestions-model', location = 'src/js/aui/internal/select/suggestions-model.js' */
("undefined"===typeof window?global:window).__b227fe541363e13797e40f0e86a3a5b6=function(){function d(){this._suggestions=[];this._activeIndex=-1}var c={};"use strict";Object.defineProperty(c,"__esModule",{value:!0});d.prototype={onChange:function(){},onHighlightChange:function(){},get:function(a){return this._suggestions[a]},set:function(a){var b=this._suggestions;this._suggestions=a||[];this.onChange(b);return this},getNumberOfResults:function(){return this._suggestions.length},setHighlighted:function(a){if(a)for(var b=
0;b<this._suggestions.length;b++)this._suggestions[b].id===a.id&&this.highlight(b);return this},highlight:function(a){this._activeIndex=a;this.onHighlightChange();return this},highlightPrevious:function(){var a=this._activeIndex;this.highlight(0===a?a:a-1);return this},highlightNext:function(){var a=this._activeIndex;this.highlight(a===this._suggestions.length-1?a:a+1);return this},highlighted:function(){return this.get(this._activeIndex)},highlightedIndex:function(){return this._activeIndex}};c.default=
d;return c=c["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-internal-select-suggestions-view', location = 'src/js/aui/internal/select/suggestions-view.js' */
("undefined"===typeof window?global:window).__9e2e7d5836591eb38f141c77fb1c9982=function(){function d(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){this.el=a;this.anchor=b}function h(a){(0,b.default)(a).find(".aui-select-active").removeClass("aui-select-active")}var c={};"use strict";Object.defineProperty(c,"__esModule",{value:!0});var b=d(__700a145ba3db9966cc95664c892049f8);__fa714f1b12d7502957e4e0b6196321bf;var j=d(__81deba69899d0f1851f2c511b87bbbae),i=d(__3ada4a8272640e5242be87f12c7e0fdf);
g.prototype={render:function(a,b,c){this.currListId=c;var e="";if(a.length){var d=b;a.forEach(function(a){var b=a.getLabel(),f=a.get("img-src"),f=f?'<img src="'+f+'"/>':"",a=a.get("new-value")?" (<em>"+"new value"+"</em>)":"";e+='<li role="option" class="aui-select-suggestion" id="'+(c+"-"+d)+'">'+f+b+a+"</li>";d++});b?this.el.querySelector("ul").innerHTML+=e:this.el.querySelector("ul").innerHTML=e}else b||(this.el.querySelector("ul").innerHTML='<li role="option" class="aui-select-no-suggestions">'+
"No suggestions"+"</li>");return this},setActive:function(a){h(this.el);(0,b.default)(this.el).find("#"+(this.currListId+"-"+a)).addClass("aui-select-active")},getActive:function(){return this.el.querySelector(".aui-select-active")},show:function(){(0,b.default)(this.el).css("min-width",(0,b.default)(this.anchor).outerWidth());(0,i.default)(this.el).show();this.anchor&&!this.auiAlignment&&(this.auiAlignment=new j.default(this.el,this.anchor));this.auiAlignment&&this.auiAlignment.enable()},
hide:function(){h(this.el);(0,i.default)(this.el).hide();this.auiAlignment&&this.auiAlignment.destroy()},isVisible:function(){return(0,b.default)(this.el).is(":visible")}};c.default=g;return c=c["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-internal-select-template', location = 'src/js/aui/internal/select/template.js' */
("undefined"===typeof window?global:window).__7865c6da767e205eeac86fc044ce472b=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__c6b5725916d210b9653318d2ea2472cb,a=a&&a.__esModule?a:{"default":a};b.default=(0,a.default)('\n    <input type="text" class="text" autocomplete="off" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false">\n    <select></select>\n    <datalist>\n        <content select="aui-option"></content>\n    </datalist>\n    <button class="aui-button" role="button" tabindex="-1" type="button"></button>\n    <div class="aui-popover" role="listbox" data-aui-alignment="bottom left">\n        <ul class="aui-optionlist" role="presentation"></ul>\n    </div>\n    <div class="aui-select-status assistive" aria-live="polite" role="status"></div>\n');
return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-select', location = 'src/js/aui/select.js' */
("undefined"===typeof window?global:window).__67239d8727b67748b2105d3faf199585=function(){function c(a){return a&&a.__esModule?a:{"default":a}}function s(a){a._select.selectedIndex=C;a._input.removeAttribute("style");(0,f.default)(a._input).removeClass("aui-select-has-inline-image")}function D(a,b){return 0===a.get("label").toLowerCase().indexOf(b.toLowerCase())}function h(a){a._suggestionsView.hide();a._input.setAttribute("aria-expanded","false")}function t(a){var b=a._suggestionModel.getNumberOfResults()?
0:n;a._suggestionModel.highlight(b);h(a)}function u(a,b,d){a._autoHighlight=b;void 0===d&&(d=a._input.value);a._progressiveDataSet.query(d)}function v(a){var b=a._suggestionModel.highlighted()&&a._suggestionModel.highlighted().get("img-src");b&&((0,f.default)(a._input).addClass("aui-select-has-inline-image"),a._input.setAttribute("style","background-image: url("+b+")"))}function o(a,b){if(b){var d=document.createElement("option"),i=a._select,c=b.get("value")||b.get("label");d.setAttribute("selected",
"");d.setAttribute("value",c);d.textContent=b.getLabel();a._input.value=d.textContent;i.innerHTML="";i.options.add(d);i.dispatchEvent(new w.default("change",{bubbles:!0}))}}function p(a){o(a,a._suggestionModel.highlighted());v(a);t(a)}function x(a){for(var b=[],d=0;d<a._datalist.children.length;d++)b.push(new j.default(a._datalist.children[d].serialize()));return b}function q(a){return(a=a._dropdown.querySelector(".aui-select-active"))&&a.id}function y(a,b){return f.default.map(b,function(a){return a.id}).indexOf(a)}
function E(a){var b=new F.default;b.setAttribute("value",a._input.value);a=new j.default(b.serialize());a.set("new-value",!0);return a}function r(a){var b=a.value?"":a._input.value,d=""===a._input.value;(0,e.default)(a).set("should-include-selected",d);u(a,!0,b)}function l(a){0<a._progressiveDataSet.activeQueryCount&&(0,e.default)(a).set("should-cancel-response",!0)}function z(a){if(0<=a._select.selectedIndex)return a._select.options[a._select.selectedIndex].textContent}function A(a){var b=!a.hasAttribute("no-empty-values"),
d=!a._input.value,i=a._input.value!==z(a);if(d||i)b?s(a):(b=z(a),"undefined"===typeof b?s(a):a._input.value=b)}var m={};"use strict";Object.defineProperty(m,"__esModule",{value:!0});var f=c(__700a145ba3db9966cc95664c892049f8);__eaacbdad8b92ceca9114dc3be870abe7;__fa714f1b12d7502957e4e0b6196321bf;__7662207c0e706b4f9b15584a7f7253f9;var F=c(__fe251e1f4080cfe4e163e9b243bb0491),G=c(__65ca28a9d6b0f244027266ff8e6a6d1c),w=c(__f7a5e0d2ea8865b104efc9b94861591e),H=c(__28c84e7bb75f6c3b0ba124d57bd69571),g=c(__e246bf93af36eb4453f35afeb1c302d9),
I=c(__4f7eb6cf60845d0cd685bf4d782df3ea),B=c(__0ac9a2c09f995a9c0a478af8742f59b7),e=c(__3f2c7809aecfe899611b77461a9218ac),j=c(__3612acbfe60f9cd2a88e38733670f664),J=c(__b227fe541363e13797e40f0e86a3a5b6),K=c(__9e2e7d5836591eb38f141c77fb1c9982),k=c(__7865c6da767e205eeac86fc044ce472b),L=c(__a0ab588de7b0759818853425dc8ad2f2),M=__584af8690b0248d0ffcba682ccaa70ba,C=-1,n=-1,k=(0,B.default)("aui-select",{template:k.default,created:function(a){a._listId=(0,L.default)();a._input=a.querySelector("input");a._select=
a.querySelector("select");a._dropdown=a.querySelector(".aui-popover");a._datalist=a.querySelector("datalist");a._button=a.querySelector("button");a._suggestionsView=new K.default(a._dropdown,a._input);a._suggestionModel=new J.default;a._suggestionModel.onChange=function(b){var d=[];a._suggestionModel._suggestions.forEach(function(a){b.some(function(b){return a.id===b.id})||d.push(a)});a._suggestionsView.render(d,b.length,a._listId)};a._suggestionModel.onHighlightChange=function(){var b=a._suggestionModel.highlightedIndex();
a._suggestionsView.setActive(b);a._input.setAttribute("aria-activedescendant",q(a))}},attached:function(a){B.default.init(a);a._progressiveDataSet=new I.default(x(a),{model:j.default,matcher:D,queryEndpoint:a._queryEndpoint,maxResults:20});a._isSync=a._queryEndpoint?!1:!0;a._progressiveDataSet.on("activity",function(){a._progressiveDataSet.activeQueryCount&&!a._isSync?(a._button.isBusy()||(a._button.busy(),a._input.setAttribute("aria-busy","true"),a._dropdown.setAttribute("aria-busy","true")),(0,
e.default)(a).set("should-flag-new-suggestions",!1)):(a._button.idle(),a._input.setAttribute("aria-busy","false"),a._dropdown.setAttribute("aria-busy","false"),(0,e.default)(a).set("should-flag-new-suggestions",!0))});a._progressiveDataSet.on("respond",function(b){if(!b.query||a._input.value)if((0,e.default)(a).get("should-cancel-response"))a._progressiveDataSet.activeQueryCount||(0,e.default)(a).set("should-cancel-response",!1);else{b.query||(b.results=x(a));var c=-1!==y(a._input.value,b.results),
f=!a._input.value;a.hasAttribute("can-create-values")&&(!c&&!f)&&b.results.push(E(a));if(!(0,e.default)(a).get("should-include-selected"))c=y(a.value,b.results),0<=c&&b.results.splice(c,1);a._suggestionModel.set();a._suggestionModel.set(b.results);b=a._suggestionModel.highlighted()||b.results[0];a._autoHighlight&&(a._suggestionModel.setHighlighted(b),setTimeout(function(){a._input.setAttribute("aria-activedescendant",q(a))},50));a._input.setAttribute("aria-expanded","true");if(!a._isSync&&a._suggestionsView.getActive()&&
(0,e.default)(a).get("should-flag-new-suggestions"))a.querySelector(".aui-select-status").innerHTML="New suggestions added. Please use the up and down arrows to select.";a._suggestionsView.show();a._autoHighlight&&setTimeout(function(){a._input.setAttribute("aria-activedescendant",q(a))},50)}});a._dropdown.id=a._listId;a.querySelector("button").setAttribute("aria-controls",a._listId);a._input.setAttribute("aria-controls",a._listId);a.setAttribute("tabindex","-1");(0,f.default)(a._dropdown).on("mouseover","li",function(b){a._suggestionModel.getNumberOfResults()&&
a._suggestionModel.highlight((0,f.default)(b.target).index())});(0,f.default)(a._dropdown).on("mousedown","li",function(b){if(a._suggestionModel.getNumberOfResults())a._suggestionModel.highlight((0,f.default)(b.target).index()),p(a),a._suggestionsView.hide(),a._input.removeAttribute("aria-activedescendant");else return!1});var b=a._datalist.querySelector("aui-option[selected]");b&&o(a,new j.default(b.serialize()));t(a);v(a)},attributes:{id:function(a,b){a.id&&(a.querySelector("input").id=b.newValue+
M.INPUT_SUFFIX)},name:function(a,b){a.querySelector("select").setAttribute("name",b.newValue)},placeholder:function(a,b){a.querySelector("input").setAttribute("placeholder",b.newValue)},src:function(a,b){a._queryEndpoint=b.newValue}},events:{"blur input":function(a){l(a);A(a);a._suggestionModel.highlight(n);h(a)},"mousedown button":function(a){document.activeElement===a._input&&"false"===a._dropdown.getAttribute("aria-hidden")&&(0,e.default)(a).set("prevent-open-on-button-click",!0)},"click input":function(a){r(a)},
"click button":function(a){var b=(0,e.default)(a);b.get("prevent-open-on-button-click")?b.set("prevent-open-on-button-click",!1):((0,e.default)(a).set("button-clicked-prevent-dropdown-hide",!0),a.focus())},input:function(a){a._input.value?((0,e.default)(a).set("should-include-selected",!0),u(a,!0)):(0,e.default)(a).get("button-clicked-prevent-dropdown-hide")?(0,e.default)(a).set("button-clicked-prevent-dropdown-hide",!1):h(a)},"keydown input":function(a,b){var d=a._input.value,c=!1;if(b.keyCode===
g.default.ESCAPE)l(a),h(a);else{if(a._suggestionsView.isVisible()&&a._suggestionModel.getNumberOfResults())b.keyCode===g.default.ENTER?(l(a),p(a),b.preventDefault()):b.keyCode===g.default.TAB?(a._suggestionsView.isVisible()&&p(a),c=!0):b.keyCode===g.default.UP?(a._suggestionModel.highlightPrevious(),b.preventDefault()):b.keyCode===g.default.DOWN&&(a._suggestionModel.highlightNext(),b.preventDefault());else if(b.keyCode===g.default.UP||b.keyCode===g.default.DOWN)r(a),b.preventDefault();c=c||b.defaultPrevented;
setTimeout(function(){a._input.value!==d&&!c&&a.dispatchEvent(new w.default("input",{bubbles:!0}))},0)}}},prototype:{get value(){var a=this._select.options[this._select.selectedIndex];return a?a.value:""},set value(a){if(""===a)this._input.value="",this._select.innerHTML="";else if(a){var b=this._progressiveDataSet,b=b.findWhere({value:a})||b.findWhere({label:a});!b&&this.hasAttribute("can-create-values")&&(b=new j.default({value:a,label:a}));o(this,b)}return this},get displayValue(){return this._input.value},
blur:function(){this._input.blur();l(this);A(this);this._suggestionModel.highlight(n);h(this);return this},focus:function(){this._input.focus();r(this);return this}}});(0,G.default)("aui/select",k);(0,H.default)("select",k);m.default=k;return m=m["default"]}.call(this);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:brace', location = 'libs/brace.js' */
define("jira/components/libs/brace",["atlassian/libs/factories/brace-2014.09.03","jira/components/libs/backbone","jira/components/libs/underscore"],function(b,c,a){return b(a,c)});AJS.namespace("JIRA.Issues.Brace",null,require("jira/components/libs/brace"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:user-parms', location = 'content/js/util/UserParams.js' */
define("jira/issues/user-params",function(){var a=WRM.data.claim("com.atlassian.jira.jira-issue-nav-plugin:user-parms.userParms");return{createSharedObjects:function(){return a.createSharedObjects},get:function(){return a}}});AJS.namespace("JIRA.Issues.UserParms",null,require("jira/issues/user-params"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:resize-utils', location = 'content/js/util/Resize.js' */
define("jira/issues/utils/resize",[],function(){var c=require("underscore");var d=require("jquery");var a="horizontalResize";var b="verticalResize";return{offHorizontalResize:function(e){d(document).off(a,e)},onHorizontalResize:function(e){d(document).on(a,e)},triggerHorizontalResize:c.throttle(function(){d(document).trigger(a)},100),offVerticalResize:function(e){d(document).off(b,e)},onVerticalResize:function(e){d(document).on(b,e)},triggerVerticalResize:c.throttle(function(){d(document).trigger(b)},100),init:function(){d(window).resize(this.triggerVerticalResize)}}});(function(){var a=require("jira/issues/utils/resize");a.init()}());AJS.namespace("JIRA.Issues.offHorizontalResize",null,require("jira/issues/utils/resize").offHorizontalResize);AJS.namespace("JIRA.Issues.onHorizontalResize",null,require("jira/issues/utils/resize").onHorizontalResize);AJS.namespace("JIRA.Issues.triggerHorizontalResize",null,require("jira/issues/utils/resize").triggerHorizontalResize);AJS.namespace("JIRA.Issues.offVerticalResize",null,require("jira/issues/utils/resize").offVerticalResize);AJS.namespace("JIRA.Issues.onVerticalResize",null,require("jira/issues/utils/resize").onVerticalResize);AJS.namespace("JIRA.Issues.triggerVerticalResize",null,require("jira/issues/utils/resize").triggerVerticalResize);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:trace', location = 'libs/trace.js' */
define("jira/issues/libs/trace",[],function(){return function(){return window.JIRA.trace.apply(window.JIRA,arguments)}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-utils', location = 'content/js/search/Notifications.js' */
define("jira/issues/notifications",[],function(){var a={thanks_issue_updated:"{0} has been updated.",thanks_issue_transitioned:"{0} has been updated.",thanks_issue_assigned:"{0} has been assigned.",thanks_issue_commented:"{0} has been updated with your comment.",thanks_issue_worklogged:"Work has been logged on {0}.",thanks_issue_voted:"Your vote on {0} has been updated.",thanks_issue_watched:"Your watcher status on {0} has been updated.",thanks_issue_moved:"{0} has been moved.",thanks_issue_linked:"The links on {0} have been updated.",thanks_issue_cloned:"{0} has been cloned.",thanks_issue_labelled:"The labels on {0} have been updated.",thanks_issue_deleted:"{0} has been deleted.",thanks_issue_attached:"The file(s) have been attached to {0}."};return function(c,b){var d;if(!c){c="thanks_issue_updated"}d=a[c];if(d&&b){d=AJS.format(d,b)}JIRA.Messages.showSuccessMsg(d||c,{closeable:true})}});AJS.namespace("JIRA.Issues.showNotification",null,require("jira/issues/notifications"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-utils', location = 'content/js/search/IssueNavRouter.js' */
(function(){AJS.namespace("JIRA.Issues.IssueNavRouter");JIRA.Issues.IssueNavRouter=JIRA.Issues.BaseRouter.extend({initialize:function(c){_.extend(this,c);_.bindAll(this,"_restoreSessionSearch","_route");this.route(/^(.*?)([\?]{1}.*)?$/,this._route);this.route(/^(issues\/)?$/,this._restoreSessionSearch);delete Backbone.Router.arrayValueSplit;this.listenTo(JIRA.Issues.Application,"navigation:stateChanged",this.onStateChanged)},navigate:function(){JIRA.Issues.Tipsy.revalidate();this.trigger("navigate");JIRA.Issues.BaseRouter.prototype.navigate.apply(this,arguments)},onStateChanged:function b(e,d){d=d||{};if(d.forceFullPageLoad){_.defer(this._redirectToUrl,e.toUrl())}else{var c={trigger:false,replace:d.replace||false};this._setStatePermalink(e);this.navigate(e.toUrl(),c)}},pushState:function(c){this._setStatePermalink(c);this.navigate(JIRA.Issues.URLSerializer.getURLFromState(c),{trigger:false})},replaceState:function(c){this._setStatePermalink(c);this.navigate(JIRA.Issues.URLSerializer.getURLFromState(c),{trigger:false,replace:true})},_restoreSessionSearch:function(){var c=this.initialSessionSearchState;JIRA.Issues.Application.execute("navigation:updateState",c,{replace:true,reset:true,resetQuery:true})},_route:function(g,f){var d=this.toFragment(g,f);if(JIRA.Issues.ignorePopState){return}var e=AJS.Meta.get("jql");if(e!=null){AJS.Meta.set("jql",null)}var c={checkPermission:true,replace:true,reset:true,routerEvent:true};JIRA.Issues.Application.execute("navigation:navigateToUrl",d,c,e!=null?{jql:e}:undefined)},_setStatePermalink:function(f){var d=_.pick(f,"selectedIssueKey");var e=AJS.Meta.get("jira-base-url");if(!_.isEmpty(d)){AJS.Meta.set("viewissue-permlink",e+"/"+JIRA.Issues.URLSerializer.getURLFromState(d))}var c=_.omit(f,"selectedIssueKey");if(!_.isEmpty(c)){AJS.Meta.set("issuenav-permlink",e+"/"+JIRA.Issues.URLSerializer.getURLFromState(c))}},_redirectToUrl:function a(c){window.location.assign(JIRA.Issues.IssueNavRouter.getBackboneRoot()+c)}},{getBackboneRoot:function(){return AJS.contextPath()+"/"}})}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-utils', location = 'content/js/search/IssueNavCreator.js' */
(function(c){var e=c("jquery");var a=c("jira/util/events");var b=c("jira/issues/navigator/metrics");JIRA.Events.LAYOUT_RENDERED="layoutRendered";AJS.namespace("JIRA.Issues.ViewIssueCreator");JIRA.Issues.ViewIssueCreator.create=function d(g,f){this.$issueContainer=e(".issue-container");this.$searchContainer=e(".navigator-container");this.fullScreenIssue=new JIRA.Issues.FullScreenIssue({issueContainer:this.$issueContainer,searchContainer:this.$searchContainer});this.issueNavRouter=new JIRA.Issues.IssueNavRouter({initialSessionSearchState:f.initialSessionSearchState});JIRA.Issues.enhanceLinks.toIssueNav();JIRA.Issues.enhanceLinks.toIssue();JIRA.Issues.enhanceLinks.withPushState({});JIRA.Issues.Application.on("issueEditor:linkToIssue",function(h){b.notifyIssueView();JIRA.Issues.Application.execute("navigation:navigate",{selectedIssueKey:h.issueKey},{reset:true})});JIRA.Issues.Application.on("issueEditor:saveSuccess",function(h){a.trigger(JIRA.Events.ISSUE_REFRESHED,[h.issueId])});JIRA.Issues.Application.on("issueEditor:saveError",function(h){if(!h.deferred){a.trigger(JIRA.Events.ISSUE_REFRESHED,[h.issueId])}});JIRA.Issues.Application.on("issueEditor:render",function(h){JIRA.Issues.Application.execute("pager:render",h)});JIRA.Dialogs.BeforeShowIssueDialogHandler.add(JIRA.Issues.Api.waitForSavesToComplete);return this}}(window.require));(function(d){var g=d("jquery");var c=d("underscore");var e=d("jira/util/data/meta");var a=d("jira/util/events");var h=d("jira/issues/search/legacyissuenavigator");var f=d("jira/issues/search/legacyissuenavigatorshortcuts");AJS.namespace("JIRA.Issues.IssueNavCreator");JIRA.Issues.IssueNavCreator.create=function(v,w){w=c.defaults(w,{standaloneIssue:false});var k=w.viewIssueComponents||JIRA.Issues.ViewIssueCreator.create(v,w);this.fullScreenIssue=k.fullScreenIssue;var l=this.searchPageModule=new JIRA.Issues.SearchPageModule({},{initialIssueTableState:w.initialIssueTableStatea});l.registerViewContainers({issueContainer:k.$issueContainer,searchContainer:k.$searchContainer});var p=this.searchHeaderModule=new JIRA.Issues.SearchHeaderModule({searchPageModule:l});var m=new JIRA.Issues.FilterModule({searchPageModule:l,systemFilters:l.addOwnerToSystemFilters(w.systemFilters)});var n=this.fullScreenIssue.searchContainer.find("form.navigator-search");var r=JIRA.Components.Query.create({el:n,searchers:w.initialSearcherCollectionState,preferredSearchMode:e.get("user.search.mode"),layoutSwitcher:true,autocompleteEnabled:e.getBoolean("autocomplete-enabled"),basicAutoUpdate:e.getBoolean("hasCriteriaAutoUpdate")});a.bind(JIRA.Events.ISSUE_TABLE_REORDER,function(x){if(!JIRA.Issues.Application.request("issueEditor:canDismissComment")){x.preventDefault()}});this.layoutSwitcherView=new JIRA.Issues.LayoutSwitcherView({searchPageModule:l});var u=this.fullScreenIssue.searchContainer.find("#layout-switcher-toggle");this.layoutSwitcherView.setElement(u).render();var q=JIRA.Issues.Application.request("issueEditor");JIRA.Issues.Application.on("issueEditor:refineViewer",function(x){x.preventDefault();JIRA.Issues.Application.execute("issueEditor:updateIssueWithQuery",x.query)});JIRA.Issues.Application.commands.setHandler("returnToSearch",function(){JIRA.Issues.Application.execute("issueEditor:close")});JIRA.Issues.FocusShifter.init();var t=q.viewIssueData;var s=new JIRA.Issues.IssueSearchManager({initialIssueTableState:w.initialIssueTableState,initialIssueIds:w.initialIssueIds});var o=new JIRA.Issues.SearchModule({searchPageModule:l,queryModule:r,issueSearchManager:s,initialSelectedIssue:w.initialSelectedIssue});var i=new JIRA.Issues.Cache.IssueCacheManager({searchResults:o.getResults(),viewIssueData:t});this.fullScreenIssue.registerIssueCacheManager(i);var j=this.fullScreenIssue.searchContainer.find(".saved-search-selector");l.registerSearch(o);l.registerSearchHeaderModule(p);l.registerFilterModule(m);l.registerQueryModule(r);l.registerFullScreenIssue(k.fullScreenIssue);l.registerIssueSearchManager(s);l.registerIssueCacheManager(i);l.registerLayoutSwitcher(this.layoutSwitcherView);p.registerSearch(o);p.createToolsView(j);if(w.standaloneIssue){l.standalone=true}JIRA.Issues.enhanceLinks.registerSearchPageModule(l);JIRA.Issues.dialogCleaner();JIRA.Issues.Api.initialize({searchPageModule:l});JIRA.Issues.overrideIssueDialogs({getIssueId:c.bind(l.getEffectiveIssueId,l),isNavigator:true,updateIssue:function(x){var y=JIRA.Issues.Utils.getUpdateCommandForDialog(x);return l.updateIssue(y)}});h.initialize();f.initialize();g(document).keydown(function(z){if(z.isDefaultPrevented()){return}var B=g("div.aui-blanket[aria-hidden='true']").length>0;var x=(z.which===g.ui.keyCode.ENTER||z.which===g.ui.keyCode.LEFT||z.which===g.ui.keyCode.UP||z.which===g.ui.keyCode.RIGHT||z.which===g.ui.keyCode.DOWN);if(!B&&x){var y=g(z.target);var A=y.is(":not(:input)");if(y==null||A){if(z.which===g.ui.keyCode.ENTER){if(y==null||y.is(":not(a)")){JIRA.Issues.Api.viewSelectedIssue()}}else{if(z.which===g.ui.keyCode.LEFT){l.focusIssueList()}else{if(z.which===g.ui.keyCode.RIGHT){l.focusIssueEditor()}else{if(z.which===g.ui.keyCode.UP){if(l.handleUp()){z.preventDefault()}}else{if(z.which===g.ui.keyCode.DOWN){if(l.handleDown()){z.preventDefault()}}}}}}}}});this.searchResults=o.getResults();this.searchPageModule.on("change",b);this.searchResults.on("change",b);this.searchResults.getSelectedIssue().on("change",b);return this};function b(){var i=JIRA.Issues.LoginUtils.redirectUrlToCurrent();g(".login-link").attr("href",i)}}(window.require));(function(a){var d=a("jquery");var c=a("jira/message");AJS.namespace("JIRA.Issues.GlobalIssueNavCreator");JIRA.Issues.GlobalIssueNavCreator.create=function(h,g){var k=JIRA.Issues.IssueNavCreator.create(h,g);var i=k.searchPageModule.filterModule;var l=k.fullScreenIssue.searchContainer.find(".navigator-sidebar");var e=k.fullScreenIssue.searchContainer.find("#search-header-view");i.createView({$filterPanelEl:l});i.filtersComponent.showFilterHeader({el:e,model:k.searchPageModule.getFilter(),isEdited:k.searchPageModule.isDirty()});var f=d("#quicksearch-message");if(f.length){var j=c.showWarningMsg(f.find("p").html(),{closeable:true});d("a",j).click(function(){j.remove()})}return k};JIRA.Issues.GlobalIssueNavCreator.readInitialData=function b(){var j={};var f=d(".navigator-content");j.initialIssueTableState=f.data("issue-table-model-state");if(j.initialIssueTableState&&!j.initialIssueTableState.table){var k=d("<div></div>").append(f.children().clone());j.initialIssueTableState.issueTable.table=k.html()}j.initialIssueIds=AJS.$("#stableSearchIds").data("ids");j.initialSelectedIssue=f.data("selected-issue");j.initialSearcherCollectionState=d.parseJSON(d("#criteriaJson").text());var h=a("jira/components/issueviewer/services/darkfeatures");var i=h.HTTP_SESSIONS_DISABLED.enabled();if(i){var e=a("jira/components/search/latestStorage");var g=e.get();if(g&&(g.jql||g.filter)){j.initialSessionSearchState=g}if(!j.initialSessionSearchState){j.initialSessionSearchState=f.data("session-search-state")}}else{j.initialSessionSearchState=f.data("session-search-state")}j.systemFilters=d.parseJSON(d("#systemFiltersJson").text());return j}})(window.require);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'lib/backbone.queryparams.js' */
/*! THIS FILE HAS BEEN MODIFIED BY ATLASSIAN, SEE https://github.com/jhudson8/backbone-query-parameters/pull/63/files */
(function(a,b){if(typeof exports==="object"&&a.require){module.exports=b(require("underscore"),require("backbone"))}else{if(typeof define==="function"&&define.amd){define(["underscore","backbone"],function(c,d){return b(c||a._,d||a.Backbone)})}else{b(_,Backbone)}}}(this,function(q,b){var i=/^\?(.*)/,g=/\((.*?)\)/g,e=/(\(\?)?:\w+/g,o=/\*\w+/g,d=/[\-{}\[\]+?.,\\\^$|#\s]/g,h=/^([^\?]*)/,k=/[\:\*]([^\:\?\/]+)/g,j=/^[#\/]|\s+$/g,c=/\/$/;b.Router.arrayValueSplit="|";var f=function(u,t){if(u==null){if(this._hasPushState||!this._wantsHashChange||t){u=this.location.pathname;var s=this.root.replace(c,"");var v=this.location.search;if(!u.indexOf(s)){u=u.substr(s.length)}if(v){u+=v}}else{u=this.getHash()}}return u.replace(j,"")};function l(u,t,s){q.each(Array.prototype.slice.call(arguments,2),function(v){Object.defineProperty(t,v,{get:function(){return u[v]},set:function(w){u[v]=w}})})}l.isSupported=(function(){try{Object.defineProperty({},"x",{});return true}catch(s){return false}})();function a(u){var s=u.location,t={};l(s,t,"assign","ancestorOrigins","origin","hash","search","pathname","port","hostname","host","protocol","href","reload");t.replace=function(){s.replace(u.root+"#"+u.fragment)};t.unPatch=function(){return u.location=s};u.location=t}function r(u){var s=u.history,t={};l(s,t,"length","state","back","forward","go","pushState");t.replaceState=function(w,x,v){v=u.root+u.fragment;return s.replaceState(w,x,v)};t.unPatch=function(){u.history=s};u.history=t}var m=b.History.prototype.start,n=b.History.prototype.loadUrl;q.extend(b.History.prototype,{getFragment:f,getQueryParameters:function(u,s){u=f.apply(this,arguments);var w=u.replace(h,"");var t=w.match(i);if(t){w=t[1];var v={};p(w,function(x,y){y=y.replace(/\+/g,"%20");y=decodeURIComponent(y);if(!v[x]){v[x]=y}else{if(q.isString(v[x])){v[x]=[v[x],y]}else{v[x].push(y)}}});return v}else{return{}}},start:function(){if(l.isSupported){a(this);r(this)}try{return m.apply(this,arguments)}finally{this.location.unPatch&&this.location.unPatch();this.history.unPatch&&this.history.unPatch()}},loadUrl:function(){this.location&&this.location.unPatch&&this.location.unPatch();this.history&&this.history.unPatch&&this.history.unPatch();return n.apply(this,arguments)}});q.extend(b.Router.prototype,{initialize:function(s){this.encodedSplatParts=s&&s.encodedSplatParts},getFragment:f,_routeToRegExp:function(t){var u=(o.exec(t)||{index:-1}),s=(e.exec(t)||{index:-1}),w=t.match(k)||[];t=t.replace(d,"\\$&").replace(g,"(?:$1)?").replace(e,function(y,x){return x?y:"([^\\/\\?]+)"}).replace(o,"([^??]*?)");t+="(\\?.*)?";var v=new RegExp("^"+t+"$");if(u.index>=0){if(s>=0){v.splatMatch=u.index-s.index}else{v.splatMatch=-1}}v.paramNames=q.map(w,function(x){return x.substring(1)});v.namedParameters=this.namedParameters;return v},_extractParameters:function(A,y){var u=A.exec(y).slice(1),z={};if(u.length>0&&q.isUndefined(u[u.length-1])){u.splice(u.length-1,1)}var x=u.length&&u[u.length-1]&&u[u.length-1].match(i);if(x){var s=x[1];var w={};if(s){var B=this;p(s,function(C,D){B._setParamValue(C,D,w)})}u[u.length-1]=w;q.extend(z,w)}var t=u.length;if(A.splatMatch&&this.encodedSplatParts){if(A.splatMatch<0){return u}else{t=t-1}}for(var v=0;v<t;v++){if(q.isString(u[v])){u[v]=decodeURIComponent(u[v]);if(A.paramNames&&A.paramNames.length>=v-1){z[A.paramNames[v]]=u[v]}}}return(b.Router.namedParameters||A.namedParameters)?[z]:u},_setParamValue:function(u,x,w){u=u.replace("[]","");var y=u.split(".");var v=w;for(var t=0;t<y.length;t++){var s=y[t];if(t===y.length-1){v[s]=this._decodeParamValue(x,v[s])}else{v=v[s]=v[s]||{}}}},_decodeParamValue:function(v,u){v=v.replace(/\+/g,"%20");var w=b.Router.arrayValueSplit;if(w&&v.indexOf(w)>=0){var s=v.split(w);for(var t=s.length-1;t>=0;t--){if(!s[t]){s.splice(t,1)}else{s[t]=decodeURIComponent(s[t])}}return s}v=decodeURIComponent(v);if(!u){return v}else{if(q.isArray(u)){u.push(v);return u}else{return[u,v]}}},toFragment:function(t,s){if(s){if(!q.isString(s)){s=this._toQueryString(s)}if(s){t+="?"+s}}return t},_toQueryString:function(u,s){var B=b.Router.arrayValueSplit;function w(D){return String(D).replace(B,encodeURIComponent(B))}if(!u){return""}s=s||"";var z="";for(var t in u){var y=u[t];if(q.isString(y)||q.isNumber(y)||q.isBoolean(y)||q.isDate(y)){y=this._toQueryParam(y);if(q.isBoolean(y)||q.isNumber(y)||q.isString(y)||y){z+=(z?"&":"")+this._toQueryParamName(t,s)+"="+w(encodeURIComponent(y))}}else{if(q.isArray(y)){var A="";for(var x=0;x<y.length;x++){var v=this._toQueryParam(y[x]);if(q.isBoolean(v)||v!==null){A+=B+w(v)}}if(A){z+=(z?"&":"")+this._toQueryParamName(t,s)+"="+A}}else{var C=this._toQueryString(y,this._toQueryParamName(t,s,true));if(C){z+=(z?"&":"")+C}}}}return z},_toQueryParamName:function(s,u,t){return(u+s+(t?".":""))},_toQueryParam:function(s){if(q.isNull(s)||q.isUndefined(s)){return null}return s}});function p(u,t){var s=u.split("&");q.each(s,function(w){var v=w.split("=");t(v.shift(),v.join("="))})}}));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/ScrollIntoView.js' */
(function(){var a=jQuery.fn.scrollIntoView;JIRA.Issues.overrideScrollIntoViewForSplit=function(){jQuery.fn.scrollIntoView=jQuery.fn.scrollIntoViewForAuto};JIRA.Issues.restoreScrollIntoViewForNormal=function(){jQuery.fn.scrollIntoView=a}})();;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/IssueNavFeatures.js' */
define("jira/issues/feature",["require"],function(b){var a=b("jira/ajs/dark-features");return Class.extend({init:function(c){this.featureKey=c},enabled:function(){return a.isEnabled(this.featureKey)}})});define("jira/issues/dark-features",["require"],function(b){var a=b("jira/issues/feature");return{NO_PREFETCH:new a("ka.NO_PREFETCH"),PROJECT_SHORTCUTS:new a("rotp.project.shortcuts")}});AJS.namespace("JIRA.Issues.Feature",null,require("jira/issues/feature"));AJS.namespace("JIRA.Issues.DarkFeatures",null,require("jira/issues/dark-features"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/analytics.js' */
(function(){AJS.namespace("JIRA.Issues.AnalyticsLoader");JIRA.Issues.AnalyticsLoader={init:function(){JIRA.Issues.Application.execute("analytics:registerEvent",["kickass.search","kickass.switchtobasic","kickass.switchtoadvanced","kickass.returntosearch","kickass.editField","kickass.editMultipleFields","kickass.editClientDuration","kickass.editClientCancelledDuration","kickass.editSaveonserverDuration","kickass.issueLoadDuration","kickass.openIssueFromTable","kickass.issueTotalSaveDuration","kickass.focusshifteropened","kickass.queryTooComplexSwitchToAdvanced","kickass.basicModeCriteriaCountWhenSearching","kickass.criteriaAutoUpdateEnabled","kickass.issueTableRefresh","kickass.conditionalLoading","kickass.viewIssue","kickass.inlineEdit","kickass.inlineEdit.start","kickass.inlineEdit.cancel","kickass.viewIssueNavigationPageReload","kickass.viewIssueNavigationRequested"]);JIRA.Issues.Application.execute("analytics:trigger","kickass.criteriaAutoUpdateEnabled",{enabled:AJS.Meta.getBoolean("hasCriteriaAutoUpdate")});JIRA.Issues.Application.execute("analytics:registerTracker",[{name:"kickass.clickedOnSystemFilter",selector:".system-filters a",handler:b},{name:"kickass.clickedOnFavouriteFilter",selector:".favourite-filters a.filter-link"},{name:"kickass.clickedOnFavouriteFilterActionsMenu",selector:".favourite-filters a.filter-actions"},{name:"kickass.renamedFilterFromActionsMenu",selector:"#rename-filter-form",type:"submit"},{name:"kickass.deletedFilterFromActionsMenu",selector:"#delete-filter-form",type:"submit"},{name:"kickass.copiedFilterFromActionsMenu",selector:"#copy-filter-dialog form",type:"submit",handler:f},{name:"kickass.removeFilterFromFavouritesViaActionsMenu",selector:".unfavourite-filter"},{name:"kickass.issue-navigator.jql-search",type:"jql-search-requested",handler:function(){JIRA.Issues.Application.execute("analytics:trigger",this.name)}},{name:"kickass.saveACopyOfFilterFromSearchHeader",selector:"#save-filter-dialog form",type:"submit",handler:f},{name:"kickass.filterChangesSaved",selector:".header-section-primary .save-changes"},{name:"kickass.clickedOnShowFiltersDetailsDropDown",selector:".show-filter-details",type:"mousedown"},{name:"kickass.clickedOnChangePermissions",selector:".filter-permissions .change-permissions"},{name:"kickass.clickedOnUnfavouriteStar",selector:".filter-operations .fav-link.aui-iconfont-unstar"},{name:"kickass.clickedOnSaveFilterAs",selector:".save-as-new-filter",handler:a},{name:"kickass.clickedOnPagniationLink",selector:".pagination a",handler:c},{name:"kickass.inbrowsersearch",type:"keydown",handler:e},{name:"kickass.reloadPage",type:"keydown",handler:g},{name:"kickass.moreCriteriaNewlySelectedCount",type:AJS.InlineLayer.EVENTS.beforeHide,handler:d},{name:"kickass.createdNewSearch",selector:".new-search"},{name:"kickass.sortByColumn",selector:".sortable",handler:i},{name:"kickass.findFiltersClicked",selector:".find-filters"}]);function b(k){var j=AJS.$(k.target);JIRA.Issues.Application.execute("analytics:trigger",this.name,{name:h(j.attr("href"))})}function a(){var k=AJS.$(".system-filters a.active").length===1;var j=AJS.$(".favourite-filters a.active").length===1;JIRA.Issues.Application.execute("analytics:trigger",this.name,{systemFilterSelected:k,favouriteFilterSelected:j})}function h(j){var k=parseUri(j);return k.queryKey.filter}function c(l){var k=AJS.$(l.target);var j=k.text();JIRA.Issues.Application.execute("analytics:trigger",this.name,{page:j})}function e(j){if(j.keyCode===70&&(j.metaKey||j.ctrlKey)){JIRA.Issues.Application.execute("analytics:trigger",this.name)}}function g(j){if(j.keyCode===82&&(j.metaKey||j.ctrlKey)){JIRA.Issues.Application.execute("analytics:trigger",this.name)}}function d(m,k){if(k&&k.find("#criteria-multi-select").length){var l=AJS.$("#criteria-multi-select");var j=l.find("input[checked]").length-l.find(".selected-group input[checked]").length;JIRA.Issues.Application.execute("analytics:trigger",this.name,{count:j})}}function i(j){var k=jQuery(j.target);if(!k.is("th")){k=k.parent("th")}if(k.length){JIRA.Issues.Application.execute("analytics:trigger",this.name,{direction:k.hasClass("ascending")?"descending":"ascending",column:k.data("id")})}}function f(){var j=AJS.$.find('[data-analytics-id="empty-jql-warning"]').length===1;JIRA.Issues.Application.execute("analytics:trigger",this.name,{isJqlEmpty:j})}JIRA.Issues.Application.on("issueEditor:loadComplete",function(k,l){if(!l.fromCache){var j=l.issueKey;JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssue",{issueId:k.getId(),loadReason:l.loadReason,duration:l.duration,loadedFromDom:false,projectId:k.getProjectId(),projectType:k.getProjectType()||"unknown",issueMatchesProjectContext:j==null?false:j.indexOf(k.getProjectKey()+"-")===0})}JIRA.Issues.Application.execute("analytics:trigger","kickass.issueLoadDuration",{issueId:l.issueId,duration:l.duration,loadReason:l.loadReason,fromCache:l.fromCache})});JIRA.Issues.Application.on("issueEditor:render",function(l,k){if(k.loadedFromDom){var j=k.issueKey;JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssue",{issueId:k.issueId,loadedFromDom:true,projectId:k.projectId,projectType:k.projectType||"unknown",issueMatchesProjectContext:j==null?false:j.indexOf(k.projectKey+"-")===0})}});JIRA.Issues.Application.on("issueEditor:saveSuccess",function(j){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit",{issueId:j.issueId,savedFieldIds:j.savedFieldIds,savedFieldTypes:j.savedFieldTypes,duration:j.duration})});JIRA.Issues.Application.on("issueEditor:editField",function(j){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit.start",{issueId:j.issueId,fieldId:j.fieldId,fieldType:j.fieldType})});JIRA.Issues.Application.on("issueEditor:editFieldCancel",function(j){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit.cancel",{issueId:j.issueId,fieldId:j.fieldId,fieldType:j.fieldType})})}}}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/Stalker.js' */
(function(b){var a;b.fn.stalker=function(d){var e=this;var h;if(!e.length||e.data("stalker-applied")){return}e.data("stalker-applied",true);d=d||{};d.offsetTop=d.offsetTop||0;function g(){if(a){e.css({position:"",top:"",left:"",right:"",height:""}).removeClass("detached");e.unbind("stalkerHeightUpdated",j);a.remove();a=null}}function f(){if(!a){a=jQuery("<div class='stalker-placeholder' />").css("visibility","hidden").addClass(e[0].className).height(e.outerHeight()).width(e.outerWidth()).insertBefore(e);e.bind("stalkerHeightUpdated",j);e.css({position:"fixed",top:d.offsetTop,left:h.left,right:h.right}).addClass("detached");if(typeof c.timeout==="undefined"){c()}}}function j(){a.height(e.height())}function i(){if(!e.is(":visible")){return}if(!h){h=e.offset()}if(b(window).scrollTop()+d.offsetTop>=h.top){f()}else{g()}}function c(){if(a){i();c.timeout=setTimeout(c,250)}else{delete c.timeout}}b(window).bind("resize scroll",i);i();return{unstalk:function(){g();b(window).unbind("resize scroll",i)}}}})(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/Sidebar.js' */
/*!
 * Modified by Atlassian
 *
 * jQuery UI Sidebar
 * http://jqueryui.com
 *
 * Depends:
 *   jquery.ui.widget.js
 */
(function(a){a.widget("ui.sidebar",{version:"0.1",options:{minWidth:function(b){return 50},maxWidth:function(b){return window.innerWidth},resize:a.noop,easeOff:0},_create:function(){_.bindAll(this,"_handleDrag","_persist","_setContainment","_setHandlePosition","updatePosition");if(this.options.easeOff){this.updatePosition=_.debounce(this.updatePosition,this.options.easeOff)}if(!this.options.id){console.error("ui.sidebar: You must specify an id")}this._addHandle();this._restore();a(window).resize(_.debounce(this.updatePosition,30))},_restore:function(){if(window.localStorage){var b=localStorage.getItem("ui.sidebar."+this.options.id);if(b){this._setWidth(b)}}},_persist:function(){if(window.localStorage){localStorage.setItem("ui.sidebar."+this.options.id,this.element.outerWidth())}},_setContainment:function(){var b=window.innerHeight;this._elementLeft=this.element.offset().left;this._minLeft=this._elementLeft+this.options.minWidth(this);this._maxLeft=Math.max(this._minLeft,this._elementLeft+this.options.maxWidth(this));this.handle.draggable({containment:[this._minLeft,b,this._maxLeft,b]})},_handleDrag:function(d,b){var c=b.position.left-this._elementLeft;this._setWidth(c,true)},_setWidth:function(e,d){if(!d){var c=this.options.maxWidth(this);var b=this.options.minWidth(this);if(e>c){e=c}else{if(e<b){e=b}}}e-=this.element.outerWidth()-this.element.width();this.element.width(e);this.options.resize(e)},_addHandle:function(){var b=document.createElement("div");b.setAttribute("class","ui-sidebar");this.handle=a(b).appendTo(this.element);this.handle.draggable({axis:"x",drag:this._handleDrag,stop:this._persist});this.handle.mousedown(this._setContainment);_.defer(this._setHandlePosition)},_setHandlePosition:function(){this._setContainment();if(this._minLeft===this._maxLeft){this.handle.hide()}else{var c=this.element.offset();var b=c.left+this.element.outerWidth();this.handle.css({top:c.top,left:b,height:this.element.outerHeight()}).show()}},updatePosition:function(){this._setHandlePosition();this._setWidth(this.handle.offset().left-this._elementLeft-window.pageXOffset);this._persist()}})})(jQuery);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/PopoutSidebar.js' */
(function(d){var c='<span class="aui-icon aui-icon-small aui-iconfont-chevron-double-right"></span>';var e='<span class="aui-icon aui-icon-small aui-iconfont-chevron-double-left"></span>';var b=require("jira/featureflags/feature-manager");var a=b.isFeatureEnabled("jira.spectrum.m1");d.widget("ui.popoutSidebar",{version:"0.1",options:{renderExpanded:d.noop,renderCollapsed:d.noop,persist:d.noop,collapsedWidth:30,expandedWidth:200,minWidth:function(){return 200},maxWidth:function(){return 500},resize:d.noop,dockText:"Dock",undockText:"Undock",dockTitle:"Dock the filter panel so you can always see the list of filters",undockTitle:"Undock the filter panel so it is hidden when not being focused"},CLASS_NAMES:{popout:"ui-popout",placeholder:"ui-popout-placeholder",detached:"ui-popout-detached",expanding:"ui-popout-expanding",expanded:"ui-popout-expanded",collapsed:"ui-popout-collapsed",collapsing:"ui-popout-collapsing"},_create:function(){_.bindAll(this,"_handleDropdown","_registerMousePos","collapse","expand","updateOffsets");if(!this.element.data("popoutsidebar")){this.element.data("popoutsidebar",true);this.element.bind("updateOffsets.popout",this.updateOffsets);this.element.delegate(".ui-dock","click",_.bind(function(f){this.dock(true);f.preventDefault()},this));this.element.delegate(".ui-undock","click",_.bind(function(f){this.undock(true);f.preventDefault()},this));this.isDocked=this.options.isDocked;this.expandedWidth=this.options.expandedWidth;this.useTransitions=!jQuery.browser.msie||parseInt(jQuery.browser.version,10)>8;if(this.options.isDocked){this._renderUnDock()}else{this._enableUndockedMode()}this.updateOffsets()}},_init:function(){if(this.options.isDocked){this._setupHandle()}},_persistState:function(){this.expandedWidth=this.element.outerWidth();this.options.persist(this.isDocked,this.expandedWidth)},_setContainment:function(){var f=window.innerHeight;this._elementLeft=this.element.offset().left;this._minLeft=this._elementLeft+this.options.minWidth();this._maxLeft=Math.max(this._minLeft,this._elementLeft+this.options.maxWidth());this.handle.draggable({containment:[this._minLeft,f,this._maxLeft,f]});this.handle.css("position","absolute")},_setWidth:function(f){f=Math.min(Math.max(this.options.minWidth(),f),this.options.maxWidth());this.element.width(f)},_setupHandle:function(){this._getContents();this.handle=jQuery("<div />").addClass("ui-sidebar").appendTo(this.element);this._setWidth(this.expandedWidth);this._setHandlePosition();this.handle.mousedown(_.bind(this._setContainment,this));this.handle.draggable({axis:"x",drag:_.bind(this._handleDrag,this),stop:_.bind(this._persistState,this)})},_setHandlePosition:function(){this._setContainment();if(this._minLeft===this._maxLeft){this.handle.hide()}else{var f=this.element.offset();var g=f.left+this.element.outerWidth();this.handle.css({left:g}).show()}},_handleDrag:function(h,f){var g=f.position.left;this._setWidth(g);this.options.resize()},_getUndockedClasses:function(){return[this.CLASS_NAMES.detached].join(" ")},_getUndockedStates:function(){return[this.CLASS_NAMES.collapsed,this.CLASS_NAMES.collapsing,this.CLASS_NAMES.expanding,this.CLASS_NAMES.expanded].join(" ")},_setUndockedState:function(f){this.element.removeClass(this._getUndockedStates());this.element.addClass(f)},unbindHoverIntent:function(){this.element.off("mouseleave mouseenter mousemove");this.element[0].hoverIntent_s=0},bindHoverIntent:function(){this.element.hoverIntent({interval:40,over:this.expand,out:this.collapse,sensitivity:8})},_unbindUnDockedEvents:function(){this.unbindHoverIntent();JIRA.unbind(AJS.InlineLayer.EVENTS.show,this._handleDropdown);d(window).unbind("scroll",this.updateOffsets)},_bindUnDockedEvents:function(f){this.bindHoverIntent();d(window).scroll(this.updateOffsets);this.element[0].hoverIntent_s=f?1:0},isUndocked:function(){return this.element.hasClass(this.CLASS_NAMES.detached)},_registerMousePos:function(f){this._clientX=f.clientX;this._clientY=f.clientY},_handleDropdown:function(){d(document).mousemove(this._registerMousePos);if(this.isUndocked()&&AJS.InlineLayer.current.offsetTarget().closest(this.element).size()){this.unbindHoverIntent();JIRA.one(AJS.InlineLayer.EVENTS.hide,_.bind(function(){_.defer(_.bind(function(){if(!AJS.InlineLayer.current){if(JIRA.Dialog.current||this._clientX>this.element.offset().left+this.element.outerWidth()){this.collapse(JIRA.Dialog.current?false:true);this.bindHoverIntent()}else{this.bindHoverIntent();this.element[0].hoverIntent_s=1}d(document).unbind("mousemove",this._registerMousePos)}},this))},this))}},updateOffsets:function(j){if(this.element.is(":visible")){var m=window.innerHeight;var h=d("body").height()>m;if(h){this.element.addClass("ui-sidebar-scrollable")}else{this.element.removeClass("ui-sidebar-scrollable")}if(this.isUndocked()){var g=this._getPlaceholder().offset().top;var k=jQuery(window).scrollTop();var l=Math.max(g-k,0);var f=h?m-l:Math.min(this._getPlaceholder().outerHeight(),m-this._getPlaceholder().offset().top);var i={top:l,height:f};if(j){i.width=j}this.element.css(i)}}},_renderUnDock:function(){if(this.isDocked&&!this.element.find(".ui-undock").size()){this.element.find(".ui-dock").remove();this._renderDockingLink(this.options.undockText,this.options.undockTitle,"ui-undock",e)}},_renderDock:function(){if(this.isUndocked()&&!this.element.find(".ui-dock").size()){this.element.find(".ui-undock").remove();this._renderDockingLink(this.options.dockText,this.options.dockTitle,"ui-dock",c)}},_renderDockingLink:function(j,i,f,g){if(!g&&a){g=d("<span class='icon'/>").text(j)}else{g=d(g).text(j)}var h=d("<a class='aui-button aui-button-subtle' href='#'/>").addClass(f).append(g).attr("title",i);this.dockTipsy=new JIRA.Issues.Tipsy({el:h});this._getContents().find(this.options.toggleTarget).append(h)},renderDockState:function(){if(this.isDocked){this._renderUnDock()}else{this._renderDock()}},_enableUndockedMode:function(f){this.element.addClass(this.CLASS_NAMES.popout);if(!this.isUndocked()){this._getPlaceholder().insertBefore(this.element);this.element.addClass(this.CLASS_NAMES.detached).addClass(this.CLASS_NAMES.collapsed).appendTo("body")}this.updateOffsets();this._bindUnDockedEvents(f);JIRA.bind(AJS.InlineLayer.EVENTS.show,this._handleDropdown)},_getPlaceholder:function(){if(!this.placeholder){this.placeholder=d("<div class='navigator-sidebar collapsed' />")}return this.placeholder},toggle:function(){if(!this.isExpanding()&&!this.isCollapsing()){if(this.isDocked){this.undock(false)}else{this.dock(false)}}},undock:function(f){if(!this.isUndocked()){this.isDocked=false;if(this.dockTipsy){this.dockTipsy.remove();this.dockTipsy=null}this._persistState();this._getPlaceholder().insertBefore(this.element);this.element.addClass(this._getUndockedClasses()+" "+this.CLASS_NAMES.expanded).appendTo("body");if(f!==false&&this.useTransitions){this._getPlaceholder().width(this.expandedWidth).animate({width:this.options.collapsedWidth},200)}else{this._getPlaceholder().width(this.options.collapsedWidth)}this.updateOffsets(this.expandedWidth);this.collapse(f,_.bind(function(){this._enableUndockedMode(false)},this))}},dock:function(f){if(this.isUndocked()){this.isDocked=true;if(this.dockTipsy){this.dockTipsy.remove();this.dockTipsy=null}this._unbindUnDockedEvents();this._persistState();if(f!==false&&this.useTransitions){this._getPlaceholder().animate({width:this.expandedWidth},200,_.bind(this._dockingComplete,this))}else{this._dockingComplete()}}},_dockingComplete:function(){this.element.removeClass(this._getUndockedClasses());this.element.removeClass(this._getUndockedStates());this.element.css({height:"",width:"",top:""}).insertBefore(this._getPlaceholder());this._getPlaceholder().remove();this.options.renderExpanded(this.element);this._setupHandle();this._renderUnDock();JIRA.Issues.triggerHorizontalResize()},_getContents:function(){if(!this.element.find(".ui-sidebar-content").size()){this.element.wrapInner("<div class='ui-sidebar-content' />")}return this.element.find(".ui-sidebar-content")},expand:function(f){if(this.isCollapsed()){this.updateOffsets();if(f!==false&&this.useTransitions){this._setUndockedState(this.CLASS_NAMES.expanding);this.element.animate({width:this.expandedWidth},150,_.bind(function(){this._setUndockedState(this.CLASS_NAMES.expanded);this.options.renderExpanded(this.element);this._renderDock();this._getContents().css("opacity",0).animate({opacity:1},200,_.bind(this._expandingComplete,this))},this))}else{this.element.css("width",this.expandedWidth);this.options.renderExpanded(this.element);this._renderDock();this._expandingComplete()}}else{if(this.isCollapsing()){this.activityAfterTransition="expand"}else{if(this.isExpanding()){this.activityAfterTransition=null}}}},_expandingComplete:function(){JIRA.Issues.triggerHorizontalResize();this._bindUnDockedEvents(true);this._setUndockedState(this.CLASS_NAMES.expanded);if(this.activityAfterTransition==="collapse"){this.activityAfterTransition=null;this.collapse(true)}},collapse:function(f,g){if(this.isExpanded()){if(f!==false&&this.useTransitions){this._setUndockedState(this.CLASS_NAMES.collapsing);this._getContents().animate({opacity:0},150,_.bind(function(){this.options.renderCollapsed(this.element);this.element.width(this.expandedWidth);this.element.animate({width:this.options.collapsedWidth},150,_.bind(function(){this._collapsingComplete(g)},this))},this))}else{this.options.renderCollapsed(this.element);this.element.width("");this._collapsingComplete(g)}}else{if(this.isExpanding()){this.activityAfterTransition="collapse"}else{if(this.isCollapsing()){this.activityAfterTransition=null}}}},_collapsingComplete:function(f){this._setUndockedState(this.CLASS_NAMES.collapsed);JIRA.Issues.triggerHorizontalResize();this._bindUnDockedEvents(false);if(this.activityAfterTransition==="expand"){this.activityAfterTransition=null;this.expand(true)}if(typeof f==="function"){f()}},isCollapsed:function(){return this.element.hasClass(this.CLASS_NAMES.collapsed)},isCollapsing:function(){return this.element.hasClass(this.CLASS_NAMES.collapsing)},isExpanded:function(){return this.element.hasClass(this.CLASS_NAMES.expanded)},isExpanding:function(){return this.element.hasClass(this.CLASS_NAMES.expanding)}})}(jQuery));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/HtmlCatchExceptions.js' */
(function(b){var a=function(c){return function(d){try{c.apply(this,arguments)}catch(f){if(console&&console.error&&typeof d==="string"){console.error("Error while evaluating HTML: "+f.message+", in: ",d)}}return this}};b.fn.htmlCatchExceptions=a(b.fn.html);b.fn.appendCatchExceptions=a(b.fn.append);b.fn.prependCatchExceptions=a(b.fn.prepend);b.catchExceptions=function(c){return b("<div>").htmlCatchExceptions(c).children()}})(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/mixin/SingleSelect.js' */
define("jira/issues/mixin/singleselect",function(){return{properties:["collection"],selectById:function(a){this.setSelected(this.getCollection().get(a))},selectAt:function(a){this.setSelected(this.getCollection().at(a))},clearSelection:function(){this.setSelected()},next:function(){var d=this.getSelected();var c=this.getCollection();if(!d){if(c.length>0){this.setSelected(c.first())}}else{var b=c.indexOf(d);var a=(b+1)%c.length;this.setSelected(c.at(a))}},prev:function(){var d=this.getSelected();var c=this.getCollection();if(!d){if(c.length>0){this.setSelected(c.last())}}else{var b=c.indexOf(d);var a=(b+c.length-1)%c.length;this.setSelected(c.at(a))}}}});AJS.namespace("JIRA.Issues.Mixin.SingleSelect",null,require("jira/issues/mixin/singleselect"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/DefaultMessageOptions.js' */
(function(){AJS.namespace("JIRA.Issues.getDefaultMessageOptions",window,function(){return{closeable:true,timeout:5}})}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/SessionTimedOutDialog.js' */
(function(){AJS.namespace("JIRA.Issues.SessionTimedOutDialog");JIRA.Issues.SessionTimedOutDialog={dialogHasShown:false,whiteList:["/secure/Search!Jql.jspa","/secure/SearchRendererEdit!Default.jspa","/rest/issueNav/1/issueTable","/rest/issueNav/latest","/rest/api/2/filter"],onRequestResponse:function(f,g,d){if(!this.dialogHasShown&&this.urlIsInWhiteList(d.url)){var b=JIRA.Issues.LoginUtils.loggedInUserName();var a=g.getResponseHeader("X-AUSERNAME");if(this.userHasChanged(b,a)){this.dialogHasShown=true;var c=new JIRA.FormDialog({content:AJS.$(JIRA.Templates.Issues.Util.anonymousErrorDialog({modifierKey:AJS.Navigator.modifierKey(),redirect:window.location.href.substring(window.location.href.indexOf(AJS.contextPath())+AJS.contextPath().length)}))});c.show()}}},userHasChanged:function(b,a){if(b===""&&a==="anonymous"){return false}if(b===""&&a&&a!=="anonymous"&&a!==""){return false}if(b!==""&&a==="anonymous"){return true}return false},urlIsInWhiteList:function(b){for(var c=0;c<this.whiteList.length;c++){var a=this.whiteList[c];if(b.indexOf(a)>-1){return true}}return false}};(function(a){a(document).ajaxComplete(function(c,d,b){JIRA.Issues.SessionTimedOutDialog.onRequestResponse(c,d,b)})})(AJS.$)}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/cache/IssueCacheManager.js' */
define("jira/issues/search/cache/cache-manager",["require"],function(b){var c=b("jira/issues/baseevented");var a=b("jira/issues/dark-features");return c.extend({initialize:function(d){this.searchResults=d.searchResults;this.viewIssueData=d.viewIssueData;this.searchResults.bind("issueDeleted",this._onIssueDeleted,this);this.searchResults.bind("nextIssueSelected",this._onNextIssueSelected,this);this.searchResults.bind("prevIssueSelected",this._onPrevIssueSelected,this);this._prefetchCandidate=null},prefetchIssues:function(){if(this._prefetchCandidate&&this._prefetchCandidate.key){this._prefetchIssue(this._prefetchCandidate.key);this._prefetchCandidate=null}},scheduleIssueToBePrefetched:function(d){this._prefetchCandidate=d},_onIssueDeleted:function(d){this.viewIssueData.remove(d.key)},_onNextIssueSelected:function(d){this._prefetchCandidate=d.nextNextIssue},_onPrevIssueSelected:function(d){this._prefetchCandidate=d.prevPrevIssue},_prefetchIssue:function(d){if(!a.NO_PREFETCH.enabled()){this.viewIssueData.get(d,false,{prefetch:true})}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/issue/SimpleIssue.js' */
define("jira/issues/search/issue/simple-issue",["require"],function(b){var a=b("jira/issues/basemodel");return a.extend({properties:["id","key"],defaults:{id:null,key:null},hasIssue:function(){return !!this.getId()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/issue/FullScreenIssue.js' */
define("jira/issues/search/issue/full-screen-issue",["require"],function(c){var e=c("jira/issues/libs/trace");var f=c("jira/issues/baseview");var a=c("jira/issues/application");var i=c("jira/util/events");var d=c("jira/util/events/types");var h=c("jira/util/events/reasons");var g=c("underscore");var j=c("jquery");var b=c("jira/issues/notifications");return f.extend({namedEvents:["issueHidden"],initialize:function(k){g.extend(this,k);g.bindAll(this,"onLoadComplete","showError");if(this.issueContainer.hasClass("hidden")){this.issueContainer.detach();this.issueContainer.removeClass("hidden")}if(this.searchContainer.hasClass("hidden")){this.searchContainer.detach();this.searchContainer.removeClass("hidden")}},bindSearchService:function(k){this.listenTo(k,{issueUpdated:function(n,l,m){if(m.action!=="inlineEdit"&&m.action!=="rowUpdate"){return this.updateIssue(m)}},selectedIssueChanged:function(l){if(l.hasIssue()){a.execute("issueEditor:abortPending");this.show({id:l.getId(),key:l.getKey(),pager:k.getPager()});this.updatePager(k.getPager())}else{if(this.isVisible()){this.hide();e("jira.returned.to.search");e("jira.psycho.returned.to.search");a.execute("analytics:trigger","kickass.returntosearch")}}}})},deactivate:function(){this.stopListening();if(this.active){if(this.stalker){this.stalker.unstalk()}a.off("issueEditor:loadComplete",this.onLoadComplete);a.off("issueEditor:loadError",this.showError);a.execute("issueEditor:abortPending");this.active=false}},activate:function(){if(!this.active){a.on("issueEditor:loadComplete",this.onLoadComplete);a.on("issueEditor:loadError",this.showError);this.active=true}},onLoadComplete:function(k,l){this.stalker=j(".js-stalker",this.issueContainer).stalker();this._makeIssueVisible();if(l.isNewIssue){this._scrollToTop()}},_makeIssueVisible:function(){a.execute("issueEditor:beforeShow");this._setBodyClasses({error:false,issue:true,search:true});if(!this.isVisible()){this.issueContainer.insertBefore(this.searchContainer);this.searchContainer.detach();e("jira.psycho.issue.refreshed",{id:a.request("issueEditor:getIssueId")});i.trigger(d.NEW_CONTENT_ADDED,[this.issueContainer,h.pageLoad])}},updateIssue:function(m){var k;var l;l=m.key===a.request("issueEditor:getIssueKey");if(this.isVisible()){k=a.request("issueEditor:refreshIssue",m);k.done(function(){if(!l&&m.message){b(m.message,m.key)}})}else{k=new j.Deferred().resolve().promise()}return k},showError:function(){this._setBodyClasses({error:true,issue:false,search:false})},isVisible:function(){return this.issueContainer.closest("body").length>0},_scrollToTop:function(){j(window).scrollTop(0)},_setBodyClasses:function(k){j("body").toggleClass("page-type-message",k.error).toggleClass("navigator-issue-only",k.issue).toggleClass("page-type-navigator",k.search)},hide:function(){this._setBodyClasses({error:false,issue:false,search:true});if(this.isVisible()){this.searchContainer.insertBefore(this.issueContainer);this.issueContainer.detach();this.trigger("issueHidden")}},updatePager:function(k){a.execute("pager:update",k)},show:function(k){this.activate();a.execute("issueEditor:setContainer",this.issueContainer);return a.request("issueEditor:loadIssue",k).always(g.bind(function(){j(".js-stalker",this.issueContainer).stalker();this.updatePager(k.pager);if(this.issueCacheManager){this.issueCacheManager.prefetchIssues()}},this))},isLoading:function(){return a.request("issueEditor:isCurrentlyLoading")},registerIssueCacheManager:function(k){this.issueCacheManager=k}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/QueryStringParser.js' */
(function(){AJS.namespace("JIRA.Issues.QueryStringParser");JIRA.Issues.QueryStringParser={parser:/(?:^|&)([^&=]*)=?([^&]*)/g,parse:function(b){if(!b&&b!==0){return{}}b=""+b;if("?"===b.charAt(0)){b=b.substring(1)}var a={};b.replace(this.parser,function(d,c,f){var e=decodeURIComponent((f||"").replace(/\+/g," "));a[decodeURIComponent(c)]=e});return a}}}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/cache/namespace.js' */
AJS.namespace("JIRA.Issues.Cache.IssueCacheManager",null,require("jira/issues/search/cache/cache-manager"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/issue/namespace.js' */
AJS.namespace("JIRA.Issues.FullScreenIssue",null,require("jira/issues/search/issue/full-screen-issue"));AJS.namespace("JIRA.Issues.SimpleIssue",null,require("jira/issues/search/issue/simple-issue"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:viewissue', location = 'content/js/viewissue/util/FocusShifterService.js' */
(function(){AJS.namespace("JIRA.Issues.FocusShifter");JIRA.Issues.FocusShifter.init=function(){return JIRA.Shifter.register(function(){var b;if(JIRA.Issues.Api.issueIsVisible&&!JIRA.Issues.Api.issueIsVisible()){b=[]}else{var a=JIRA.Issues.Api.getFieldsOnSelectedIssue();b=a?JIRA.Issues.FocusShifter.getSuggestions(a):[]}return{id:"edit-fields",name:"Edit Fields",context:JIRA.Issue.getIssueKey(),weight:100,getSuggestions:function(){return new jQuery.Deferred().resolve(b)},onSelection:function(c){JIRA.Issues.Api.editFieldOnSelectedIssue(c)}}})};JIRA.Issues.FocusShifter.show=function(){JIRA.Shifter.show()};JIRA.Issues.FocusShifter.getSuggestions=function(a){return _.chain(a.models).filter(JIRA.Components.IssueEditor.Models.Field.IS_EDITABLE).filter(function(b){return b.id!=="comment"}).map(function(b){return{label:b.getLabel(),value:b.id}}).value()}}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:viewissue', location = 'content/js/viewissue/util/Overrides.js' */
(function(){JIRA.Messages.showMsgOnReload=function(b,a){JIRA.one(JIRA.Events.ISSUE_REFRESHED,function(){a.type=JIRA.Messages.Types[a.type];JIRA.Messages.showMsg(b,a)})}}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:viewissue', location = 'content/templates/util.soy' */
// This file was automatically generated from util.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issues.Util.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issues == 'undefined') { JIRA.Templates.Issues = {}; }
if (typeof JIRA.Templates.Issues.Util == 'undefined') { JIRA.Templates.Issues.Util = {}; }


JIRA.Templates.Issues.Util.simpleLink = function(opt_data, opt_ignored) {
  return '<a' + ((opt_data.link.id) ? ' id="' + soy.$$escapeHtml(opt_data.link.id) + '"' : '') + 'href="' + ((opt_data.link.href) ? soy.$$escapeHtml(opt_data.link.href) : '#') + '"' + ((opt_data.link.styleClass || opt_data.additionalStyleClass) ? 'class="' + soy.$$escapeHtml(opt_data.link.styleClass) + ((opt_data.additionalStyleClass) ? ' ' + soy.$$escapeHtml(opt_data.additionalStyleClass) : '') + '"' : '') + ((opt_data.link.title) ? 'title="' + soy.$$escapeHtml(opt_data.link.title) + '"' : '') + '><span>' + soy.$$escapeHtml(opt_data.link.label) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.Util.simpleLink.soyTemplateName = 'JIRA.Templates.Issues.Util.simpleLink';
}


JIRA.Templates.Issues.Util.issueAnchor = function(opt_data, opt_ignored) {
  return '<a class="issue-key" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issueKey) + '"> ' + soy.$$escapeHtml(opt_data.issueKey) + ' </a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.Util.issueAnchor.soyTemplateName = 'JIRA.Templates.Issues.Util.issueAnchor';
}


JIRA.Templates.Issues.Util.anonymousErrorDialog = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog-content"><div class="form-body"><h2 class="dialog-title">' + soy.$$escapeHtml("Session Expired") + '</h2>' + JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass: 'warning', messages: ["It looks like your session has timed out, or you have been logged out of Jira. You will need to log back in to continue."]}) + '</div><div class="buttons-container form-footer"><div class="buttons"><a accesskey="' + soy.$$escapeHtml("s") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",opt_data.modifierKey)) + '" class="aui-button submit" href="' + soy.$$escapeHtml("") + '/login.jsp?os_destination=' + soy.$$escapeHtml(opt_data.redirect) + '">' + soy.$$escapeHtml("Log in again") + '</a><a accesskey="' + soy.$$escapeHtml("`") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",opt_data.modifierKey)) + '" class="aui-button aui-button-link cancel">' + soy.$$escapeHtml("Ignore") + '</a></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.Util.anonymousErrorDialog.soyTemplateName = 'JIRA.Templates.Issues.Util.anonymousErrorDialog';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:viewissue', location = 'content/js/viewissue/IssueNavLoader.js' */
define("jira/issues/viewissue/issuenavloader",["jquery","jira/util/browser"],function(d,h){return{SPA_NAVIGATION_TIMEOUT:6*1000,stateChange:undefined,initialize:function a(i){this.issueNavOptions=i},requireIssueNav:function c(){var i=new d.Deferred();WRM.require(["wrc!com.atlassian.jira.jira-issue-nav-plugin:issuenav"],function(){i.resolve()});return i.promise()},loadIssueNav:function b(){JIRA.Issues.Application.on("navigation:stateChanged",this._onStateChanged,this);return this.requireIssueNav().then(function(){JIRA.Issues.GlobalIssueNavCreator.create(d(document),this.issueNavOptions)}.bind(this)).then(this._onIssueNavInitialized.bind(this))},_onIssueNavInitialized:function g(){if(this.stateChange){JIRA.Issues.Application.execute("navigation:updateState",this.stateChange,{replace:true,reset:true,forceRefresh:true});this.stateChange=undefined}JIRA.Issues.Application.off("navigation:stateChanged",this._onStateChanged)},_onStateChanged:function e(i){this.stateChange=i;this._triggerNavigationAnalyticsEvent();setTimeout(function(){if(this.stateChange){JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssueNavigationPageReload",{navigationTimeout:this.SPA_NAVIGATION_TIMEOUT});var j=AJS.contextPath()+"/"+this.stateChange.toUrl();h.reloadViaWindowLocation(j)}}.bind(this),this.SPA_NAVIGATION_TIMEOUT)},_triggerNavigationAnalyticsEvent:function f(){var i;i=parseInt(window.performance.now()-window.performance.timing.loadEventEnd+window.performance.timing.navigationStart);JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssueNavigationRequested",{navigationTime:i})}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-page-changes', location = 'content/js/search/util/DialogCleanup.js' */
(function(){JIRA.Issues.dialogCleaner=function(){JIRA.Issues.Application.on("navigation:stateChanged",function(b,a){a=a||{};if(!a.fullPageLoad){if(JIRA.Dialog.current){JIRA.Dialog.current.hide()}if(AJS.HelpTip&&AJS.HelpTip.Manager){AJS.HelpTip.Manager.hideSequences();AJS.HelpTip.Manager.clearSequences()}}})}}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-page-changes', location = 'content/js/search/util/OverrideIssueDialogUtil.js' */
(function(){JIRA.Dialogs.getDefaultAjaxOptions=function(){var a=this.options.url||this.getRequestUrlFromTrigger();this.issueId=JIRA.Issues.Api.getSelectedIssueId();this.issueKey=JIRA.Issues.Api.getSelectedIssueKey();if(/id=\{0\}/.test(a)){if(!this.issueId){return false}else{a=a.replace(/(id=\{0\})/,"id="+this.issueId)}}return{data:{decorator:"dialog",inline:"true"},url:a}}}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-page-changes', location = 'content/js/search/util/OverrideIssueDialogs.js' */
define("jira/issues/search/util/overrideissuedialogs",[],function(){var g;var h;var c;var e=false;var b=function(i){i=_.defaults({},i,{isNavigator:false});g=i.getIssueId;h=!!i.isNavigator;c=i.updateIssue;if(e){return}if(h){JIRA.LabelsDialog.prototype._handleSubmitResponse=JIRA.FormDialog.prototype._handleSubmitResponse}AJS.$(function(){JIRA.bind("QuickEdit.sessionComplete",function(){c(JIRA.Dialog.current)});JIRA.bind("QuickCreateSubtask.sessionComplete",function(){c(JIRA.Dialog.current)})});JIRA.bind("Dialog.show",function(l,k,j){if(j){j.issueId=g(JIRA.Dialog.current)}});JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(k,j){j.find(".issueaction-workflow-transition").each(function(){var m=AJS.$(this);var l=m.attr("href");l=l.replace(/atl_token=[^&]*/,"atl_token="+atl_token());m.attr("href",l)})});JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(){var l=AJS.$("#ops-login-lnk");if(l.length===0){return}var j=window.location;var k=parseUri(l.attr("href"));k.queryKey.os_destination=j.pathname.slice(AJS.contextPath().length)+j.search;l.attr("href",k.path+"?"+AJS.$.param(k.queryKey))});e=true};var f=JIRA.FormDialog.prototype._getDefaultOptions;JIRA.FormDialog.prototype._getDefaultOptions=function(){var i=f.call(this);var j=i.onDialogFinished;i.onDialogFinished=function(){if(this.isIssueDialog()){d.apply(this,arguments)}else{j.apply(this,arguments)}};return i};var a=JIRA.FormDialog.prototype._performRedirect;JIRA.FormDialog.prototype._performRedirect=function(){if(this.isIssueDialog()){d.apply(this,arguments)}else{a.apply(this,arguments)}};function d(){if(this.options.id==="clone-issue-dialog"){a.apply(this,arguments)}else{if(this.options.id==="delete-issue-dialog"){if(h){this.hide();c(this)}else{var j=this._getTargetUrlValue();if(j&&j!==""){AJS.reloadViaWindowLocation(j)}else{if(AJS.$(".page-navigation #next-issue").length>0){AJS.reloadViaWindowLocation(AJS.$(".page-navigation #next-issue").attr("href"))}else{if(AJS.$(".page-navigation #return-to-search").length>0){AJS.reloadViaWindowLocation(AJS.$(".page-navigation #return-to-search").attr("href"))}else{AJS.reloadViaWindowLocation(AJS.$("#find_link").attr("href"))}}}}}else{var i=this;this.showFooterLoadingIndicator();c(this).always(function(){JIRA.trace("jira.issue.update");i.hideFooterLoadingIndicator();i.hide()})}}}return b});AJS.namespace("JIRA.Issues.overrideIssueDialogs",null,require("jira/issues/search/util/overrideissuedialogs"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-page-changes', location = 'content/js/search/enhanceIssueLinks.js' */
(function(){var a=require("jira/components/libs/uri");JIRA.Issues.enhanceLinks={withPushState:function(c){c=_.defaults(c,{selector:".push-state"});AJS.$(document).delegate(c.selector,"simpleClick",function(f){if(this.href){f.preventDefault();var d=new a(this.href).fragment("").resource();d=d.replace(JIRA.Issues.IssueNavRouter.getBackboneRoot(),"");JIRA.Issues.Application.execute("navigation:navigateToUrl",d,{forceRefresh:true,checkPermission:true,replace:true,reset:true})}})},toIssueNav:function(){var d="a.filter-link[data-filter-id], a.filter-link[data-jql]";var c="#issues_new_search_link_lnk";AJS.$(document).on("simpleClick",d,function(i){i.preventDefault();var h=AJS.$(i.target).closest("a");var g=h.data("filter-id");var f=h.data("jql");JIRA.Issues.Application.execute("navigation:navigate",{filter:g,jql:f,searchId:_.uniqueId()},{reset:true,resetQuery:true})});AJS.$(document).on("simpleClick",c,function(f){f.preventDefault();JIRA.Issues.Application.execute("navigation:navigate",{jql:"",searchId:_.uniqueId()},{reset:true,resetQuery:true})})},isIssueTableDropdown:function(){if(AJS.InlineLayer.current){var c=jQuery(AJS.InlineLayer.current.offsetTarget());if(c.closest(".list-view table#issuetable").size()){return true}}},toIssue:function(){var e="a.issue-link[data-issue-key]";var d=".parentIssue";var c=".list-view table#issuetable a.issue-link[data-issue-key]";AJS.$(document).on("simpleClick",e,function(k){if(k.isDefaultPrevented()){return}k.preventDefault();k.stopPropagation();var f=AJS.$(k.target).closest("a").data("issue-key");var j=AJS.$(k.target).is(c);var m=AJS.$(k.target).is(d);var i=JIRA.Issues.enhanceLinks.isIssueTableDropdown(c);if(this.searchPageModule&&((j&&!m)||i)){var h=this.searchPageModule.searchResults;var g=h._getIssueIdForKey(f);var l=parseInt(g,10);JIRA.Issues.Application.execute("analytics:trigger","kickass.openIssueFromTable",{issueId:g,absolutePosition:h.getPositionOfIssueInSearchResults(l)+1,relativePosition:h.getPositionOfIssueInPage(l)+1,source:"jira.issuenav.global"});JIRA.Issues.Application.execute("navigation:navigate",{selectedIssueKey:f})}else{require("jira/issues/navigator/metrics").notifyIssueView();JIRA.Issues.Application.execute("navigation:navigate",{selectedIssueKey:f},{reset:true})}}.bind(this))},registerSearchPageModule:function b(c){this.searchPageModule=c}}}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnPicker.soy' */
// This file was automatically generated from ColumnPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Dialogs.ColumnPicker.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Dialogs == 'undefined') { JIRA.Templates.Dialogs = {}; }
if (typeof JIRA.Templates.Dialogs.ColumnPicker == 'undefined') { JIRA.Templates.Dialogs.ColumnPicker = {}; }


JIRA.Templates.Dialogs.ColumnPicker.popup = function(opt_data, opt_ignored) {
  var output = '<div><form action="#" method="post"  class="aui top-label column-picker"><div class="check-list-top-panel"><h3>' + soy.$$escapeHtml("Columns") + '</h3>';
  if (opt_data.columns.length > 1) {
    output += '<p class="aui-buttons">';
    var columnList9 = opt_data.columns;
    var columnListLen9 = columnList9.length;
    for (var columnIndex9 = 0; columnIndex9 < columnListLen9; columnIndex9++) {
      var columnData9 = columnList9[columnIndex9];
      output += '<button type="button" class="config-chooser aui-button ' + ((columnData9.isActive) ? ' active' : '') + '" id="columns-chooser-' + soy.$$escapeHtml(columnData9.name) + '" data-value="' + soy.$$escapeHtml(columnData9.name) + '"' + ((columnData9.isDisabled) ? 'aria-disabled="true"' : '') + '>' + soy.$$escapeHtml(columnData9.description) + '</button>';
    }
    output += '</p>';
  }
  output += '</div>';
  var columnList28 = opt_data.columns;
  var columnListLen28 = columnList28.length;
  for (var columnIndex28 = 0; columnIndex28 < columnListLen28; columnIndex28++) {
    var columnData28 = columnList28[columnIndex28];
    output += '<div class="' + soy.$$escapeHtml(columnData28.name) + '-column-sparkler hidden"></div>';
  }
  output += ((! opt_data.isAutoUpdate) ? '<div class="button-panel"><input accesskey="' + soy.$$escapeHtml("s") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",opt_data.modifierKey)) + '" class="aui-button submit" type="submit" value="' + soy.$$escapeHtml("Done") + '"/> <a accesskey="' + soy.$$escapeHtml("`") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",opt_data.modifierKey)) + '" class="aui-button aui-button-link close-dialog" href="javascript:">' + soy.$$escapeHtml("Cancel") + '</a></div>' : '') + '</form></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.ColumnPicker.popup.soyTemplateName = 'JIRA.Templates.Dialogs.ColumnPicker.popup';
}


JIRA.Templates.Dialogs.ColumnPicker.trigger = function(opt_data, opt_ignored) {
  return '<button class="aui-button aui-button-subtle column-picker-trigger ' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? ' jira-aui-dropdown2-trigger' : '') + '" title="' + soy.$$escapeHtml("Columns") + '">' + soy.$$escapeHtml("Columns") + '</button>';
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.ColumnPicker.trigger.soyTemplateName = 'JIRA.Templates.Dialogs.ColumnPicker.trigger';
}


JIRA.Templates.Dialogs.ColumnPicker.restoreDefaultsLink = function(opt_data, opt_ignored) {
  return '<button class="aui-button aui-button-link restore-defaults">' + soy.$$escapeHtml(opt_data.linkText) + '</button>';
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.ColumnPicker.restoreDefaultsLink.soyTemplateName = 'JIRA.Templates.Dialogs.ColumnPicker.restoreDefaultsLink';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnPickerModel.js' */
define("jira/components/columnpicker/model",["require"],function(c){var b=c("jira/components/libs/underscore");var d=c("jira/components/libs/brace");var a=window.AJS.contextPath();var e=c("jquery");return d.Model.extend({namedAttributes:["columnConfig","savedColumnConfig","search","availableColumns","autoUpdate"],namedEvents:["columnsSync","changeColumnConfigDisabled","destroyColumnConfig"],allColumnsUrl:a+"/rest/gadget/1.0/availableColumns",shouldRefreshSearchOnActivation:function(){return this.getCurrentColumnConfig().shouldRefreshSearchOnActivation()},shouldCloseOnActivation:function(){return this.getCurrentColumnConfig().shouldCloseOnActivation()},shouldLoadDefaultsOnActivation:function(){return this.getCurrentColumnConfig().shouldLoadDefaultsOnActivation()},shouldRevertOnHide:function(){return this.getCurrentColumnConfig().shouldRevertOnHide()},loadDefaultColumns:function(){this.getCurrentColumnConfig().loadDefaultColumns()},initialize:function(){this.columnsData={}},refreshSearchWithColumns:function(f){f=f||this.getCurrentColumnConfig();this.triggerColumnsSync(f.getName(),f.getColumns())},fetchAvailableColumnsIfNeeded:function(){if(!this.has("availableColumns")){e.ajax(this.allColumnsUrl).done(b.bind(function(f){this.setAvailableColumns(f.availableColumns)},this))}},getCurrentColumnConfig:function(f){if(!f){f=this.getColumnConfig()}return this.columnsData[f]},revertColumnConfig:function(){if(this.shouldRevertOnHide()&&this.getSavedColumnConfig()!==this.getColumnConfig()){this._previousAttributes.columnConfig=this.getSavedColumnConfig();this.setColumnConfig(this.getSavedColumnConfig(),{silent:true})}},setCurrentColumnConfig:function(f){this.setColumnConfig(f);this.setSavedColumnConfig(f)},syncColumns:function(f,g){b.each(this.columnsData,function(h){if(h.getName()===f){h.setColumns(g);h.setSavedColumns(g)}})},saveColumns:function(f){this.getCurrentColumnConfig().setColumns(f);this.getCurrentColumnConfig().save();this.getCurrentColumnConfig().triggerColumnsSync()},addColumnProvider:function(g,f){this.columnsData[g]=f;f.on("columnsSync sync destroy",b.bind(function(){this.refreshSearchWithColumns(f)},this));f.on("change:isDisabled",b.bind(function(i,h){this.triggerChangeColumnConfigDisabled(i,h)},this));f.on("destroy",b.bind(function(h){this.triggerDestroyColumnConfig(h)},this))}})});AJS.namespace("JIRA.Issues.ColumnPickerModel",null,require("jira/components/columnpicker/model"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnConfigModel.js' */
define("jira/components/columnpicker/columnconfigmodel",["require"],function(b){var a=b("jira/components/libs/underscore");var c=b("jira/components/libs/brace");var d=b("jquery");var e=c.Model.extend({namedAttributes:["name","columns","autoUpdate","savedColumns","description","previousColumns","actionBarText","isActive"],namedEvents:["columnsSync"],defaults:{actionBarText:"Restore Defaults",isActive:false},idAttribute:"name",initialize:function(f,g){a.extend(this,g)},getDefaultColumns:function(){var f=new d.Deferred();this.defaultColumns().done(a.bind(function(g){var h=this.parse(g);if(h&&h.columns){f.resolve(h.columns)}else{f.reject(null)}},this));return f.promise()},parse:function(f){if(!f){return{}}return{columns:a.compact(a.pluck(f,"value"))}},isDisabled:function(){return false},isEditDisabled:function(){return false},defaultColumns:function(){var f=new d.Deferred();f.resolve([]);return f.promise()},_sortColumnsUsingOriginalOrder:function(f,g){return a.intersection(f,g).concat(a.difference(g,f))},setUnsortedColumns:function(g,f){g=this._sortColumnsUsingOriginalOrder(f,g);this.setPreviousColumns(f,{silent:true});this.setColumns(g)},toJSON:function(){return{columns:this.getColumns()}},revertUnsavedColumns:function(f){if(this.getSavedColumns()!==this.getColumns()){this.setColumns(this.getSavedColumns(),f)}},loadDefaultColumns:function(){this.getDefaultColumns().done(a.bind(function(f){this.setColumns(f)},this))},shouldRefreshSearchOnActivation:function(){return true},shouldCloseOnActivation:function(){return true},shouldLoadDefaultsOnActivation:function(){return false},shouldRevertOnHide:function(){return true}});e.create=function(g,i,h,f){return new e({autoUpdate:f,name:g,description:i},h)};return e});AJS.namespace("JIRA.Issues.ColumnConfigModel",null,require("jira/components/columnpicker/columnconfigmodel"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnPickerSuggestHandler.js' */
define("jira/components/columnpicker/suggesthandler",["require"],function(c){var b=c("jira/components/libs/underscore");var g=c("jira/ajs/list/group-descriptor");var f=c("jquery");var e=c("jira/ajs/select/suggestions/select-suggest-handler");var a=c("jira/ajs/select/suggestions/suggest-helper");var d=window.JIRA.Templates.Dialogs.ColumnPicker;return e.extend({createActionBar:function(i){if(!i){return null}var h=f(d.restoreDefaultsLink({linkText:i}));h.click(function(j){if(f(j.target).attr("aria-disabled")!=="true"){h.trigger("actionclick")}j.preventDefault()});return f("<li class='check-list-group-actions'></li>").append(h)},formatSuggestions:function(k,l){var m=a.removeDuplicates(this.model.getDisplayableSelectedDescriptors());var j=new g({styleClass:"selected-group",items:m});k.splice(0,0,j);var h=b.find(k,function(n){return n.items().length});if(h){h.actionBarHtml(this.createActionBar(this.options.actionBar))}if(l.length>0){k=a.removeDuplicates(k);var i=a.extractItems(k).sort(function(o,n){o=o.label().toLowerCase();n=n.label().toLowerCase();return o.localeCompare(n)});k=[new g({items:i})]}return k}})});AJS.namespace("JIRA.Issues.ColumnPickerSuggestHandler",null,require("jira/components/columnpicker/suggesthandler"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnPickerSparklerView.js' */
define("jira/components/columnpicker/sparklerview",["require"],function(b){var h=b("jira/components/libs/underscore");var d=window.AJS.Templates;var f=b("jira/components/libs/brace");var c=b("jira/ajs/select/checkbox-multi-select");var a=b("jira/components/columnpicker/suggesthandler");var g=b("jira/ajs/list/group-descriptor");var i=b("jira/ajs/list/item-descriptor");var e=b("aui/message");var j=b("jquery");return f.View.extend({initialize:function(k){this._maxResults=(typeof k.maxResults==="number")?k.maxResults:this.MAX_DISPLAYED_ITEMS;this._autoUpdate=!!k.autoUpdate;this.$el.scrollLock(".aui-list-scroll");if(!this._autoUpdate){this.model.on("change:columns",h.bind(this._setSelectedColumns,this))}},MAX_DISPLAYED_ITEMS:25,_sparkler:null,activate:function(){this.model.setIsActive(true)},deactivate:function(){this.model.setIsActive(false)},hide:function(){this.model.revertUnsavedColumns({silent:true});this.$el.addClass("hidden");var k=this.$el.find("input[id *= column-sparkler-input]");k.val("")},show:function(){this.$el.removeClass("hidden");this._setSelectedColumns();var k=this.$el.find("input[id *= column-sparkler-input]");if(!k.is(":disabled")){k.focus()}},addMessage:function(k){if(this.$el.find(".aui-message."+k.type).length===0){e[k.type](this.$el,{body:k.content,closeable:false,insert:"prepend",id:k.id})}},_disableEditIfNeeded:function(){if(this.model.isEditDisabled()){this._disableEdit()}else{this._enableEdit()}},_showEditDisabledMessage:function(){if(this._hasEditDisabledMessage()){return}this.addMessage({content:"You cannot update the columns for a filter owned by another user.",type:"warning",id:this.model.getName()+"-edit-disabled-message"})},_hasEditDisabledMessage:function(){return this.$el.find("#"+this.model.getName()+"-edit-disabled-message").length>0},_hideEditDisabledMessage:function(){this.$el.find("#"+this.model.getName()+"-edit-disabled-message").remove()},_disableEdit:function(){this._sparkler.disable();this.$el.find("input[type='checkbox']").attr("disabled","disabled");this.$el.find(".check-list-item").addClass("disabled");this.$el.find(".no-suggestions").addClass("disabled");this.$el.find(".restore-defaults").attr("aria-disabled","true");this._showEditDisabledMessage()},_enableEdit:function(){this._sparkler.enable();this.$el.find("input[type='checkbox']").removeAttr("disabled");this.$el.find(".check-list-item").removeClass("disabled");this.$el.find(".no-suggestions").removeClass("disabled");this.$el.find(".restore-defaults").removeAttr("aria-disabled");this._hideEditDisabledMessage()},createSparklerControl:function(k){if(this._sparkler){this._sparkler.remove()}var l=this._buildQueryableSelect(k);this.$el.append(l);this._sparkler=new c({element:l,maxInlineResultsDisplayed:this._maxResults,suggestionsHandler:a,actionBar:this.model.getActionBarText()});this._setSelectedColumns();if(this._autoUpdate){l.bind("selected",h.bind(this.saveColumns,this));l.bind("unselect",h.bind(this.saveColumns,this))}this._sparkler.$field.focus();this.$el.on("actionclick",h.bind(function(m){m.preventDefault();this.model.unset("columns");this.model.destroy()},this));this.model.on("change:editDisabled",h.bind(this._disableEditIfNeeded,this))},saveColumns:function(){var k=this.model.getColumns()||$("th.colHeaderLink").map(function(){return $(this).attr("data-id")}).get();this.model.setUnsortedColumns(this._sparkler.model.getSelectedValues(),k);this.model.save(null,{wait:false})},_setSelectedColumns:function(){var k=this.model.getColumns();var l=this._sparkler;if(l&&k&&k.length){h.each(l.model.getDisplayableUnSelectedDescriptors(),function(m){if(h.contains(k,m.value())){l.selectItem(m)}});h.each(l.model.getDisplayableSelectedDescriptors(),function(m){if(!h.contains(k,m.value())){l.unselectItem(m)}});l.render();this._disableEditIfNeeded()}},_buildQueryableSelect:function(m){var k=this;var l=h.map(m,function(n){return new i(h.extend(n,{title:n.label}))});return j(d.queryableSelect({id:k.model.getName()+"-column-sparkler",descriptors:[new g({items:l})]}))}})});AJS.namespace("JIRA.Issues.ColumnPickerSparklerView",null,require("jira/components/columnpicker/sparklerview"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnPickerView.js' */
define("jira/components/columnpicker/view",["require"],function(a){var f=a("jira/components/libs/underscore");var d=a("aui/inline-dialog");var e=a("jira/components/libs/brace");var g=a("jira/components/columnpicker/sparklerview");var h=a("jquery");var i=window.JIRA.Templates.Dialogs.ColumnPicker;var b=a("jira/util/data/meta");var c=b.get("keyboard-accesskey-modifier");return e.View.extend({initialize:function(j){f.extend(this,j);f.bindAll(this,"_generateInlineDialogContent","_onDOMCloseDialogClick","_onDOMConfigChooserClick","_onDOMDialogHide","_onDOMFormSubmit","_onDOMTriggerClick","_onModelChangeAvailableColumns","_onModelChangeColumnConfig","_onModelChangeColumnConfigDisabled","_onModelDestroyColumnConfig");this.subViews={}},dialog:null,activeSubview:null,_onDOMConfigChooserClick:function(k){var j=h(k.target);if(j.attr("aria-disabled")){return}this.columnPickerModel.setColumnConfig(j.data("value")||"user")},_activateNewSubView:function(j){j.activate();if(this.columnPickerModel.shouldCloseOnActivation()){this.dialog.hide()}else{this.activeSubview=j;this.activeSubview.show();this.adjustHeight()}if(this.columnPickerModel.shouldRefreshSearchOnActivation()){this.columnPickerModel.refreshSearchWithColumns()}if(this.columnPickerModel.shouldLoadDefaultsOnActivation()){this.columnPickerModel.loadDefaultColumns()}},_onDOMFormSubmit:function(j){j.preventDefault();this.activeSubview.saveColumns();this.dialog.hide()},_onDOMCloseDialogClick:function(){this.dialog.hide()},_onDOMTriggerClick:function(){this.dialog.show();this.activeSubview=this.subViews[this.columnPickerModel.getCurrentColumnConfig().getName()];this.activeSubview.show();this._activateConfigChooserButton(this.columnPickerModel.getCurrentColumnConfig().getName());this.columnPickerModel.fetchAvailableColumnsIfNeeded()},_activateConfigChooserButton:function(j){this.dialog.find(".config-chooser.active").removeClass("active");this.dialog.find("#columns-chooser-"+j).addClass("active")},_onDOMDialogHide:function(){this.columnPickerModel.revertColumnConfig();this.activeSubview.hide()},_onModelChangeColumnConfig:function(m,k){var j=this.subViews[k];this._activateConfigChooserButton(j.model.getName());var l=this.subViews[m.previous("columnConfig")];if(l!==j){l.hide();l.deactivate();this._activateNewSubView(j)}},_onModelChangeAvailableColumns:function(k,j){f.each(this.subViews,function(l){l.createSparklerControl(j)})},_onModelDestroyColumnConfig:function(){this.dialog.hide()},_onModelChangeColumnConfigDisabled:function(k,j){var l=this.dialog.find("#columns-chooser-"+k.getName());if(j){l.attr("aria-disabled",true)}else{l.removeAttr("aria-disabled")}},render:function(){if(!this.$trigger){this.$trigger=h(i.trigger())}this.$el.append(this.$trigger);this.$trigger.click(this._onDOMTriggerClick);this._renderInlineDialog()},adjustHeight:function(){if(d.current&&d.current.id==="column-picker-dialog"&&this.activeSubview){var l=h(this.activeSubview.el).find(".aui-list-scroll");var m=((window.innerHeight-this.$trigger.offset().top)-90);var k=m-this.dialog.height();var j=Math.max(Math.min(l.height()+k,270),80);l.css("height",j);return true}return false},_generateInlineDialogContent:function(l,j,k){if(!this.dialogContent){l.html(i.popup({modifierKey:c,isAutoUpdate:this.columnPickerModel.getAutoUpdate(),columns:f.map(this.columnPickerModel.columnsData,f.bind(function(m){return{name:m.getName(),description:m.getDescription(),selected:false,isDisabled:m.isDisabled(),isActive:this.columnPickerModel.getCurrentColumnConfig()===m}},this))}));l.find(".config-chooser").click(this._onDOMConfigChooserClick);l.find("form").submit(this._onDOMFormSubmit);l.find(".close-dialog").click(this._onDOMCloseDialogClick);l.click(function(m){m.stopPropagation()});this._createSubViews(l);this.dialogContent=l.children()}else{l.append(this.dialogContent)}k()},_renderInlineDialog:function(){if(this.dialog){return}this.dialog=new d(this.$trigger,"column-picker-dialog",this._generateInlineDialogContent,{offsetY:15,addActiveClass:true,hideDelay:null,noBind:true,initCallback:f.bind(function(){var j=this;var k=function(){if(!j.adjustHeight()){setTimeout(k,100)}};k()},this),hideCallback:this._onDOMDialogHide})},_createSubViews:function(j){f.each(this.columnPickerModel.columnsData,f.bind(function(k){this.subViews[k.getName()]=new g({el:j.find("."+k.getName()+"-column-sparkler"),model:k,autoUpdate:this.columnPickerModel.getAutoUpdate()})},this));if(this.columnPickerModel.has("availableColumns")){this._onModelChangeAvailableColumns(this.columnPickerModel,this.columnPickerModel.getAvailableColumns())}this.columnPickerModel.on("change:availableColumns",this._onModelChangeAvailableColumns);this.columnPickerModel.on("change:columnConfig",this._onModelChangeColumnConfig);this.columnPickerModel.onChangeColumnConfigDisabled(this._onModelChangeColumnConfigDisabled);this.columnPickerModel.onDestroyColumnConfig(this._onModelDestroyColumnConfig)}})});AJS.namespace("JIRA.Issues.ColumnPickerView",null,require("jira/components/columnpicker/view"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnPicker.js' */
define("jira/components/columnpicker",["require"],function(d){var c=d("jira/components/libs/underscore");var e=d("jira/components/libs/brace");var f=d("jira/components/columnpicker/columnconfigmodel");var g=d("jira/components/columnpicker/model");var b=d("jira/components/columnpicker/view");var a=e.Model.extend({initialize:function(h,i){this.columnPickerModel=new g({autoUpdate:i.autoUpdate});this.columnPickerView=new b({columnPickerModel:this.columnPickerModel});c.each(i.providers,c.bind(function(j){if(j instanceof f){this.columnPickerModel.addColumnProvider(j.getName(),j)}else{this.columnPickerModel.addColumnProvider(j.id,this._createProviderModel(j));if(j.columns){this.columnPickerModel.syncColumns(j.id,j.columns)}}},this));this.setCurrentColumnConfig(i.providers[0].id);if(i.el){this.columnPickerView.setElement(i.el).render()}},_createProviderModel:function(h){return f.create(h.id,h.label,c.omit(h,"id","label","columns"))},getCurrentColumnConfig:function(){return this.columnPickerModel.getCurrentColumnConfig()},setElement:function(h){this.columnPickerView.setElement(h);return this},render:function(){this.columnPickerView.render();return this},clearFilterConfiguration:function(){this.columnPickerModel.clearFilterConfiguration();return this},adjustHeight:function(){this.columnPickerView.adjustHeight();return this},setCurrentColumnConfig:function(h){this.columnPickerModel.setCurrentColumnConfig(h);return this},saveColumns:function(h){this.columnPickerModel.saveColumns(h);return this},syncColumns:function(h,i){this.columnPickerModel.syncColumns(h,i);return this},getColumnConfig:function(){this.columnPickerModel.getColumnConfig()},onColumnsSync:function(i,h){this.columnPickerModel.onColumnsSync(i,h);return this},on:function(i,j,h){this.columnPickerModel.on(i,j,h);return this},off:function(h,i){this.columnPickerModel.off(h,i);return this}});a.create=function(h){return new a(null,h)};return a});AJS.namespace("JIRA.Components.ColumnPicker",null,require("jira/components/columnpicker"));;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/datePicker.soy' */
// This file was automatically generated from datePicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DateSearcher.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DateSearcher == 'undefined') { JIRA.Templates.DateSearcher = {}; }


JIRA.Templates.DateSearcher.dateMeasurement = function(opt_data, opt_ignored) {
  return '<select class="js-measurement"><option value="m">' + soy.$$escapeHtml("minutes") + '</option><option value="h">' + soy.$$escapeHtml("hours") + '</option><option value="d">' + soy.$$escapeHtml("days") + '</option><option value="w">' + soy.$$escapeHtml("weeks") + '</option></select>';
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.dateMeasurement.soyTemplateName = 'JIRA.Templates.DateSearcher.dateMeasurement';
}


JIRA.Templates.DateSearcher.renderWithinTheLast = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format("Within the last {0} {1}",opt_data.inputField,opt_data.dateMeasurementField));
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.renderWithinTheLast.soyTemplateName = 'JIRA.Templates.DateSearcher.renderWithinTheLast';
}


JIRA.Templates.DateSearcher.withinTheLast = function(opt_data, opt_ignored) {
  return '<input type="radio" class="js-dp-type-toggle" id="withinTheLastRadio"/>' + JIRA.Templates.DateSearcher.renderWithinTheLast({inputField: '<input class="js-val" type="text" maxlength="15" />', dateMeasurementField: '' + JIRA.Templates.DateSearcher.dateMeasurement(null)});
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.withinTheLast.soyTemplateName = 'JIRA.Templates.DateSearcher.withinTheLast';
}


JIRA.Templates.DateSearcher.nowOverdue = function(opt_data, opt_ignored) {
  return '<label><input type="radio" class="js-dp-type-toggle" />' + soy.$$escapeHtml("Now overdue") + '</label>';
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.nowOverdue.soyTemplateName = 'JIRA.Templates.DateSearcher.nowOverdue';
}


JIRA.Templates.DateSearcher.renderMoreThan = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format("More than {0} {1} ago",opt_data.inputField,opt_data.dateMeasurementField));
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.renderMoreThan.soyTemplateName = 'JIRA.Templates.DateSearcher.renderMoreThan';
}


JIRA.Templates.DateSearcher.moreThan = function(opt_data, opt_ignored) {
  return '<input type="radio" tabIndex="-1" class="js-dp-type-toggle" id="moreThanRadio"/>' + JIRA.Templates.DateSearcher.renderMoreThan({inputField: '<input class="js-val" type="text" maxlength="15" />', dateMeasurementField: '' + JIRA.Templates.DateSearcher.dateMeasurement(null)});
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.moreThan.soyTemplateName = 'JIRA.Templates.DateSearcher.moreThan';
}


JIRA.Templates.DateSearcher.renderDueMoreThan = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format("More than {0} {1} overdue",opt_data.inputField,opt_data.dateMeasurementField));
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.renderDueMoreThan.soyTemplateName = 'JIRA.Templates.DateSearcher.renderDueMoreThan';
}


JIRA.Templates.DateSearcher.dueMoreThan = function(opt_data, opt_ignored) {
  return '<input type="radio" tabIndex="-1" class="js-dp-type-toggle" id="moreThanRadio"/>' + JIRA.Templates.DateSearcher.renderDueMoreThan({inputField: '<input class="js-val" type="text" maxlength="15" />', dateMeasurementField: '' + JIRA.Templates.DateSearcher.dateMeasurement(null)});
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.dueMoreThan.soyTemplateName = 'JIRA.Templates.DateSearcher.dueMoreThan';
}


JIRA.Templates.DateSearcher.renderDueInNext = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format("Due in next {0} {1} {2} overdue",opt_data.inputField,opt_data.dateMeasurementField,opt_data.clauseField));
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.renderDueInNext.soyTemplateName = 'JIRA.Templates.DateSearcher.renderDueInNext';
}


JIRA.Templates.DateSearcher.dueInNext = function(opt_data, opt_ignored) {
  return '<input type="radio" tabIndex="-1" class="js-dp-type-toggle" id="dueInNextRadio"/>' + JIRA.Templates.DateSearcher.renderDueInNext({inputField: '<input class="js-val" maxlength="15" type="text" />', dateMeasurementField: '' + JIRA.Templates.DateSearcher.dateMeasurement(null), clauseField: '<select class="js-clause"><option value="orIs">' + soy.$$escapeHtml("or is") + '</option><option value="andNot">' + soy.$$escapeHtml("and not") + '</option></select>'});
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.dueInNext.soyTemplateName = 'JIRA.Templates.DateSearcher.dueInNext';
}


JIRA.Templates.DateSearcher.renderDateBetween = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format("Between {0} and {1}",opt_data.startField,opt_data.endField));
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.renderDateBetween.soyTemplateName = 'JIRA.Templates.DateSearcher.renderDateBetween';
}


JIRA.Templates.DateSearcher.dateBetween = function(opt_data, opt_ignored) {
  return '<input type="radio" tabIndex="-1" class="js-dp-type-toggle" id="dateBetweenRadio"/>' + JIRA.Templates.DateSearcher.renderDateBetween({startField: '<input class="js-start-date" maxlength="15" placeholder="11-Jan-2012" type="text" /><span class="js-start-date-trigger aui-icon aui-icon-small aui-iconfont-calendar">' + soy.$$escapeHtml("Select a date") + '</span>', endField: '<input class="js-end-date" maxlength="12" placeholder="30-Jan-2012" type="text" /><span class="js-end-date-trigger aui-icon aui-icon-small aui-iconfont-calendar">' + soy.$$escapeHtml("Select a date") + '</span>'});
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.dateBetween.soyTemplateName = 'JIRA.Templates.DateSearcher.dateBetween';
}


JIRA.Templates.DateSearcher.renderInRange = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format("In range {0} to {1}",opt_data.startInput,opt_data.endInput));
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.renderInRange.soyTemplateName = 'JIRA.Templates.DateSearcher.renderInRange';
}


JIRA.Templates.DateSearcher.inRange = function(opt_data, opt_ignored) {
  return '<input type="radio" tabIndex="-1" maxlength="15" class="js-dp-type-toggle" id="inRangeRadio"/>' + JIRA.Templates.DateSearcher.renderInRange({startInput: '<input class="js-start-range" placeholder="-3w 4d 12h" type="text" />', endInput: '<input class="js-end-range" maxlength="15" placeholder="3w 4d 12h" type="text" />'});
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.inRange.soyTemplateName = 'JIRA.Templates.DateSearcher.inRange';
}
;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/DateSearcher.js' */
define("jira/searchers/datesearcher/date-types",["require"],function(e){"use strict";var t=e("jquery"),a=e("backbone"),r=e("underscore"),n=e("jira/libs/calendar"),s=["js-dp-type-toggle","js-val","js-measurement","js-clause","js-start-date","js-end-date","js-start-range","js-end-range"],i=function(e,a){var n=t("<div></div>").html(e).contents(),i=[];return n.each(function(e,n){var d=t(n),l=t("<div/>").html(n).html();r.contains(s,d.attr("class"))?i.push(l):(l=l.replace(/^\s+|\s+$/g,"&nbsp;"),i.push("<label for='"+a+"'>"+l+"</label>"))}),i.join("")},d=function(e){var t=e.radioKey+"Radio",a=e.$el.html(i(e.rawTemplate,t));return a.find(":not(.js-dp-type-toggle):not(select):input").mousedown(function(){var e=a.find("label");e.length>0&&e[0].click()}),a},l=a.View.extend({className:"field-group",attributes:{"data-date-type":"nowOverdue"},template:JIRA.Templates.DateSearcher.nowOverdue,getValues:function(){return{to:0}},updateFromValues:function(e){if(!e.from&&"0"===e.to)return!0},render:function(){return this.$el.html(this.template())}}),o=a.View.extend({className:"field-group",attributes:{"data-date-type":"withinTheLast"},template:JIRA.Templates.DateSearcher.withinTheLast,getValues:function(){var e=this.$(".js-val").val();if(e)return{from:"-"+e+this.$el.find(".js-measurement").val()}},updateFromValues:function(e){if(!e.to&&e.from&&"-"===e.from.charAt(0)){var t=this.model.parseRelativeStr(e.from);return this.$(".js-val").val(t.val.slice(1)),t.measurement&&this.$(".js-measurement").val(t.measurement),!0}},render:function(){return d({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]})}}),u=a.View.extend({className:"field-group",attributes:{"data-date-type":"moreThan"},template:JIRA.Templates.DateSearcher.moreThan,getValues:function(){var e=this.$(".js-val").val();if(e)return{to:"-"+e+this.$el.find(".js-measurement").val()}},updateFromValues:function(e){if(!e.from&&e.to&&"-"===e.to.charAt(0)){var t=this.model.parseRelativeStr(e.to);return this.$(".js-val").val(t.val.slice(1)),t.measurement&&this.$(".js-measurement").val(t.measurement),!0}},render:function(){return d({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]})}}),h=u.extend({className:"field-group",template:JIRA.Templates.DateSearcher.dueMoreThan}),c=a.View.extend({className:"field-group",attributes:{"data-date-type":"dueInNext"},template:JIRA.Templates.DateSearcher.dueInNext,getValues:function(){var e=this.$el.find(".js-val").val();if(e)return{from:"andNot"===this.$el.find(".js-clause").val()?"0":null,to:e+this.$(".js-measurement").val()}},updateFromValues:function(e){if((!e.from||"0"===e.from)&&e.to){var t=this.model.parseRelativeStr(e.to),a="0"===e.from?"andNot":"orIs";return this.$(".js-val").val(t.val),this.$(".js-clause").val(a),t.measurement&&this.$(".js-measurement").val(t.measurement),!0}},render:function(){return d({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]})}});return{DatesBetween:a.View.extend({className:"field-group",attributes:{"data-date-type":"dateBetween"},template:JIRA.Templates.DateSearcher.dateBetween,getValues:function(){return{startDate:this.$el.find(".js-start-date").val(),endDate:this.$el.find(".js-end-date").val()}},updateFromValues:function(e){if(e.startDate||e.endDate)return this.$el.find(".js-start-date").val(e.startDate),this.$el.find(".js-end-date").val(e.endDate),!0},bindCalendar:function(e,t){var a=this.$el.find("."+t)[0],s=this.$el.find("."+e)[0],i=r.extend({},this.model.calendarConfig,{inputField:s,button:a});n.setup(i)},render:function(){return d({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]}),this.bindCalendar("js-end-date","js-end-date-trigger"),this.bindCalendar("js-start-date","js-start-date-trigger"),this.$el}}),DueInNext:c,DueMoreThan:h,InRange:a.View.extend({className:"field-group",attributes:{"data-date-type":"inRange"},template:JIRA.Templates.DateSearcher.inRange,getValues:function(){return{from:this.$el.find(".js-start-range").val(),to:this.$el.find(".js-end-range").val()}},updateFromValues:function(e){if(e.from||e.to)return this.$el.find(".js-start-range").val(e.from),this.$el.find(".js-end-range").val(e.to),!0},render:function(){return d({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]})}}),MoreThan:u,NowOverdue:l,WithinTheLast:o}}),define("jira/searchers/datesearcher/date-searcher-model",["require"],function(e){"use strict";var t=e("jira/data/parse-options-from-fieldset");return e("backbone").Model.extend({initialize:function(e){this.from$El=e.$el.find(".js-date-picker-from").hide(),this.to$El=e.$el.find(".js-date-picker-to").hide(),this.startDate$El=e.$el.find(".js-date-picker-start-date").hide(),this.endDate$El=e.$el.find(".js-date-picker-end-date").hide(),this.errors=t(e.$el.find("fieldset.js-date-picker-errors")),this.calendarConfig=t(e.$el.find("fieldset.datepicker-params"))},parseRelativeStr:function(e){var t=e.slice(e.length-1);return{val:e.slice(0,e.length-1),measurement:t}},update:function(e){this.clear(),e&&(void 0!==e.from&&this.from$El.val(e.from),void 0!==e.to&&this.to$El.val(e.to),void 0!==e.startDate&&this.startDate$El.val(e.startDate),void 0!==e.endDate&&this.endDate$El.val(e.endDate))},toJSON:function(){return{from:this.from$El.val(),to:this.to$El.val(),startDate:this.startDate$El.val(),endDate:this.endDate$El.val(),errors:this.errors}},clear:function(){this.from$El.val(""),this.to$El.val(""),this.startDate$El.val(""),this.endDate$El.val("")}})}),define("jira/searchers/datesearcher/date-searcher",["require"],function(e){"use strict";var t=e("jira/searchers/datesearcher/date-searcher-model"),a=e("jquery"),r=e("backbone"),n=e("underscore");return r.View.extend({initialize:function(e){var r=this;this.verb=e.verb,this.model=new t({$el:this.$el}),this.setElement(a("<div />").addClass("js-picker-ui").appendTo(this.$el)),this.views=[];var s=!a.browser.msie||parseInt(a.browser.version,10)<10;n.each(e.dateTypes,function(e){var t=new e({model:r.model});r.views.push(t),s?t.$el.delegate(":text","input",function(){r.update(t)}):(t.$el.delegate(":text","keydown",function(){var e=a(this),n=e.val();e.one("keyup",function(){e.val()!==n&&r.update(t)})}),t.$el.delegate(":text","change",function(){r.update(t)})),t.$el.delegate(":radio,select,input","change",function(){r.update(t)}).delegate(".aui-iconfont-calendar","click",function(){r.update(t)})})},update:function(e){this.model.update(e.getValues()),n.each(this.views,function(t){t===e?t.$(":radio").prop("checked",!0):t.$(":radio").prop("checked",!1)})},render:function(){var e=this,t=this.model.toJSON();n.each(this.views,function(t){e.$el.append(t.render(e.verb))}),a.each(this.views,function(r,n){if(this.updateFromValues(t))return e.update(this),t.errors&&a.each(t.errors,function(e,t){return a("<div />").addClass("error").text(t).appendTo(n.$el),!1}),!1}),window.setTimeout(function(){e.$el.find(":radio:checked").focus()},30)}})}),define("jira/searchers/datesearcher/date-searcher-factory",["require","exports"],function(e,t){"use strict";var a=e("jira/searchers/datesearcher/date-types"),r=e("jira/searchers/datesearcher/date-searcher");t.createDueDateSearcher=function(e){return new r({el:e,dateTypes:[a.NowOverdue,a.DueMoreThan,a.DueInNext,a.DatesBetween,a.InRange]}).render()},t.createResolvedDateSearcher=function(e){return new r({el:e,dateTypes:[a.WithinTheLast,a.MoreThan,a.DatesBetween,a.InRange]}).render()},t.createCreatedDateSearcher=function(e){return new r({el:e,dateTypes:[a.WithinTheLast,a.MoreThan,a.DatesBetween,a.InRange]}).render()},t.createUpdatedDateSearcher=function(e){return new r({el:e,dateTypes:[a.WithinTheLast,a.MoreThan,a.DatesBetween,a.InRange]}).render()},t.createCustomDateSearcher=function(e){return new r({el:e,dateTypes:[a.WithinTheLast,a.MoreThan,a.DatesBetween,a.InRange]}).render()}});;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initDateSearchers.js' */
define("jira/searchers/element/due-date-searcher",["jira/searchers/datesearcher/date-searcher-factory","jira/skate"],function(e,r){"use strict";return r("js-duedate-searcher",{type:r.type.CLASSNAME,created:e.createDueDateSearcher})}),define("jira/searchers/element/resolved-date-searcher",["jira/searchers/datesearcher/date-searcher-factory","jira/skate"],function(e,r){"use strict";return r("js-resolutiondate-searcher",{type:r.type.CLASSNAME,created:e.createResolvedDateSearcher})}),define("jira/searchers/element/created-date-searcher",["jira/searchers/datesearcher/date-searcher-factory","jira/skate"],function(e,r){"use strict";return r("js-created-searcher",{type:r.type.CLASSNAME,created:e.createCreatedDateSearcher})}),define("jira/searchers/element/updated-date-searcher",["jira/searchers/datesearcher/date-searcher-factory","jira/skate"],function(e,r){"use strict";return r("js-updated-searcher",{type:r.type.CLASSNAME,created:e.createUpdatedDateSearcher})}),define("jira/searchers/element/custom-date-searcher",["jira/searchers/datesearcher/date-searcher-factory","jira/skate"],function(e,r){"use strict";return r("js-customdate-searcher",{type:r.type.CLASSNAME,created:e.createCustomDateSearcher})}),require(["jira/searchers/element/due-date-searcher","jira/searchers/element/resolved-date-searcher","jira/searchers/element/created-date-searcher","jira/searchers/element/updated-date-searcher","jira/searchers/element/custom-date-searcher"]),function(){"use strict";var e=require("jira/searchers/datesearcher/date-searcher-factory");AJS.namespace("JIRA.DateSearcher",null,require("jira/searchers/datesearcher/date-searcher")),AJS.namespace("JIRA.DateSearcher.createDueDateSearcher",null,e.createDueDateSearcher),AJS.namespace("JIRA.DateSearcher.createResolvedDateSearcher",null,e.createResolvedDateSearcher),AJS.namespace("JIRA.DateSearcher.createCreatedDateSearcher",null,e.createCreatedDateSearcher),AJS.namespace("JIRA.DateSearcher.createUpdatedDateSearcher",null,e.createUpdatedDateSearcher),AJS.namespace("JIRA.DateSearcher.createCustomDateSearcher",null,e.createCustomDateSearcher)}();;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initSparklers.js' */
define("jira/searchers/element/sparkler",["jira/ajs/select/checkbox-multi-select","jira/skate"],function(e,t){return t("js-default-checkboxmultiselect",{type:t.type.CLASSNAME,created:function(t){new e({element:t})}})}),define("jira/searchers/element/status-lozenge-sparkler",["jira/ajs/select/checkbox-multi-select-status-lozenge","jira/skate"],function(e,t){return t("js-default-checkboxmultiselectstatuslozenge",{type:t.type.CLASSNAME,created:function(t){new e({element:t})}})}),define("jira/searchers/element/label-sparkler",["jira/ajs/select/checkbox-multi-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/skate","jquery","underscore","wrm/context-path"],function(e,t,r,l,s,a,n){return l("js-label-checkboxmultiselect",{type:l.type.CLASSNAME,created:function(l){var s=new e({element:l,ajaxOptions:{url:n()+"/rest/api/1.0/labels/suggest",query:!0,minQueryLength:0,formatResponse:function(e){var l=s.model.getSelectedValues();return[new t({items:a.map(a.sortBy(a.reject(e.suggestions,function(e){return a.contains(l,e.label)}),"label"),function(e){return new r({highlighted:!0,html:e.html,label:e.label,value:e.label,title:e.label})})})]}}})}})}),require(["jira/searchers/element/sparkler","jira/searchers/element/status-lozenge-sparkler","jira/searchers/element/label-sparkler"]);;
;
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initUserSparkler.js' */
define("jira/searchers/user-utils",["jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","underscore","wrm/context-path"],function(e,r,s,t){function a(r){var s=n(r.users,!0),t=i(r.groups,!0),a=[].concat(s).concat(t);return[new e({items:a})]}function n(e,t){return s.map(e.users,function(e){return new r({highlighted:!0,html:e.html,icon:e.avatarUrl,label:e.displayName,value:(t?"user:":"")+e.name})})}function i(e,a){return s.map(e.groups,function(e){return new r({highlighted:!0,html:e.html,icon:t()+"/images/icons/icon_groups_16.png",label:e.name,value:(a?"group:":"")+e.name})})}return{formatGroupResponse:i,formatUserResponse:n,formatUserGroupResponse:a}}),define("jira/searchers/elements/user-group-sparkler",["jira/ajs/select/checkbox-multi-select","jira/data/parse-options-from-fieldset","jira/searchers/user-utils","jira/skate","jquery","wrm/context-path"],function(e,r,s,t,a,n){return t("js-usergroup-checkboxmultiselect",{type:t.type.CLASSNAME,created:function(t){var i={};a(t).siblings(".user-group-searcher-params").each(function(){i=r(a(this))}),i.showAvatar=!0,new e({element:t,maxInlineResultsDisplayed:10,content:"mixed",ajaxOptions:{url:n()+"/rest/api/latest/groupuserpicker",data:i,query:!0,formatResponse:s.formatUserGroupResponse}})}})}),define("jira/searchers/elements/user-sparkler",["jira/ajs/select/checkbox-multi-select","jira/searchers/user-utils","jira/skate","wrm/context-path"],function(e,r,s,t){return s("js-user-checkboxmultiselect",{type:s.type.CLASSNAME,created:function(s){new e({element:s,maxInlineResultsDisplayed:5,content:"mixed",ajaxOptions:{url:t()+"/rest/api/latest/user/picker",data:{showAvatar:!0},query:!0,formatResponse:function(e){return r.formatUserResponse(e,!1)}}})}})}),define("jira/searchers/elements/group-sparkler",["jira/ajs/select/checkbox-multi-select","jira/searchers/user-utils","jira/skate","wrm/context-path"],function(e,r,s,t){return s("js-group-checkboxmultiselect",{type:s.type.CLASSNAME,created:function(s){new e({element:s,maxInlineResultsDisplayed:5,content:"mixed",ajaxOptions:{url:t()+"/rest/api/latest/groups/picker",data:{showAvatar:!0},query:!0,formatResponse:function(e){return r.formatGroupResponse(e,!1)}}})}})}),require(["jira/searchers/elements/group-sparkler","jira/searchers/elements/user-sparkler","jira/searchers/elements/user-group-sparkler"]);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/SearchPageModule.js' */
define("jira/issues/search-page-module",["require"],function(c){var a=c("jira/issues/basemodel");var b=c("underscore");return a.extend({namedEvents:["changeFilterProps"],properties:["currentLayout","layouts","filter","jql","searchId"],defaults:function(){return{filter:null,jql:null}},initialize:function(d,e){b.extend(this,e);this.registerColumnPicker();this.setLayouts({});this._isInitial=true;this.registerLayout("list-view",{label:"List View",iconClass:"aui-iconfont-view-table",View:JIRA.Issues.FullScreenLayout});this.registerLayout("split-view",{label:"Detail View",iconClass:"aui-iconfont-view-list",View:c("jira/issues/views/details")});this._onFilterChanged();this.on("change:filter",this._onFilterChanged,this);JIRA.Issues.Application.on("issueEditor:close",this.returnToSearch,this);JIRA.Issues.Application.on("issueEditor:loadComplete",function(f,g){if(!this.standalone&&!g.reason){this.searchResults.selectIssueById(f.getId(),{reason:"issueLoaded"});this.searchResults.updateIssueById({id:f.getId(),action:"rowUpdate"},{filter:this.getFilter()});if(f.getKey()){JIRA.Issues.Application.execute("navigation:updateState",{selectedIssueKey:f.getKey()},{replace:true,reason:"issuekey-changed"})}}},this);JIRA.Issues.Application.on("issueEditor:saveSuccess",function(f){this.searchResults.updateIssueById({id:f.issueId,action:"inlineEdit"},{filter:this.getFilter()})},this);JIRA.Issues.Application.on("navigation:stateChanged",this.onStateChanged,this)},registerColumnPicker:function(){this.columnConfig=JIRA.Issues.ColumnPicker.create({search:this})},getInactiveLayouts:function(){var d=[];b.each(this.getLayouts(),function(f,e){if(e!==JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()){d.push(f)}},this);return d},getActiveLayout:function(){return this.getLayouts()[JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()]},changeLayout:function(f,e){var g=this.getLayout(f);var h;var d=this.getCurrentLayout();JIRA.Issues.changingLayout=true;jQuery("body, html").scrollTop(0);e=b.defaults({},e,{ajax:true,render:true});if(g){if(d instanceof g.View){return}if(d&&d.close){d.close();this.searchResults.unselectIssue({replace:true})}JIRA.Issues.LayoutPreferenceManager.setPreferredLayoutKey(f,e);h=new g.View({fullScreenIssue:this.fullScreenIssue,issueContainer:this.issueContainer,issueCacheManager:this.issueCacheManager,search:this.search,searchContainer:this.searchContainer,searchHeaderModule:this.searchHeaderModule,columnConfig:this.columnConfig,searchPageModule:this});h.on("close",function(){this.searchContainer.find(".navigator-content").addClass("pending")},this);h.on("render",function(){this.searchContainer.find(".navigator-content").removeClass("pending");JIRA.trigger(JIRA.Events.LAYOUT_RENDERED,[f])},this);if(e.render){h.render()}this.setCurrentLayout(h);this.standalone=false;JIRA.Issues.Application.execute("analytics:trigger","kickass.issue-navigator.change-layout",{type:f})}},createLayout:function(){if(!this.getCurrentLayout()){this.changeLayout(JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey(),{render:false});this.fullScreenIssue.deactivate()}},_onFilterChanged:function(){var d=this.previous("filter");if(d){d.off("change",this.triggerChangeFilterProps,this)}var e=this.getFilter();if(e){e.on("change",this.triggerChangeFilterProps,this)}},getLayout:function(d){return this.getLayouts()[d]||null},getSortedLayouts:function(){return b.sortBy(this.getLayouts(),"label")},registerLayout:function(d,e){e.id=d;this.getLayouts()[d]=e},getJqlDeferred:function(){var e=new jQuery.Deferred();var d=this;b.defer(function(){d.queryModule.searchersReady().always(function(){b.defer(function(){e.resolve(d.getEffectiveJql())})})});return e.promise()},registerIssueSearchManager:function(d){this.issueSearchManager=d},registerIssueCacheManager:function(d){this.issueCacheManager=d},registerQueryModule:function(d){this.queryModule=d;this.queryModule.onJqlChanged(this.queryModuleSearchRequested,this);this.queryModule.onJqlError(this.disableLayoutSwitcher,this);this.queryModule.onJqlSuccess(this.enableLayoutSwitcher,this);this.queryModule.onVerticalResize(JIRA.Issues.triggerVerticalResize);this.queryModule.onQueryTooComplexSwitchToAdvanced(function(){JIRA.Issues.Application.execute("analytics:trigger","kickass.queryTooComplexSwitchToAdvanced")});this.queryModule.onBasicModeCriteriaCountWhenSearching(function(e){JIRA.Issues.Application.execute("analytics:trigger","kickass.basicModeCriteriaCountWhenSearching",e)});this.queryModule.onChangedPreferredSearchMode(function(e){JIRA.Issues.Application.execute("analytics:trigger","kickass.switchto"+e)});this.queryModule.onSearchChanged(b.bind(function(h){var k=this.getState();var j=h.newJql;var f=k.filterJql;var g=k.jql;var e;var i;if(g===null){e=f!==j;i=f!==j}else{e=f!==g||g!==j;i=g!==j}this.filterModule.updateFilterHeader({isEdited:e,isPendingSearch:i})},this));JIRA.Shifter.register(new JIRA.Issues.SearchShifter({isBasicMode:b.bind(this.queryModule.isBasicMode,this.queryModule),isFullScreenIssue:b.bind(this.isFullScreenIssueVisible,this),searcherCollection:this.queryModule.getSearcherCollection()}))},disableLayoutSwitcher:function(){if(this.layoutSwitcher){this.layoutSwitcher.disableLayoutSwitcher()}},enableLayoutSwitcher:function(){if(this.layoutSwitcher){this.layoutSwitcher.enableLayoutSwitcher()}},registerLayoutSwitcher:function(d){this.layoutSwitcher=d},registerFilterModule:function(d){if(this.filterModule){this.filterModule.off("filterRemoved");this.filterModule.off("filterSelected")}this.filterModule=d;this.filterModule.on("filterRemoved",function(f){var e=this.getFilter();if(e&&f.filterId===e.getId()){this.resetToBlank()}},this);this.filterModule.on("filterSelected",function(e){this.resetToFilter(e.filterId)},this)},registerSearch:function(e){this.search=e;this.searchResults=this.search.getResults();this.searchResults.on("change:resultsId",this._handleSearchResultsChange,this);this.searchResults.onStartIndexChange(this._handleSearchResultsChange,this);this.searchResults.onSelectedIssueChange(this._handleSearchResultsChange,this);var d=this.columnConfig;this.on("change:filter",function(){d.clearFilterConfiguration()});this.searchResults.onColumnsChange(function(f){var g=f.getColumnConfig();if(g){d.syncColumns(g,f.getColumns())}});this.searchResults.onColumnConfigChange(function(f){var g=f.getColumnConfig();if(g){d.setCurrentColumnConfig(g);d.syncColumns(g,f.getColumns())}});d.onColumnsSync(function(f){e.stableUpdate({columnConfig:f})});this.searchResults.onSelectedIssueChange(b.bind(function(f){if(!f.hasIssue()){JIRA.Issues.Application.execute("issueEditor:removeIssueMetadata")}},this))},_handleSearchResultsChange:function(e,d){d=b.defaults({},d,{reason:"search-results-change"});JIRA.Issues.Application.execute("navigation:navigate",this.searchResults.getState(),d)},registerSearchHeaderModule:function(d){this.searchHeaderModule=d},registerFullScreenIssue:function(d){this.fullScreenIssue=d;this.fullScreenIssue.bindIssueHidden(function(){JIRA.Issues.Application.execute("issueEditor:dismiss");this.updateWindowTitle(this.getFilter());JIRA.trigger(JIRA.Events.NEW_CONTENT_ADDED,[this.searchContainer,JIRA.CONTENT_ADDED_REASON.returnToSearch])},this)},registerViewContainers:function(d){this.issueContainer=d.issueContainer;this.searchContainer=d.searchContainer},prevIssue:function(){if(!this.standalone&&this.getCurrentLayoutKey()==="split-view"){c("jira/issues/views/details/metrics").start()}if(this._overlayIsVisible()){return false}if(JIRA.Issues.Application.request("issueEditor:canDismissComment")&&!this.standalone){this.getCurrentLayout().prevIssue();return true}return false},nextIssue:function(){if(!this.standalone&&this.getCurrentLayoutKey()==="split-view"){c("jira/issues/views/details/metrics").start()}if(this._overlayIsVisible()){return false}if(JIRA.Issues.Application.request("issueEditor:canDismissComment")&&!this.standalone){this.getCurrentLayout().nextIssue();return true}return false},isCurrentlyLoadingIssue:function(){if(this.fullScreenIssue.isVisible()){return this.fullScreenIssue.isLoading()}else{return this.getCurrentLayout().isLoading()}},_overlayIsVisible:function(){return AJS.$(".aui-blanket[aria-hidden='false']").length>0},getEffectiveIssueId:function(){return this.getEffectiveIssue().getId()},updateIssue:function(f){var e=f.action===JIRA.Issues.Actions.DELETE;var d=this.fullScreenIssue.isVisible();if(e){return this._deleteIssue(f)}else{if(d){return this.fullScreenIssue.updateIssue(f).done(b.bind(function(){if(!this.standalone){this.searchResults.updateIssue(f,{showMessage:false,filter:this.getFilter()})}},this))}else{return this.searchResults.updateIssue(f,{filter:this.getFilter()})}}},_deleteIssue:function(f){var d=this.fullScreenIssue.isVisible();var e=f.key===JIRA.Issues.Application.request("issueEditor:getIssueKey");if(!d){return this.searchResults.updateIssue(f)}else{if(!e){return this.fullScreenIssue.updateIssue(f)}else{if(this.standalone){this.resetToBlank();JIRA.Issues.showNotification(f.message,f.key);return new jQuery.Deferred().resolve().promise()}else{this.returnToSearch();return this.searchResults.updateIssue(f)}}}},getEffectiveIssueKey:function(){return this.getEffectiveIssue().getKey()},getEffectiveIssue:function(){var e=this.searchResults.hasHighlightedIssue();var f=this.searchResults.hasSelectedIssue();var d;d=new JIRA.Issues.SimpleIssue({id:JIRA.Issues.Application.request("issueEditor:getIssueId"),key:JIRA.Issues.Application.request("issueEditor:getIssueKey")});if(this.standalone){return d}else{if(f){return this.searchResults.getSelectedIssue()}else{if(e){return this.searchResults.getHighlightedIssue()}else{return d}}}},isHighlightedIssueAccessible:function(){return this.search.getResults().isHighlightedIssueAccessible()},returnToSearch:function(){if(this.standalone){this.resetToBlank();JIRA.trace("jira.returned.to.search")}else{if(this.fullScreenIssue.isVisible()){c("jira/issues/navigator/metrics").notifyIssueNavList();this.searchResults.unselectIssue();JIRA.Issues.Application.execute("issueEditor:beforeHide");if(this.queryModule.refreshLayout){this.queryModule.refreshLayout()}}else{JIRA.trace("jira.returned.to.search")}}jQuery.event.trigger("updateOffsets.popout")},toggleFilterPanel:function(){return this.filterModule.toggleFilterPanel()},issueTableSortRequested:function(d,e){this.update({jql:d,startIndex:e})},issueTableSearchError:function(d){if(d.status!==0){this.filterModule.markFilterModuleAsInvalid();this.queryModule.onSearchError(this.parseServerErrors(d))}},parseServerErrors:function(d){var f;try{f=JSON.parse(d.responseText)}catch(e){f={errorMessages:["Error occurred communicating with the server. Please reload the page and try again."]}}return f},issueTableSearchSuccess:function(d){this.update({startIndex:d.startIndex});this.queryModule.onSearchSuccess(d.warnings)},issueTableStableUpdate:function(d){this.update({startIndex:d})},confirmNavigation:function(d){d=b.defaults({},d,{confirm:function(f){return window.confirm(f)},ignoreDirtiness:false});var e=JIRA.DirtyForm.getDirtyWarning()||JIRA.Issue.getDirtyCommentWarning();return !!d.ignoreDirtiness||e===undefined||d.confirm(e)},isFullScreenIssueVisible:function(){return this.fullScreenIssue&&this.fullScreenIssue.isVisible()},isSplitViewLayout:function(){return this.getCurrentLayoutKey()==="split-view"},isListViewLayout:function(){return this.getCurrentLayoutKey()==="list-view"},isIssueVisible:function(){var d=JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey();if(this.isFullScreenIssueVisible()){return true}else{if(d==="list-view"){return this.fullScreenIssue.isVisible()}else{if(d==="split-view"){return this.search.getResults().hasIssues()}}}return false},queryModuleSearchRequested:function(d){this.update({jql:d,startIndex:0,selectedIssueKey:null,searchId:b.uniqueId()})},filterModuleSaved:function(d){this.reset({filter:d.getId(),filterJql:d.getJql()})},discardFilterChanges:function(){this.update({jql:null,selectedIssueKey:null},true)},getState:function(){var d=this.getFilter();var e={filter:d&&d.getId(),filterJql:d&&d.getJql(),jql:this.getJql()};if(this.standalone){e.selectedIssueKey=JIRA.Issues.Application.request("issueEditor:getIssueKey")}else{b.extend(e,this.search.getResults().getState())}return e},_doSearch:function(d){this.filterModule.markFilterModuleInSearch(true);d=d||{};var e={};var g;var f=this.getFilter();e.startIndex=d.startIndex;if(f){e.filterId=f.getId()}if(d.columnConfig){e.columnConfig=d.columnConfig}e.jql=this.getEffectiveJql();g=this.issueSearchManager.search(e);g.always(function(){this.filterModule.markFilterModuleInSearch(false)}.bind(this)).done(function(h){if(this.fullScreenIssue.isVisible()&&!AJS.Meta.get("serverRenderedViewIssue")){JIRA.Issues.Application.execute("issueEditor:beforeHide")}this.searchResults.resetFromSearch(b.extend(d,h.issueTable));this.queryModule.onSearchSuccess(h.warnings);jQuery.event.trigger("updateOffsets.popout")}.bind(this)).fail(function(h){if(h.statusText!=="abort"){if(h.status===400&&d.selectedIssueKey){this.reset({selectedIssueKey:d.selectedIssueKey},{replace:true})}else{this.searchResults.resetFromSearch(b.extend(b.pick(d,"selectedIssueKey"),this.searchResults.defaults));this.issueTableSearchError(h)}}}.bind(this));return g},updateWindowTitle:function(d){if(this.isFullScreenIssueVisible()){return}var e=d;var f=AJS.format("{0} - {1}","Issue Navigator",JIRA.Settings.ApplicationTitle.get());if(e&&e.getIsValid()){document.title="["+e.getName()+"] "+f}else{document.title=f}},_applyState:function(f,h,e){e=e||{};var g=this.toJSON();this.set(b.extend({},this.defaults(),b.pick(f,this.properties)));this.updateWindowTitle(this.getFilter());if(h){var d=(f.filter&&f.jql==null)?f.filter.getJql():f.jql;this.queryModule.resetToQuery(d,{focusQuery:e.isNewSearch}).always(b.bind(function(){this.queryModule.setVisible(!f.filter||f.filter.getIsValid())},this))}var i;if(this.shouldPerformNewSearch(g,this.toJSON())){i=this._doSearch(f)}else{i=new jQuery.Deferred().resolve();if(b.indexOf(["search-results-change","update-filter-jql","issuekey-changed"],e.reason)===-1){if("selectedIssueKey" in f){this.searchResults.selectIssueByKey(f.selectedIssueKey)}if("startIndex" in f&&!f.selectedIssueKey){this.searchResults.goToPage(f.startIndex)}}}this.trigger("searching",{searchPromise:i});if(f.filter&&f.filter.getJql()!==f.filterJql){JIRA.Issues.Application.execute("navigation:updateState",{filterJql:f.filter.getJql()},{replace:true,reason:"update-filter-jql"})}},shouldPerformNewSearch:function(i,h){var j=i.filter&&i.filter.getId();var d=h.filter&&h.filter.getId();var f=j!==d;var g=h.jql!==i.jql;var e=h.searchId!==i.searchId;return f||g||e},refreshSearch:function(){return this._doSearch(b.extend({},this.getState(),{selectedIssueKey:undefined}))},onStateChanged:function(f,d){d=b.defaults({},d,{resetQuery:false,routerEvent:false});var e=b.clone(f);if(d.forceFullPageLoad){return}if(f.isStandaloneIssue()){this.resetToStandaloneIssue(e)}else{if(d.routerEvent){this.applyState(e,!this._isSearchStateEqual(e),d)}else{this.applyState(e,d.resetQuery,d)}}this._isInitial=false},update:function(e,f,d){JIRA.Issues.Application.execute("navigation:navigate",e,b.extend({},d,{resetQuery:f}))},reset:function(e,d){e.searchId=b.uniqueId();JIRA.Issues.Application.execute("navigation:navigate",e,b.extend({},d,{reset:true,resetQuery:true}))},_deactivateCurrentLayout:function(){var d=this.getCurrentLayout();if(d){if(d.close){d.close()}this.setCurrentLayout(null)}},resetToStandaloneIssue:function(d){c("jira/issues/navigator/metrics").notifyIssueView(this._isInitial);this._deactivateCurrentLayout();this.set(this.defaults());this.standalone=true;this.fullScreenIssue.show({key:d.selectedIssueKey,viewIssueQuery:d.viewIssueQuery})},applyState:function(g,i,f){f=f||{};if(this.getFilter() instanceof JIRA.Components.Filters.Models.Filter&&this.getFilter().getId()===g.filter){g.filter=this.getFilter()}var e;var d=g.filter&&!(g.filter instanceof JIRA.Components.Filters.Models.Filter);var h=this.initSystemFilters();if(JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()==="split-view"){if(f.fullPageLoad===true){c("jira/issues/views/details/metrics").startFromPageLoad()}else{if(g.selectedIssueKey!=null){c("jira/issues/views/details/metrics").start()}}}else{if(JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()==="list-view"){if(g.selectedIssueKey){c("jira/issues/navigator/metrics").notifyIssueView(this._isInitial)}else{c("jira/issues/navigator/metrics").notifyIssueNavList()}}}JIRA.Issues.Application.execute("issueEditor:abortPending");this.createLayout();if(d){e=new jQuery.Deferred();h.always(b.bind(function(){this.filterModule.getFilterById(g.filter).always(function(j){g.filter=j;e.resolve()})},this))}jQuery.when(e,h).always(b.bind(function(){this._applyState(g,i,f)},this))},hasSelectedIssue:function(){return this.search.getResults().getSelectedIssue().getKey()},resetToFilter:function(d){this.reset({filter:d,searchId:b.uniqueId()})},resetToBlank:function(d){this.reset({jql:""},d)},isDirty:function(){var d=this.getFilter();return !!d&&d.getJql()!==this.getEffectiveJql()},getSearchMode:function(){return this.queryModule.getSearchMode()},getActiveBasicModeSearchers:function(){return this.queryModule.getActiveBasicModeSearchers()},setSessionSearch:function(g){var e=c("jira/components/issueviewer/services/darkfeatures");var h=!e.HTTP_SESSIONS_DISABLED.enabled();if(h){AJS.$.ajax({data:{filterId:g.getId()},type:"PUT",url:AJS.contextPath()+"/rest/issueNav/1/issueTable/sessionSearch/"})}var d=c("jira/components/search/latestStorage");var f={data:{filter:g.getId(),jql:g.getJql()}};d.save(f)},openFocusShifter:function(){JIRA.Issues.FocusShifter.show()},setAsInaccessible:function(d){this.issueTableModule.setAsInaccessible(d)},showInlineIssueLoadError:function(){var d=JIRA.Components.IssueViewer.Templates.Body.errorsLoading();JIRA.Messages.showErrorMsg(d,{closeable:true})},getEffectiveJql:function(){var e=this.getFilter();var d=this.getJql();if(b.isString(d)){return d}else{if(e){return e.getJql()||""}else{return""}}},initSystemFilters:function(){return this.filterModule.initSystemFilters()},addOwnerToSystemFilters:function(f){var g=AJS.Meta.get("remote-user");if(!g){return f}var e=AJS.Meta.get("remote-user-fullname");var d=AJS.Meta.get("remote-user-avatar-url");return b.map(f,function(h){h.ownerUserName=g;h.ownerDisplayName=e;h.avatarUrl=d;return h})},focusIssueList:function(){if(this._allowLeftRightNavigation()){if(this.getCurrentLayout()){this.getCurrentLayout().focusIssueList()}}},focusIssueEditor:function(){if(this._allowLeftRightNavigation()){if(this.getCurrentLayout()){this.getCurrentLayout().focusIssueEditor()}}},handleUp:function(){if(!this._allowUpDownNavigation()){return false}if(this.searchResults.isFirstIssueHighlighted()){return false}return this.prevIssue()},handleDown:function(){if(!this._allowUpDownNavigation()){return false}return this.nextIssue()},_allowLeftRightNavigation:function(){return !AJS.keyboardShortcutsDisabled},_allowUpDownNavigation:function(){if(AJS.keyboardShortcutsDisabled){return false}if(AJS.InlineLayer.current||AJS.Dropdown.current||JIRA.Dialog.current||AJS.$(".aui-dropdown2:visible").length>0){return false}return this.getCurrentLayout()&&!this.getCurrentLayout().isIssueViewActive()},_isSearchStateEqual:function(d){var e=["filter","jql","startIndex"];return b.isEqual(b.pick(d,e),b.pick(this.getState(),e))},removeOpenTipsies:JIRA.Issues.Tipsy.revalidate,getCurrentLayoutKey:function(){var e=this.getCurrentLayout();if(!e){return}var f=this.getLayouts();var d=b.find(f,function(g){return e instanceof g.View});if(!d){return}return d.id}})});AJS.namespace("JIRA.Issues.SearchPageModule",null,require("jira/issues/search-page-module"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/IssueSearchManager.js' */
(function(){AJS.namespace("JIRA.Issues.IssueSearchManager");JIRA.Issues.IssueSearchManager=JIRA.Issues.BaseEvented.extend({namedEvents:["beforeSearch","searchError"],initialize:function(a){_.extend(this,a);this.issueKeys=new JIRA.Components.IssueViewer.Legacy.AsyncData()},hasInitialSearch:function(){return !!this.initialIssueTableState},search:function(c){var b;var a;c=_.extend({},c);if(_.isNumber(c.startIndex)===false){c.startIndex=0}if(this.activeResultsReq){if(JSON.stringify(this.activeRequestData)===JSON.stringify(c)){return new jQuery.Deferred().reject().promise()}else{this.activeResultsReq.abort()}}this.activeRequestData=c;this.triggerBeforeSearch();if(this.hasInitialSearch()){b=new jQuery.Deferred().resolve(this.initialIssueTableState);a="jira.search.finished.initial";this.initialIssueTableState=null;this.initialIssueIds=null}else{b=this.activeResultsReq=this._doSearch(c);a="jira.search.finished.secondary"}b.always(_.bind(function(){this.activeResultsReq=null;this.activeRequestData=null;JIRA.trace(a)},this));b.done(_.bind(this._updateIssueKeysOnSearchSuccess,this));b.fail(_.bind(function(){this.issueKeys.reset();this.triggerSearchError();_.defer(JIRA.trace,"jira.search.finished")},this));return b.pipe(function(d){if(d.issueTable){delete d.issueTable.issueKeys}return d}).promise()},_doSearch:function(c){var b=/^-?\d+$/;if(c.filterId&&!b.test(c.filterId)){var a={status:400,responseText:JSON.stringify({errors:["Invalid filter id. Filter id must be a number."]})};return new jQuery.Deferred().reject(a).promise()}return jQuery.ajax({type:"POST",url:AJS.contextPath()+"/rest/issueNav/1/issueTable",headers:JIRA.Issues.XsrfTokenHeader,data:_.extend(c,{layoutKey:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()})})},_updateIssueKeysOnSearchSuccess:function(a){var d;var c=a.issueTable.issueIds;var b=a.issueTable.issueKeys;if(c&&b){d={};_.each(c,function(f,e){d[f]={value:b[e],error:false}});this.issueKeys.reset(d)}else{d=JIRA.Issues.IssueSearchManager._extractIssueKeysFromTable(a.issueTable.table);this.issueKeys.reset(d)}},getRowsForIds:function(b,a){if(!b.length){return new jQuery.Deferred().resolve({}).promise()}var c=jQuery.ajax({data:_.extend({id:b,layoutKey:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()},a),type:"POST",headers:JIRA.Issues.XsrfTokenHeader,url:AJS.contextPath()+"/rest/issueNav/1/issueTable/stable"});c.fail(_.bind(function(){this.triggerSearchError()},this));return c.pipe(function(d){return d.issueTable}).done(_.bind(function(d){this.issueKeys.setMultiple(JIRA.Issues.IssueSearchManager._extractIssueKeysFromTable(d.table,b));_.defer(JIRA.trace,"jira.search.finished")},this)).promise()},setAsInaccessible:function(a){return this.issueKeys.setError(a)}},{_extractIssueKeysFromTable:function(a,b){var c={};AJS.$(a).find(".issuerow").each(function(f){var d=AJS.$(this);var g=b?b[f]:d.attr("rel");var e=d.data("issuekey")||null;if(g){c[g]=e?{value:e,error:false}:{error:true}}});return c}})}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/SearchResults.js' */
(function(a){AJS.namespace("JIRA.Issues.SearchResults");JIRA.Issues.SearchResults=JIRA.Issues.BaseModel.extend({defaults:{issueIds:[],selectedIssue:new JIRA.Issues.SimpleIssue(),highlightedIssue:new JIRA.Issues.SimpleIssue(),total:0},properties:["columnSortJql","highlightedIssue","issueIds","issueIdsForPage","jiraHasIssues","pageSize","resultsId","selectedIssue","startIndex","sortBy","columns","table","total","initialPayload","columnConfig"],namedEvents:["prevIssueSelected","nextIssueSelected","issueUpdated","issueDeleted","issueDoesNotExist","stableUpdate"],initialize:function(b,c){JIRA.Issues.ModelUtils.makeTransactional(this,"resetFromSearch","selectNextIssue","selectPrevIssue");this.issueUpdateCallbacks=[];this._issueSearchManager=c.issueSearchManager;this._initialSelectedIssue=c.initialSelectedIssue;this._columnConfig=c.columnConfig},getStartIndexForPage:function(b){return b*this.getPageSize()},hasIssue:function(b){return _.indexOf(this.getIssueIds(),b)!==-1},getPager:function(){if(this.hasIssue(this.getSelectedIssue().getId())){var e=this.getIssueIds();var f=this.getSelectedIssue().getId();var c=_.indexOf(e,f);var g=this.getTotal();var h=e.length;var d={position:JIRA.NumberFormatter.format(c+1),resultCount:JIRA.NumberFormatter.format(g)};if(c>0){var i=this._getPrevIssueId(f);if(i){d.previousIssue={id:i,key:this._getIssueKeyForId(i)}}}if(c<g-1&&c<h-1){var b=this._getNextIssueId(f);if(b){d.nextIssue={id:b,key:this._getIssueKeyForId(b)}}}return d}},getNumberOfPages:function(){return this._getPageNumberForStartIndex(this.getDisplayableTotal()-1)},removeIssue:function(e){e=parseInt(e,10);var d=this.getIssueIds()[0]===e;var c=this.getHighlightedIssue().getId()===e;var b=_.last(this.getIssueIds())===e;if(c){if(!b){this.highlightNextIssue({replace:true})}else{if(!d){this.highlightPrevIssue({replace:true})}}}this.setIssueIds(_.without(this.getIssueIds(),e));this.setTotal(this.getTotal()-1);this.triggerIssueDeleted({id:e,key:this._getIssueKeyForId(e)})},isFirstIssueHighlighted:function(){if(!this.hasHighlightedIssue()){return false}return this.getHighlightedIssue().getId()===this.getIssueIds()[0]},updateIssueById:function(c,b){return this.updateIssue(c,b)},updateIssue:function(f,b){var d=f.action===JIRA.Issues.Actions.DELETE;var e=f.id;var c=[];b=_.defaults({},b,{showMessage:true,filter:null});if(d){this.removeIssue(e);if(b.showMessage){this._notifyOfIssueUpdate(f)}return new jQuery.Deferred().resolve().promise()}else{return this.getResultForId(e,b.filter).done(_.bind(function(g){_.each(this.issueUpdateCallbacks,function(i){var h=i.handler.call(i.ctx||window,e,g,f);if(h&&h.promise){c.push(h)}});a.when(c).done(_.bind(function(){if(b.showMessage){this._notifyOfIssueUpdate(f)}},this))},this))}},_notifyOfIssueUpdate:function(b){if(b.message){JIRA.Issues.showNotification(b.message,b.key)}JIRA.trace("jira.search.stable.update")},getResultForId:function(d,c){var b={columnConfig:this._columnConfig.columnPickerModel.getColumnConfig()};if(c&&!c.getIsSystem()){b=_.extend({filterId:c.getId()},b)}return this._issueSearchManager.getRowsForIds([d],b)},isHighlightedIssueAccessible:function(){if(!this.hasHighlightedIssue()){return null}return !this._issueSearchManager.issueKeys.hasError(this.getHighlightedIssue().getId())},getDisplayableTotal:function(){return this.getIssueIds().length},selectIssueByKey:function(c,b){if(!c){this.unselectIssue();return}var d=this._getIssueIdForKey(c);if(!d||d===-1){this._unhighlightIssue();this.getSelectedIssue().set({id:-1,key:c});this.triggerIssueDoesNotExist()}else{this._selectExistingIssueById(d,b)}},_unhighlightIssue:function(){this.getHighlightedIssue().set({id:null,key:null})},selectFirstInPage:function(b){this.selectIssueById(this.getIssueIds()[this.getStartIndex()],b)},getPrevPageStartIndex:function(){var b=(this.getStartIndex()||0)-this.getPageSize();return(b<0)?null:b},getNextPageStartIndex:function(){var b=this.getPositionOfLastIssueInPage();return(b>=this.getDisplayableTotal())?null:b},getPositionOfLastIssueInPage:function(){var c=this.getStartIndex();var b=this._pageSize();return Math.min(c+b,this.getDisplayableTotal())},highlightFirstInPage:function(){this.highlightIssueById(this.getIssueIds()[this.getStartIndex()])},selectIssueById:function(c,b){if(!c){this.unselectIssue()}else{this._selectExistingIssueById(c,b)}},_selectExistingIssueById:function(c,b){if(c!==this.getSelectedIssue().getId()&&JIRA.Issues.Application.request("issueEditor:canDismissComment")){c=c?parseInt(c,10):null;this.getSelectedIssue().set({id:c,key:c?this._getIssueKeyForId(c):null},b);this.highlightIssueById(c)}},highlightIssueById:function(c,b){b=_.defaults({},b,{replace:false});if(c&&c!==this.getHighlightedIssue().getId()){c=c?parseInt(c,10):null;this.getHighlightedIssue().set({id:c,key:c?this._getIssueKeyForId(c):null},b);if(c){this.setStartIndex(this._getStartIndexForIssueId(c))}}},getState:function(){return{selectedIssueKey:this.getSelectedIssue().getKey(),startIndex:this.getStartIndex()}},resetFromSearch:function(b){b.resultsId=_.uniqueId();this.getSelectedIssue().set({id:null,key:null});this.set({sortBy:null});this.set("startIndex",b.startIndex,{silent:true});this.set(_.pick(b,this.properties));if(typeof b.selectedIssueKey==="string"){this.selectIssueByKey(b.selectedIssueKey)}else{if(this.hasIssues()){this.highlightFirstInPage()}else{this.getHighlightedIssue().set({id:null,key:null})}}},hasIssues:function(){return !!this.getIssueIds().length},isIssueOnPage:function(b){return _.indexOf(this.getPageIssueIds(),b)!==-1},isFirstIssueSelected:function(){if(this.hasIssue(this.getSelectedIssue().getId())){var c=this.getIssueIds();var d=this.getSelectedIssue().getId();var b=_.indexOf(c,d);return b===0}return false},getResultsForPage:function(c){_.extend(c,{columnConfig:this._columnConfig.columnPickerModel.getColumnConfig()});if(this.getTable()){var b=this.getTable();this.setTable(null,{silent:true});_.defer(function(){JIRA.trace("jira.search.finished")});return new a.Deferred().resolve(b).promise()}return this.getResultsForIds(this.getPageIssueIds(),c)},getResultsForIds:function(e,d){var b=this;var c=new a.Deferred();this._issueSearchManager.getRowsForIds(e,d).done(function(f){var g=_.isArray(f.table);if(!g){b.setColumnConfig(f.columnConfig);b.setColumns(f.columns);b.setColumnSortJql(f.columnSortJql)}c.resolve(f.table)}).fail(c.reject).always(function(){_.defer(function(){JIRA.trace("jira.search.finished")})});return c},applyState:function(b){this.set(_.pick(b,this.properties))},unselectIssue:function(b){var c=this.getSelectedIssue();if(c.getId()&&JIRA.Issues.Application.request("issueEditor:canDismissComment")){c.set({id:null,key:null},b)}},hasSelectedIssue:function(){return !!this.getSelectedIssue().getId()},hasHighlightedIssue:function(){return !!this.getHighlightedIssue().getId()},getPageIssueIds:function(){var d=this.getStartIndex();var c=this._pageSize();var b=this.getIssueIds();return b?b.slice(d,Math.min(d+c,b.length)):[]},getPageIssues:function(){return _.map(this.getPageIssueIds(),function(b){return{id:b,key:this._getIssueKeyForId(b)}},this)},getPageNumber:function(){return Math.floor(this.getStartIndex()/this._pageSize())},getPositionOfIssueInPage:function(b){return this.getPositionOfIssueInSearchResults(b)%this._pageSize()},getPositionOfIssueInSearchResults:function(b){return _.indexOf(this.getIssueIds(),b)},selectNextIssue:function(b){if(!this.hasSelectedIssue()){return new a.Deferred().reject().promise()}var c=this._getNextIssueId(this.getSelectedIssue().getId());this._triggerNextIssueSelectedEvent(c);return this._selectIssue(c,b)},selectPrevIssue:function(b){if(!this.hasSelectedIssue()){return new a.Deferred().reject().promise()}var c=this._getPrevIssueId(this.getSelectedIssue().getId());this._triggerPrevIssueSelectedEvent(c);return this._selectIssue(c,b)},_selectIssue:function(c,b){this.selectIssueById(c,b);return new a.Deferred().resolve(c).promise()},highlightNextIssue:function(b){if(!this.hasHighlightedIssue()){return new a.Deferred().reject().promise()}var c=this._getNextIssueId(this.getHighlightedIssue().getId());this.highlightIssueById(c,b);return new a.Deferred().resolve(c).promise()},highlightPrevIssue:function(b){if(!this.hasHighlightedIssue()){return new a.Deferred().reject().promise()}var c=this._getPrevIssueId(this.getHighlightedIssue().getId());this.highlightIssueById(c,b);return new a.Deferred().resolve(c).promise()},goToPage:function(d,c){c=_.defaults({},c,{replace:false});if(d===null||d===this.getStartIndex()){return new a.Deferred().resolve().promise()}var b=this.getIssueIds()[d];this.highlightIssueById(b,c);return new a.Deferred().resolve(b).promise()},onHighlightedIssueChange:function(c,b){this.getHighlightedIssue().on("change",c,b)},offHighlightedIssueChange:function(c,b){this.getHighlightedIssue().off("change",c,b)},onSelectedIssueChange:function(c,b){this.getSelectedIssue().on("change",c,b)},offSelectedIssueChange:function(c,b){this.getSelectedIssue().off("change",c,b)},onColumnConfigChange:function(c,b){this.on("change:columnConfig",c,b)},offColumnConfigChange:function(c,b){this.off("change:columnConfig",c,b)},onColumnsChange:function(c,b){this.on("change:columns",c,b)},offColumnsChange:function(c,b){this.off("change:columns",c,b)},onStartIndexChange:function(c,b){this.on("change:startIndex",c,b)},onNewIssueIds:function(c,b){this.on("change:issueIds",c,b)},offNewIssueIds:function(c,b){this.off("change:issueIds",c,b)},offStartIndexChange:function(c,b){this.off("change:startIndex",c,b)},onNewPayload:function(c,b){this.on("change:resultsId",c,b)},offNewPayload:function(c,b){this.off("change:resultsId",c,b)},onIssueUpdated:function(c,b){this.issueUpdateCallbacks.push({handler:c,ctx:b})},offIssueUpdated:function(c){var b=[];this.issueUpdateCallbacks=_.each(this.issueUpdateCallbacks,function(d){if(d.handler!==c){b.push(d)}});this.issueUpdateCallbacks=b},_getNextIssueId:function(c){var b=this.getIssueIds();return b[Math.min(_.indexOf(b,c)+1,this.getDisplayableTotal()-1)]},getNextIssueForId:function(c){var b=this._getNextIssueId(c);return{id:b,key:this._getIssueKeyForId(b)}},getNextIssueForSelectedIssue:function(){return this.getNextIssueForId(this.getSelectedIssue().getId())},_getPrevIssueId:function(c){var b=this.getIssueIds();return b[Math.max(0,_.indexOf(this.getIssueIds(),c)-1)]},_getStartIndexForIssueId:function(d){var c=_.indexOf(this.getIssueIds(),d);var b=this._pageSize();return Math.max(0,Math.floor(c/b)*b)},_getIssueIdForKey:function(b){if(this._initialSelectedIssue&&b===this._initialSelectedIssue.key){return this._initialSelectedIssue.id}return this._getIssueKeysToIds()[b]},_getIssueKeyForId:function(b){if(this._initialSelectedIssue&&b===this._initialSelectedIssue.id){return this._initialSelectedIssue.key}return this._getIssueIdsToKeys()[b]},_getIssueIdsToKeys:function(){return this._issueSearchManager.issueKeys.getAllCached()},_getIssueKeysToIds:function(){var b={};var c=this._issueSearchManager.issueKeys.getAllCached();_.each(c,function(e,d){b[e]=d});return b},_getPageNumberForStartIndex:function(b){return Math.floor(b/this._pageSize())},_pageSize:function(){return this.getPageSize()},_triggerPrevIssueSelectedEvent:function(c){if(c!==this.getSelectedIssue().getId()){var b=this._getPrevIssueId(c);this.trigger("prevIssueSelected",{prevIssue:{id:c,key:this._getIssueKeyForId(c)},prevPrevIssue:{id:b,key:this._getIssueKeyForId(b)}})}},_triggerNextIssueSelectedEvent:function(b){if(b!==this.getSelectedIssue().getId()){var c=this._getNextIssueId(b);this.trigger("nextIssueSelected",{nextIssue:{id:b,key:this._getIssueKeyForId(b)},nextNextIssue:{id:c,key:this._getIssueKeyForId(c)}})}}})})(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/SearchModule.js' */
(function(){AJS.namespace("JIRA.Issues.SearchModule");JIRA.Issues.SearchModule=JIRA.Issues.BaseEvented.extend({initialize:function(a){this._issueSearchManager=a.issueSearchManager;this._searchPageModule=a.searchPageModule;this._searchResults=new JIRA.Issues.SearchResults(null,{issueSearchManager:this._issueSearchManager,initialSelectedIssue:a.initialSelectedIssue,columnConfig:this._searchPageModule.columnConfig});JIRA.Issues.Application.reqres.setHandler("issueNav:currentSearchRequest",this.getCurrentSearchRequest,this);JIRA.Issues.Application.commands.setHandler("issueNav:refreshSearch",this.refresh,this)},doSort:function(a){if(a){this._searchPageModule.update({jql:a,startIndex:null,selectedIssueKey:null},true)}},getFilterId:function(){var a=this._searchPageModule.getFilter();return a&&a.getId()},getJql:function(){return this._searchPageModule.getJql()},getEffectiveJql:function(){return this._searchPageModule.getEffectiveJql()},getResults:function(){return this._searchResults},getState:function(){return this._searchPageModule.getState()},getCurrentSearchRequest:function(){return{jql:this.getJql(),filterId:this.getFilterId()}},isStandAloneIssue:function(a){a=a||this._searchPageModule.getState();return !!a.selectedIssueKey&&!_.isString(a.jql)&&!a.filter},onBeforeSearch:function(b,a){this._issueSearchManager.bindBeforeSearch(b,a)},offBeforeSearch:function(b,a){this._issueSearchManager.unbindBeforeSearch(b,a)},onSearchError:function(b,a){this._issueSearchManager.bindSearchError(b,a)},offSearchError:function(b,a){this._issueSearchManager.unbindSearchError(b,a)},refresh:function(){return this._searchPageModule.refreshSearch()},stableUpdate:function(a){this._searchResults.triggerStableUpdate(_.extend({force:true},a))}})}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/EmptyResultsView.js' */
(function(){AJS.namespace("JIRA.Issues.EmptyResultsView");JIRA.Issues.EmptyResultsView=JIRA.Issues.BaseView.extend({initialize:function(a){this.searchResults=a.searchResults},render:function(){var d;var e;var b;var a;var c=JIRA.Issues.UserParms.get().createIssue;if(!JIRA.Issues.LoginUtils.isLoggedIn()){d="No issues were found to match your search";e="Try \u003ca\u003elogging in\u003c/a\u003e to see more results.";b="not-logged-in-message";a="login"}else{d="No issues were found to match your search";e=c?"Try modifying your search criteria or \u003ca\u003ecreating a new issue\u003c/a\u003e.":"Try modifying your search criteria";b="no-results-message";a="create"}this.$el.addClass("empty-results");this.$el.html(JIRA.Templates.IssueNavTable.noResults({message:d,hint:e,cssClass:b}));var f=this.$(".no-results-hint a");switch(a){case"create":f.addClass("create-issue").attr("href",AJS.contextPath()+"/secure/CreateIssue!default.jspa");break;case"login":f.attr("href",JIRA.Issues.LoginUtils.redirectUrlToCurrent()).addClass("login-link");break}_.defer(jQuery.event.trigger,"updateOffsets.popout");_.defer(JIRA.trace,"jira.search.finished")}})}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:search', location = 'content/js/components/search/Search.js' */
define("jira/issues/components/search",["require"],function(c){var b=c("underscore");var e=c("jira/issues/application");var f=c("jira/components/libs/marionette-1.4.1/controller");var a=c("jira/components/search/latestStorage");var d=c("jira/issues/navigator/metrics");return f.extend({initialize:function(g){this.searchModule=g.searchModule;this.searchResults=g.searchResults;this.columnConfig=g.columnConfig;b.bindAll(this,"_onIssueUpdated","_onHighlightedIssueChange","_onSelectedIssueChange","_onBeforeSearch");this.listenTo(this.searchResults,"change:resultsId change:startIndex stableUpdate issueDeleted",function(){this._doSearch()});this.searchResults.onIssueUpdated(this._onIssueUpdated);this.searchResults.onHighlightedIssueChange(this._onHighlightedIssueChange);this.searchResults.onSelectedIssueChange(this._onSelectedIssueChange);this.searchModule.onBeforeSearch(this._onBeforeSearch)},_onSelectedIssueChange:function(g){this.trigger("selectedIssueChanged",g,this.searchResults.getHighlightedIssue())},_onIssueUpdated:function(i,g,h){this.trigger("issueUpdated",i,g,h)},_onHighlightedIssueChange:function(g){this.trigger("issueHighlighted",g.getId())},_onBeforeSearch:function(){this.trigger("before:search")},close:function(){this.stopListening();this.searchResults.offIssueUpdated(this._onIssueUpdated);this.searchResults.offHighlightedIssueChange(this._onHighlightedIssueChange)},_doSearch:function(){this.searchInProgress=true;var g=this.searchModule.getFilterId();var i=g<0;g=(i||b.isNull(g))?undefined:g;var h={filter:g,jql:this.searchModule.getEffectiveJql()};a.save(h);this.searchResults.getResultsForPage({jql:this.searchModule.getEffectiveJql(),filterId:g}).always(b.bind(function(){this.searchInProgress=false},this)).done(b.bind(function(j){if(!this.searchResults.hasHighlightedIssue()){this.searchResults.highlightFirstInPage()}this.trigger("search",j,this.searchResults)},this)).fail(b.bind(function(){this.trigger("error:search")},this))},goToPage:function(g){if(this.searchInProgress){return}this._onBeforeSearch();this.searchResults.goToPage(g)},sort:function(h){if(this.searchInProgress){return}var i=this.searchModule.getResults().getColumnSortJql();var g=i[h];if(g){this.searchModule.doSort(g)}},runCurrentSearch:function(){if(this.searchInProgress){return}if(e.request("issueEditor:canDismissComment")){e.execute("analytics:trigger","kickass.issueTableRefresh");this.searchModule.refresh()}},updateExitingResults:function(){if(this.searchInProgress){return}if(e.request("issueEditor:canDismissComment")){e.execute("analytics:trigger","kickass.issueTableRefresh");this._doSearch()}},highlightIssue:function(g){this.searchResults.highlightIssueById(g)},getPager:function(){return this.searchResults.getPager()},selectNextIssue:function(){this.searchResults.highlightNextIssue();if(this.searchResults.hasSelectedIssue()){c("jira/issues/navigator/metrics").notifyIssueView();this.searchResults.selectNextIssue()}},selectPreviousIssue:function(){this.searchResults.highlightPrevIssue();if(this.searchResults.hasSelectedIssue()){d.notifyIssueView();this.searchResults.selectPrevIssue()}},unselectIssue:function(){this.searchResults.unselectIssue()},hasSelectedIssue:function(){return this.searchResults.hasSelectedIssue()},getHighlightedIssue:function(){return this.searchResults.getHighlightedIssue().id}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:search', location = 'content/js/components/search/namespace.js' */
AJS.namespace("JIRA.Components.SearchService",null,require("jira/issues/components/search"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-templates', location = 'content/templates/issuenav.soy' */
// This file was automatically generated from issuenav.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNav.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNav == 'undefined') { JIRA.Templates.IssueNav = {}; }


JIRA.Templates.IssueNav.issueTable = function(opt_data, opt_ignored) {
  return '<thead><tr></tr></thead><tbody></tbody>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.issueTable.soyTemplateName = 'JIRA.Templates.IssueNav.issueTable';
}


JIRA.Templates.IssueNav.columnHeader_issuetype = function(opt_data, opt_ignored) {
  return '<th class="issue-type issue-icon-result persist-result"><div>' + soy.$$escapeHtml("T") + '</div></th>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.columnHeader_issuetype.soyTemplateName = 'JIRA.Templates.IssueNav.columnHeader_issuetype';
}


JIRA.Templates.IssueNav.column_issuetype = function(opt_data, opt_ignored) {
  return '<td class="issue-type issue-icon-result persist-result"><img src="' + soy.$$escapeHtml(opt_data.issue.fields.issuetype.iconUrl) + '" alt="' + soy.$$escapeHtml(opt_data.issue.fields.issuetype.name) + '" title="' + soy.$$escapeHtml(opt_data.issue.fields.issuetype.description) + '" align="absmiddle" border="0" height="16" width="16"></td>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.column_issuetype.soyTemplateName = 'JIRA.Templates.IssueNav.column_issuetype';
}


JIRA.Templates.IssueNav.columnHeader_keysummary = function(opt_data, opt_ignored) {
  return '<th class="issue-key persist-result"><div>' + soy.$$escapeHtml("Key") + '</div></th><th class="issue-summary issue-text-result persist-result"><div>' + soy.$$escapeHtml("Summary") + '</div></th>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.columnHeader_keysummary.soyTemplateName = 'JIRA.Templates.IssueNav.columnHeader_keysummary';
}


JIRA.Templates.IssueNav.column_keysummary = function(opt_data, opt_ignored) {
  return '<td class="issue-key-summary issue-text-result persist-result" colspan="2"><div><a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/browse/' + soy.$$escapeHtml(opt_data.issue.key) + '" class="issue"><span class="secondary-text">' + soy.$$escapeHtml(opt_data.issue.key) + '</span>' + soy.$$escapeHtml(opt_data.issue.fields.summary) + '</a></div></td>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.column_keysummary.soyTemplateName = 'JIRA.Templates.IssueNav.column_keysummary';
}


JIRA.Templates.IssueNav.columnHeader_status = function(opt_data, opt_ignored) {
  return '<th class="issue-status"><div>' + soy.$$escapeHtml("Status") + '</div></th>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.columnHeader_status.soyTemplateName = 'JIRA.Templates.IssueNav.columnHeader_status';
}


JIRA.Templates.IssueNav.column_status = function(opt_data, opt_ignored) {
  return '<td class="issue-status"><div class="status-lozenge">' + soy.$$escapeHtml(opt_data.issue.fields.status.name) + '</div></td>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.column_status.soyTemplateName = 'JIRA.Templates.IssueNav.column_status';
}


JIRA.Templates.IssueNav.columnHeader_assignee = function(opt_data, opt_ignored) {
  return '<th class="issue-user"><div>' + soy.$$escapeHtml("Assignee") + '</div></th>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.columnHeader_assignee.soyTemplateName = 'JIRA.Templates.IssueNav.columnHeader_assignee';
}


JIRA.Templates.IssueNav.column_assignee = function(opt_data, opt_ignored) {
  return '<td class="issue-user">' + ((opt_data.issue.fields.assignee) ? '<img src="' + soy.$$escapeHtml(opt_data.issue.fields.assignee.avatarUrls['16x16']) + '" alt="' + soy.$$escapeHtml(opt_data.issue.fields.assignee.name) + '" height="16" width="16" /><a class="user-hover" rel="' + soy.$$escapeHtml(opt_data.issue.fields.assignee.name) + '" href="#">' + soy.$$escapeHtml(opt_data.issue.fields.assignee.displayName) + '</a>' : soy.$$escapeHtml("Unassigned")) + '</td>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.column_assignee.soyTemplateName = 'JIRA.Templates.IssueNav.column_assignee';
}


JIRA.Templates.IssueNav.columnHeader_updated = function(opt_data, opt_ignored) {
  return '<th class="issue-datetime"><div>' + soy.$$escapeHtml("Updated") + '</div></th>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.columnHeader_updated.soyTemplateName = 'JIRA.Templates.IssueNav.columnHeader_updated';
}


JIRA.Templates.IssueNav.column_updated = function(opt_data, opt_ignored) {
  return '<td class="issue-datetime"><time datetime="' + soy.$$escapeHtml(opt_data.issue.fields.updated) + '">' + soy.$$escapeHtml(opt_data.TMP_FORMATTED_DATE) + '</time></td>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.column_updated.soyTemplateName = 'JIRA.Templates.IssueNav.column_updated';
}


JIRA.Templates.IssueNav.columnHeader_resolution = function(opt_data, opt_ignored) {
  return '<th class="issue-resolution"><div>' + soy.$$escapeHtml("Resolution") + '</div></th>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.columnHeader_resolution.soyTemplateName = 'JIRA.Templates.IssueNav.columnHeader_resolution';
}


JIRA.Templates.IssueNav.column_resolution = function(opt_data, opt_ignored) {
  return '<td class="issue-resolution">' + ((opt_data.issue.fields.resolution) ? soy.$$escapeHtml(opt_data.issue.fields.resolution.name) : soy.$$escapeHtml("Unresolved")) + '</td>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.column_resolution.soyTemplateName = 'JIRA.Templates.IssueNav.column_resolution';
}


JIRA.Templates.IssueNav.issueResultsError = function(opt_data, opt_ignored) {
  return '<tr class="error"><td colspan="' + soy.$$escapeHtml(opt_data.columnCount) + '">' + soy.$$escapeHtml(opt_data.errorText) + '</td></tr>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.issueResultsError.soyTemplateName = 'JIRA.Templates.IssueNav.issueResultsError';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-templates', location = 'content/templates/issuenav-amd.js' */
define("jira/issues/templates/issue-nav",function(){return JIRA.Templates.IssueNav});AJS.namespace("JIRA.Templates.IssueNav",null,require("jira/issues/templates/issue-nav"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component-templates', location = 'content/templates/issuenav-results.soy' */
// This file was automatically generated from issuenav-results.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNav.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNav == 'undefined') { JIRA.Templates.IssueNav = {}; }


JIRA.Templates.IssueNav.resultsCount = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.IssueNav.resultsCountHelper({start: '<span class="results-count-start">' + soy.$$escapeHtml(opt_data.start) + '</span>', end: '<span class="results-count-end">' + soy.$$escapeHtml(opt_data.end) + '</span>', total: '<span class="results-count-total results-count-link">' + soy.$$escapeHtml(opt_data.total) + '</span>'});
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.resultsCount.soyTemplateName = 'JIRA.Templates.IssueNav.resultsCount';
}


JIRA.Templates.IssueNav.resultsCountHelper = function(opt_data, opt_ignored) {
  return '<span class="results-count-text">' + soy.$$filterNoAutoescape(AJS.format("{0}\x26ndash;{1} of {2}",opt_data.start,opt_data.end,opt_data.total)) + '</span>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.resultsCountHelper.soyTemplateName = 'JIRA.Templates.IssueNav.resultsCountHelper';
}


JIRA.Templates.IssueNav.endOfStableMessage = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml("Too many search results to display. Refine your search criteria and try again.") + '</p>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.endOfStableMessage.soyTemplateName = 'JIRA.Templates.IssueNav.endOfStableMessage';
}


JIRA.Templates.IssueNav.refreshResults = function(opt_data, opt_ignored) {
  return '<a href="#" class="refresh-table" title="' + soy.$$escapeHtml("Refresh results") + '"><span class="aui-icon aui-icon-small aui-iconfont-refresh-small">' + soy.$$escapeHtml("Refresh results") + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.refreshResults.soyTemplateName = 'JIRA.Templates.IssueNav.refreshResults';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component-templates', location = 'content/templates/issuenav-pagination.soy' */
// This file was automatically generated from issuenav-pagination.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavTable.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavTable == 'undefined') { JIRA.Templates.IssueNavTable = {}; }


JIRA.Templates.IssueNavTable.pagination = function(opt_data, opt_ignored) {
  var output = '<div class="pagination" data-displayable-total="' + soy.$$escapeHtml(opt_data.displayableTotal) + '">';
  var MAX_PAGES_DISPLAYED__soy6 = 5;
  var lastPage__soy7 = Math.floor((opt_data.displayableTotal - 1) / opt_data.pageSize);
  var pageNumber__soy8 = Math.floor(opt_data.startIndex / opt_data.pageSize);
  var urlFragment__soy9 = soy.$$escapeHtml("") + '/' + soy.$$filterNoAutoescape(opt_data.searchQuery) + '&startIndex=';
  var prevStartIndex__soy15 = opt_data.startIndex - opt_data.pageSize;
  output += ((prevStartIndex__soy15 >= 0) ? (require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<a href="' + soy.$$escapeHtml(urlFragment__soy9) + soy.$$escapeHtml(prevStartIndex__soy15) + '" data-start-index="' + soy.$$escapeHtml(prevStartIndex__soy15) + '" class="nav-previous" title="' + soy.$$escapeHtml(AJS.format("Go to page {0} of {1}",pageNumber__soy8,lastPage__soy7 + 1)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-left">&lt;&lt; ' + soy.$$escapeHtml("Previous") + '</span></a>' : '<a href="' + soy.$$escapeHtml(urlFragment__soy9) + soy.$$escapeHtml(prevStartIndex__soy15) + '" data-start-index="' + soy.$$escapeHtml(prevStartIndex__soy15) + '" class="icon icon-previous nav-previous" title="' + soy.$$escapeHtml(AJS.format("Go to page {0} of {1}",pageNumber__soy8,lastPage__soy7 + 1)) + '"><span>&lt;&lt; ' + soy.$$escapeHtml("Previous") + '</span></a>' : '') + JIRA.Templates.IssueNavTable.numberLinksLogicBranch({startPage: pageNumber__soy8 - Math.floor(MAX_PAGES_DISPLAYED__soy6 / 2), endPage: pageNumber__soy8 + Math.floor(MAX_PAGES_DISPLAYED__soy6 / 2), lastPage: lastPage__soy7, urlFragment: urlFragment__soy9, currentPage: pageNumber__soy8 + 1, maxPagesDisplayed: MAX_PAGES_DISPLAYED__soy6, pageSize: opt_data.pageSize, displayableTotal: opt_data.displayableTotal});
  var nextStartIndex__soy50 = Math.min(opt_data.startIndex + opt_data.pageSize, opt_data.displayableTotal);
  output += ((nextStartIndex__soy50 < opt_data.displayableTotal) ? (require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<a href="' + soy.$$escapeHtml(urlFragment__soy9) + soy.$$escapeHtml(nextStartIndex__soy50) + '" data-start-index="' + soy.$$escapeHtml(nextStartIndex__soy50) + '" class="nav-next" title="' + soy.$$escapeHtml(AJS.format("Go to page {0} of {1}",pageNumber__soy8 + 2,lastPage__soy7 + 1)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-right">' + soy.$$escapeHtml("Next") + ' &gt;&gt;</span></a>' : '<a href="' + soy.$$escapeHtml(urlFragment__soy9) + soy.$$escapeHtml(nextStartIndex__soy50) + '" data-start-index="' + soy.$$escapeHtml(nextStartIndex__soy50) + '" class="icon icon-next nav-next" title="' + soy.$$escapeHtml(AJS.format("Go to page {0} of {1}",pageNumber__soy8 + 2,lastPage__soy7 + 1)) + '"><span>' + soy.$$escapeHtml("Next") + ' &gt;&gt;</span></a>' : '') + '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.pagination.soyTemplateName = 'JIRA.Templates.IssueNavTable.pagination';
}


JIRA.Templates.IssueNavTable.numberLinksLogicBranch = function(opt_data, opt_ignored) {
  return '' + ((opt_data.lastPage < opt_data.maxPagesDisplayed) ? JIRA.Templates.IssueNavTable.numberLinks(soy.$$augmentMap(opt_data, {startPage: 0, endPage: opt_data.lastPage})) : (opt_data.startPage < 0) ? JIRA.Templates.IssueNavTable.numberLinks(soy.$$augmentMap(opt_data, {startPage: 0, endPage: opt_data.endPage - opt_data.startPage})) : (opt_data.endPage > opt_data.lastPage) ? JIRA.Templates.IssueNavTable.numberLinks(soy.$$augmentMap(opt_data, {startPage: opt_data.startPage - (opt_data.endPage - opt_data.lastPage), endPage: opt_data.lastPage})) : JIRA.Templates.IssueNavTable.numberLinks(opt_data));
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.numberLinksLogicBranch.soyTemplateName = 'JIRA.Templates.IssueNavTable.numberLinksLogicBranch';
}


JIRA.Templates.IssueNavTable.numberLinks = function(opt_data, opt_ignored) {
  var output = '';
  var size__soy98 = opt_data.endPage - opt_data.startPage + 1;
  if (size__soy98 > 1) {
    var iLimit101 = Math.round(size__soy98);
    for (var i101 = 0; i101 < iLimit101; i101++) {
      var pageIndex__soy102 = i101 + opt_data.startPage;
      var pageNumber__soy103 = pageIndex__soy102 + 1;
      var pageStartIndex__soy104 = pageIndex__soy102 * opt_data.pageSize;
      var pageEndIndex__soy105 = Math.min(pageStartIndex__soy104 + opt_data.pageSize, opt_data.displayableTotal);
      var pageBoundaries__soy106 = '' + soy.$$escapeHtml(AJS.format("Issues {0} - {1}",pageStartIndex__soy104 + 1,pageEndIndex__soy105));
      output += ' ' + ((pageNumber__soy103 == opt_data.currentPage) ? '<strong title="' + soy.$$escapeHtml(pageBoundaries__soy106) + '">' + soy.$$escapeHtml(pageNumber__soy103) + '</strong>' : '<a href="' + soy.$$escapeHtml(opt_data.urlFragment) + soy.$$escapeHtml(pageStartIndex__soy104) + '" data-page="' + soy.$$escapeHtml(pageNumber__soy103) + '" data-start-index="' + soy.$$escapeHtml(pageStartIndex__soy104) + '" title="' + soy.$$escapeHtml(pageBoundaries__soy106) + '">' + soy.$$escapeHtml(pageNumber__soy103) + '</a>');
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.numberLinks.soyTemplateName = 'JIRA.Templates.IssueNavTable.numberLinks';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component-templates', location = 'content/templates/issuenav-table.soy' */
// This file was automatically generated from issuenav-table.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavTable.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavTable == 'undefined') { JIRA.Templates.IssueNavTable = {}; }


JIRA.Templates.IssueNavTable.structure = function(opt_data, opt_ignored) {
  return '<div class="list-view"><div class="aui-group aui-group-split issue-table-info-bar"><div class="aui-item"><div class="results-count-top"></div><div class="refresh-table-top"></div></div><div class="aui-item"><div class="column-picker-trigger-container"></div></div></div><div class="issue-table-container"></div><div class="end-of-stable-message"></div><div class="aui-group aui-group-split count-pagination"><div class="aui-item"><div class="results-count-bottom"></div><div class="refresh-table-bottom"></div></div><div class="aui-item"><div class="pagination"></div></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.structure.soyTemplateName = 'JIRA.Templates.IssueNavTable.structure';
}


JIRA.Templates.IssueNavTable.noResults = function(opt_data, opt_ignored) {
  return '' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<div class="no-results ' + soy.$$escapeHtml(opt_data.cssClass) + '"><h2>' + soy.$$filterNoAutoescape(opt_data.message) + '</h2>' + ((opt_data.hint) ? '<p class="no-results-hint">' + soy.$$filterNoAutoescape(opt_data.hint) + '</p>' : '') + '</div>' : '<div class="jira-adbox jira-adbox-medium no-results ' + soy.$$escapeHtml(opt_data.cssClass) + '"><h3>' + soy.$$filterNoAutoescape(opt_data.message) + '</h3>' + ((opt_data.hint) ? '<p class="no-results-hint">' + soy.$$filterNoAutoescape(opt_data.hint) + '</p>' : '') + '</div>');
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.noResults.soyTemplateName = 'JIRA.Templates.IssueNavTable.noResults';
}


JIRA.Templates.IssueNavTable.listOptions = function(opt_data, opt_ignored) {
  var output = '<div class="aui-list">';
  var groupList36 = opt_data.groups;
  var groupListLen36 = groupList36.length;
  for (var groupIndex36 = 0; groupIndex36 < groupListLen36; groupIndex36++) {
    var groupData36 = groupList36[groupIndex36];
    output += ((groupData36.label) ? '<h5>' + soy.$$escapeHtml(groupData36.label) + '</h5>' : '') + '<ul ' + ((groupData36.id) ? 'id="' + soy.$$escapeHtml(groupData36.id) + '"' : '') + ' class="aui-list-section' + ((groupIndex36 == 0) ? ' aui-first' : '') + ((groupIndex36 == groupListLen36 - 1) ? ' aui-last' : '') + '">';
    var itemList56 = groupData36.items;
    var itemListLen56 = itemList56.length;
    for (var itemIndex56 = 0; itemIndex56 < itemListLen56; itemIndex56++) {
      var itemData56 = itemList56[itemIndex56];
      output += '<li class="aui-list-item"><a class="aui-list-item-link" ' + ((itemData56.id) ? 'id="' + soy.$$escapeHtml(itemData56.id) + '"' : '') + ' ' + ((itemData56.rel) ? 'rel="' + soy.$$escapeHtml(itemData56.rel) + '"' : '') + ' href="' + ((! itemData56.relativeLink) ? soy.$$escapeHtml("") : '') + soy.$$escapeHtml(itemData56.link) + '" ' + ((itemData56.title) ? 'title="' + soy.$$escapeHtml(itemData56.title) + '"' : '') + '>' + soy.$$escapeHtml(itemData56.label) + '</a></li>';
    }
    output += '</ul>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.listOptions.soyTemplateName = 'JIRA.Templates.IssueNavTable.listOptions';
}


JIRA.Templates.IssueNavTable.views = function(opt_data, opt_ignored) {
  return '' + ((opt_data.sections.issue && opt_data.sections.issue.length > 0) ? '<div class="issue-panel aui-dropdown2-section">' + JIRA.Templates.IssueNavTable.listOptions({groups: opt_data.sections.issue}) + '</div>' : '') + ((opt_data.sections.filter && opt_data.sections.filter.length > 0) ? '<div class="filter-panel aui-dropdown2-section">' + JIRA.Templates.IssueNavTable.listOptions({groups: opt_data.sections.filter}) + '</div>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.views.soyTemplateName = 'JIRA.Templates.IssueNavTable.views';
}


JIRA.Templates.IssueNavTable.tools = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.IssueNavTable.listOptions(opt_data);
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.tools.soyTemplateName = 'JIRA.Templates.IssueNavTable.tools';
}


JIRA.Templates.IssueNavTable.inaccessibleIssueRow = function(opt_data, opt_ignored) {
  return '<tr class="issuerow inaccessible-issue" rel="' + soy.$$escapeHtml(opt_data.issueID) + '"><td class="nav" colspan="' + soy.$$escapeHtml(opt_data.columnCount) + '">' + soy.$$escapeHtml("This issue can no longer be opened") + '</td></tr>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.inaccessibleIssueRow.soyTemplateName = 'JIRA.Templates.IssueNavTable.inaccessibleIssueRow';
}


JIRA.Templates.IssueNavTable.headerSortIcon = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-' + ((opt_data.order == 'ASC') ? 'up' : 'down') + ' issuetable-header-sort-icon"></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.headerSortIcon.soyTemplateName = 'JIRA.Templates.IssueNavTable.headerSortIcon';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component-templates', location = 'content/templates/issuenav-table-amd.js' */
define("jira/issues/templates/issue-nav-table",function(){return JIRA.Templates.IssueNavTable});AJS.namespace("JIRA.Templates.IssueNavTable",null,require("jira/issues/templates/issue-nav-table"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/ColumnPicker.js' */
define("jira/issues/components/table/column-picker",["require"],function(b){var g=b("underscore");var d=b("jira/components/columnpicker/columnconfigmodel");var c=b("jira/components/columnpicker");var a=b("jira/components/util/functionalutils");var i=b("jquery");var f=b("jira/util/users/logged-in-user");var e=b("wrm/context-path");var h=c.extend({initialize:function(j,k){var l=[this._getUserColumnProvider(),this._getFilterColumnProvider()];if(f.isAdmin()){l.push(this._getSystemColumnProvider())}c.prototype.initialize.call(this,null,{providers:l});this.search=k.search;this.search.on("change:filter",function(){var m=this.filterColumn;var o=m.isEditDisabled();var n=m.isDisabled();m.trigger("change:isDisabled",m,n);m.trigger("change:editDisabled",m,n||o)},this)},isSystemMode:function(){return this.columnPickerModel.getColumnConfig()==="system"},sanitizeColumnConfig:function(j){j=j.toLowerCase();var k=j==="system"&&!this.isSystemMode();return k?"user":j},syncColumns:function(j,k){j=this.sanitizeColumnConfig(j);return c.prototype.syncColumns.call(this,j,k)},clearFilterConfiguration:function(){this.filterColumn.unset("columns");this.filterColumn.unset("savedColumns")},setCurrentColumnConfig:function(j){j=this.sanitizeColumnConfig(j);return c.prototype.setCurrentColumnConfig.call(this,j)},_getFilterColumnProvider:function(){var j=this;this.filterColumn=d.create("filter","Filter",{url:function(){return e()+"/rest/api/2/filter/"+j.search.getState().filter+"/columns"},isDisabled:function(){return !j.search.getFilter()||j.search.getFilter().getIsSystem()},isEditDisabled:function(){return !j.search.filterModule.canEditColumns()},shouldRefreshSearchOnActivation:function(){return this.has("savedColumns")},shouldCloseOnActivation:function(){return this.has("savedColumns")},shouldLoadDefaultsOnActivation:function(){return !this.has("savedColumns")},defaultColumns:g.bind(function(){if(this.userColumns.has("columns")){var k=new i.Deferred();k.resolve(g.map(this.userColumns.getColumns(),function(l){return{value:l}}));return k.promise()}else{return i.ajax(this.userColumns.url()).promise()}},this)});return this.filterColumn},_getSystemColumnProvider:function(){return d.create("system","System",{url:a.lambda(e()+"/rest/api/2/settings/columns"),defaultColumns:function(){return i.ajax(this.url()).promise()},shouldRefreshSearchOnActivation:function(){return true},shouldCloseOnActivation:function(){return false},shouldLoadDefaultsOnActivation:function(){return true},shouldRevertOnHide:function(){return false}})},_getUserColumnProvider:function(){this.userColumns=d.create("user","My Defaults",{url:a.lambda(e()+"/rest/api/2/user/columns")});return this.userColumns}});h.create=function(j){return new h(null,j)};return h});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/IssueTableView.js' */
define("jira/issues/components/table/views/issue-table",["require"],function(d){var a=d("jira/flag");var e=d("jira/issues/baseview");var c=d("underscore");var f=d("jquery");var b=d("jira/issues/utils/resize");return e.extend({_closeSystemModeMessage:function(){if(this.currentMessage){this.currentMessage.close();this.currentMessage=null}},_showSystemModeMessage:function(){if(this.currentMessage){return}var g=a.showMsg("","You are on System Mode. The column changes might affect all users. \u003ca href=# class=exit\u003eExit System Mode\u003c/a\u003e.",{type:"warning",close:"never"});f(g).find(".exit").click(c.bind(function(h){h.preventDefault();this.columnConfig.setCurrentColumnConfig("user");this._closeSystemModeMessage()},this));this.currentMessage=g},syncSystemModeMessage:function(){var g=this.columnConfig.isSystemMode();if(g){this._showSystemModeMessage()}else{this._closeSystemModeMessage()}},initialize:function(g){this.columnConfig=g.columnConfig;this.columnConfig.on("change:columnConfig",this.syncSystemModeMessage,this);b.onVerticalResize(c.bind(this.adjustColumnConfigHeight,this))},deactivate:function(){b.offVerticalResize(this.adjustColumnConfigHeight)},_onSearchDone:function(g){this.columnConfig.setElement(g.find(".column-picker-trigger-container")).render()},adjustColumnConfigHeight:function(){this.columnConfig.adjustHeight()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/HeaderOperationsView.js' */
define("jira/issues/components/table/views/header-operations",["require"],function(a){var j=a("jira/issues/templates/issue-nav-table");var c=a("jira/issues/tipsy");var d=a("jira/issues/baseview");var g=a("jira/ajs/dropdown/dropdown");var b=a("jira/util/data/meta");var h=a("underscore");var e=a("wrm/context-path");var i=a("jquery");var f=a("jira/issue/utils/xsrf-token-header");return d.extend({initialize:function(k){h.bindAll(this,"_onSearchSuccess","_updateFilterPageResources");h.extend(this,k);this.initTools();this.initViews();this.initShare();this._results=this.search.getResults();this._results.onNewPayload(this._onSearchSuccess)},initViews:function(){var k=this.searchPageModule;k.on("change",this._updateFilterPageResources);this._updateFilterPageResources();new c({el:this.$el.find(".header-views"),showCondition:":not(.active)"});var l=this._spinnerTimeoutKeeper(".header-views");g.create({styleClass:"header-views-menu aui-style-default",trigger:i(".header-views",this.$el),ajaxOptions:function(){var n={jql:k.getEffectiveJql()};var m=k.getFilter();if(m&&!m.getIsSystem()){n.filterId=m.getId();if(k.isDirty()){n.jql=k.getJql();n.modified=true}}l.start();return{url:e()+"/rest/issueNav/1/issueNav/operations/views",type:"POST",headers:f,data:n,dataType:"json",cache:false,formatSuccess:function(o){l.end();return i(j.views({sections:o,contextPath:e()}))}}}})},initTools:function(){var k=this;var m=this.searchPageModule;i("body").delegate("#use-cols","click",function(s){s.preventDefault();k.searchPageModule.columnConfig.setCurrentColumnConfig("user");k.searchPageModule.columnConfig.refreshSearchWithColumns()});i("body").delegate("#use-filter-cols","click",function(s){s.preventDefault();k.searchPageModule.columnConfig.setCurrentColumnConfig("filter");k.searchPageModule.columnConfig.refreshSearchWithColumns()});new c({el:this.$el.find(".header-tools"),showCondition:":not(.active)",tipsy:{gravity:"ne"}});var q=this._spinnerTimeoutKeeper(".header-tools");g.create({styleClass:"header-tools-menu",trigger:i(".header-tools",k.$el),ajaxOptions:function(){var t;var s=m.getFilter();t={jql:m.getEffectiveJql(),searchResultsTotal:k._results.getTotal(),searchResultsPages:k._results.getNumberOfPages(),useColumns:k.searchPageModule.columnConfig.getCurrentColumnConfig().getName()!=="user",skipColumns:m.getActiveLayout().id==="split-view"};if(s&&!s.getIsSystem()){t.filterId=s.getId();if(m.isDirty()){t.jql=m.getJql()}}q.start();return{url:e()+"/rest/issueNav/1/issueNav/operations/tools",type:"POST",headers:f,data:t,dataType:"json",cache:false,formatSuccess:function(u){q.end();if(u&&u.length===0){return i('<div class="menu-empty-content"></span>'+"No Available Option(s)"+"<div>")}else{return i(j.tools({groups:u,contextPath:e()}))}}}}});var l="#csv-export-dialog";var n="#csv-delimiter";var p="#csv-export-dialog-export-button";function o(u){u.preventDefault();var s=i(this).attr("href");i(p).data("href",s);var t=s.indexOf("searchrequest-csv-all-fields")!==-1;i("#csv-export-dialog-header-all").toggle(t);i("#csv-export-dialog-header-current").toggle(!t);AJS.dialog2(l).show()}var r=i(l).length>0;if(r){i("body").on("click","#allCsvFields, #currentCsvFields",o);i(n).find("input").prop("readonly",true);i("#csv-export-dialog-cancel-button").click(function(s){s.preventDefault();AJS.dialog2(l).hide()});i(p).click(function(v){v.preventDefault();var s=i(p).data("href");var t=i(n).val();var x=s.match(/[\?]/g)?"&delimiter=":"?delimiter=";var w=encodeURI(t);var u=s+x+w;window.open(u);AJS.dialog2(l).hide()})}},initShare:function(){new c({el:this.$el.find(".issuenav-share"),showCondition:":not(.active)"})},_onSearchSuccess:function(){i(".header-tools").toggleClass("hidden",this.search.getResults().getDisplayableTotal()===0)},_updateFilterPageResources:function(){var n=this.$el.find(".operations-view-data > fieldset");var l=this.searchPageModule;n.empty();if(l.getFilter()&&!l.isDirty()){i('<input type="hidden" id="filterId" />').val(l.getFilter().getId()).appendTo(n);i('<input type="hidden" id="jql" />').val("").appendTo(n)}else{i('<input type="hidden" id="filterId" />').val("");i('<input type="hidden" id="jql" />').val(l.getJql()).appendTo(n)}var m=l.getFilter();var k=m&&m.getId();if(k&&!m.getIsSystem()&&!l.isDirty()){b.set("filter-id",k);b.set("filter-jql",undefined)}else{b.set("filter-id",undefined);b.set("filter-jql",l.getEffectiveJql())}},_spinnerTimeoutKeeper:function(k){var l;return{start:function(){if(l){l=clearTimeout(l)}l=setTimeout(function(){l=undefined;i(k).addClass("spinner")},1000)},end:function(){l=clearTimeout(l);i(k).removeClass("spinner")}}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/namespace.js' */
AJS.namespace("JIRA.Issues.ColumnPicker",null,require("jira/issues/components/table/column-picker"));AJS.namespace("JIRA.Issues.IssueTableHeaderOperationsView",null,require("jira/issues/components/table/views/header-operations"));AJS.namespace("JIRA.Issues.IssueTableView",null,require("jira/issues/components/table/views/issue-table"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/IssueTable.js' */
define("jira/issues/components/issue-table",["require"],function(b){var a=b("jira/issues/application");var d=b("jira/components/libs/marionette-1.4.1/controller");var i=b("jira/util/events");var g=b("jira/issues/components/issue-table/controllers/issue-table");var f=b("jira/issues/components/table/views/issue-table");var h=b("jira/util/events/reasons");var e=b("jira/issues/libs/trace");var c=b("jira/util/events/types");return d.extend({initialize:function(j){this.issueTableView=new f({columnConfig:j.columnConfig});this._createSearchService(j);this._createTableController(j);a.on("issueEditor:loadError",this._handleIssueLoadError,this)},_createSearchService:function(j){this.searchService=j.searchService;this.listenTo(this.searchService,{"before:search":function(){this.issueTableController.showPending()},search:function(l,k){this.latestResults={table:l,sortOptions:k.getSortBy(),totalDisplayableIssues:k.getDisplayableTotal(),startIndex:k.getStartIndex(),pageSize:k.getPageSize(),pageNumber:k.getPageNumber(),numberOfPages:k.getNumberOfPages(),totalIssues:k.getTotal(),currentSearch:a.request("issueNav:currentSearchRequest"),jiraHasIssues:k.getJiraHasIssues(),hasIssues:k.hasIssues()};this.show();this.highlightIssue(k.getHighlightedIssue().id,false)},"error:search":function(){this.issueTableController.showErrorMessage()},issueUpdated:function(l,k){this.issueTableController.updateIssue(l,k.table)},issueHighlighted:function(k){this.issueTableController.highlightIssue(k)},selectedIssueChanged:function(l,k){if(!l.hasIssue()){this.issueTableController.highlightIssue(k.id)}}})},_createTableController:function(k){var j=k.columnConfig;var l=k.el;this.issueTableController=new g({el:l});this.listenTo(this.issueTableController,{goToPage:function(m){this.searchService.goToPage(m)},columnsChanged:function(m){j.saveColumns(m)},highlightIssue:function(m){this.trigger("highlightIssue",m)},sort:function(m){this.searchService.sort(m)},refresh:function(){this.searchService.runCurrentSearch()},renderTable:function(m){i.trigger(c.NEW_CONTENT_ADDED,[m,h.issueTableRefreshed]);e("jira.search.stable.update")},renderEmpty:function(m){i.trigger(c.NEW_CONTENT_ADDED,[m,h.issueTableRefreshed]);e("jira.search.stable.update")},issueRowUpdated:function(m){i.trigger(c.NEW_CONTENT_ADDED,[m,h.issueTableRowRefreshed]);e("jira.search.finished")}})},show:function(){if(!this.latestResults){this.searchService.updateExitingResults()}else{this.issueTableController.show(this.latestResults);this.trigger("render");this.issueTableView._onSearchDone(this.issueTableController.view.$el)}},close:function(){this.issueTableController.close();this.stopListening(this.searchService);a.off("issueEditor:loadError",this._handleIssueLoadError,this);delete this.issueTableController;delete this.searchService},handleIssueInaccessible:function(j){this.issueTableController.markIssueAsInaccessible(j)},highlightIssue:function(k,j){this.issueTableController.highlightIssue(k,j)},_handleIssueLoadError:function(j){if(j.response.status===404){this.issueTableController.markIssueAsInaccessible(j.issueId)}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/EmptyResults.js' */
define("jira/issues/components/issue-table/views/empty-results",["require"],function(d){var f=d("jira/components/libs/marionette-1.4.1/itemview");var b=d("jira/issues/utils/login");var e=d("jira/issues/templates/issue-nav-table");var g=d("jira/issues/user-params");var a=d("wrm/context-path");var c=d("jira/components/util/empty-results-modifier");return f.extend({template:e.noResults,serializeData:function(){var j;var k;var h;var i=g.get().createIssue;if(b.isLoggedIn()){j="No issues were found to match your search";k=i?"Try modifying your search criteria or \u003ca\u003ecreating a new issue\u003c/a\u003e.":"Try modifying your search criteria";h="no-results-message"}else{j="No issues were found to match your search";k="Try \u003ca\u003elogging in\u003c/a\u003e to see more results.";h="not-logged-in-message"}return{message:j,hint:k,cssClass:h}},onRender:function(){this.$el.addClass("empty-results");c.modifyLink(this);this.hidePending()},showPending:function(){this.$el.addClass("pending")},hidePending:function(){this.$el.removeClass("pending")}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/EndOfStableMessage.js' */
define("jira/issues/components/issue-table/views/end-of-stable-message",["require"],function(a){var c=a("jira/components/libs/marionette-1.4.1/itemview");var d=a("jquery");var b=a("jira/issues/templates/issue-nav");return c.extend({className:"end-of-stable-message",serializeData:function(){return this.options},getTemplate:function(){return(this.shouldRender)?b.endOfStableMessage:d.noop},onBeforeRender:function(){this.shouldRender=this._hasMoreIssues()&&this._onLastPage()},onRender:function(){if(this.shouldRender){this.$el.addClass("visible")}else{this.$el.removeClass("visible")}},_hasMoreIssues:function(){return(this.options.total-this.options.displayableTotal)!==0},_onLastPage:function(){return this.options.pageNumber===this.options.numberOfPages}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/IssueTable.js' */
define("jira/issues/components/issue-table/views/issue-table",["require"],function(b){var a=b("underscore");var d=b("jira/components/libs/marionette-1.4.1/itemview");var f=b("jquery");var c=b("jira/issues/templates/issue-nav-table");var e=b("jira/components/util/functionalutils");return d.extend({events:{"blur .hidden-link":function(g){f(g.target).attr("tabIndex",-1)},"click tr.issuerow":function(g){var i=f(g.target).closest(".issuerow");var h=Number(i.attr("rel"));this.trigger("highlightIssue",h)},"click .sortable":function(g){g.preventDefault();this.trigger("sort",f(g.currentTarget).data("id"))}},inaccessibleIssueRowTemplate:c.inaccessibleIssueRow,initialize:function(g){this.resultsTable=g.resultsTable;this.sortOptions=g.sortOptions||{}},render:function(){this.triggerMethod("before:render",this);var g=f(this.resultsTable)[0];this.$el.empty().append(g);this.triggerMethod("render",this);return this},onRender:function(){this._decorateTableHeaderWithSortOptions();this._addDraggable();this._removeEmptyTextNodes()},onClose:function(){this._removeDraggable()},_decorateTableHeaderWithSortOptions:function(){var g=this.$el.find(".rowHeader .sortable");g.each(function(){this.onclick=null});var j=this.sortOptions;if(j.fieldId){var i=g.filter(function(){return this.getAttribute("data-id")===j.fieldId});if(i.size()&&!i.hasClass("descending")&&!i.hasClass("ascending")){g.removeClass("descending ascending active").addClass("colHeaderLink");g.find(".issuetable-header-sort-icon").remove();var h=j.order==="DESC"?"descending":"ascending";i.removeClass("colHeaderLink").addClass("active "+h);i.append(c.headerSortIcon({order:j.order}))}}},_addDraggable:function(){this.$("#issuetable").dragtable({maxMovingRows:1,containment:"body",axis:false,revert:false,clickDelay:250,tolerance:"intersect",dragaccept:":not(.headerrow-actions)",persistState:a.bind(this._saveColumns,this)})},_removeDraggable:function(){this.$("#issuetable").dragtable("destroy")},_removeEmptyTextNodes:function(){this.$el.find("table, tbody, thead, tr").contents().filter(function(){return this.nodeType===3}).remove()},_saveColumns:function(){var g=[];this.$("#issuetable").find("th").each(function(){var h=f(this).data("id");if(e.isNotBlank(h)){g.push(h)}});this.trigger("columnsChanged",g)},highlightIssue:function(j,g){var i=this._getIssueRow(j);var h=this.$(".focused");h.removeClass("focused");i.addClass("focused");if(i.length&&i.closest(document.body).length){if(g!==false){i.find(".hidden-link").removeAttr("tabIndex").focus()}i.scrollIntoView({marginBottom:50})}},_getIssueRow:function(h,g){g=g||this.$el;return g.find(".issuerow").filter(function(){return parseInt(this.getAttribute("rel"),10)===h})},markIssueAsInaccessible:function(g){this._getIssueRow(g).replaceWith(this.inaccessibleIssueRowTemplate({columnCount:this.$el.find("thead > tr > th").length,issueID:g}))},updateIssue:function(i,h){var g=this._getIssueRow(i,f(h));this._getIssueRow(i).replaceWith(g);this.highlightIssue(i);this.trigger("issueRowUpdated",g)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/IssueTableLayout.js' */
define("jira/issues/components/issue-table/views/issue-table-layout",["require"],function(a){var c=a("jira/components/libs/marionette-1.4.1/layout");var d=a("jira/components/libs/marionette-1.4.1/replaceregion");var b=a("jira/issues/templates/issue-nav-table");return c.extend({template:b.structure,regions:{pagination:{selector:".pagination",regionType:d},table:".issue-table-container",resultsCountTop:{selector:".results-count-top",regionType:d},refreshResultsTop:{selector:".refresh-table-top",regionType:d},resultsCountBottom:{selector:".results-count-bottom",regionType:d},refreshResultsBottom:{selector:".refresh-table-bottom",regionType:d},endOfStableMessage:{selector:".end-of-stable-message",regionType:d}},onRender:function(){this.hidePending()},showPending:function(){this.$el.addClass("pending")},hidePending:function(){this.$el.removeClass("pending")}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/Pagination.js' */
define("jira/issues/components/issue-table/views/pagination",["require"],function(a){var c=a("jira/components/libs/marionette-1.4.1/itemview");var b=a("jira/issues/templates/issue-nav-table");var d=a("jira/issues/utils/url-serializer");return c.extend({template:b.pagination,events:{"simpleClick a[data-start-index]":function(f){f.preventDefault();var g=f.currentTarget.getAttribute("data-start-index");this.trigger("goToPage",parseInt(g,10))}},serializeData:function(){return{startIndex:this.options.startIndex,pageSize:this.options.pageSize,searchQuery:this._getPagingUri(),displayableTotal:this.options.total}},onRender:function(){this.unwrapTemplate()},_getPagingUri:function(){return d.getURLFromState({selectedIssueKey:null,jql:this.options.currentSearch.jql,filter:this.options.currentSearch.filterId})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/RefreshResults.js' */
define("jira/issues/components/issue-table/views/refresh-results",["require"],function(a){var c=a("jira/components/libs/marionette-1.4.1/itemview");var b=a("jira/issues/templates/issue-nav");return c.extend({template:b.refreshResults,triggers:{click:"refresh"},onRender:function(){this.unwrapTemplate()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/ResultsCount.js' */
define("jira/issues/components/issue-table/views/results-count",["require"],function(a){var c=a("jira/components/libs/marionette-1.4.1/itemview");var b=a("jira/issues/templates/issue-nav");return c.extend({template:b.resultsCount,serializeData:function(){var e=this.options.total;var f=this.options.startIndex+1;var d=this.options.startIndex+this.options.pageSize;return{start:f,end:Math.min(d,e),total:e}},onRender:function(){this.unwrapTemplate()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/controllers/IssueTable.js' */
define("jira/issues/components/issue-table/controllers/issue-table",["require"],function(c){var d=c("jira/components/libs/marionette-1.4.1/controller");var a=c("jira/issues/components/issue-table/views/empty-results");var j=c("jira/issues/components/issue-table/views/end-of-stable-message");var e=c("jira/issues/components/issue-table/views/issue-table-layout");var f=c("jira/issues/components/issue-table/views/issue-table");var i=c("jquery");var g=c("jira/issues/components/issue-table/views/pagination");var h=c("jira/issues/components/issue-table/views/refresh-results");var b=c("jira/issues/components/issue-table/views/results-count");return d.extend({initialize:function(k){this.$el=i(k.el)},_createMainView:function(){return new e()},_createTableView:function(k,m){var l=new f({resultsTable:k,sortOptions:m});this.listenAndRethrow(l,"columnsChanged");this.listenAndRethrow(l,"highlightIssue");this.listenAndRethrow(l,"issueRowUpdated");this.listenAndRethrow(l,"sort");return l},_createResultsCount:function(k){return new b(k)},_createPagination:function(l){var k=new g(l);this.listenAndRethrow(k,"goToPage");return k},_createRefreshResults:function(){var k=new h();this.listenAndRethrow(k,"refresh");return k},_createEndOfStableMessage:function(k){return new j(k)},_createEmptyResultsView:function(k){return new a(k)},_layoutIsRendered:function(){return this.view&&this.view instanceof e},close:function(){if(this.view){this.view.close();delete this.view}},show:function(k){if(k.hasIssues){this._showTable(k)}else{this._showEmptyResults(k)}},showErrorMessage:function(k){this._showEmptyResults(k)},showPending:function(){if(this.view){this.view.showPending();if(this._layoutIsRendered()){this.view.table.currentView._removeDraggable()}}},_showTable:function(n){n=n||{};this.close();this.view=this._createMainView();var o=this._createTableView(n.table,n.sortOptions);var m=this._createResultsCount({total:n.totalIssues,startIndex:n.startIndex,pageSize:n.pageSize});var l=this._createResultsCount({total:n.totalIssues,startIndex:n.startIndex,pageSize:n.pageSize});var k=this._createPagination({startIndex:n.startIndex,pageSize:n.pageSize,total:n.totalIssues,currentSearch:n.currentSearch});var p=this._createEndOfStableMessage({total:n.totalIssues,displayableTotal:n.totalDisplayableIssues,pageNumber:n.pageNumber,numberOfPages:n.numberOfPages});this.listenTo(this.view,{render:function(){this.view.table.show(o);this.view.resultsCountTop.show(m);this.view.resultsCountBottom.show(l);this.view.pagination.show(k);this.view.refreshResultsTop.show(this._createRefreshResults());this.view.refreshResultsBottom.show(this._createRefreshResults());this.view.endOfStableMessage.show(p)}});this.view.render();this.$el.empty().append(this.view.$el);this.trigger("renderTable",this.$el)},_showEmptyResults:function(k){this.close();this.view=this._createEmptyResultsView(k);this.view.render();this.$el.empty().append(this.view.$el);this.trigger("renderEmpty",this.$el)},highlightIssue:function(l,k){if(this._layoutIsRendered()){this.view.table.currentView.highlightIssue(l,k)}},markIssueAsInaccessible:function(k){if(this._layoutIsRendered()){this.view.table.currentView.markIssueAsInaccessible(k)}},updateIssue:function(l,k){if(this._layoutIsRendered()){this.view.table.currentView.updateIssue(l,k)}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/namespace.js' */
AJS.namespace("JIRA.Components.IssueTable",null,require("jira/issues/components/issue-table"));AJS.namespace("JIRA.Components.IssueTable.Controllers.IssueTable",null,require("jira/issues/components/issue-table/controllers/issue-table"));AJS.namespace("JIRA.Components.IssueTable.Views.EmptyResults",null,require("jira/issues/components/issue-table/views/empty-results"));AJS.namespace("JIRA.Components.IssueTable.Views.IssueTable",null,require("jira/issues/components/issue-table/views/issue-table"));AJS.namespace("JIRA.Components.IssueTable.Views.IssueTableLayout",null,require("jira/issues/components/issue-table/views/issue-table-layout"));AJS.namespace("JIRA.Components.IssueNavigator.Views.EndOfStableMessage",null,require("jira/issues/components/issue-table/views/end-of-stable-message"));AJS.namespace("JIRA.Components.IssueNavigator.Views.Pagination",null,require("jira/issues/components/issue-table/views/pagination"));AJS.namespace("JIRA.Components.IssueNavigator.Views.RefreshResults",null,require("jira/issues/components/issue-table/views/refresh-results"));AJS.namespace("JIRA.Components.IssueNavigator.Views.ResultsCount",null,require("jira/issues/components/issue-table/views/results-count"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-searchheader', location = 'content/templates/issuenav-searchheader.soy' */
// This file was automatically generated from issuenav-searchheader.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavSearchHeader.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavSearchHeader == 'undefined') { JIRA.Templates.IssueNavSearchHeader = {}; }


JIRA.Templates.IssueNavSearchHeader.layoutSwitcher = function(opt_data, opt_ignored) {
  var output = '';
  if (require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) {
    output += '<div class="aui-buttons"><button id="layout-switcher-button" aria-owns="layout-switcher-options" aria-haspopup="true" class="aui-button aui-dropdown2-trigger" type="button"><span class="aui-icon aui-icon-small ' + soy.$$escapeHtmlAttribute(opt_data.activeLayout.iconClass) + '">' + soy.$$escapeHtml("Switch search results view") + '</span></button><!-- Dropdown --><div id="layout-switcher-options" class="aui-style-default aui-dropdown2"><div class="aui-dropdown2-section"><ul>';
    var layoutList10 = opt_data.layouts;
    var layoutListLen10 = layoutList10.length;
    for (var layoutIndex10 = 0; layoutIndex10 < layoutListLen10; layoutIndex10++) {
      var layoutData10 = layoutList10[layoutIndex10];
      output += '<li class="aui-list-item layout-switcher-item"><a href="#" class="aui-list-item-link" data-layout-key="' + soy.$$escapeHtmlAttribute(layoutData10.id) + '"><span class="aui-icon aui-icon-small ' + ((opt_data.activeLayout.id == layoutData10.id) ? 'aui-iconfont-success' : '') + '"></span>' + soy.$$escapeHtml(layoutData10.label) + '</a>';
    }
    output += '</ul></div></div></div>';
  } else {
    output += '<div class="aui-buttons"><button id="layout-switcher-button" class="aui-button aui-button-light drop-arrow js-default-dropdown" type="button"><span class="aui-icon aui-icon-small ' + soy.$$escapeHtmlAttribute(opt_data.activeLayout.iconClass) + '">' + soy.$$escapeHtml("Switch search results view") + '</span></button><div class="aui-list hidden"><h5>' + soy.$$escapeHtml("Views") + '</h5><ul class="aui-list-section aui-first aui-last">';
    var layoutList30 = opt_data.layouts;
    var layoutListLen30 = layoutList30.length;
    for (var layoutIndex30 = 0; layoutIndex30 < layoutListLen30; layoutIndex30++) {
      var layoutData30 = layoutList30[layoutIndex30];
      output += '<li class="aui-list-item layout-switcher-item"><a href="#" class="aui-list-item-link" data-layout-key="' + soy.$$escapeHtmlAttribute(layoutData30.id) + '"><span class="aui-icon aui-icon-small ' + ((opt_data.activeLayout.id == layoutData30.id) ? 'aui-iconfont-success' : '') + '"></span>' + soy.$$escapeHtml(layoutData30.label) + '</a>';
    }
    output += '</ul></div></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavSearchHeader.layoutSwitcher.soyTemplateName = 'JIRA.Templates.IssueNavSearchHeader.layoutSwitcher';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-searchheader', location = 'content/js/search/searchheader/LayoutSwitcherView.js' */
(function(){AJS.namespace("JIRA.Issues.LayoutSwitcherView");JIRA.Issues.LayoutSwitcherView=JIRA.Issues.BaseView.extend({template:JIRA.Templates.IssueNavSearchHeader.layoutSwitcher,initialize:function(a){_.bindAll(this,"_onLayoutSwitchClick");this.searchPageModule=a.searchPageModule;this.searchPageModule.on("change:currentLayout",this.render,this)},render:function(){this.$el.html(this.template({layouts:this.searchPageModule.getSortedLayouts(),activeLayout:this.searchPageModule.getActiveLayout()}));this._addLayoutSwitcherTooltip();this.$el.find(".aui-list-item-link").click(this._onLayoutSwitchClick);JIRA.trigger(JIRA.Events.NEW_CONTENT_ADDED,[this.$el,JIRA.CONTENT_ADDED_REASON.layoutSwitcherReady]);return this},enableLayoutSwitcher:function(){this.$el.find("#layout-switcher-button").removeClass("disabled").removeAttr("disabled");return this},disableLayoutSwitcher:function(){this.$el.find("#layout-switcher-button").addClass("disabled").attr("disabled","");return this},createHelptipForSwitchingToDetailView:function(b){var a;if(this._shouldShowIntro()&&this.$el.is(":visible")){a=new AJS.HelpTip({id:"split-view-intro",title:"Choose how you view issues",url:AJS.Meta.get("issue-search-help-url"),bodyHtml:"Switch between the details and list views to suit your preference.",anchor:".view-selector button",isSequence:true,weight:b})}return a},_shouldShowIntro:function(){return this.searchPageModule.search.getResults().hasIssues()},_addLayoutSwitcherTooltip:function(){function a(){var b=AJS.KeyboardShortcut.getKeyboardShortcutKeys("switch.search.layouts");if(b){return AJS.format("Change view (Type \'\'{0}\'\')",AJS.KeyboardShortcut.getKeyboardShortcutKeys("switch.search.layouts"))}else{return "Change view"}}new JIRA.Issues.Tipsy({el:this.$el.find("#layout-switcher-button"),showCondition:":not(.active)",tipsy:{title:a,gravity:"ne"}})},_onLayoutSwitchClick:function(c,a){if(JIRA.Issues.Application.request("issueEditor:canDismissComment")){var b=AJS.$(c.target).closest("[data-layout-key]").data("layout-key");c.preventDefault();if(b==="split-view"){require("jira/issues/views/details/metrics").start()}else{if(b==="list-view"){require("jira/issues/navigator/metrics").notifyIssueNavList()}}this.searchPageModule.changeLayout(b,a)}}})}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-searchheader', location = 'content/js/search/searchheader/SearchHeaderModule.js' */
(function(){AJS.namespace("JIRA.Issues.SearchHeaderModule");JIRA.Issues.SearchHeaderModule=JIRA.Issues.BaseEvented.extend({initialize:function(a){this._searchPageModule=a.searchPageModule},registerSearch:function(a){this._search=a},createToolsView:function(a){new JIRA.Issues.IssueTableHeaderOperationsView({el:a,search:this._search,searchPageModule:this._searchPageModule})}})}());;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:window-positioning', location = 'content/js/search/util/WindowPositioning.js' */
define("jira/issues/layer-positioning/window",["require"],function(b){var a=b("jira/ajs/layer/inline-layer/standard-positioning");var c=b("jquery");return a.extend({_calculateOverflow:function(f){var e=this.layer().css("position")==="fixed";var d=f.top+this.layer().outerHeight(true);var h=window.innerHeight;var g=c(window).scrollTop();if(e){return Math.max(0,d-h)}else{return Math.max(0,d-g-h)}},left:function(){var d=this._super();var e=this._calculateOverflow(d);if(e>0){d.left+=this.offsetTarget().outerWidth();d.top-=e}return d},right:function(){var d=this._super();var e=this._calculateOverflow(d);if(e>0){d.left-=this.offsetTarget().outerWidth();d.top-=e}return d}})});AJS.namespace("JIRA.Issues.WindowPositioning",null,require("jira/issues/layer-positioning/window"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:services-feature-flags', location = 'issueviewer/js/services/FeatureFlags.js' */
define("jira/components/issueviewer/services/featureflags",["jira/featureflags/feature-manager"],function(a){return Object.freeze({IS_FILTERS_IMPR_ENABLED:a.isFeatureEnabled("com.atlassian.jira.plugin.issuenavigator.filtersUxImprovment")})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/Filters.js' */
define("jira/issues/components/filters",["require"],function(g){var b=g("jira/message");var o=g("underscore");var q=g("jquery");var l=g("jira/issues/components/filters/controllers/dialog");var m=g("jira/issues/components/filters/controllers/header");var p=g("jira/issues/components/filters/controllers/list");var i=g("jira/issues/components/filters/controllers/list-with-actions");var k=g("jira/issues/components/filters/entities/favourite-filters");var a=g("jira/issues/components/filters/entities/filter");var f=g("jira/issues/components/filters/entities/system-filters");var h=g("jira/components/libs/marionette-1.4.1/controller");var d=g("jira/issues/utils/login");var c=g("jira/issues/libs/ajshelper");var j=g("jira/issues/libs/trace");var n=g("jira/issues/components/filters/templates/actions");var e={closeable:true,timeout:5};return h.extend({initialize:function(r){this._initializeDialogController();this.searchPageModule=r.searchPageModule;this._initializeCollections(r);this._initializeSystemFiltersController();this._initializeFavouriteFiltersController();this._initializeFilterHeaderController()},_initializeCollections:function(r){this.systemFiltersCollection=new f(r.systemFilters);this.favouriteFiltersCollection=new k([]);this.listenTo(this.favouriteFiltersCollection,{"change:favourite":function(t,s){if(!s){this.favouriteFiltersCollection.remove(t)}},remove:function(s){this.trigger("filterUnfavourited",{filterId:s.getId()})}})},_initializeDialogController:function(){this.dialogController=new l();this.listenTo(this.dialogController,"delete:success",function(r){this.favouriteFiltersCollection.remove(r);this.trigger("filterRemoved",{filterId:r.getId()});b.showSuccessMsg(AJS.format("The filter \u003cstrong\u003e{0}\u003c/strong\u003e has been deleted.",c.escapeHtml(r.getName())),e);j("jira.filter.saved")});this.listenTo(this.dialogController,"delete:error",function(){j("jira.filter.saved")});this.listenTo(this.dialogController,"rename:success",function(r){b.showSuccessMsg(AJS.format("The filter \u003cstrong\u003e{0}\u003c/strong\u003e has been renamed.",c.escapeHtml(r.getName())),e);j("jira.filter.saved")});this.listenTo(this.dialogController,"rename:error",function(){j("jira.filter.saved")});this.listenTo(this.dialogController,"copy:success",function(r){this.trigger("newFilter",r);this._addFavouriteFilter(r);j("jira.filter.saved")},this);this.listenTo(this.dialogController,"copy:error",function(){j("jira.filter.saved")});this.listenTo(this.dialogController,"saveas:success",function(r){this.trigger("newFilter",r);this._addFavouriteFilter(r);j("jira.filter.saved")},this);this.listenTo(this.dialogController,"saveas:error",function(){j("jira.filter.saved")})},_initializeSystemFiltersController:function(){this.systemFiltersController=new p({collection:this.systemFiltersCollection,className:"system-filters",title:"Filters",errorMessage:"Failed to retrieve system filters from server.",loadingMessage:"Loading system filters...",emptyMessage:"There are no system filters.",loginMessage:AJS.format("You must be {0}logged in{1} to view system filters.",'<a class="login-link" href="'+d.redirectUrlToCurrent()+'">',"</a>")});this.systemFiltersController.on("selectFilter",function(r){this.headerController.closeDetails();this.trigger("filterSelected",r.id)},this)},_initializeFavouriteFiltersController:function(){this.favouriteFiltersController=new i({collection:this.favouriteFiltersCollection,className:"favourite-filters",title:"Favourite Filters",errorMessage:"Failed to retrieve favourite filters from server.",loadingMessage:"Loading favourite filters...",emptyMessage:"You don\'t have any favourite filters.",loginMessage:AJS.format("You must be {0}logged in{1} to view favourite filters.",'<a class="login-link" href="'+d.redirectUrlToCurrent()+'">',"</a>")});this.favouriteFiltersController.on("selectFilter",function(r){this.headerController.closeDetails();this.trigger("filterSelected",r.id)},this);this.favouriteFiltersController.on("deleteFilter",function(r){this.showDeleteDialog(r.id)},this);this.favouriteFiltersController.on("renameFilter",function(r){this.showRenameDialog(r.id)},this);this.favouriteFiltersController.on("copyFilter",function(r){this.showCopyDialog(r.id)},this);this.favouriteFiltersController.on("unfavouriteFilter",function(r){r.saveFavourite(false)},this);this.favouriteFiltersController.on("list:render",function(){this.trigger("list:render");j("jira.filter.favourites.render")},this)},_initializeFilterHeaderController:function(){this.headerController=new m();this.listenTo(this.headerController,"saveAs",function(r){this.showSaveAsDialog(r)});this.listenTo(this.headerController,"save",function(s){var r=c.escapeHtml(s.getName());s.saveFilter(this.searchPageModule.getEffectiveJql()).done(o.bind(function(){b.showSuccessMsg(AJS.format("The filter \u003cstrong\u003e{0}\u003c/strong\u003e has been successfully saved.",r),e);this.trigger("savedFilter",s)},this)).fail(function(v){var u=this.searchPageModule.parseServerErrors(v).errorMessages;var t=n.saveFilterErrorMessages({errorMessages:u});b.showErrorMsg(AJS.format("The filter \u003cstrong\u003e{0}\u003c/strong\u003e could not be saved.",r)+t,e)}.bind(this))});this.listenTo(this.headerController,"discard",function(){this.trigger("filterDiscarded")});this.listenTo(this.headerController,"favourite",function(r){r=this._addFavouriteFilter(r);this.highlightFilter(r);this.trigger("fitlerFavourited",r)})},_addFavouriteFilter:function(s){var r=!!s.getFavourite();var t=!!this.favouriteFiltersCollection.get(s.getId());if(r&&!t){this.favouriteFiltersCollection.add(s)}return this.favouriteFiltersCollection.get(s.getId())},getFilterByIdFromExistingCollections:function(r){return this.systemFiltersCollection.get(r)||this.favouriteFiltersCollection.get(r)},getFilterById:function(s){var u=this.getFilterByIdFromExistingCollections(s);var r=new q.Deferred();if(u){r.resolve(u)}else{var t=new a({id:s});t.fetch({success:o.bind(function(){if(t.getFavourite()){this.favouriteFiltersCollection.add(t,{merge:true});r.resolve(this.favouriteFiltersCollection.get(t.id))}else{if(t.getIsSystem()){this.systemFiltersCollection.add(t,{merge:true});r.resolve(this.systemFiltersCollection.get(t.id))}else{r.resolve(t)}}},this),error:function(){t.setIsValid(false);r.reject.apply(this,arguments)}})}return r.promise()},showDeleteDialog:function(r){this.getFilterById(r).done(o.bind(function(s){this.dialogController.showDeleteDialog(s)},this))},showRenameDialog:function(r){this.getFilterById(r).done(o.bind(function(s){this.dialogController.showRenameDialog(s)},this))},showCopyDialog:function(r){this.getFilterById(r).done(o.bind(function(s){this.dialogController.showCopyDialog(s)},this))},showSaveAsDialog:function(r){this.searchPageModule.getJqlDeferred().done(o.bind(function(s){this.dialogController.showSaveAsDialog(r,s)},this))},showSystemFilters:function(r){this.systemFiltersController.show(r)},showFavouriteFilters:function(r){this.favouriteFiltersController.show(r)},showFilterHeader:function(r){this.headerController.show({el:r.el,model:r.model,isEdited:r.isEdited,isDirty:r.isDirty})},updateFilterHeader:function(r){this.headerController.update({model:r.model,isEdited:r.isEdited||false,isDirty:r.isDirty||false})},highlightFilter:function(r){this.systemFiltersController.highlightFilter(r);this.favouriteFiltersController.highlightFilter(r)},markFilterHeaderAsInvalid:function(){this.headerController.markAsInvalid()},markFilterHeaderInSearch:function(r){this.headerController.markInSearch(r)},fetchSystemFilters:function(){return this.systemFiltersCollection.fetch()},fetchFavouriteFilters:function(){return this.favouriteFiltersCollection.fetch({reset:true})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/entities/Filter.js' */
define("jira/issues/components/filters/entities/filter",["require"],function(d){var a=d("jira/ajs/ajax/smart-ajax");var h=d("underscore");var f=d("wrm/context-path");var j=d("jquery");var g=d("jira/components/libs/brace");var b=d("jira/issues/utils/login");var i=d("jira/issues/basemodel");var e=d("jira/issues/libs/trace");var c=f();return g.Model.extend({namedAttributes:["id","name","description","jql","favourite","isSystem","sharePermissions","subscriptions","ownerUserName","ownerDisplayName","avatarUrl","requiresLogin","isValid","editable"],defaults:{isSystem:false,isValid:true},urlRoot:c+"/rest/api/2/filter/",getOwner:function(){return this.getOwnerDisplayName()||this.getOwnerUserName()},isFavouriteFilter:function(){return !this.getIsSystem()&&!!this.getFavourite()},url:function(){return this.urlRoot+encodeURIComponent(this.id)+"?expand=subscriptions[-5:]"},isMyFilter:function(){return !this.getIsSystem()&&this.getOwnerUserName()===b.loggedInUserName()},isEditable:function(){return this.isMyFilter()||this.getEditable()},parse:function(k){if(k.subscriptions&&k.subscriptions.items){k.subscriptions.items.reverse()}return{id:k.id,name:k.name,description:k.description,jql:k.jql,isSystem:k.isSystem,favourite:k.favourite,sharePermissions:k.sharePermissions||[],subscriptions:k.subscriptions,ownerUserName:k.owner&&k.owner.name,ownerDisplayName:k.owner&&k.owner.displayName,avatarUrl:k.owner&&k.owner.avatarUrls["48x48"],requiresLogin:k.requiresLogin,editable:k.editable}},getNumberOfAdditionalSubscriptions:function(){var k=this.getSubscriptions();return k.size>k.items.length?k.size-k.items.length:0},saveFavourite:function(l){var k=this;var m=this.getFavourite();this.setFavourite(l);if(this.pendingRequest){this.pendingRequest.abort()}this.pendingRequest=a.makeRequest({url:c+"/rest/api/1.0/filters/"+encodeURIComponent(this.getId())+"/favourite",type:l?"PUT":"DELETE"}).done(function(n){var o=j(n).text().match(/favourite state: (\w+)/)[1]==="true";delete k.pendingRequest;k.setFavourite(o)}).fail(function(){k.setFavourite(m)});return this.pendingRequest},saveFilter:function(m){if(this.pendingRequest){this.pendingRequest.abort()}var l=this.toJSON();var n={id:l.id,name:l.name,jql:m,favourite:l.favourite};var k=this;this.pendingRequest=a.makeRequest({url:this.url(),type:"PUT",contentType:"application/json",data:JSON.stringify(n)}).done(function(o){k.set(k.parse(o))}).then(function(){delete k.pendingRequest;e("jira.filter.saved")});return this.pendingRequest},toJSON:function(){var k=i.prototype.toJSON.apply(this);h.extend(k,{requiresLoginForUser:this._requiresLoginForUser(this.getRequiresLogin()),navUrl:this._constructNavUrl(this.getId(),this.getRequiresLogin())});return k},_requiresLoginForUser:function(k){return !b.isLoggedIn()&&k},_constructNavUrl:function(k,l){var m="/issues/?filter="+k;if(this._requiresLoginForUser(l)){return b.redirectUrl(m)}else{return c+m}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/entities/Filters.js' */
define("jira/issues/components/filters/entities/filters",["require"],function(c){var b=c("underscore");var a=c("jira/issues/components/filters/entities/filter");var d=c("jira/components/libs/brace");return d.Collection.extend({model:a,fetch:function(){var e=d.Collection.prototype.fetch.apply(this,arguments);e.done(b.bind(function(){this.fetchState="fetched";this.trigger("change:fetchState",this.fetchState)},this));e.fail(b.bind(function(){this.fetchState="error";this.trigger("change:fetchState",this.fetchState)},this));return e},initialize:function(f,e){e=e||{};this.fetchState=e.fetchState}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/entities/SystemFilters.js' */
define("jira/issues/components/filters/entities/system-filters",["require"],function(d){var c=d("underscore");var a=d("wrm/context-path");var f=d("jquery");var e=d("jira/issues/components/filters/entities/filters");var b=a();return e.extend({_setFetchState:function(h){var g=h!==this.fetchState;this.fetchState=h;if(g){this.trigger("change:fetchState",this.fetchState)}},url:b+"/rest/issueNav/latest/systemFilters",fetch:function(){if(this.length>0){this._setFetchState("fetched");return new f.Deferred().resolve()}return e.prototype.fetch.apply(this,c.toArray(arguments))}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/entities/FavouriteFilters.js' */
define("jira/issues/components/filters/entities/favourite-filters",["require"],function(b){var a=b("wrm/context-path");var c=b("jira/issues/components/filters/entities/filters");return c.extend({url:a()+"/rest/api/2/filter/favourite?expand=subscriptions[-5:]",comparator:function(e,d){return e.getName().toLowerCase().localeCompare(d.getName().toLowerCase())}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/actions.soy' */
// This file was automatically generated from actions.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Filters.Templates.Actions.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Filters == 'undefined') { JIRA.Components.Filters = {}; }
if (typeof JIRA.Components.Filters.Templates == 'undefined') { JIRA.Components.Filters.Templates = {}; }
if (typeof JIRA.Components.Filters.Templates.Actions == 'undefined') { JIRA.Components.Filters.Templates.Actions = {}; }


JIRA.Components.Filters.Templates.Actions.DropDown = function(opt_data, opt_ignored) {
  return '<div class="aui-list"><ul class="aui-list-section">' + ((opt_data.canEdit) ? '<li class="aui-list-item"><a href="" class="aui-list-item-link rename-filter" data-id="' + soy.$$escapeHtmlAttribute(opt_data.filter.id) + '">' + soy.$$escapeHtml("Rename") + '</a></li>' : '') + '<li class="aui-list-item"><a href="" class="aui-list-item-link copy-filter" data-id="' + soy.$$escapeHtmlAttribute(opt_data.filter.id) + '">' + soy.$$escapeHtml("Copy") + '</a></li></ul><ul class="aui-list-section' + ((! opt_data.canEdit) ? ' aui-last' : '') + '"><li class="aui-list-item"><a href="" class="aui-list-item-link unfavourite-filter" data-id="' + soy.$$escapeHtmlAttribute(opt_data.filter.id) + '">' + soy.$$escapeHtml("Remove from favourites") + '</a></li></ul>' + ((opt_data.canEdit) ? '<ul class="aui-list-section aui-last"><li class="aui-list-item"><a href="" class="aui-list-item-link delete-filter" data-id="' + soy.$$escapeHtmlAttribute(opt_data.filter.id) + '">' + soy.$$escapeHtml("Delete") + '</a></li></ul>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Actions.DropDown.soyTemplateName = 'JIRA.Components.Filters.Templates.Actions.DropDown';
}


JIRA.Components.Filters.Templates.Actions.saveFilterErrorMessages = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.errorMessages) {
    output += '<ul>';
    var msgList36 = opt_data.errorMessages;
    var msgListLen36 = msgList36.length;
    for (var msgIndex36 = 0; msgIndex36 < msgListLen36; msgIndex36++) {
      var msgData36 = msgList36[msgIndex36];
      output += '<li>' + soy.$$escapeHtml(msgData36) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Actions.saveFilterErrorMessages.soyTemplateName = 'JIRA.Components.Filters.Templates.Actions.saveFilterErrorMessages';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/dialogs.soy' */
// This file was automatically generated from dialogs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Filters.Templates.Dialogs.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Filters == 'undefined') { JIRA.Components.Filters = {}; }
if (typeof JIRA.Components.Filters.Templates == 'undefined') { JIRA.Components.Filters.Templates = {}; }
if (typeof JIRA.Components.Filters.Templates.Dialogs == 'undefined') { JIRA.Components.Filters.Templates.Dialogs = {}; }


JIRA.Components.Filters.Templates.Dialogs.Rename = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog-content"><form action="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/rest/api/2/filter/' + soy.$$escapeHtmlAttribute(opt_data.filter.id) + '" class="aui" id="rename-filter-form" method="put"><div class="aui-messages"></div><div class="form-body"><h2 class="dialog-title">' + soy.$$escapeHtml("Rename Filter") + ': ' + soy.$$escapeHtml(opt_data.filter.name) + '</h2><div class="field-group"><label for="filterName">' + soy.$$escapeHtml("Filter Name") + '<span class="aui-icon icon-required"><span class="content">Required</span></span></label><input type="text" id="filterName" name="name" value="' + soy.$$escapeHtmlAttribute(opt_data.filter.name) + '" class="text long-field"></div></div><div class="buttons-container form-footer"><div class="buttons"><input accesskey="' + soy.$$escapeHtmlAttribute("s") + '" title="' + soy.$$escapeHtmlAttribute(AJS.format("Press {1}+{0} to submit this form","s",opt_data.modifierKey)) + '" class="aui-button submit" type="submit" value="' + soy.$$escapeHtmlAttribute("Submit") + '" /><a accesskey="' + soy.$$escapeHtmlAttribute("`") + '" title="' + soy.$$escapeHtmlAttribute(AJS.format("Press {1}+{0} to cancel","`",opt_data.modifierKey)) + '" class="aui-button aui-button-link cancel" href="javascript:">' + soy.$$escapeHtml("Cancel") + '</a></div></div></form></div>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Dialogs.Rename.soyTemplateName = 'JIRA.Components.Filters.Templates.Dialogs.Rename';
}


JIRA.Components.Filters.Templates.Dialogs.Save = function(opt_data, opt_ignored) {
  var output = '<div class="aui-dialog-content"><form action="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.contextPath)) + '/rest/api/2/filter/" class="aui" id="save-filter-form" method="post"><div class="aui-messages"></div><div class="form-body"><h2 class="dialog-title">' + soy.$$escapeHtml(opt_data.headerText) + '</h2>' + ((opt_data.isFiltersImprEnabled && opt_data.isJqlEmpty) ? '<div class="aui-message aui-message-warning" data-analytics-id="empty-jql-warning"><p>' + soy.$$escapeHtml("You\x27re trying to save an empty filter. You should first create some query.") + '</p></div>' : '') + ((opt_data.copyFromAnotherUser) ? '<p class="form-description">' + ((opt_data.filterOwnerName) ? soy.$$escapeHtml(AJS.format("This filter was created by {0}. You can save a copy of this filter but you cannot modify the original.",opt_data.filterOwnerName)) : soy.$$escapeHtml("You can save a copy of this filter but you cannot modify the original.")) + '</p>' : '') + '<div class="field-group"><label for="filterName">' + soy.$$escapeHtml("Filter Name") + '<span class="aui-icon icon-required"><span class="content">Required</span></span></label><input type="text" id="filterName" name="name"' + ((opt_data.prefilledFilterName) ? ' value="' + soy.$$escapeHtmlAttribute(opt_data.prefilledFilterName) + '"' : '') + 'class="text long-field"><div class="description">' + soy.$$escapeHtml("Enter a name for this Filter") + '</div>';
  var fieldList59 = opt_data.hiddenFields;
  var fieldListLen59 = fieldList59.length;
  for (var fieldIndex59 = 0; fieldIndex59 < fieldListLen59; fieldIndex59++) {
    var fieldData59 = fieldList59[fieldIndex59];
    output += '<input type="hidden" name="' + soy.$$escapeHtmlAttribute(fieldData59.name) + '" value="' + ((fieldData59.value) ? soy.$$escapeHtmlAttribute(fieldData59.value) : '') + '" />';
  }
  output += '</div>' + ((opt_data.isDefaultShareScopeGlobal) ? '<div class="aui-message info shadowed"><p class="title"><span class="aui-icon icon-info"></span><strong>' + soy.$$escapeHtml("By default your filters are shared with everyone.") + '</strong></p><input type="checkbox" id="setSharingPrivate" class="checkbox"><label for="setSharingPrivate">' + soy.$$escapeHtml("My filters should be private by default.") + '</label></div>' : '') + '</div><div class="buttons-container form-footer"><div class="buttons">';
  var saveButtonClass__soy77 = opt_data.isFiltersImprEnabled ? 'aui-button aui-button-primary' : 'aui-button submit';
  var saveButtonValue__soy78 = opt_data.isFiltersImprEnabled ? "Save" : "Submit";
  output += '<input accesskey="' + soy.$$escapeHtmlAttribute("s") + '" title="' + soy.$$escapeHtmlAttribute(AJS.format("Press {1}+{0} to submit this form","s",opt_data.modifierKey)) + '" class="' + soy.$$escapeHtmlAttribute(saveButtonClass__soy77) + '" type="submit" value="' + soy.$$escapeHtmlAttribute(saveButtonValue__soy78) + '"/><a accesskey="' + soy.$$escapeHtmlAttribute("`") + '" title="' + soy.$$escapeHtmlAttribute(AJS.format("Press {1}+{0} to cancel","`",opt_data.modifierKey)) + '" class="aui-button aui-button-link cancel" href="#">' + soy.$$escapeHtml("Cancel") + '</a></div></div></form></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Dialogs.Save.soyTemplateName = 'JIRA.Components.Filters.Templates.Dialogs.Save';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/list.soy' */
// This file was automatically generated from list.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Filters.Templates.List.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Filters == 'undefined') { JIRA.Components.Filters = {}; }
if (typeof JIRA.Components.Filters.Templates == 'undefined') { JIRA.Components.Filters.Templates = {}; }
if (typeof JIRA.Components.Filters.Templates.List == 'undefined') { JIRA.Components.Filters.Templates.List = {}; }


JIRA.Components.Filters.Templates.List.Module = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<div class="aui-navgroup-vertical filter-panel-section">' + ((opt_data.title) ? '<div class="aui-nav-heading"><strong class="filter-title">' + soy.$$escapeHtml(opt_data.title) + '</strong></div>' : '') + '<div class="filter-content" /></div>' : '<div class="filter-panel-section">' + ((opt_data.title) ? '<h4 class="filter-title">' + soy.$$escapeHtml(opt_data.title) + '</h4>' : '') + '<div class="filter-content" /></div>');
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.List.Module.soyTemplateName = 'JIRA.Components.Filters.Templates.List.Module';
}


JIRA.Components.Filters.Templates.List.List = function(opt_data, opt_ignored) {
  return '<ul class="' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? 'aui-nav' : '') + ' saved-filter filter-list ' + soy.$$escapeHtmlAttribute(opt_data.className) + '"></ul>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.List.List.soyTemplateName = 'JIRA.Components.Filters.Templates.List.List';
}


JIRA.Components.Filters.Templates.List.Filter = function(opt_data, opt_ignored) {
  return '<li><a class="filter-link' + ((opt_data.requiresLoginForUser) ? ' requires-login' : '') + '" href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.navUrl)) + '" data-id="' + soy.$$escapeHtmlAttribute(opt_data.id) + '" title="' + soy.$$escapeHtmlAttribute(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.name) + '</a>' + ((opt_data.useActions) ? (require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<button aria-controls="compact-button-dropdown" class="aui-button aui-button-compact aui-button-subtle aui-dropdown2-trigger-arrowless filter-actions" data-id="' + soy.$$escapeHtmlAttribute(opt_data.id) + '"><span class="aui-icon aui-icon-small aui-iconfont-more">' + soy.$$escapeHtml("Filter Actions") + '</span></button>' : '<a href="#" class="filter-actions" data-id="' + soy.$$escapeHtmlAttribute(opt_data.id) + '"><span>' + soy.$$escapeHtml("Filter Actions") + '</span></a>' : '') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.List.Filter.soyTemplateName = 'JIRA.Components.Filters.Templates.List.Filter';
}


JIRA.Components.Filters.Templates.List.Message = function(opt_data, opt_ignored) {
  return '<p class="filter-info ' + soy.$$escapeHtmlAttribute(opt_data.className) + '">' + soy.$$filterNoAutoescape(opt_data.text) + '</p>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.List.Message.soyTemplateName = 'JIRA.Components.Filters.Templates.List.Message';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/header.soy' */
// This file was automatically generated from header.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Filters.Templates.Header.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Filters == 'undefined') { JIRA.Components.Filters = {}; }
if (typeof JIRA.Components.Filters.Templates == 'undefined') { JIRA.Components.Filters.Templates = {}; }
if (typeof JIRA.Components.Filters.Templates.Header == 'undefined') { JIRA.Components.Filters.Templates.Header = {}; }


JIRA.Components.Filters.Templates.Header.Main = function(opt_data, opt_ignored) {
  var output = '<div class="header-section-primary"><h1 class="search-title" title="' + soy.$$escapeHtmlAttribute(opt_data.title) + '">' + soy.$$escapeHtml(opt_data.title) + '</h1><ul class="filter-operations">' + ((opt_data.primaryOps && opt_data.primaryOps.length) ? '<li class="filter-edited-item"><span ' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? 'class="aui-lozenge aui-lozenge-subtle"' : '') + '>' + soy.$$escapeHtml("Edited") + '</span></li>' : '');
  if (opt_data.primaryButton) {
    output += '<li>' + ((opt_data.primaryOps && opt_data.primaryOps.length) ? '<div class="aui-buttons">' : '') + '<button class="aui-button ' + soy.$$escapeHtmlAttribute(opt_data.primaryButton.styleClass) + '">' + soy.$$escapeHtml(opt_data.primaryButton.label) + '</button>';
    if (opt_data.primaryOps && opt_data.primaryOps.length) {
      output += ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<button class="aui-button aui-dropdown2-trigger aui-dropdown2-trigger-arrowless js-edited-trigger" aria-owns="js-edited-content" aria-haspopup="true" data-container=".aui-buttons"><span class="aui-icon aui-icon-small aui-iconfont-more">' + soy.$$escapeHtml("Filter Actions") + '</span></button>' : '<button class="aui-button aui-button-light aui-dropdown2-trigger js-edited-trigger" aria-owns="js-edited-content" aria-haspopup="true" data-container=".aui-buttons"></button>') + '</div><div id="js-edited-content" class="aui-dropdown2 aui-style-default"><ul>';
      var opList38 = opt_data.primaryOps;
      var opListLen38 = opList38.length;
      for (var opIndex38 = 0; opIndex38 < opListLen38; opIndex38++) {
        var opData38 = opList38[opIndex38];
        output += '<li><a href="' + ((opData38.href) ? soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opData38.href)) : '#') + '" ' + ((opData38.styleClass) ? 'class="' + soy.$$escapeHtmlAttribute(opData38.styleClass) + '"' : '') + '>' + soy.$$escapeHtml(opData38.label) + '</a></li>';
      }
      output += '</ul></div>';
    }
    output += '</li>';
  }
  if (opt_data.owner) {
    var opList59 = opt_data.secondaryOps;
    var opListLen59 = opList59.length;
    for (var opIndex59 = 0; opIndex59 < opListLen59; opIndex59++) {
      var opData59 = opList59[opIndex59];
      output += '<li><a href="' + ((opData59.href) ? soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opData59.href)) : '#') + '" ' + ((opData59.title) ? 'title="' + soy.$$escapeHtmlAttribute(opData59.title) + '"' : '') + ' class="' + soy.$$escapeHtmlAttribute(opData59.styleClass) + '">' + ((opData59.label) ? soy.$$escapeHtml(opData59.label) : '') + '</a></li>';
    }
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Header.Main.soyTemplateName = 'JIRA.Components.Filters.Templates.Header.Main';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/details.soy' */
// This file was automatically generated from details.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Filters.Templates.Details.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Filters == 'undefined') { JIRA.Components.Filters = {}; }
if (typeof JIRA.Components.Filters.Templates == 'undefined') { JIRA.Components.Filters.Templates = {}; }
if (typeof JIRA.Components.Filters.Templates.Details == 'undefined') { JIRA.Components.Filters.Templates.Details = {}; }


JIRA.Components.Filters.Templates.Details.Main = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.Filters.Templates.Details.Description(opt_data) + JIRA.Components.Filters.Templates.Details.Permissions(opt_data) + ((opt_data.userIsLoggedIn) ? JIRA.Components.Filters.Templates.Details.Subscriptions(opt_data) : '');
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.Main.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.Main';
}


JIRA.Components.Filters.Templates.Details.Description = function(opt_data, opt_ignored) {
  return '<div class="filter-details-section sub-section">' + ((opt_data.owner) ? JIRA.Components.Filters.Templates.Details.Owner(opt_data) : '') + ((opt_data.filter.description) ? '<p class="filter-name">' + soy.$$escapeHtml(opt_data.filter.description) + ((opt_data.permissions.userHasEditPermission) ? ' <a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/secure/EditFilter!default.jspa?filterId=' + soy.$$escapeUri(opt_data.filter.id) + '">(' + soy.$$escapeHtml("Edit") + ')</a>' : '') + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.Description.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.Description';
}


JIRA.Components.Filters.Templates.Details.Permissions = function(opt_data, opt_ignored) {
  return '<div class="filter-details-section sub-section">' + JIRA.Components.Filters.Templates.Details.ViewSharePermissions({label: "Who can view this filter", sharePermissions: opt_data.shareViewPermissions, privateMessage: "only the editors"}) + ((opt_data.shareEditPermissions != null) ? JIRA.Components.Filters.Templates.Details.EditSharePermissions({label: "Who can edit this filter", sharePermissions: opt_data.shareEditPermissions, privateMessage: "only the owner"}) : '') + ((opt_data.permissions.userHasEditSharingPermission) ? '<p><a class="edit-permissions" href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/secure/EditFilter!default.jspa?filterId=' + soy.$$escapeUri(opt_data.filter.id) + '">' + soy.$$escapeHtml("Edit permissions") + '</a></p>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.Permissions.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.Permissions';
}


JIRA.Components.Filters.Templates.Details.EditSharePermissions = function(opt_data, opt_ignored) {
  return '<p class="shares-label">' + soy.$$escapeHtml(opt_data.label) + '</p>' + ((opt_data.sharePermissions && opt_data.sharePermissions.hasShares) ? '<table class="edit-shares">' + ((opt_data.sharePermissions.groups && opt_data.sharePermissions.groups.length > 0) ? JIRA.Components.Filters.Templates.Details.permissionsTab({type: 'Groups', shares: opt_data.sharePermissions.groups}) : '') + ((opt_data.sharePermissions.projects && opt_data.sharePermissions.projects.length > 0) ? JIRA.Components.Filters.Templates.Details.permissionsTab({type: 'Projects', shares: opt_data.sharePermissions.projects}) : '') + ((opt_data.sharePermissions.users && opt_data.sharePermissions.users.length > 0) ? JIRA.Components.Filters.Templates.Details.permissionsTab({type: 'Users', shares: opt_data.sharePermissions.users}) : '') + '</table>' : '<p class="view-shares">' + soy.$$escapeHtml(opt_data.privateMessage) + '</p>');
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.EditSharePermissions.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.EditSharePermissions';
}


JIRA.Components.Filters.Templates.Details.permissionsTab = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.shares) {
    output += '<tr><td>' + ((opt_data.type == 'Groups') ? soy.$$escapeHtml("Groups") : (opt_data.type == 'Projects') ? soy.$$escapeHtml("Projects") : (opt_data.type == 'Users') ? soy.$$escapeHtml("Users") : '') + '</td><td><ul>';
    var shareList102 = opt_data.shares;
    var shareListLen102 = shareList102.length;
    for (var shareIndex102 = 0; shareIndex102 < shareListLen102; shareIndex102++) {
      var shareData102 = shareList102[shareIndex102];
      output += (shareData102.project) ? JIRA.Components.Filters.Templates.Details.projectShare({share: shareData102}) : (shareData102.type == 'project-unknown') ? '<li class="hidden-project" title="' + soy.$$escapeHtmlAttribute("You don\xe2\x80\x99t have permission to view this project.") + '">' + soy.$$escapeHtml("[Hidden project]") + '</li>' : (shareData102.group) ? '<li>' + soy.$$escapeHtml(shareData102.group.name) + '</li>' : (shareData102.user) ? '<li>' + soy.$$escapeHtml(shareData102.user.displayName) + '</li>' : (shareData102.type == 'user-unknown') ? '<li>' + soy.$$escapeHtml("[Hidden user]") + '</li>' : '';
    }
    output += '</ul></td></tr>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.permissionsTab.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.permissionsTab';
}


JIRA.Components.Filters.Templates.Details.projectShare = function(opt_data, opt_ignored) {
  return '<li><a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/browse/' + soy.$$escapeHtml(opt_data.share.project.key) + '">' + soy.$$escapeHtml(opt_data.share.project.name) + '</a>' + ((opt_data.share.role) ? ' (' + soy.$$escapeHtml("Role") + ': ' + soy.$$escapeHtml(opt_data.share.role.name) + ')' : '') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.projectShare.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.projectShare';
}


JIRA.Components.Filters.Templates.Details.ViewSharePermissions = function(opt_data, opt_ignored) {
  var output = '<p class="shares-label">' + soy.$$escapeHtml(opt_data.label) + '</p>';
  if (opt_data.sharePermissions && opt_data.sharePermissions.hasShares) {
    if (opt_data.sharePermissions.globalShare) {
      output += '<p class="view-shares">' + soy.$$escapeHtml("everybody") + '</p>';
    } else if (opt_data.sharePermissions.loggedInShare) {
      output += '<p class="view-shares">' + soy.$$escapeHtml("Any logged-in user") + '</p>';
    } else {
      output += '<p class="view-shares">';
      if (opt_data.sharePermissions.projectShares && opt_data.sharePermissions.projectShares.length > 0) {
        output += '<span id="projects-count" title="';
        var shareList167 = opt_data.sharePermissions.projectShares;
        var shareListLen167 = shareList167.length;
        for (var shareIndex167 = 0; shareIndex167 < shareListLen167; shareIndex167++) {
          var shareData167 = shareList167[shareIndex167];
          output += (shareData167.type == 'project-unknown') ? soy.$$escapeHtmlAttribute("[Hidden project]") + ', ' : soy.$$escapeHtmlAttribute(shareData167.project.name) + ((shareData167.role) ? ' (' + soy.$$escapeHtmlAttribute("Role") + ': ' + soy.$$escapeHtmlAttribute(shareData167.role.name) + ')' : '') + ', ';
        }
        output += '">' + soy.$$escapeHtml(AJS.format("{0,choice,1#{0} project |1\x3c{0} projects}",opt_data.sharePermissions.projectShares.length)) + ((opt_data.sharePermissions.groupShares.length > 0) ? ', ' : '') + '</span>';
      }
      if (opt_data.sharePermissions.groupShares && opt_data.sharePermissions.groupShares.length > 0) {
        output += '<span id="groups-count" title="';
        var shareList192 = opt_data.sharePermissions.groupShares;
        var shareListLen192 = shareList192.length;
        for (var shareIndex192 = 0; shareIndex192 < shareListLen192; shareIndex192++) {
          var shareData192 = shareList192[shareIndex192];
          output += (shareData192.group) ? soy.$$escapeHtmlAttribute(shareData192.group.name) + ', ' : '';
        }
        output += '">' + soy.$$escapeHtml(AJS.format("{0,choice,1#{0} group |1\x3c{0} groups}",opt_data.sharePermissions.groupShares.length)) + '</span>';
      }
      output += '</p>';
    }
  } else {
    output += '<p class="view-shares">' + soy.$$escapeHtml(opt_data.privateMessage) + '</p>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.ViewSharePermissions.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.ViewSharePermissions';
}


JIRA.Components.Filters.Templates.Details.Subscriptions = function(opt_data, opt_ignored) {
  return '<div class="filter-details-section full-section"><h4>' + soy.$$escapeHtml("Subscriptions") + '</h4>' + ((opt_data.subscriptions.items.length) ? '<p>' + soy.$$escapeHtml("This filter has the following subscriptions:") + '</p>' + JIRA.Components.Filters.Templates.Details.SubscriptionList(opt_data) : '<p>' + soy.$$escapeHtml("This filter has no subscriptions.") + '</p>') + '<ul class="manage-links"><li><a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/secure/EditSubscription!default.jspa?filterId=' + soy.$$escapeUri(opt_data.filter.id) + '&returnUrl=' + soy.$$escapeUri(opt_data.returnUrl) + '">' + soy.$$escapeHtml("New subscription") + '</a></li>' + ((opt_data.subscriptions.items.length) ? '<li><a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/secure/ViewSubscriptions.jspa?filterId=' + soy.$$escapeUri(opt_data.filter.id) + '">' + soy.$$escapeHtml("Manage subscriptions") + '</a></li>' : '') + '</ul></div>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.Subscriptions.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.Subscriptions';
}


JIRA.Components.Filters.Templates.Details.SubscriptionList = function(opt_data, opt_ignored) {
  var output = '<ul>';
  var subList242 = opt_data.filter.subscriptions.items;
  var subListLen242 = subList242.length;
  for (var subIndex242 = 0; subIndex242 < subListLen242; subIndex242++) {
    var subData242 = subList242[subIndex242];
    output += (subData242.group) ? '<li>' + soy.$$escapeHtml(subData242.group.name) + '</li>' : '<li>' + soy.$$escapeHtml(subData242.user.displayName) + '</li>';
  }
  output += ((opt_data.filter.subscriptions.additionalLength) ? '<li><a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/secure/ViewSubscriptions.jspa?filterId=' + soy.$$escapeUri(opt_data.filter.id) + '">' + soy.$$escapeHtml(AJS.format("{0} more",opt_data.filter.subscriptions.additionalLength)) + '</a></li>' : '') + '</ul>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.SubscriptionList.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.SubscriptionList';
}


JIRA.Components.Filters.Templates.Details.Owner = function(opt_data, opt_ignored) {
  var output = '<div class="search-owner">' + ((opt_data.avatarUrl) ? '<span class="aui-avatar aui-avatar-medium search-owner-avatar"><span class="aui-avatar-inner"><img src="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.avatarUrl)) + '" /></span></span>' : '') + '<span class="search-owner-name">';
  var ownerLink__soy273 = '' + JIRA.Components.Filters.Templates.Details.OwnerLink(opt_data);
  output += soy.$$filterNoAutoescape(AJS.format("Owned by {0}",ownerLink__soy273)) + '</span></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.Owner.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.Owner';
}


JIRA.Components.Filters.Templates.Details.OwnerLink = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.ownerUrl)) + '" class="user-hover" rel="' + soy.$$escapeHtmlAttribute(opt_data.ownerUserName) + '">' + soy.$$escapeHtml(opt_data.owner) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.OwnerLink.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.OwnerLink';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/amd-wrapper.js' */
define("jira/issues/components/filters/templates/actions",function(){return JIRA.Components.Filters.Templates.Actions});define("jira/issues/components/filters/templates/details",function(){return JIRA.Components.Filters.Templates.Details});define("jira/issues/components/filters/templates/dialogs",function(){return JIRA.Components.Filters.Templates.Dialogs});define("jira/issues/components/filters/templates/header",function(){return JIRA.Components.Filters.Templates.Header});define("jira/issues/components/filters/templates/list",function(){return JIRA.Components.Filters.Templates.List});AJS.namespace("JIRA.Components.Filters.Templates.Actions",null,require("jira/issues/components/filters/templates/actions"));AJS.namespace("JIRA.Components.Filters.Templates.Details",null,require("jira/issues/components/filters/templates/details"));AJS.namespace("JIRA.Components.Filters.Templates.Dialogs",null,require("jira/issues/components/filters/templates/dialogs"));AJS.namespace("JIRA.Components.Filters.Templates.Header",null,require("jira/issues/components/filters/templates/header"));AJS.namespace("JIRA.Components.Filters.Templates.List",null,require("jira/issues/components/filters/templates/list"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/Actions.js' */
define("jira/issues/components/filters/views/actions",["require"],function(d){var f=d("jira/ajs/dropdown/dropdown");var g=d("underscore");var j=d("jira/issues/components/filters/templates/actions");var e=d("jira/components/libs/marionette-1.4.1/itemview");var b=d("jira/issues/utils/login");var a=d("jira/issues/layer-positioning/window");var c=d("jira/issues/libs/ajshelper");var i=d("jira/featureflags/feature-manager");var h=i.isFeatureEnabled("jira.spectrum.m1");return e.extend({template:j.DropDown,triggers:{"click .rename-filter":"renameFilter","click .copy-filter":"copyFilter","click .unfavourite-filter":"unfavouriteFilter","click .delete-filter":"deleteFilter"},triggerView:null,dropDown:null,initialize:function(k){this.triggerView=k.triggerView},serializeData:function(){return{filter:this.model,canEdit:b.loggedInUserName()===this.model.getOwnerUserName()}},onBeforeRender:function(){this.dropDown=new f({alignment:c.LEFT,styleClass:"filter-actions-dropdown",content:g.bind(function(){return this.$el},this),positioningController:new a(),trigger:this.triggerView.getActionsTrigger()});this.dropDown.bind("hideLayer",g.bind(this.close,this))},onRender:function(){this.dropDown.show();if(!h){this._markFilterAsSelected()}},onClose:function(){this.dropDown.hide();if(h){this.dropDown._unassignEvents("trigger",this.triggerView.getActionsTrigger())}this.dropDown.layerController.placeholder().remove();this.dropDown=null;if(!h){this._markFilterAsUnselected()}},_markFilterAsSelected:function(){var k=this.triggerView.getActionsTrigger();k.find("span").addClass("active");k.closest("li").addClass("hover")},_markFilterAsUnselected:function(){var k=this.triggerView.getActionsTrigger();k.find("span").removeClass("active");k.closest("li").removeClass("hover")}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/dialogs/Copy.js' */
define("jira/issues/components/filters/views/dialogs/copy",["require"],function(c){var a=c("jira/ajs/ajax/smart-ajax");var i=c("underscore");var f=c("wrm/context-path");var j=c("jira/issues/components/filters/templates/dialogs");var h=c("jira/components/libs/marionette-1.4.1/dialogview");var d=c("jira/util/data/meta");var e=c("jira/components/issueviewer/services/featureflags");var g=c("jira/issue/utils");var b=f();return h.extend({template:j.Save,id:"copy-filter-dialog",dialogOptions:function(){var k=this;return{content:function(l){a.makeRequest({url:b+"/rest/api/2/filter/defaultShareScope",contentType:"application/json"}).done(function(m){l(k.template(i.extend({isDefaultShareScopeGlobal:m&&m.scope==="GLOBAL"},k.serializeData())))})}}},formToRequestData:function(k){return{name:k.find("[name=name]").val(),id:this.model.getId(),favourite:true}},serializeData:function(){var k=this.model;return{headerText:"Copy filter"+" : "+k.getName(),prefilledFilterName:AJS.format("Copy of {0}",k.getName()),modifierKey:d.get("keyboard-accesskey-modifier"),contextPath:b,filter:k.toJSON(),copyFromAnotherUser:k.getOwnerUserName()!==d.get("remote-user"),filterOwnerName:k.getOwnerDisplayName(),hiddenFields:[],isFiltersImprEnabled:e.IS_FILTERS_IMPR_ENABLED,isJqlEmpty:g.isEmptyOrWhitespace(this.model.getJql())}},onSubmitSuccess:function(){if(this.$el.find("#setSharingPrivate").prop("checked")){a.makeRequest({url:b+"/rest/api/2/filter/defaultShareScope",type:"PUT",contentType:"application/json",processData:false,data:JSON.stringify({scope:"PRIVATE"})})}},onSubmitError:function(){this.dialog.$form.find("#filterName").focus()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/dialogs/Delete.js' */
define("jira/issues/components/filters/views/dialogs/delete",["require"],function(e){var c=e("jira/dialog/dialog-util");var b=e("wrm/context-path");var a=e("jira/components/libs/marionette-1.4.1/dialogview");var f=e("jira/util/data/meta");var d=b();return a.extend({id:"delete-filter-dialog",serializeData:function(){var g={modifierKey:f.get("keyboard-accesskey-modifier")};if(this.model){g.filter=this.model.toJSON()}else{g.filter={subscriptions:{items:[]}}}return g},dialogOptions:function(){return{content:null,url:d+"/secure/DeleteFilter!default.jspa?filterId="+this.model.id,ajaxOptions:c.getDefaultAjaxOptions,submitHandler:null,onUnSuccessfulSubmit:this._onSubmitError.bind(this),onSuccessfulSubmit:this._onSubmitSuccess.bind(this),onDialogFinished:function(){}}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/dialogs/Rename.js' */
define("jira/issues/components/filters/views/dialogs/rename",["require"],function(b){var c=b("jira/issues/components/filters/templates/dialogs");var a=b("jira/components/libs/marionette-1.4.1/dialogview");var d=b("jira/util/data/meta");return a.extend({template:c.Rename,id:"rename-filter-dialog",serializeData:function(){return{modifierKey:d.get("keyboard-accesskey-modifier"),filter:this.model.toJSON()}},formToRequestData:function(e){return{name:e.find("[name=name]").val(),id:this.model.getId(),favourite:true}},onSubmitError:function(){this.dialog.$form.find("#filterName").focus()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/dialogs/SaveAs.js' */
define("jira/issues/components/filters/views/dialogs/save-as",["require"],function(b){var a=b("jira/ajs/ajax/smart-ajax");var c=b("jira/util/data/meta");var h=b("underscore");var e=b("wrm/context-path");var i=b("jira/issues/components/filters/templates/dialogs");var g=b("jira/components/libs/marionette-1.4.1/dialogview");var d=b("jira/components/issueviewer/services/featureflags");var f=b("jira/issue/utils");return g.extend({template:i.Save,id:"save-filter-dialog",initialize:function(j){this.jql=j.jql},dialogOptions:function(){var j=this;return{content:function(k){a.makeRequest({url:e()+"/rest/api/2/filter/defaultShareScope",contentType:"application/json"}).done(function(l){k(j.template(h.extend({isDefaultShareScopeGlobal:l&&l.scope==="GLOBAL"},j.serializeData())))})}}},formToRequestData:function(k){var j={name:k.find("[name=name]").val(),jql:this.jql,favourite:true};if(this.model&&!this.model.getIsSystem()){j.id=this.model.getId()}return j},serializeData:function(){var k={headerText:"Save filter",modifierKey:c.get("keyboard-accesskey-modifier"),contextPath:e(),hiddenFields:[],isFiltersImprEnabled:d.IS_FILTERS_IMPR_ENABLED,isJqlEmpty:f.isEmptyOrWhitespace(this.jql)};var j=this.model;if(j){h.extend(k,{filter:j?j.toJSON():{},copyFromAnotherUser:j.getOwnerUserName()!==c.get("remote-user"),filterOwnerName:j.getOwnerDisplayName()})}return k},onSubmitSuccess:function(){if(this.$el.find("#setSharingPrivate").prop("checked")){a.makeRequest({url:e()+"/rest/api/2/filter/defaultShareScope",type:"PUT",contentType:"application/json",processData:false,data:JSON.stringify({scope:"PRIVATE"})})}},onSubmitError:function(){this.dialog.$form.find("#filterName").focus()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/Filter.js' */
define("jira/issues/components/filters/views/list/filter",["require"],function(c){var d=c("jira/issues/components/filters/templates/list");var e=c("jira/components/libs/marionette-1.4.1/itemview");var b=c("jira/featureflags/feature-manager");var a=b.isFeatureEnabled("jira.spectrum.m1");return e.extend({template:d.Filter,ui:{parent:"li",filterLink:".filter-link"},triggers:{"simpleClick .filter-link:not(.requires-login)":"selectFilter"},modelEvents:{change:"render"},onRender:function(){this.unwrapTemplate()},highlight:function(){if(a){this.ui.parent.addClass("aui-nav-selected")}this.ui.filterLink.addClass("active");this.ui.filterLink.scrollIntoView()},unhighlight:function(){if(a){this.ui.parent.removeClass("aui-nav-selected")}this.ui.filterLink.removeClass("active")}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/FilterWithActions.js' */
define("jira/issues/components/filters/views/list/filter-with-actions",["require"],function(c){var b=c("underscore");var a=c("jira/issues/components/filters/views/list/filter");return a.extend({ui:b.extend({actionsTrigger:".filter-actions"},a.prototype.ui),triggers:b.extend({"click .filter-actions":"openActions"},a.prototype.triggers),templateHelpers:{useActions:true},getActionsTrigger:function(){return this.ui.actionsTrigger}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/List.js' */
define("jira/issues/components/filters/views/list/list",["require"],function(a){var d=a("jira/issues/components/filters/views/list/filter");var c=a("jira/components/libs/marionette-1.4.1/compositeview");var b=a("jira/issues/components/filters/templates/list");return c.extend({template:b.List,itemView:d,itemViewContainer:".filter-list",onRender:function(){this.unwrapTemplate()},templateHelpers:function(){return{className:this.className}},unhighlightAllFilters:function(){this.children.apply("unhighlight")},highlightFilter:function(f){var e=this.children.findByModel(f);if(e){e.highlight()}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/ListWithActions.js' */
define("jira/issues/components/filters/views/list/list-with-actions",["require"],function(c){var b=c("underscore");var a=c("jira/issues/components/filters/views/list/filter-with-actions");var d=c("jira/issues/components/filters/views/list/list");return d.extend({itemView:a,useActions:false,initialize:function(e){e=b.defaults({},e,{useActions:false});this.useActions=e.useActions}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/Message.js' */
define("jira/issues/components/filters/views/list/message",["require"],function(a){var b=a("jira/issues/components/filters/templates/list");var c=a("jira/components/libs/marionette-1.4.1/itemview");return c.extend({template:b.Message,text:"",initialize:function(d){this.text=d.text},onRender:function(){this.unwrapTemplate()},templateHelpers:function(){return{text:this.text,className:this.className}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/Module.js' */
define("jira/issues/components/filters/views/list/module",["require"],function(b){var a=b("underscore");var c=b("jira/issues/components/filters/templates/list");var d=b("jira/components/libs/marionette-1.4.1/layout");return d.extend({template:c.Module,title:"",regions:{content:".filter-content"},initialize:function(e){e=a.defaults({},e,{title:""});this.title=e.title},templateHelpers:function(){return{title:this.title}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/Header.js' */
define("jira/issues/components/filters/views/header",["require"],function(c){var h=c("underscore");var g=c("wrm/context-path");var i=c("jquery");var j=c("jira/issues/components/filters/templates/header");var e=c("jira/components/libs/marionette-1.4.1/itemview");var a=c("jira/issues/utils/login");var f=c("jira/issues/tipsy");var d=c("jira/components/issueviewer/services/featureflags");var b=g();return e.extend({operations:{save:{styleClass:"save-changes",label:"Save"},saveAs:{styleClass:"save-as-new-filter",label:"Save as"},discardChanges:{styleClass:"discard-filter-changes",label:"Discard changes"},details:{styleClass:"show-filter-details",title:"View information about this filter",label:"Details"},favouriteOn:{title:"Remove this filter from your Favourite Filters",label:"Remove this filter from your Favourite Filters",styleClass:"fav-link aui-icon aui-icon-small aui-iconfont-star"},favouriteOff:{title:"Add this filter to your Favourite Filters",label:"Add this filter to your Favourite Filters",styleClass:"fav-link aui-icon aui-icon-small aui-iconfont-unstar"}},template:j.Main,ui:{filterFavouriteButton:".fav-link",filterEditedLabel:".filter-edited-item",saveButton:".save-changes",saveAsButton:".save-as-new-filter",detailsTrigger:".show-filter-details",dropdownContent:"#js-edited-content",discardChangesButton:".discard-filter-changes"},triggers:{"click .fav-link":"toogleFavourite","click .save-as-new-filter:not([aria-disabled=true])":{event:"saveAs",preventDefault:true,stopPropagation:false},"click .save-changes:not([aria-disabled=true])":{event:"save",preventDefault:true,stopPropagation:false},"click .discard-filter-changes":{event:"discard",preventDefault:true,stopPropagation:false}},events:{"click .show-filter-details":function(){this.trigger("details",this.ui.detailsTrigger)}},_generatePrimaryOperations:function(){var k=[];if(this.isEdited&&this.model.isEditable()){k.push(this.operations.save)}if(!this.isDirty&&!!a.loggedInUserName()){k.push(this.operations.saveAs)}if(this.isEdited){k.push(this.operations.discardChanges)}return k},_generateSecondaryOperations:function(){var l=[];if(!this.model.getIsSystem()){l.push(this.operations.details)}if(!!a.loggedInUserName()&&!this.model.getIsSystem()){var k=this.model.isFavouriteFilter()?this.operations.favouriteOn:this.operations.favouriteOff;l.href=b+"/secure/EditFilter!default.jspa?filterId="+this.model.id;l.push(k)}return l},serializeData:function(){if(!this.model){return{title:"Search",primaryButton:this.operations.saveAs}}if(!this.model.getIsValid()){return{title:"Search"}}var k=this._generatePrimaryOperations();var m=this._generateSecondaryOperations();var l={title:this.model.getName(),primaryButton:k.shift(),primaryOps:k,secondaryOps:m};if(this.model.getOwner()){h.extend(l,{owner:this.model.getOwner()||"",ownerUserName:this.model.getOwnerUserName()||"",avatarUrl:this.model.getAvatarUrl(),ownerUrl:b+"/secure/ViewProfile.jspa?name="+encodeURIComponent(this.model.getOwnerUserName())})}return l},render:function(k){if(typeof k.model!=="undefined"){this.model=k.model}this.isEdited=k.isEdited;this.isDirty=k.isDirty;return e.prototype.render.call(this)},deleteSaveAsTipsy:function(){if(this.dirtyTipsySaveAs){this.dirtyTipsySaveAs.remove();delete this.dirtyTipsySaveAs}},deleteSaveTipsy:function(){if(this.dirtyTipsySave){this.dirtyTipsySave.remove();delete this.dirtyTipsySave}},onRender:function(){this.ui.dropdownContent.on("aui-dropdown2-show",function(l){var k=this.$el;this.$el=i(l.target);this.delegateEvents();this.$el=k}.bind(this));this.deleteSaveAsTipsy();this.deleteSaveTipsy();if(this.isDirty){this.markAsInvalid(false)}new f({el:this.ui.filterFavouriteButton})},markAsInvalid:function(k){this.disableButton(this.ui.saveButton);this.dirtyTipsySave=this.getTipsy(this.ui.saveButton,k);if(d.IS_FILTERS_IMPR_ENABLED){this.disableButton(this.ui.saveAsButton);this.dirtyTipsySaveAs=this.getTipsy(this.ui.saveAsButton,k)}},markInSearch:function(k){if(!d.IS_FILTERS_IMPR_ENABLED){return}if(k){this.markAsInvalid(false)}else{this.enableButton(this.ui.saveButton);this.deleteSaveTipsy();this.enableButton(this.ui.saveAsButton);this.deleteSaveAsTipsy()}},disableButton:function(k){k.addClass("disabled");k.attr("aria-disabled","true")},enableButton:function(k){k.removeClass("disabled");k.attr("aria-disabled","false")},getTipsy:function(k,l){return new f({el:k,tipsy:{delayIn:0,title:function(){return l?"There\'s an error in your query.":"You need to run the query before you can save it."}}})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/Details.js' */
define("jira/issues/components/filters/views/details",["require"],function(e){const d=e("underscore");const b=e("wrm/context-path");const f=e("jira/issues/components/filters/templates/details");const h=e("jira/components/libs/marionette-1.4.1/inlinedialogview");const a=e("jira/issues/utils/login");const g=e("jira/issues/user-params");const c=b();return h.extend({template:f.Main,id:"filter-details-overlay",dialogOptions:{addActiveClass:true,hideDelay:3600000,offsetX:-36,width:400},initialize:function(i){this.trigger=i.triggerEl},serializeData:function(){const p=this.model;const r=d.sortBy(p.getSharePermissions(),function(u){const v=[u.type];if(u.group){v.push(u.group.name)}if(u.project){v.push(u.project.name)}if(u.role){v.push(u.role.name)}if(u.user){v.push(u.user.name)}return v});const i=d.clone(p.getSubscriptions());const j=this.model.isEditable()||a.loggedInUserName()===p.getOwnerUserName();i.additionalLength=p.getNumberOfAdditionalSubscriptions();const k=r.filter(function(u){return u.hasOwnProperty("view")?u.view===true&&u.edit===false:true});const m=k.filter(function(u){return u.type==="project"||u.type==="project-unknown"});const l=k.filter(function(u){return u.type==="group"||u.type==="group-unknown"});const q=r.filter(function(u){return u.hasOwnProperty("edit")?u.edit===true:false});const t=q.filter(function(u){return u.type==="project"||u.type==="project-unknown"});const s=q.filter(function(u){return u.type==="group"});const n=q.filter(function(u){return u.type==="user"||u.type==="user-unknown"});const o={filter:p.toJSON(),shareViewPermissions:{hasShares:(k.length>0),loggedInShare:k.find(function(u){return u.type==="loggedin"}),globalShare:k.find(function(u){return u.type==="global"}),projectShares:m,groupShares:l},shareEditPermissions:{hasShares:(q.length>0),projects:t,groups:s,users:n},subscriptions:i,permissions:{userHasEditSharingPermission:j&&(!!g.createSharedObjects()||r.length>0),userHasEditPermission:j},userIsLoggedIn:a.isLoggedIn(),returnUrl:window.location};if(p.getOwner()){d.extend(o,{owner:p.getOwner()||"",ownerUserName:p.getOwnerUserName()||"",avatarUrl:p.getAvatarUrl(),ownerUrl:c+"/secure/ViewProfile.jspa?name="+encodeURIComponent(p.getOwnerUserName())})}return o},onRender:function(){this.dialog.bind("click",function(i){i.stopPropagation()});this.initTooltip("projects-count");this.initTooltip("groups-count");jQuery(".hidden-project").each(function(i){$(this).tooltip()})},initTooltip:function(k){const j=jQuery("#"+k);if(j.length){const i=j.prop("title");j.prop("title",i.replace(/, $/,""));j.tooltip()}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/controllers/Dialog.js' */
define("jira/issues/components/filters/controllers/dialog",["require"],function(c){var g=c("underscore");var i=c("jquery");var a=c("jira/issues/components/filters/entities/filter");var h=c("jira/issues/components/filters/views/dialogs/copy");var e=c("jira/issues/components/filters/views/dialogs/delete");var b=c("jira/issues/components/filters/views/dialogs/rename");var f=c("jira/issues/components/filters/views/dialogs/save-as");var d=c("jira/components/libs/marionette-1.4.1/controller");return d.extend({initialize:function(){this.activeView=null},_closeActiveDialog:function(){if(this.activeView){this.activeView.close();this.stopListening(this.activeView);this.activeView=null}},_showDialog:function(l,k,j){g.defaults(j,{viewOptions:{},onSuccess:i.noop,onError:i.noop});this._closeActiveDialog();this.activeView=new l(g.extend({model:k},j.viewOptions));this.listenTo(this.activeView,"submit:success",function(m){j.onSuccess.call(this,m,k)});this.listenTo(this.activeView,"submit:error",function(){j.onError.call(this,k)});this.activeView.render()},showDeleteDialog:function(j){this._showDialog(e,j,{onSuccess:function(l,k){this.trigger("delete:success",k)},onError:function(k){this.trigger("delete:error",k)}})},showRenameDialog:function(j){this._showDialog(b,j,{onSuccess:function(l,k){k.set("name",l.name);this.trigger("rename:success",k)},onError:function(k){this.trigger("rename:error",k)}})},showCopyDialog:function(j){this._showDialog(h,j,{onSuccess:function(l){var k=new a(l,{parse:true});this.trigger("copy:success",k)},onError:function(k){this.trigger("copy:error",k)}})},showSaveAsDialog:function(k,j){this._showDialog(f,k,{viewOptions:{jql:j},onSuccess:function(m){var l=new a(m,{parse:true});this.trigger("saveas:success",l)},onError:function(l){this.trigger("saveas:error",l)}})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/controllers/List.js' */
define("jira/issues/components/filters/controllers/list",["require"],function(c){var e=c("jira/issues/components/filters/views/list/list");var d=c("jira/issues/components/filters/views/list/message");var b=c("jira/issues/components/filters/views/list/module");var f=c("jira/components/libs/marionette-1.4.1/controller");var a=c("jira/issues/utils/login");return f.extend({view:null,initialize:function(g){this.collection=g.collection;this.title=g.title;this.className=g.className;this.errorMessage=g.errorMessage;this.loadingMessage=g.loadingMessage;this.emptyMessage=g.emptyMessage;this.loginMessage=g.loginMessage},show:function(g){if(this.view){this.close()}this.view=new b({el:g,title:this.title});this.view.render();this._showInternalView(this.collection.fetchState);this.listenTo(this.collection,"change:fetchState",this._showInternalView)},close:function(){if(this.view){this.stopListening(this.collection,"change:fetchState",this._showRegion);this.stopListening(this.view);this.view.close();this.view=null}},highlightFilter:function(g){if(this._listView){this._listView.unhighlightAllFilters();if(g){this._listView.highlightFilter(g)}}},_showInternalView:function(g){switch(g){case"error":this._showError();break;case"fetched":this._showList();break;default:this._showLoading();break}},_showLoading:function(){this.view.content.show(new d({className:this.className,text:this.loadingMessage}))},_showError:function(){this.view.content.show(new d({className:this.className,text:this.errorMessage}))},_showList:function(){var g=this.collection;if(g.length){this._showListWithItems()}else{this._showEmptyList()}},_getListViewConstructor:function(){return e},_showListWithItems:function(){var g=this._getListViewConstructor();this._listView=new g({collection:this.collection,className:this.className});this.view.content.show(this._listView);this.trigger("render");this.listenTo(this.collection,"remove",function h(){if(!this.collection.length){this.stopListening(this.collection,"remove",h);this._showEmptyList()}});this.listenTo(this._listView,"itemview:selectFilter",function(j,i){this.trigger("selectFilter",i.model)});this.listenTo(this._listView,"itemview:render",function(){this.trigger("render")});this.triggerMethod("list:render",this._listView)},_showEmptyList:function(){if(a.isLoggedIn()){this.view.content.show(new d({className:this.className,text:this.emptyMessage}))}else{this.view.content.show(new d({className:this.className,text:this.loginMessage}))}this.listenToOnce(this.collection,"add",function(){this._showListWithItems()})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/controllers/ListWithActions.js' */
define("jira/issues/components/filters/controllers/list-with-actions",["require"],function(a){var c=a("jira/issues/components/filters/controllers/list");var d=a("jira/issues/components/filters/views/actions");var b=a("jira/issues/components/filters/views/list/list-with-actions");return c.extend({actionsView:null,_getListViewConstructor:function(){return b},close:function(){this._closeActions();c.prototype.close.call(this)},highlightFilter:function(e){this._closeActions();c.prototype.highlightFilter.call(this,e)},_showActions:function(g,f){var e=(this.actionsView&&this.actionsView.model===f);this._closeActions();if(!e){this.actionsView=new d({triggerView:g,model:f});this.actionsView.render();this.listenTo(this.actionsView,"deleteFilter",function(h){this._closeActions();this.trigger("deleteFilter",h.model)});this.listenTo(this.actionsView,"renameFilter",function(h){this._closeActions();this.trigger("renameFilter",h.model)});this.listenTo(this.actionsView,"copyFilter",function(h){this._closeActions();this.trigger("copyFilter",h.model)});this.listenTo(this.actionsView,"unfavouriteFilter",function(h){this._closeActions();this.trigger("unfavouriteFilter",h.model)})}},_closeActions:function(){if(this.actionsView){this.actionsView.close();this.stopListening(this.actionsView);this.actionsView=null}},onListRender:function(){this.listenTo(this._listView,"itemview:selectFilter",function(){this._closeActions()});this.listenTo(this._listView,"itemview:openActions",function(f,e){this._showActions(e.view,e.model)})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/controllers/Header.js' */
define("jira/issues/components/filters/controllers/header",["require"],function(c){var b=c("jira/issues/components/filters/views/details");var e=c("jira/issues/components/filters/views/header");var d=c("jira/components/libs/marionette-1.4.1/controller");var a=c("jira/issues/utils/login");return d.extend({initialize:function(){this.view=null},close:function(){if(this.view){this.view.close();this.stopListening(this.view);this.view=null;this.trigger("close")}},closeDetails:function(){if(this.detailsView){this.detailsView.close();this.stopListening(this.detailsView);this.detailsView=null}},showDetails:function(f){if(this.detailsView){this.closeDetails()}this.detailsView=new b({model:this.model,triggerEl:f});this.listenTo(this.detailsView,"close",this.closeDetails);this.detailsView.render()},show:function(f){if(this.view){this.close()}this.view=new e({el:f.el});this.isInvalid=false;this.listenTo(this.view,{saveAs:function(g){if(!a.isLoggedIn()||this.isInvalid){return}this.trigger("saveAs",g.model)},save:function(g){if(!a.isLoggedIn()||this.isInvalid){return}this.trigger("save",g.model)},discard:function(){this.update({isEdited:false,isDirty:false});this.trigger("discard")},details:function(g){this.showDetails(g)},toogleFavourite:function(i){var h=i.model;if(!h){return}var g=!!h.getFavourite();h.saveFavourite(!g);if(!g){this.trigger("favourite",h)}},close:this.close});this.update(f)},update:function(f){if(!this.view){return}if(typeof f.model!=="undefined"){this.model=f.model}this.isInvalid=false;this.view.render({model:this.model,isDirty:f.isDirty,isEdited:f.isEdited});this.model=f.model},markAsInvalid:function(){if(this.view){this.view.markAsInvalid(true)}this.isInvalid=true},markInSearch:function(f){if(this.view){this.view.markInSearch(f)}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/namespace.js' */
AJS.namespace("JIRA.Components.Filters",null,require("jira/issues/components/filters"));AJS.namespace("JIRA.Components.Filters.Collections.FavouriteFilters",null,require("jira/issues/components/filters/entities/favourite-filters"));AJS.namespace("JIRA.Components.Filters.Collections.Filters",null,require("jira/issues/components/filters/entities/filters"));AJS.namespace("JIRA.Components.Filters.Collections.SystemFilters",null,require("jira/issues/components/filters/entities/system-filters"));AJS.namespace("JIRA.Components.Filters.Controllers.Dialog",null,require("jira/issues/components/filters/controllers/dialog"));AJS.namespace("JIRA.Components.Filters.Controllers.Header",null,require("jira/issues/components/filters/controllers/header"));AJS.namespace("JIRA.Components.Filters.Controllers.List",null,require("jira/issues/components/filters/controllers/list"));AJS.namespace("JIRA.Components.Filters.Controllers.ListWithActions",null,require("jira/issues/components/filters/controllers/list-with-actions"));AJS.namespace("JIRA.Components.Filters.Models.Filter",null,require("jira/issues/components/filters/entities/filter"));AJS.namespace("JIRA.Components.Filters.Templates.Actions",null,require("jira/issues/components/filters/templates/actions"));AJS.namespace("JIRA.Components.Filters.Templates.Details",null,require("jira/issues/components/filters/templates/details"));AJS.namespace("JIRA.Components.Filters.Templates.Dialogs",null,require("jira/issues/components/filters/templates/dialogs"));AJS.namespace("JIRA.Components.Filters.Templates.Header",null,require("jira/issues/components/filters/templates/header"));AJS.namespace("JIRA.Components.Filters.Templates.List",null,require("jira/issues/components/filters/templates/list"));AJS.namespace("JIRA.Components.Filters.Views.Actions",null,require("jira/issues/components/filters/views/actions"));AJS.namespace("JIRA.Components.Filters.Views.Details",null,require("jira/issues/components/filters/views/details"));AJS.namespace("JIRA.Components.Filters.Views.Dialogs.Copy",null,require("jira/issues/components/filters/views/dialogs/copy"));AJS.namespace("JIRA.Components.Filters.Views.Dialogs.Delete",null,require("jira/issues/components/filters/views/dialogs/delete"));AJS.namespace("JIRA.Components.Filters.Views.Dialogs.Rename",null,require("jira/issues/components/filters/views/dialogs/rename"));AJS.namespace("JIRA.Components.Filters.Views.Dialogs.SaveAs",null,require("jira/issues/components/filters/views/dialogs/save-as"));AJS.namespace("JIRA.Components.Filters.Views.Header",null,require("jira/issues/components/filters/views/header"));AJS.namespace("JIRA.Components.Filters.Views.List.Filter",null,require("jira/issues/components/filters/views/list/filter"));AJS.namespace("JIRA.Components.Filters.Views.List.FilterWithActions",null,require("jira/issues/components/filters/views/list/filter-with-actions"));AJS.namespace("JIRA.Components.Filters.Views.List.List",null,require("jira/issues/components/filters/views/list/list"));AJS.namespace("JIRA.Components.Filters.Views.List.ListWithActions",null,require("jira/issues/components/filters/views/list/list-with-actions"));AJS.namespace("JIRA.Components.Filters.Views.List.Message",null,require("jira/issues/components/filters/views/list/message"));AJS.namespace("JIRA.Components.Filters.Views.List.Module",null,require("jira/issues/components/filters/views/list/module"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/templates/issuenav-filter.soy' */
// This file was automatically generated from issuenav-filter.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavFilter.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavFilter == 'undefined') { JIRA.Templates.IssueNavFilter = {}; }


JIRA.Templates.IssueNavFilter.collapsedFiltersPanel = function(opt_data, opt_ignored) {
  return '' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<span class="toggle-filter-panel aui-icon aui-icon-small aui-iconfont-chevron-double-right">' + soy.$$escapeHtml(AJS.format("Dock the filters panel ({0})",'[')) + '</span>' : '<a class="toggle-filter-panel" href="#" title="' + soy.$$escapeHtmlAttribute(AJS.format("Dock the filters panel ({0})",'[')) + '"></a>');
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavFilter.collapsedFiltersPanel.soyTemplateName = 'JIRA.Templates.IssueNavFilter.collapsedFiltersPanel';
}


JIRA.Templates.IssueNavFilter.filtersPanel = function(opt_data, opt_ignored) {
  return '<div class="filters-content"><h4 class="filter-title">' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/issues/?jql=" class="new-search aui-button" title="' + soy.$$escapeHtmlAttribute("Create a new search filter") + '">' + soy.$$escapeHtml("New search") + '</a>' : soy.$$escapeHtml("Filters")) + '</h4><ul class="filter-options">' + ((! require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<li><a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/issues/?jql=" class="new-search aui-button aui-button-light" title="' + soy.$$escapeHtmlAttribute("Create a new search filter") + '">' + soy.$$escapeHtml("New search") + '</a></li>' : '') + '<li><a class="find-filters" href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/secure/ManageFilters.jspa?filterView=search">' + soy.$$escapeHtml("Find filters") + '</a></li></ul><div class="filter-panel-wrapper"><div class="filter-panel-system-container"></div><div class="filter-panel-favourites-container"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavFilter.filtersPanel.soyTemplateName = 'JIRA.Templates.IssueNavFilter.filtersPanel';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/templates/issuenav-filter-amd.js' */
define("jira/issues/templates/issue-nav-filter",function(){return JIRA.Templates.IssueNavFilter});AJS.namespace("JIRA.Templates.IssueNavFilter",null,require("jira/issues/templates/issue-nav-filter"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/FilterPanelView.js' */
define("jira/issues/search/filters/filter-panel-view",["require"],function(b){var d=b("jira/issues/baseview");var a=b("jira/issues/application");var e=b("jira/issues/utils/resize");var i=b("jira/util/events");var c=b("jira/util/events/types");var h=b("jira/util/events/reasons");var g=b("jira/ajs/keyboardshortcut/keyboard-shortcut");var f=b("underscore");var k=b("jquery");var j=b("jira/issues/templates/issue-nav-filter");return d.extend({events:{"simpleClick .system-filters a.filter-link:not(.requires-login)":"_onClickFilter","simpleClick .new-search":"_onClickNewSearch","click .ui-dock":"_onDockFilterPanelClick","click .ui-undock":"_onUndockFilterPanelClick"},collapsedTemplate:j.collapsedFiltersPanel,template:j.filtersPanel,initialize:function(l){f.bindAll(this,"adjustFavouriteFiltersHeight");if(l.easeOff){this._adjustFavouriteFiltersHeight=f.debounce(this._adjustFavouriteFiltersHeight,l.easeOff)}e.onVerticalResize(this.adjustFavouriteFiltersHeight);this.panelReady=new k.Deferred();i.bind(c.LAYOUT_RENDERED,f.bind(function(){this._splitViewSidebarElement=k(".list-results-panel:first")},this))},adjustFavouriteFiltersHeight:function(){var m=this.$(".filter-panel-wrapper");var l=m.length&&m.offset().top;var n=window.innerHeight;m.css("max-height",n-l)},_onDockFilterPanelClick:function(){k(".navigator-container").removeClass("navigator-sidebar-collapsed")},_onUndockFilterPanelClick:function(){k(".navigator-container").addClass("navigator-sidebar-collapsed")},toggleDockState:function(){this.$el.popoutSidebar("toggle")},_onClickFilter:function(m){m.preventDefault();var l=k(m.target).data("id");this.trigger("filterSelected",l)},_onClickNewSearch:function(l){l.preventDefault();this.trigger("filterSelected",null)},render:function(){if(!this.model.isDocked()){k(".navigator-container").addClass("navigator-sidebar-collapsed");this._renderCollapsed()}else{k(".navigator-container").removeClass("navigator-sidebar-collapsed");this._renderOpen()}var l=g.getKeyboardShortcutKeys("toggle.filter.panel");this.$el.popoutSidebar({isDocked:this.model.isDocked(),expandedWidth:this.model.getWidth(),renderExpanded:f.bind(this._renderOpen,this),renderCollapsed:f.bind(this._renderCollapsed,this),undockText:"Undock",undockTitle:AJS.format("Undock the filter panel so it is hidden when not being focused (Type \'\'{0}\'\')",l),dockText:"Dock",dockTitle:AJS.format("Dock the filter panel so you can always see the list of filters (Type \'\'{0}\'\')",l),toggleTarget:".filter-title:first",persist:f.bind(function(n,m){this.model.setDocked(n);this.model.setWidth(m)},this),resize:f.bind(function(){if(this._splitViewSidebarElement){this._splitViewSidebarElement.sidebar("updatePosition")}},this)});if(this.model.shouldShowDockIntro()){this.$el.popoutSidebar("collapse",false)}if(this.model.isDocked()){this.$el.popoutSidebar("renderDockState")}this._fireDockAnalytics();this.panelReady.resolve();return this.$el},_fireDockAnalytics:function(){if(localStorage.getItem("dockStatesAnalyticsEnabled")){var l=this.model.isDocked();if(localStorage.getItem("dockStateAnalytic")!==""+l){localStorage.setItem("dockStateAnalytic",l);a.execute("analytics:trigger","kickass.filters.docked",{isDocked:this.model.isDocked()})}}},_renderCollapsed:function(){var l=k(".jira-feedback-link-container.subtle-style").detach().addClass("left noborder");this.$el.addClass("collapsed").html(this.collapsedTemplate({isDocked:this.model.isDocked()}));this.trigger("renderCollapsed");e.triggerHorizontalResize();l.appendTo("body");return this},_renderOpen:function(){var l=k(".jira-feedback-link-container.subtle-style").detach().removeClass("left noborder");this.$el.removeClass("collapsed");this.$el.width(this.model.getWidth());this.$el.html(this.template({}));this.trigger("renderOpen");l.appendTo(this.$el);i.trigger(c.NEW_CONTENT_ADDED,[this.$el,h.filterPanelOpened]);e.triggerHorizontalResize();return this},_renderSelectedFilter:function(){}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/Browser.js' */
define("jira/issues/search/filters/browse",[],function(){return{getWindowWidth:function(){return window.innerWidth}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/FilterPanelModel.js' */
define("jira/issues/search/filters/filter-panel-model",["require"],function(e){var a=e("jira/issues/basemodel");var d=e("underscore");var c="issues.sidebar.docked";var b="issues.sidebar.width";return a.extend({properties:["activeFilter"],defaults:{activeFilter:null},initialize:function(f,g){d.extend(this,d.defaults(g,{storage:window.localStorage}))},setDocked:function(f){this._getStorage().setItem("dockStatesAnalyticsEnabled",true);return this._getStorage().setItem(c,f)},setWidth:function(f){return this._getStorage().setItem(b,f)},getWidth:function(){var f=parseInt(this._getStorage().getItem(b),10);return((f>0)?f:200)},_getStorage:function(){return this.storage||window.localStorage},isDockedPrefGiven:function(){return this._getStorage().getItem(c)!==null},shouldShowDockIntro:function(){return !this.isDocked()&&!this.isDockedPrefGiven()},isExpanded:function(){return this.shouldShowDockIntro()?false:this.isDocked()},isDocked:function(){var f=this._getStorage();return f.getItem(c)==null||f.getItem(c)==="true"}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/FilterModule.js' */
define("jira/issues/search/filters/filter-module",["require"],function(b){var g=b("jira/issues/baseevented");var d=b("jira/issues/application");var c=b("jira/issues/components/filters");var f=b("jquery");var a=b("jira/issues/search/filters/filter-panel-model");var e=b("jira/issues/search/filters/filter-panel-view");return g.extend({initialize:function(h){this._searchPageModule=h.searchPageModule;this.hasErrorInSearchOccurred=false;this.filterPanelModel=h.filterPanelModel||new a({},{searchPageModule:h.searchPageModule});this.filtersComponent=new c({systemFilters:h.systemFilters,searchPageModule:this._searchPageModule});this.filtersComponent.on("newFilter",function(i){this._searchPageModule.filterModuleSaved(i);if(d.request("issueEditor:canDismissComment")){this._searchPageModule.setSessionSearch(i)}},this);this.filtersComponent.on("filterRemoved",function(i){this.trigger("filterRemoved",i)},this);this.filtersComponent.on("filterUnfavourited",function(i){this.trigger("filterUnfavourited",i)},this);this.filtersComponent.on("filterSelected",this._onFilterSelected,this);this.filtersComponent.on("filterDiscarded",function(){this._searchPageModule.discardFilterChanges()},this);this.filtersComponent.on("savedFilter",function(i){this._searchPageModule.setSessionSearch(i);this.filtersComponent.highlightFilter(i)},this);this.filtersComponent.on("list:render",function(){var j=this._searchPageModule.getFilter();if(j){var i=j.id;var k=this.filtersComponent.getFilterByIdFromExistingCollections(i);this.filterPanelModel.set("activeFilter",k)}},this);this._searchPageModule.on("change changeFilterProps",function(){this.onChangeFilterProps()},this);this.filtersComponent.fetchFavouriteFilters();this.filterPanelModel.bind("change:activeFilter",this._markFilterAsActive,this);this.filterPanelModel.set("activeFilter",this._searchPageModule.getFilter());this._searchPageModule.bind("change:filter",function(i,j){this.filterPanelModel.set("activeFilter",j)},this)},onChangeFilterProps:function(){this.hasErrorInSearchOccurred=false;this.filtersComponent.updateFilterHeader({model:this._searchPageModule.getFilter(),isDirty:false,isEdited:this._searchPageModule.isDirty()})},canEditColumns:function(){var h=this._searchPageModule.getFilter();return h&&h.isEditable()},initSystemFilters:function(){return this.filtersComponent.fetchSystemFilters()},getFilterById:function(h){return this.filtersComponent.getFilterById(h)},createView:function(h){this.filterPanelView=new e({el:h.$filterPanelEl,model:this.filterPanelModel,searchPageModule:this._searchPageModule,easeOff:(!!f.browser.msie&&f.browser.version<=8)?500:0});this.filterPanelView.on("renderOpen",function(){this.filtersComponent.showSystemFilters(this.filterPanelView.$el.find(".filter-panel-system-container"));this.filtersComponent.showFavouriteFilters(this.filterPanelView.$el.find(".filter-panel-favourites-container"));this._markFilterAsActive();this.filterPanelView.adjustFavouriteFiltersHeight()},this);this.filterPanelView.on("filterSelected",this._onFilterSelected,this);this.filterPanelView.render();return this.filterPanelView},_markFilterAsActive:function(){var h=this.filterPanelModel.get("activeFilter");this.filtersComponent.highlightFilter(h)},toggleFilterPanel:function(){this.filterPanelView.toggleDockState()},createHelptipForFilterPanelDocking:function(j){var i;var k=this.filterPanelModel;var h=this.filterPanelView;if(k.shouldShowDockIntro()&&h.$el.is(":visible")){i=new AJS.HelpTip({id:"filters-dock-intro",title:"Did you notice?",bodyHtml:"You can dock the filter bar to always show your list of filters.",anchor:".ui-dock",isSequence:true,weight:j,callbacks:{beforeShow:function(){h.$el.popoutSidebar("expand",false)},init:function(){if(h.$el.popoutSidebar("isUndocked")){h.$el.popoutSidebar("unbindHoverIntent")}},hide:function(){if(h.$el.popoutSidebar("isUndocked")){h.$el.popoutSidebar("bindHoverIntent");h.$el.popoutSidebar("collapse")}}}})}return i},_onFilterSelected:function(h){if(h===null){this._searchPageModule.resetToBlank({isNewSearch:true})}else{this._searchPageModule.resetToFilter(h)}},updateFilterHeader:function(h){h=h||{};var j=h.isEdited||false;var i=h.isPendingSearch||false;this.filtersComponent.updateFilterHeader({isEdited:j,isDirty:i||this.hasErrorInSearchOccurred})},markFilterModuleAsInvalid:function(){this.hasErrorInSearchOccurred=true;this.filtersComponent.markFilterHeaderAsInvalid()},markFilterModuleInSearch:function(h){this.filtersComponent.markFilterHeaderInSearch(h)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/namespace.js' */
AJS.namespace("JIRA.Issues.FilterModule",null,require("jira/issues/search/filters/filter-module"));AJS.namespace("JIRA.Issues.Browser",null,require("jira/issues/search/filters/browse"));AJS.namespace("JIRA.Issues.FilterPanelModel",null,require("jira/issues/search/filters/filter-panel-model"));AJS.namespace("JIRA.Issues.FilterPanelView",null,require("jira/issues/search/filters/filter-panel-view"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:trace', location = 'util/trace.js' */
define("jira/components/utils/trace",function(){return function(){return window.JIRA.trace.apply(window.JIRA,arguments)}});;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/autocomplete/JQLAutoComplete.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("jira/jql/jql-grammar",function(){"use strict";var e={};return e.jql_order_by=[{value:"ORDER BY",displayName:"ORDER BY"}],e.jql_operators=[{value:"=",displayName:"="},{value:"!=",displayName:"!="},{value:"~",displayName:"~"},{value:"<=",displayName:"&lt;="},{value:">=",displayName:"&gt;="},{value:">",displayName:"&gt;"},{value:"<",displayName:"&lt;"},{value:"!~",displayName:"!~"},{value:"is not",displayName:"is not"},{value:"is",displayName:"is"},{value:"not in",displayName:"not in"},{value:"in",displayName:"in"},{value:"was",displayName:"was"},{value:"was not",displayName:"was not"},{value:"was in",displayName:"was in"},{value:"was not in",displayName:"was not in"},{value:"changed",displayName:"changed"}],e.jql_logical_operators=[{value:"AND",displayName:"AND"},{value:"OR",displayName:"OR"}],e.jql_logical_operators_and_order_by=e.jql_logical_operators.concat(e.jql_order_by),e.jql_order_by_direction=[{value:"ASC",displayName:"ASC"},{value:"DESC",displayName:"DESC"}],e.empty_operand=[{value:"EMPTY",displayName:"EMPTY",types:["java.lang.Object"]}],e.jql_not_logical_operator=[{value:"NOT",displayName:"NOT"}],e.jql_was_predicates=[{value:"AFTER",displayName:"AFTER",type:"java.util.Date",supportsList:"false"},{value:"BEFORE",displayName:"BEFORE",type:"java.util.Date",supportsList:"false"},{value:"BY",displayName:"BY",type:"com.atlassian.crowd.embedded.api.User",supportsList:"false",auto:"true"},{value:"DURING",displayName:"DURING",type:"java.util.Date",supportsList:"true"},{value:"ON",displayName:"ON",type:"java.util.Date",supportsList:"false"}],e.jql_changed_predicates=e.jql_was_predicates.concat([{value:"FROM",displayName:"FROM",type:"java.lang.String",supportsList:"true",auto:"true"},{value:"TO",displayName:"TO",type:"java.lang.String",supportsList:"true",auto:"true"}]),e.jql_was_predicates_and_order_by=e.jql_was_predicates.concat(e.jql_logical_operators_and_order_by),e.jql_was_predicates_and_logical_operators=e.jql_was_predicates.concat(e.jql_logical_operators),e.jql_changed_predicates_and_order_by=e.jql_changed_predicates.concat(e.jql_logical_operators_and_order_by),e.jql_changed_predicates_and_logical_operators=e.jql_changed_predicates.concat(e.jql_logical_operators),e.REGEXP_ANDS=/^AND\s/i,e.REGEXP_ORS=/^OR\s/i,e.REGEXP_NOTS=/^NOT\s/i,e.REGEXP_SNOT=/^\s+not/i,e.REGEXP_SIN=/^\s+in/i,e.REGEXP_SNOT_IN=/^\s+(not\s+in|not|in)/i,e.REGEXP_COMMA_DELIMITER=/^\s*,/,e.REGEXP_ASCENDING=/^\s+asc/i,e.REGEXP_DESCENDING=/^\s+desc/i,e.REGEXP_ORDER_BY=/^order\s+by/i,e.REGEXP_WHITESPACE=/^\s/,e.REGEXP_UNICODE=/^u[a-fA-F0-9]{4}/,e.REGEXP_FIELD_NAME=/^\s-\scf\[\d\d\d\d\d\]/,e.REGEXP_NEW_LINE=/[\r\n]/,e.REGEXP_NUMBER=/\d/,e.REGEXP_TOKEN_CHAR=/[^=!~<>(),\s&|\]]/,e.REGEXP_SPECIAL_CHAR=/[{}*\/%+$#@?;\][]/,e.REGEXP_SPACE_OR_ELSE=/[\s(]/,e.REGEXP_CHARS_TO_ESCAPE=/[^trn"'\\\s]/,e.REGEXP_NOTSTART=/^NO?$/i,e.REGEXP_INSTART=/^IN?$/i,e.REGEXP_PREDICATE=/^(after|before|by|during|from|on|to)/i,e.version_field_type="com.atlassian.jira.project.version.Version",e.jql_text_operator_names=["~","!~"],e}),define("jira/autocomplete/jql-autocomplete",["jira/util/formatter","jira/autocomplete/autocomplete","jira/jql/jql-grammar","jira/jql/util","jira/jql/operator-util","jira/util/data/meta","jira/util/objects","jira/util/users/logged-in-user","jira/featureflags/feature-manager","jquery","underscore","jira/util/logger","wrm/context-path"],function(e,t,r,s,a,n,i,l,o,d,u,g,c){var h=c();return function(c){var p,O=i.begetObject(t),f=c.parser,m=d.grep(c.jqlFieldNames,function(e){return e.searchable}),S=d.grep(c.jqlFieldNames,function(e){return e.orderable}),L=c.jqlFunctionNames,C=d("#"+c.errorID),N=0,y=d("#jqlcolumnnum"),E=d("#jqlrownum"),R=c.autoCompleteUrl||h+"/rest/api/2/jql/autocompletedata/suggestions",I=[],_=[];if(O.textToSuggestionCursorPosition=function(){return O.field.selectionRange().textBefore},O.pushSuggestionsOnHtmlStack=function(e,t,r,s,a){for(var n=Math.min(15,e.length),i=0;i<n;i++){var l,o;if(e[i].value){var d=e[i];l=p&&a?(p.getNeedsOpenParen()?"(":"")+d.value:d.value,o=d.displayName}else o=e[i],l=o;t.push(l),r.push('<li id="',s,i,'">',o,"</li>")}},O.setAutoSelectFirst=function(e){var t=O.getReplacementStartIndex(p,""),r=O.field.selectionRange().end,s=O.field.val().substring(t,r);O.autoSelectFirst=O.shouldSelectFirstValue(O.field.val(),p,s,e)},O.shouldSelectFirstValue=function(e,t,r,a){return O.isSmartAutoSelectFirstEnabled()?!(0===r.length&&t.getIsInSubmittableState()):!(0===r.length||a&&a.length>0&&s.equalsIgnoreCase(r,a[0][1]))},O.renderSuggestions=function(t,r,s){var a=[];if(t instanceof Array){if(t.length<1&&r&&r.length<1&&s&&s.length<1)return a;var i=["<ul>"];s&&s.length>0&&O.pushSuggestionsOnHtmlStack(s,a,i,"jql_operator_suggest_",!1),O.pushSuggestionsOnHtmlStack(t,a,i,"jql_value_suggest_",!0),r&&r.length>0&&O.pushSuggestionsOnHtmlStack(r,a,i,"jql_function_suggest_",!1),i.push("</ul>");var l=d('<span class="esc-prompt">').text("Hit Esc to close"),o=d('<a class="syntax-help" target="_jiraHelp"></a>').attr("title",n.get("advanced-search-help-title")).attr("href",n.get("advanced-search-help-url")).text("Syntax Help").append(l),u=d('<div class="syntax-help-container">').append(o);O.responseContainer.html(i.join("")).append(u).find("li").each(function(e){a[e]=[d(this),a[e]]}),O.setAutoSelectFirst(a),O.addSuggestionControls(a),g.trace("jira.jql.suggestions.done")}return a},O.needsSpaceInCompletion=function(){return!(p.isInsideList()||p.getNeedsOpenParen()||p.getNeedsOrderByDirection())},O.completeField=function(e){var t,r=O.getReplacementStartIndex(p,e),s=O.getReplacementEndIndex(p,r);t=O.needsSpaceInCompletion()?e+" ":e,O.replaceValue(r,s,t);var a=f.parse(O.field.val());O.updateParseIndicator(a)},O._afterCompleteField=function(e){return t._afterCompleteField.call(this),O.needsSpaceInCompletion()&&O.dispatcher(O.field.val()),e},O.prepareOperandSuggestions=function(e,t,r,n,i){if(e){var l=N,o=null==i?null===p.getLastOperand()?"":s.stripEscapeCharacters(p.getLastOperand()):i,d=t+":"+o,u={fieldName:s.stripEscapeCharacters(t)};null===p.getLastOperand()&&null===i||(u.fieldValue=o);var g=a.isWasOperator(p.getLastOperator());O.getSavedResponse(d)?O.renderSuggestionsForOperands(o,O.getSavedResponse(d),r,n,l):(O.dropdownController.dropdown.removeClass("dropdown-ready"),O.delay(function(){O._makeRequest({url:R,dataType:"json",data:u,success:function(e){var t;if(t=null!==e&&null!==e.results?e.results:[],g){var s=u.fieldValue;t=O.appendEmpty(s,t)}O.saveResponse(d,t),O.renderSuggestionsForOperands(o,t,r,n,l)},error:function(){O.renderSuggestionsForOperands(o,[],r,n,l)}})},O.queryDelay))}else O.renderSuggestionsForOperands(s.stripEscapeCharacters(p.getLastOperand()),[],r,n,N)},O.preparePredicateSuggestions=function(e,t){void 0===t&&(t=null);var r=O.slimListForPredicates(t,L,e);O.boldMatchingString(t,r);var a=null==t?null===p.getLastOperand()?"":s.stripEscapeCharacters(p.getLastOperand()):t,n=e+":"+a,i={predicateName:s.stripEscapeCharacters(e)};null===p.getLastOperand()&&null===t||(i.predicateValue=a),null!==p.getLastFieldName()&&(i.fieldName=p.getLastFieldName(),n=p.getLastFieldName()+":"+n),O.predicateSupportsAutoComplete(e)?O.getSavedResponse(n)?O.renderSuggestions(O.getSavedResponse(n),r):(O.dropdownController.dropdown.removeClass("dropdown-ready"),O.delay(function(){O._makeRequest({url:R,dataType:"json",data:i,success:function(e){var t;t=null!==e&&null!==e.results?e.results:[];var s=i.predicateValue;t=O.appendEmpty(s,t),O.saveResponse(n,t),O.renderSuggestions(t,r)},error:function(){O.renderSuggestionsForOperands(a,[])}})},O.queryDelay)):O.renderSuggestions([],r)},O.incompleteOperator=function(){var e=p.getTokens();return null==e||e.length<2?"":(e=O.textToSuggestionCursorPosition().split(" "),e.length>2?e[e.length-1]:"")},O.incompletePredicateValue=function(){var e=p.getTokens();return null==e||e.length<3?"":(e=O.textToSuggestionCursorPosition().split(/[\s(,]+/),e.length>3?e[e.length-1]:"")},O.appendEmpty=function(e,t){var s=O.slimListForMapResults(e,r.empty_operand,!0);return null!=e&&O.boldMatchingString(e,s),t.length<15?t=t.concat(s):t[14]=s[0],t},O.dispatcher=function(e){var t,n,i,l=d(O.field).selectionRange(),o=e.substring(0,l.start),u=f.parse(o);if(p=u.getResult(),N++,p.getNeedsField())i=p.getLastFieldName()||!I.length?m:I,O.renderSuggestionsFromMap(s.stripEscapeCharacters(p.getLastFieldName()),i,r.jql_not_logical_operator,!0);else if(p.getNeedsOperatorOrOperand()){n=a.isEmptyOnlyOperator(p.getLastOperator())?r.empty_operand:L,u.calcLastOperandStartIndex();var g=u.getParsedOperator(),c=O.getSuggestionsForOperators(g,r.jql_operators);if(c&&c.length>0){var h=O.incompleteOperator();O.prepareOperandSuggestions(!0,p.getLastFieldName(),n,c,h)}}else if(p.getNeedsOperator())O.renderSuggestionsForOperators(p.getLastOperator(),r.jql_operators);else if(p.getNeedsPredicateOperand()){var C=p.getLastWasPredicate();O.preparePredicateSuggestions(C,s.stripEscapeCharacters(p.getLastOperand()))}else if(p.getNeedsLogicalOperator())p.getNeedsWasPredicate()?p.getNeedsOrderBy()?(t=null===p.getLastOrderBy()?p.getLastWasPredicate():p.getLastOrderBy(),"was"===p.getLastOperator()?O.renderSuggestionsFromMap(t,r.jql_was_predicates_and_order_by,!1):O.renderSuggestionsFromMap(t,r.jql_changed_predicates_and_order_by,!1)):"was"===p.getLastOperator()?O.renderSuggestionsFromMap(p.getLastWasPredicate(),r.jql_was_predicates_and_logical_operators,!1):O.renderSuggestionsFromMap(p.getLastWasPredicate(),r.jql_changed_predicates_and_logical_operators,!1):p.getNeedsOrderBy()?(t=null===p.getLastOrderBy()?p.getLastLogicalOperator():p.getLastOrderBy(),O.renderSuggestionsFromMap(t,r.jql_logical_operators_and_order_by,!1)):O.renderSuggestionsFromMap(p.getLastLogicalOperator(),r.jql_logical_operators,!1);else if(p.getNeedsOrderByField())i=p.getLastOrderByFieldName()||!_.length?S:_,O.renderSuggestionsFromMap(s.stripEscapeCharacters(p.getLastOrderByFieldName()),i,!0);else if(p.getNeedsOrderByDirection())O.renderSuggestionsFromMap(p.getLastOrderByDirection(),r.jql_order_by_direction,!1);else if(p.getNeedsOperand()){var y=p.getLastFieldName(),E=!1;if(!a.isEmptyOnlyOperator(p.getLastOperator()))for(var R=d.inArray(p.getLastOperator(),r.jql_text_operator_names)>-1,P=0;P<m.length;P++)if(s.equalsIgnoreCase(s.getUnquotedString(m[P].value),y)||m[P].cfid&&s.equalsIgnoreCase(m[P].cfid,y)){E=O.calculateAutocompleteFlag(R,m[P].types[0],m[P].auto);break}n=a.isEmptyOnlyOperator(p.getLastOperator())?r.empty_operand:L,O.prepareOperandSuggestions(E,y,n,{})}else p.getNeedsOrderBy()?O.renderSuggestionsFromMap(p.getLastOrderBy(),r.jql_logical_operators_and_order_by,!1):O.dropdownController.hideDropdown();O.parse(e)},O.calculateAutocompleteFlag=function(e,t,s){return(!e||void 0===t||t!==r.version_field_type)&&s},O.parse=function(e){var t=f.parse(e);return O.updateParseIndicator(t),O.updateColumnLineCount(),t.getResult()},O.renderSuggestionsFromMap=function(e,t,r,s){r||(r={});var a=O.slimListForMapResults(e,t,s),n=O.slimListForMapResults(e,r,s);O.boldMatchingString(e,n),O.boldMatchingString(e,a),O.renderSuggestions(a,n),0===a.length&&0===n.length&&O.dropdownController.hideDropdown()},O.getSuggestionsForOperators=function(e,t){for(var r,a=O.slimListForMapResults(e,t,!1),n=p.getLastFieldName(),i=0;i<m.length;i++)if(s.equalsIgnoreCase(s.getUnquotedString(m[i].value),n)||m[i].cfid&&s.equalsIgnoreCase(m[i].cfid,n)){r=m[i].operators;break}return r&&(a=d.grep(a,function(e){return d.inArray(e.value,r)>-1})),O.boldMatchingString(e,a),a},O.renderSuggestionsForOperators=function(e,t){var r=O.getSuggestionsForOperators(e,t);O.renderSuggestions(r),0===r.length&&O.dropdownController.hideDropdown()},O.renderSuggestionsForOperands=function(e,t,r,s,a){if(a===N){var n=O.slimListForFunctionResults(e,r,p.getLastOperator());O.boldMatchingString(e,n),O.renderSuggestions(t,n,s),0===t.length&&0===n.length&&0===s.length&&O.dropdownController.hideDropdown()}},O.boldMatchingString=function(e,t){if(null!=e&&0!==t.length){for(var r=e.length,s=0,a=r;s<a;s++)switch(e.charAt(s)){case"<":case">":r+=3;break;case"&":r+=4;break;case'"':r+=5}for(var n=0;n<t.length;n++)if(t[n].displayName){var i=t[n].displayName;t[n]={value:t[n].value,displayName:"<b>"+i.substring(0,r)+"</b>"+i.substring(r)}}else t[n]={value:t[n],displayName:"<b>"+t[n].substring(0,r)+"</b>"+t[n].substring(r)}}},O.getReplacementStartIndex=function(e,t){var r,s=d(O.field);return r=e.getNeedsField()?e.getLastFieldNameStartIndex():e.getNeedsOperatorOrOperand()?e.getNeedsOperator()&&a.isWasOperator(t)?e.getLastOperatorStartIndex():e.getLastOperandStartIndex():e.getNeedsOperand()?e.getLastOperandStartIndex():e.getNeedsOperator()?e.getLastOperatorStartIndex():e.getNeedsOrderByField()?e.getLastOrderByFieldNameStartIndex():e.getNeedsOrderByDirection()?e.getLastOrderByDirectionStartIndex():e.getNeedsPredicateOperand()?e.getLastOperandStartIndex():e.getNeedsLogicalOperator()?null!==e.getLastLogicalOperatorStartIndex()&&0!==e.getLastLogicalOperatorStartIndex()?e.getLastLogicalOperatorStartIndex():null!==e.getLastOrderBy()&&0!==e.getLastOrderByStartIndex()?e.getLastOrderByStartIndex():null!=e.getLastWasPredicate()&&0!==e.getLastWasPredicateStartIndex()?e.getLastWasPredicateStartIndex():!0===e.getMustBeOperatorOrPredicate()?s.selectionRange().start:s.selectionRange().start-1:e.getNeedsWasPredicate()?e.getLastWasPredicateStartIndex():e.getNeedsOrderBy()?e.getLastOrderByStartIndex():s.selectionRange().start-1,null!=r?r:s.selectionRange().start},O.getReplacementEndIndex=function(e,t){var s=d(O.field),a=s.selectionRange(),n=null;if(a.start===a.end&&a.end!==O.field.val().length&&t<a.start){var i=e.getTokens().length-1,l=f.parse(O.field.val()),o=l.getResult().getTokens()[i];if(null!==o&&"("!==o&&")"!==o){for(var u=O.field.val(),g=u.substring(t,u.length),c=g.split(""),h=0,p=0;p<c.length&&r.REGEXP_WHITESPACE.test(c[p]);p++)h++;n=t+o.length+h}}return null===n&&(n=a.end),n<t&&(O.replaceValue(t,n," "),n=t),n},O.replaceValue=function(e,t,r){var s=d(O.field);s.selectionRange(e,t),d.browser.webkit?document.execCommand("insertText",!1,r):s.selection(r);var a=s.selectionRange().end;s.selectionRange(a,a)},O.slimListForMapResults=function(e,t,r){var a=s.htmlEscape(e),n=d.grep(t,function(e){return s.startsWithIgnoreCaseNullsMeanAll(a,e.displayName)});return r||1!==n.length||s.startsWithNotEqualsIgnoreCaseNullMeansAll(a,n[0].displayName)?n:{}},O.slimListForFunctionResults=function(e,t,n){for(var i,l=p.getLastFieldName(),o=0;o<m.length;o++)if(s.equalsIgnoreCase(s.getUnquotedString(m[o].value),l)||m[o].cfid&&s.equalsIgnoreCase(m[o].cfid,l)){i=m[o].types;break}var u=d.grep(t,function(t){if(t.isList&&!a.isListSupportingOperator(n)||!t.isList&&a.isListSupportingOperator(n))return!1;if(!i)return!1;var l=d.inArray("java.lang.Object",t.types)>-1||d.inArray("java.lang.Object",i)>-1;if(d.inArray(n,r.jql_text_operator_names)>-1&&d.inArray(r.version_field_type,i)>-1)return l;for(var o=0;o<i.length&&!l;o++)l=-1!==d.inArray(i[o],t.types);return!!l&&(s.startsWithIgnoreCaseNullsMeanAll(e,t.value)||s.startsWithIgnoreCaseNullsMeanAll(e,t.displayName))});return 1!==u.length||s.startsWithNotEqualsIgnoreCaseNullMeansAll(e,u[0].displayName)?u:{}},O.slimListForPredicates=function(e,t,a){for(var n,i,l=0;l<r.jql_changed_predicates.length;l++)if(s.equalsIgnoreCase(s.getUnquotedString(r.jql_changed_predicates[l].value),a)){n=r.jql_changed_predicates[l].type,i=r.jql_changed_predicates[l].supportsList;break}var o=d.grep(t,function(t){return(void 0===t.isList||!(t.isList&&i||!t.isList&&i))&&(!(-1===d.inArray(n,t.types))&&(s.startsWithIgnoreCaseNullsMeanAll(e,t.value)||s.startsWithIgnoreCaseNullsMeanAll(e,t.displayName)))});return 1!==o.length||s.startsWithNotEqualsIgnoreCaseNullMeansAll(e,o[0].displayName)?o:{}},O.predicateSupportsAutoComplete=function(e){for(var t,a=0;a<r.jql_changed_predicates.length;a++)if(s.equalsIgnoreCase(s.getUnquotedString(r.jql_changed_predicates[a].value),e)){t=r.jql_changed_predicates[a].auto;break}return t},O.getSavedResponse=function(e){return this.requested||(this.requested={}),this.requested[e]},O.saveResponse=function(e,t){"string"==typeof e&&"object"===(void 0===t?"undefined":_typeof(t))&&(this.requested||(this.requested={}),this.requested[e]=t)},O.startsWithIgnoreCase=function(e,t){return!(null===t||null===e||t.length<e.length)&&e.toLowerCase()==t.substr(0,e.length).toLowerCase()},O.updateParseIndicator=function(e){e.getParseError()?C.attr("title",e.getResult().getParseErrorMsg()).removeClass("jqlgood").addClass("jqlerror"):C.attr("title","").removeClass("jqlerror").addClass("jqlgood")},O.updateColumnLineCount=function(){var e=d(O.field),t=0;if(O.field[0]===document.activeElement){t=e.selectionRange().start}else t=O.field[0].value.length;for(var s=1,a=1,n=O.field.val(),i=0;i<t;i++)r.REGEXP_NEW_LINE.test(n.charAt(i))?(s++,a=1):a++;y.text(a),E.text(s)},O.isSuggestRecentFieldsEnabled=function(){return o.isFeatureEnabled("jira.jql.suggestrecentfields")},O.isSmartAutoSelectFirstEnabled=function(){return o.isFeatureEnabled("jira.jql.smartautoselectfirst")},O.init(c),O.isSuggestRecentFieldsEnabled()){var P=null,v=function(e){var t=e.value.sort();I=d.grep(m,function(e){return u.contains(t,s.getUnquotedString(e.value))}),_=d.grep(S,function(e){return u.contains(t,s.getUnquotedString(e.value))})},j=function(){l.isAnonymous()||d.ajax({url:h+"/rest/api/2/user/properties/jqlValues?username="+l.username()}).done(v)};v(s.getRecentFields()),P=setInterval(j,5e3),O.field.focus(function(){j(),P||(P=setInterval(j,5e3))}).blur(function(){P&&(clearInterval(P),P=null)})}return O}}),define("jira/jql/util",["jira/jql/jql-grammar","wrm/data"],function(e,t){"use strict";var r={};return r.htmlEscape=function(e){if(null==e)return null;for(var t="",r=e.split(""),s=0;s<r.length;s++)"<"===r[s]?t+="&lt;":">"===r[s]?t+="&gt;":"&"===r[s]?t+="&amp;":'"'===r[s]?t+="&quot;":t+=r[s];return t},r.stripEscapeCharacters=function(t){if(null==t)return t;for(var r="",s=t.split(""),a=0;a<s.length&&("\\"!==s[a]||e.REGEXP_UNICODE.test(t.substring(a,t.length))||!(++a>=t.length));a++)r+=s[a];return r},r.equalsIgnoreCase=function(e,t){return null===e&&null===t||null!==e&&null!==e&&e.toLowerCase()===t.toLowerCase()},r.startsWithIgnoreCaseNullsMeanAll=function(e,t){return null===t||null===e||!(t.length<e.length)&&e.toLowerCase()==t.substr(0,e.length).toLowerCase()},r.startsWithNotEqualsIgnoreCaseNullMeansAll=function(t,r){if(null===r||null===t)return!0;if(r.length<t.length)return!1;if(t.toLowerCase()==r.substr(0,t.length).toLowerCase()){var s=null;return s=e.REGEXP_FIELD_NAME.test(r.substr(t.length,r.length))?r.substr(0,t.length):r,t.toLowerCase()!=s.toLowerCase()}return!1},r.getRecentFields=function(){return null==r.recentValues&&(r.recentValues=t.claim("jira.webresources:jqlautocomplete.jql.autocomplete.recentFields")),r.recentValues},r.getUnquotedString=function(e){var t=null!=e&&e.length>=3&&"\\"!==e.charAt(e.length-2);return null!=e&&'"'===e.charAt(0)?(e=e.substring(1,e.length),'"'===e.charAt(e.length-1)&&t&&(e=e.substring(0,e.length-1))):null!=e&&"'"===e.charAt(0)&&(e=e.substring(1,e.length),"'"===e.charAt(e.length-1)&&t&&(e=e.substring(0,e.length-1))),e},r}),define("jira/jql/operator-util",function(){"use strict";var e={};return e.isListSupportingOperator=function(e){return"in"===e||"not in"===e||"was not in"===e||"was in"===e},e.isEmptyOnlyOperator=function(e){return"is"===e||"is not"===e},e.isWasOperator=function(e){return"was"===e||"was in"===e||"was not in"===e||"was not"===e},e.isChangedOperator=function(e){return"changed"===e},e.isHistoryOperator=function(t){return e.isWasOperator(t)||e.isChangedOperator(t)},e}),define("jira/jql/jql-parser",["jira/jql/jql-grammar","jira/jql/jql-parse-token","jira/jql/operator-util","jira/jql/util","jquery"],function(e,t,r,s,a){return function(n){var i=n;return{parse:function(e){var r=t();return r.init(e),this.jql(r),r},orderByClause:function(t){var r=t.remainingString(),s=r.match(e.REGEXP_ORDER_BY);if(s){var a=r.substring(0,s[0].length);t.consumeCharacters(a.length),t.getResult().setLastOrderBy(a,t),t.isComplete()?(t.getResult().resetLogicalOperators(),t.setParseError()):(r=t.remainingString(),e.REGEXP_WHITESPACE.test(r)?(this.chewWhitespace(t),this.orderByFields(t)):(t.getResult().resetLogicalOperators(),t.setParseError()))}else t.consumeCharacters(r.length),t.getResult().setLastOrderBy(r,t),t.setParseError()},orderByFields:function(e){if(this.orderByField(e),this.chewWhitespace(e),e.isComplete())e.getResult().getNeedsOrderByField()||e.getResult().setLastOrderByDirection("",e);else{var t=e.remainingString();this.startsWithIgnoreCase(",",t)?(e.consumeCharacter(),this.orderByFields(e),this.chewWhitespace(e)):(t=e.remainingString(),null!==t&&e.consumeCharacters(t.length),e.getResult().setNeedsOrderByDirection(),e.getResult().setLastOrderByDirection(t,e),e.setParseError())}},orderByField:function(t){this.chewWhitespace(t);var r=this.fieldName(t);if(0!==r.length){t.getResult().setLastOrderByFieldName(r,t);var s=t.remainingString();t.isComplete()||e.REGEXP_COMMA_DELIMITER.test(s)?(t.getResult().setNeedsOrderByField(),this.chewWhitespace(t)):e.REGEXP_ASCENDING.test(s)?(this.chewWhitespace(t),t.consumeCharacters(3),t.getResult().setLastOrderByDirection("asc",t),t.getResult().setNeedsOrderByComma()):e.REGEXP_DESCENDING.test(s)?(this.chewWhitespace(t),t.consumeCharacters(4),t.getResult().setLastOrderByDirection("desc",t),t.getResult().setNeedsOrderByComma()):t.getResult().setNeedsOrderByDirection()}else t.getResult().setLastOrderByFieldName("",t),t.getResult().setNeedsOrderByField(),t.setParseError()},jql:function(e){this.orClause(e);var t=e.remainingString();this.startsWithIgnoreCase("ord",t)&&this.orderByClause(e),e.result.setInsideList(0!==e.inListParens)},orClause:function(t){for(;!t.isComplete()&&!this.startsWithIgnoreCase(")",t.remainingString());){this.chewWhitespace(t);var r=t.remainingString();if(this.startsWithIgnoreCase("ord",r))break;if(t.getResult().getMustBeOperatorOrPredicate()?t.getResult().resetLastPredicates():(t.getResult().resetLogicalOperators(),this.andClause(t)),!t.isComplete()&&null===t.getResult().getLastLogicalOperator()){if(t.getResult().getNeedsWasPredicate()&&this.predicateClause(t),t.isComplete())return;if(r=t.remainingString(),this.startsWithIgnoreCase("ord",r))break;if(null!==r&&(e.REGEXP_ORS.test(r)||this.startsWithIgnoreCase("|",r)||this.startsWithIgnoreCase("||",r)))this.startsWithIgnoreCase("||",r)?(t.getResult().setLastLogicalOperator("||",t.getTokenStringIdx()),t.consumeCharacters(2)):e.REGEXP_ORS.test(r)?(t.getResult().setLastLogicalOperator("OR",t.getTokenStringIdx()),t.consumeCharacters(3)):(t.getResult().setLastLogicalOperator("|",t.getTokenStringIdx()),t.consumeCharacters(1)),t.getResult().resetTerminalClause(),t.isComplete()&&t.setParseError(),t.getResult().setNeedsField();else if(!this.startsWithIgnoreCase(")",r)||!t.getInParens()){this.chewWhitespace(t);var s,a=null===r?t.getMaxTokenStringIdx():t.getMaxTokenStringIdx()-r.length;null!=r&&(s=r.split(" "),t.getResult().setLastLogicalOperator(s[0],a),t.getResult().setLastWasPredicate(s[0],t),t.getResult().setNeedsLogicalOperator(t)),null==t.getResult().getLastWasOperator()?t.setParseError():null!=s&&(e.REGEXP_PREDICATE.test(s[0])?(t.getResult().setLastLogicalOperator(null),t.getResult().resetNeedsPredicateOperand()):(e.REGEXP_ANDS.test(r)&&(t.consumeCharacters(4),t.getResult().resetTerminalClause(),t.getResult().setNeedsField()),(t.isComplete()||1===s.length)&&t.setParseError()))}}}},andClause:function(t){if(this.chewWhitespace(t),this.notClause(t),!t.isComplete()&&null===t.getResult().getLastLogicalOperator()){this.chewWhitespace(t);var r=t.remainingString();null!==r&&(e.REGEXP_ANDS.test(r)||this.startsWithIgnoreCase("&",r)||this.startsWithIgnoreCase("&&",r))?(this.startsWithIgnoreCase("&&",r)?(t.getResult().setLastLogicalOperator("&&",t.getTokenStringIdx()),t.consumeCharacters(2)):this.startsWithIgnoreCase("&",r)?(t.getResult().setLastLogicalOperator("&",t.getTokenStringIdx()),t.consumeCharacters(1)):(t.getResult().setLastLogicalOperator("AND",t.getTokenStringIdx()),t.consumeCharacters(4)),t.getResult().resetTerminalClause(),t.isComplete()&&t.setParseError(),t.getResult().setNeedsField()):(t.getResult().setNeedsLogicalOperator(t),t.isComplete()&&t.getResult().setLastLogicalOperator(null,t.getMaxTokenStringIdx()))}},notClause:function(t){if(this.chewWhitespace(t),t.isComplete())this.terminalClause(t),t.setParseError();else{this.chewWhitespace(t);var r=t.remainingString();null!==r&&(e.REGEXP_NOTS.test(r)||this.startsWithIgnoreCase("!",r))?(t.getResult().needsField=!1,this.startsWithIgnoreCase("!",r)?(t.getResult().setLastLogicalOperator("!",t.getTokenStringIdx()),t.consumeCharacters(1)):(t.getResult().setLastLogicalOperator("NOT",t.getTokenStringIdx()),t.consumeCharacters(4)),t.getResult().resetTerminalClause(),t.isComplete()&&t.setParseError(),t.getResult().setNeedsField()):this.terminalClause(t)}},predicateClause:function(e){if(this.chewWhitespace(e),e.isComplete())e.setParseError();else{var t=e.remainingString(),r=t.split(/[\s(]+/);if(null!==t){if(e.getResult().setMustBeOperatorOrPredicate(!1),this.startsWithLogicalOperator(t)){if(1===r.length)return e.getResult().setLastWasPredicate(r[0],e),void e.setParseError();return}if(e.getResult().resetNeedsPredicateOperand(),e.consumeCharacters(r[0].length),e.getResult().setLastWasPredicate(r[0],e),1===r.length)return void e.setParseError();this.wasPredicateComplete(r[0])?(e.getResult().setNeedsPredicateOperand(),e.getResult().setLastOperand(null,e),this.predicateOperand(e)):e.setParseError()}}},predicateOperand:function(e){this.chewWhitespace(e);var t=this.collectPredicateOperands(e);null!=t&&""!=t||(e.getResult().setLastOperandStartIndex(e.getTokenStringIdx()),e.setParseError()),null!=e.remainingString()&&(e.getResult().resetNeedsPredicateOperand(),e.getResult().resetLastPredicates(),e.getResult().setMustBeOperatorOrPredicate(!0),e.getResult().setNeedsLogicalOperator(e),this.chewWhitespace(e))},collectPredicateOperands:function(e){"DURING"===e.getResult().getLastWasPredicate()&&e.getResult().setNeedsOpenParen(!0);var t=this.listOperand(e,!0);return 0===t.length?(t=this.functionOperand(e),0===t.length?t=this.singleValueOperand(e):e.getResult().setNeedsOpenParen(!1)):e.getResult().setNeedsOpenParen(!1),s.getUnquotedString(t)},terminalClause:function(t){t.getResult().resetTerminalClause(),this.chewWhitespace(t);var r=t.remainingString();if(this.startsWithIgnoreCase("(",r))t.getResult().addToken("("),t.setInParens(),t.consumeCharacter(),this.orClause(t),this.chewWhitespace(t),r=t.remainingString(),this.startsWithIgnoreCase(")",r)?(t.getResult().addToken(")"),t.consumeCharacter(),t.setOutOfParens(),t.isComplete()&&(t.getResult().resetLogicalOperators(),t.getResult().resetLastPredicates())):t.setParseError();else if(this.field(t),t.isComplete())t.getResult().setNeedsField(),t.setParseError();else if(this.oper(t),t.isComplete()){if("was"===t.getResult().getLastOperator()||"was not"===t.getResult().getLastOperator())t.getResult().setNeedsOperandOrOperator();else{if("changed"===t.getResult().getLastWasOperator()){var s=t.currentCharacter();return void(null!==s&&e.REGEXP_SPACE_OR_ELSE.test(s)?t.getResult().setNeedsLogicalOperator(t):(t.getResult().resetLogicalOperators(),t.getResult().setNeedsOrderBy(!1)))}t.getResult().setNeedsOperator()}t.setParseError()}else{if("changed"===t.getResult().getLastWasOperator())return void t.getResult().setNeedsLogicalOperator(t);if(this.operand(t),t.getResult().getOperandComplete()){var a=t.getResult().getLastWasOperator();t.getResult().setNeedsNothing(),a&&t.getResult().setLastWasOperator(a)}else t.isComplete()&&!t.getResult().getNeedsListComma()&&t.getResult().setNeedsOperand()}},field:function(e){var t=this.fieldName(e);if(0!==t.length)e.getResult().setLastFieldName(t,e);else if(null===e.getResult().getLastFieldName()){var r=e.remainingString();e.getResult().setNeedsField(),e.getResult().setLastFieldName(r,e),e.setParseError()}},fieldName:function(e){this.chewWhitespace(e);var t=e.remainingString();if(this.startsWithIgnoreCase("cf",t)){var r=e.getTokenStringIdx(),s=e.remainingString();if(e.consumeCharacters(2),this.chewWhitespace(e),t=e.remainingString(),this.startsWithIgnoreCase("[",t)){e.consumeCharacter(),t=e.remainingString();if(0!==this.numberValue(e).length&&(this.chewWhitespace(e),t=e.remainingString(),this.startsWithIgnoreCase("]",t)))return e.consumeCharacter(),s.substring(0,e.getTokenStringIdx()-r)}return e.setParseError(),s}return this.startsWithIgnoreCase("issue.property",t)?this.entityPropertyName("issue.property",e):this.fieldOrFunctionName(e)},entityPropertyName:function(e,t){t.consumeCharacters(e.length),this.chewWhitespace(t);var r=t.remainingString();if(this.startsWithIgnoreCase("[",r)){t.consumeCharacter();for(var s=[this.stringValue(t)];!t.parseError&&this.startsWithIgnoreCase(".",t.remainingString());)t.consumeCharacter(),s[s.length]=this.stringValue(t);if(0!==s.length&&0!==s[0].length&&!this.startsWithIgnoreCase(".",s[0])&&(this.chewWhitespace(t),r=t.remainingString(),this.startsWithIgnoreCase("]",r))){t.consumeCharacter();for(var a=[this.stringValue(t)];!t.parseError&&this.startsWithIgnoreCase(".",t.remainingString());)t.consumeCharacter(),a[a.length]=this.stringValue(t);return e+"["+s.join(".")+"]"+a.join(".")}}return t.setParseError(),""},oper:function(t){this.chewWhitespace(t);var s=t.remainingString(),a=this.getLongestOperatorMatch(s,e.jql_operators);if(null!==a){if(t.getResult().setLastOperator(a,t.getTokenStringIdx()),(r.isWasOperator(a)||r.isChangedOperator(a))&&t.getResult().setLastWasOperator(a),t.consumeCharacters(a.length),"in"===a||"is"===a||"is not"===a||"not in"===a||"was"===a||"was not"===a||"was in"===a||"was not in"===a){var n=t.currentCharacter();null===n||e.REGEXP_SPACE_OR_ELSE.test(n)||t.setParseError()}"was"===a?(t.getResult().setNeedsOperandOrOperator(),this.chewWhitespace(t),null!=(s=t.remainingString())&&(e.REGEXP_NOTSTART.test(s)||e.REGEXP_INSTART.test(s))&&t.setParseError()):"was not"===a?(t.getResult().setNeedsOperandOrOperator(),this.chewWhitespace(t),null!=(s=t.remainingString())&&e.REGEXP_INSTART.test(s)&&t.setParseError()):"changed"===a?t.getResult().setNeedsLogicalOperator(t):t.getResult().setNeedsOperand()}else if(null===t.getResult().getLastOperator()){var i=null===s?t.getMaxTokenStringIdx():t.getMaxTokenStringIdx()-s.length;t.getResult().setLastOperator(s,i),t.getResult().setNeedsOperator(),t.setParseError()}},operand:function(e){this.chewWhitespace(e),"in"!==e.getResult().getLastOperator()&&"not in"!==e.getResult().getLastOperator()&&"was not in"!==e.getResult().getLastOperator()&&"was in"!==e.getResult().getLastOperator()||e.getResult().setNeedsOpenParen(!0);var t=this.listOperand(e,!0);if(0===t.length?(t=this.functionOperand(e),0===t.length?t=this.singleValueOperand(e):e.getResult().setNeedsOpenParen(!1)):e.getResult().setNeedsOpenParen(!1),null===t||0===t.length){var r=e.remainingString();e.getResult().setLastOperand(r,e),e.getResult().setNeedsOperand(),e.setParseError()}return 0!==t.length?t:""},singleValueOperand:function(e){var t=this.stringValue(e);return 0!==t.length?(e.getResult().setLastOperand(t,e),"empty"!==t.toLowerCase()&&"null"!==t.toLowerCase()&&this.isReservedWord(t.toLowerCase())&&e.setParseError(),t):""},functionOperand:function(e){var t=e.getTokenStringIdx(),r=this.fieldOrFunctionName(e);this.chewWhitespace(e);var s=this.listOperand(e,!1);if(0!==r.length&&0!==s.length){var a=r+s;return e.getResult().setLastOperand(a,e),a}return e.backTrackToIdx(t),""},listOperand:function(e,t){if("("===e.currentCharacter()){e.consumeCharacter(),e.setInListParens();var r=this.collectListValues(e,t),s="("+r;return this.chewWhitespace(e),")"===e.currentCharacter()?(e.consumeCharacter(),
e.setOutOfListParens(),s+=")","()"===s&&t&&e.getResult().setLastOperand(s,e),t&&(e.getResult().setOperandComplete(),e.getResult().resetNeedsPredicateOperand())):e.setParseError(),s}return""},collectListValues:function(e,t){t&&e.getResult().setNeedsOperand(),this.chewWhitespace(e);var r=t?this.operand(e):this.stringValue(e);if(0!==r.length){if(this.chewWhitespace(e)&&t&&e.getResult().setNeedsListComma(),","===e.currentCharacter()){e.consumeCharacter();var s=this.collectListValues(e,t);return 0===s.length&&e.setParseError(),r+", "+s}return r}return""},startsWithIgnoreCase:function(e,t){return!(null===t||null===e||t.length<e.length)&&e.toLowerCase()==t.substr(0,e.length).toLowerCase()},startsWithLogicalOperator:function(e){return null!==e&&(this.startsWithOr(e)||this.startsWithAnd(e)||this.startsWithNot(e)||this.startsWithBraces(e))},startsWithOr:function(e){return this.startsWithIgnoreCase("|",e)||this.startsWithIgnoreCase("||",e)||this.startsWithIgnoreCase("or",e)},startsWithAnd:function(e){return this.startsWithIgnoreCase("&",e)||this.startsWithIgnoreCase("&&",e)||this.startsWithIgnoreCase("and",e)},startsWithNot:function(e){return this.startsWithIgnoreCase("!",e)||this.startsWithIgnoreCase("not",e)},startsWithBraces:function(e){return this.startsWithIgnoreCase("(",e)||this.startsWithIgnoreCase(")",e)},chewWhitespace:function(t){for(var r=!1,s=t.currentCharacter();null!==s&&e.REGEXP_WHITESPACE.test(s);)t.consumeCharacter(),s=t.currentCharacter(),r=!0;return r},getLongestOperatorMatch:function(t,r){var s,a=null;if(this.startsWithIgnoreCase("is",t)&&(s=t.substring(2).match(e.REGEXP_SNOT),a=s?t.substring(0,s[0].length+2):"is"),this.startsWithIgnoreCase("was",t))s=t.substring(3).match(e.REGEXP_SNOT_IN),a=s?t.substring(0,s[0].length+3):"was";else if(this.startsWithIgnoreCase("not",t)){var n=t.substring(3).match(e.REGEXP_SIN);n&&(a=t.substring(0,n[0].length+3))}else for(var i=0;i<r.length;i++)this.startsWithIgnoreCase(r[i].value,t)&&(null===a||e.jql_operators[i].value.length>a)&&(a=e.jql_operators[i].value);return a},getValueMinusExtraWhitespace:function(t){if(null===t)return null;for(var r="",s=!0,a=t.split(""),n=0;n<a.length;n++){var i=a[n];e.REGEXP_WHITESPACE.test(i)?s&&(s=!1,r+=i):(s=!0,r+=i)}return r},fieldOrFunctionName:function(e){var t=this.stringValue(e);return'""'!==t&&"''"!==t||e.setParseError(),this.isReservedWord(t.toLowerCase())&&e.setParseError(),t},isReservedWord:function(e){return-1!==a.inArray(e,i)},stringValue:function(t){for(var r="",s=!1,a=!1,n=t.currentCharacter();null!==n&&(s||a||e.REGEXP_TOKEN_CHAR.test(n));){if(r+=n,t.consumeCharacter(),"\\"===n){if(null===(n=t.currentCharacter())){t.setParseError();break}if(e.REGEXP_CHARS_TO_ESCAPE.test(n)){var i=t.remainingString();if(!e.REGEXP_UNICODE.test(i)){t.setParseError();break}}r+=n,t.consumeCharacter()}else{if(e.REGEXP_SPECIAL_CHAR.test(n)&&!s&&!a){t.setParseError();break}'"'!==n||a?"'"!==n||s||(a=!a):s=!s}n=t.currentCharacter()}return t.isComplete()&&(s||a)&&t.setParseError(),r},numberValue:function(t){var r="";this.chewWhitespace(t);for(var s=t.currentCharacter();null!==s&&e.REGEXP_NUMBER.test(s);)r+=s,t.consumeCharacter(),s=t.currentCharacter();return r},wasPredicateComplete:function(t){for(var r=!1,s=e.jql_changed_predicates.length,a=0;a<s;++a)if(t.toLowerCase()==e.jql_changed_predicates[a].value.toLowerCase()){r=!0;break}return r}}}}),define("jira/jql/jql-parse-result",["jira/jql/util"],function(e){"use strict";return function(){var t=[],r=0;return{getTokens:function(){return t},addToken:function(e){t[r++]=e},setLastFieldName:function(s,a){this.fieldNameStartIndex=null===s?a.getMaxTokenStringIdx():a.getTokenStringIdx()-s.length,this.lastFieldName=e.getUnquotedString(s),t[r++]=s},getLastFieldName:function(){return this.lastFieldName},getLastFieldNameStartIndex:function(){return this.fieldNameStartIndex},setLastOrderByFieldName:function(s,a){this.orderByFieldNameStartIndex=null===s?a.getMaxTokenStringIdx():a.getTokenStringIdx()-s.length,this.lastOrderByFieldName=e.getUnquotedString(s),this.lastOrderByDirection=null,t[r++]=s},getLastOrderByFieldName:function(){return this.lastOrderByFieldName},getLastOrderByFieldNameStartIndex:function(){return this.orderByFieldNameStartIndex},setLastOrderByDirection:function(e,s){this.orderByDirectionStartIndex=null===e?s.getMaxTokenStringIdx():s.getTokenStringIdx()-e.length,this.lastOrderByDirection=e,t[r++]=e},getLastOrderByDirection:function(){return this.lastOrderByDirection},getLastOrderByDirectionStartIndex:function(){return this.orderByDirectionStartIndex},setNeedsField:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!0,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1,this.needsWasPredicate=!1,this.lastWasOperator=null},getNeedsField:function(){return this.needsField},setNeedsOrderByField:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!0,this.needsOrderByDirection=!1,this.lastOrderByDirection=null,this.needsListComma=!1},getNeedsOrderByField:function(){return this.needsOrderByField},setNeedsOrderByDirection:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!0,this.needsListComma=!1},getNeedsOrderByDirection:function(){return this.needsOrderByDirection},setNeedsOrderByComma:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1},setNeedsListComma:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!0},getNeedsListComma:function(){return this.needsListComma},setLastOperator:function(e,s){this.lastOperator=e,this.operatorStartIndex=s,t[r++]=e},setLastWasOperator:function(e){this.lastWasOperator=e},getLastWasOperator:function(){return this.lastWasOperator},getLastOperator:function(){return this.lastOperator},getLastOperatorStartIndex:function(){return this.operatorStartIndex},setLastOperand:function(s,a){this.operandStartIndex=null===s?a.getMaxTokenStringIdx():a.getTokenStringIdx()-s.length,this.lastOperand=e.getUnquotedString(s),t[r++]=s},getLastOperand:function(){return this.lastOperand},setNeedsOperand:function(){this.needsField=!1,this.needsOperator=!1,this.needsLogicalOperator=!1,this.needsOperand=!0,this.needsOrderBy=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1},setNeedsOperandOrOperator:function(){this.needsField=!1,this.needsOperator=!0,this.needsLogicalOperator=!1,this.needsOperand=!0,this.needsOrderBy=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1},getNeedsOperand:function(){return this.needsOperand},setNeedsPredicateOperand:function(){this.needsPredicateOperand=!0,this.needsLogicalOperator=!1,this.needsOrderBy=!1},resetNeedsPredicateOperand:function(){this.needsPredicateOperand=!1,this.needsOperand=!1},getNeedsPredicateOperand:function(){return this.needsPredicateOperand},getLastOperandStartIndex:function(){return this.operandStartIndex},setLastOperandStartIndex:function(e){this.operandStartIndex=e},setLastLogicalOperator:function(e,s){this.lastLogicalOperator=e,this.logicalOperatorStartIndex=s,t[r++]=e},setNeedsOperator:function(){this.needsField=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsOperator=!0,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1},getNeedsOperatorOrOperand:function(){return this.needsOperator&&this.needsOperand},getNeedsOperator:function(){return this.needsOperator},getLastLogicalOperator:function(){return this.lastLogicalOperator},getLastLogicalOperatorStartIndex:function(){return this.logicalOperatorStartIndex},setNeedsLogicalOperator:function(e){this.needsLogicalOperator=!0,this.needsOperator=!1,this.needsOperand=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsListComma=!1,this.needsOrderBy=!e.getInParens(),null!=this.lastWasOperator&&(this.needsWasPredicate=!0)},setNeedsOpenParen:function(e){this.needsOpenParen=e},getNeedsOpenParen:function(){return this.needsOpenParen},getNeedsLogicalOperator:function(){return this.needsLogicalOperator},setNeedsOrderBy:function(e){this.needsOrderBy=e},getNeedsOrderBy:function(){return this.needsOrderBy},getNeedsWasPredicate:function(){return this.needsWasPredicate},setLastWasPredicate:function(e,s){this.wasPredicateStartIndex=null===e?s.getMaxTokenStringIdx():s.getTokenStringIdx()-e.length,this.lastWasPredicate=e,t[r++]=e},getLastWasPredicate:function(){return this.lastWasPredicate},resetLastPredicates:function(){this.lastLogicalOperator=null,this.lastWasPredicate=null,this.lastOperand=null,this.wasPredicateStartIndex=null,this.operandStartIndex=null},getLastWasPredicateStartIndex:function(){return this.wasPredicateStartIndex},setLastOrderBy:function(e,s){this.orderByStartIndex=null===e?s.getMaxTokenStringIdx():s.getTokenStringIdx()-e.length,this.lastOrderBy=e,t[r++]=e},getLastOrderBy:function(){return this.lastOrderBy},getLastOrderByStartIndex:function(){return this.orderByStartIndex},resetLogicalOperators:function(){this.lastLogicalOperator=null,this.logicalOperatorStartIndex=null,this.needsLogicalOperator=null},getUnquotedString:function(t){e.getUnquotedString(t)},setParseError:function(e){this.parseError=!0,this.parseErrorMsg=e},getParseError:function(){return this.parseError},getParseErrorMsg:function(){return this.parseErrorMsg},setNeedsNothing:function(){this.needsOperator=!1,this.needsOperand=!1,this.needsLogicalOperator=!1,this.needsOrderBy=!1,this.needsField=!1,this.needsOrderByField=!1,this.needsOrderByDirection=!1,this.needsOpenParen=!1,this.needsListComma=!1,this.needsWasPredicate=null,this.needsPredicateOperand=null,this.mustBeOperatorOrPredicate=null,this.lastWasOperator=null},setOperandComplete:function(){this.operandComplete=!0},getOperandComplete:function(){return this.operandComplete},setInsideList:function(e){this.insideList=e},isInsideList:function(){return this.insideList},setMustBeOperatorOrPredicate:function(e){this.mustBeOperatorOrPredicate=e},getMustBeOperatorOrPredicate:function(){return this.mustBeOperatorOrPredicate},getIsInSubmittableState:function(){return 0===t.length||1===t.length&&null===t[0]||this.getNeedsLogicalOperator()||this.getNeedsOrderBy()||this.getNeedsOrderByDirection()},resetTerminalClause:function(){this.lastFieldName=null,this.fieldNameStartIndex=null,this.needsField=null,this.lastOperator=null,this.operatorStartIndex=null,this.needsOperator=null,this.lastOperand=null,this.operandStartIndex=null,this.needsOperand=null,this.operandComplete=null,this.needsOpenParen=null,this.needsListComma=!1,this.mustBeOperatorOrPredicate=null},init:function(){this.lastFieldName=null,this.fieldNameStartIndex=null,this.needsField=null,this.lastOperator=null,this.operatorStartIndex=null,this.needsOperator=null,this.lastOperand=null,this.operandStartIndex=null,this.needsOperand=null,this.lastLogicalOperator=null,this.logicalOperatorStartIndex=null,this.lastOrderByFieldName=null,this.lastOrderByFieldNameStartIndex=null,this.lastOrderByDirection=null,this.lastOrderByDirectionStartIndex=null,this.orderByStartIndex=null,this.lastOrderBy=null,this.needsOrderBy=null,this.needsOrderByField=null,this.needsOrderByDirection=null,this.operandComplete=null,this.needsOpenParen=null,this.needsListComma=null,this.wasPredicateStartIndex=null,this.lastWasPredicate=null,this.needsWasPredicate=null,this.needsPredicateOperand=null,this.mustBeOperatorOrPredicate=null,this.lastWasOperator=null,this.insideList=null,this.setNeedsField()}}}}),define("jira/jql/jql-parse-token",["jira/jql/jql-parse-result"],function(e){"use strict";return function(){return{init:function(t){this.tokenStringIdx=0,this.tokenString=t,this.parseError=!1,this.parseErrorMsg=null,this.result=e(),this.result.init(),this.inParens=0,this.inListParens=0},consumeCharacter:function(){this.tokenStringIdx++},consumeCharacters:function(e){this.tokenStringIdx=this.tokenStringIdx+e},backTrackToIdx:function(e){this.tokenStringIdx=e,this.parseError=!1,this.parseErrorMsg=null,this.result.parseError=!1,this.result.parseErrorMsg=null},getTokenStringIdx:function(){return this.tokenStringIdx},currentCharacter:function(){return this.tokenStringIdx>=this.tokenString.length?null:this.tokenString.charAt(this.tokenStringIdx)},remainingString:function(){return this.tokenStringIdx>=this.tokenString.length?null:this.tokenString.substr(this.tokenStringIdx,this.tokenString.length)},getMaxTokenStringIdx:function(){return this.tokenString.length},isComplete:function(){return!!this.parseError||this.tokenStringIdx>=this.tokenString.length},setInParens:function(){this.inParens++},setOutOfParens:function(){0!==this.inParens&&this.inParens--},getInParens:function(){return 0!==this.inParens},setInListParens:function(){this.inListParens++},setOutOfListParens:function(){this.inListParens>0&&this.inListParens--},getInListParens:function(){return this.inListParens>0},setParseError:function(){this.parseError=!0;var e=this.tokenStringIdx-9<0?0:this.tokenStringIdx-9,t=this.tokenString.substring(e,this.tokenStringIdx-1);this.result.setParseError("..."+t+"^"+this.tokenString.substring(this.tokenStringIdx,this.tokenString.length))},getParseError:function(){return this.parseError},calcLastOperandStartIndex:function(){var e=this.getResult(),t=e.getLastOperator();if(t.length>0){var r=t.length-t.replace(/\s+/g,"").length;e.setLastOperandStartIndex(e.getLastOperatorStartIndex()+t.length+r+1)}},getParsedOperator:function(){var e=this.getResult();return e.getLastOperator().length>0?this.tokenString.substr(e.getLastOperatorStartIndex()):null},getResult:function(){return this.result}}}}),AJS.namespace("jira.widget.autocomplete.JQL",null,require("jira/autocomplete/jql-autocomplete")),AJS.namespace("JIRA.JQLAutoComplete",null,require("jira/autocomplete/jql-autocomplete")),AJS.namespace("JIRA.JQLAutoComplete.MyParser",null,require("jira/jql/jql-parser")),AJS.namespace("JIRA.JQLAutoComplete.ParseResult",null,require("jira/jql/jql-parse-result")),AJS.namespace("JIRA.JQLAutoComplete.Token",null,require("jira/jql/jql-parse-token"));;
;
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/autocomplete/initJQLAutoComplete.js' */
!function(){"use strict";var e=require("jira/autocomplete/jql-autocomplete"),r=require("jira/jql/jql-parser"),t=require("jira/util/forms"),i=require("jira/util/key-code"),l=require("jquery");l(function(){l(".jql-autocomplete-params").each(function(){var n={};l(this).find("input").each(function(){var e=l(this);n[e.attr("id")]=e.val()});var o=JSON.parse(l("#jqlFieldz").text()),a=JSON.parse(l("#jqlFunctionNamez").text()),u=JSON.parse(l("#jqlReservedWordz").text()),s=e({fieldID:"jqltext",parser:r(u),queryDelay:.65,jqlFieldNames:o,jqlFunctionNames:a,minQueryLength:0,allowArrowCarousel:!0,errorID:"jqlerrormsg"}),d=l("#jqltext");d.unbind("keypress",t.submitOnEnter).keypress(function(e){if(null===s.dropdownController||!s.dropdownController.displayed||s.selectedIndex<0)return!(e.keyCode===i.ENTER&&!e.ctrlKey&&!e.shiftKey)||(l("#jqlform").submit(),!1)}),s.buildResponseContainer(),s.parse(d.text()),s.updateColumnLineCount()})})}();;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/templates/util.soy' */
// This file was automatically generated from util.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issues.ComponentUtil.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issues == 'undefined') { JIRA.Templates.Issues = {}; }
if (typeof JIRA.Templates.Issues.ComponentUtil == 'undefined') { JIRA.Templates.Issues.ComponentUtil = {}; }


JIRA.Templates.Issues.ComponentUtil.throbber = function(opt_data, opt_ignored) {
  return '<div class="icon throbber" />';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.throbber.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.throbber';
}


JIRA.Templates.Issues.ComponentUtil.simpleLink = function(opt_data, opt_ignored) {
  return '<a' + ((opt_data.link.id) ? ' id="' + soy.$$escapeHtml(opt_data.link.id) + '"' : '') + 'href="' + ((opt_data.link.href) ? soy.$$escapeHtml(opt_data.link.href) : '#') + '"' + ((opt_data.link.styleClass || opt_data.additionalStyleClass) ? 'class="' + soy.$$escapeHtml(opt_data.link.styleClass) + ((opt_data.additionalStyleClass) ? ' ' + soy.$$escapeHtml(opt_data.additionalStyleClass) : '') + '"' : '') + ((opt_data.link.title) ? 'title="' + soy.$$escapeHtml(opt_data.link.title) + '"' : '') + '><span>' + soy.$$escapeHtml(opt_data.link.label) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.simpleLink.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.simpleLink';
}


JIRA.Templates.Issues.ComponentUtil.issueNotFound = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format("issues.components.query.search.selected.issue.nonexistent.html",opt_data.issueAnchor));
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.issueNotFound.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.issueNotFound';
}


JIRA.Templates.Issues.ComponentUtil.issueAnchor = function(opt_data, opt_ignored) {
  return '<a class="issue-key" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issueKey) + '"> ' + soy.$$escapeHtml(opt_data.issueKey) + ' </a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.issueAnchor.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.issueAnchor';
}


JIRA.Templates.Issues.ComponentUtil.buildMessage = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.messages.length == 1) {
    output += soy.$$escapeHtml(opt_data.messages[0]);
  } else {
    output += '<ul>';
    var messageList52 = opt_data.messages;
    var messageListLen52 = messageList52.length;
    for (var messageIndex52 = 0; messageIndex52 < messageListLen52; messageIndex52++) {
      var messageData52 = messageList52[messageIndex52];
      output += '<li>' + soy.$$escapeHtml(messageData52) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.buildMessage.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.buildMessage';
}


JIRA.Templates.Issues.ComponentUtil.auiMessage = function(opt_data, opt_ignored) {
  return '' + ((opt_data.messages.length > 0) ? '<div class="aui-message ' + soy.$$escapeHtml(opt_data.typeClass) + '"><span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.typeClass) + '"></span>' + JIRA.Templates.Issues.ComponentUtil.buildMessage(opt_data) + '</div>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.auiMessage.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.auiMessage';
}


JIRA.Templates.Issues.ComponentUtil.errorMessage = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass: 'error', messages: opt_data.messages ? opt_data.messages : [opt_data.msg]});
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.errorMessage.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.errorMessage';
}


JIRA.Templates.Issues.ComponentUtil.warningMessage = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass: 'warning', messages: opt_data.messages ? opt_data.messages : [opt_data.msg]});
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.warningMessage.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.warningMessage';
}


JIRA.Templates.Issues.ComponentUtil.anonymousErrorDialog = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog-content"><div class="form-body"><h2 class="dialog-title">' + soy.$$escapeHtml("Session Expired") + '</h2>' + JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass: 'warning', messages: ["It looks like your session has timed out, or you have been logged out of Jira. You will need to log back in to continue."]}) + '</div><div class="buttons-container form-footer"><div class="buttons"><a accesskey="' + soy.$$escapeHtml("s") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",opt_data.modifierKey)) + '" class="aui-button submit" href="' + soy.$$escapeHtml("") + '/login.jsp?os_destination=' + soy.$$escapeHtml(opt_data.redirect) + '">' + soy.$$escapeHtml("Log in again") + '</a><a accesskey="' + soy.$$escapeHtml("`") + '" title="' + soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",opt_data.modifierKey)) + '" class="aui-button aui-button-link cancel">' + soy.$$escapeHtml("Ignore") + '</a></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.anonymousErrorDialog.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.anonymousErrorDialog';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/SingleSelectMixin.js' */
define("jira/components/query/mixin/singleselect",function(){return{namedAttributes:["collection"],selectById:function(a){this.setSelected(this.getCollection().get(a))},selectAt:function(a){this.setSelected(this.getCollection().at(a))},clearSelection:function(){this.setSelected()},next:function(){var d=this.getSelected();var c=this.getCollection();if(!d){if(c.length>0){this.setSelected(c.first())}}else{var b=c.indexOf(d);var a=(b+1)%c.length;this.setSelected(c.at(a))}},prev:function(){var d=this.getSelected();var c=this.getCollection();if(!d){if(c.length>0){this.setSelected(c.last())}}else{var b=c.indexOf(d);var a=(b+c.length-1)%c.length;this.setSelected(c.at(a))}}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/templates/query-basic.soy' */
// This file was automatically generated from query-basic.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavQueryBasic.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavQueryBasic == 'undefined') { JIRA.Templates.IssueNavQueryBasic = {}; }


JIRA.Templates.IssueNavQueryBasic.basicQueryView = function(opt_data, opt_ignored) {
  return '<div class="search-field-container">' + ((opt_data.hasOrderBy) ? '<div class="list-ordering-container"><div class="list-ordering"></div></div>' : '') + '<div class="search-criteria-container"><div class="search-criteria"><ul class="criteria-list"><li class="text-query hidden"><div class="text-query-container"><input class="search-entry text ' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? 'medium-field' : '') + ' ajs-dirty-warning-exempt" id="searcher-query" type="text" name="text" placeholder="' + soy.$$escapeHtmlAttribute("Contains text") + '" /></div></li><li class="criteria-actions"></li>' + ((opt_data.hasSearchButton) ? '<li>' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<button class="aui-button aui-button-primary search-button" type="button" title="' + soy.$$escapeHtmlAttribute("Search for issues") + '">' + soy.$$escapeHtml("Search") + '</button>' : '<button class="aui-button aui-button-subtle search-button" type="button" title="' + soy.$$escapeHtmlAttribute("Search for issues") + '"><span class="aui-icon aui-icon-small aui-iconfont-search">' + soy.$$escapeHtml("Search") + '</span></button>') + '</li>' : '') + '</ul></div><div class="search-criteria-extended"><ul class="criteria-list"></ul></div></div></div><div class="search-options-container"><div class="mode-switcher"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.basicQueryView.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.basicQueryView';
}


JIRA.Templates.IssueNavQueryBasic.criteriaButton = function(opt_data, opt_ignored) {
  return '' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<div data-id="' + soy.$$escapeHtmlAttribute(opt_data.id) + '" class="criteria-selector aui-button aui-button-subtle jira-aui-dropdown2-trigger" tabindex="0" />' : '<button type="button" data-id="' + soy.$$escapeHtmlAttribute(opt_data.id) + '" class="criteria-selector aui-button aui-button-subtle drop-arrow" /><a href="#" class="remove-filter" title="' + soy.$$escapeHtmlAttribute("Remove criterion") + '" tabindex="-1"><span class="aui-icon aui-icon-small aui-iconfont-remove"></span></a>');
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.criteriaButton.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.criteriaButton';
}


JIRA.Templates.IssueNavQueryBasic.criteriaButtonContent = function(opt_data, opt_ignored) {
  return '<div class="criteria-wrap">' + ((opt_data.extended || ! opt_data.viewHtml) ? '<span class="fieldLabel">' + soy.$$escapeHtml(opt_data.name) + ':</span> ' : '') + ((opt_data.viewHtml) ? soy.$$filterNoAutoescape(opt_data.viewHtml) : soy.$$escapeHtml("All")) + '</div>' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1') && opt_data.extended) ? '<a href="#" class="remove-filter" title="' + soy.$$escapeHtmlAttribute("Remove criterion") + '" tabindex="-1"><span class="aui-icon aui-icon-small aui-iconfont-remove"></span></a>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.criteriaButtonContent.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.criteriaButtonContent';
}


JIRA.Templates.IssueNavQueryBasic.lozengeDropdownContent = function(opt_data, opt_ignored) {
  return '<form id="issue-filter" action="#" class="searchfilter aui top-label aui-popup-content"><div class="form-body"></div>' + ((opt_data.displayBackButton) ? '<a href="#" class="back">' + soy.$$escapeHtml("Back") + '</a>' : '') + ((opt_data.displayUpdateCancel) ? '<div class="buttons-container form-footer"><div class="buttons"><input type="submit" name="filter" class="aui-button filter" value="' + soy.$$escapeHtmlAttribute("Update") + '" /><a href="#" class="aui-button aui-button-link cancel-update">' + soy.$$escapeHtml("Close") + '</a></div></div>' : '') + '</form>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.lozengeDropdownContent.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.lozengeDropdownContent';
}


JIRA.Templates.IssueNavQueryBasic.lozengeDropdownCannotEdit = function(opt_data, opt_ignored) {
  return '<div class="searcher-no-edit-content">' + JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass: 'info', messages: [AJS.format("To search by {0} please switch to advanced.",opt_data.fieldName)]}) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.lozengeDropdownCannotEdit.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.lozengeDropdownCannotEdit';
}


JIRA.Templates.IssueNavQueryBasic.clauseButtonView = function(opt_data, opt_ignored) {
  return '<button type="button" class="add-criteria aui-button ' + ((opt_data.isSubtle) ? 'aui-button-subtle' : '') + ' ' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? 'jira-aui-dropdown2-trigger' : 'drop-arrow') + '" title="' + soy.$$escapeHtmlAttribute("Add more fields to search with") + '">' + soy.$$escapeHtml("More") + '</button>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.clauseButtonView.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.clauseButtonView';
}


JIRA.Templates.IssueNavQueryBasic.searcherDropdownContent = function(opt_data, opt_ignored) {
  var output = '<div class="searcher-groups available"><ul>';
  var groupList102 = opt_data.searcherGroups;
  var groupListLen102 = groupList102.length;
  for (var groupIndex102 = 0; groupIndex102 < groupListLen102; groupIndex102++) {
    var groupData102 = groupList102[groupIndex102];
    output += '<li class="twixi-block ' + ((groupIndex102 == 0) ? 'expanded' : 'collapsed') + '" data-id="' + soy.$$escapeHtmlAttribute(groupData102.id) + '"><div class="twixi-trigger">' + soy.$$escapeHtml(groupData102.name) + '</div><ul class="twixi-content">';
    var searcherList114 = groupData102.searchers;
    var searcherListLen114 = searcherList114.length;
    for (var searcherIndex114 = 0; searcherIndex114 < searcherListLen114; searcherIndex114++) {
      var searcherData114 = searcherList114[searcherIndex114];
      output += '<li><a href="#" data-id="' + soy.$$escapeHtmlAttribute(searcherData114.id) + '" class="searcher-option" >' + soy.$$escapeHtml(searcherData114.name) + '</a></li>';
    }
    output += '</ul></li>';
  }
  output += '</ul><div class="buttons-container"><div class="buttons"><a href="#" class="aui-button aui-button-link">' + soy.$$escapeHtml("Close") + '</a></div></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.searcherDropdownContent.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.searcherDropdownContent';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/TextQueryBuilder.js' */
define("jira/components/query/basic/textquerybuilder",["require"],function(a){var b=a("jquery");return{BACKSLASH_PATTERN:/\\/g,MULTIPLE_WHITESPACE_PATTERN:/\s+/g,QUOTE_PATTERN:/\"/g,DOUBLE_BACKSLASH:"\\\\",buildJql:function(c){if(!c){return""}c=""+c;c=b.trim(c);c=c.replace(this.BACKSLASH_PATTERN,this.DOUBLE_BACKSLASH);c=c.replace(this.MULTIPLE_WHITESPACE_PATTERN," ");c=c.replace(this.QUOTE_PATTERN,'\\"');return this.createQueryClause(c)},createQueryClause:function(c){return'text ~ "'+c+'"'}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/BasicQueryModule.js' */
define("jira/components/query/basic/basicquerymodule",["require"],function(c){var b=c("jira/components/libs/underscore");var d=c("jira/components/libs/brace");var a=c("jira/components/query/basic/basicqueryview");var e=c("jira/components/query/basic/searchercollection");return d.Evented.extend({namedEvents:["jqlTooComplex","searchRequested","basicModeCriteriaCountWhenSearching","verticalResize","searchChanged"],initialize:function(f){this._queryStateModel=f.queryStateModel;this.searcherCollection=new e([],{fixedLozenges:f.primaryClauses,queryStateModel:f.queryStateModel,initData:f.initialSearcherCollectionState});this.view=new a({queryStateModel:f.queryStateModel,searcherCollection:this.searcherCollection}).onVerticalResize(this.triggerVerticalResize,this).onSearchRequested(this.triggerSearchRequested,this).onSearchChanged(this.triggerSearchChanged,this);this.searcherCollection.onSearchRequested(b.bind(function(g){this.triggerBasicModeCriteriaCountWhenSearching({count:this.searcherCollection.getAllSelectedCriteriaCount()});var h=this._attachOrderByClause(g);this.triggerSearchRequested(h)},this));this.searcherCollection.onJqlTooComplex(b.bind(function(g){this.triggerJqlTooComplex(g)},this))},hasErrors:function(){return this.searcherCollection.any(function(f){return f.hasErrorInEditHtml()})},clear:function(){this.searcherCollection.clear()},queryChanged:function(){this.searcherCollection.restoreFromQuery(this._queryStateModel.getJql())},queryReset:function(f){this.searcherCollection.setInteractive(false);return this.searcherCollection.restoreFromQuery(f,true).always(b.bind(function(){this.searcherCollection.setInteractive(true)},this))},searchersReady:function(){return this.searcherCollection.searchersReady()},createView:function(){return this.view},getSelectedCriteria:function(){return this.searcherCollection.getAllSelectedCriteria()},_attachOrderByClause:function(f){var g=/\bORDER\s+BY\b.*$/i;var h=g.exec(this._queryStateModel.getJql());if(h&&g.exec(f)===null){f=f?f+" "+h[0]:h[0]}return f}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/CriteriaView.js' */
define("jira/components/query/basic/criteriaview",["require"],function(d){var c=d("jira/components/libs/underscore");var f=d("jquery");var e=d("jira/components/libs/brace");var a=d("jira/components/query/templates/issuenavquerybasic");var g=d("jira/components/query/basic/searcherdialog");var b=d("jira/issues/tipsy");return e.View.extend({tagName:"li",template:a.criteriaButton,contentTemplate:a.criteriaButtonContent,events:{click:"hideTipsy","click .criteria-selector":"_onClickCriteriaSelector","click .remove-filter":"_onClickRemoveCriteria","mousedown .remove-filter":"_preventFocusWhileDisabled",keydown:"_onKeydown"},initialize:function(h){this.extended=h.extended;this.searcherCollection=h.searcherCollection;this.searcherCollection.onCollectionChanged(this.update,this);this.searcherCollection.onInteractiveChanged(this._handleInteractiveChanged,this);this.searcherCollection.bind("change:isSelected",this._onCriteriaSelectionChanged,this);g.instance.onHide(c.bind(this._addTooltip,this));g.instance.onShow(c.bind(this._onCriteriaDialogShow,this))},render:function(){this.$el.html(this.template({id:this.model.getId()}));this.$el.attr("data-id",this.model.getId());if(this.extended){this.$el.addClass("extended-searcher")}this.update();this.prepareForDisplay()},prepareForDisplay:function(){this._addTooltip();this.delegateEvents()},hideTipsy:function(){if(this.tipsy){this.tipsy.hide()}},update:function(){var n=this.searcherCollection.length===0;var m=this._getSearcher();var i=this._isValidSearcher();var l=(!n&&!m)||(m&&!m.getIsShown());var h=n||!i;var k=this.$(".aui-button");var j=this.$(".remove-filter");this.$el.toggleClass("hidden",l);k.attr("aria-disabled",h?"true":null).html(this.contentTemplate({name:m&&m.getName()||this.model.getName(),viewHtml:m&&m.getViewHtml(),extended:this.extended}));this.$el.toggleClass("invalid-searcher",!i).toggleClass("partial-invalid-searcher",(i&&k.find(".invalid_sel").length!==0));j.toggleClass("hidden",!(!i||!!this.extended));return this},destroy:function(){this.hideTipsy();this.$el.remove()},_getSearcher:function(){return this.searcherCollection.get(this.model.getId())},_isValidSearcher:function(){var h=this._getSearcher();return !h||(h.getValidSearcher()!==false)},_containsInvalidValue:function(h){return(f(h.getViewHtml()).find(".invalid_sel").length>0)},_showDialog:function(){if(this.searcherCollection.isInteractive()&&this._getSearcher()&&this._isValidSearcher()){g.instance.show(this._getSearcher())}},_removeCriteria:function(i){var h=this.extended||!this._isValidSearcher();if(this.searcherCollection.isInteractive()&&h){this.searcherCollection.triggerBeforeCriteriaRemoved(this.model.getId(),i);c.defer(c.bind(function(){this.searcherCollection.clearClause(this.model.getId())},this))}},_getTooltipText:function(){var i=this.searcherCollection.get(this.model.getId());var h;if(!this._isValidSearcher()){h="This criteria is not valid for the project and/or issue type"}else{if(this._containsInvalidValue(i)){h="This criteria contains invalid value(s)"}else{h=i.getTooltipText()}}return i&&h||""},_addTooltip:function(){this.tipsy=new b({el:this.$el,showCondition:this.searcherCollection.isInteractive,tipsy:{title:c.bind(this._getTooltipText,this)}})},_handleInteractiveChanged:function(h){this.$("button, .remove-filter").attr("aria-disabled",(h)?null:"true")},_onClickCriteriaSelector:function(h){if(this.searcherCollection.isInteractive()&&this._getSearcher()&&this._isValidSearcher()){g.instance.toggle(this._getSearcher())}h.preventDefault()},_onClickRemoveCriteria:function(h){this._removeCriteria();h.preventDefault()},_onKeydown:function(h){switch(h.which){case f.ui.keyCode.DOWN:this._showDialog();break;case f.ui.keyCode.ESCAPE:this.$("button:focus").blur();break;case f.ui.keyCode.BACKSPACE:this._removeCriteria(-1);break;case f.ui.keyCode.DELETE:this._removeCriteria(1);break;default:return}h.preventDefault()},_onCriteriaDialogShow:function(){var h=g.instance.getCurrentSearcher();if(h===this._getSearcher()){if(this.tipsy){this.tipsy.remove()}}},_preventFocusWhileDisabled:function(h){if(f(h.target).closest("[aria-disabled=true]").length>0){h.preventDefault()}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/SearcherModel.js' */
define("jira/components/query/basic/searchermodel",["require"],function(d){var c=d("jira/components/libs/underscore");var h=d("jquery");var e=d("jira/components/libs/brace");var f=d("jira/ajs/ajax/smart-ajax");var a=d("wrm/context-path");var g=d("jira/components/query/messages");var b=a();return e.Model.extend({namedAttributes:["id","name","isShown","viewHtml","editHtml","groupId","groupName","initParams","isSelected","jql","position","serializedParams","validSearcher","key","lastViewed"],namedEvents:["readyForDisplay"],initialize:function(){this._onEditHtmlUpdated();this.bind("change:editHtml",this._onEditHtmlUpdated,this)},parse:function(i){if(i.viewHtml){i.viewHtml=this._cleanViewHtml(i.viewHtml)}return i},_cleanViewHtml:function(j){var i=h("<div/>").appendCatchExceptions(j);i.find(".fieldLabel").remove();i.find("a").replaceWith(function(){return h(this).html()});i.find(".searcherValue").slice(0,-1).each(function(){h(this).after("-")});i.find("*").removeAttr("title");return i.html()},createOrUpdateClauseWithQueryString:function(i){return this.collection.createOrUpdateClauseWithQueryString(this.id,i)},getQueryString:function(){var i={};if(this.collection.QUERY_ID===this.getId()){if(this.getViewHtml()){i[this.collection.QUERY_PARAM]=this.getDisplayText();return h.param(i)}return null}if((!this.getValidSearcher()||/^\s*$/.test(this.getEditHtml()))&&this.getJql()){i={};i[this.collection.JQL_INVALID_QUERY_PREFIX+this.getId()]=this.getJql();return h.param(i)}return this.getSerializedParams()},getDisplayText:function(){var i=this.getViewHtml();var k="";if(i){var j=h("<div>").appendCatchExceptions(i);k=h.trim(j.text()).replace(/[\n\r\s]+/g," ")}return k},hasClause:function(){if(this.collection.QUERY_ID===this.getId()){return !!this.getViewHtml()}else{if(!this.getValidSearcher()){return !!this.getJql()}else{return !!this.getQueryString()}}},clearSearchState:function(){this.set({viewHtml:null,editHtml:null,jql:null,validSearcher:null,isSelected:false})},_now:Date.now||function(){return new Date().getTime()},select:function(){this.set({isSelected:true,position:this.collection.getNextPosition(),validSearcher:true,lastViewed:this._now()})},retrieveEditHtml:function(){var i=this.collection.createJqlWithContext();if(this.getEditHtml()){return new h.Deferred().resolve(this.getEditHtml())}return f.makeRequest({type:"POST",url:b+"/secure/QueryComponentRendererEdit!Default.jspa",success:c.bind(this.setEditHtml,this),dataType:"html",error:function(j){g.displayFailSearchMessage(j)},data:{fieldId:this.getId(),decorator:"none",jqlContext:i}})},hasErrorInEditHtml:function(){var i=h("<div>").htmlCatchExceptions(this.getEditHtml());if(!i){return false}else{return i.find(".error, .has-errors").length>0}},clearEditHtml:function(){this.setEditHtml(null)},_onEditHtmlUpdated:function(){this.setSerializedParams(h("<form/>").appendCatchExceptions(this.getEditHtml()).serialize())},getTooltipText:function(){if(this.getValidSearcher!==false){var i=this.getDisplayText()||"All";return this.getName()+": "+i}else{return "This criteria is not valid for the project and/or issue type"}},searchersReady:function(){return this.collection.searchersReady()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/SearcherCollection.js' */
define("jira/components/query/basic/searchercollection",["require"],function(g){var p=g("jira/components/libs/underscore");var q=g("jquery");var k=g("jira/components/libs/brace");var h=g("jira/util/data/meta");var l=g("jira/components/query/basic/searchermodel");var o=g("jira/components/query/basic/textquerybuilder");var d=g("jira/components/util/functionalutils");var a=g("jira/ajs/ajax/smart-ajax");var n=g("jira/ajs/list/group-descriptor");var m=g("jira/ajs/list/item-descriptor");var f=g("jira/components/search/latestStorage");var j=g("wrm/context-path");var c=g("jira/components/utils/ajshelper");var i=g("jira/components/utils/trace");var b=g("jira/components/query/messages");var e=j();return k.Collection.extend({model:l,namedEvents:["searchRequested","collectionChanged","jqlTooComplex","textFieldChanged","requestUpdateFromView","interactiveChanged","beforeCriteriaRemoved"],QUERY_PARAM:"text",QUERY_ID:"text",JQL_INVALID_QUERY_PREFIX:"__jql_",initialize:function(s,r){if(s&&s.length){this._searcherCache=s}this.fixedLozenges=r&&r.fixedLozenges?r.fixedLozenges:[];this.queryStateModel=r&&r.queryStateModel;this.initData=r&&r.initData;this._interactive=true},_createItemDescriptors:function(r){return p.map(r,function(s){return new m({meta:{isShown:s.isShown},label:s.name,title:s.isShown?s.name:s.name+" "+"is not applicable for the current project and/or issue type.",selected:s.isSelected||s.jql,value:s.id})})},getAddMenuGroupDescriptors:function(){this._updateSearcherCache();var u=this.fixedLozengeIds().concat(this.QUERY_ID);var r=p.filter(this._searcherCache,function(v){var x=p.contains(u,v.id);var w=!!v.groupName;return !x&&w});if(r.length){var s=new n({label:"All Criteria",items:this._createItemDescriptors(p.sortBy(r,function(v){return v.name.toLowerCase()}))});var t=new n({label:"Recent Criteria",items:this._createItemDescriptors(p.first(p.sortBy(p.filter(r,function(v){return v.lastViewed}),function(v){return -v.lastViewed}),h.getNumber("max-recent-searchers")))});return[t,s]}else{return[]}},getSearcher:function(s){var r=this.get(s);if(!r){this.add(this._searcherCache[s]);r=this.get(s)}return r},setJql:function(s,r){this._addOrSet(s,{jql:r})},createJql:function(){var r=this.pluck("jql");return p.filter(r,d.isNotBlank).join(" AND ")||""},createJqlWithContext:function(){return this.queryStateModel.combineContextAndJql(this.queryStateModel.getContext(),this.createJql())},isDirty:function(){return this.any(function(r){return r.getJql()!==undefined&&r.getJql()!==""})},clearSearchState:function(){this.each(function(r){r.clearSearchState()});this._querySearchersAndValues("")},clearClause:function(t){var s=this.get(t);var r=s&&s.hasClause();if(s){s.clearSearchState()}this.triggerCollectionChanged();this.triggerRequestUpdateFromView();if(r){this.triggerSearchRequested(this.createJql())}},getTextQuery:function(){var r=this.get(this.QUERY_ID);return r?r.getViewHtml():""},setInteractive:function(r){if(r!==this._interactive){this._interactive=r;this.triggerInteractiveChanged(r)}},isInteractive:function(){return this._interactive},handleBasicViewSubmit:function(){this.triggerRequestUpdateFromView();this.triggerSearchRequested(this.createJql())},updateTextQuery:function(r){if(r){var s=c.escapeHtml(r);this._addOrSet(this.QUERY_ID,{viewHtml:s,editHtml:s,jql:o.buildJql(r)})}else{this.remove(this.QUERY_ID)}this.triggerTextFieldChanged()},getQueryString:function(){var r=[];this.each(function(t){var s=t.getQueryString();if(s){r.push(s)}});return r.join("&")},_addOrSet:function(v,u,s){var r=this.get(v);if(r){if(s&&s.parse&&r.parse){u=r.parse(u);delete s.parse}if(u.jql){u.isSelected=true}r.set(u,s)}else{var t=p.clone(u);t.id=v;t.isSelected=!!u.jql;this.add(t,s);r=this.get(v)}return r},restoreFromQuery:function(s,v){this.queryStateModel.setJql(s);var r=this.queryStateModel.getJqlWithContext();var u={jql:r||"",decorator:"none"};f.save(u);if(this.initData){if(!this.initData.errorMessages){this._onQuerySearchersAndValues(this.initData);this.initData=null;return new q.Deferred().resolve()}else{this._handleSearcherError(u.jql,this.initData);this.initData=null;return new q.Deferred().reject()}}else{var t=q.ajax({url:e+"/secure/QueryComponent!Jql.jspa",headers:{"X-SITEMESH-OFF":true},data:u,type:"POST"});t.success(p.bind(function(w){if(v){this.clearExpectingUpdate(v)}this._onQuerySearchersAndValues(w)},this));t.error(p.bind(function(y){if(v){this.clearExpectingUpdate()}try{var w=JSON.parse(y.responseText);if(w){this._handleSearcherError(u.jql,w)}}catch(x){console.log("search response error - not JSON?")}},this));t.always(function(){i("jira.search.searchers.updated")});return t}},clearExpectingUpdate:function(){this.reset();this.updateTextQuery("")},_handleSearcherError:function(r,s){if(p.include(s.errorMessages,"jqlTooComplex")||p.include(s.errorMessages,"jqlInvalid")){window.setTimeout(p.bind(function(){this.triggerJqlTooComplex(r)},this),0)}},searcherAffectsContext:function(r){return"project"===r||"issuetype"===r},createOrUpdateClauseWithQueryString:function(t,s){this.triggerRequestUpdateFromView();var r;if(this.searcherAffectsContext(t)){r=this._querySearchersAndValues(this.getQueryString())}else{r=this._querySearchersByValue(t)}r.done(p.bind(function(){if((this.queryStateModel.getBasicAutoUpdate()||s)&&!this.containsInvalidSearchers()){this.triggerSearchRequested(this.createJql())}},this));return r},containsInvalidSearchers:function(){return this.any(function(r){return r.hasErrorInEditHtml()})},_querySearchersByValue:function(u){var r=this.get(u);var t=q.param({decorator:"none",jqlContext:this.queryStateModel.getJqlWithContext()});if(r){var s=r.getQueryString();if(s){t=t+"&"+s}}if(this._activeSearcherReq){this._activeSearcherReq.abort()}this._activeSearcherReq=a.makeRequest({type:"POST",data:t,processData:false,url:e+"/secure/QueryComponentRendererValue!Default.jspa",success:p.bind(function(w){var v=this.get(u);if(v){if(w[u]){w[u].groupName=v.getGroupName();w[u].groupId=v.getGroupId()}else{w[u]=p.extend(v.toJSON(),{editHtml:null,jql:null,viewHtml:null})}}this._setSearchersFromData(w,true)},this),dataType:"json",error:function(v){b.displayFailSearchMessage(v)}}).always(p.bind(function(){this._activeSearcherReq=null},this));return this._activeSearcherReq},_parseSearcherGroups:function(t){var r={};var s=this.queryStateModel.getWithout();p.each(t.groups,function(u){p.each(u.searchers,function(v){if(!p.contains(s,v.id)){v.groupId=u.type;v.groupName=u.title;r[v.id]=v}})});return r},_querySearchersAndValues:function(s){var r="decorator=none";if(this._activeSearcherReq){if(this._activeSearcherQuery===s){return new q.Deferred().reject()}this._activeSearcherReq.abort()}this._activeSearcherQuery=s;if(s){r+="&"+s}this._activeSearcherReq=q.ajax({url:e+"/secure/QueryComponent!Default.jspa",headers:{"X-SITEMESH-OFF":true},type:"POST",data:r,processData:false});this._activeSearcherReq.done(p.bind(function(t){this._onQuerySearchersAndValues(t)},this));this._activeSearcherReq.fail(function(t){b.displayFailSearchMessage(t)});this._activeSearcherReq.always(p.bind(function(){this._activeSearcherReq=null},this));return this._activeSearcherReq},clear:function(){this.reset([],{silent:true});this.updateTextQuery("");this.triggerCollectionChanged()},searchersReady:function(){if(this._activeSearcherReq){return this._activeSearcherReq}else{return new q.Deferred().resolve()}},_onQuerySearchersAndValues:function(u){var r=this._parseSearcherGroups(u.searchers);var s=this.queryStateModel.getWithout();p.each(u.values,p.bind(function(w,x){var v=r[x];if(p.contains(s,x)){w.isShown=false;w.validSearcher=false;w.jql=""}if(!v){r[x]=w}else{p.extend(v,w)}},this));var t=[];this.each(function(w){var v=w.id;if(!p.any(r,function(x){return x.id===v})){if(w.getIsSelected()){w.setValidSearcher(false)}else{t.push(w)}}});if(t.length){this.remove(t)}this._setSearchersFromData(r)},_updateSearcherCache:function(){if(this._searcherCache){this.each(p.bind(function(r){this._searcherCache[r.id]=r.toJSON();this._searcherCache[r.id].id=r.id},this))}},_setSearchersFromData:function(r,s){p.each(r,p.bind(function(t,u){this._addOrSet(u,{groupId:t.groupId,groupName:t.groupName,isShown:t.isShown,name:t.name,viewHtml:t.viewHtml,jql:t.jql,editHtml:t.editHtml,validSearcher:t.validSearcher,key:t.key,lastViewed:t.lastViewed},{parse:true})},this));if(s){this._updateSearcherCache()}else{this._searcherCache=r}this.triggerCollectionChanged();i("jira.search.searchers.updated")},getVariableClauses:function(){var r=[];this.each(p.bind(function(s){if(!this.isFixed(s)&&s.hasClause()){r.push(s)}},this));return r},getSelectedCriteria:function(){var r=this;var s=function(t){return !r.isFixed(t)&&(t.hasClause()||t.getIsSelected())};return this.chain().filter(s).sortBy(function(t){return t.getPosition()}).value()},getAllSelectedCriteriaCount:function(){return this.getAllSelectedCriteria().length},getAllSelectedCriteria:function(){var r=[];this.each(p.bind(function(s){if(s.hasClause()||s.getIsSelected()){r.push(s)}},this));return r},isFixed:function(r){return p.contains(this.fixedLozengeIds(),r.getId())||r.getId()===this.QUERY_ID},fixedLozengeIds:function(){return p.pluck(this.fixedLozenges,"id")},getNextPosition:function(){return this.reduce(function(s,t){var r=Math.max(s,t.getPosition());return isNaN(r)?s:r},-1)+1}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/CriteriaModel.js' */
define("jira/components/query/basic/criteriamodel",["require"],function(a){var b=a("jira/components/libs/brace");return b.Model.extend({namedAttributes:["id","name"]})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/CardView.js' */
define("jira/components/query/basic/cardview",["require"],function(b){var a=b("jira/components/libs/underscore");var c=b("jira/components/libs/brace");return c.View.extend({namedEvents:["viewChanged"],initialize:function(d){this.views=d.views;if(d.activeView){this.activeView=d.activeView}else{var e=a.keys(this.views);if(e.length>0){this.activeView=e[0]}}},render:function(){this._renderActiveView()},changeToView:function(d){if(d===this.activeView){return}this.activeView=d;if(this.$el){this._renderActiveView(d)}this.triggerViewChanged(d)},_renderActiveView:function(){var d=this.views[this.activeView];d.setElement(this.$el);d.render()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/BasicQueryView.js' */
define("jira/components/query/basic/basicqueryview",["require"],function(a){var h=a("jira/components/libs/brace");var b=a("jira/components/query/templates/issuenavquerybasic");var g=a("jira/components/query/basic/textfieldview");var i=a("jira/components/query/basic/primarycriteriacontainerview");var e=a("jira/components/query/basic/extendedcriteriacontainerview");var f=a("jira/components/query/basic/clausebuttonview");var c=a("jira/issues/tipsy");var d=a("jira/components/orderby");var j=a("jira/components/query/basic/textquerybuilder");return h.View.extend({namedEvents:["verticalResize","searchRequested","searchChanged"],template:b.basicQueryView,events:{input:function(){this.trigger("searchChanged",{newJql:j.buildJql(this.textFieldView.$el[0].value)})}},initialize:function(k){this.searcherCollection=k.searcherCollection;this.queryStateModel=k.queryStateModel;this.textFieldView=new g({collection:this.searcherCollection});this.primaryCriteriaContainerView=new i({collection:this.searcherCollection});this.extendedCriteriaContainerView=new e({collection:this.searcherCollection}).onVerticalResize(this.triggerVerticalResize,this);if(this.queryStateModel.getBasicOrderBy()){this.basicOrderByView=d.create();this.queryStateModel.on("change:jql",function(){this.basicOrderByView.setJql(this.queryStateModel.getJql())},this);this.basicOrderByView.onSort(this.triggerSearchRequested,this)}this.clauseButtonView=new f({searcherCollection:this.searcherCollection,queryStateModel:this.queryStateModel});this.searcherCollection.onInteractiveChanged(this._handleInteractiveChanged,this);this.searcherCollection.onBeforeCriteriaRemoved(this._handleBeforeCriteriaRemoved,this)},_handleInteractiveChanged:function(k){this.$el.toggleClass("loading",!k)},_handleBeforeCriteriaRemoved:function(l,k){if(k){this._shiftFocus(l,k)}},render:function(){this.$el.html(this.template({hasOrderBy:this.queryStateModel.getBasicOrderBy(),hasSearchButton:this.queryStateModel.hasSearchButton()}));this.primaryCriteriaContainerView.setElement(this.$el.find(".search-criteria .criteria-list"));this.textFieldView.setElement(this.$el.find("input.search-entry"));this.clauseButtonView.setElement(this.$el.find(".criteria-actions"));this.extendedCriteriaContainerView.setElement(this.$el.find(".search-criteria-extended .criteria-list"));if(this.basicOrderByView){this.basicOrderByView.setElement(this.$el.find(".list-ordering")).render();this.basicOrderByView.setJql(this.queryStateModel.getJql())}this.primaryCriteriaContainerView.render();this.$el.find(".text-query").removeClass("hidden");this.textFieldView.render();this.clauseButtonView.render();this.extendedCriteriaContainerView.render();this._handleInteractiveChanged(this.searcherCollection.isInteractive());this.triggerVerticalResize();new c({el:this.$el.find(".search-button"),tipsy:{trigger:"hover",delayIn:300}});return this},search:function(){this.searcherCollection.handleBasicViewSubmit()},_shiftFocus:function(l,p){var o=this.primaryCriteriaContainerView.getFocusableForCriteria(l);if(!o.length){o=this.extendedCriteriaContainerView.getFocusableForCriteria(l)}var n=this.primaryCriteriaContainerView.getFocusables().add(this.extendedCriteriaContainerView.getFocusables());var m=n.index(o);var k;if(m===0){k=1}else{if(m===n.length-1){k=n.length-2}else{k=m+p}}n.eq(k).focus()},focus:function(){this.primaryCriteriaContainerView.getFocusables().first().focus()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/TextFieldView.js' */
define("jira/components/query/basic/textfieldview",["require"],function(b){var a=b("jira/components/libs/underscore");var d=b("jquery");var c=b("jira/components/libs/brace");return c.View.extend({namedEvents:["searchRequested"],events:{keypress:"handleKeypress"},initialize:function(){a.bindAll(this,"_updateSearcherCollectionTextField","_handleInteractiveChanged","render");this.collection.on("remove change add",a.bind(function(e){if(e.getId()===this.collection.QUERY_ID){this.render()}},this));this.collection.onTextFieldChanged(this.render);this.collection.onRequestUpdateFromView(this._updateSearcherCollectionTextField);this.collection.onInteractiveChanged(this._handleInteractiveChanged)},handleKeypress:function(f){if(f.keyCode===13){this.collection.handleBasicViewSubmit();f.preventDefault()}},render:function(){var e=this.collection.get(this.collection.QUERY_ID);if(e){var g=e.getEditHtml();var f=d("<div></div>").html(g||"").text();this.setQuery(f)}else{this.setQuery("")}},setQuery:function(e){this.$el.val(e)},_updateSearcherCollectionTextField:function(){if(this.$el.is("input")){var e=d.trim(this.$el.val());this.collection.updateTextQuery(e)}},_handleInteractiveChanged:function(e){this.$el.prop("disabled",!e)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/PrimaryCriteriaContainerView.js' */
define("jira/components/query/basic/primarycriteriacontainerview",["require"],function(d){var c=d("jira/components/libs/underscore");var e=d("jira/components/libs/brace");var b=d("jira/components/query/basic/criteriaview");var a=d("jira/components/query/basic/criteriamodel");return e.View.extend({initialize:function(){this._criteriaViews=c.map(this.collection.fixedLozenges,function(f){return new b({model:new a(f),searcherCollection:this.collection})},this)},render:function(){c.each(this._criteriaViews,function(f){f.render()});this.$el.prepend(c.pluck(this._criteriaViews,"el"))},getCriteriaViews:function(){return this._criteriaViews},getFocusables:function(){return this.$(".criteria-selector, #searcher-query, .add-criteria, .search-button")},getFocusableForCriteria:function(f){return this.$('.criteria-selector[data-id="'+f+'"]')}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/ExtendedCriteriaContainerView.js' */
define("jira/components/query/basic/extendedcriteriacontainerview",["require"],function(d){var c=d("jira/components/libs/underscore");var e=d("jira/components/libs/brace");var b=d("jira/components/query/basic/criteriaview");var a=d("jira/components/query/basic/criteriamodel");return e.View.extend({namedEvents:["verticalResize"],initialize:function(){this.collection.on("change:isSelected",this._onCriteriaSelectionChanged,this);this.collection.on("add",this._onCriteriaSelectionChanged,this);this.collection.on("remove",this._removeViewForSearcher,this);this.collection.on("reset",this._onReset,this);this._criteriaViews=c.map(this.collection.getSelectedCriteria(),c.bind(function(f){if(f.getPosition()==null){f.setPosition(this.collection.getNextPosition())}return this._buildCriteriaViewForSearcher(f)},this))},render:function(){c.each(this._criteriaViews,c.bind(function(f){f.render();this.$el.append(f.$el)},this))},getFocusables:function(){return this.$(".criteria-selector")},getFocusableForCriteria:function(f){return this.$('.criteria-selector[data-id="'+f+'"]')},_buildCriteriaViewForSearcher:function(f){return new b({model:new a({id:f.get("id"),name:f.get("name")}),searcherCollection:this.collection,extended:true})},_onCriteriaSelectionChanged:function(f){if(f.getIsSelected()&&!this.collection.isFixed(f)){this._addViewForSearcher(f)}else{this._removeViewForSearcher(f)}},_addViewForSearcher:function(g){var f=this._buildCriteriaViewForSearcher(g);f.render();this.$el.append(f.$el);this._criteriaViews.push(f);this.triggerVerticalResize()},_removeViewForSearcher:function(f){this._criteriaViews=c.reject(this._criteriaViews,function(g){if(g.model.getId()===f.getId()){g.destroy();return true}return false});this.triggerVerticalResize()},_onReset:function(){c.each(this._criteriaViews,function(f){f.destroy()});this._criteriaViews=[]}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/SearcherGroupListDialogView.js' */
define("jira/components/query/basic/searchergrouplistdialogview",["require"],function(d){var l=d("jira/components/libs/underscore");var n=d("jquery");var j=d("jira/components/libs/brace");var e=d("jira/components/query/templates/issuenavquerybasic");var i=d("jira/components/query/basic/searcherdialog");var h=d("jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler");var g=d("jira/ajs/select/checkbox-multi-select");var a=d("jira/ajs/select/suggestions/suggest-helper");var k=d("jira/ajs/list/group-descriptor");var f=d("jira/issues/tipsy");var c=d("jira/components/utils/ajshelper");var m;var b=j.View.extend({template:e.searcherDropdownContent,namedEvents:["searcherSelected","hideRequested"],events:{keydown:"_keyPressed"},initialize:function(o){this.searcherCollection=o.searcherCollection;this.$el.scrollLock(".aui-list-scroll")},render:function(){var r=this.searcherCollection.getAddMenuGroupDescriptors();var q=r.length&&r[0].properties.items.length>b.CRITERIA_DISPLAY_LIMIT;var o=n(c.Templates.queryableSelect({descriptors:r,id:"criteria"}));this.$el.empty().append(o);var p={element:o,suggestionsHandler:b.SuggestHandler,hideFooterButtons:true};var t="...excluding \u003cspan class=hidden-no\u003e\u003c/span\u003e hidden";var s="These criteria are hidden because they are not applicable to the current project and/or issue type";if(q){p.maxInlineResultsDisplayed=b.CRITERIA_DISPLAY_LIMIT;t="...excluding \u003cspan class=hidden-no\u003e\u003c/span\u003e hidden. Please enter a keyword to refine.";s="These criteria are hidden because there are either too many to display or they are not applicable to the current project and/or issue type"}new g(p);m=n("<div class='more-criteria-footer' />").html(t);this.$el.append(m);new f({el:m,tipsy:{title:function(){return s},className:"tipsy-front"}});this.$el.unbind("selected").bind("selected",l.bind(this._searcherSelected,this));this.$el.unbind("unselect").bind("unselect",l.bind(this._searcherUnselected,this));return this.$el},_searcherUnselected:function(p,o){this.searcherCollection.clearClause(o.properties.value)},_searcherSelected:function(q,p){var o=this.searcherCollection.getSearcher(p.properties.value);o.select();i.instance.hide();i.instance.show(o)},_keyPressed:function(s){if(s.keyCode===n.ui.keyCode.TAB){var o=n(":tabbable",this.$el);var p=(o.length===0);var r=(s.shiftKey&&(document.activeElement===o.first()[0]));var q=(!s.shiftKey&&(document.activeElement===o.last()[0]));if(p||r||q){this.triggerHideRequested(c.HIDE_REASON.tabbedOut);s.preventDefault()}}}},{CRITERIA_DISPLAY_LIMIT:100});b.SuggestHandler=h.extend({formatSuggestions:function(o,p){var r=0;var q=a.removeDuplicates(this.model.getDisplayableSelectedDescriptors());o.splice(0,0,new k({actionBarHtml:q.length>1?this.createClearAll():null,items:q,styleClass:"selected-group"}));l.each(o,function(t){if(p.length===0){var s=l.filter(t.items(),function(v,u){var w=v.meta();return w&&w.isShown&&u<b.CRITERIA_DISPLAY_LIMIT});r+=t.items().length-s.length;t.items(s)}else{l.each(t.items(),function(u){var v=u.meta();u.disabled(!(v&&v.isShown))})}});l.defer(function(){if(m){if(r){m.show().find(".hidden-no").text(r)}else{m.hide()}}});return o}});return b});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/SearcherEditDialogView.js' */
define("jira/components/query/basic/searchereditdialogview",["require"],function(b){var f=b("jira/components/libs/underscore");var i=b("jquery");var e=b("jira/components/libs/brace");var c=b("jira/components/query/templates/issuenavquerybasic");var h=b("jira/util/events");var d=b("jira/util/events/types");var g=b("jira/util/events/reasons");var a=b("jira/components/utils/ajshelper");return e.View.extend({namedEvents:["backRequested","hideRequested"],autoUpdate:[".js-autoupdate-checkboxmultiselect",".js-default-checkboxmultiselect",".js-default-checkboxmultiselectstatuslozenge",".js-user-checkboxmultiselect",".js-usergroup-checkboxmultiselect",".js-group-checkboxmultiselect",".js-label-checkboxmultiselect"],events:function(){var j={"click .cancel-update":"_onCancelClicked",click:"_stopPropagation",submit:"_onSubmit",keydown:"_keyPressed"};if(this.queryStateModel.getBasicAutoUpdate()){j["selected "+this.autoUpdate.join(",")]="applyChanges";j["unselect "+this.autoUpdate.join(",")]="applyChanges"}return j},template:c.lozengeDropdownContent,initialize:function(j){this._formData="";this.queryStateModel=j.queryStateModel;this.$el.scrollLock(".aui-list-scroll")},renderDeferred:function(){var j=new i.Deferred();this.model.retrieveEditHtml().done(f.bind(function(k){j.resolve(this.render(k))},this));return j.promise()},hasAutoUpdate:function(j){return this.queryStateModel.getBasicAutoUpdate()&&i(j).find(this.autoUpdate.join(",")).length!==0},render:function(k){var j=!(/^\s*$/.test(k));var l;if(j){l=i(this.template({displayBackButton:this.displayBackButton,displayUpdateCancel:!this.hasAutoUpdate(k)&&!i(k).hasClass("searchfilter-not-found")}))}else{l=i(c.lozengeDropdownCannotEdit({fieldName:this.model.getName()}))}this.$el.html(l);this.$el.find(".form-body").appendCatchExceptions(k);this.$el.find("form").addClass(this.model.id+"-criteria");this.$el.find("label:first").remove();h.trigger(d.NEW_CONTENT_ADDED,[this.$el,g.criteriaPanelRefreshed]);this._formData=this.$el.find("form").serialize();this.model.setInitParams(this._formData);return this.$el},_stopPropagation:function(j){j.stopPropagation()},_preventDefault:function(j){j.preventDefault()},applyFilter:function(){var k=this.$el.find("form").serialize();var j=(k!==this._formData);this._formData=k;this.model.setSerializedParams(this._formData);return j},applyChanges:function(){if(this.applyFilter()){this.model.createOrUpdateClauseWithQueryString()}},_onCancelClicked:function(j){j.preventDefault();this.triggerHideRequested(a.HIDE_REASON.cancelClicked)},_onSubmit:function(j){j.preventDefault();this.triggerHideRequested(a.HIDE_REASON.submit)},_keyPressed:function(n){if(n.keyCode===i.ui.keyCode.TAB){var j=i(":tabbable",this.$el);var k=(j.length===0);var m=(n.shiftKey&&(document.activeElement===j.first()[0]));var l=(!n.shiftKey&&(document.activeElement===j.last()[0]));if(k||m||l){this.triggerHideRequested(a.HIDE_REASON.tabbedOut);n.preventDefault()}}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/ClauseListDialogView.js' */
define("jira/components/query/basic/clauselistdialogview",["require"],function(c){var b=c("jira/components/libs/underscore");var e=c("jquery");var d=c("jira/components/libs/brace");var a=c("jira/components/query/templates/issuenavquerybasic");return d.View.extend({events:{"click .clauses .searcherValue":"_clauseSelected","click .remove-filter":"_removeFilterRequested"},template:a.enabledClauses,namedEvents:["clauseSelected","hideRequested"],initialize:function(f){this.searcherCollection=f.searcherCollection;this.searcherCollection.onCollectionChanged(this._renderAndCheckForClose,this)},render:function(){this.$el.html(this.template({clauses:this._getClauses()}))},_renderAndCheckForClose:function(){this.render();if(!this._getClauses().length){this.triggerHideRequested()}},_clauseSelected:function(g){g.preventDefault();var f=e(g.target);var h=f.parents("li").first().data("id");this.triggerClauseSelected(h)},_removeFilterRequested:function(g){g.preventDefault();var f=this;b.defer(function(){var h=e(g.target);var j=h.parents("li").first();var i=j.data("id");f.searcherCollection.clearClause(i);j.remove();f.triggerHideRequested()})},_getClauses:function(){var g=this.searcherCollection.getVariableClauses();var f=b.invoke(g,"toJSON");b.each(f,this._formatForTemplate);return f},_formatForTemplate:function(f){if(f.validSearcher){f.invalidMessage=""}else{f.invalidMessage="This criteria is not valid for the project and/or issue type"}}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/ClauseButtonView.js' */
define("jira/components/query/basic/clausebuttonview",["require"],function(c){var h=c("jira/components/libs/underscore");var i=c("jquery");var f=c("jira/components/libs/brace");var d=c("jira/components/query/templates/issuenavquerybasic");var g=c("jira/components/query/basic/searchergrouplistdialogview");var a=c("jira/ajs/layer/inline-layer");var e=c("jira/issues/tipsy");var b=c("jira/components/utils/ajshelper");return f.View.extend({template:d.clauseButtonView,addCriteriaButton:".add-criteria",events:{"click .add-criteria":"_showDialog","keydown .add-criteria":"_onKeydown"},initialize:function(l){h.bindAll(this,"_handleInteractiveChanged","_showOrHideClauseButtons");var j=this;this.queryStateModel=l.queryStateModel;this.searcherCollection=l.searcherCollection;this.searcherCollection.onCollectionChanged(this._showOrHideClauseButtons);this.searcherCollection.onInteractiveChanged(this._handleInteractiveChanged);var m=this.dialog=new a({width:"auto",alignment:b.LEFT,offsetTarget:function(){return j.$el.find(j.addCriteriaButton)},content:function(){return k.render()}});m.bind(a.EVENTS.hide,function(p,n,o){if(o===b.HIDE_REASON.escPressed||o===b.HIDE_REASON.toggle||o===b.HIDE_REASON.tabbedOut){j.$(j.addCriteriaButton).focus()}});var k=new g({searcherCollection:this.searcherCollection,dialog:m});k.onHideRequested(function(n){m.hide(n)});m.bind(a.EVENTS.show,function(o,n){i("#criteria-input").focus();n.find(".aui-list-scroll").scrollTop(0)})},render:function(){this.$el.html(this.template({isSubtle:this.queryStateModel.hasSubtleMoreCriteria()}));this._showOrHideClauseButtons();this._addToolTip();return this.$el},_addToolTip:function(){new e({el:this.$el.find(this.addCriteriaButton),showCondition:":not(.active)"})},_showOrHideClauseButtons:function(){var j=this.$(this.addCriteriaButton);if(this.searcherCollection.getAddMenuGroupDescriptors().length>0){j.show()}else{j.hide()}},_showDialog:function(j){if(this.searcherCollection.isInteractive()){this.dialog.toggle()}j.preventDefault()},_handleInteractiveChanged:function(j){this.$(this.addCriteriaButton).attr("aria-disabled",(j)?null:"true")},_onKeydown:function(j){switch(j.which){case i.ui.keyCode.DOWN:this._showDialog(j);break;case i.ui.keyCode.ESCAPE:i(j.target).blur();break;case i.ui.keyCode.BACKSPACE:break;default:return}j.preventDefault()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/SearcherDialog.js' */
define("jira/components/query/basic/searcherdialog",["require"],function(d){var h=d("jira/skate");var e=d("jira/components/query/basic/searchereditdialogview");var i=d("jira/components/libs/underscore");var a=d("jira/ajs/layer/inline-layer");var c=d("jira/components/utils/ajshelper");var j=d("jquery");var g=d("jira/components/utils/trace");var f=c.HIDE_REASON;var b=function(){return{initialize:function(l){if(!this.instance){this.instance=k(l)}}};function k(l){f.switchLozenge="switchLozenge";var p=[f.escPressed,f.toggle,f.cancelClicked,f.submit,f.tabbedOut];function o(s){return s?j(".criteria-selector[data-id='"+s.getId()+"']"):j()}var r;var n;var m;var q=new a({width:"auto",alignment:c.LEFT,offsetTarget:function(){return o(n)},content:function(){m=new e({model:n,queryStateModel:l.queryStateModel});m.onHideRequested(function(s){q.hide(s)});return m.renderDeferred()}});q.bind(a.EVENTS.show,function(u,s){h.init(s[0]);var t=s.find(":input:not(submit):visible:first");t.focus();s.find(".aui-list-scroll").scrollTop(0)});q.bind(a.EVENTS.beforeHide,function(v,t,u,w,s){if(u===f.clickOutside&&s&&j(s).closest(".calendar").length){v.preventDefault()}});q.bind(a.EVENTS.hide,function(w,t,v){var u=n;if(i.contains(p,v)){o(u).focus()}function s(){r=n.createOrUpdateClauseWithQueryString(v===f.submit);r.done(function(){if(u.hasErrorInEditHtml()){if(l.queryStateModel.getSearchMode()==="basic"){b.instance.show(u)}}if(a.current){a.current.setPosition()}});r.always(function(){r=null});u.clearEditHtml()}if(v===f.submit){m.applyFilter();s()}else{if(v!==f.cancelClicked&&v!==f.escPressed&&v!==f.tabbedOut){if(m.applyFilter()){s()}}else{g("jira.search.searchers.hiddenWithoutUpdate")}}m.$el.remove();m=null;n=null});l.queryStateModel.on("change:searchMode",function(){q.hide()});return{getCurrentSearcher:function(){return n},toggle:function(s){if(n!=null){if(n!==s){q.hide(f.switchLozenge);this.show(s)}else{q.hide(f.toggle)}}else{this.show(s)}},_show:function(s){i.defer(function(){n=s;q.show();q.setPosition()})},show:function(u){var t;if(b.waitingToShow){t=true}var s=this;b.waitingToShow=function(){s._show(u);b.waitingToShow=null};if(!t){u.searchersReady().done(function(){if(r){r.done(function(){b.waitingToShow()})}else{b.waitingToShow()}})}},onShow:function(s){q.bind(a.EVENTS.show,s)},hide:function(){q.hide()},onHide:function(s){q.bind(a.EVENTS.hide,s)}}}}();return b});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/templates/query-jql.soy' */
// This file was automatically generated from query-jql.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavQueryJql.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavQueryJql == 'undefined') { JIRA.Templates.IssueNavQueryJql = {}; }


JIRA.Templates.IssueNavQueryJql.jqlQueryView = function(opt_data, opt_ignored) {
  return '<div class="search-field-container"><div class="atlassian-autocomplete"><label for="advanced-search"><span id="jqlerrormsg" class="icon jqlgood"><span>' + soy.$$escapeHtml("parse") + '</span></span> <span class="jql-label">' + soy.$$escapeHtml("Query") + ' <span id="jqlcolrowcount">' + soy.$$escapeHtml("line") + ':<span id="jqlrownum">0</span>' + soy.$$escapeHtml("character") + ':<span id="jqlcolumnnum">0</span></span></span></label><textarea id="advanced-search" class="' + ((require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? 'textarea' : '') + ' search-entry advanced-search ajs-dirty-warning-exempt" name="jql"></textarea><a class="syntax-help" href="' + soy.$$escapeHtml(opt_data.helpUrl) + '" title="' + soy.$$escapeHtml("Syntax Help") + '" target="_jirahelp" tabindex="-1"><span class="aui-icon aui-icon-small aui-iconfont-help">' + soy.$$escapeHtml("Syntax Help") + '</span></a></div></div><div class="search-options-container">' + ((opt_data.hasSearchButton) ? (require("jira/featureflags/feature-manager").isFeatureEnabled('jira.spectrum.m1')) ? '<button class="aui-button aui-button-primary search-button" type="button" title="' + soy.$$escapeHtml("Search for issues") + '">' + soy.$$escapeHtml("Search") + '</button>' : '<button class="aui-item aui-button aui-button-subtle search-button" type="button" title="' + soy.$$escapeHtml("Search for issues") + '"><span class="aui-icon aui-icon-small aui-iconfont-search">' + soy.$$escapeHtml("Search") + '</span></button>' : '') + '<span class="mode-switcher"></span></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryJql.jqlQueryView.soyTemplateName = 'JIRA.Templates.IssueNavQueryJql.jqlQueryView';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/jql/JqlAutoCompleteView.js' */
define("jira/components/query/jql/jqlautocompleteview",["require"],function(c){var b=c("jira/components/libs/underscore");var f=c("jquery");var d=c("jira/components/libs/brace");var g=c("jira/jql/jql-parser");var e=c("jira/autocomplete/jql-autocomplete");var a=c("wrm/context-path");return d.View.extend({namedEvents:["jqlValid","jqlInvalid","searchRequested"],events:{focus:"_onFocus"},getJqlAutoCompleteData:function(){var i=new f.Deferred();if(this.jqlFieldNames==null||this.jqlFunctionNames==null||this.jqlReservedWords==null){var j=f("#jqlFieldz");var k=f("#jqlFunctionNamez");var h=f("#jqlReservedWordz");if(j.length>0&&k.length>0&&h.length>0){this.jqlFieldNames=JSON.parse(j.text());this.jqlFunctionNames=JSON.parse(k.text());this.jqlReservedWords=JSON.parse(h.text())}else{f.ajax({url:a()+"/rest/querycomponent/latest/jqlAutoComplete"}).done(b.bind(function(m){var l=JSON.parse(m);this.jqlFieldNames=b.reject(JSON.parse(l.jqlFieldz),b.bind(function(n){return b.contains(this.model.getWithout(),n.value)},this));this.jqlFunctionNames=JSON.parse(l.jqlFunctionNamez);this.jqlReservedWords=JSON.parse(l.jqlReservedWordz);i.resolve()},this));return i.promise()}}return i.resolve().promise()},_initJQLAutoComplete:function(){var k=this.$el;var i=new e({fieldID:k.attr("id"),parser:new g(this.jqlReservedWords),queryDelay:0.3,jqlFieldNames:this.jqlFieldNames,jqlFunctionNames:this.jqlFunctionNames,minQueryLength:0,allowArrowCarousel:true,errorID:"jqlerrormsg"});var h=this;k.keypress(function(l){if(i.dropdownController===null||!i.dropdownController.displayed||i.selectedIndex<0){if(l.keyCode===13&&!l.ctrlKey&&!l.shiftKey){l.preventDefault();i.dropdownController.hideDropdown();h.triggerSearchRequested(k.val())}}});var j=i.updateParseIndicator;i.updateParseIndicator=function(l){j.apply(this,arguments);if(!l.getParseError()){h.triggerJqlValid(k.val())}else{h.triggerJqlInvalid(k.val())}};i.buildResponseContainer();i.parse(k.val());i.updateColumnLineCount();k.bind("expandedOnInput",function(){i.positionResponseContainer()}).bind("updateParseIndicator",function(){i.parse(k.val())});setTimeout(function(){i.dispatcher(i.field.val())},0)},_onFocus:function(){if(!this.model.getAutocompleteEnabled()||this.$el.data("JQLAutoComplete_init")){return}this.$el.data("JQLAutoComplete_init",true);this.getJqlAutoCompleteData().done(b.bind(this._initJQLAutoComplete,this))}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/jql/JqlQueryModule.js' */
define("jira/components/query/jql/jqlquerymodule",["require"],function(c){var b=c("jira/components/libs/underscore");var d=c("jira/components/libs/brace");var e=c("jira/components/query/jql/jqlqueryview");var a=c("jira/util/events");var g=c("jira/util/events/types");var f=c("jira/util/events/reasons");return d.Evented.extend({namedEvents:["searchRequested","verticalResize","searchChanged"],initialize:function(h){this._queryStateModel=h.queryStateModel;this.view=new e({queryStateModel:h.queryStateModel}).onVerticalResize(this.triggerVerticalResize,this).onSearchRequested(this.triggerSearchRequested,this).onSearchChanged(this.triggerSearchChanged,this);a.bind(g.NEW_CONTENT_ADDED,b.bind(function(k,i,j){if(j===f.returnToSearch){this.setQuery()}},this))},search:function(){var h=this.view.readJql();this.triggerSearchRequested(h)},setQuery:function(){this.view.setQuery()},createView:function(){return this.view}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/jql/JqlQueryView.js' */
define("jira/components/query/jql/jqlqueryview",["require"],function(c){var b=c("jira/components/libs/underscore");var g=c("jquery");var d=c("jira/components/libs/brace");var f=c("jira/components/query/templates/issuenavqueryjql");var h=c("jira/components/query/jql/jqlautocompleteview");var e=c("jira/util/data/meta");var a=c("jira/issues/tipsy");return d.View.extend({template:f.jqlQueryView,namedEvents:["verticalResize","searchRequested","searchChanged"],events:{expandedOnInput:"_handleExpandOnInput",input:function(){this.trigger("searchChanged",{newJql:this.readRawJql()})}},initialize:function(i){this.queryStateModel=i.queryStateModel;this.queryStateModel.on("change:jql",this.setQuery,this);g(document).bind("issueNavWidthChanged",b.bind(this._resizeHeight,this));if(h){this.JQLAutoCompleteView=new h({model:this.queryStateModel});this.JQLAutoCompleteView.onJqlValid(function(j){if(this.queryStateModel.getAdvancedAutoUpdate()){this.triggerSearchRequested(j)}},this);this.JQLAutoCompleteView.onSearchRequested(this.triggerSearchRequested,this)}},render:function(){this.$el.html(this.template({helpUrl:e.get("advanced-search-help-url"),helpTitle:e.get("advanced-search-help-title"),hasSearchButton:this.queryStateModel.hasSearchButton()}));this.$el.addClass("loading");if(this.JQLAutoCompleteView){this.JQLAutoCompleteView.setElement(this.$el.find(".advanced-search"));this.JQLAutoCompleteView.getJqlAutoCompleteData()}new a({el:this.$el.find(".search-button"),tipsy:{trigger:"hover",delayIn:300}});this.setQuery();return this},readRawJql:function(){var i=this._getInputField();return i.val()||""},readJql:function(){var j=this.readRawJql();var i=this._getInputField();var k=g.trim(j);if(j!==k){i.val(k)}this._resizeHeight();return k},_handleExpandOnInput:function(){this.triggerVerticalResize()},_resizeHeight:function(){var i=this._getInputField();if(i.val()){i.height(0).expandOnInput()}else{i.expandOnInput().height(0).trigger("refreshInputHeight")}},setQuery:function(){this.$el.removeClass("loading");this._getInputField().val(this.queryStateModel.getJql());this._getInputField().trigger("updateParseIndicator");this._resizeHeight()},focus:function(){this._getInputField().focus()},_getInputField:function(){return this.$el?this.$el.find("textarea"):g()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/templates/query.soy' */
// This file was automatically generated from query.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavQuery.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavQuery == 'undefined') { JIRA.Templates.IssueNavQuery = {}; }


JIRA.Templates.IssueNavQuery.searchSwitcher = function(opt_data, opt_ignored) {
  var output = '';
  var itemList3 = opt_data.items;
  var itemListLen3 = itemList3.length;
  for (var itemIndex3 = 0; itemIndex3 < itemListLen3; itemIndex3++) {
    var itemData3 = itemList3[itemIndex3];
    output += JIRA.Templates.IssueNavQuery.searchSwitcherItem({id: itemData3.id, isActive: itemData3.id == opt_data.selectedId});
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQuery.searchSwitcher.soyTemplateName = 'JIRA.Templates.IssueNavQuery.searchSwitcher';
}


JIRA.Templates.IssueNavQuery.searchSwitcherItem = function(opt_data, opt_ignored) {
  return '<a href="#" class="switcher-item' + soy.$$escapeHtml(opt_data.isActive ? ' active' : '') + ' " data-id=\'' + soy.$$escapeHtml(opt_data.id) + '\' title="' + ((opt_data.id == 'basic') ? soy.$$escapeHtml("Switch to advanced search using JQL") : soy.$$escapeHtml("Switch to basic search")) + '">' + ((opt_data.id == 'basic') ? soy.$$escapeHtml("Advanced") : soy.$$escapeHtml("Basic")) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQuery.searchSwitcherItem.soyTemplateName = 'JIRA.Templates.IssueNavQuery.searchSwitcherItem';
}


JIRA.Templates.IssueNavQuery.queryView = function(opt_data, opt_ignored) {
  return '<div class="aui-group"><div class="aui-item search-wrap"><div class="search-container"></div><div class="save-filter-controls"></div></div>' + ((opt_data.layoutSwitcher) ? '<div class="aui-item view-selector" id="layout-switcher-toggle"></div>' : '') + '</div><div class="notifications"></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQuery.queryView.soyTemplateName = 'JIRA.Templates.IssueNavQuery.queryView';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/QueryModule.js' */
define("jira/components/query/querymodule",["require"],function(d){var c=d("jira/components/libs/underscore");var e=d("jira/components/libs/brace");var g=d("jira/components/query/queryview");var h=d("jira/components/query/basic/searcherdialog");var b=d("jira/components/query/basic/basicquerymodule");var f=d("jira/components/query/jql/jqlquerymodule");var a=d("jira/util/events");return e.Evented.extend({namedEvents:["jqlChanged","jqlTooComplex","jqlError","jqlSuccess","searchRequested","searchChanged","queryTooComplexSwitchToAdvanced","changedPreferredSearchMode","basicModeCriteriaCountWhenSearching","verticalResize","initialized"],initialize:function(i){this._queryStateModel=i.queryStateModel;this._queryStateModel.on("change:preferredSearchMode",c.bind(function(){this.triggerChangedPreferredSearchMode(this._queryStateModel.getPreferredSearchMode())},this));h.initialize({queryStateModel:this._queryStateModel});this._jqlQueryModule=new f({queryStateModel:this._queryStateModel}).onSearchRequested(this.handleAdvancedSearchRequested,this).onVerticalResize(this.triggerVerticalResize,this).onSearchChanged(this.triggerSearchChanged,this);this._errors={};this._errors[this._queryStateModel.BASIC_SEARCH]=[];this._errors[this._queryStateModel.ADVANCED_SEARCH]=[];this._queryStateModel.on("change:searchMode",this.showSearchErrors,this);this._basicQueryModule=new b({queryStateModel:this._queryStateModel,primaryClauses:i.primaryClauses,initialSearcherCollectionState:i.searchers}).onSearchRequested(this.clearSearchErrors,this).onSearchChanged(this.triggerSearchChanged,this).onJqlTooComplex(this.handleJqlTooComplex,this).onSearchRequested(this.handleSearchRequested,this).onVerticalResize(this.triggerVerticalResize,this).onBasicModeCriteriaCountWhenSearching(this.triggerBasicModeCriteriaCountWhenSearching,this)},refreshLayout:function(){this._jqlQueryModule.setQuery()},handleAdvancedSearchRequested:function(i){this.handleSearchRequested(i);this._basicQueryModule.queryChanged()},handleSearchRequested:function(i){this._queryStateModel.setJql(i);this.clearSearchErrors();a.trigger("jql-search-requested",i)},handleJqlTooComplex:function(i){if(this.getSearchMode()!==this._queryStateModel.ADVANCED_SEARCH){this.triggerQueryTooComplexSwitchToAdvanced()}this.setSearchMode(this._queryStateModel.ADVANCED_SEARCH);this.triggerJqlTooComplex(i);if(this._queryView){this._queryView.switcherViewModel.disableSwitching()}},getJql:function(){return this._queryStateModel.getJqlWithContext()},getSearcherCollection:function(){return this._basicQueryModule.searcherCollection},isBasicMode:function(){return this._queryStateModel.getSearchMode()===this._queryStateModel.BASIC_SEARCH},resetToQuery:function(i,j){this.clearSearchErrors();return this._basicQueryModule.queryReset(i).always(c.bind(function(){this._queryStateModel.switchToPreferredSearchMode();this._jqlQueryModule.setQuery();if(j&&j.focusQuery===true){this._queryView.getView().focus()}this._basicQueryModule.off("searchRequested",this.publishJqlChanges);this._jqlQueryModule.off("searchRequested",this.publishJqlChanges);this._basicQueryModule.onSearchRequested(this.publishJqlChanges,this);this._jqlQueryModule.onSearchRequested(this.publishJqlChanges,this)},this))},publishJqlChanges:function(i){this.triggerJqlChanged(i)},setVisible:function(i){this._queryView.setVisible(i)},queryChanged:function(){this.clearSearchErrors();this._basicQueryModule.queryChanged()},onSearchSuccess:function(i){if(this._queryView){this._queryView.showWarnings(i)}this.triggerJqlSuccess()},searchersReady:function(){return this._basicQueryModule.searchersReady()},onSearchError:function(j){this._errors.renderFunction="showErrors";var k=(j.errorMessages)?j.errorMessages.concat():[];var i=[];c.each(j.errors,function(m,l){if(l==="jql"){i.push(m)}else{k.push(m)}});if(this.getSearchMode()===this._queryStateModel.BASIC_SEARCH&&!this._basicQueryModule.hasErrors()&&i.length>0){this.setSearchMode(this._queryStateModel.ADVANCED_SEARCH)}this._errors[this._queryStateModel.BASIC_SEARCH]=k;this._errors[this._queryStateModel.ADVANCED_SEARCH]=i.concat(k);this.showSearchErrors();this.triggerJqlError()},showSearchErrors:function(){if(this._queryView){this._queryView.clearNotifications();var i=this._errors.renderFunction||"showErrors";this._queryView[i](this._errors[this.getSearchMode()])}},clearSearchErrors:function(){if(this._queryView){this._queryView.clearNotifications();this._queryView.switcherViewModel.enableSwitching()}this._errors[this._queryStateModel.BASIC_SEARCH].length=0;this._errors[this._queryStateModel.ADVANCED_SEARCH].length=0},getSearchMode:function(){return this._queryStateModel.getSearchMode()},getActiveBasicModeSearchers:function(){return this._basicQueryModule.getSelectedCriteria()},setSearchMode:function(i){if(this.getSearchMode()!==i){this._queryStateModel.switchToSearchMode(i);return true}return false},createAndRenderView:function(i){this._queryView=new g({el:i,queryStateModel:this._queryStateModel,basicQueryModule:this._basicQueryModule,jqlQueryModule:this._jqlQueryModule}).onVerticalResize(this.triggerVerticalResize,this);this._queryView.render()},isQueryValid:function(){return(this._errors&&this._errors[this._queryStateModel.BASIC_SEARCH].length===0&&this._errors[this._queryStateModel.ADVANCED_SEARCH].length===0)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/QueryStateModel.js' */
define("jira/components/query/querystatemodel",["require"],function(b){var c=b("jira/components/libs/brace");var e=b("jira/components/query/messages");var a=b("wrm/context-path");var f=b("jquery");var d=b("jira/components/utils/trace");return c.Model.extend({BASIC_SEARCH:"basic",ADVANCED_SEARCH:"advanced",namedAttributes:["style","searchMode","preferredSearchMode","jql","context","without","layoutSwitcher","autocompleteEnabled","advancedAutoUpdate","basicAutoUpdate","basicOrderBy"],defaults:{searchMode:"basic",preferredSearchMode:"basic"},switchToSearchMode:function(g){this.setSearchMode(g)},switchPreferredSearchMode:function(g){this.switchToSearchMode(g);this.setPreferredSearchMode(g);this._savePreferredSearchMode()},switchToPreferredSearchMode:function(){this.switchToSearchMode(this.getPreferredSearchMode())},hasSearchButton:function(){return this.getStyle()!=="field"},hasSubtleMoreCriteria:function(){return this.getStyle()!=="field"},getJqlWithContext:function(){return this.combineContextAndJql(this.getContext(),this.getJql())},combineContextAndJql:function(h,g){return[h,g].filter(Boolean).join(" AND ")},_savePreferredSearchMode:function(){f.ajax({url:a()+"/rest/querycomponent/latest/userSearchMode",type:"POST",headers:{"X-Atlassian-Token":"no-check"},data:{searchMode:this.getPreferredSearchMode()},error:function(g){e.displayFailSearchMessage(g)},success:function(){d("jira.search.mode.changed")}})}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/SwitcherModel.js' */
define("jira/components/query/switchermodel",["require"],function(a){var b=a("jira/components/libs/brace");return b.Model.extend({namedAttributes:["id","name","view","text"]})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/SwitcherCollection.js' */
define("jira/components/query/switchercollection",["require"],function(a){var b=a("jira/components/libs/brace");var c=a("jira/components/query/switchermodel");return b.Collection.extend({model:c})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/QuerySwitcherViewModel.js' */
define("jira/components/query/queryswitcherviewmodel",["require"],function(b){var a=b("jira/components/libs/underscore");var c=b("jira/components/libs/brace");var d=b("jira/components/query/mixin/singleselect");return c.Model.extend({mixins:[d],namedAttributes:["disabled"],namedEvents:["selectionChanged"],initialize:function(e,f){this.queryStateModel=f.queryStateModel;this.queryStateModel.on("change:searchMode",a.bind(function(){this.triggerSelectionChanged.apply(this,arguments)},this))},getSelected:function(){var e=this.queryStateModel.getSearchMode();return e?this.getCollection().get(e):null},setSelected:function(e){this.queryStateModel.switchPreferredSearchMode(e?e.id:null)},enableSwitching:function(){this.setDisabled(false)},disableSwitching:function(){this.setDisabled(true)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/QueryView.js' */
define("jira/components/query/queryview",["require"],function(b){var d=b("jira/components/libs/brace");var f=b("jira/components/query/templates/issuenavquery");var c=b("jira/components/query/switchercollection");var g=b("jira/components/query/switcherview");var e=b("jira/components/query/queryswitcherviewmodel");var a=b("jira/components/query/templates/issues/componentutil");return d.View.extend({namedEvents:["verticalResize"],template:f.queryView,events:{"click .search-button":"search",submit:"preventDefault"},initialize:function(h){this.queryStateModel=h.queryStateModel;var i=new c([{id:this.queryStateModel.BASIC_SEARCH,name:"Basic",view:h.basicQueryModule.createView()},{id:this.queryStateModel.ADVANCED_SEARCH,name:"Advanced",view:h.jqlQueryModule.createView()}]);this.jqlQueryModule=h.jqlQueryModule;this.switcherViewModel=new e({collection:i},{queryStateModel:this.queryStateModel});this.switcherView=new g({template:f.searchSwitcher,model:this.switcherViewModel,containerClass:".search-container"}).onVerticalResize(this.triggerVerticalResize,this)},render:function(){this.$el.html(this.template(this.queryStateModel.toJSON()));this.switcherView.setElement(this.$el).render();return this},preventDefault:function(h){h.preventDefault()},clearNotifications:function(){this.$(".notifications").empty()},search:function(){if(this.queryStateModel.ADVANCED_SEARCH===this.switcherViewModel.getSelected().getId()){this.jqlQueryModule.search()}else{this.getView().search()}},getView:function(){return this.switcherViewModel.getSelected().getView()},showErrors:function(h){this.$(".notifications").append(a.errorMessage({messages:h}))},showWarnings:function(h){this.$(".notifications").append(a.warningMessage({messages:h}))},setVisible:function(h){this.$(".search-container").toggleClass("hidden",!h);this.switcherView.setVisible(h)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/SwitcherView.js' */
define("jira/components/query/switcherview",["require"],function(c){var b=c("jira/components/libs/underscore");var e=c("jquery");var d=c("jira/components/libs/brace");var a=c("jira/issues/tipsy");return d.View.extend({namedEvents:["verticalResize"],tagName:"div",events:{"click .switcher-item":"_onSwitcherClick"},initialize:function(f){this.containerClass=f.containerClass;this.model=f.model;this.template=f.template;this.model.onSelectionChanged(this._onSelect,this);this.switchEl=e();this.model.on("change:disabled",b.bind(this._setSwitching,this))},render:function(){this._onSelect();this._render()},_render:function(){var f=this.model.getSelected();this.switchEl=this.$el.find(".mode-switcher");this.switchEl.html(this.template({items:this.model.getCollection().toJSON(),selectedId:f&&f.id}));new a({el:this.$el.find(".switcher-item.active")})},getSwitcherTrigger:function(){return this.switchEl.find(".switcher-item.active")},_onSelect:function(){var f=this.$el.find(this.containerClass).empty();var g=this.model.getSelected();if(g){f.attr("data-mode",g.id);g.getView().setElement(f).render()}this._render();this.triggerVerticalResize()},_onSwitcherClick:function(g){g.preventDefault();if(!this.model.getDisabled()){this.model.next();var f=this.model.getSelected().getView();if(f.focus){f.focus()}}},_setSwitching:function(){if(this.model.getDisabled()){this.disableSwitching()}else{this.enableSwitching()}},disableSwitching:function(){this.switchEl.addClass("disabled");this.getSwitcherTrigger().attr("original-title","This query is too complex to display in Simple mode.")},enableSwitching:function(){this.switchEl.removeClass("disabled");var f=this.model.getSelected();if(f&&f.id==="advanced"){this.getSwitcherTrigger().attr("original-title","Switch to basic search")}},setVisible:function(f){this.switchEl.toggleClass("hidden",!f)}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/Query.js' */
define("jira/components/query",["require"],function(c){var b=c("jira/components/libs/underscore");var f=c("jquery");var d=c("jira/components/query/querymodule");var e=c("jira/components/query/querystatemodel");var a=c("jira/util/events");var g=c("jira/util/events/types");a.bind(g.CHECKBOXMULITSELECT_READY,function(i,h){h.closest(".form-body").addClass("checkboxmultiselect-container")});return function(){var h={project:"Project",issuetype:"Type",status:"Status",assignee:"Assignee",reporter:"Reporter",labels:"Labels",resolution:"Resolution",created:"Created Date",updated:"Updated Date",resolutiondate:"Resolution Date",description:"Description",duedate:"Due Date",comment:"Comment",fixfor:"Fix Version",version:"Affects Version",component:"Component"};return{DEFAULT_CLAUSES:["project","issuetype","status","assignee"],create:function(j){j=b.defaults(j,{primaryClauses:this.DEFAULT_CLAUSES,without:[],style:"generic",layoutSwitcher:true,autocompleteEnabled:true,advancedAutoUpdate:false,basicOrderBy:false,basicAutoUpdate:true,preferredSearchMode:"basic"});j.primaryClauses=b.reject(j.primaryClauses,function(k){return b.contains(j.without,k.id)});b.each(j.primaryClauses,function(l,k){if(typeof l==="string"){if(h[l]){j.primaryClauses[k]={id:l,name:h[l]}}else{console.error("jira/components/query: You have specified clause ["+l+"]. But we do not have the i18n string for it, probably a custom field. Instead use {id:"+l+", name: '[NAME_HERE]'}")}}});var i=new d({queryStateModel:new e({jql:j.jql,context:j.context,without:j.without,style:j.style,layoutSwitcher:j.layoutSwitcher,autocompleteEnabled:j.autocompleteEnabled,advancedAutoUpdate:j.advancedAutoUpdate,basicAutoUpdate:j.basicAutoUpdate,preferredSearchMode:j.preferredSearchMode,basicOrderBy:j.basicOrderBy}),primaryClauses:j.primaryClauses,searchers:j.searchers});f(j.el).addClass("query-component "+j.style+"-styled");i.createAndRenderView(j.el);if(j.jql||j.jql===""){i.resetToQuery(j.jql).always(function(){f(j.el).addClass("ready");i.triggerInitialized(j.jql)})}return i}}}()});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/Messages.js' */
define("jira/components/query/messages",["require"],function(a){var c=a("jira/message");var b=a("jira/ajs/ajax/smart-ajax");return{displayFailSearchMessage:function(d){if(d&&d.statusText!=="abort"){return c.showErrorMsg(b.buildSimpleErrorContent(d),{closeable:true})}}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/templates/amd-wrapper.js' */
define("jira/components/query/templates/issuenavquery",function(){return JIRA.Templates.IssueNavQuery});define("jira/components/query/templates/issuenavquerybasic",function(){return JIRA.Templates.IssueNavQueryBasic});define("jira/components/query/templates/issuenavqueryjql",function(){return JIRA.Templates.IssueNavQueryJql});define("jira/components/query/templates/issues/componentutil",function(){return JIRA.Templates.Issues.ComponentUtil});AJS.namespace("JIRA.Templates.IssueNavQuery",null,require("jira/components/query/templates/issuenavquery"));AJS.namespace("JIRA.Templates.IssueNavQueryBasic",null,require("jira/components/query/templates/issuenavquerybasic"));AJS.namespace("JIRA.Templates.IssueNavQueryJql",null,require("jira/components/query/templates/issuenavqueryjql"));AJS.namespace("JIRA.Templates.Issues.ComponentUtil",null,require("jira/components/query/templates/issues/componentutil"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/namespace.js' */
AJS.namespace("JIRA.Components.Query",null,require("jira/components/query"));AJS.namespace("JIRA.Issues.QueryModule",null,require("jira/components/query/querymodule"));AJS.namespace("JIRA.Issues.QueryStateModel",null,require("jira/components/query/querystatemodel"));AJS.namespace("JIRA.Issues.QuerySwitcherViewModel",null,require("jira/components/query/queryswitcherviewmodel"));AJS.namespace("JIRA.Issues.QueryView",null,require("jira/components/query/queryview"));AJS.namespace("JIRA.Issues.SwitcherCollection",null,require("jira/components/query/switchercollection"));AJS.namespace("JIRA.Issues.SwitcherModel",null,require("jira/components/query/switchermodel"));AJS.namespace("JIRA.Issues.SwitcherView",null,require("jira/components/query/switcherview"));AJS.namespace("JIRA.Issues.Mixin.SingleSelect",null,require("jira/components/query/mixin/singleselect"));AJS.namespace("JIRA.Issues.JqlQueryModule",null,require("jira/components/query/jql/jqlquerymodule"));AJS.namespace("JIRA.Issues.JqlQueryView",null,require("jira/components/query/jql/jqlqueryview"));AJS.namespace("JIRA.Issues.JQLAutoCompleteView",null,require("jira/components/query/jql/jqlautocompleteview"));AJS.namespace("JIRA.Issues.BasicQueryModule",null,require("jira/components/query/basic/basicquerymodule"));AJS.namespace("JIRA.Issues.SearcherCollection",null,require("jira/components/query/basic/searchercollection"));AJS.namespace("JIRA.Issues.SearcherDialog",null,require("jira/components/query/basic/searcherdialog"));AJS.namespace("JIRA.Issues.SearcherModel",null,require("jira/components/query/basic/searchermodel"));AJS.namespace("JIRA.Issues.BasicQueryView",null,require("jira/components/query/basic/basicqueryview"));AJS.namespace("JIRA.Issues.CardView",null,require("jira/components/query/basic/cardview"));AJS.namespace("JIRA.Issues.ClauseButtonView",null,require("jira/components/query/basic/clausebuttonview"));AJS.namespace("JIRA.Issues.ClauseListDialogView",null,require("jira/components/query/basic/clauselistdialogview"));AJS.namespace("JIRA.Issues.CriteriaModel",null,require("jira/components/query/basic/criteriamodel"));AJS.namespace("JIRA.Issues.CriteriaView",null,require("jira/components/query/basic/criteriaview"));AJS.namespace("JIRA.Issues.ExtendedCriteriaContainerView",null,require("jira/components/query/basic/extendedcriteriacontainerview"));AJS.namespace("JIRA.Issues.PrimaryCriteriaContainerView",null,require("jira/components/query/basic/primarycriteriacontainerview"));AJS.namespace("JIRA.Issues.SearcherEditDialogView",null,require("jira/components/query/basic/searchereditdialogview"));AJS.namespace("JIRA.Issues.SearcherGroupListDialogView",null,require("jira/components/query/basic/searchergrouplistdialogview"));AJS.namespace("JIRA.Issues.TextFieldView",null,require("jira/components/query/basic/textfieldview"));AJS.namespace("JIRA.Issues.TextQueryBuilder",null,require("jira/components/query/basic/textquerybuilder"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-query', location = 'content/js/search/query/SearchShifter.js' */
define("jira/issues/search/query/search-shifter",["require"],function(a){var b=a("jquery");var c=a("jira/components/query/basic/searcherdialog");return function(g){var e;var f;var d;var h;e=function(){var i=g.searcherCollection.chain().filter(d).map(h).value();return function(){return new b.Deferred().resolve(i).promise()}};f=function(k){var i=c.instance.getCurrentSearcher();var j=g.searcherCollection.get(k);if(!j.getIsSelected()){j.select()}if(!i||i.getId()!==j.getId()){c.instance.toggle(j)}};d=function(i){return i.getIsShown()};h=function(i){return{label:i.getName(),value:i.getId()}};return function(){if(!g.isBasicMode()||g.isFullScreenIssue()){return null}return{getSuggestions:e(),name:"Search Criteria",onSelection:f,weight:150}}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-query', location = 'content/js/search/query/namespace.js' */
AJS.namespace("JIRA.Issues.SearchShifter",null,require("jira/issues/search/query/search-shifter"));;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:uri', location = 'libs/uri.js' */
define("jira/components/libs/uri",["atlassian/libs/uri-1.14.1"],function(a){return a});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/templates/splitview.soy' */
// This file was automatically generated from splitview.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.SplitView.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.SplitView == 'undefined') { JIRA.Templates.SplitView = {}; }


JIRA.Templates.SplitView.fullSplitView = function(opt_data, opt_ignored) {
  return '<div class="aui-group split-view"><div class="aui-item list-results-panel"><div class="list-panel"><div class="list-ordering"></div><div class="list-content">' + ((opt_data.issuePanelData) ? JIRA.Templates.SplitView.issueList(opt_data.issuePanelData) : '') + '</div></div><div class="end-of-stable-message-container"></div><div class="aui-group pagination-view count-pagination"><div class="refresh-container aui-item">' + JIRA.Templates.IssueNav.refreshResults(null) + '</div><div class="pagination-container aui-item">' + ((opt_data.pagination) ? JIRA.Templates.IssueNavTable.pagination(opt_data.pagination) : '') + '</div></div></div><div class="aui-item detail-panel navigator-issue-only"><div></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.fullSplitView.soyTemplateName = 'JIRA.Templates.SplitView.fullSplitView';
}


JIRA.Templates.SplitView.issueList = function(opt_data, opt_ignored) {
  var output = '<ol class="issue-list">';
  var iLimit16 = opt_data.issues.length;
  for (var i16 = 0; i16 < iLimit16; i16++) {
    var issue__soy17 = opt_data.issues[i16];
    var issueID__soy18 = opt_data.issueIDs[i16];
    var isHighlighted__soy19 = issueID__soy18 == opt_data.highlightedID;
    output += (issue__soy17) ? '<li ' + ((isHighlighted__soy19) ? 'class="focused"' : '') + ' data-id="' + soy.$$escapeHtml(issueID__soy18) + '" data-key="' + soy.$$escapeHtml(issue__soy17.key) + '" title="' + soy.$$escapeHtml(issue__soy17.summary) + '">' + JIRA.Templates.SplitView.issueRow(issue__soy17) + '</li>' : JIRA.Templates.SplitView.inaccessibleIssueRow({isHighlighted: isHighlighted__soy19, issueID: issueID__soy18});
  }
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.issueList.soyTemplateName = 'JIRA.Templates.SplitView.issueList';
}


JIRA.Templates.SplitView.issueRow = function(opt_data, opt_ignored) {
  return '<a class="splitview-issue-link" data-issue-key="' + soy.$$escapeHtml(opt_data.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.key) + '">' + ((opt_data.type) ? JIRA.Templates.SplitView.issueIcon(opt_data.type) + '&nbsp;' : '') + '<span class="issue-link-key">' + soy.$$escapeHtml(opt_data.key) + '</span><br/><span class="issue-link-summary">' + soy.$$escapeHtml(opt_data.summary) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.issueRow.soyTemplateName = 'JIRA.Templates.SplitView.issueRow';
}


JIRA.Templates.SplitView.issueIcon = function(opt_data, opt_ignored) {
  return '<img height="16" width="16" alt="' + soy.$$escapeHtml(opt_data.name) + '" title="' + soy.$$escapeHtml(opt_data.name) + ' - ' + soy.$$escapeHtml(opt_data.description) + '" src="' + soy.$$escapeHtml(opt_data.iconUrl) + '" />';
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.issueIcon.soyTemplateName = 'JIRA.Templates.SplitView.issueIcon';
}


JIRA.Templates.SplitView.inaccessibleIssueRow = function(opt_data, opt_ignored) {
  return '<li class="inaccessible-issue ' + ((opt_data.isHighlighted) ? 'focused' : '') + '" data-id="' + soy.$$escapeHtml(opt_data.issueID) + '">' + soy.$$escapeHtml("This issue can no longer be opened") + '</li>';
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.inaccessibleIssueRow.soyTemplateName = 'JIRA.Templates.SplitView.inaccessibleIssueRow';
}


JIRA.Templates.SplitView.issueDetailsNoSelection = function(opt_data, opt_ignored) {
  return '<div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.issueDetailsNoSelection.soyTemplateName = 'JIRA.Templates.SplitView.issueDetailsNoSelection';
}
;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/services/Analytics.js' */
define("jira/issues/views/details/analytics",[],function(){return{triggerIssueTableRefresh:function(){JIRA.Issues.Application.execute("analytics:trigger","kickass.issueTableRefresh",{source:"jira.issuenav.global"})},triggerOpenIssueFromTable:function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.openIssueFromTable",{issueId:a.id,absolutePosition:a.absolutePosition+1,relativePosition:a.relativePosition+1,source:"jira.issuenav.global"})},triggerViewIssue:function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssue",{issueId:a.issueId,loadReason:a.loadReason,duration:a.duration,loadedFromDom:false,source:"jira.issuenav.global",projectId:a.projectId,projectType:a.projectType||"unknown",issueMatchesProjectContext:a.issueKey==null?false:a.issueKey.indexOf(a.projectKey+"-")===0})},triggerInlineEdit:function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit",{issueId:a.issueId,savedFieldIds:a.savedFieldIds,savedFieldTypes:a.savedFieldTypes,duration:a.duration,source:"jira.issuenav.global"})},triggerInlineEditStart:function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit.start",{issueId:a.issueId,fieldId:a.fieldId,fieldType:a.fieldType,source:"jira.issuenav.global"})},triggerInlineEditCancel:function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit.cancel",{issueId:a.issueId,fieldId:a.fieldId,fieldType:a.fieldType,source:"jira.issuenav.global"})}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/services/Traces.js' */
define("jira/issues/views/details/traces",[],function(){return{triggerSearchFinished:function(){JIRA.trace("jira.search.finished")},triggerStableUpdate:function(){JIRA.trace("jira.search.stable.update")}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/services/ApplicationAdapter.js' */
define("jira/issues/views/details/application-adapter",[],function(){var c={reqres:{},commands:{}};function b(g,e){for(var f in e){var d=e[f];if(JIRA.Issues.Application.reqres.hasHandler(f)){c[g][f]=JIRA.Issues.Application.reqres.getHandler(f)}else{c[g][f]=null}JIRA.Issues.Application.reqres.setHandler(f,d)}}function a(f){for(var e in c[f]){var d=c[f][e];if(d){JIRA.Issues.Application.reqres.setHandler(e,d)}else{JIRA.Issues.Application.reqres.removeHandler(e)}delete c[f][e]}}return{init:function(d){b("reqres",{"issueEditor:canDismissComment":function(){return d.canDismissComment()},"issueEditor:getIssueId":function(){return d.getActiveIssueId()},"issueEditor:getIssueKey":function(){return d.getActiveIssueKey()},"issueEditor:refreshIssue":function(){return d.refreshIssue()},"issueEditor:isCurrentlyLoading":function(){return d.isLoading()},"issueEditor:hasSavesInProgress":function(){return d.hasSavesInProgress()},"issueEditor:fields":function(){return d.getEditorFields()}});b("commands",{"issueEditor:abortPending":function(){return d.abortPending()},"issueEditor:beforeHide":function(){return d.beforeHide()},"issueEditor:beforeShow":function(){return d.beforeShow()},"issueEditor:removeIssueMetadata":function(){return d.removeIssueMetadata()},"issueEditor:updateIssueWithQuery":function(){return d.updateIssueComponent()},"issueEditor:editField":function(e){return d.editField(e)}})},destroy:function(){a("reqres");a("commands")}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/services/Metrics.js' */
define("jira/issues/views/details/metrics",["jira/util/logger","internal/browser-metrics"],function(a,b){return{viewIssue:function(){b.start({isInitial:true,key:"jira.issue.view",ready:["#key-val",".issue-body-content"]})},startFromPageLoad:function(){b.start({isInitial:true,key:"jira.issue.nav-detail"})},start:function(){a.debug("JSEV-722: AJAX-based transition metric not fired. Need to fix JSEV-1087 first.")},end:function(){b.end({key:"jira.issue.nav-detail"})}}});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/Details.js' */
define("jira/issues/views/details",["jira/components/lib/marionette-2.1.0","jira/components/detailslayout","jira/components/search/results","jira/issues/views/details/metrics","jira/issues/views/details/analytics","jira/issues/views/details/traces","jira/issues/views/details/application-adapter","jira/components/libs/uri"],function(h,e,c,f,b,a,g,d){return h.Object.extend({_buildSearchResults:function(j){this._destroySearchResults();var l=j.getResults();var m=l._getIssueIdsToKeys();var k=l.get("issueIds");var i=_.map(k,function(n){return{id:n,key:m[n]}});this.searchResults=new c([],{totalRecordsInDB:l.get("total"),pageSize:l.get("pageSize"),totalRecordsInSearch:l.get("issueIds").length,issues:i,jql:j.getEffectiveJql(),allowNoSelection:true})},_destroySearchResults:function(){if(this.searchResults){this.stopListening(this.searchResults);delete this.searchResults}},_buildDetailsLayout:function(i){var l=new d().query();var j=new d(AJS.contextPath()+"/issues/").query(l).removeQuery("startIndex");this.detailsLayout=new e({baseURL:j.toString(),shouldUpdateCurrentProject:false});var k=_.bind(this.detailsLayout.adjustSize,this.detailsLayout);this.listenTo(this.detailsLayout,{select:function(m){if(m.id){var o=false;var n=this.search.getResults().getSelectedIssue().getKey();if(!n){o=true}this.search.getResults().selectIssueById(m.id,{replace:o})}},"list:refresh":function(){f.start();b.triggerIssueTableRefresh();this.search.refresh()},"list:sort":function(m){this.search.doSort(m)},"list:update":function(){a.triggerSearchFinished();a.triggerStableUpdate()},"list:render":function(){this.trigger("render")},empty:function(){a.triggerSearchFinished();this.trigger("render")},destroy:function(){JIRA.Issues.offHorizontalResize(k);JIRA.Issues.offVerticalResize(k)},"list:select":function(m){f.start();b.triggerOpenIssueFromTable({issueId:m.id,absolutePosition:m.absolutePosition,relativePosition:m.relativePosition})},"list:pagination":function(){f.start()},editorLoaded:function(m){f.end();b.triggerViewIssue(m)},editorLoadedFromCache:function(){f.end()},"editor:saveSuccess":function(m){b.triggerInlineEdit({issueId:m.event,savedFieldIds:m.savedFieldIds,savedFieldTypes:m.savedFieldTypes,duration:m.duration})},"editor:editField":function(m){b.triggerInlineEditStart({issueId:m.issueId,fieldId:m.fieldId,fieldType:m.fieldType})},"editor:editFieldCancel":function(m){b.triggerInlineEditCancel({issueId:m.issueId,fieldId:m.fieldId,fieldType:m.fieldType})},linkToIssue:function(m){f.viewIssue();i.reset({selectedIssueKey:m.issueKey})}});JIRA.Issues.onHorizontalResize(k);JIRA.Issues.onVerticalResize(k)},_destroyDetailsLayout:function(){this.detailsLayout.destroy();delete this.detailsLayout},_buildSearch:function(i){this.search=i;this.listenTo(this.search.getResults(),{"change:resultsId":this._loadSearch,issueDeleted:function(j){var k=this.searchResults.get(j.id);this.searchResults.removeAndUpdateSelectionIfNeeded(k)}});this.search.getResults().onIssueUpdated(this._handleRefreshIssue);this.listenTo(this.search.getResults().getSelectedIssue(),{change:function(){var j=this.search.getResults().getSelectedIssue().get("id");if(!j){return}if(!this.searchResults){return}if(this.searchResults.selected&&this.searchResults.selected.get("id")!==j){this.detailsLayout.load(this.searchResults,j)}}})},_destroySearch:function(){this.search.getResults().setTable(null,{silent:true});this.search.getResults().offIssueUpdated(this._handleRefreshIssue)},_loadSearch:function(){var i;this._buildSearchResults(this.search);if(this.search.getResults().hasSelectedIssue()){i=this.search.getResults().getSelectedIssue().get("key")}else{if(this.search.getResults().get("startIndex")>0){i=this.searchResults.getIssueKeyForIndex(this.search.getResults().get("startIndex"))}else{if(this.search.getResults().hasHighlightedIssue()){i=this.search.getResults().getHighlightedIssue().get("key")}}}this.detailsLayout.load(this.searchResults,i)},_handleRefreshIssue:function(i){this.detailsLayout.refreshIssue(i)},initialize:function(j){this._handleRefreshIssue=_.bind(this._handleRefreshIssue,this);this._buildDetailsLayout(j.searchPageModule);this._buildSearch(j.search);var i=jQuery("<div></div>");j.searchContainer.find(".navigator-content").html("").append(i);this.container=this.detailsLayout.show(i);jQuery("body").addClass("page-type-split");j.fullScreenIssue.hide();g.init(this.detailsLayout)},render:function(){this._loadSearch()},close:function(){this.destroy()},onDestroy:function(){jQuery("body").removeClass("page-type-split");this._destroyDetailsLayout();this._destroySearch();this._destroySearchResults();g.destroy()},nextIssue:function(){this.detailsLayout.selectNext()},prevIssue:function(){this.detailsLayout.selectPrevious()},isLoading:function(){return this.detailsLayout.isLoading()},isIssueViewActive:function(){return false},focusIssueList:function(){this.detailsLayout.focusList()},focusIssueEditor:function(){this.detailsLayout.focusEditor()}})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/search/FullScreenLayout.js' */
(function(e,b,a,d,c){AJS.namespace("JIRA.Issues.FullScreenLayout");JIRA.Issues.FullScreenLayout=e.Controller.extend({initialize:function(f){this.searchService=new b({searchModule:f.search,searchResults:f.search.getResults(),columnConfig:f.columnConfig});this.$navigatorContent=f.searchContainer.find(".navigator-content");this.issueTable=new a({searchService:this.searchService,el:this.$navigatorContent,columnConfig:f.columnConfig});this.listenTo(this.issueTable,{highlightIssue:function(g){this.searchService.highlightIssue(g)},render:function(){if(!this.searchService.hasSelectedIssue()){this.fullScreenIssue.hide()}this.fullScreenIssue.bindSearchService(this.searchService);this.trigger("render")}});this.fullScreenIssue=f.fullScreenIssue;this.listenTo(this.fullScreenIssue,{issueHidden:function(){this.issueTable.highlightIssue(this.searchService.getHighlightedIssue())}});d.on("issueEditor:loadError",this.onLoadError,this)},onLoadError:function(f){if(!this.fullScreenIssue.isVisible()){this.searchService.unselectIssue();c.showErrorMsg(AJS.format("{0} can not be opened. The issue may have been deleted or you might not have permission to see the issue.",f.issueKey),{closeable:true})}},render:function(){this.issueTable.show()},onClose:function(){this.fullScreenIssue.deactivate();this.issueTable.close();this.searchService.close();d.off("issueEditor:loadError",this.onLoadError,this);delete this.fullScreenIssue;delete this.issueTable;delete this.searchService},nextIssue:function(){this.searchService.selectNextIssue()},prevIssue:function(){this.searchService.selectPreviousIssue()},returnToSearch:function(){this.searchService.unselectIssue()},focusIssueList:function(){},focusIssueEditor:function(){},isIssueViewActive:function(){return this.fullScreenIssue.isVisible()},isLoading:function(){return this.fullScreenIssue.isLoading()}})})(JIRA.Marionette,JIRA.Components.SearchService,JIRA.Components.IssueTable,JIRA.Issues.Application,JIRA.Messages);;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/search/EmptyResultsView.js' */
(function(){AJS.namespace("JIRA.Issues.EmptyResultsView");JIRA.Issues.EmptyResultsView=JIRA.Issues.BaseView.extend({initialize:function(a){this.searchResults=a.searchResults},render:function(){var d;var e;var b;var a;var c=JIRA.Issues.UserParms.get().createIssue;if(!JIRA.Issues.LoginUtils.isLoggedIn()){d="No issues were found to match your search";e="Try \u003ca\u003elogging in\u003c/a\u003e to see more results.";b="not-logged-in-message";a="login"}else{d="No issues were found to match your search";e=c?"Try modifying your search criteria or \u003ca\u003ecreating a new issue\u003c/a\u003e.":"Try modifying your search criteria";b="no-results-message";a="create"}this.$el.addClass("empty-results");this.$el.html(JIRA.Templates.IssueNavTable.noResults({message:d,hint:e,cssClass:b}));var f=this.$(".no-results-hint a");switch(a){case"create":f.addClass("create-issue").attr("href",AJS.contextPath()+"/secure/CreateIssue!default.jspa");break;case"login":f.attr("href",JIRA.Issues.LoginUtils.redirectUrlToCurrent()).addClass("login-link");break}_.defer(jQuery.event.trigger,"updateOffsets.popout");_.defer(JIRA.trace,"jira.search.finished")}})}());;
;
/* module-key = 'com.atlassian.jira.gadgets:searchrequestview-charts', location = 'script/chartpopup/popupuserprefstore.js' */
define("jira/ajs/gadget/chartpopup/user-preference-store",[],function(){"use strict";var e={};return{get:function(r){var t=e[r];return t||{}},set:function(r,t,n){var u=this.get(r);u[t]=n,e[r]=u},clear:function(){e={}}}});;
;
/* module-key = 'com.atlassian.jira.gadgets:searchrequestview-charts', location = 'script/chartpopup/chartdialog.js' */
define("jira/ajs/gadget/chartpopup/chart-dialog-init",["jira/ajs/gadget/chartpopup/user-preference-store","jira/util/data/meta","jira/util/formatter","jira/util/key-code","jira/libs/parse-uri","wrm/context-path","aui/dialog","jquery"],function(chartingstore,Meta,formatter,keyCodes,parseUri,wrmContextPath,AuiDialog,jQuery){"use strict";function initChartDialogTriggers(){jQuery(document).on("click","#charts",function(e){AJS.populateParameters(),launchDialog(contextPath+"/rest/config/1.0/directory.json",800,CHART_HEIGHT,1),e.preventDefault()}),jQuery(document).on("click","#onDashboard",function(e){AJS.populateParameters(),launchDialog(contextPath+"/rest/config/1.0/directory.json",800,CHART_HEIGHT,0),e.preventDefault()})}var contextPath=wrmContextPath(),dialog,DIALOG_ID="charts-dialog",CHARTS_CATEGORY="Charts",CHART_HEIGHT=522,saveFormLoaded=!1,idToUriMap={},dialogThrobber=jQuery('<span class="icon throbber"></span>'),getFilterId=function(){var e=Meta.get("filter-id");return e&&e>=0?e:null},getFilterJql=function(){return Meta.get("filter-jql")},getPostData=function(e){var r={};jQuery.each(e,function(e,t){r[t.name]=t.value});var t=getFilterId();t?r.filterId=t:r.jql=getFilterJql()||"";var a=dialog.getPage(0).curtab;r.gadgetUri=idToUriMap[a];var o=chartingstore.get(a);if(o){var i={};for(var n in o)i[n]=o[n];r.userPrefs=i}return r},loadSaveToDashboardForm=function loadSaveToDashboardForm(){if(!saveFormLoaded){var saveFormUrl=contextPath+"/rest/gadget/1.0/chart/add",filterId=getFilterId();saveFormUrl=filterId?saveFormUrl+"?filterId="+encodeURIComponent(filterId):saveFormUrl+"?jql="+encodeURIComponent(getFilterJql());var saveFormPanel=jQuery("#saveToDashboardPanel");saveFormPanel.empty(),jQuery.ajax({url:saveFormUrl,success:function success(data){saveFormPanel.html(data),saveFormLoaded=!0;var chartForm=saveFormPanel.find("form#savetodashboardform"),saveButton=saveFormPanel.find("#save-btn1");chartForm.submit(function(e){e.preventDefault(),chartForm.find(".error").remove(),chartForm.find(".form-errors p").remove(),chartForm.find(".form-errors").hide(),saveButton.attr("disabled","true");var postData=getPostData(chartForm.serializeArray());jQuery.ajax({url:chartForm.attr("action"),contentType:"application/json",dataType:"text",data:JSON.stringify(postData),type:"POST",success:function(e){chartForm.trigger("fakesubmit"),saveButton.removeAttr("disabled","false"),window.location=e},error:function error(XMLHttpRequest,textStatus,errorThrown){if(saveButton.removeAttr("disabled","false"),400===XMLHttpRequest.status){var errorCollection=eval("("+XMLHttpRequest.responseText+")");errorCollection.generic.length>0&&(jQuery(errorCollection.generic).each(function(e,r){chartForm.find(".form-errors").append("<p>"+r+"</p>")}),chartForm.find(".form-errors").show()),errorCollection.fields.length>0&&jQuery(errorCollection.fields).each(function(e,r){chartForm.find("#"+r.field).after('<div class="error">'+r.error+"</div>")})}}})}),saveFormPanel.find("#cancel-btn1").click(function(e){dialog.prevPage(),saveButton.removeAttr("disabled","false"),chartForm.find(".form-errors").hide(),chartForm.find(".error").remove(),e.preventDefault()})}})}},addThrobber=function(){dialog.popup.element.find(".dialog-button-panel").prepend(dialogThrobber),jQuery().ajaxSend(function(e,r){dialog.popup.element.is(":visible")&&jQuery(r).throbber({target:dialogThrobber})})},addErrorHandler=function(){jQuery().ajaxError(function(e,r,t){500===r.status&&(dialog.hide(),jQuery("body").html(r.responseText))})},keypressListener=function(e){e.keyCode===keyCodes.ESCAPE&&dialog.hide()},createDialog=function(e,r,t){dialog=new AuiDialog(e,r,DIALOG_ID),dialog.addHeader("Gadgets"),resetPanels(t),dialog.addButton("Save to Dashboard",function(e){loadSaveToDashboardForm(),e.nextPage()},"save-to-dashboard"),dialog.addCancel("Cancel",function(e){e.hide()}),dialog.addPage(),dialog.page[1].addPanel("saveToDashBoard",'<div id="saveToDashboardPanel"</div>'),dialog.page[1].addHeader("Save gadget to a Dashboard"),addThrobber(),addErrorHandler(),jQuery(document).keydown(keypressListener)},resetDialog=function(e){if(dialog){saveFormLoaded=!1,jQuery("form[name=chartpopup]").show(),jQuery("input[name=filterName]").val(""),dialog.gotoPage(0);for(var r=0;dialog.getPanel(r);r++){dialog.getPanel(r).loaded=!1}dialog.gotoPanel(e)}},loadChartGadgets=function(e){var r,t=[],a=parseUri(window.location),o=a.protocol+"://"+a.authority;return jQuery(e.gadgets).each(function(e,a){if(a.gadgetSpecUri&&(0!==a.gadgetSpecUri.indexOf("http")||0===a.gadgetSpecUri.indexOf(o))){var i={title:a.title,gadgetUri:a.gadgetSpecUri};a.gadgetSpecUri.indexOf("filter-results")>-1&&(r=i),jQuery([a.categories]).each(function(e,a){if(a.constructor==Array)for(var o=0;o<a.length;++o)a[o]===CHARTS_CATEGORY&&r!=i&&t.push(i);else a===CHARTS_CATEGORY&&r!=i&&t.push(i)})}}),t.sort(function(e,r){return e.title>r.title?1:-1}),r&&t.unshift(r),t},renderPanelContents=function(e,r){e.body.html(r),e.loaded=!0},resetPanels=function(e){var r=loadChartGadgets(e);dialog.gotoPage(0),jQuery(r).each(function(e,r){dialog.page[0].addPanel(r.title,'<div class="loadingPanel">&nbsp;</div>');var t=dialog.getPanel(e);t&&(t.loaded=!1,idToUriMap[e]=r.gadgetUri,t.body.show=function(t,a){return function(){if(!t.loaded){var o=contextPath+"/rest/gadget/1.0/chart/render?id="+e+"&gadgetUri="+encodeURIComponent(r.gadgetUri),i=getFilterId();o=i?o+"&filterId="+encodeURIComponent(i):o+"&jql="+encodeURIComponent(getFilterJql()),jQuery.ajax({url:o,success:function(e){renderPanelContents(t,e)}})}a.call(t.body)}}(t,t.body.show))})},launchDialog=function(e,r,t,a){dialog?(resetDialog(a),dialog.show()):jQuery(jQuery.ajax({url:e,dataType:"json",success:function(e){dialog||createDialog(r,t,e),dialog.show(),dialog.gotoPage(0),dialog.gotoPanel(a)}})).throbber({target:jQuery("#throbber-space")})};return{init:initChartDialogTriggers}});;
;
/* module-key = 'com.atlassian.jira.gadgets:searchrequestview-charts', location = 'script/chartpopup/chartpopup-init.js' */
require(["jira/ajs/gadget/chartpopup/chart-dialog-init","jira/ajs/gadget/chartpopup/user-preference-store","jquery"],function(e,t,r){"use strict";gadgets.IfrGadgetService.prototype.setUserPref=function(e,r,a){var i=this.f;i&&(i=i.substr("gadget-".length)),t.set(i,r,a)},r(function(){e.init()})});;
;
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:standalone-issue-nav', location = 'content/js/search/IssueNavInit.js' */
(function(b){var d=b("jquery");var f=b("backbone");var a=b("underscore");var e=b("jira/ajs/keyboardshortcut/keyboard-shortcut");var c=b("jira/util/data/meta");d(document).on("keydown",function(g){if(g.which===27){g.preventDefault()}});d(function(){JIRA.Issues.Application.start({showReturnToSearchOnError:function(){return JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()!=="split-view"},useLog:c.get("dev-mode")===true});JIRA.Issues.GlobalIssueNavCreator.create(d(document),JIRA.Issues.GlobalIssueNavCreator.readInitialData());f.history.start({root:JIRA.Issues.IssueNavRouter.getBackboneRoot(),pushState:true});if(d.browser.webkit){JIRA.Issues.ignorePopState=true;window.addEventListener("load",function(){a.defer(function(){JIRA.Issues.ignorePopState=false})})}e.addIgnoreCondition(function(j,i,h){return h==="issueaction"&&JIRA.Issues.Api.isCurrentlyLoadingIssue()});var g=parseInt(d("body").css("minWidth"),10);d(document).bind("resultsWidthChanged",function(){var h=d(".contained-content");var k=h.parent();if(h.length>0){var j=h.offset().left;var l=Math.max(window.innerWidth,g)-j;var i=l/k.width()*100;if(i<100){h.css("width",i+"%")}else{h.css("width","")}d(document).trigger("issueNavWidthChanged")}});d(document).trigger("resultsWidthChanged");JIRA.Issues.onVerticalResize(function(){d.event.trigger("updateOffsets.popout")});JIRA.bind(JIRA.Events.LAYOUT_RENDERED,function(){a.defer(function(){d.event.trigger("updateOffsets.popout")})})})}(window.require));;
;
/* module-key = 'com.atlassian.jira.plugins.jira-quicksearch-plugin:commons_common', location = 'frontend/common.js' */
!function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var r=window.atlassianWebpackJsonpe5ed4b01bb42b7893d8aef5bda9bf664;window.atlassianWebpackJsonpe5ed4b01bb42b7893d8aef5bda9bf664=function(t,a,i){for(var c,u,s,f=0,l=[];f<t.length;f++)u=t[f],o[u]&&l.push(o[u][0]),o[u]=0;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c]);for(r&&r(t,a,i);l.length;)l.shift()();if(i)for(f=0;f<i.length;f++)s=n(n.s=i[f]);return s};var t={},o={2:0};n.e=function(e){function r(){c.onerror=c.onload=null,clearTimeout(u);var n=o[e];0!==n&&(n&&n[1](new Error("Loading chunk "+e+" failed.")),o[e]=void 0)}var t=o[e];if(0===t)return new Promise(function(e){e()});if(t)return t[2];var a=new Promise(function(n,r){t=o[e]=[n,r]});t[2]=a;var i=document.getElementsByTagName("head")[0];if({0:!0}[e])return WRM.require("wrc!com.atlassian.jira.plugins.jira-quicksearch-plugin:"+e),a;var c=document.createElement("script");c.type="text/javascript",c.charset="utf-8",c.async=!0,c.timeout=12e4,n.nc&&c.setAttribute("nonce",n.nc),c.src=n.p+"bundle."+e+".js";var u=setTimeout(r,12e4);return c.onerror=c.onload=r,i.appendChild(c),a},n.m=e,n.c=t,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n.oe=function(e){throw console.error(e),e},"undefined"!=typeof AJS&&(n.p=AJS.contextPath()+"/download/resources/com.atlassian.jira.plugins.jira-quicksearch-plugin:assets-2c34fb3d-6a64-4780-851c-47c201bc8d18/")}([]);;
;
/* module-key = 'com.atlassian.jira.plugins.jira-quicksearch-plugin:entrypoint-jira-quicksearch-plugin', location = 'frontend/bundle.jira-quicksearch-plugin.js' */
atlassianWebpackJsonpe5ed4b01bb42b7893d8aef5bda9bf664([1],[function(e,t){e.exports=require("jquery")},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.QUICK_SEARCH_RESULTS_EMPTY_STATE=t.QUICK_SEARCH_PARENT_LOADING_CLASS=t.QUICK_SEARCH_SPINNER_LOCATOR_CLASS=t.QUICK_SEARCH_SPINNER_CLASS=t.QUICK_SEARCH_INPUT_LOCATOR=t.QUICK_SEARCH_INPUT_ID=t.QUICK_SEARCH_FEATURE_FLAG=void 0;var r=n(5),u=i(r),a=n(2),s=i(a),o=s.default,c=(t.QUICK_SEARCH_FEATURE_FLAG="jira.quick.search",t.QUICK_SEARCH_INPUT_ID="quickSearchInput"),l=t.QUICK_SEARCH_INPUT_LOCATOR="#"+c,_=t.QUICK_SEARCH_SPINNER_CLASS="quick-search-spinner";t.QUICK_SEARCH_SPINNER_LOCATOR_CLASS=l+" ~ ."+_,t.QUICK_SEARCH_PARENT_LOADING_CLASS="quicksearch-loading",t.QUICK_SEARCH_RESULTS_EMPTY_STATE=Object.freeze([{id:"quick-search-issues",items:[],name:"Issues",url:(0,u.default)()+"/issues/?jql=order+by+lastViewed+DESC",viewAllTitle:"View all issues"},{id:"quick-search-projects",items:[],name:"ultimate.search.group.projects.name",url:(0,u.default)()+"/projects?selectedCategory=all&selectedProjectType=all&contains=",viewAllTitle:"View all projects"}])},function(e,t){e.exports=require("jira/util/formatter")},function(e,t){e.exports=require("jira/analytics")},function(e,t){e.exports=require("underscore")},function(e,t){e.exports=require("wrm/context-path")},function(e,t,n){"use strict";function i(){return(0,c.default)(_.QUICK_SEARCH_SPINNER_LOCATOR_CLASS)}function r(){return(0,c.default)(_.QUICK_SEARCH_INPUT_LOCATOR)}function u(){return r().parent()}function a(){u().addClass(_.QUICK_SEARCH_PARENT_LOADING_CLASS),i().spin()}function s(){u().removeClass(_.QUICK_SEARCH_PARENT_LOADING_CLASS),i().spinStop()}Object.defineProperty(t,"__esModule",{value:!0}),t.spinStart=a,t.spinStop=s;var o=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(o),l=n(1),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),u=i(r),a=n(4),s=i(a),o=n(3),c=i(o);n(8);var l=n(6),_=n(1),d=n(9),f=i(d),C=n(10),S=s.default.once(function(){(0,l.spinStart)(),n.e(0).then(n.bind(null,12))});(0,u.default)(function(){if(f.default.isFeatureEnabled(_.QUICK_SEARCH_FEATURE_FLAG)){c.default.send({name:"quicksearch.enabled"});var e=(0,u.default)(_.QUICK_SEARCH_INPUT_LOCATOR);e.after('<div class="'+_.QUICK_SEARCH_SPINNER_CLASS+'"></div>'),e.on("beforeBlurInput",function(e){e.preventDefault()}),e.focus(S),e.is(":focus")&&S()}}),(0,u.default)(window).load(function(){f.default.isFeatureEnabled(_.QUICK_SEARCH_FEATURE_FLAG)&&(0,C.showOnboardingTip)()})},function(e,t){},function(e,t){e.exports=require("jira/featureflags/feature-manager")},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return"<div><p>"+e+"</p></div>"}function u(){if(0!==(0,f.default)(S).length){var e={anchor:S,id:"qs-onboarding-tip",isSequence:!1,showCloseButton:!0,closeButtonText:"OK, got it",callbacks:{hide:function(){return c.default.send({name:"quicksearch.onboarding.tip.dissmised"})}},title:"Find your work faster",bodyHtml:r("Search through all your issues and projects, and have the most important work always at your fingertips. Start typing to search...")},t=new s.default(e);if(!t.isDismissed()){if(t.show(),!t.isVisible())return void c.default.send({name:"quicksearch.onboarding.tip.notshown"});c.default.send({name:"quicksearch.onboarding.tip.shown"})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.showOnboardingTip=u;var a=n(11),s=i(a),o=n(3),c=i(o),l=n(2),_=i(l),d=n(0),f=i(d),C=_.default,S="#quicksearch-menu:visible"},function(e,t){e.exports=require("jira-help-tips/feature/help-tip")}],[7]);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-header-async', location = 'src/js/aui/header-async.js' */
("undefined"===typeof window?global:window).__4ce6348b01d75d9a324f6144c0ea40a3=function(){var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=__455206c30630fecc55c648cca374a3ea,c=a&&a.__esModule?a:{"default":a},a=(a=__0ac9a2c09f995a9c0a478af8742f59b7)&&a.__esModule?a:{"default":a},a=(0,a.default)("aui-header",{type:a.default.type.CLASSNAME,created:function(a){(0,c.default)(a)}});b.default=a;return b=b["default"]}.call(this);;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.soy' */
// This file was automatically generated from appswitcher.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher == 'undefined') { navlinks.templates.appswitcher = {}; }


navlinks.templates.appswitcher.linkSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    output += '<div class="aui-nav-heading sidebar-section-header">' + soy.$$escapeHtml(opt_data.title) + '</div><ul class="aui-nav nav-links">';
    var linkList8 = opt_data.list;
    var linkListLen8 = linkList8.length;
    for (var linkIndex8 = 0; linkIndex8 < linkListLen8; linkIndex8++) {
      var linkData8 = linkList8[linkIndex8];
      output += navlinks.templates.appswitcher.applicationsItem(linkData8);
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.linkSection.soyTemplateName = 'navlinks.templates.appswitcher.linkSection';
}


navlinks.templates.appswitcher.applicationsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link"><a href="' + soy.$$escapeHtml(opt_data.link) + '" ' + ((opt_data.self) ? 'class="checked"' : '') + ' title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span></a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.applicationsItem.soyTemplateName = 'navlinks.templates.appswitcher.applicationsItem';
}


navlinks.templates.appswitcher.shortcutsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link"><a href="' + soy.$$escapeHtml(opt_data.link) + '" ' + ((opt_data.self) ? 'class="checked"' : '') + ' title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.shortcutsItem.soyTemplateName = 'navlinks.templates.appswitcher.shortcutsItem';
}


navlinks.templates.appswitcher.error = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-error">' + soy.$$filterNoAutoescape("Something went wrong, please \x3cspan class\x3d\x22app-switcher-retry\x22\x3etry again\x3c/span\x3e.") + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.error.soyTemplateName = 'navlinks.templates.appswitcher.error';
}


navlinks.templates.appswitcher.sidebarContents = function(opt_data, opt_ignored) {
  return '<div class="aui-page-panel-nav"><nav class="aui-navgroup aui-navgroup-vertical"><div class="app-switcher-section app-switcher-applications"><div class="aui-nav-heading">' + soy.$$escapeHtml("Application Links") + '</div><div class="app-switcher-loading">' + soy.$$filterNoAutoescape("Loading\x26hellip;") + '</div></div><div class="app-switcher-section app-switcher-shortcuts"><div class="aui-nav-heading">' + soy.$$escapeHtml("Shortcuts") + '</div><div class="app-switcher-loading">' + soy.$$filterNoAutoescape("Loading\x26hellip;") + '</div></div></nav></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.sidebarContents.soyTemplateName = 'navlinks.templates.appswitcher.sidebarContents';
}


navlinks.templates.appswitcher.trigger = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-appswitcher">' + soy.$$escapeHtml("Linked Applications") + '</span>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.trigger.soyTemplateName = 'navlinks.templates.appswitcher.trigger';
}


navlinks.templates.appswitcher.projectHeaderSection = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-title">' + aui.avatar.avatar({size: 'large', avatarImageUrl: opt_data.avatarUrl, isProject: true, title: opt_data.name}) + '<div class="sidebar-project-name">' + soy.$$escapeHtml(opt_data.name) + '</div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.projectHeaderSection.soyTemplateName = 'navlinks.templates.appswitcher.projectHeaderSection';
}


navlinks.templates.appswitcher.cogDropdown = function(opt_data, opt_ignored) {
  var output = '';
  var dropdownList__soy74 = '' + navlinks.templates.appswitcher.dropdownList({list: opt_data.links});
  output += aui.dropdown2.dropdown2({menu: {id: opt_data.id, content: dropdownList__soy74, extraClasses: 'aui-style-default sidebar-customize-section'}, trigger: {showIcon: false, content: '<span class="aui-icon aui-icon-small aui-iconfont-configure"></span>', container: '#app-switcher'}});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.cogDropdown.soyTemplateName = 'navlinks.templates.appswitcher.cogDropdown';
}


navlinks.templates.appswitcher.dropdownList = function(opt_data, opt_ignored) {
  var output = '<ul class="sidebar-admin-links">';
  var linkList82 = opt_data.list;
  var linkListLen82 = linkList82.length;
  for (var linkIndex82 = 0; linkIndex82 < linkListLen82; linkIndex82++) {
    var linkData82 = linkList82[linkIndex82];
    output += '<li class="nav-link"><a href="' + soy.$$escapeHtml(linkData82.href) + '" title="' + soy.$$escapeHtml(linkData82.title) + '"><span class="nav-link-label">' + soy.$$escapeHtml(linkData82.label) + '</span></a></li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.dropdownList.soyTemplateName = 'navlinks.templates.appswitcher.dropdownList';
}


navlinks.templates.appswitcher.switcher = function(opt_data, opt_ignored) {
  var output = '';
  if (true) {
    if (AJS.DarkFeatures.isEnabled('rotp.sidebar')) {
      var sidebarContents__soy97 = '' + navlinks.templates.appswitcher.sidebarContents(null);
      var triggerContent__soy99 = '' + navlinks.templates.appswitcher.trigger(null);
      output += navlinks.templates.appswitcher.sidebar({sidebar: {id: 'app-switcher', content: sidebarContents__soy97}, trigger: {showIcon: false, content: triggerContent__soy99}});
    } else {
      output += navlinks.templates.appswitcher_old.switcher(null);
    }
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.switcher.soyTemplateName = 'navlinks.templates.appswitcher.switcher';
}


navlinks.templates.appswitcher.sidebar = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.sidebar.id) + '" class="sidebar-trigger app-switcher-trigger" aria-owns="' + soy.$$escapeHtml(opt_data.sidebar.id) + '" aria-haspopup="true" data-is-user-admin="' + soy.$$escapeHtml(false) + '" data-is-sidebar="true" >' + soy.$$filterNoAutoescape(opt_data.trigger.content) + '</a><div id=' + soy.$$escapeHtml(opt_data.sidebar.id) + ' class="app-switcher-sidebar aui-style-default sidebar-offscreen">' + soy.$$filterNoAutoescape(opt_data.sidebar.content) + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.sidebar.soyTemplateName = 'navlinks.templates.appswitcher.sidebar';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.js' */
(function(e,a){var d="is-user-admin";var c="#app-switcher";a.SideBar=function(f){var g=this;this.$sidebar=null;f=e.extend({sidebarContents:null},f);this.getLinks=function(){return e.ajax({url:AJS.contextPath()+"/rest/menu/latest/appswitcher",cache:false,dataType:"json"}).done(this.updateAppLinks).fail(this.showAppSwitcherError)};this.populateProjectHeader=function(i,h){g.getSidebar().find(".app-switcher-shortcuts .aui-nav-heading").after(navlinks.templates.appswitcher.projectHeaderSection({avatarUrl:h,name:i}))};this.getProjectData=function(){var h=e(".project-shortcut-dialog-trigger"),i=h.data("key"),j=h.data("entity-type");if(h.size()==0||!i||!j){e(".app-switcher-shortcuts").remove();return}var l,k;k=e.ajax({url:AJS.contextPath()+"/rest/project-shortcuts/1.0/local/"+i,cache:false,data:{entityType:j},dataType:"json"});l=e.ajax({url:AJS.contextPath()+"/rest/project-shortcuts/1.0/remote/"+i,cache:false,data:{entityType:j},dataType:"json"});e.when(k,l).then(function(n,m){g.updateProjectShortcuts(n,m,{key:i,entityType:j,name:h.data("name"),avatarUrl:h.find("img").prop("src")})},g.showProjectShortcutsError)};this.getSidebar=function(){if(!this.$sidebar){this.$sidebar=e(f.sidebarContents)}return this.$sidebar};this.addApplicationsCog=function(){e(".app-switcher-applications .aui-nav-heading").before(navlinks.templates.appswitcher.cogDropdown({id:"sidebar-applications-admin-dropdown",links:[{href:AJS.contextPath()+"/plugins/servlet/customize-application-navigator",label:"Customize navigator",title:"Add new entries, hide existing or restrict who sees what"},{href:AJS.contextPath()+"/plugins/servlet/applinks/listApplicationLinks",label:"Manage application links",title:"Link to more Atlassian applications"}]}))};this.addProjectShortcutsCog=function(h,j){var i=[{href:AJS.contextPath()+"/plugins/servlet/custom-content-links-admin?entityKey="+h,label:"Customize shortcuts",title:""}];if(g.entityMappings[j]){i.push({href:g.generateEntityLinksUrl(h,g.entityMappings[j]),label:"Manage product links",title:""})}g.getSidebar().find(".app-switcher-shortcuts .aui-nav-heading").before(navlinks.templates.appswitcher.cogDropdown({id:"sidebar-project-shortcuts-admin-dropdown",links:i}))};this.updateAppLinks=function(h){e(function(){g.getSidebar().find(".app-switcher-applications").html(navlinks.templates.appswitcher.linkSection({title:"Application Links",list:h}));if(g.getSidebar().data(d)){g.addApplicationsCog()}g.bindAnalyticsHandlers(g.getSidebar(),h)})};this.updateProjectShortcuts=function(k,i,j){var l=k[0].shortcuts,h=i[0].shortcuts;g.getSidebar().find(".app-switcher-shortcuts").html(navlinks.templates.appswitcher.linkSection({title:"Shortcuts",list:l.concat(h)}));if(g.getSidebar().data(d)){g.addProjectShortcutsCog(j.key,j.entityType)}g.populateProjectHeader(j.name,j.avatarUrl);g.bindAnalyticsHandlers(g.getSidebar(),data)};this.entityMappings={"confluence.space":"com.atlassian.applinks.api.application.confluence.ConfluenceSpaceEntityType","jira.project":"com.atlassian.applinks.api.application.jira.JiraProjectEntityType","bamboo.project":"com.atlassian.applinks.api.application.bamboo.BambooProjectEntityType","stash.project":"com.atlassian.applinks.api.application.stash.StashProjectEntityType"};this.generateEntityLinksUrl=function(h,i){if(i===g.entityMappings["confluence.space"]){return AJS.contextPath()+"/spaces/listentitylinks.action?typeId="+i+"&key="+h}else{return AJS.contextPath()+"/plugins/servlet/applinks/listEntityLinks/"+i+"/"+h}};this.showAppSwitcherError=function(){e(function(){var h=g.getSidebar();h.find(".app-switcher-applications .app-switcher-loading").replaceWith(navlinks.templates.appswitcher.error());h.off(".appswitcher").on("click.appswitcher",".app-switcher-retry",e.proxy(g.retryLoading,g))})};this.showProjectShortcutsError=function(){e(function(){var h=g.getSidebar();h.find(".app-switcher-shortcuts .app-switcher-loading").replaceWith(navlinks.templates.appswitcher.error());h.off(".appswitcher").on("click.appswitcher",".app-switcher-retry",e.proxy(g.retryLoading,g))})};this.retryLoading=function(h){this.getSidebar().html(navlinks.templates.appswitcher.sidebarContents());this.getLinks();this.getProjectData();h&&h.stopPropagation()};this.bindAnalyticsHandlers=function(h,i){};this.getLinks();e(this.getProjectData);this.toggleSidebar=function(j){var k=g.getSidebar(),i=e("body"),h=e(window.document);if(!i.hasClass("app-switcher-open")){var m=e("#header");k.css("left",-k.width());k.parent("body").length||k.appendTo("body");b({data:k});k.animate({left:0},300);function l(n){var p=n.target&&e(n.target),o=n.keyCode;if(n.originalEvent===j.originalEvent){return}if(p&&!o&&!(p.closest(k).length||p.closest(m).length)&&j.which==1&&!(n.shiftKey||n.ctrlKey||n.metaKey)){g.toggleSidebar()}else{if(o===27){g.toggleSidebar()}}}h.on("click.appSwitcher",l);h.on("keydown.appSwitcher",l);h.on("scroll.appSwitcher",k,b)}else{h.off(".appSwitcher")}i.toggleClass("app-switcher-open")};e("#header").on("click",".app-switcher-trigger",this.toggleSidebar)};function b(h){var f=e(document).scrollTop(),i=e("#header"),g=(i.height()+i.offset().top)-f;if(g>=0){h.data.css({top:g,position:"fixed"})}else{h.data.css({top:0,left:0,position:"fixed"})}}e(function(){if(e(c).data("is-sidebar")===true){new a.SideBar({sidebarContents:c})}})}(jQuery,window.NL=(window.NL||{})));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher_old.js' */
var APPSWITCHER_TRIGGER_CLICK="appswitcher.trigger.click";var APPSWITCHER_DROPDOWN_SHOW="appswitcher.dropdown.show";var APPSWITCHER_DROPDOWN_DISPLAY_ERROR="appswitcher.dropdown.display.error";var APPSWITCHER_APP_LINK_CLICK="appswitcher.app.link.click";var APPSWITCHER_CONFIGURE_LINK_CLICK="appswitcher.configure.link.click";(function(c,f){var b="isAppSuggestionAvailable";var d="isSiteAdminUser";var e="isUserAdmin";var a="#app-switcher";f.AppSwitcher=function(j){var l=AJS.contextPath()+"/plugins/servlet/customize-application-navigator";var k="unified.usermanagement";var m=this;this.$dropdown=null;j=c.extend({dropdownContents:null},j);this.getLinks=function(){return c.ajax({url:AJS.contextPath()+"/rest/menu/latest/appswitcher",cache:false,dataType:"json"}).done(this.updateDropdown).fail(this.showError)};this.getDropdown=function(){if(!this.$dropdown){this.$dropdown=c(j.dropdownContents);this.envData=this.$dropdown.data("environment")}return this.$dropdown};this.updateDropdown=function(n){c(function(){m.getDropdown().html(navlinks.templates.appswitcher_old.applications({apps:n,showAdminLink:m.envData[e],adminLink:l}));m.bindAnalyticsHandlers();if(m.envData[b]===true){m.handleSuggestionApps(n)}})};this.bindAnalyticsHandlers=function(){c(".app-switcher-trigger").on("click",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_TRIGGER_CLICK})});c("#app-switcher").on("aui-dropdown2-show",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_DROPDOWN_SHOW})});c("#app-switcher .nav-link").on("click",function(){var p="custom";var q=c(this).find("a");var o=q.attr("href");var n=window.location.hostname;if(o&&o.indexOf("bitbucket.org")>-1){p="bitbucket-cloud"}else{if(o.indexOf(n+"/wiki")>-1){p="confluence"}else{if(o.indexOf(n+"/build")>-1){p="bamboo"}else{if(o.indexOf(n)>-1){p="jira"}}}}AJS.trigger("analyticsEvent",{name:APPSWITCHER_APP_LINK_CLICK,data:{product:p}})});c(".nav-link-edit-wrapper").on("click",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_CONFIGURE_LINK_CLICK})})};this.isBillingSystemEnabled=function(){return(this.envData[d]===true)&&AJS.DarkFeatures.isEnabled(k)};this.handleSuggestionApps=function(q){var r=_.map(q,function(s){return s.applicationType.toLowerCase()});var o=c("<div id='app-switcher-suggestion-apps' class='aui-dropdown2-section'/>");o.html(navlinks.templates.appswitcher_old.suggestionApps);var p=o.find(".suggestion-apps");var n=false;_.each(g,function(s){if(!_.contains(r,s.appName)){n=true;p.append(navlinks.templates.appswitcher_old.suggestionApp({suggestionApp:s,isBillingSystemEnabled:m.isBillingSystemEnabled()}))}});if(!n){return}c("#app-switcher").append(o);c(".app-discovery-suggestion-app").click(function(){var t=c(this).find("a");var s;if(m.envData[d]===true){s="appswitcher.discovery.siteadmin.select.inproduct."}else{s="appswitcher.discovery.user.select."}s=s+t.attr("id").toLowerCase();AJS.trigger("analytics",{name:s})});c(".app-discovery-suggestion-app").hover(function(){c(this).find("a").removeClass("active").removeClass("aui-dropdown2-active")});c(".app-discovery-cancel-button").click(function(){AJS.trigger("analytics",{name:"appswitcher.discovery.nothanks.button.click"});i(h,"true");o.remove()})};this.showError=function(){c(function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_DROPDOWN_DISPLAY_ERROR});m.getDropdown().html(navlinks.templates.appswitcher_old.error()).off(".appswitcher").on("click.appswitcher",".app-switcher-retry",c.proxy(m.retryLoading,m))})};this.retryLoading=function(n){this.getDropdown().html(navlinks.templates.appswitcher_old.loading());this.getLinks();n&&n.stopPropagation()};this.getLinks()};var h="key-no-thanks";var g=[{appName:"jira",appDesc:"Issue & Project Tracking Software",discoveryUrl:"https://www.atlassian.com/software/jira",billingSystemDiscoveryUrl:"/admin/billing/addapplication"},{appName:"confluence",appDesc:"Collaboration and content sharing",discoveryUrl:"https://www.atlassian.com/software/confluence",billingSystemDiscoveryUrl:"/admin/billing/addapplication?product=confluence.ondemand"},{appName:"bamboo",appDesc:"Continuous integration",discoveryUrl:"https://www.atlassian.com/software/bamboo",billingSystemDiscoveryUrl:"/admin/billing/addapplication?product=bamboo.ondemand"}];var i=function(j,k){c.ajax({url:AJS.contextPath()+"/rest/menu/latest/userdata/",type:"PUT",contentType:"application/json",data:JSON.stringify({key:j,value:k})})};c(function(){if(c(a).data("is-switcher")===true){new f.AppSwitcher({dropdownContents:a})}})}(jQuery,window.NL=(window.NL||{})));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher_old.soy' */
// This file was automatically generated from appswitcher_old.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher_old.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher_old == 'undefined') { navlinks.templates.appswitcher_old = {}; }


navlinks.templates.appswitcher_old.applications = function(opt_data, opt_ignored) {
  return '' + navlinks.templates.appswitcher_old.applicationsSection({list: opt_data.apps, listClass: 'nav-links', showDescription: opt_data.showDescription}) + ((opt_data.custom) ? navlinks.templates.appswitcher_old.applicationsSection({list: opt_data.custom, showDescription: opt_data.showDescription}) : '') + ((opt_data.showAdminLink) ? navlinks.templates.appswitcher_old.adminSection(opt_data) : '');
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applications.soyTemplateName = 'navlinks.templates.appswitcher_old.applications';
}


navlinks.templates.appswitcher_old.applicationsSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    var param19 = '<ul' + ((opt_data.listClass) ? ' class="' + soy.$$escapeHtml(opt_data.listClass) + '"' : '') + '>';
    var linkList27 = opt_data.list;
    var linkListLen27 = linkList27.length;
    for (var linkIndex27 = 0; linkIndex27 < linkListLen27; linkIndex27++) {
      var linkData27 = linkList27[linkIndex27];
      param19 += navlinks.templates.appswitcher_old.applicationsItem(soy.$$augmentMap(linkData27, {showDescription: opt_data.showDescription}));
    }
    param19 += '</ul>';
    output += aui.dropdown2.section({content: param19});
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applicationsSection.soyTemplateName = 'navlinks.templates.appswitcher_old.applicationsSection';
}


navlinks.templates.appswitcher_old.applicationsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link' + ((opt_data.self) ? ' nav-link-local' : '') + '"><a href="' + soy.$$escapeHtml(opt_data.link) + '" class="aui-dropdown2-radio ' + ((opt_data.self) ? 'aui-dropdown2-checked' : '') + '" title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applicationsItem.soyTemplateName = 'navlinks.templates.appswitcher_old.applicationsItem';
}


navlinks.templates.appswitcher_old.adminSection = function(opt_data, opt_ignored) {
  return '' + aui.dropdown2.section({content: '<ul class="nav-links"><li><a class="nav-link-edit-wrapper" href="' + soy.$$escapeHtml(opt_data.adminLink) + '"><span class="nav-link-edit">' + soy.$$filterNoAutoescape("Configure\x26hellip;") + '</span></a></li></ul>'});
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.adminSection.soyTemplateName = 'navlinks.templates.appswitcher_old.adminSection';
}


navlinks.templates.appswitcher_old.error = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-error">' + soy.$$filterNoAutoescape("Something went wrong, please \x3cspan class\x3d\x22app-switcher-retry\x22\x3etry again\x3c/span\x3e.") + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.error.soyTemplateName = 'navlinks.templates.appswitcher_old.error';
}


navlinks.templates.appswitcher_old.loading = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-loading">' + soy.$$filterNoAutoescape("Loading\x26hellip;") + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.loading.soyTemplateName = 'navlinks.templates.appswitcher_old.loading';
}


navlinks.templates.appswitcher_old.trigger = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-appswitcher">' + soy.$$escapeHtml("Linked Applications") + '</span>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.trigger.soyTemplateName = 'navlinks.templates.appswitcher_old.trigger';
}


navlinks.templates.appswitcher_old.switcher = function(opt_data, opt_ignored) {
  var output = '';
  if (true) {
    var loadingContent__soy81 = '' + navlinks.templates.appswitcher_old.loading(null);
    var triggerContent__soy83 = '' + navlinks.templates.appswitcher_old.trigger(null);
    output += aui.dropdown2.dropdown2({menu: {id: 'app-switcher', content: loadingContent__soy81, extraClasses: 'aui-style-default', extraAttributes: {'data-environment': {}, 'data-is-switcher': 'true'}}, trigger: {showIcon: false, content: triggerContent__soy83, extraClasses: 'app-switcher-trigger', extraAttributes: {href: '#app-switcher'}}});
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.switcher.soyTemplateName = 'navlinks.templates.appswitcher_old.switcher';
}


navlinks.templates.appswitcher_old.suggestionApp = function(opt_data, opt_ignored) {
  var output = '';
  var href__soy89 = opt_data.isBillingSystemEnabled == true ? opt_data.suggestionApp.billingSystemDiscoveryUrl : opt_data.suggestionApp.discoveryUrl;
  output += '<li class="app-discovery-suggestion-app"><a id="' + soy.$$escapeHtml(opt_data.suggestionApp.appName) + '" href="' + soy.$$escapeHtml(href__soy89) + '" class="app-discovery-link aui-icon-container app-discovery-' + soy.$$escapeHtml(opt_data.suggestionApp.appName) + '-product-icon" title="' + soy.$$escapeHtml(href__soy89) + '" target="_blank"/><div class="app-discovery-small">' + soy.$$escapeHtml(opt_data.suggestionApp.appDesc) + '</div></li>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.suggestionApp.soyTemplateName = 'navlinks.templates.appswitcher_old.suggestionApp';
}


navlinks.templates.appswitcher_old.suggestionApps = function(opt_data, opt_ignored) {
  return '<ul class=\'nav-links suggestion-apps\'><li><span class=\'app-discovery-suggest-title nav-link-label\'><h6>' + soy.$$escapeHtml("Try other Atlassian apps") + '</h6></span></li></ul><div class=\'buttons-container app-discovery-suggest-apps-buttons\'><div class=\'buttons\'><button class=\'aui-button aui-button-link app-discovery-cancel-button\' name=\'cancel\' accesskey=\'c\' href=\'#\'>' + soy.$$escapeHtml("Don\x27t show this again") + '</button></div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.suggestionApps.soyTemplateName = 'navlinks.templates.appswitcher_old.suggestionApps';
}
;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:header-templates', location = 'soy/headerDropdown.soy' */
// This file was automatically generated from headerDropdown.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Menu.Dropdowns.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Menu == 'undefined') { JIRA.Templates.Menu = {}; }
if (typeof JIRA.Templates.Menu.Dropdowns == 'undefined') { JIRA.Templates.Menu.Dropdowns = {}; }


JIRA.Templates.Menu.Dropdowns.dropdown2Fragment = function(opt_data, opt_ignored) {
  var output = '';
  var sectionList3 = opt_data.sections;
  var sectionListLen3 = sectionList3.length;
  for (var sectionIndex3 = 0; sectionIndex3 < sectionListLen3; sectionIndex3++) {
    var sectionData3 = sectionList3[sectionIndex3];
    output += JIRA.Templates.Menu.Dropdowns.dropdown2Section(sectionData3);
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Fragment.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Fragment';
}


JIRA.Templates.Menu.Dropdowns.dropdown2Section = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  var hasItems__soy7 = opt_data.items && opt_data.items.length > 0;
  if (hasItems__soy7) {
    output += '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dropdown2-section' + ((opt_data.style) ? soy.$$escapeHtml(opt_data.style) : '') + '" >' + ((opt_data.label) ? '<strong>' + soy.$$escapeHtml(opt_data.label) + '</strong>' : '') + '<ul class="aui-list-truncate">';
    var itemList27 = opt_data.items;
    var itemListLen27 = itemList27.length;
    for (var itemIndex27 = 0; itemIndex27 < itemListLen27; itemIndex27++) {
      var itemData27 = itemList27[itemIndex27];
      output += '<li' + ((itemData27.id) ? ' id="' + soy.$$escapeHtml(itemData27.id) + '"' : '') + ((itemData27.style) ? ' class="' + soy.$$escapeHtml(itemData27.style) + '"' : '') + '>' + JIRA.Templates.Menu.Dropdowns.dropdown2Item(itemData27) + '</li>';
    }
    output += '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Section.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Section';
}


JIRA.Templates.Menu.Dropdowns.dropdown2Item = function(opt_data, opt_ignored) {
  var output = '<a href="' + soy.$$escapeHtml(opt_data.url) + '"' + ((opt_data.parameters && opt_data.parameters.trackClick) ? ' data-track-click="' + soy.$$escapeHtml(opt_data.parameters.trackClick) + '"' : '') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '_lnk"' : '') + ' class="' + ((opt_data.iconUrl) ? 'aui-icon-container' : '') + ((opt_data.parameters && opt_data.parameters['class']) ? ' ' + soy.$$escapeHtml(opt_data.parameters['class']) : '') + '"';
  if (opt_data.parameters) {
    var keyList69 = soy.$$getMapKeys(opt_data.parameters);
    var keyListLen69 = keyList69.length;
    for (var keyIndex69 = 0; keyIndex69 < keyListLen69; keyIndex69++) {
      var keyData69 = keyList69[keyIndex69];
      output += (keyData69 != 'class' && keyData69 != 'iconurl') ? ' ' + soy.$$escapeHtml(keyData69) + '="' + soy.$$escapeHtml(opt_data.parameters[keyData69]) + '"' : '';
    }
  }
  output += '>' + ((opt_data.iconUrl) ? '<img class="icon" src="' + soy.$$escapeHtml(opt_data.iconUrl) + '" alt="" />' : '') + soy.$$escapeHtml(opt_data.label) + '</a>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Item.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Item';
}
;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:analytics-header', location = 'js/header-analytics.js' */
define("jira/header/init-header-analytics",["jira/analytics","jira/util/logger","jquery"],function(n,t,e){"use strict";function i(n,t){var e=void 0;return n.forEach(function(n){n.id===t&&(e=n.analyticEventKey)}),e}function o(o){var m=e(o);m.on("click","#logo",function(){n.send({name:a+"home"}),t.trace(r)}),m.on("aui-dropdown2-show",l,function(){var n=e(this).attr("id");c(u,n)&&d(n,u,".open")}),m.on("aui-dropdown2-hide",l,function(){var n=e(this).attr("id");c(u,n)&&d(n,u,".close")}),m.on("aui-dropdown2-show",s,function(){var n=e(this);n.trigger("aui-dropdown2-show-before"),n.trigger("aui-dropdown2-show-after")}),m.on("click",y,function(){var n=this.getAttribute("aria-controls");c(u,n)&&d(n,u,".click")}),m.on("click",".aui-dropdown2 .aui-dropdown2-section a",function(o){var c=e(o.target).closest(l).first();if(null!==c){var d=c.find("a").index(o.target),s=c.attr("id"),y=i(u,s);n.send({name:a+y+".item.click",itemIndex:d}),t.trace(r)}})}var a="jira.navigation.header.",r="jira.header.analytics.event",c=function(n,t){return n.some(function(n){return n.id===t})},d=function(e,o,c){var d=i(o,e),u=a+d+c;n.send({name:u}),t.trace(r)},u=[{id:"home_link-content",analyticEventKey:"dashboards"},{id:"browse_link-content",analyticEventKey:"projects"},{id:"find_link-content",analyticEventKey:"issues"},{id:"tempo_menu-content",analyticEventKey:"tempo"},{id:"bonfire_top_menu_dropdown-content",analyticEventKey:"capture"},{id:"greenhopper_menu-content",analyticEventKey:"boards"},{id:"plugins-jira-webitem-main-content",analyticEventKey:"portfolio"},{id:"system-help-menu-content",analyticEventKey:"help"},{id:"system-admin-menu-content",analyticEventKey:"admin"}],s="#system-help-menu-content, #user-options-content, #system-admin-menu-content",l=u.map(function(n){return"#"+n.id}).join(", "),y=u.reduce(function(n,t){return n+"a.aui-dropdown2-trigger[aria-owns="+t.id+"], "},"");return{init:o}});;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header-assets', location = 'js/init-dropdown2.js' */
define("jira/header/dropdown/element",["jira/ajs/ajax/smart-ajax","jira/jquery/deferred","jira/skate","jira/util/data/meta","wrm/context-path","jquery"],function(e,a,t,o,n,r){"use strict";return t("aui-dropdown2-ajax",{type:t.type.CLASSNAME,attached:function(t){function d(){document.activeElement===s.get(0)&&u.get(0).focusItem(0)}function i(){s.data("kbd-interacted",!1)}var u=r(document.getElementById(t.getAttribute("aria-controls"))),s=r(t),c=u.data("aui-dropdown2-ajax-key");s.on("keydown.aui-dropdown2-ajax",function(){s.data("kbd-interacted",!0),setTimeout(i,4)}),u.on("aui-dropdown2-show-after.aui-dropdown2-ajax",i),i(),u.on("aui-dropdown2-show.aui-dropdown2-ajax",function(){if(u.trigger("aui-dropdown2-show-before"),c){var t=new a,i=new a;setTimeout(function(){t.resolve(s.data("kbd-interacted"))},0),u.empty(),u.addClass("aui-dropdown2-loading"),s.attr("aria-busy","true"),e.makeRequest({url:n()+"/rest/api/1.0/menus/"+c,data:{inAdminMode:o.getBoolean("in-admin-mode")},dataType:"json",cache:!1,success:function(e){i.resolve(e)},error:i.reject}),r.when(t,i).done(function(e,a){u.html(JIRA.Templates.Menu.Dropdowns.dropdown2Fragment(a)),e&&setTimeout(d,0)}).always(function(){s.attr("aria-busy","false"),u.removeClass("aui-dropdown2-loading"),u.trigger("aui-dropdown2-show-after")})}else u.trigger("aui-dropdown2-show-after")})},detached:function(e){var a=r(document.getElementById(e.getAttribute("aria-controls"))),t=r(e);a.off(".aui-dropdown2-ajax"),t.off(".aui-dropdown2-ajax")}})}),function(e){"use strict";e(document).on("aui-responsive-menu-item-created",".aui-header.aui-dropdown2-trigger-group",function(a){var t=a.originalEvent.detail;e(t.originalItem).find("> .aui-dropdown2-ajax").length>0&&e(t.newItem).find("> .aui-dropdown2-trigger").addClass("aui-dropdown2-ajax")})}(require("jquery"));;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header-assets', location = 'js/app-switcher-analytics.js' */
define("jira/header/init-app-switcher-analytics",["jira/analytics","jquery"],function(i,n){"use strict";function a(a){var e=n(a);e.on("aui-dropdown2-show-before","#app-switcher",function(){i.send({name:"navigation.header.appswitcher.open"})}),e.on("click","#app-switcher a, #app-switcher button",function(a){var e,t=n(a.target),o=t.closest("li").index();t.is(".nav-link-edit")?e="configure":t.is(".app-discovery-link")?e=this.id?this.id:"unknown.app.discovery":t.is(".app-discovery-cancel-button")?(e="dont.show",o=0):e="application",i.send({name:"navigation.header.appswitcher.click",data:{position:o,linkType:e}})}),e.on("aui-dropdown2-hide","#app-switcher",function(){i.send({name:"navigation.header.appswitcher.close"})})}return{init:a}});;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header', location = 'js/init-header.js' */
require(["jira/header/dropdown/element","jira/header/init-header-analytics","jira/header/init-app-switcher-analytics"],function(e,i,t){"use strict";i.init(document),t.init(document)});;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/store-1.3.1.js' */
(function(){var l={},h=window,k=h.document,c="localStorage",n="globalStorage",d="__storejs__",g;l.disabled=false;l.set=function(e,o){};l.get=function(e){};l.remove=function(e){};l.clear=function(){};l.transact=function(e,o){var p=l.get(e);if(typeof p=="undefined"){p={}}o(p);l.set(e,p)};l.serialize=function(e){return JSON.stringify(e)};l.deserialize=function(e){if(typeof e!="string"){return undefined}return JSON.parse(e)};function b(){try{return(c in h&&h[c])}catch(e){return false}}function m(){try{return(n in h&&h[n]&&h[n][h.location.hostname])}catch(e){return false}}if(b()){g=h[c];l.set=function(e,o){if(o===undefined){return l.remove(e)}g.setItem(e,l.serialize(o))};l.get=function(e){return l.deserialize(g.getItem(e))};l.remove=function(e){g.removeItem(e)};l.clear=function(){g.clear()}}else{if(m()){g=h[n][h.location.hostname];l.set=function(e,o){if(o===undefined){return l.remove(e)}g[e]=l.serialize(o)};l.get=function(e){return l.deserialize(g[e]&&g[e].value)};l.remove=function(e){delete g[e]};l.clear=function(){for(var e in g){delete g[e]}}}else{if(k.documentElement.addBehavior){var j,f;try{f=new ActiveXObject("htmlfile");f.open();f.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></frame>');f.close();j=f.w.frames[0].document;g=j.createElement("div")}catch(i){g=k.createElement("div");j=k.body}function a(e){return function(){var p=Array.prototype.slice.call(arguments,0);p.unshift(g);j.appendChild(g);g.addBehavior("#default#userData");g.load(c);var o=e.apply(l,p);j.removeChild(g);return o}}l.set=a(function(p,e,o){if(o===undefined){return l.remove(e)}p.setAttribute(e,l.serialize(o));p.save(c)});l.get=a(function(o,e){return l.deserialize(o.getAttribute(e))});l.remove=a(function(o,e){o.removeAttribute(e);o.save(c)});l.clear=a(function(q){var o=q.XMLDocument.documentElement.attributes;q.load(c);for(var p=0,e;e=o[p];p++){q.removeAttribute(e.name)}q.save(c)})}}}try{l.set(d,d);if(l.get(d)!=d){l.disabled=true}l.remove(d)}catch(i){l.disabled=true}if(typeof module!="undefined"){module.exports=l}else{if(typeof define==="function"&&define.amd){define(l)}else{this.store=l}}})();;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/page-visibility.js' */
define("atlassian/analytics/page-visibility",function(){var a=(document.hidden!==undefined);var b={supported:a,isHidden:function(){return a?document.hidden:false}};return b});;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/user-activity-xhr-header.js' */
define("atlassian/analytics/user-activity-xhr-header",["atlassian/analytics/page-visibility"],function(c){var e="x-atlassian-mau-ignore";var d=XMLHttpRequest.prototype.send;var a=window.fetch;var b=false;return{install:function(){if(!b&&c.supported){XMLHttpRequest.prototype.send=function(){if(c.isHidden()){this.setRequestHeader(e,c.isHidden())}d.apply(this,arguments)};if(a){window.fetch=function(f,i){var g=i||{};var h=g.headers;if(c.isHidden()){g.headers=(h)?new Headers(h):new Headers();g.headers.append(e,c.isHidden())}return a.call(this,f,g)}}b=true}},uninstall:function(){if(b){XMLHttpRequest.prototype.send=d;if(a){window.fetch=a}}b=false}}});require("atlassian/analytics/user-activity-xhr-header").install();;
;
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/atlassian-analytics.js' */
(function(d){var q=AJS.$.ajax;var l="atlassian-analytics";var j=typeof AJS.contextPath==="function"?AJS.contextPath():"";var p=null;var m=null;var g=null;var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(z){var y=Math.random()*16|0,x=z=="x"?y:(y&3|8);return x.toString(16)});var t=function(){var x="unknown";if(document.body.id=="jira"){x="jira"}else{if(document.body.id=="com-atlassian-confluence"){x="confluence"}}m=l+"."+x;g=m+".lock"};var f=function(){if(store.get(g)){return false}store.set(g,r);return(store.get(g)===r)};var u=function(){store.set(g,null)};var i=function(){var y=[],A,B,x,z;if(AJS.EventQueue.length==0){return}y=store.get(m)||y;for(x=0,z=AJS.EventQueue.length;x<z;++x){B=AJS.EventQueue[x];if(B.name){A={name:B.name,properties:B.properties,time:B.time||0};y.push(A)}}AJS.EventQueue.length=0;store.set(m,y)};var v=0;var a=function(x){return Math.min(5000*Math.pow(2,x),5*60*1000)};var e=0;var h=function(){var A;function y(){setTimeout(h,a(v=0))}function x(){setTimeout(h,a(++v))}if(!f()){++e;if(e<20){return y()}}else{e=0}try{i();A=store.get(m);if(!A||!A.length){return y()}store.remove(m);if(!o(A)){return y()}var B=new Date().getTime();for(var z=0;z<A.length;z++){if(A[z].time>0){A[z].timeDelta=A[z].time-B}else{A[z].timeDelta=z-A.length}delete A[z].time}p=q({type:"POST",url:j+"/rest/analytics/1.0/publish/bulk",data:JSON.stringify(A),contentType:"application/json",dataType:"json"});p.fail(function(){AJS.EventQueue.concat(A);i();x()});p.done(function(){y()})}finally{u()}};var o=function(z){for(var y=z.length-1;y>=0;y--){var B="";var A=z[y];var x=A.properties;if(typeof A.name==="undefined"){B="you must provide a name for the event."}else{if(typeof x!=="undefined"&&x!==null){if(x.constructor!==Object){B="properties must be an object with key value pairs."}else{b(x)}}}if(B!==""){AJS.log("WARN: Invalid analytics event detected and ignored, "+B+"\nEvent: "+JSON.stringify(A));z.splice(y,1)}}return z.length};var b=function(z){for(var y in z){if(z.hasOwnProperty(y)){var x=z[y];if(c(x)&&k(x)){}else{if(c(x)&&x.toString){z[y]=x.toString()}else{z[y]=""}}}}};function c(x){return typeof x!=="undefined"&&x!==null}function k(x){return typeof x==="number"||typeof x==="string"||typeof x==="boolean"}var n=function(){if(p&&!(p.state()==="resolved"||p.state()==="rejected")){p.abort()}};AJS.EventQueue=AJS.EventQueue||[];var s=Array.prototype.push;AJS.EventQueue.push=function(x){x.time=new Date().getTime();s.call(AJS.EventQueue,x)};AJS.toInit(function(){t();setTimeout(h,500);w()});d(window).unload(function(){n();i()});AJS.Analytics={triggerPrivacyPolicySafeEvent:function(x,y){AJS.log("WARN: 'triggerPrivacyPolicySafeEvent' has been deprecated");AJS.EventQueue.push({name:x,properties:y})}};AJS.bind("analytics",function(x,y){AJS.EventQueue.push({name:y.name,properties:y.data})});AJS.bind("analyticsEvent",function(x,y){AJS.EventQueue.push({name:y.name,properties:y.data})});var w=function(){if(window.location.pathname.indexOf("/secure/admin/ViewApplicationProperties")>-1){AJS.$("[data-property-id='analytics-enabled']").remove()}else{if(window.location.pathname.indexOf("/secure/admin/EditApplicationProperties")>-1){var y=AJS.$(":contains(Enable Atlassian analytics)");if(y.size()>0){var x=y[y.size()-2];if(x){x.remove()}}}}}}(AJS.$));;
;
/* module-key = 'com.atlassian.analytics.analytics-client:policy-update-init', location = 'js/policy-update-init.js' */
AJS.toInit(function(){var a=WRM.data.claim("com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider");if(a){WRM.require("wrc!com.atlassian.analytics.analytics-client:policy-update")}});;
;
/* module-key = 'com.atlassian.analytics.analytics-client:programmatic-analytics-init', location = 'js/programmatic-analytics-init.js' */
(function(){var a=WRM.data.claim("com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider");if(a){WRM.require("wrc!com.atlassian.analytics.analytics-client:programmatic-analytics")}}());;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:application-header-administration-cog-resource', location = 'header/cog.js' */
var NavLinks=(function(a){a.ApplicationHeader=function(b){b.Cog=(function(){var c=function(){var d=AJS.$("#system-admin-menu-content");if(d.length>0){return d}var e=AJS.$("#admin-menu-link-content");if(e.length>0){return e}return AJS.$("#bamboo\\.global\\.header-admin\\.menu")};return{getDropdown:c}}());return b}(a.ApplicationHeader||{});return a}(NavLinks||{}));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminshortcuts.soy' */
// This file was automatically generated from adminshortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.adminshortcuts.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.adminshortcuts == 'undefined') { navlinks.templates.adminshortcuts = {}; }


navlinks.templates.adminshortcuts.section = function(opt_data, opt_ignored) {
  var param5 = '<ul class="aui-list-truncate">';
  var linkList7 = opt_data.links;
  var linkListLen7 = linkList7.length;
  for (var linkIndex7 = 0; linkIndex7 < linkListLen7; linkIndex7++) {
    var linkData7 = linkList7[linkIndex7];
    param5 += '<li><a href="' + soy.$$escapeHtml(linkData7.link) + '">' + soy.$$escapeHtml(linkData7.label) + '</a></li>';
  }
  param5 += '</ul>';
  var output = '' + aui.dropdown2.section({id: 'nl-remote-admin-section', label: "Other applications", content: param5});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.adminshortcuts.section.soyTemplateName = 'navlinks.templates.adminshortcuts.section';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminnavlinks.js' */
var NavLinks=(function(a){a.AdminShortcuts=(function(){var c=function(){return AJS.$.ajax({url:AJS.contextPath()+"/rest/menu/latest/admin",cache:false,dataType:"json"})};var b=function(){AJS.$("#nl-remote-admin-section").on("click","a",function(){NL.trackEvent("remoteAdminItemSelected",NL.getCurrentApplication(),$(this).attr("href"))})};return{render:function(){c().done(function(e){e=_.reject(e,function(f){return f.local===true});if(e.length){var d=navlinks.templates.adminshortcuts.section({links:e});a.ApplicationHeader.Cog.getDropdown().append(d);b()}})}}}());return a}(NavLinks||{}));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts', location = 'adminshortcuts/adminshortcuts-cdn.js' */
AJS.toInit(function(){if(AJS.DarkFeatures&&AJS.DarkFeatures.isEnabled("rotp.admin.shortcuts")){NavLinks.AdminShortcuts.render()}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-projectshortcuts', location = 'projectshortcuts/projectshortcuts.soy' */
// This file was automatically generated from projectshortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.projectshortcuts.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.projectshortcuts == 'undefined') { navlinks.templates.projectshortcuts = {}; }


navlinks.templates.projectshortcuts.dialogContent = function(opt_data, opt_ignored) {
  return '' + ((opt_data.localShortcuts && opt_data.localShortcuts.length > 0) ? navlinks.templates.projectshortcuts.dialogContentShortcuts({shortcuts: opt_data.localShortcuts, listClass: 'projectshortcut-links'}) : '') + ((opt_data.remoteShortcuts != null) ? (opt_data.remoteShortcuts.length > 0) ? '<h2 class="projectshortcuts-heading">Related Links</h2>' + navlinks.templates.projectshortcuts.dialogContentShortcuts(soy.$$augmentMap(opt_data.remoteShortcuts, {shortcuts: opt_data.remoteShortcuts, listClass: 'projectshortcut-links'})) : '' : navlinks.templates.projectshortcuts.dialogLoading(null));
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContent.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContent';
}


navlinks.templates.projectshortcuts.headingWrapper = function(opt_data, opt_ignored) {
  return '<div class="project-dialog-header-wrapper"><div class="project-header"><img class="project-img" src="' + soy.$$escapeHtml(opt_data.logoUrl) + '"><h2 class="dialog-title">' + soy.$$escapeHtml(opt_data.title) + '</h2></div><div class="project-content-wrapper">' + soy.$$filterNoAutoescape(opt_data.contentHtml) + '</div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.headingWrapper.soyTemplateName = 'navlinks.templates.projectshortcuts.headingWrapper';
}


navlinks.templates.projectshortcuts.dialogContentShortcuts = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '<ul' + ((opt_data.listClass) ? ' class="' + soy.$$escapeHtml(opt_data.listClass) + '"' : '') + '>';
  var shortcutList35 = opt_data.shortcuts;
  var shortcutListLen35 = shortcutList35.length;
  for (var shortcutIndex35 = 0; shortcutIndex35 < shortcutListLen35; shortcutIndex35++) {
    var shortcutData35 = shortcutList35[shortcutIndex35];
    output += '<li' + ((shortcutIndex35 == shortcutListLen35 - 1) ? ' class="last"' : '') + '>' + navlinks.templates.projectshortcuts.dialogContentShortcut(shortcutData35) + '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContentShortcuts.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContentShortcuts';
}


navlinks.templates.projectshortcuts.dialogContentShortcut = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.link) + '"' + ((opt_data.tooltip) ? ' title="' + soy.$$escapeHtml(opt_data.tooltip) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.label) + '</a>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContentShortcut.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContentShortcut';
}


navlinks.templates.projectshortcuts.dialogLoading = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="projectshortcuts-loading">' + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogLoading.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogLoading';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-projectshortcuts', location = 'projectshortcuts/projectshortcuts.js' */
(function(e,g){var i,k={},m="key",b="name",j="entity-type";function f(s){var n=e(this),o=n.data(m),q=n.data(b),p=n.data(j);if(typeof o==="undefined"){return}s.preventDefault();i=new AJS.Dialog({width:600,keypressListener:function(u){if(u.which==jQuery.ui.keyCode.ESCAPE){i.remove()}},id:"project-shortcuts-dialog"}).addCancel("Close",function(){i.remove()}).addPanel("",navlinks.templates.projectshortcuts.headingWrapper({title:q,logoUrl:h(),contentHtml:navlinks.templates.projectshortcuts.dialogLoading({text:"Retrieving links"})})).show();c(i);if(!k[o]){k[o]={entity:{title:q},localShortcuts:null,remoteShortcuts:null};d(AJS.contextPath()+"/rest/project-shortcuts/1.0/local/"+o,{entityType:p}).done(t);d(AJS.contextPath()+"/rest/project-shortcuts/1.0/remote/"+o,{entityType:p}).done(r).fail(function(){var u=i.getCurrentPanel().body.find(".project-content-wrapper");u.find(".projectshortcuts-loading").remove();AJS.messages.error(u,{body:"Could not retrieve remote project shortcuts",closeable:false});c(i)})}else{l(k[o])}function t(u){k[o].localShortcuts=u.shortcuts;l(k[o])}function r(u){k[o].remoteShortcuts=u.shortcuts;l(k[o])}}function h(){return e(".project-shortcut-dialog-trigger img").attr("src")}function l(n){if(n.localShortcuts){i.getCurrentPanel().html(navlinks.templates.projectshortcuts.headingWrapper({title:n.entity.title,logoUrl:h(),contentHtml:navlinks.templates.projectshortcuts.dialogContent(n)}));c(i)}}function a(p){var o=210;if(!p||p.length<=o){return p}var n=o;while(n>0&&p.charAt(n)!=" "){n--}if(n==0){n=o}p=p.substring(0,n);if(p.length>=n){p=p+"..."}return p}function c(n){var q=n.popup.element,p=q.find(".dialog-panel-body"),o=q.find(".dialog-components");p.height("auto");q.height(o.outerHeight()-1);e(".aui-shadow").remove()}function d(n,o){return e.ajax({url:n,cache:false,data:o,dataType:"json"})}e(document).on("click",".project-shortcut-dialog-trigger",f)}(jQuery,window.NL=(window.NL||{})));;
;
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:atlassian-ui-popup-display-controller', location = 'popups/DisplayController.js' */
AJS.Popups=AJS.Popups||{};AJS.Popups.DisplayController=function(){var c=[];var a=false;var b=false;AJS.toInit(function(){setTimeout(function(){AJS.Popups.DisplayController.render()},0)});return{request:function(d){c.push(d);if(a&&b===false){this.render()}},render:function(){c.sort(function(e,d){return e.weight-d.weight});a=true;if(c.length!==0){b=true;c[0].show()}}}}();;
;
/* module-key = 'com.onresolve.jira.groovy.groovyrunner:livequery', location = 'js/jquery.livequery.js' */
/*! jquery.livequery - v1.3.6 - 2013-08-26
 * Copyright (c)
 *  (c) 2010, Brandon Aaron (http://brandonaaron.net)
 *  (c) 2012 - 2013, Alexander Zaytsev (http://hazzik.ru/en)
 * Dual licensed under the MIT (MIT_LICENSE.txt)
 * and GPL Version 2 (GPL_LICENSE.txt) licenses.
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?a(require("jquery")):a(jQuery)}(function(a,b){function c(a,b,c,d){return!(a.selector!=b.selector||a.context!=b.context||c&&c.$lqguid!=b.fn.$lqguid||d&&d.$lqguid!=b.fn2.$lqguid)}a.extend(a.fn,{livequery:function(b,e){var f,g=this;return a.each(d.queries,function(a,d){return c(g,d,b,e)?(f=d)&&!1:void 0}),f=f||new d(g.selector,g.context,b,e),f.stopped=!1,f.run(),g},expire:function(b,e){var f=this;return a.each(d.queries,function(a,g){c(f,g,b,e)&&!f.stopped&&d.stop(g.id)}),f}});var d=a.livequery=function(b,c,e,f){var g=this;return g.selector=b,g.context=c,g.fn=e,g.fn2=f,g.elements=a([]),g.stopped=!1,g.id=d.queries.push(g)-1,e.$lqguid=e.$lqguid||d.guid++,f&&(f.$lqguid=f.$lqguid||d.guid++),g};d.prototype={stop:function(){var b=this;b.stopped||(b.fn2&&b.elements.each(b.fn2),b.elements=a([]),b.stopped=!0)},run:function(){var b=this;if(!b.stopped){var c=b.elements,d=a(b.selector,b.context),e=d.not(c),f=c.not(d);b.elements=d,e.each(b.fn),b.fn2&&f.each(b.fn2)}}},a.extend(d,{guid:0,queries:[],queue:[],running:!1,timeout:null,registered:[],checkQueue:function(){if(d.running&&d.queue.length)for(var a=d.queue.length;a--;)d.queries[d.queue.shift()].run()},pause:function(){d.running=!1},play:function(){d.running=!0,d.run()},registerPlugin:function(){a.each(arguments,function(b,c){if(a.fn[c]&&!(a.inArray(c,d.registered)>0)){var e=a.fn[c];a.fn[c]=function(){var a=e.apply(this,arguments);return d.run(),a},d.registered.push(c)}})},run:function(c){c!==b?a.inArray(c,d.queue)<0&&d.queue.push(c):a.each(d.queries,function(b){a.inArray(b,d.queue)<0&&d.queue.push(b)}),d.timeout&&clearTimeout(d.timeout),d.timeout=setTimeout(d.checkQueue,20)},stop:function(c){c!==b?d.queries[c].stop():a.each(d.queries,d.prototype.stop)}}),d.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html","prop","removeProp"),a(function(){d.play()})});;
;
/* module-key = 'com.onresolve.jira.groovy.groovyrunner:web-item-response-renderer-resources', location = 'js/web-item-response-renderer.js.switchable' */
!function(e){function o(o){for(var s,t,n=o[0],u=o[1],d=0,c=[];d<n.length;d++)t=n[d],r[t]&&c.push(r[t][0]),r[t]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);for(i&&i(o);c.length;)c.shift()()}var s={},r={4:0};function t(o){if(s[o])return s[o].exports;var r=s[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=s,t.d=function(e,o,s){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:s})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)t.d(s,r,function(o){return e[o]}.bind(null,r));return s},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="http://localhost:8099/js/",t.oe=function(e){throw console.error(e),e};var n=window.webpackJsonpScriptRunner=window.webpackJsonpScriptRunner||[],u=n.push.bind(n);n.push=o,n=n.slice();for(var d=0;d<n.length;d++)o(n[d]);var i=u;t(t.s=8)}({"./node_modules/core-js/es6/promise.js":function(e,o,s){s("./node_modules/core-js/modules/es6.object.to-string.js"),s("./node_modules/core-js/modules/es6.string.iterator.js"),s("./node_modules/core-js/modules/web.dom.iterable.js"),s("./node_modules/core-js/modules/es6.promise.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Promise},"./node_modules/core-js/fn/array/find.js":function(e,o,s){s("./node_modules/core-js/modules/es6.array.find.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Array.find},"./node_modules/core-js/fn/array/from.js":function(e,o,s){s("./node_modules/core-js/modules/es6.string.iterator.js"),s("./node_modules/core-js/modules/es6.array.from.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Array.from},"./node_modules/core-js/fn/array/includes.js":function(e,o,s){s("./node_modules/core-js/modules/es7.array.includes.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Array.includes},"./node_modules/core-js/fn/object/assign.js":function(e,o,s){s("./node_modules/core-js/modules/es6.object.assign.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Object.assign},"./node_modules/core-js/fn/object/entries.js":function(e,o,s){s("./node_modules/core-js/modules/es7.object.entries.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Object.entries},"./node_modules/core-js/fn/object/values.js":function(e,o,s){s("./node_modules/core-js/modules/es7.object.values.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Object.values},"./node_modules/core-js/fn/promise.js":function(e,o,s){s("./node_modules/core-js/modules/es6.object.to-string.js"),s("./node_modules/core-js/modules/es6.string.iterator.js"),s("./node_modules/core-js/modules/web.dom.iterable.js"),s("./node_modules/core-js/modules/es6.promise.js"),s("./node_modules/core-js/modules/es7.promise.finally.js"),s("./node_modules/core-js/modules/es7.promise.try.js"),e.exports=s("./node_modules/core-js/modules/_core.js").Promise},"./node_modules/core-js/fn/string/ends-with.js":function(e,o,s){s("./node_modules/core-js/modules/es6.string.ends-with.js"),e.exports=s("./node_modules/core-js/modules/_core.js").String.endsWith},"./node_modules/core-js/fn/string/includes.js":function(e,o,s){s("./node_modules/core-js/modules/es6.string.includes.js"),e.exports=s("./node_modules/core-js/modules/_core.js").String.includes},"./node_modules/core-js/fn/string/starts-with.js":function(e,o,s){s("./node_modules/core-js/modules/es6.string.starts-with.js"),e.exports=s("./node_modules/core-js/modules/_core.js").String.startsWith},"./node_modules/core-js/modules/_a-function.js":function(e,o){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/modules/_add-to-unscopables.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_wks.js")("unscopables"),t=Array.prototype;void 0==t[r]&&s("./node_modules/core-js/modules/_hide.js")(t,r,{}),e.exports=function(e){t[r][e]=!0}},"./node_modules/core-js/modules/_an-instance.js":function(e,o){e.exports=function(e,o,s,r){if(!(e instanceof o)||void 0!==r&&r in e)throw TypeError(s+": incorrect invocation!");return e}},"./node_modules/core-js/modules/_an-object.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_is-object.js");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/modules/_array-includes.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_to-iobject.js"),t=s("./node_modules/core-js/modules/_to-length.js"),n=s("./node_modules/core-js/modules/_to-absolute-index.js");e.exports=function(e){return function(o,s,u){var d,i=r(o),c=t(i.length),l=n(u,c);if(e&&s!=s){for(;c>l;)if((d=i[l++])!=d)return!0}else for(;c>l;l++)if((e||l in i)&&i[l]===s)return e||l||0;return!e&&-1}}},"./node_modules/core-js/modules/_array-methods.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_ctx.js"),t=s("./node_modules/core-js/modules/_iobject.js"),n=s("./node_modules/core-js/modules/_to-object.js"),u=s("./node_modules/core-js/modules/_to-length.js"),d=s("./node_modules/core-js/modules/_array-species-create.js");e.exports=function(e,o){var s=1==e,i=2==e,c=3==e,l=4==e,a=6==e,m=5==e||a,j=o||d;return function(o,d,f){for(var _,p,h=n(o),y=t(h),v=r(d,f,3),b=u(y.length),g=0,x=s?j(o,b):i?j(o,0):void 0;b>g;g++)if((m||g in y)&&(p=v(_=y[g],g,h),e))if(s)x[g]=p;else if(p)switch(e){case 3:return!0;case 5:return _;case 6:return g;case 2:x.push(_)}else if(l)return!1;return a?-1:c||l?l:x}}},"./node_modules/core-js/modules/_array-species-constructor.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_is-object.js"),t=s("./node_modules/core-js/modules/_is-array.js"),n=s("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e){var o;return t(e)&&("function"!=typeof(o=e.constructor)||o!==Array&&!t(o.prototype)||(o=void 0),r(o)&&null===(o=o[n])&&(o=void 0)),void 0===o?Array:o}},"./node_modules/core-js/modules/_array-species-create.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_array-species-constructor.js");e.exports=function(e,o){return new(r(e))(o)}},"./node_modules/core-js/modules/_classof.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_cof.js"),t=s("./node_modules/core-js/modules/_wks.js")("toStringTag"),n="Arguments"==r(function(){return arguments}());e.exports=function(e){var o,s,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=function(e,o){try{return e[o]}catch(e){}}(o=Object(e),t))?s:n?r(o):"Object"==(u=r(o))&&"function"==typeof o.callee?"Arguments":u}},"./node_modules/core-js/modules/_cof.js":function(e,o){var s={}.toString;e.exports=function(e){return s.call(e).slice(8,-1)}},"./node_modules/core-js/modules/_core.js":function(e,o){var s=e.exports={version:"2.5.6"};"number"==typeof __e&&(__e=s)},"./node_modules/core-js/modules/_create-property.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_object-dp.js"),t=s("./node_modules/core-js/modules/_property-desc.js");e.exports=function(e,o,s){o in e?r.f(e,o,t(0,s)):e[o]=s}},"./node_modules/core-js/modules/_ctx.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_a-function.js");e.exports=function(e,o,s){if(r(e),void 0===o)return e;switch(s){case 1:return function(s){return e.call(o,s)};case 2:return function(s,r){return e.call(o,s,r)};case 3:return function(s,r,t){return e.call(o,s,r,t)}}return function(){return e.apply(o,arguments)}}},"./node_modules/core-js/modules/_defined.js":function(e,o){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/modules/_descriptors.js":function(e,o,s){e.exports=!s("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_dom-create.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_is-object.js"),t=s("./node_modules/core-js/modules/_global.js").document,n=r(t)&&r(t.createElement);e.exports=function(e){return n?t.createElement(e):{}}},"./node_modules/core-js/modules/_enum-bug-keys.js":function(e,o){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/modules/_export.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_global.js"),t=s("./node_modules/core-js/modules/_core.js"),n=s("./node_modules/core-js/modules/_hide.js"),u=s("./node_modules/core-js/modules/_redefine.js"),d=s("./node_modules/core-js/modules/_ctx.js"),i="prototype",c=function(e,o,s){var l,a,m,j,f=e&c.F,_=e&c.G,p=e&c.S,h=e&c.P,y=e&c.B,v=_?r:p?r[o]||(r[o]={}):(r[o]||{})[i],b=_?t:t[o]||(t[o]={}),g=b[i]||(b[i]={});for(l in _&&(s=o),s)m=((a=!f&&v&&void 0!==v[l])?v:s)[l],j=y&&a?d(m,r):h&&"function"==typeof m?d(Function.call,m):m,v&&u(v,l,m,e&c.U),b[l]!=m&&n(b,l,j),h&&g[l]!=m&&(g[l]=m)};r.core=t,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},"./node_modules/core-js/modules/_fails-is-regexp.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_wks.js")("match");e.exports=function(e){var o=/./;try{"/./"[e](o)}catch(s){try{return o[r]=!1,!"/./"[e](o)}catch(e){}}return!0}},"./node_modules/core-js/modules/_fails.js":function(e,o){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/modules/_for-of.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_ctx.js"),t=s("./node_modules/core-js/modules/_iter-call.js"),n=s("./node_modules/core-js/modules/_is-array-iter.js"),u=s("./node_modules/core-js/modules/_an-object.js"),d=s("./node_modules/core-js/modules/_to-length.js"),i=s("./node_modules/core-js/modules/core.get-iterator-method.js"),c={},l={};(o=e.exports=function(e,o,s,a,m){var j,f,_,p,h=m?function(){return e}:i(e),y=r(s,a,o?2:1),v=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(n(h)){for(j=d(e.length);j>v;v++)if((p=o?y(u(f=e[v])[0],f[1]):y(e[v]))===c||p===l)return p}else for(_=h.call(e);!(f=_.next()).done;)if((p=t(_,y,f.value,o))===c||p===l)return p}).BREAK=c,o.RETURN=l},"./node_modules/core-js/modules/_global.js":function(e,o){var s=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)},"./node_modules/core-js/modules/_has.js":function(e,o){var s={}.hasOwnProperty;e.exports=function(e,o){return s.call(e,o)}},"./node_modules/core-js/modules/_hide.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_object-dp.js"),t=s("./node_modules/core-js/modules/_property-desc.js");e.exports=s("./node_modules/core-js/modules/_descriptors.js")?function(e,o,s){return r.f(e,o,t(1,s))}:function(e,o,s){return e[o]=s,e}},"./node_modules/core-js/modules/_html.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_global.js").document;e.exports=r&&r.documentElement},"./node_modules/core-js/modules/_ie8-dom-define.js":function(e,o,s){e.exports=!s("./node_modules/core-js/modules/_descriptors.js")&&!s("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty(s("./node_modules/core-js/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_invoke.js":function(e,o){e.exports=function(e,o,s){var r=void 0===s;switch(o.length){case 0:return r?e():e.call(s);case 1:return r?e(o[0]):e.call(s,o[0]);case 2:return r?e(o[0],o[1]):e.call(s,o[0],o[1]);case 3:return r?e(o[0],o[1],o[2]):e.call(s,o[0],o[1],o[2]);case 4:return r?e(o[0],o[1],o[2],o[3]):e.call(s,o[0],o[1],o[2],o[3])}return e.apply(s,o)}},"./node_modules/core-js/modules/_iobject.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"./node_modules/core-js/modules/_is-array-iter.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_iterators.js"),t=s("./node_modules/core-js/modules/_wks.js")("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||n[t]===e)}},"./node_modules/core-js/modules/_is-array.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_cof.js");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"./node_modules/core-js/modules/_is-object.js":function(e,o){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/modules/_is-regexp.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_is-object.js"),t=s("./node_modules/core-js/modules/_cof.js"),n=s("./node_modules/core-js/modules/_wks.js")("match");e.exports=function(e){var o;return r(e)&&(void 0!==(o=e[n])?!!o:"RegExp"==t(e))}},"./node_modules/core-js/modules/_iter-call.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_an-object.js");e.exports=function(e,o,s,t){try{return t?o(r(s)[0],s[1]):o(s)}catch(o){var n=e.return;throw void 0!==n&&r(n.call(e)),o}}},"./node_modules/core-js/modules/_iter-create.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_object-create.js"),t=s("./node_modules/core-js/modules/_property-desc.js"),n=s("./node_modules/core-js/modules/_set-to-string-tag.js"),u={};s("./node_modules/core-js/modules/_hide.js")(u,s("./node_modules/core-js/modules/_wks.js")("iterator"),function(){return this}),e.exports=function(e,o,s){e.prototype=r(u,{next:t(1,s)}),n(e,o+" Iterator")}},"./node_modules/core-js/modules/_iter-define.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_library.js"),t=s("./node_modules/core-js/modules/_export.js"),n=s("./node_modules/core-js/modules/_redefine.js"),u=s("./node_modules/core-js/modules/_hide.js"),d=s("./node_modules/core-js/modules/_iterators.js"),i=s("./node_modules/core-js/modules/_iter-create.js"),c=s("./node_modules/core-js/modules/_set-to-string-tag.js"),l=s("./node_modules/core-js/modules/_object-gpo.js"),a=s("./node_modules/core-js/modules/_wks.js")("iterator"),m=!([].keys&&"next"in[].keys()),j="keys",f="values",_=function(){return this};e.exports=function(e,o,s,p,h,y,v){i(s,o,p);var b,g,x,w=function(e){if(!m&&e in P)return P[e];switch(e){case j:case f:return function(){return new s(this,e)}}return function(){return new s(this,e)}},S=o+" Iterator",O=h==f,A=!1,P=e.prototype,k=P[a]||P["@@iterator"]||h&&P[h],T=k||w(h),E=h?O?w("entries"):T:void 0,R="Array"==o&&P.entries||k;if(R&&(x=l(R.call(new e)))!==Object.prototype&&x.next&&(c(x,S,!0),r||"function"==typeof x[a]||u(x,a,_)),O&&k&&k.name!==f&&(A=!0,T=function(){return k.call(this)}),r&&!v||!m&&!A&&P[a]||u(P,a,T),d[o]=T,d[S]=_,h)if(b={values:O?T:w(f),keys:y?T:w(j),entries:E},v)for(g in b)g in P||n(P,g,b[g]);else t(t.P+t.F*(m||A),o,b);return b}},"./node_modules/core-js/modules/_iter-detect.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_wks.js")("iterator"),t=!1;try{var n=[7][r]();n.return=function(){t=!0},Array.from(n,function(){throw 2})}catch(e){}e.exports=function(e,o){if(!o&&!t)return!1;var s=!1;try{var n=[7],u=n[r]();u.next=function(){return{done:s=!0}},n[r]=function(){return u},e(n)}catch(e){}return s}},"./node_modules/core-js/modules/_iter-step.js":function(e,o){e.exports=function(e,o){return{value:o,done:!!e}}},"./node_modules/core-js/modules/_iterators.js":function(e,o){e.exports={}},"./node_modules/core-js/modules/_library.js":function(e,o){e.exports=!1},"./node_modules/core-js/modules/_microtask.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_global.js"),t=s("./node_modules/core-js/modules/_task.js").set,n=r.MutationObserver||r.WebKitMutationObserver,u=r.process,d=r.Promise,i="process"==s("./node_modules/core-js/modules/_cof.js")(u);e.exports=function(){var e,o,s,c=function(){var r,t;for(i&&(r=u.domain)&&r.exit();e;){t=e.fn,e=e.next;try{t()}catch(r){throw e?s():o=void 0,r}}o=void 0,r&&r.enter()};if(i)s=function(){u.nextTick(c)};else if(!n||r.navigator&&r.navigator.standalone)if(d&&d.resolve){var l=d.resolve(void 0);s=function(){l.then(c)}}else s=function(){t.call(r,c)};else{var a=!0,m=document.createTextNode("");new n(c).observe(m,{characterData:!0}),s=function(){m.data=a=!a}}return function(r){var t={fn:r,next:void 0};o&&(o.next=t),e||(e=t,s()),o=t}}},"./node_modules/core-js/modules/_new-promise-capability.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_a-function.js");e.exports.f=function(e){return new function(e){var o,s;this.promise=new e(function(e,r){if(void 0!==o||void 0!==s)throw TypeError("Bad Promise constructor");o=e,s=r}),this.resolve=r(o),this.reject=r(s)}(e)}},"./node_modules/core-js/modules/_object-assign.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_object-keys.js"),t=s("./node_modules/core-js/modules/_object-gops.js"),n=s("./node_modules/core-js/modules/_object-pie.js"),u=s("./node_modules/core-js/modules/_to-object.js"),d=s("./node_modules/core-js/modules/_iobject.js"),i=Object.assign;e.exports=!i||s("./node_modules/core-js/modules/_fails.js")(function(){var e={},o={},s=Symbol(),r="abcdefghijklmnopqrst";return e[s]=7,r.split("").forEach(function(e){o[e]=e}),7!=i({},e)[s]||Object.keys(i({},o)).join("")!=r})?function(e,o){for(var s=u(e),i=arguments.length,c=1,l=t.f,a=n.f;i>c;)for(var m,j=d(arguments[c++]),f=l?r(j).concat(l(j)):r(j),_=f.length,p=0;_>p;)a.call(j,m=f[p++])&&(s[m]=j[m]);return s}:i},"./node_modules/core-js/modules/_object-create.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_an-object.js"),t=s("./node_modules/core-js/modules/_object-dps.js"),n=s("./node_modules/core-js/modules/_enum-bug-keys.js"),u=s("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),d=function(){},i="prototype",c=function(){var e,o=s("./node_modules/core-js/modules/_dom-create.js")("iframe"),r=n.length;for(o.style.display="none",s("./node_modules/core-js/modules/_html.js").appendChild(o),o.src="javascript:",(e=o.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c[i][n[r]];return c()};e.exports=Object.create||function(e,o){var s;return null!==e?(d[i]=r(e),s=new d,d[i]=null,s[u]=e):s=c(),void 0===o?s:t(s,o)}},"./node_modules/core-js/modules/_object-dp.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_an-object.js"),t=s("./node_modules/core-js/modules/_ie8-dom-define.js"),n=s("./node_modules/core-js/modules/_to-primitive.js"),u=Object.defineProperty;o.f=s("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperty:function(e,o,s){if(r(e),o=n(o,!0),r(s),t)try{return u(e,o,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(e[o]=s.value),e}},"./node_modules/core-js/modules/_object-dps.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_object-dp.js"),t=s("./node_modules/core-js/modules/_an-object.js"),n=s("./node_modules/core-js/modules/_object-keys.js");e.exports=s("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperties:function(e,o){t(e);for(var s,u=n(o),d=u.length,i=0;d>i;)r.f(e,s=u[i++],o[s]);return e}},"./node_modules/core-js/modules/_object-gops.js":function(e,o){o.f=Object.getOwnPropertySymbols},"./node_modules/core-js/modules/_object-gpo.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_has.js"),t=s("./node_modules/core-js/modules/_to-object.js"),n=s("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),u=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=t(e),r(e,n)?e[n]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},"./node_modules/core-js/modules/_object-keys-internal.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_has.js"),t=s("./node_modules/core-js/modules/_to-iobject.js"),n=s("./node_modules/core-js/modules/_array-includes.js")(!1),u=s("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,o){var s,d=t(e),i=0,c=[];for(s in d)s!=u&&r(d,s)&&c.push(s);for(;o.length>i;)r(d,s=o[i++])&&(~n(c,s)||c.push(s));return c}},"./node_modules/core-js/modules/_object-keys.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_object-keys-internal.js"),t=s("./node_modules/core-js/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return r(e,t)}},"./node_modules/core-js/modules/_object-pie.js":function(e,o){o.f={}.propertyIsEnumerable},"./node_modules/core-js/modules/_object-to-array.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_object-keys.js"),t=s("./node_modules/core-js/modules/_to-iobject.js"),n=s("./node_modules/core-js/modules/_object-pie.js").f;e.exports=function(e){return function(o){for(var s,u=t(o),d=r(u),i=d.length,c=0,l=[];i>c;)n.call(u,s=d[c++])&&l.push(e?[s,u[s]]:u[s]);return l}}},"./node_modules/core-js/modules/_perform.js":function(e,o){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},"./node_modules/core-js/modules/_promise-resolve.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_an-object.js"),t=s("./node_modules/core-js/modules/_is-object.js"),n=s("./node_modules/core-js/modules/_new-promise-capability.js");e.exports=function(e,o){if(r(e),t(o)&&o.constructor===e)return o;var s=n.f(e);return(0,s.resolve)(o),s.promise}},"./node_modules/core-js/modules/_property-desc.js":function(e,o){e.exports=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}}},"./node_modules/core-js/modules/_redefine-all.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_redefine.js");e.exports=function(e,o,s){for(var t in o)r(e,t,o[t],s);return e}},"./node_modules/core-js/modules/_redefine.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_global.js"),t=s("./node_modules/core-js/modules/_hide.js"),n=s("./node_modules/core-js/modules/_has.js"),u=s("./node_modules/core-js/modules/_uid.js")("src"),d="toString",i=Function[d],c=(""+i).split(d);s("./node_modules/core-js/modules/_core.js").inspectSource=function(e){return i.call(e)},(e.exports=function(e,o,s,d){var i="function"==typeof s;i&&(n(s,"name")||t(s,"name",o)),e[o]!==s&&(i&&(n(s,u)||t(s,u,e[o]?""+e[o]:c.join(String(o)))),e===r?e[o]=s:d?e[o]?e[o]=s:t(e,o,s):(delete e[o],t(e,o,s)))})(Function.prototype,d,function(){return"function"==typeof this&&this[u]||i.call(this)})},"./node_modules/core-js/modules/_set-species.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_global.js"),t=s("./node_modules/core-js/modules/_object-dp.js"),n=s("./node_modules/core-js/modules/_descriptors.js"),u=s("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e){var o=r[e];n&&o&&!o[u]&&t.f(o,u,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/modules/_set-to-string-tag.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_object-dp.js").f,t=s("./node_modules/core-js/modules/_has.js"),n=s("./node_modules/core-js/modules/_wks.js")("toStringTag");e.exports=function(e,o,s){e&&!t(e=s?e:e.prototype,n)&&r(e,n,{configurable:!0,value:o})}},"./node_modules/core-js/modules/_shared-key.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_shared.js")("keys"),t=s("./node_modules/core-js/modules/_uid.js");e.exports=function(e){return r[e]||(r[e]=t(e))}},"./node_modules/core-js/modules/_shared.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_core.js"),t=s("./node_modules/core-js/modules/_global.js"),n="__core-js_shared__",u=t[n]||(t[n]={});(e.exports=function(e,o){return u[e]||(u[e]=void 0!==o?o:{})})("versions",[]).push({version:r.version,mode:s("./node_modules/core-js/modules/_library.js")?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/modules/_species-constructor.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_an-object.js"),t=s("./node_modules/core-js/modules/_a-function.js"),n=s("./node_modules/core-js/modules/_wks.js")("species");e.exports=function(e,o){var s,u=r(e).constructor;return void 0===u||void 0==(s=r(u)[n])?o:t(s)}},"./node_modules/core-js/modules/_string-at.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_to-integer.js"),t=s("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return function(o,s){var n,u,d=String(t(o)),i=r(s),c=d.length;return i<0||i>=c?e?"":void 0:(n=d.charCodeAt(i))<55296||n>56319||i+1===c||(u=d.charCodeAt(i+1))<56320||u>57343?e?d.charAt(i):n:e?d.slice(i,i+2):u-56320+(n-55296<<10)+65536}}},"./node_modules/core-js/modules/_string-context.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_is-regexp.js"),t=s("./node_modules/core-js/modules/_defined.js");e.exports=function(e,o,s){if(r(o))throw TypeError("String#"+s+" doesn't accept regex!");return String(t(e))}},"./node_modules/core-js/modules/_task.js":function(e,o,s){var r,t,n,u=s("./node_modules/core-js/modules/_ctx.js"),d=s("./node_modules/core-js/modules/_invoke.js"),i=s("./node_modules/core-js/modules/_html.js"),c=s("./node_modules/core-js/modules/_dom-create.js"),l=s("./node_modules/core-js/modules/_global.js"),a=l.process,m=l.setImmediate,j=l.clearImmediate,f=l.MessageChannel,_=l.Dispatch,p=0,h={},y="onreadystatechange",v=function(){var e=+this;if(h.hasOwnProperty(e)){var o=h[e];delete h[e],o()}},b=function(e){v.call(e.data)};m&&j||(m=function(e){for(var o=[],s=1;arguments.length>s;)o.push(arguments[s++]);return h[++p]=function(){d("function"==typeof e?e:Function(e),o)},r(p),p},j=function(e){delete h[e]},"process"==s("./node_modules/core-js/modules/_cof.js")(a)?r=function(e){a.nextTick(u(v,e,1))}:_&&_.now?r=function(e){_.now(u(v,e,1))}:f?(n=(t=new f).port2,t.port1.onmessage=b,r=u(n.postMessage,n,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r=y in c("script")?function(e){i.appendChild(c("script"))[y]=function(){i.removeChild(this),v.call(e)}}:function(e){setTimeout(u(v,e,1),0)}),e.exports={set:m,clear:j}},"./node_modules/core-js/modules/_to-absolute-index.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_to-integer.js"),t=Math.max,n=Math.min;e.exports=function(e,o){return(e=r(e))<0?t(e+o,0):n(e,o)}},"./node_modules/core-js/modules/_to-integer.js":function(e,o){var s=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:s)(e)}},"./node_modules/core-js/modules/_to-iobject.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_iobject.js"),t=s("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return r(t(e))}},"./node_modules/core-js/modules/_to-length.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_to-integer.js"),t=Math.min;e.exports=function(e){return e>0?t(r(e),9007199254740991):0}},"./node_modules/core-js/modules/_to-object.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return Object(r(e))}},"./node_modules/core-js/modules/_to-primitive.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_is-object.js");e.exports=function(e,o){if(!r(e))return e;var s,t;if(o&&"function"==typeof(s=e.toString)&&!r(t=s.call(e)))return t;if("function"==typeof(s=e.valueOf)&&!r(t=s.call(e)))return t;if(!o&&"function"==typeof(s=e.toString)&&!r(t=s.call(e)))return t;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/modules/_uid.js":function(e,o){var s=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++s+r).toString(36))}},"./node_modules/core-js/modules/_user-agent.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_global.js").navigator;e.exports=r&&r.userAgent||""},"./node_modules/core-js/modules/_wks.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_shared.js")("wks"),t=s("./node_modules/core-js/modules/_uid.js"),n=s("./node_modules/core-js/modules/_global.js").Symbol,u="function"==typeof n;(e.exports=function(e){return r[e]||(r[e]=u&&n[e]||(u?n:t)("Symbol."+e))}).store=r},"./node_modules/core-js/modules/core.get-iterator-method.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_classof.js"),t=s("./node_modules/core-js/modules/_wks.js")("iterator"),n=s("./node_modules/core-js/modules/_iterators.js");e.exports=s("./node_modules/core-js/modules/_core.js").getIteratorMethod=function(e){if(void 0!=e)return e[t]||e["@@iterator"]||n[r(e)]}},"./node_modules/core-js/modules/es6.array.find.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_array-methods.js")(5),n="find",u=!0;n in[]&&Array(1)[n](function(){u=!1}),r(r.P+r.F*u,"Array",{find:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),s("./node_modules/core-js/modules/_add-to-unscopables.js")(n)},"./node_modules/core-js/modules/es6.array.from.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_ctx.js"),t=s("./node_modules/core-js/modules/_export.js"),n=s("./node_modules/core-js/modules/_to-object.js"),u=s("./node_modules/core-js/modules/_iter-call.js"),d=s("./node_modules/core-js/modules/_is-array-iter.js"),i=s("./node_modules/core-js/modules/_to-length.js"),c=s("./node_modules/core-js/modules/_create-property.js"),l=s("./node_modules/core-js/modules/core.get-iterator-method.js");t(t.S+t.F*!s("./node_modules/core-js/modules/_iter-detect.js")(function(e){Array.from(e)}),"Array",{from:function(e){var o,s,t,a,m=n(e),j="function"==typeof this?this:Array,f=arguments.length,_=f>1?arguments[1]:void 0,p=void 0!==_,h=0,y=l(m);if(p&&(_=r(_,f>2?arguments[2]:void 0,2)),void 0==y||j==Array&&d(y))for(s=new j(o=i(m.length));o>h;h++)c(s,h,p?_(m[h],h):m[h]);else for(a=y.call(m),s=new j;!(t=a.next()).done;h++)c(s,h,p?u(a,_,[t.value,h],!0):t.value);return s.length=h,s}})},"./node_modules/core-js/modules/es6.array.iterator.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_add-to-unscopables.js"),t=s("./node_modules/core-js/modules/_iter-step.js"),n=s("./node_modules/core-js/modules/_iterators.js"),u=s("./node_modules/core-js/modules/_to-iobject.js");e.exports=s("./node_modules/core-js/modules/_iter-define.js")(Array,"Array",function(e,o){this._t=u(e),this._i=0,this._k=o},function(){var e=this._t,o=this._k,s=this._i++;return!e||s>=e.length?(this._t=void 0,t(1)):t(0,"keys"==o?s:"values"==o?e[s]:[s,e[s]])},"values"),n.Arguments=n.Array,r("keys"),r("values"),r("entries")},"./node_modules/core-js/modules/es6.object.assign.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_export.js");r(r.S+r.F,"Object",{assign:s("./node_modules/core-js/modules/_object-assign.js")})},"./node_modules/core-js/modules/es6.object.to-string.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_classof.js"),t={};t[s("./node_modules/core-js/modules/_wks.js")("toStringTag")]="z",t+""!="[object z]"&&s("./node_modules/core-js/modules/_redefine.js")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},"./node_modules/core-js/modules/es6.promise.js":function(e,o,s){"use strict";var r,t,n,u,d=s("./node_modules/core-js/modules/_library.js"),i=s("./node_modules/core-js/modules/_global.js"),c=s("./node_modules/core-js/modules/_ctx.js"),l=s("./node_modules/core-js/modules/_classof.js"),a=s("./node_modules/core-js/modules/_export.js"),m=s("./node_modules/core-js/modules/_is-object.js"),j=s("./node_modules/core-js/modules/_a-function.js"),f=s("./node_modules/core-js/modules/_an-instance.js"),_=s("./node_modules/core-js/modules/_for-of.js"),p=s("./node_modules/core-js/modules/_species-constructor.js"),h=s("./node_modules/core-js/modules/_task.js").set,y=s("./node_modules/core-js/modules/_microtask.js")(),v=s("./node_modules/core-js/modules/_new-promise-capability.js"),b=s("./node_modules/core-js/modules/_perform.js"),g=s("./node_modules/core-js/modules/_user-agent.js"),x=s("./node_modules/core-js/modules/_promise-resolve.js"),w="Promise",S=i.TypeError,O=i.process,A=O&&O.versions,P=A&&A.v8||"",k=i[w],T="process"==l(O),E=function(){},R=t=v.f,B=!!function(){try{var e=k.resolve(1),o=(e.constructor={})[s("./node_modules/core-js/modules/_wks.js")("species")]=function(e){e(E,E)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof o&&0!==P.indexOf("6.6")&&-1===g.indexOf("Chrome/66")}catch(e){}}(),L=function(e){var o;return!(!m(e)||"function"!=typeof(o=e.then))&&o},F=function(e,o){if(!e._n){e._n=!0;var s=e._c;y(function(){for(var r=e._v,t=1==e._s,n=0,u=function(o){var s,n,u,d=t?o.ok:o.fail,i=o.resolve,c=o.reject,l=o.domain;try{d?(t||(2==e._h&&I(e),e._h=1),!0===d?s=r:(l&&l.enter(),s=d(r),l&&(l.exit(),u=!0)),s===o.promise?c(S("Promise-chain cycle")):(n=L(s))?n.call(s,i,c):i(s)):c(r)}catch(e){l&&!u&&l.exit(),c(e)}};s.length>n;)u(s[n++]);e._c=[],e._n=!1,o&&!e._h&&M(e)})}},M=function(e){h.call(i,function(){var o,s,r,t=e._v,n=D(e);if(n&&(o=b(function(){T?O.emit("unhandledRejection",t,e):(s=i.onunhandledrejection)?s({promise:e,reason:t}):(r=i.console)&&r.error&&r.error("Unhandled promise rejection",t)}),e._h=T||D(e)?2:1),e._a=void 0,n&&o.e)throw o.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},I=function(e){h.call(i,function(){var o;T?O.emit("rejectionHandled",e):(o=i.onrejectionhandled)&&o({promise:e,reason:e._v})})},U=function(e){var o=this;o._d||(o._d=!0,(o=o._w||o)._v=e,o._s=2,o._a||(o._a=o._c.slice()),F(o,!0))},C=function(e){var o,s=this;if(!s._d){s._d=!0,s=s._w||s;try{if(s===e)throw S("Promise can't be resolved itself");(o=L(e))?y(function(){var r={_w:s,_d:!1};try{o.call(e,c(C,r,1),c(U,r,1))}catch(e){U.call(r,e)}}):(s._v=e,s._s=1,F(s,!1))}catch(e){U.call({_w:s,_d:!1},e)}}};B||(k=function e(o){f(this,k,w,"_h"),j(o),r.call(this);try{o(c(C,this,1),c(U,this,1))}catch(e){U.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=s("./node_modules/core-js/modules/_redefine-all.js")(k.prototype,{then:function(e,o){var s=R(p(this,k));return s.ok="function"!=typeof e||e,s.fail="function"==typeof o&&o,s.domain=T?O.domain:void 0,this._c.push(s),this._a&&this._a.push(s),this._s&&F(this,!1),s.promise},catch:function(e){return this.then(void 0,e)}}),n=function(){var e=new r;this.promise=e,this.resolve=c(C,e,1),this.reject=c(U,e,1)},v.f=R=function(e){return e===k||e===u?new n(e):t(e)}),a(a.G+a.W+a.F*!B,{Promise:k}),s("./node_modules/core-js/modules/_set-to-string-tag.js")(k,w),s("./node_modules/core-js/modules/_set-species.js")(w),u=s("./node_modules/core-js/modules/_core.js")[w],a(a.S+a.F*!B,w,{reject:function(e){var o=R(this);return(0,o.reject)(e),o.promise}}),a(a.S+a.F*(d||!B),w,{resolve:function(e){return x(d&&this===u?k:this,e)}}),a(a.S+a.F*!(B&&s("./node_modules/core-js/modules/_iter-detect.js")(function(e){k.all(e).catch(E)})),w,{all:function(e){var o=this,s=R(o),r=s.resolve,t=s.reject,n=b(function(){var s=[],n=0,u=1;_(e,!1,function(e){var d=n++,i=!1;s.push(void 0),u++,o.resolve(e).then(function(e){i||(i=!0,s[d]=e,--u||r(s))},t)}),--u||r(s)});return n.e&&t(n.v),s.promise},race:function(e){var o=this,s=R(o),r=s.reject,t=b(function(){_(e,!1,function(e){o.resolve(e).then(s.resolve,r)})});return t.e&&r(t.v),s.promise}})},"./node_modules/core-js/modules/es6.string.ends-with.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_to-length.js"),n=s("./node_modules/core-js/modules/_string-context.js"),u="endsWith",d=""[u];r(r.P+r.F*s("./node_modules/core-js/modules/_fails-is-regexp.js")(u),"String",{endsWith:function(e){var o=n(this,e,u),s=arguments.length>1?arguments[1]:void 0,r=t(o.length),i=void 0===s?r:Math.min(t(s),r),c=String(e);return d?d.call(o,c,i):o.slice(i-c.length,i)===c}})},"./node_modules/core-js/modules/es6.string.includes.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_string-context.js"),n="includes";r(r.P+r.F*s("./node_modules/core-js/modules/_fails-is-regexp.js")(n),"String",{includes:function(e){return!!~t(this,e,n).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es6.string.iterator.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_string-at.js")(!0);s("./node_modules/core-js/modules/_iter-define.js")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,o=this._t,s=this._i;return s>=o.length?{value:void 0,done:!0}:(e=r(o,s),this._i+=e.length,{value:e,done:!1})})},"./node_modules/core-js/modules/es6.string.starts-with.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_to-length.js"),n=s("./node_modules/core-js/modules/_string-context.js"),u="startsWith",d=""[u];r(r.P+r.F*s("./node_modules/core-js/modules/_fails-is-regexp.js")(u),"String",{startsWith:function(e){var o=n(this,e,u),s=t(Math.min(arguments.length>1?arguments[1]:void 0,o.length)),r=String(e);return d?d.call(o,r,s):o.slice(s,s+r.length)===r}})},"./node_modules/core-js/modules/es7.array.includes.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_array-includes.js")(!0);r(r.P,"Array",{includes:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),s("./node_modules/core-js/modules/_add-to-unscopables.js")("includes")},"./node_modules/core-js/modules/es7.object.entries.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_object-to-array.js")(!0);r(r.S,"Object",{entries:function(e){return t(e)}})},"./node_modules/core-js/modules/es7.object.values.js":function(e,o,s){var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_object-to-array.js")(!1);r(r.S,"Object",{values:function(e){return t(e)}})},"./node_modules/core-js/modules/es7.promise.finally.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_core.js"),n=s("./node_modules/core-js/modules/_global.js"),u=s("./node_modules/core-js/modules/_species-constructor.js"),d=s("./node_modules/core-js/modules/_promise-resolve.js");r(r.P+r.R,"Promise",{finally:function(e){var o=u(this,t.Promise||n.Promise),s="function"==typeof e;return this.then(s?function(s){return d(o,e()).then(function(){return s})}:e,s?function(s){return d(o,e()).then(function(){throw s})}:e)}})},"./node_modules/core-js/modules/es7.promise.try.js":function(e,o,s){"use strict";var r=s("./node_modules/core-js/modules/_export.js"),t=s("./node_modules/core-js/modules/_new-promise-capability.js"),n=s("./node_modules/core-js/modules/_perform.js");r(r.S,"Promise",{try:function(e){var o=t.f(this),s=n(e);return(s.e?o.reject:o.resolve)(s.v),o.promise}})},"./node_modules/core-js/modules/web.dom.iterable.js":function(e,o,s){for(var r=s("./node_modules/core-js/modules/es6.array.iterator.js"),t=s("./node_modules/core-js/modules/_object-keys.js"),n=s("./node_modules/core-js/modules/_redefine.js"),u=s("./node_modules/core-js/modules/_global.js"),d=s("./node_modules/core-js/modules/_hide.js"),i=s("./node_modules/core-js/modules/_iterators.js"),c=s("./node_modules/core-js/modules/_wks.js"),l=c("iterator"),a=c("toStringTag"),m=i.Array,j={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=t(j),_=0;_<f.length;_++){var p,h=f[_],y=j[h],v=u[h],b=v&&v.prototype;if(b&&(b[l]||d(b,l,m),b[a]||d(b,a,h),i[h]=m,y))for(p in r)b[p]||n(b,p,r[p],!0)}},"./node_modules/whatwg-fetch/fetch.js":function(e,o){!function(e){"use strict";if(!e.fetch){var o={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(o.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},t=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,o){e=d(e),o=i(o);var s=this.map[e];this.map[e]=s?s+","+o:o},l.prototype.delete=function(e){delete this.map[d(e)]},l.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},l.prototype.set=function(e,o){this.map[d(e)]=i(o)},l.prototype.forEach=function(e,o){for(var s in this.map)this.map.hasOwnProperty(s)&&e.call(o,this.map[s],s,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(o,s){e.push(s)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(o){e.push(o)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(o,s){e.push([s,o])}),c(e)},o.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var n=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},_.call(p.prototype),_.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var u=[301,302,303,307,308];y.redirect=function(e,o){if(-1===u.indexOf(o))throw new RangeError("Invalid status code");return new y(null,{status:o,headers:{location:e}})},e.Headers=l,e.Request=p,e.Response=y,e.fetch=function(e,s){return new Promise(function(r,t){var n=new p(e,s),u=new XMLHttpRequest;u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:function(e){var o=new l;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var s=e.split(":"),r=s.shift().trim();if(r){var t=s.join(":").trim();o.append(r,t)}}),o}(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;r(new y(o,e))},u.onerror=function(){t(new TypeError("Network request failed"))},u.ontimeout=function(){t(new TypeError("Network request failed"))},u.open(n.method,n.url,!0),"include"===n.credentials?u.withCredentials=!0:"omit"===n.credentials&&(u.withCredentials=!1),"responseType"in u&&o.blob&&(u.responseType="blob"),n.headers.forEach(function(e,o){u.setRequestHeader(o,e)}),u.send(void 0===n._bodyInit?null:n._bodyInit)})},e.fetch.polyfill=!0}function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var s={next:function(){var o=e.shift();return{done:void 0===o,value:o}}};return o.iterable&&(s[Symbol.iterator]=function(){return s}),s}function l(e){this.map={},e instanceof l?e.forEach(function(e,o){this.append(o,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(o){this.append(o,e[o])},this)}function a(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise(function(o,s){e.onload=function(){o(e.result)},e.onerror=function(){s(e.error)}})}function j(e){var o=new FileReader,s=m(o);return o.readAsArrayBuffer(e),s}function f(e){if(e.slice)return e.slice(0);var o=new Uint8Array(e.byteLength);return o.set(new Uint8Array(e)),o.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(o.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(o.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o.arrayBuffer&&o.blob&&r(e))this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!t(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(j)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return function(e){var o=new FileReader,s=m(o);return o.readAsText(e),s}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var o=new Uint8Array(e),s=new Array(o.length),r=0;r<o.length;r++)s[r]=String.fromCharCode(o[r]);return s.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(e,o){var s=(o=o||{}).body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,o.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=o.credentials||this.credentials||"omit",!o.headers&&this.headers||(this.headers=new l(o.headers)),this.method=function(e){var o=e.toUpperCase();return n.indexOf(o)>-1?o:e}(o.method||this.method||"GET"),this.mode=o.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function h(e){var o=new FormData;return e.trim().split("&").forEach(function(e){if(e){var s=e.split("="),r=s.shift().replace(/\+/g," "),t=s.join("=").replace(/\+/g," ");o.append(decodeURIComponent(r),decodeURIComponent(t))}}),o}function y(e,o){o||(o={}),this.type="default",this.status=void 0===o.status?200:o.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in o?o.statusText:"OK",this.headers=new l(o.headers),this.url=o.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},"./src/main/resources/js/polyfills.ts":function(e,o,s){"use strict";s.r(o);var r=s("./node_modules/core-js/fn/array/includes.js"),t=(s.n(r),s("./node_modules/core-js/fn/array/find.js")),n=(s.n(t),s("./node_modules/core-js/fn/array/from.js")),u=(s.n(n),s("./node_modules/core-js/fn/object/assign.js")),d=(s.n(u),s("./node_modules/core-js/fn/object/values.js")),i=(s.n(d),s("./node_modules/core-js/fn/object/entries.js")),c=(s.n(i),s("./node_modules/core-js/fn/string/includes.js")),l=(s.n(c),s("./node_modules/core-js/fn/string/starts-with.js")),a=(s.n(l),s("./node_modules/core-js/fn/string/ends-with.js")),m=(s.n(a),s("./node_modules/core-js/es6/promise.js")),j=(s.n(m),s("./node_modules/core-js/fn/promise.js"));s.n(j)},"./src/main/resources/js/productDetection.js":function(e,o){!function(e){function o(){return"undefined"!=typeof bitbucket}function s(){return"undefined"!=typeof JIRA}function r(){return"undefined"!=typeof Confluence}function t(){return"undefined"!=typeof Bamboo}var n;"undefined"==typeof ScriptRunner&&(window.ScriptRunner={}),s()?n="jira":r()?n="confluence":o()?n="bitbucket":t()&&(n="bamboo"),ScriptRunner.Product={isBitbucket:o,isConfluence:r,isJira:s,isBamboo:t,productName:n}}(AJS.$)},"./src/main/resources/js/web-response-renderer.js":function(e,o,s){s("./src/main/resources/js/productDetection.js"),function(e){e(function(){var o="com.onresolve."+ScriptRunner.Product.productName+".groovy.groovyrunner:web-item-response-renderer.web-item-actions-data-provider",r=WRM.data.claim(o),t=function(o,s,t){"panelRefreshed"!=t&&t||(("bamboo"===ScriptRunner.Product.productName||"jira"===ScriptRunner.Product.productName&&window.location.href.indexOf("/servicedesk/customer")<0)&&void 0!==r?e.each(r,function(e,o){var s=o.id;d(o.action,s)}):(i(),e("aui-inline-dialog, aui-inline-dialog2").on("aui-show aui-layer-show",function(){i()})),AJS.dialog2.off("show").on("show",function(o){if("sr-dialog"==o.target.id){var s=AJS.dialog2(o.target);e(o.target).find("#dialog-close-button").click(function(e){e.preventDefault(),s.hide(),s.remove()})}}))};function n(o){AJS.$.ajax({type:"GET",dataType:"html",url:o.attr("href")}).done(function(o){AJS.dialog2(e(o)).show()}).fail(function(e,o,s){console.warn("Failed to execute remote:",s)})}function u(e){Promise.resolve().then(function(){var o=[s("aui/flag")];(function(o){AJS.$.ajax({type:"GET",dataType:"json",url:e.attr("href")}).done(function(e){o(e)}).fail(function(e,o,s){console.warn("Failed to execute remote:",s)})}).apply(null,o)}).catch(s.oe)}function d(e,o){"RUN_CODE_SHOW_DIALOG"===e&&c(o,n),"RUN_CODE_SHOW_FLAG"===e&&c(o,u)}function i(){c(".sr-trigger-dialog",n),c(".sr-trigger-flag",u)}function c(o,s){var r=e(document);r.off("click.sr-fragments",o).on("click.sr-fragments",o,l(s)),r.children().off("click.sr-fragments",o).on("click.sr-fragments",o,l(s))}function l(o){return function(s){s.preventDefault();var r=e(s.target),t=r.closest("[href]"),n=r.find("[href]").andSelf();return o(0!=t.length?t:n),!1}}e(document).bind("newContentAdded",t),t(0,e(document),null),window.location.href.indexOf("RapidBoard.jspa?")>-1&&e("#ghx-detail-issue").livequery(function(){t()})})}(AJS.$)},8:function(e,o,s){s("./src/main/resources/js/polyfills.ts"),s("./node_modules/whatwg-fetch/fetch.js"),e.exports=s("./src/main/resources/js/web-response-renderer.js")},"aui/flag":function(e,o){e.exports=require("aui/flag")}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:attachment-menu-link-init', location = 'js/menu/initAttachmentMenuLink.js' */
require(["jquery","jira/analytics","jira/util/events","dndattachment/util/events/types"],function(c,f,j,i){var e="issueaction-attach-file";var a=function(k){k.addClass(e);k.click()};var b=function(){var k=c('<input type="file" multiple />');k.change(function(l){j.trigger(i.ATTACHMENT_FOR_PAGE_RECEIVED,{files:k[0].files})});k.click()};var h=function(k){return !!k.data("issuekey")};var g=function(){c(document).on("click",".unified-attach-file",function(m){f.send({name:"issue.dnd.attachment.opsbar.attachFiles.linkClick",data:{}});var k=c(m.target);if(k.hasClass(e)){return}m.preventDefault();var l=c(".issue-drop-zone").length;if(l&&!h(k)){b()}else{a(k)}})};var d=function(){g()};if(c.isReady){d()}else{c(d)}});;
;
/* module-key = 'com.googlecode.jira-suite-utilities:common', location = 'com/googlecode/jsu/maps/LocationField.js' */
(function(i){var d=window,j="onJSUGMapsLoad",n=[],g=false,a=false;function k(){var p;while(p=n.shift()){p()}}function e(q){var p=d.google.maps&&d.google.maps.LatLng;if(p){n.push(q);k()}else{if(a){n.push(q)}else{a=true;n.push(q);google.load("maps","3",{other_params:"key="+window.JSU.Google.Maps.Key,callback:k})}}}function f(q){if(d.google&&d.google.load){e(q)}else{if(g){n.push(q)}else{g=true;d[j]=function(){e(q)};var p=document.createElement("script");p.src="https://www.google.com/jsapi?callback="+j;p.type="text/javascript";i("body").append(p)}}}function b(p,q){f(function(){new google.maps.Geocoder().geocode({address:p},q)})}function c(p){if(p.hasClass("open")||p.hasClass("notFound")||p.hasClass("noKey")){l(p)}else{if(window.JSU.Google.Maps.Key){m(p)}else{p.addClass("noKey")}}}function l(p){p.removeClass("open");p.removeClass("notFound");p.removeClass("noKey")}function o(p){return !isNaN(parseFloat(p))&&isFinite(p)}function h(p){return(!p||0===p.length)}function m(t){var q=t.find("a.location").text(),p="",r=t.find(".jsuMap");var s=q.split("=>");if(s.length==2){q=s[0].trim();p=s[1].trim()}b(q,function(w,u){if(u==google.maps.GeocoderStatus.OK){t.addClass("open");var A=new google.maps.Map(r.get(0),{zoom:8,center:w[0].geometry.location,mapTypeId:google.maps.MapTypeId.ROADMAP});var z=q.split(",");if(z.length==2&&o(z[0])&&o(z[1])){var B=new google.maps.LatLng(z[0],z[1]);new google.maps.Marker({position:B,map:A,title:q})}else{new google.maps.Marker({map:A,position:w[0].geometry.location,title:q})}if(!h(p)){var v=new google.maps.DirectionsRenderer();var y=new google.maps.DirectionsService();v.setMap(A);var x={origin:q,destination:p,travelMode:google.maps.TravelMode.DRIVING};y.route(x,function(D,C){if(C==google.maps.DirectionsStatus.OK){v.setDirections(D)}})}}else{t.addClass("notFound")}})}JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(s,p,r){if(r===JIRA.CONTENT_ADDED_REASON.panelRefreshed||r===JIRA.CONTENT_ADDED_REASON.pageLoad){var q=i(".jsuLocation.ready",p);q.removeClass("ready");q.each(function(t,u){u=i(u);u.find("> a").click(function(v){v.preventDefault();c(u)})})}});JIRA.bind(JIRA.Events.INLINE_EDIT_STARTED,function(){var p=JIRA.Components.IssueEditor.InlineEditUtils.BlurTriggers.Default;JIRA.Components.IssueEditor.InlineEditUtils.BlurTriggerMapping.custom.locationselect=p;JIRA.Components.IssueEditor.InlineEditUtils.BlurTriggerMapping.custom.locationtextfield=p;JIRA.Components.IssueEditor.InlineEditUtils.BlurTriggerMapping.custom.directionsfield=p})})(AJS.$);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_11', location = '11.7bdce6a3676ef58e9bfa.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[11],{47:function(n,i,s){var e,t;e=[s(1),s(0),i],void 0===(t=function(n,i,s){var e=n.__esModule?n.default:n,t=i.__esModule?i.default:i;s.install=e.once(function(){t.fn.sdSerializeObject=function(){var n={},i=this.find(":input").serializeArray();return t.each(i,function(){n[this.name]?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(this.value||"")):n[this.name]=this.value||""}),n}})}.apply(i,e))||(n.exports=t)}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal~jira.admin.conf~jira.workflow.view~sd.admin.config~sd.project.admin~sd.pr~7818ab27', location = 'atl.general~customerportal~jira.admin.conf~jira.workflow.view~sd.admin.config~sd.project.admin~sd.pr~7818ab27.04fca97fda62cd90d2ea.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[70],{145:function(n,r,e){"use strict";e.r(r),e.d(r,"getUrl",function(){return s}),e.d(r,"getKBUrl",function(){return u});var i=e(32),t=Object(i.a)("com.atlassian.servicedesk.core-ui:util-help-links.help-links"),s=function(n){var r=t&&t.help&&t.help[n];if(r)return r},u=function(n){var r=t&&t.kb&&t.kb[n];if(r)return r}}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal~sd.admin.config~sd.project.admin~sd.project.sidebar.content~sd.project.vi~3e9bfaea', location = 'atl.general~customerportal~sd.admin.config~sd.project.admin~sd.project.sidebar.content~sd.project.vi~3e9bfaea.9cde97df80ae6643c27e.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[71],{75:function(e,a,s){var t;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Shared&&(ServiceDesk.Templates.Shared={}),void 0===ServiceDesk.Templates.Shared.Utils&&(ServiceDesk.Templates.Shared.Utils={}),ServiceDesk.Templates.Shared.Utils.helpLinkStart=function(e,a){return'<a class="sd-help-link-docs'+(e.extraClasses?" "+soy.$$escapeHtml(e.extraClasses):"")+'" href="'+soy.$$escapeHtml(s(145).getUrl(e.helpLinkKey))+'" data-analytics-key="page.view.help.docs.'+soy.$$escapeHtml(e.analyticsKey)+'"'+(0!=e.newTab?'target="_blank"':"")+">"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Utils.helpLinkStart.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpLinkStart"),ServiceDesk.Templates.Shared.Utils.helpKBLinkStart=function(e,a){return'<a class="sd-help-kb-link-docs" href="'+soy.$$escapeHtml(s(145).getKBUrl(e.helpLinkKey))+'" data-analytics-key="page.view.help.docs.'+soy.$$escapeHtml(e.analyticsKey)+'"'+(0!=e.newTab?'target="_blank"':"")+">"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Utils.helpKBLinkStart.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpKBLinkStart"),ServiceDesk.Templates.Shared.Utils.helpLinkEnd=function(e,a){return"</a>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Utils.helpLinkEnd.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpLinkEnd"),ServiceDesk.Templates.Shared.Utils.helpLink=function(e,a){return""+ServiceDesk.Templates.Shared.Utils.helpLinkStart(e)+soy.$$escapeHtml(e.linkText)+ServiceDesk.Templates.Shared.Utils.helpLinkEnd(null)},goog.DEBUG&&(ServiceDesk.Templates.Shared.Utils.helpLink.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpLink"),ServiceDesk.Templates.Shared.Utils.helpKBLink=function(e,a){return""+ServiceDesk.Templates.Shared.Utils.helpKBLinkStart(e)+soy.$$escapeHtml(e.linkText)+ServiceDesk.Templates.Shared.Utils.helpLinkEnd(null)},goog.DEBUG&&(ServiceDesk.Templates.Shared.Utils.helpKBLink.soyTemplateName="ServiceDesk.Templates.Shared.Utils.helpKBLink"),ServiceDesk.Templates.Shared.Utils.user=function(e,a){return'<span class="sd-user '+((e=e||{}).tag?"sd-user-tagged":"")+'" title="'+soy.$$escapeHtml(e.displayName)+'">'+(e.avatarSize?'<span class="aui-avatar aui-avatar-'+soy.$$escapeHtml(e.avatarSize)+" sd-user-avatar "+(e.tag?"sd-user-cell sd-avatar-cell":"")+'"><span class="aui-avatar-inner"><img src="'+soy.$$escapeHtml(e.avatarUrl)+'"></img></span></span>':"")+(e.tag?'<span class="sd-user-cell">':"")+'<span class="sd-user-value">'+(e.isNotActive?"<del>"+soy.$$escapeHtml(e.displayName)+"</del> ("+soy.$$escapeHtml("Inactive")+")":soy.$$escapeHtml(e.displayName))+"</span>"+(e.tag?'<span class="sd-user-tag" title="'+soy.$$escapeHtml(e.tag)+'">'+soy.$$escapeHtml(e.tag)+"</span></span>":"")+"</span>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Utils.user.soyTemplateName="ServiceDesk.Templates.Shared.Utils.user"),ServiceDesk.Templates.Shared.Utils.organisation=function(e,a){return e=e||{},'<a href="'+soy.$$escapeHtml(e.organisationProfileUrl)+'"><span class="sd-user" title="'+soy.$$escapeHtml(e.displayName)+'">'+(e.avatarSize?'<span class="aui-avatar aui-avatar-'+soy.$$escapeHtml(e.avatarSize)+' sd-user-avatar"><span class="aui-avatar-inner">'+(e.avatarUrl?'<img alt="'+soy.$$escapeHtml("Organization\'s avatar")+'"src="'+soy.$$escapeHtml(e.avatarUrl)+'"></img>':'<span class="organization-listing-avatar" />')+"</span></span>":"")+'<span class="sd-user-value">'+soy.$$escapeHtml(e.displayName)+"</span></span></a>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Utils.organisation.soyTemplateName="ServiceDesk.Templates.Shared.Utils.organisation"),ServiceDesk.Templates.Shared.Utils.profileLink=function(e,a){return'<a class="user-hover sd-user-hover" rel="'+soy.$$escapeHtml(e.name)+'" href="'+soy.$$escapeHtml(AJS.contextPath())+"/secure/ViewProfile.jspa?name="+soy.$$escapeUri(e.name)+'">'+ServiceDesk.Templates.Shared.Utils.user(e)+"</a>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Utils.profileLink.soyTemplateName="ServiceDesk.Templates.Shared.Utils.profileLink"),ServiceDesk.Templates.Shared.Utils.userHover=function(e,a){return'<span class="user-hover sd-user-hover" rel="'+soy.$$escapeHtml(e.name)+'">'+ServiceDesk.Templates.Shared.Utils.user(e)+"</span>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Utils.userHover.soyTemplateName="ServiceDesk.Templates.Shared.Utils.userHover"),ServiceDesk.Templates.Shared.Utils.generalError=function(e,a){var s="";if(s+=soy.$$filterNoAutoescape(AJS.format("We were unable to submit your request. Please {0}refresh{1} the page and try again. Note that this will clear your request details.",'<a href="#" class="js-sd-reload-page">',"</a>"))+"<br /><br />",e.contactLink){var t='<a href="'+soy.$$escapeHtml(e.contactLink)+'" class="js-sd-reload-page">';s+=soy.$$filterNoAutoescape(AJS.format("If you have already tried again, {0}tell us about this issue{1}.",t,"</a>"))}else s+=soy.$$escapeHtml("If you have already tried again, contact your Jira Administrator.");return s},goog.DEBUG&&(ServiceDesk.Templates.Shared.Utils.generalError.soyTemplateName="ServiceDesk.Templates.Shared.Utils.generalError"),void 0===(t=function(){return ServiceDesk.Templates.Shared.Utils}.apply(a,[]))||(e.exports=t)}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal~sd.portal.api~sd.project.admin~sd.project.api', location = 'atl.general~customerportal~sd.portal.api~sd.project.admin~sd.project.api.c1e5ba0392ebfae73a0c.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[75],{72:function(t,e,i){var n,o;n=[i(1),i(0),e],void 0===(o=function(t,e,i){var n=t.__esModule?t.default:t,o=e.__esModule?e.default:e,r=function(t,e,i){var n,o=["webkit","Moz","ms","O"],r={};function s(t,i){var n,o=e.createElement(t||"div");for(n in i)o[n]=i[n];return o}function a(t){for(var e=1,i=arguments.length;e<i;e++)t.appendChild(arguments[e]);return t}var l,p=(l=s("style",{type:"text/css"}),a(e.getElementsByTagName("head")[0],l),l.sheet||l.styleSheet);function f(t,e,i,o){var s=["opacity",e,~~(100*t),i,o].join("-"),a=.01+i/o*100,l=Math.max(1-(1-t)/e*(100-a),t),f=n.substring(0,n.indexOf("Animation")).toLowerCase(),d=f&&"-"+f+"-"||"";return r[s]||(p.insertRule("@"+d+"keyframes "+s+"{0%{opacity:"+l+"}"+a+"%{opacity:"+t+"}"+(a+.01)+"%{opacity:1}"+(a+e)%100+"%{opacity:"+t+"}100%{opacity:"+l+"}}",p.cssRules.length),r[s]=1),s}function d(t,e){var n,r,s=t.style;if(s[e]!==i)return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<o.length;r++)if(s[n=o[r]+e]!==i)return n}function u(t,e){for(var i in e)t.style[d(t,i)||i]=e[i];return t}function c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]===i&&(t[o]=n[o])}return t}function h(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}var m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},w=function t(e){if(!this.spin)return new t(e);this.opts=c(e||{},t.defaults,m)};return w.defaults={},c(w.prototype,{spin:function(t){this.stop();var e,i,o=this,r=o.opts,a=o.el=u(s(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex}),l=r.radius+r.length+r.width;if(t&&(t.insertBefore(a,t.firstChild||null),i=h(t),e=h(a),u(a,{left:("auto"==r.left?i.x-e.x+(t.offsetWidth>>1):parseInt(r.left,10)+l)+"px",top:("auto"==r.top?i.y-e.y+(t.offsetHeight>>1):parseInt(r.top,10)+l)+"px"})),a.setAttribute("aria-role","progressbar"),o.lines(a,o.opts),!n){var p=0,f=r.fps,d=f/r.speed,c=(1-r.opacity)/(d*r.trail/100),m=d/r.lines;!function t(){p++;for(var e=r.lines;e;e--){var i=Math.max(1-(p+e*m)%d*c,r.opacity);o.opacity(a,r.lines-e,i,r)}o.timeout=o.el&&setTimeout(t,~~(1e3/f))}()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this},lines:function(t,e){var i,o=0;function r(t,i){return u(s(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*o+e.rotate)+"deg) translate("+e.radius+"px,0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(;o<e.lines;o++)i=u(s(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:n&&f(e.opacity,e.trail,o,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&a(i,u(r("#000","0 0 4px #000"),{top:"2px"})),a(t,a(i,r(e.color,"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}}),function(){function t(t,e){return s("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}var e=u(s("group"),{behavior:"url(#default#VML)"});!d(e,"transform")&&e.adj?(p.addRule(".spin-vml","behavior:url(#default#VML)"),w.prototype.lines=function(e,i){var n=i.length+i.width,o=2*n;function r(){return u(t("group",{coordsize:o+" "+o,coordorigin:-n+" "+-n}),{width:o,height:o})}var s,l=2*-(i.width+i.length)+"px",p=u(r(),{position:"absolute",top:l,left:l});function f(e,o,s){a(p,a(u(r(),{rotation:360/i.lines*e+"deg",left:~~o}),a(u(t("roundrect",{arcsize:i.corners}),{width:n,height:i.width,left:i.radius,top:-i.width>>1,filter:s}),t("fill",{color:i.color,opacity:i.opacity}),t("stroke",{opacity:0}))))}if(i.shadow)for(s=1;s<=i.lines;s++)f(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=i.lines;s++)f(s);return a(e,p)},w.prototype.opacity=function(t,e,i,n){var o=t.firstChild;n=n.shadow&&n.lines||0,o&&e+n<o.childNodes.length&&(o=(o=(o=o.childNodes[e+n])&&o.firstChild)&&o.firstChild)&&(o.opacity=i)}):n=d(e,"animation")}(),w}(window,document);i.install=n.once(function(){o.fn.spin=function(t,e){var i,n;if("string"==typeof t){if(!t in o.fn.spin.presets)throw new Error("Preset '"+t+"' isn't defined");i=o.fn.spin.presets[t],n=e||{}}else{if(e)throw new Error("Invalid arguments. Accepted arguments:\n$.spin([String preset[, Object options]]),\n$.spin(Object options),\n$.spin(Boolean shouldSpin)");i=o.fn.spin.presets.small,n=o.isPlainObject(t)?t:{}}return this.each(function(){var e=o(this),s=e.data();s.spinner&&(s.spinner.stop(),delete s.spinner),!1!==t&&(n=o.extend({color:e.css("color")},i,n),s.spinner=new r(n).spin(this))})},o.fn.spin.presets={small:{lines:12,length:3,width:2,radius:3,trail:60,speed:1.5},medium:{lines:12,length:5,width:3,radius:8,trail:60,speed:1.5},large:{lines:12,length:8,width:4,radius:10,trail:60,speed:1.5}},o.fn.spinStop=function(){return this.each(function(){var t=o(this).data();t.spinner&&(t.spinner.stop(),delete t.spinner)})}})}.apply(e,n))||(t.exports=o)}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_22', location = '22.395c4e1823331af83214.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[22],{52:function(o,s){o.exports=require("jira/dialog/form-dialog")}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal~sd.project.admin', location = 'atl.general~customerportal~sd.project.admin.35e67c6ee68887fa080e.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[85],{649:function(e,n,i){var s;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Shared&&(ServiceDesk.Templates.Shared={}),void 0===ServiceDesk.Templates.Shared.Spinners&&(ServiceDesk.Templates.Shared.Spinners={}),ServiceDesk.Templates.Shared.Spinners.spinner=function(e,n){return'<div class="sd-spinner-'+soy.$$escapeHtml(e.size)+" "+(e.extraClasses?soy.$$escapeHtml(e.extraClasses):"")+'" '+(e.extraAttributes?soy.$$escapeHtml(e.extraAttributes):"")+"></div>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Spinners.spinner.soyTemplateName="ServiceDesk.Templates.Shared.Spinners.spinner"),void 0===(s=function(){return ServiceDesk.Templates.Shared.Spinners}.apply(n,[]))||(e.exports=s)},650:function(e,n,i){(e.exports=i(9)(!1)).push([e.i,".sd-spinner-small {\n  display: inline-block;\n  padding-left: 24px;\n  min-height: 20px;\n  line-height: 20px;\n  position: relative;\n  z-index: 0;\n}\n.sd-spinner-small .sd-spin {\n  position: absolute;\n  margin-left: -24px;\n}\n.sd-spinner-medium {\n  display: inline-block;\n  padding-left: 42px;\n  min-height: 35px;\n  line-height: 35px;\n  position: relative;\n  z-index: 0;\n  font-size: 16px;\n}\n.sd-spinner-medium .sd-spin {\n  position: absolute;\n  margin-left: -42px;\n}\n.sd-spinner-large {\n  display: inline-block;\n  padding-left: 54px;\n  min-height: 45px;\n  line-height: 45px;\n  position: relative;\n  z-index: 0;\n  font-size: 18px;\n}\n.sd-spinner-large .sd-spin {\n  position: absolute;\n  margin-left: -54px;\n}\n.sd-spinner-xlarge {\n  display: inline-block;\n  padding-left: 96px;\n  min-height: 80px;\n  line-height: 80px;\n  position: relative;\n  z-index: 0;\n  font-size: 40px;\n}\n.sd-spinner-xlarge .sd-spin {\n  position: absolute;\n  margin-left: -96px;\n}\n",""])},651:function(e,n,i){var s=i(650);"string"==typeof s&&(s=[[e.i,s,""]]);var t={hmr:!0,transform:void 0,insertInto:void 0};i(8)(s,t);s.locals&&(e.exports=s.locals)},97:function(e,n,i){"use strict";i.d(n,"a",function(){return r});var s=i(1),t=i(0),a=i(11),p=i(4),r=s.default.once(function(){Object(a.a)("data-analytics-key",{type:a.a.types.ATTR,attached:function(e){var n=Object(t.default)(e);n.click(function(){var e={},i=n.data("analytics-key");-1!==i.substr(".help.docs.")&&(e.docsUrl=n.attr("href")),p.a.trackEvent(i,e)})}})})},98:function(e,n,i){"use strict";i.d(n,"a",function(){return d});var s=i(1),t=i(0),a=i(11),p=i(72),r=i.n(p),l=(i(651),i(649),function(e,n){var i=void 0;i="xlarge"===n?s.default.extend({},t.default.fn.spin.presets.large,{left:0,className:"sd-spin",length:12,width:5,radius:12}):s.default.extend(t.default.fn.spin.presets[n],{left:0,className:"sd-spin"}),Object(t.default)(e).spin(i)}),d=s.default.once(function(){r.a.install(),Object(a.a)("sd-spinner-small",{type:a.a.types.CLASS,attached:function(e){l(e,"small")}}),Object(a.a)("sd-spinner-medium",{type:a.a.types.CLASS,attached:function(e){l(e,"medium")}}),Object(a.a)("sd-spinner-large",{type:a.a.types.CLASS,attached:function(e){l(e,"large")}}),Object(a.a)("sd-spinner-xlarge",{type:a.a.types.CLASS,attached:function(e){l(e,"xlarge")}})})}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~customerportal', location = 'atl.general~customerportal.6a15579aae75d1a6e238.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[106],{134:function(C,e,t){"use strict";var n=t(3),s=t(4),a=t(0),i=t(29),o=t(180),r=(t(637),t(636),t(143),t(188),n.a.Collection.extend({model:o.a})),l=n.a.Model.extend({namedAttributes:{maxDisplayedOrganisations:Number,expanded:Boolean,organisations:r,displayRemoveLink:Boolean,removeLinkClass:String,removeLinkTrigger:String,removeLinkStatusClass:String},getDisplayedOrganizations:function(){var C=this.getOrganisations().toJSON();return this.getExpanded()?C:C.slice(0,this.getMaxDisplayedOrganisations())},getRemoveLinkOptions:function(){return{class:this.getRemoveLinkClass(),trigger:this.getRemoveLinkTrigger(),statusClass:this.getRemoveLinkStatusClass()}},hasToggle:function(){return this.getOrganisations().length>this.getMaxDisplayedOrganisations()},defaults:{maxDisplayedOrganisations:5,expanded:!1,displayRemoveLink:!1,removeLinkClass:"",removeLinkTrigger:"",removeLinkStatusClass:""}}),d=n.a.View.extend({template:ServiceDesk.Templates.Components.CustomerOrganizations.main,events:{"click .js-orgs-expand":"onExpandClicked","click .js-orgs-contract":"onContractClicked"},onContractClicked:function(C){this.model.setExpanded(!1),s.a.trackEvent("servicedesk.issue.customer.organisations.list.contracted"),C.preventDefault(),this.render()},onExpandClicked:function(C){this.model.setExpanded(!0),s.a.trackEvent("servicedesk.issue.customer.organisations.list.expanded"),C.preventDefault(),this.render()},render:function(){var C=this.template({displayedOrganisations:this.model.getDisplayedOrganizations(),totalOrganisations:this.model.getOrganisations().length,hasToggle:this.model.hasToggle(),expanded:this.model.getExpanded(),displayRemoveLink:this.model.getDisplayRemoveLink(),removeLinkOptions:this.model.getRemoveLinkOptions()});this.$el.html(C)}});e.a=Object(i.a)("sd-customer-organizations",{created:function(C){var e=Object(a.default)(C);new d({el:e,model:new l(e.data())}).render()}})},135:function(C,e,t){"use strict";t.d(e,"a",function(){return i});var n=t(1),s=t(0),a=t(11);t(648);var i=function(){Object(a.a)("js-tooltip",{type:a.a.types.CLASS,created:function(C){var e=Object(s.default)(C),t=e.data();C.tipsyClassName=n.default.uniqueId("sd-tipsy-tooltip-"),t.className=C.tipsyClassName,function(C){if(C.is("button")){var e=C.attr("title");C.removeAttr("title");var t=Object(s.default)("<span />").addClass("sd-tipsy-btn-container").insertBefore(C);return C.appendTo(t),C.is(":disabled")?Object(s.default)("<span />").addClass("sd-tipsy-btn-blanket").attr("title",e).appendTo(t):(t.attr("title",e),t)}return C}(e).tooltip(t)},detached:function(C){Object(s.default)("."+C.tipsyClassName).remove()}})}},143:function(C,e,t){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Shared&&(ServiceDesk.Templates.Shared={}),void 0===ServiceDesk.Templates.Shared.Components&&(ServiceDesk.Templates.Shared.Components={}),void 0===ServiceDesk.Templates.Shared.Components.CustomerOrganization&&(ServiceDesk.Templates.Shared.Components.CustomerOrganization={}),ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer=function(C,e){return'<span class="sd-organization" title="'+soy.$$escapeHtml(C.organisationName)+'"><span class="sd-organization-cell">'+(C.avatarUrl?'<img src="'+soy.$$escapeHtml(C.avatarUrl)+'" />':'<div class="default-organization-avatar"></div>')+'</span><span class="sd-organization-value">'+soy.$$escapeHtml(C.organisationName)+"</span></span>"},goog.DEBUG&&(ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer.soyTemplateName="ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer"),void 0===(n=function(){return ServiceDesk.Templates.Shared.Components.CustomerOrganization}.apply(e,[]))||(C.exports=n)},157:function(C,e,t){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Components&&(ServiceDesk.Templates.Components={}),void 0===ServiceDesk.Templates.Components.Outsider&&(ServiceDesk.Templates.Components.Outsider={}),void 0===ServiceDesk.Templates.Components.Outsider.Comments&&(ServiceDesk.Templates.Components.Outsider.Comments={}),ServiceDesk.Templates.Components.Outsider.Comments.shareRequestLozenge=function(C,e){var t="",n=C.commentId?"js-share-request-popup-"+soy.$$escapeHtml(C.commentId)+"-"+soy.$$escapeHtml(Math.floor(1e5*Math.random())):"js-share-request-popup-"+soy.$$escapeHtml(Math.floor(1e5*Math.random()))+"-"+soy.$$escapeHtml(Math.floor(1e5*Math.random())),s=""+aui.renderExtraClasses({extraClasses:C.extraLozengeClasses});if(t+='<span class="aui-lozenge aui-lozenge-current aui-lozenge-subtle js-sd-no-access-lozenge '+soy.$$escapeHtml(s)+'" data-aui-trigger aria-controls="'+soy.$$escapeHtml(n)+'">'+soy.$$escapeHtml("No access to request")+"</span>",C.canAddAuthorAsParticipant&&C.authorUsername){var a=""+aui.renderExtraClasses({extraClasses:C.extraDialogClasses});t+='<aui-inline-dialog id="'+soy.$$escapeHtml(n)+'" class="sd-share-request-to-outsider-inline-dialog '+soy.$$escapeHtml(a)+'" responds-to="hover"><div>'+aui.buttons.button({text:"Share this request to give them access",type:"link",extraAttributes:C.commentId?{"data-username":C.authorUsername,"data-comment-id":C.commentId}:{"data-username":C.authorUsername},extraClasses:"js-share-request-to-outsider-link"})+(C.hideStatus?'<span class="cv-sd-status js-status"></span>':"")+"</div></aui-inline-dialog>"}return t},goog.DEBUG&&(ServiceDesk.Templates.Components.Outsider.Comments.shareRequestLozenge.soyTemplateName="ServiceDesk.Templates.Components.Outsider.Comments.shareRequestLozenge"),void 0===(n=function(){return ServiceDesk.Templates.Components.Outsider.Comments}.apply(e,[]))||(C.exports=n)},180:function(C,e,t){"use strict";var n=t(3),s=t(5),a=t.n(s),i=t(10);e.a=n.a.Model.extend({namedAttributes:{id:Number,name:String},renameOrganization:function(C){var e={newName:C};return Object(i.g)(a()()+"/rest/servicedesk/1/organisations/"+this.getId()+"/update",e)}})},188:function(C,e,t){var n=t(299);"string"==typeof n&&(n=[[C.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};t(8)(n,s);n.locals&&(C.exports=n.locals)},299:function(C,e,t){(C.exports=t(9)(!1)).push([C.i,'/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n.sd-organization {\n  white-space: nowrap;\n}\n.sd-organization .sd-organization-value {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 24px;\n}\n.sd-organization .sd-organization-cell {\n  display: inline-block;\n  vertical-align: middle;\n  padding-right: 5px;\n}\n.sd-organization .default-organization-avatar {\n  width: 24px;\n  height: 24px;\n  background-size: 24px;\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20width%3D%2248px%22%20height%3D%2248px%22%20viewBox%3D%220%200%2048%2048%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%203.8.3%20(29802)%20-%20http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%20--%3E%0A%20%20%20%20%3Ctitle%3EGroup%203%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Page-1%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group-3%22%20fill%3D%22%23333333%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17.4529116%2C31.9375007%20L11.5466615%2C31.9375007%20C11.4116615%2C31.9375007%2010.7704115%2C31.7501878%2010.7029115%2C31.6658128%20C10.5172865%2C31.4143753%2010.4666615%2C30.6887503%2010.7197865%2C29.8939378%20C10.7366615%2C29.8601878%2012.2216615%2C23.8358127%2014.7022865%2C22.3491252%20L15.7654115%2C21.6758127%20L14.7022865%2C20.9670623%20C13.7741615%2C20.3426873%2013.0822864%2C18.7243751%2013.0822864%2C17.5937501%20C13.0822864%2C15.7358126%2014.7360367%2C14.2187501%2016.5416617%2C14.2187501%20C18.3641617%2C14.2187501%2019.9687499%2C15.7358126%2019.9687499%2C17.5937501%20C19.9687499%2C18.8087501%2019.1404118%2C20.3764373%2018.1279118%2C20.9670623%20L17.0816615%2C21.6943752%20L18.1279114%2C22.4031252%20C18.5160364%2C22.6545627%2019.6312499%2C23.9741881%2019.9687499%2C24.3437506%20C20.2218749%2C23.8881256%2020.5087499%2C23.0933131%2020.8124999%2C22.6562506%20C20.7449999%2C22.5718756%2019.4610364%2C21.8125002%2019.3766614%2C21.7450002%20C20.3554114%2C20.8168752%2021.6562499%2C18.9943751%2021.6562499%2C17.5937501%20C21.6562499%2C14.8785626%2019.2079117%2C12.53125%2016.5416617%2C12.53125%20C13.8754117%2C12.53125%2011.5466615%2C14.8785626%2011.5466615%2C17.5937501%20C11.5466615%2C18.8948126%2012.2385364%2C20.8320631%2013.0822864%2C21.7450006%20C10.6691614%2C23.8020631%209.31916151%2C29.0839378%209.26853651%2C29.2695628%20C8.86353651%2C30.4676878%208.91416151%2C31.8008128%209.43728651%2C32.5433128%20C9.79166151%2C33.0664379%2010.0954115%2C33.5558126%2010.7197865%2C33.5558126%20L17.4529116%2C33.5558126%20L17.4529116%2C31.9375007%20Z%20M30.9107137%2C23.0275057%20C29.5874999%2C21.6437501%2028.4259492%2C21.4750003%2027.5625001%2C21.4750001%20C26.6990509%2C21.475%2025.7062499%2C21.4750001%2024.1848214%2C22.8587557%20C19.1476339%2C27.7826488%2019.1249999%2C33.5361679%2019.1249999%2C33.625%20C19.1249999%2C36.9492977%2021.6119528%2C37%2024.1874997%2C37%20L30.9107136%2C37%20C33.460737%2C36.9997939%2036%2C37.0111298%2036%2C33.625%20C36%2C33.5384351%2035.7200887%2C28.0379637%2030.9107137%2C23.0275057%20Z%20M27.5624999%2C10%20C30.3523708%2C9.9999996%2032.6249998%2C12.3456707%2032.6249998%2C15.1075028%20C32.6249998%2C17.8693349%2030.3974999%2C20.1250001%2027.5624999%2C20.1250001%20C24.7296093%2C20.1250001%2022.4999999%2C17.8693349%2022.4999999%2C15.1075028%20C22.4999999%2C12.3456707%2024.7726289%2C10.0000004%2027.5624999%2C10%20Z%22%20id%3D%22group%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M24%2C48%20C26.593763%2C48%2029.113269%2C47.5937541%2031.5585938%2C46.78125%20C34.0039185%2C45.9687459%2036.2109277%2C44.8203199%2038.1796875%2C43.3359375%20C40.1484473%2C41.8515551%2041.8710864%2C40.1211036%2043.3476562%2C38.1445312%20C44.8242261%2C36.1679589%2045.9687459%2C33.9570435%2046.78125%2C31.5117188%20C47.5937541%2C29.066394%2048%2C26.546888%2048%2C23.953125%20C48%2C20.7187338%2047.3632876%2C17.6250148%2046.0898438%2C14.671875%20C44.8163999%2C11.7187352%2043.1093857%2C9.1718857%2040.96875%2C7.03125%20C38.8281143%2C4.8906143%2036.2773586%2C3.18360012%2033.3164062%2C1.91015625%20C30.3554539%2C0.636712383%2027.2500162%2C0%2024%2C0%20C20.7499837%2C0%2017.6445461%2C0.636712383%2014.6835938%2C1.91015625%20C11.7226414%2C3.18360012%209.1718857%2C4.8906143%207.03125%2C7.03125%20C4.8906143%2C9.1718857%203.18360012%2C11.7187352%201.91015625%2C14.671875%20C0.636712383%2C17.6250148%200%2C20.7187338%200%2C23.953125%20C0%2C26.546888%200.406245937%2C29.066394%201.21875%2C31.5117188%20C2.03125406%2C33.9570435%203.17577387%2C36.1679589%204.65234375%2C38.1445312%20C6.12891363%2C40.1211036%207.85155266%2C41.8515551%209.8203125%2C43.3359375%20C11.7890723%2C44.8203199%2013.9960815%2C45.9687459%2016.4414062%2C46.78125%20C18.886731%2C47.5937541%2021.406237%2C48%2024%2C48%20Z%20M24%2C2%20C26.9830658%2C2%2029.8329162%2C2.57847318%2032.5496368%2C3.73543689%20C35.2663574%2C4.89240061%2037.6057206%2C6.4498284%2039.5677966%2C8.40776699%20C41.5298726%2C10.3657056%2043.0924074%2C12.7018473%2044.2554479%2C15.4162621%20C45.4184885%2C18.130677%2046%2C20.9740952%2046%2C23.9466019%20C46%2C26.9369082%2045.4184885%2C29.7936757%2044.2554479%2C32.5169903%20C43.0924074%2C35.2403049%2041.5298726%2C37.5853462%2039.5677966%2C39.5521845%20C37.6057206%2C41.5190228%2035.2663574%2C43.0853502%2032.5496368%2C44.2512136%20C29.8329162%2C45.417077%2026.9830658%2C46%2024%2C46%20C21.0169342%2C46%2018.1670838%2C45.417077%2015.4503632%2C44.2512136%20C12.7336426%2C43.0853502%2010.3942794%2C41.5190228%208.43220339%2C39.5521845%20C6.4701274%2C37.5853462%204.90759258%2C35.2403049%203.74455206%2C32.5169903%20C2.58151154%2C29.7936757%202%2C26.9369082%202%2C23.9466019%20C2%2C20.9740952%202.58151154%2C18.130677%203.74455206%2C15.4162621%20C4.90759258%2C12.7018473%206.4701274%2C10.3657056%208.43220339%2C8.40776699%20C10.3942794%2C6.4498284%2012.7336426%2C4.89240061%2015.4503632%2C3.73543689%20C18.1670838%2C2.57847318%2021.0169342%2C2%2024%2C2%20Z%22%20id%3D%22help-copy-2%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E");\n  background-repeat: no-repeat;\n}\n.organization-picker-avatar {\n  margin-right: 5px;\n  vertical-align: text-bottom;\n  width: 16px;\n  height: 16px;\n  background-size: 16px;\n  display: inline-block;\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20width%3D%2248px%22%20height%3D%2248px%22%20viewBox%3D%220%200%2048%2048%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%203.8.3%20(29802)%20-%20http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%20--%3E%0A%20%20%20%20%3Ctitle%3EGroup%203%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Page-1%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group-3%22%20fill%3D%22%23333333%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17.4529116%2C31.9375007%20L11.5466615%2C31.9375007%20C11.4116615%2C31.9375007%2010.7704115%2C31.7501878%2010.7029115%2C31.6658128%20C10.5172865%2C31.4143753%2010.4666615%2C30.6887503%2010.7197865%2C29.8939378%20C10.7366615%2C29.8601878%2012.2216615%2C23.8358127%2014.7022865%2C22.3491252%20L15.7654115%2C21.6758127%20L14.7022865%2C20.9670623%20C13.7741615%2C20.3426873%2013.0822864%2C18.7243751%2013.0822864%2C17.5937501%20C13.0822864%2C15.7358126%2014.7360367%2C14.2187501%2016.5416617%2C14.2187501%20C18.3641617%2C14.2187501%2019.9687499%2C15.7358126%2019.9687499%2C17.5937501%20C19.9687499%2C18.8087501%2019.1404118%2C20.3764373%2018.1279118%2C20.9670623%20L17.0816615%2C21.6943752%20L18.1279114%2C22.4031252%20C18.5160364%2C22.6545627%2019.6312499%2C23.9741881%2019.9687499%2C24.3437506%20C20.2218749%2C23.8881256%2020.5087499%2C23.0933131%2020.8124999%2C22.6562506%20C20.7449999%2C22.5718756%2019.4610364%2C21.8125002%2019.3766614%2C21.7450002%20C20.3554114%2C20.8168752%2021.6562499%2C18.9943751%2021.6562499%2C17.5937501%20C21.6562499%2C14.8785626%2019.2079117%2C12.53125%2016.5416617%2C12.53125%20C13.8754117%2C12.53125%2011.5466615%2C14.8785626%2011.5466615%2C17.5937501%20C11.5466615%2C18.8948126%2012.2385364%2C20.8320631%2013.0822864%2C21.7450006%20C10.6691614%2C23.8020631%209.31916151%2C29.0839378%209.26853651%2C29.2695628%20C8.86353651%2C30.4676878%208.91416151%2C31.8008128%209.43728651%2C32.5433128%20C9.79166151%2C33.0664379%2010.0954115%2C33.5558126%2010.7197865%2C33.5558126%20L17.4529116%2C33.5558126%20L17.4529116%2C31.9375007%20Z%20M30.9107137%2C23.0275057%20C29.5874999%2C21.6437501%2028.4259492%2C21.4750003%2027.5625001%2C21.4750001%20C26.6990509%2C21.475%2025.7062499%2C21.4750001%2024.1848214%2C22.8587557%20C19.1476339%2C27.7826488%2019.1249999%2C33.5361679%2019.1249999%2C33.625%20C19.1249999%2C36.9492977%2021.6119528%2C37%2024.1874997%2C37%20L30.9107136%2C37%20C33.460737%2C36.9997939%2036%2C37.0111298%2036%2C33.625%20C36%2C33.5384351%2035.7200887%2C28.0379637%2030.9107137%2C23.0275057%20Z%20M27.5624999%2C10%20C30.3523708%2C9.9999996%2032.6249998%2C12.3456707%2032.6249998%2C15.1075028%20C32.6249998%2C17.8693349%2030.3974999%2C20.1250001%2027.5624999%2C20.1250001%20C24.7296093%2C20.1250001%2022.4999999%2C17.8693349%2022.4999999%2C15.1075028%20C22.4999999%2C12.3456707%2024.7726289%2C10.0000004%2027.5624999%2C10%20Z%22%20id%3D%22group%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M24%2C48%20C26.593763%2C48%2029.113269%2C47.5937541%2031.5585938%2C46.78125%20C34.0039185%2C45.9687459%2036.2109277%2C44.8203199%2038.1796875%2C43.3359375%20C40.1484473%2C41.8515551%2041.8710864%2C40.1211036%2043.3476562%2C38.1445312%20C44.8242261%2C36.1679589%2045.9687459%2C33.9570435%2046.78125%2C31.5117188%20C47.5937541%2C29.066394%2048%2C26.546888%2048%2C23.953125%20C48%2C20.7187338%2047.3632876%2C17.6250148%2046.0898438%2C14.671875%20C44.8163999%2C11.7187352%2043.1093857%2C9.1718857%2040.96875%2C7.03125%20C38.8281143%2C4.8906143%2036.2773586%2C3.18360012%2033.3164062%2C1.91015625%20C30.3554539%2C0.636712383%2027.2500162%2C0%2024%2C0%20C20.7499837%2C0%2017.6445461%2C0.636712383%2014.6835938%2C1.91015625%20C11.7226414%2C3.18360012%209.1718857%2C4.8906143%207.03125%2C7.03125%20C4.8906143%2C9.1718857%203.18360012%2C11.7187352%201.91015625%2C14.671875%20C0.636712383%2C17.6250148%200%2C20.7187338%200%2C23.953125%20C0%2C26.546888%200.406245937%2C29.066394%201.21875%2C31.5117188%20C2.03125406%2C33.9570435%203.17577387%2C36.1679589%204.65234375%2C38.1445312%20C6.12891363%2C40.1211036%207.85155266%2C41.8515551%209.8203125%2C43.3359375%20C11.7890723%2C44.8203199%2013.9960815%2C45.9687459%2016.4414062%2C46.78125%20C18.886731%2C47.5937541%2021.406237%2C48%2024%2C48%20Z%20M24%2C2%20C26.9830658%2C2%2029.8329162%2C2.57847318%2032.5496368%2C3.73543689%20C35.2663574%2C4.89240061%2037.6057206%2C6.4498284%2039.5677966%2C8.40776699%20C41.5298726%2C10.3657056%2043.0924074%2C12.7018473%2044.2554479%2C15.4162621%20C45.4184885%2C18.130677%2046%2C20.9740952%2046%2C23.9466019%20C46%2C26.9369082%2045.4184885%2C29.7936757%2044.2554479%2C32.5169903%20C43.0924074%2C35.2403049%2041.5298726%2C37.5853462%2039.5677966%2C39.5521845%20C37.6057206%2C41.5190228%2035.2663574%2C43.0853502%2032.5496368%2C44.2512136%20C29.8329162%2C45.417077%2026.9830658%2C46%2024%2C46%20C21.0169342%2C46%2018.1670838%2C45.417077%2015.4503632%2C44.2512136%20C12.7336426%2C43.0853502%2010.3942794%2C41.5190228%208.43220339%2C39.5521845%20C6.4701274%2C37.5853462%204.90759258%2C35.2403049%203.74455206%2C32.5169903%20C2.58151154%2C29.7936757%202%2C26.9369082%202%2C23.9466019%20C2%2C20.9740952%202.58151154%2C18.130677%203.74455206%2C15.4162621%20C4.90759258%2C12.7018473%206.4701274%2C10.3657056%208.43220339%2C8.40776699%20C10.3942794%2C6.4498284%2012.7336426%2C4.89240061%2015.4503632%2C3.73543689%20C18.1670838%2C2.57847318%2021.0169342%2C2%2024%2C2%20Z%22%20id%3D%22help-copy-2%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E");\n  background-repeat: no-repeat;\n}\n.organization-listing-avatar {\n  width: 24px;\n  height: 24px;\n  background-size: 24px;\n  display: inline-block;\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20width%3D%2248px%22%20height%3D%2248px%22%20viewBox%3D%220%200%2048%2048%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%203.8.3%20(29802)%20-%20http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%20--%3E%0A%20%20%20%20%3Ctitle%3EGroup%203%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Page-1%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group-3%22%20fill%3D%22%23333333%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17.4529116%2C31.9375007%20L11.5466615%2C31.9375007%20C11.4116615%2C31.9375007%2010.7704115%2C31.7501878%2010.7029115%2C31.6658128%20C10.5172865%2C31.4143753%2010.4666615%2C30.6887503%2010.7197865%2C29.8939378%20C10.7366615%2C29.8601878%2012.2216615%2C23.8358127%2014.7022865%2C22.3491252%20L15.7654115%2C21.6758127%20L14.7022865%2C20.9670623%20C13.7741615%2C20.3426873%2013.0822864%2C18.7243751%2013.0822864%2C17.5937501%20C13.0822864%2C15.7358126%2014.7360367%2C14.2187501%2016.5416617%2C14.2187501%20C18.3641617%2C14.2187501%2019.9687499%2C15.7358126%2019.9687499%2C17.5937501%20C19.9687499%2C18.8087501%2019.1404118%2C20.3764373%2018.1279118%2C20.9670623%20L17.0816615%2C21.6943752%20L18.1279114%2C22.4031252%20C18.5160364%2C22.6545627%2019.6312499%2C23.9741881%2019.9687499%2C24.3437506%20C20.2218749%2C23.8881256%2020.5087499%2C23.0933131%2020.8124999%2C22.6562506%20C20.7449999%2C22.5718756%2019.4610364%2C21.8125002%2019.3766614%2C21.7450002%20C20.3554114%2C20.8168752%2021.6562499%2C18.9943751%2021.6562499%2C17.5937501%20C21.6562499%2C14.8785626%2019.2079117%2C12.53125%2016.5416617%2C12.53125%20C13.8754117%2C12.53125%2011.5466615%2C14.8785626%2011.5466615%2C17.5937501%20C11.5466615%2C18.8948126%2012.2385364%2C20.8320631%2013.0822864%2C21.7450006%20C10.6691614%2C23.8020631%209.31916151%2C29.0839378%209.26853651%2C29.2695628%20C8.86353651%2C30.4676878%208.91416151%2C31.8008128%209.43728651%2C32.5433128%20C9.79166151%2C33.0664379%2010.0954115%2C33.5558126%2010.7197865%2C33.5558126%20L17.4529116%2C33.5558126%20L17.4529116%2C31.9375007%20Z%20M30.9107137%2C23.0275057%20C29.5874999%2C21.6437501%2028.4259492%2C21.4750003%2027.5625001%2C21.4750001%20C26.6990509%2C21.475%2025.7062499%2C21.4750001%2024.1848214%2C22.8587557%20C19.1476339%2C27.7826488%2019.1249999%2C33.5361679%2019.1249999%2C33.625%20C19.1249999%2C36.9492977%2021.6119528%2C37%2024.1874997%2C37%20L30.9107136%2C37%20C33.460737%2C36.9997939%2036%2C37.0111298%2036%2C33.625%20C36%2C33.5384351%2035.7200887%2C28.0379637%2030.9107137%2C23.0275057%20Z%20M27.5624999%2C10%20C30.3523708%2C9.9999996%2032.6249998%2C12.3456707%2032.6249998%2C15.1075028%20C32.6249998%2C17.8693349%2030.3974999%2C20.1250001%2027.5624999%2C20.1250001%20C24.7296093%2C20.1250001%2022.4999999%2C17.8693349%2022.4999999%2C15.1075028%20C22.4999999%2C12.3456707%2024.7726289%2C10.0000004%2027.5624999%2C10%20Z%22%20id%3D%22group%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M24%2C48%20C26.593763%2C48%2029.113269%2C47.5937541%2031.5585938%2C46.78125%20C34.0039185%2C45.9687459%2036.2109277%2C44.8203199%2038.1796875%2C43.3359375%20C40.1484473%2C41.8515551%2041.8710864%2C40.1211036%2043.3476562%2C38.1445312%20C44.8242261%2C36.1679589%2045.9687459%2C33.9570435%2046.78125%2C31.5117188%20C47.5937541%2C29.066394%2048%2C26.546888%2048%2C23.953125%20C48%2C20.7187338%2047.3632876%2C17.6250148%2046.0898438%2C14.671875%20C44.8163999%2C11.7187352%2043.1093857%2C9.1718857%2040.96875%2C7.03125%20C38.8281143%2C4.8906143%2036.2773586%2C3.18360012%2033.3164062%2C1.91015625%20C30.3554539%2C0.636712383%2027.2500162%2C0%2024%2C0%20C20.7499837%2C0%2017.6445461%2C0.636712383%2014.6835938%2C1.91015625%20C11.7226414%2C3.18360012%209.1718857%2C4.8906143%207.03125%2C7.03125%20C4.8906143%2C9.1718857%203.18360012%2C11.7187352%201.91015625%2C14.671875%20C0.636712383%2C17.6250148%200%2C20.7187338%200%2C23.953125%20C0%2C26.546888%200.406245937%2C29.066394%201.21875%2C31.5117188%20C2.03125406%2C33.9570435%203.17577387%2C36.1679589%204.65234375%2C38.1445312%20C6.12891363%2C40.1211036%207.85155266%2C41.8515551%209.8203125%2C43.3359375%20C11.7890723%2C44.8203199%2013.9960815%2C45.9687459%2016.4414062%2C46.78125%20C18.886731%2C47.5937541%2021.406237%2C48%2024%2C48%20Z%20M24%2C2%20C26.9830658%2C2%2029.8329162%2C2.57847318%2032.5496368%2C3.73543689%20C35.2663574%2C4.89240061%2037.6057206%2C6.4498284%2039.5677966%2C8.40776699%20C41.5298726%2C10.3657056%2043.0924074%2C12.7018473%2044.2554479%2C15.4162621%20C45.4184885%2C18.130677%2046%2C20.9740952%2046%2C23.9466019%20C46%2C26.9369082%2045.4184885%2C29.7936757%2044.2554479%2C32.5169903%20C43.0924074%2C35.2403049%2041.5298726%2C37.5853462%2039.5677966%2C39.5521845%20C37.6057206%2C41.5190228%2035.2663574%2C43.0853502%2032.5496368%2C44.2512136%20C29.8329162%2C45.417077%2026.9830658%2C46%2024%2C46%20C21.0169342%2C46%2018.1670838%2C45.417077%2015.4503632%2C44.2512136%20C12.7336426%2C43.0853502%2010.3942794%2C41.5190228%208.43220339%2C39.5521845%20C6.4701274%2C37.5853462%204.90759258%2C35.2403049%203.74455206%2C32.5169903%20C2.58151154%2C29.7936757%202%2C26.9369082%202%2C23.9466019%20C2%2C20.9740952%202.58151154%2C18.130677%203.74455206%2C15.4162621%20C4.90759258%2C12.7018473%206.4701274%2C10.3657056%208.43220339%2C8.40776699%20C10.3942794%2C6.4498284%2012.7336426%2C4.89240061%2015.4503632%2C3.73543689%20C18.1670838%2C2.57847318%2021.0169342%2C2%2024%2C2%20Z%22%20id%3D%22help-copy-2%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E");\n  background-repeat: no-repeat;\n}\n.default-organization-avatar-background {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20width%3D%2248px%22%20height%3D%2248px%22%20viewBox%3D%220%200%2048%2048%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%203.8.3%20(29802)%20-%20http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%20--%3E%0A%20%20%20%20%3Ctitle%3EGroup%203%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Page-1%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group-3%22%20fill%3D%22%23333333%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17.4529116%2C31.9375007%20L11.5466615%2C31.9375007%20C11.4116615%2C31.9375007%2010.7704115%2C31.7501878%2010.7029115%2C31.6658128%20C10.5172865%2C31.4143753%2010.4666615%2C30.6887503%2010.7197865%2C29.8939378%20C10.7366615%2C29.8601878%2012.2216615%2C23.8358127%2014.7022865%2C22.3491252%20L15.7654115%2C21.6758127%20L14.7022865%2C20.9670623%20C13.7741615%2C20.3426873%2013.0822864%2C18.7243751%2013.0822864%2C17.5937501%20C13.0822864%2C15.7358126%2014.7360367%2C14.2187501%2016.5416617%2C14.2187501%20C18.3641617%2C14.2187501%2019.9687499%2C15.7358126%2019.9687499%2C17.5937501%20C19.9687499%2C18.8087501%2019.1404118%2C20.3764373%2018.1279118%2C20.9670623%20L17.0816615%2C21.6943752%20L18.1279114%2C22.4031252%20C18.5160364%2C22.6545627%2019.6312499%2C23.9741881%2019.9687499%2C24.3437506%20C20.2218749%2C23.8881256%2020.5087499%2C23.0933131%2020.8124999%2C22.6562506%20C20.7449999%2C22.5718756%2019.4610364%2C21.8125002%2019.3766614%2C21.7450002%20C20.3554114%2C20.8168752%2021.6562499%2C18.9943751%2021.6562499%2C17.5937501%20C21.6562499%2C14.8785626%2019.2079117%2C12.53125%2016.5416617%2C12.53125%20C13.8754117%2C12.53125%2011.5466615%2C14.8785626%2011.5466615%2C17.5937501%20C11.5466615%2C18.8948126%2012.2385364%2C20.8320631%2013.0822864%2C21.7450006%20C10.6691614%2C23.8020631%209.31916151%2C29.0839378%209.26853651%2C29.2695628%20C8.86353651%2C30.4676878%208.91416151%2C31.8008128%209.43728651%2C32.5433128%20C9.79166151%2C33.0664379%2010.0954115%2C33.5558126%2010.7197865%2C33.5558126%20L17.4529116%2C33.5558126%20L17.4529116%2C31.9375007%20Z%20M30.9107137%2C23.0275057%20C29.5874999%2C21.6437501%2028.4259492%2C21.4750003%2027.5625001%2C21.4750001%20C26.6990509%2C21.475%2025.7062499%2C21.4750001%2024.1848214%2C22.8587557%20C19.1476339%2C27.7826488%2019.1249999%2C33.5361679%2019.1249999%2C33.625%20C19.1249999%2C36.9492977%2021.6119528%2C37%2024.1874997%2C37%20L30.9107136%2C37%20C33.460737%2C36.9997939%2036%2C37.0111298%2036%2C33.625%20C36%2C33.5384351%2035.7200887%2C28.0379637%2030.9107137%2C23.0275057%20Z%20M27.5624999%2C10%20C30.3523708%2C9.9999996%2032.6249998%2C12.3456707%2032.6249998%2C15.1075028%20C32.6249998%2C17.8693349%2030.3974999%2C20.1250001%2027.5624999%2C20.1250001%20C24.7296093%2C20.1250001%2022.4999999%2C17.8693349%2022.4999999%2C15.1075028%20C22.4999999%2C12.3456707%2024.7726289%2C10.0000004%2027.5624999%2C10%20Z%22%20id%3D%22group%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M24%2C48%20C26.593763%2C48%2029.113269%2C47.5937541%2031.5585938%2C46.78125%20C34.0039185%2C45.9687459%2036.2109277%2C44.8203199%2038.1796875%2C43.3359375%20C40.1484473%2C41.8515551%2041.8710864%2C40.1211036%2043.3476562%2C38.1445312%20C44.8242261%2C36.1679589%2045.9687459%2C33.9570435%2046.78125%2C31.5117188%20C47.5937541%2C29.066394%2048%2C26.546888%2048%2C23.953125%20C48%2C20.7187338%2047.3632876%2C17.6250148%2046.0898438%2C14.671875%20C44.8163999%2C11.7187352%2043.1093857%2C9.1718857%2040.96875%2C7.03125%20C38.8281143%2C4.8906143%2036.2773586%2C3.18360012%2033.3164062%2C1.91015625%20C30.3554539%2C0.636712383%2027.2500162%2C0%2024%2C0%20C20.7499837%2C0%2017.6445461%2C0.636712383%2014.6835938%2C1.91015625%20C11.7226414%2C3.18360012%209.1718857%2C4.8906143%207.03125%2C7.03125%20C4.8906143%2C9.1718857%203.18360012%2C11.7187352%201.91015625%2C14.671875%20C0.636712383%2C17.6250148%200%2C20.7187338%200%2C23.953125%20C0%2C26.546888%200.406245937%2C29.066394%201.21875%2C31.5117188%20C2.03125406%2C33.9570435%203.17577387%2C36.1679589%204.65234375%2C38.1445312%20C6.12891363%2C40.1211036%207.85155266%2C41.8515551%209.8203125%2C43.3359375%20C11.7890723%2C44.8203199%2013.9960815%2C45.9687459%2016.4414062%2C46.78125%20C18.886731%2C47.5937541%2021.406237%2C48%2024%2C48%20Z%20M24%2C2%20C26.9830658%2C2%2029.8329162%2C2.57847318%2032.5496368%2C3.73543689%20C35.2663574%2C4.89240061%2037.6057206%2C6.4498284%2039.5677966%2C8.40776699%20C41.5298726%2C10.3657056%2043.0924074%2C12.7018473%2044.2554479%2C15.4162621%20C45.4184885%2C18.130677%2046%2C20.9740952%2046%2C23.9466019%20C46%2C26.9369082%2045.4184885%2C29.7936757%2044.2554479%2C32.5169903%20C43.0924074%2C35.2403049%2041.5298726%2C37.5853462%2039.5677966%2C39.5521845%20C37.6057206%2C41.5190228%2035.2663574%2C43.0853502%2032.5496368%2C44.2512136%20C29.8329162%2C45.417077%2026.9830658%2C46%2024%2C46%20C21.0169342%2C46%2018.1670838%2C45.417077%2015.4503632%2C44.2512136%20C12.7336426%2C43.0853502%2010.3942794%2C41.5190228%208.43220339%2C39.5521845%20C6.4701274%2C37.5853462%204.90759258%2C35.2403049%203.74455206%2C32.5169903%20C2.58151154%2C29.7936757%202%2C26.9369082%202%2C23.9466019%20C2%2C20.9740952%202.58151154%2C18.130677%203.74455206%2C15.4162621%20C4.90759258%2C12.7018473%206.4701274%2C10.3657056%208.43220339%2C8.40776699%20C10.3942794%2C6.4498284%2012.7336426%2C4.89240061%2015.4503632%2C3.73543689%20C18.1670838%2C2.57847318%2021.0169342%2C2%2024%2C2%20Z%22%20id%3D%22help-copy-2%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E");\n  background-repeat: no-repeat;\n}\n.sd-org-page-avatar {\n  background-image: url("data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20width%3D%2248px%22%20height%3D%2248px%22%20viewBox%3D%220%200%2048%2048%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%203.8.3%20(29802)%20-%20http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%20--%3E%0A%20%20%20%20%3Ctitle%3EGroup%203%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Page-1%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group-3%22%20fill%3D%22%23333333%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17.4529116%2C31.9375007%20L11.5466615%2C31.9375007%20C11.4116615%2C31.9375007%2010.7704115%2C31.7501878%2010.7029115%2C31.6658128%20C10.5172865%2C31.4143753%2010.4666615%2C30.6887503%2010.7197865%2C29.8939378%20C10.7366615%2C29.8601878%2012.2216615%2C23.8358127%2014.7022865%2C22.3491252%20L15.7654115%2C21.6758127%20L14.7022865%2C20.9670623%20C13.7741615%2C20.3426873%2013.0822864%2C18.7243751%2013.0822864%2C17.5937501%20C13.0822864%2C15.7358126%2014.7360367%2C14.2187501%2016.5416617%2C14.2187501%20C18.3641617%2C14.2187501%2019.9687499%2C15.7358126%2019.9687499%2C17.5937501%20C19.9687499%2C18.8087501%2019.1404118%2C20.3764373%2018.1279118%2C20.9670623%20L17.0816615%2C21.6943752%20L18.1279114%2C22.4031252%20C18.5160364%2C22.6545627%2019.6312499%2C23.9741881%2019.9687499%2C24.3437506%20C20.2218749%2C23.8881256%2020.5087499%2C23.0933131%2020.8124999%2C22.6562506%20C20.7449999%2C22.5718756%2019.4610364%2C21.8125002%2019.3766614%2C21.7450002%20C20.3554114%2C20.8168752%2021.6562499%2C18.9943751%2021.6562499%2C17.5937501%20C21.6562499%2C14.8785626%2019.2079117%2C12.53125%2016.5416617%2C12.53125%20C13.8754117%2C12.53125%2011.5466615%2C14.8785626%2011.5466615%2C17.5937501%20C11.5466615%2C18.8948126%2012.2385364%2C20.8320631%2013.0822864%2C21.7450006%20C10.6691614%2C23.8020631%209.31916151%2C29.0839378%209.26853651%2C29.2695628%20C8.86353651%2C30.4676878%208.91416151%2C31.8008128%209.43728651%2C32.5433128%20C9.79166151%2C33.0664379%2010.0954115%2C33.5558126%2010.7197865%2C33.5558126%20L17.4529116%2C33.5558126%20L17.4529116%2C31.9375007%20Z%20M30.9107137%2C23.0275057%20C29.5874999%2C21.6437501%2028.4259492%2C21.4750003%2027.5625001%2C21.4750001%20C26.6990509%2C21.475%2025.7062499%2C21.4750001%2024.1848214%2C22.8587557%20C19.1476339%2C27.7826488%2019.1249999%2C33.5361679%2019.1249999%2C33.625%20C19.1249999%2C36.9492977%2021.6119528%2C37%2024.1874997%2C37%20L30.9107136%2C37%20C33.460737%2C36.9997939%2036%2C37.0111298%2036%2C33.625%20C36%2C33.5384351%2035.7200887%2C28.0379637%2030.9107137%2C23.0275057%20Z%20M27.5624999%2C10%20C30.3523708%2C9.9999996%2032.6249998%2C12.3456707%2032.6249998%2C15.1075028%20C32.6249998%2C17.8693349%2030.3974999%2C20.1250001%2027.5624999%2C20.1250001%20C24.7296093%2C20.1250001%2022.4999999%2C17.8693349%2022.4999999%2C15.1075028%20C22.4999999%2C12.3456707%2024.7726289%2C10.0000004%2027.5624999%2C10%20Z%22%20id%3D%22group%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M24%2C48%20C26.593763%2C48%2029.113269%2C47.5937541%2031.5585938%2C46.78125%20C34.0039185%2C45.9687459%2036.2109277%2C44.8203199%2038.1796875%2C43.3359375%20C40.1484473%2C41.8515551%2041.8710864%2C40.1211036%2043.3476562%2C38.1445312%20C44.8242261%2C36.1679589%2045.9687459%2C33.9570435%2046.78125%2C31.5117188%20C47.5937541%2C29.066394%2048%2C26.546888%2048%2C23.953125%20C48%2C20.7187338%2047.3632876%2C17.6250148%2046.0898438%2C14.671875%20C44.8163999%2C11.7187352%2043.1093857%2C9.1718857%2040.96875%2C7.03125%20C38.8281143%2C4.8906143%2036.2773586%2C3.18360012%2033.3164062%2C1.91015625%20C30.3554539%2C0.636712383%2027.2500162%2C0%2024%2C0%20C20.7499837%2C0%2017.6445461%2C0.636712383%2014.6835938%2C1.91015625%20C11.7226414%2C3.18360012%209.1718857%2C4.8906143%207.03125%2C7.03125%20C4.8906143%2C9.1718857%203.18360012%2C11.7187352%201.91015625%2C14.671875%20C0.636712383%2C17.6250148%200%2C20.7187338%200%2C23.953125%20C0%2C26.546888%200.406245937%2C29.066394%201.21875%2C31.5117188%20C2.03125406%2C33.9570435%203.17577387%2C36.1679589%204.65234375%2C38.1445312%20C6.12891363%2C40.1211036%207.85155266%2C41.8515551%209.8203125%2C43.3359375%20C11.7890723%2C44.8203199%2013.9960815%2C45.9687459%2016.4414062%2C46.78125%20C18.886731%2C47.5937541%2021.406237%2C48%2024%2C48%20Z%20M24%2C2%20C26.9830658%2C2%2029.8329162%2C2.57847318%2032.5496368%2C3.73543689%20C35.2663574%2C4.89240061%2037.6057206%2C6.4498284%2039.5677966%2C8.40776699%20C41.5298726%2C10.3657056%2043.0924074%2C12.7018473%2044.2554479%2C15.4162621%20C45.4184885%2C18.130677%2046%2C20.9740952%2046%2C23.9466019%20C46%2C26.9369082%2045.4184885%2C29.7936757%2044.2554479%2C32.5169903%20C43.0924074%2C35.2403049%2041.5298726%2C37.5853462%2039.5677966%2C39.5521845%20C37.6057206%2C41.5190228%2035.2663574%2C43.0853502%2032.5496368%2C44.2512136%20C29.8329162%2C45.417077%2026.9830658%2C46%2024%2C46%20C21.0169342%2C46%2018.1670838%2C45.417077%2015.4503632%2C44.2512136%20C12.7336426%2C43.0853502%2010.3942794%2C41.5190228%208.43220339%2C39.5521845%20C6.4701274%2C37.5853462%204.90759258%2C35.2403049%203.74455206%2C32.5169903%20C2.58151154%2C29.7936757%202%2C26.9369082%202%2C23.9466019%20C2%2C20.9740952%202.58151154%2C18.130677%203.74455206%2C15.4162621%20C4.90759258%2C12.7018473%206.4701274%2C10.3657056%208.43220339%2C8.40776699%20C10.3942794%2C6.4498284%2012.7336426%2C4.89240061%2015.4503632%2C3.73543689%20C18.1670838%2C2.57847318%2021.0169342%2C2%2024%2C2%20Z%22%20id%3D%22help-copy-2%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E");\n  background-repeat: no-repeat;\n  padding-right: 60px;\n  display: table-cell;\n}\n',""])},63:function(C,e,t){"use strict";var n=t(2),s=t(7),a=t.n(s),i=t(1),o=t(0);t(660);e.a={handleAction:function(C,e){C.find(".cv-sd-status").remove();var t=a()(),s=Object(o.default)("<span />").addClass("cv-sd-status cv-sd-action-link-status loading").appendTo(C);return e.done(function(){s.addClass("success"),i.default.delay(function(){s.remove(),t.resolve()},800)}).fail(function(C){s.removeClass("loading").addClass("error");var e=C.errors&&C.errors[0];if(e){var t=void 0;t="default"===e.type?"We were unable to submit your request. Please refresh the page and try again.":e.errorMessage,s.attr("title",t).tipsy()}}),t}}},635:function(C,e,t){(C.exports=t(9)(!1)).push([C.i,"/* ul */\n.sd-organizations-list {\n  display: block;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n}\n.sd-organizations-list > li {\n  margin: 0;\n  padding: 0;\n}\n.sd-organizations-list li {\n  margin-bottom: 5px;\n}\n",""])},636:function(C,e,t){var n=t(635);"string"==typeof n&&(n=[[C.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};t(8)(n,s);n.locals&&(C.exports=n.locals)},637:function(C,e,t){var n,s;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Components&&(ServiceDesk.Templates.Components={}),void 0===ServiceDesk.Templates.Components.CustomerOrganizations&&(ServiceDesk.Templates.Components.CustomerOrganizations={}),ServiceDesk.Templates.Components.CustomerOrganizations.main=function(C,e){return""+(C.displayedOrganisations.length?ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList({organisations:C.displayedOrganisations,displayRemoveLink:C.displayRemoveLink,removeLinkOptions:C.removeLinkOptions})+(C.hasToggle?C.expanded?aui.buttons.button({extraClasses:"js-orgs-contract",type:"link",text:"Show fewer organizations"}):aui.buttons.button({extraClasses:"js-orgs-expand",type:"link",text:AJS.format("Show all {0} organizations",C.totalOrganisations)}):""):"")},goog.DEBUG&&(ServiceDesk.Templates.Components.CustomerOrganizations.main.soyTemplateName="ServiceDesk.Templates.Components.CustomerOrganizations.main"),ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList=function(C,e){for(var t='<ul class="sd-organizations-list">',n=C.organisations,s=n.length,a=0;a<s;a++){var i=n[a];t+='<li class="sd-organization" data-id="'+soy.$$escapeHtml(i.id)+'">'+ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer({organisationName:i.name})+(C.displayRemoveLink?ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink({organisationId:i.id,removeLinkOptions:C.removeLinkOptions}):"")+"</li>"}return t+="</ul>"},goog.DEBUG&&(ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList.soyTemplateName="ServiceDesk.Templates.Components.CustomerOrganizations.organisationsList"),ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink=function(C,e){return'<div class="'+soy.$$escapeHtml(C.removeLinkOptions.class)+'">'+aui.buttons.button({text:"Remove",type:"link",extraAttributes:{"data-id":C.organisationId},extraClasses:C.removeLinkOptions.trigger})+'<span class="'+soy.$$escapeHtml(C.removeLinkOptions.statusClass)+'"></span></div>'},goog.DEBUG&&(ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink.soyTemplateName="ServiceDesk.Templates.Components.CustomerOrganizations.removeOrganisationLink"),n=[t(143)],void 0===(s=function(){return ServiceDesk.Templates.Components.CustomerOrganizations}.apply(e,n))||(C.exports=s)},647:function(C,e,t){(C.exports=t(9)(!1)).push([C.i,"/* Fix for IE8-10: need background otherwise the element won't receive hover */\n.sd-tipsy-btn-container {\n  display: inline-block;\n  position: relative;\n}\n.sd-tipsy-btn-container .sd-tipsy-btn-blanket {\n  background: #fff;\n  filter: alpha(opacity=0);\n  opacity: 0;\n  position: absolute;\n  display: block;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n",""])},648:function(C,e,t){var n=t(647);"string"==typeof n&&(n=[[C.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};t(8)(n,s);n.locals&&(C.exports=n.locals)},659:function(C,e,t){(C.exports=t(9)(!1)).push([C.i,".cv-sd-action-link-status {\n  margin-left: 5px;\n}\n",""])},660:function(C,e,t){var n=t(659);"string"==typeof n&&(n=[[C.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};t(8)(n,s);n.locals&&(C.exports=n.locals)}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_29', location = '29.0aa1f6bb42165409409e.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[29],{139:function(e,t,i){var n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.InlineEdit&&(ServiceDesk.Templates.InlineEdit={}),ServiceDesk.Templates.InlineEdit.field=function(e,t){return'<form class="ajs-dirty-warning-exempt aui" action="#"><div class="inline-edit-fields field-group">'+soy.$$filterNoAutoescape(e.editHtml)+'</div><span class="overlay-icon throbber" /><div class="save-options"><button type="submit" class="aui-button submit" accessKey="'+soy.$$escapeHtml("s")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to submit this form","s",e.modifierKey))+'"><span class="aui-icon aui-icon-small aui-iconfont-success icon icon-save">'+soy.$$escapeHtml("Save")+'</span></button><button type="cancel" class="aui-button cancel" accessKey="'+soy.$$escapeHtml("`")+'" title="'+soy.$$escapeHtml(AJS.format("Press {1}+{0} to cancel","`",e.modifierKey))+'"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog icon icon-cancel">'+soy.$$escapeHtml("Cancel")+"</span></button></div></form>"},goog.DEBUG&&(ServiceDesk.Templates.InlineEdit.field.soyTemplateName="ServiceDesk.Templates.InlineEdit.field"),ServiceDesk.Templates.InlineEdit.textInput=function(e,t){return'<input type="text" class="text '+(e.styleClass?soy.$$escapeHtml(e.styleClass):"")+'" name="'+soy.$$escapeHtml(e.name)+'" value="'+soy.$$escapeHtml(e.value)+'" '+(e.maxlength?'maxlength="'+soy.$$escapeHtml(e.maxlength)+'"':"")+"/>"},goog.DEBUG&&(ServiceDesk.Templates.InlineEdit.textInput.soyTemplateName="ServiceDesk.Templates.InlineEdit.textInput"),ServiceDesk.Templates.InlineEdit.textareaInput=function(e,t){return'<textarea class="'+(e.styleClass?soy.$$escapeHtml(e.styleClass):"")+'" name="'+soy.$$escapeHtml(e.name)+'">'+soy.$$escapeHtml(e.value)+"</textarea>"},goog.DEBUG&&(ServiceDesk.Templates.InlineEdit.textareaInput.soyTemplateName="ServiceDesk.Templates.InlineEdit.textareaInput"),ServiceDesk.Templates.InlineEdit.editable=function(e,t){return'<span id="'+soy.$$escapeHtml(e.id)+'" class="sd-editable-field inactive '+(e.styleClass?soy.$$escapeHtml(e.styleClass):"")+'">'+(e.noAutoescape?soy.$$filterNoAutoescape(e.value):soy.$$escapeHtml(e.value))+"</span>"},goog.DEBUG&&(ServiceDesk.Templates.InlineEdit.editable.soyTemplateName="ServiceDesk.Templates.InlineEdit.editable"),void 0===(n=function(){return ServiceDesk.Templates.InlineEdit}.apply(t,[]))||(e.exports=n)},140:function(e,t,i){var n=i(272);"string"==typeof n&&(n=[[e.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(8)(n,s);n.locals&&(e.exports=n.locals)},176:function(e,t,i){"use strict";var n=i(0),s=i(3),a=i(2),d=i(1),l=i(46),o=i(6),r=i.n(o),c=(i(139),i(140),s.a.View.extend({events:{"click .cancel":"onClickCancel",keyup:"onKeyCancel","click .submit":"onSubmit",click:"onEdit",mousedown:"saveSelectedText","submit form":"onSubmit",'keydown select[multiple="multiple"]':"_enterToSubmitMultiSelect","keypress select":"_enterToSubmitSelect","beforeBlurInput *":"_preventBlurByEsc"},initialize:function(){var e=this;this.model.on("editingStarted",this.switchToEdit,this),this.model.on("focusRequested",this.focus,this),this.model.on("editingCancelled",this.switchToRead,this),this.model.on("saveError",this.handleValidationError,this),this.model.on("updateRequired",this.updateModel,this),this.model.on("savingStarted",this.handleSavingStarted,this),this.model.on("saveSuccess",function(){this.switchToRead(),this.decorate(),this.model.setViewHtml(this.$el.contents())},this),this.decorate(),this._editDelay=0,Object(n.default)(document).on(l.b.INLINE_EDIT_BLURRED,function(t,i){i===e.model.getSelector()&&e._onPossibleBlur()}),Object(n.default)(document).on(l.b.INLINE_EDIT_REQUESTED,function(t,i){i!==e.model.getSelector()&&0!==e._editDelay&&(clearTimeout(e._editDelay),e._editDelay=0)})},decorate:function(){this.$el.addClass("sd-editable-field inactive");var e=document.createElement("span");e.className="overlay-icon aui-icon-small aui-iconfont-edit",this.el.appendChild(e),this._addToolTip()},getEditElements:function(){return this.$(".inline-edit-fields")},_addToolTip:function(){this.$el.attr("title","Click to edit"),Object(n.default)("a:not([title])",this.$el).attr("title","Follow link")},_removeToolTip:function(){this.$el.removeAttr("title")},_stealAccessKeys:function(){Object(n.default)("[accessKey='"+"s"+"']").attr("accessKey","_s"),Object(n.default)("[accessKey='"+"`"+"']").attr("accessKey","_x")},_returnAccessKeys:function(){Object(n.default)("[accessKey=_s]").attr("accessKey","s"),Object(n.default)("[accessKey=_x]").attr("accessKey","`")},_handleEditingStarted:function(){var e=this.$(".field-tools");Object(n.default)(document).trigger(l.b.INLINE_EDIT_STARTED,[this.model.getSelector(),this.model.getFieldType(),this.getEditElements(),this.$el]),this.$(".error").size()||this.$("select.aui-ss-select").each(function(){var e=Object(n.default)(this);e.data("static-suggestions")&&e.trigger("showSuggestions")}),this.$(".save-options").attr("tabindex",1).prepend(e),r.a.trace("sd.inline.edit.started")},handleValidationError:function(e,t){var i=this;this.$(":input").removeAttr("disabled"),this.$el.removeClass("saving saving-"+this.model.id),this.$(".error").remove(),d.default.each(e,function(e,t){i.$(":input[name="+t+"]").parent().append("<div class='error'>"+e+"</div>")}),this.$(".error").addClass("inline-edit-error").attr("data-field",this.model.id),this._handleEditingStarted(t),this.$(":input:visible:first").focus()},handleSavingStarted:function(){this.$(":input").attr("disabled","disabled").trigger("disable"),this.$el.addClass("saving saving-"+this.model.id)},updateModel:function(){this.model.update(this.$el)},reveal:function(){this.$el.scrollIntoView({direction:"y",marginBottom:40,marginTop:40}),this.$el.trigger("reveal")},focus:function(){if(this.reveal(),this.$(":input").removeAttr("disabled"),0===Object(n.default)(".aui-blanket").length){var e=this.$(":input:visible:first");e.focus(),!1!==this.model.getSelectAll()&&e.select()}},switchToEdit:function(){this._stealAccessKeys(),this._removeToolTip(),this.$el.removeClass("inactive saving").addClass("active"),this.model.switchElToEdit(this.$el),this._handleEditingStarted(),this.focus()},switchToRead:function(){this._addToolTip(),this.$el.addClass("inactive").removeClass("active saving"),this.$el.html(this.model.getViewHtml()),this.$el.closest("form").unbind("submit",this.onSubmit),this._returnAccessKeys()},onKeyCancel:function(e){27===e.keyCode&&(this.model.cancelEdit(l.a.escPressed),e.preventDefault())},onClickCancel:function(e){this.model.cancelEdit(),e.preventDefault()},onSubmit:function(e){var t=new n.default.Event("before-submit");this.$("form").trigger(t),t.isDefaultPrevented()||(this.$(":focus").blur(),this.model.save(),this._returnAccessKeys()),e.preventDefault()},onEdit:function(e){var t=Object(n.default)(e.target).is(".overlay-icon.aui-iconfont-edit"),i=0===Object(n.default)(e.target).closest("a, .uneditable").length&&this.$el.hasClass("inactive"),s=""===this._getCurrentlySelectedText()&&!this._previouslySelectedText,a=i&&(t||s);if(0!==this._editDelay)clearTimeout(this._editDelay),this._editDelay=0;else if(a){Object(n.default)(document).trigger(l.b.INLINE_EDIT_REQUESTED,[this.model.getSelector()]);var d=this;t?Object(n.default)(document).one("click",function(e){e.isDefaultPrevented()||d.model.edit()}):this._editDelay=setTimeout(function(){!e.isDefaultPrevented()&&d.$el.hasClass("inactive")&&""===d._getCurrentlySelectedText()&&d.model.edit(),d._editDelay=0},250)}},_onPossibleBlur:function(){this.model.getSaving()||Object(n.default)(".aui-blanket").length>0||this.model.blurEdit()},_preventBlurByEsc:function(e){e.preventDefault()},_getCurrentlySelectedText:function(){return Object(n.default)(document.activeElement).is(":input")?"":document.selection&&document.selection.createRange?document.selection.createRange().text||"":window.getSelection?window.getSelection().toString():""},_enterToSubmitSelect:function(e){e.isDefaultPrevented()||13===e.which&&(e.preventDefault(),Object(n.default)(e.target).closest("form").submit())},_enterToSubmitMultiSelect:function(e){e.isDefaultPrevented()||13===e.which&&Object(n.default)(e.target).blur()},saveSelectedText:function(){this._previouslySelectedText=this._getCurrentlySelectedText()}})),u=i(83),f=i(47);i.n(f).a.install();var A=s.a.Model.extend({namedEvents:["editingStarted","focusRequested","editingCancelled","saveError","savingStarted","saveComplete","saveSuccess","updateRequired","validationError","modelDestroyed"],namedAttributes:["id","selector","initParams","params","editDecorator","editView","readView","selectAll","save","fieldType","viewHtml","editing","saving","error"],initialize:function(){if(this.collection){var e=this;this.collection.on("reset",function(){e.triggerModelDestroyed()})}},blurEdit:function(){this.getEditing()&&(this.isDirty()?this.save():this.cancelEdit())},setValidationError:function(e){this.edit({ignoreBlur:!0}),this.triggerSaveError(e)},cancelEdit:function(e){if(!this.cancelLocked){var t=new n.default.Event(l.b.BEFORE_INLINE_EDIT_CANCEL);Object(n.default)(document).trigger(t,[this.getId(),this.getFieldType(),e]),t.isDefaultPrevented()||(this.cancelLocked=!0,(this.getEditing()||this.getSaving())&&(this.setEditing(!1),this.setSaving(!1),this.unset("params"),this.unset("initParams"),this.triggerEditingCancelled(),this.unset("viewHtml")),delete this.cancelLocked)}},edit:function(e){this.getEditing()?e&&e.ignoreBlur||this.triggerFocusRequested(this,e):(this.setEditing(!0),this.triggerEditingStarted(this,e))},getCurrentParams:function(){return this.triggerUpdateRequired(),this.getParams()},hasValidationError:function(){return!!this.getError()},switchElToEdit:function(e){var t=this.getEditView()(e);this.getViewHtml()||this.setViewHtml(e.contents()),e.contents().detach(),e.html(ServiceDesk.Templates.InlineEdit.field({editHtml:t,modifierKey:u.a&&u.a.modifierKey()})),this.getEditDecorator()&&this.getEditDecorator()(e),this.getInitParams()||this.setInitParams(e.sdSerializeObject()),this.setEditing(!0)},update:function(e){this.getEditing()&&this.setParams(e.sdSerializeObject())},handleSaveSuccess:function(e){this.setEditing(!1),this.setViewHtml(e),this.unset("initParams"),this.setError(null),this.triggerSaveSuccess()},save:function(){var e=this;if(!this.getSaving()){this.setSaving(!0);var t=this.getCurrentParams();this.triggerSavingStarted(),this.getSave()(t).done(function(i){e.handleSaveSuccess(e.getReadView()(t,i))}).fail(function(t){try{e.setError(!0),e.setValidationError(JSON.parse(t.responseText),!0)}catch(e){window.location.reload()}}).always(function(){e.setSaving(!1),r.a.trace("sd.inline.edit.save.complete")})}},isDirty:function(){return!!this.getEditing()&&JSON.stringify(this.getCurrentParams())!==JSON.stringify(this.getInitParams())}}),g=s.a.Collection.extend({model:A,initialize:function(){this.on("editingStarted",this._handleEditingStarted,this)},_handleEditingStarted:function(e,t){(t=t||{}).ignoreBlur||this.each(function(t){e!==t&&!t.getSaving()&&t.getEditing()&&t.blurEdit()})},cancelEdit:function(){this.invoke("cancelEdit")}});i.d(t,"a",function(){return m});var p=s.a.View.extend({initialize:function(e){e=e||{},this.options=e,this.fields=new g,this.fields.on("add",this.createFieldView,this).on("reset",this.createAllFieldViews,this).on("savingStarted",this.cancelUneditedFields,this),e.fields&&this.fields.add(e.fields)},createAllFieldViews:function(){this.fields.each(this.createFieldView,this)},reset:function(e){this.fields.reset(e)},add:function(e){return this.fields.add(e),this},cancelEdit:function(){this.fields.invoke("cancelEdit")},cancelUneditedFields:function(){this.fields.each(function(e){!e.getEditing()||e.isDirty()||e.hasValidationError()||e.cancelEdit()})},createFieldView:function(e){var t=Object(n.default)(e.getSelector(),this.$el);1===t.length&&new c({model:e,el:t})}}),m=function(e){return(e=e||{}).el=e.el||Object(n.default)("body"),Object(l.c)(),new p(e)}},272:function(e,t,i){(e.exports=i(9)(!1)).push([e.i,"/* 3.01px for IE10*/\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n.sd-editable-field {\n  border-radius: 2.01px 2.01px 2.01px 2.01px;\n  background-clip: padding-box;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  box-shadow: 0 0 0 0 transparent;\n  -webkit-transition: box-shadow 150ms ease-in 0ms;\n  transition: box-shadow 150ms ease-in 0ms;\n  cursor: text;\n  display: inline-block;\n  max-width: 100%;\n  min-height: 30px;\n  padding: 4px 30px 4px 5px;\n  position: relative;\n  vertical-align: top;\n  word-wrap: break-word;\n  width: 100%;\n}\n.sd-editable-field.inactive {\n  border: 1px dashed #ddd;\n}\n.sd-editable-field.inactive:hover {\n  border: 1px dashed #fff;\n}\n.sd-editable-field:hover,\n.sd-editable-field.saving {\n  box-shadow: 0 0 0 1px #ccc;\n}\n.sd-editable-field:hover .overlay-icon,\n.sd-editable-field.saving .overlay-icon {\n  opacity: 1;\n  z-index: auto;\n}\n.sd-editable-field:hover {\n  background-color: #fff;\n}\n.sd-editable-field:hover .overlay-icon {\n  -webkit-transition: opacity 150ms ease-in 0ms;\n  transition: opacity 150ms ease-in 0ms;\n}\n.sd-editable-field.saving .save-options,\n.sd-editable-field.saving .field-tools {\n  display: none;\n}\n.sd-editable-field.saving form.aui .field-group .aui-ss-icon.drop-menu,\n.sd-editable-field.saving form.aui .field-group .aui-ss-field {\n  border-bottom-right-radius: 3.01px;\n}\n.sd-editable-field.active {\n  background-color: #fff;\n  display: block !important;\n  box-shadow: 0 0 0 0 transparent;\n}\n.sd-editable-field.active .overlay-icon {\n  opacity: 0;\n  z-index: -1;\n}\n.sd-editable-field.active.saving .overlay-icon {\n  opacity: 1;\n  z-index: auto;\n}\n.sd-editable-field.active .save-options .aui-button,\n.sd-editable-field.active .save-options .aui-button.cancel {\n  height: 24px;\n  padding: 0 4px;\n}\n.sd-editable-field.type-radiobuttons.active form.aui,\n.sd-editable-field.type-multicheckboxes.active form.aui {\n  border: 1px solid #ccc;\n  padding: 4px 5px;\n}\n.sd-editable-field.type-cascadingselect form.aui .inline-edit-fields select {\n  width: 49%;\n}\n.sd-editable-field.type-cascadingselect form.aui .inline-edit-fields select + select {\n  float: right;\n}\n.sd-editable-field.type-locationtextfield,\n.sd-editable-field.type-locationselect {\n  display: block;\n}\n.sd-editable-field .overlay-icon {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  background-color: #f0f0f0;\n  background-repeat: no-repeat;\n  background-position: 4px 4px;\n  border-left: 1px solid #ccc;\n  bottom: 0;\n  height: auto;\n  margin: 0;\n  opacity: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 24px;\n  z-index: -1;\n}\n.sd-editable-field .overlay-icon.throbber {\n  background-image: url(\"data:image/gif;base64,R0lGODlhEAAQAMQAAP///+7u7t3d3bu7u6qqqpmZmYiIiHd3d2ZmZlVVVURERDMzMyIiIhEREQARAAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBwAQACwAAAAAEAAQAAAFdyAkQgGJJOWoQgIjBM8jkKsoPEzgyMGsCjPDw7ADpkQBxRDmSCRetpRA6Rj4kFBkgLC4IlUGhbNQIwXOYYWCXDufzYPDMaoKGBoKb886OjAKdgZAAgQkfCwzAgsDBAUCgl8jAQkHEAVkAoA1AgczlyIDczUDA2UhACH5BAUHABAALAAAAAAPABAAAAVjICSO0IGIATkqIiMKDaGKC8Q49jPMYsE0hQdrlABCGgvT45FKiRKQhWA0mPKGPAgBcTjsspBCAoH4gl+FmXNEUEBVAYHToJAVZK/XWoQQDAgBZioHaX8igigFKYYQVlkCjiMhACH5BAUHABAALAAAAAAQAA8AAAVgICSOUGGQqIiIChMESyo6CdQGdRqUENESI8FAdFgAFwqDISYwPB4CVSMnEhSej+FogNhtHyfRQFmIol5owmEta/fcKITB6y4choMBmk7yGgSAEAJ8JAVDgQFmKUCCZnwhACH5BAUHABAALAAAAAAQABAAAAViICSOYkGe4hFAiSImAwotB+si6Co2QxvjAYHIgBAqDoWCK2Bq6A40iA4yYMggNZKwGFgVCAQZotFwwJIF4QnxaC9IsZNgLtAJDKbraJCGzPVSIgEDXVNXA0JdgH6ChoCKKCEAIfkEBQcAEAAsAAAAABAADgAABUkgJI7QcZComIjPw6bs2kINLB5uW9Bo0gyQx8LkKgVHiccKVdyRlqjFSAApOKOtR810StVeU9RAmLqOxi0qRG3LptikAVQEh4UAACH5BAUHABAALAAAAAAQABAAAAVxICSO0DCQKBQQonGIh5AGB2sYkMHIqYAIN0EDRxoQZIaC6bAoMRSiwMAwCIwCggRkwRMJWKSAomBVCc5lUiGRUBjO6FSBwWggwijBooDCdiFfIlBRAlYBZQ0PWRANaSkED1oQYHgjDA8nM3kPfCmejiEAIfkEBQcAEAAsAAAAABAAEAAABWAgJI6QIJCoOIhFwabsSbiFAotGMEMKgZoB3cBUQIgURpFgmEI0EqjACYXwiYJBGAGBgGIDWsVicbiNEgSsGbKCIMCwA4IBCRgXt8bDACkvYQF6U1OADg8mDlaACQtwJCEAIfkEBQcAEAAsAAABABAADwAABV4gJEKCOAwiMa4Q2qIDwq4wiriBmItCCREHUsIwCgh2q8MiyEKODK7ZbHCoqqSjWGKI1d2kRp+RAWGyHg+DQUEmKliGx4HBKECIMwG61AgssAQPKA19EAxRKz4QCVIhACH5BAUHABAALAAAAAAQABAAAAVjICSOUBCQqHhCgiAOKyqcLVvEZOC2geGiK5NpQBAZCilgAYFMogo/J0lgqEpHgoO2+GIMUL6p4vFojhQNg8rxWLgYBQJCASkwEKLC17hYFJtRIwwBfRAJDk4ObwsidEkrWkkhACH5BAUHABAALAAAAQAQAA8AAAVcICSOUGAGAqmKpjis6vmuqSrUxQyPhDEEtpUOgmgYETCCcrB4OBWwQsGHEhQatVFhB/mNAojFVsQgBhgKpSHRTRxEhGwhoRg0CCXYAkKHHPZCZRAKUERZMAYGMCEAIfkEBQcAEAAsAAABABAADwAABV0gJI4kFJToGAilwKLCST6PUcrB8A70844CXenwILRkIoYyBRk4BQlHo3FIOQmvAEGBMpYSop/IgPBCFpCqIuEsIESHgkgoJxwQAjSzwb1DClwwgQhgAVVMIgVyKCEAIfkECQcAEAAsAAAAABAAEAAABWQgJI5kSQ6NYK7Dw6xr8hCw+ELC85hCIAq3Am0U6JUKjkHJNzIsFAqDqShQHRhY6bKqgvgGCZOSFDhAUiWCYQwJSxGHKqGAE/5EqIHBjOgyRQELCBB7EAQHfySDhGYQdDWGQyUhADs=\");\n  border: 1px solid #ccc;\n}\n.sd-editable-field .overlay-icon.aui-iconfont-edit {\n  cursor: pointer;\n  color: #707070;\n}\n.sd-editable-field .overlay-icon.aui-iconfont-edit::before {\n  top: 12px;\n  left: 3px;\n}\n.sd-editable-field .save-options {\n  background-clip: padding-box;\n  border-radius: 0 0 3.01px 3.01px;\n  box-shadow: 0 3px 6px 0 rgba(111, 111, 111, 0.2);\n  background-color: #f0f0f0;\n  border: 1px solid #ccc;\n  border-top: none;\n  outline: none;\n  padding: 3px;\n  position: absolute;\n  right: 0;\n  top: 100%;\n  z-index: 1;\n}\n.sd-editable-field .save-options .aui-button {\n  margin: 0;\n}\n.sd-editable-field .save-options .aui-button + .aui-button {\n  margin: 0 0 0 3px;\n}\n.sd-editable-field form.aui {\n  margin: -2px -30px -2px -5px;\n}\n.sd-editable-field form.aui .group,\n.sd-editable-field form.aui .field-group {\n  clear: none;\n  margin: 0;\n  padding: 0;\n}\n.sd-editable-field form.aui .group::after,\n.sd-editable-field form.aui .field-group::after {\n  clear: none;\n}\n.sd-editable-field form.aui .field-group .aui-ss,\n.sd-editable-field form.aui .field-group .jira-multi-select,\n.sd-editable-field form.aui .field-group .group,\n.sd-editable-field form.aui .field-group input[type='text'],\n.sd-editable-field form.aui .field-group select,\n.sd-editable-field form.aui .field-group textarea,\n.sd-editable-field form.aui .field-group .text {\n  text-align: left;\n  vertical-align: top;\n  max-width: none;\n  width: 100%;\n}\n.sd-editable-field form.aui .field-group .drop-menu,\n.sd-editable-field form.aui .field-group .jira-multi-select textarea,\n.sd-editable-field form.aui .field-group .aui-ss-field {\n  border-bottom-right-radius: 0;\n}\n.sd-editable-field form.aui .field-group .inline-edit-error {\n  background-color: #d04437;\n  clear: both;\n  color: #fff;\n  font-weight: normal;\n  margin: 0;\n  padding: 5px;\n}\n.sd-editable-field form.aui .field-group + .field-group {\n  background: #f0f0f0;\n  border: 1px solid #ccc;\n  padding: 5px;\n}\n.sd-editable-field form.aui .field-group + .field-group label {\n  display: inline;\n  color: #707070;\n  float: none;\n  margin: 0;\n  padding: 0;\n  text-align: left;\n  width: auto;\n}\n.sd-editable-field form.aui .field-group + .field-group label::after {\n  content: ': ';\n}\n.sd-editable-field form.aui .field-group + .field-group .field-value {\n  font-weight: normal;\n  padding: 0;\n}\n.sd-editable-field form.aui .aui-ss.aui-ss-has-entity-icon > .aui-ss-field {\n  padding-left: 23px;\n}\n.sd-editable-field form.aui .aui-ss > .aui-ss-entity-icon {\n  left: 5px;\n}\n.sd-editable-field form.aui .text,\n.sd-editable-field form.aui .password,\n.sd-editable-field form.aui .select {\n  height: 1.71429em;\n  line-height: 1;\n  padding: 4px 3px;\n}\n.sd-editable-field form.aui .select[multiple='multiple'] {\n  min-height: 6em;\n}\n.sd-editable-field form.aui .textarea {\n  padding: 2px 3px;\n}\n.sd-editable-field form.aui .select {\n  padding: 4px 5px 3px 0;\n}\n.sd-editable-field form.aui .jira-multi-select > .representation .item-row {\n  padding: 1px 4px 1px 0;\n}\n.sd-editable-field form.aui .jira-multi-select > .representation .item-row > .value-item {\n  margin: 0;\n}\n.sd-editable-field form.aui .text,\n.sd-editable-field form.aui .password,\n.sd-editable-field form.aui .textarea,\n.sd-editable-field form.aui .select,\n.sd-editable-field form.aui .multi-select {\n  box-shadow: 0 1px 3px 0 #e8e8e8 inset;\n}\n.sd-editable-field .text + a,\n.sd-editable-field .textarea + a {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  background-color: #f0f0f0;\n  background-repeat: no-repeat;\n  border: 1px solid #ccc;\n  height: 30px;\n  margin: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 24px;\n  z-index: 1;\n}\n.sd-editable-field .text + a .aui-icon,\n.sd-editable-field .textarea + a .aui-icon {\n  margin: 4px 0 0 3px;\n}\n.sd-editable-field .field-tools {\n  border-right: 1px solid #ccc;\n  display: inline-block;\n  margin: 0 10px 0 5px;\n  padding-right: 10px;\n}\n.sd-editable-field .field-tools a + a {\n  margin-left: 5px;\n}\n.sd-editable-field .wiki-edit-content.previewClass {\n  border: 1px solid #ccc;\n  padding: 10px;\n}\n.sd-editable-field .wiki-edit-content.previewClass .content-inner {\n  padding: 0;\n}\n.sd-editable-field .field-group > .help-lnk,\n.sd-editable-field .edit-labels,\n.sd-editable-field #assign-to-me-trigger,\n.sd-editable-field .description {\n  display: none;\n}\n",""])},46:function(e,t,i){"use strict";i.d(t,"b",function(){return d}),i.d(t,"a",function(){return o}),i.d(t,"c",function(){return r});var n=i(0),s=(i(139),i(140),!1);function a(e){var t=document.activeElement;return e.find(t).length>0||e.filter(t).length>0}var d={INLINE_EDIT_STARTED:"inlineEditStarted",BEFORE_INLINE_EDIT_CANCEL:"inlineEditCancelled",INLINE_EDIT_BLURRED:"inlineEditBlurred",INLINE_EDIT_FOCUSED:"inlineEditFocused",INLINE_EDIT_REQUESTED:"inlineEditRequested"},l=function(e,t){var i=void 0,s=a(t=t.nextAll(".save-options").andSelf());function l(){a(t)||(s=!1,Object(n.default)(document).trigger(d.INLINE_EDIT_BLURRED,[e]))}var o={focus:function(){s||(s=!0,Object(n.default)(document).trigger(d.INLINE_EDIT_FOCUSED,[e]))},blur:function(){i&&clearTimeout(i),i=setTimeout(l,50)}};t.attr("tabindex",1).bind(o).delegate(":input, a[href], [tabindex]",o)},o={escPressed:"escPressed"},r=function(){s||(Object(n.default)(document).bind(d.INLINE_EDIT_STARTED,function(e,t,i,n){l&&l(t,n)}),s=!0)}}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~jira.admin', location = 'atl.general~jira.admin.e64e9502e064b6a28b0b.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[98],{79:function(i,t,e){"use strict";e.d(t,"b",function(){return v}),e.d(t,"a",function(){return r});var n=e(0),d=void 0,o=void 0,c=Object(n.default)(document);function s(i){Object(n.default)(document).attr("atlHidden",i)}if(void 0!==document.hidden)o="visibilitychange",d="visibilityState";else if(void 0!==document.mozHidden)o="mozvisibilitychange",d="mozVisibilityState";else if(void 0!==document.msHidden)o="msvisibilitychange",d="msVisibilityState";else if(void 0!==document.webkitHidden)o="webkitvisibilitychange",d="webkitVisibilityState";else if(o="atlvisibilitychange",d="atlVisibilityState",document.createEvent){var u=document.createEvent("Event");u.initEvent(o,!1,!1);var a=Object(n.default)(window);a.focus(function(){s("visible"),c.trigger(u)}),a.blur(function(){s("hidden"),c.trigger(u)})}var l=function(){s(document[d])};"atlvisibilitychange"!==o?(l(),c.on(o,l)):document.hasFocus?s(document.hasFocus()?"visible":"hidden"):s("visible");var v=function(){return"visible"===c.attr("atlHidden")},r=function(i){return c.on(o,i),{remove:function(){c.off(o,i)}}}}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general~sd.project.sidebar.content', location = 'atl.general~sd.project.sidebar.content.b91afef30906bbb5fdc4.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[93],{136:function(s,e){s.exports=require("jira/ajs/select/suggestions/user-list-suggest-handler")},85:function(s,e){s.exports=require("jira/ajs/select/multi-select")},86:function(s,e){s.exports=require("jira/ajs/control")}}]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_atl.general', location = 'atl.general.bafac1289a6499d59ca7.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[145],{118:function(e,t){e.exports=require("jira/ajs/select/multi-select/lozenge-group")},167:function(e,t){e.exports=require("jira/ajs/select/select-model")},168:function(e,t){e.exports=require("jira/ajs/list/list")},226:function(e,t,s){var i=s(646);"string"==typeof i&&(i=[[e.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(8)(i,n);i.locals&&(e.exports=i.locals)},227:function(e,t,s){var i;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.SlaView&&(ServiceDesk.Templates.SlaView={}),ServiceDesk.Templates.SlaView.navView=function(e,t){return e.goalView&&e.isAgent?'<div class="sla-tag-example-wrapper '+(s(15).isFeatureEnabled("sd.adgs.m1")?"sd-adgs-feature-flag-m1":"")+'">'+(!s(15).isFeatureEnabled("sd.sla.improved.rendering")||e.goalView.remainingTimeHumanReadable&&e.goalView.goalTimeHumanReadable?(s(15).isFeatureEnabled("sd.sla.improved.rendering")?'<div class="sla-tag '+ServiceDesk.Templates.SlaView.getStatusClass(e)+" "+ServiceDesk.Templates.SlaView.getEmergencyClass(e)+' js-tooltip" data-html="true" title="'+ServiceDesk.Templates.SlaView.issueSlaTooltipText(e)+'"><div style="mso-number-format: \\@;">'+soy.$$escapeHtml(e.goalView.remainingTimeHumanReadable)+"</div>":'<div class="sla-tag '+ServiceDesk.Templates.SlaView.getStatusClass(e)+" "+ServiceDesk.Templates.SlaView.getEmergencyClass(e)+'"><div style="mso-number-format: \\@;">'+soy.$$escapeHtml(e.goalView.remainingTime)+"</div>")+ServiceDesk.Templates.SlaView.getStatusIcon(e)+"</div>":ServiceDesk.Templates.SlaView.getIssueLink(e)+' <span class="aui-icon aui-icon-small aui-iconfont-error sla-rendering-error"></span>')+"</div>":e.isAgent?"":'<span class="sla-agent-restricted">'+soy.$$escapeHtml("Restricted to agents")+"</span>"},goog.DEBUG&&(ServiceDesk.Templates.SlaView.navView.soyTemplateName="ServiceDesk.Templates.SlaView.navView"),ServiceDesk.Templates.SlaView.issuePanelContentContainer=function(e,t){var i="";if(e.goalViews.length>0){var n=s(15).isFeatureEnabled("sd.adgs.m1")?"sla-view-issue-container sd-adgs-feature-flag-m1":"sla-view-issue-container";i+='<div class="'+soy.$$escapeHtml(n)+'">'+ServiceDesk.Templates.SlaView.issuePanelContent(e)+"</div>"}return i},goog.DEBUG&&(ServiceDesk.Templates.SlaView.issuePanelContentContainer.soyTemplateName="ServiceDesk.Templates.SlaView.issuePanelContentContainer"),ServiceDesk.Templates.SlaView.issuePanelContent=function(e,t){var s="";if(e.goalViews.length>0)for(var i=e.goalViews,n=i.length,a=0;a<n;a++){var o=i[a];s+=ServiceDesk.Templates.SlaView.issuePanelSlaView({goalView:o,hasPreviousCycles:e.hasPreviousCycles,canAdministerProject:e.canAdministerProject,projectKey:e.projectKey})}else s+="<p>"+soy.$$escapeHtml("SLAs have been removed")+"</p>";return s},goog.DEBUG&&(ServiceDesk.Templates.SlaView.issuePanelContent.soyTemplateName="ServiceDesk.Templates.SlaView.issuePanelContent"),ServiceDesk.Templates.SlaView.issuePanelSlaView=function(e,t){var i='<div class="sla-view-issue">';if(!s(15).isFeatureEnabled("sd.sla.improved.rendering")||e.goalView.remainingTimeHumanReadable&&e.goalView.goalTimeHumanReadable){if(i+='<div class="sla-tag-container"><div class="sla-tag '+ServiceDesk.Templates.SlaView.getStatusClass(e)+" "+ServiceDesk.Templates.SlaView.getEmergencyClass(e)+' js-tooltip" data-html="true" title="'+ServiceDesk.Templates.SlaView.issueSlaTooltipText(e)+'">'+(s(15).isFeatureEnabled("sd.sla.improved.rendering")?'<span class="sla-tag-duration">'+soy.$$escapeHtml(e.goalView.remainingTimeHumanReadable)+"</span>":'<span class="sla-tag-duration">'+soy.$$escapeHtml(e.goalView.remainingTime)+"</span>")+ServiceDesk.Templates.SlaView.getStatusIcon(e)+'</div></div><div class="sla-view-info"><div class="sla-view-name">'+soy.$$escapeHtml(e.goalView.metricName)+"</div><div>"+(s(15).isFeatureEnabled("sd.sla.improved.rendering")?soy.$$escapeHtml(AJS.format("within {0}",e.goalView.goalTimeHumanReadable)):soy.$$escapeHtml(AJS.format("within {0}",e.goalView.goalTimeLong)))+'\x3c!-- calendars --\x3e<span class="sla-calendar-icon js-tooltip aui-icon aui-icon-small aui-iconfont-calendar" title="'+soy.$$escapeHtml(e.goalView.calendarName)+'"></span></div></div>',e.hasPreviousCycles){i+='<div class="sla-view-previous-cycles">';for(var n=e.goalView.completeGoals,a=n.length,o=0;o<a;o++){var l=n[o];i+='<div class="sla-cycle'+(l.failed?" sla-cycle-unsuccessful":" sla-cycle-successful")+(o>4?" sla-hidden-cycle":"")+' js-tooltip" data-html="true" data-gravity="ne" title="'+ServiceDesk.Templates.SlaView.issueSlaCompleteCycleTooltipText({cycle:l})+'">'+(l.failed?'<span class="aui-icon aui-icon-small aui-iconfont-close-dialog sla-cycle-icon"></span>':'<span class="aui-icon aui-icon-small aui-iconfont-success sla-cycle-icon"></span>')+"</div>"}i+=(e.goalView.completeGoals.length>5?'<a class="sla-cycle-show-button" href="#">'+soy.$$escapeHtml("More")+"</a>":"")+"</div>"}}else i+=soy.$$escapeHtml("SLA error")+' <span class="aui-icon aui-icon-small aui-iconfont-error sla-rendering-error sla-issue-view-error"></span>'+ServiceDesk.Templates.SlaView.getSLAConfigurationLink({canAdministerProject:e.canAdministerProject,projectKey:e.projectKey,metricId:e.goalView.metricId,metricName:e.goalView.metricName});return i+="</div>"},goog.DEBUG&&(ServiceDesk.Templates.SlaView.issuePanelSlaView.soyTemplateName="ServiceDesk.Templates.SlaView.issuePanelSlaView"),ServiceDesk.Templates.SlaView.issueSlaTooltipText=function(e,t){return e.goalView.closed?s(15).isFeatureEnabled("sd.sla.improved.rendering")?"<div>"+soy.$$escapeHtml(AJS.format("SLA Goal: {0}",e.goalView.goalTimeLong))+"</div><div>"+soy.$$escapeHtml(AJS.format("Actual: {0}",e.goalView.durationTimeLong))+"</div>":"<div>"+soy.$$escapeHtml(e.goalView.startTime)+" - "+soy.$$escapeHtml(e.goalView.stopTime)+"</div><div>"+soy.$$escapeHtml(AJS.format("SLA: {0} of {1}",e.goalView.remainingTimeLong,e.goalView.goalTimeLong))+"</div>":(s(15).isFeatureEnabled("sd.sla.improved.rendering")?"<div>"+soy.$$escapeHtml(AJS.format("Due: {0}",e.goalView.breachTime))+"</div>":"")+"<div>"+soy.$$escapeHtml(AJS.format("Matches: {0}",s(19).escapeMarkup(e.goalView.currentJqlMatch)))+"</div><div>"+soy.$$escapeHtml(AJS.format("Runs until: {0}",e.goalView.nextConditionMatch))+"</div>"},goog.DEBUG&&(ServiceDesk.Templates.SlaView.issueSlaTooltipText.soyTemplateName="ServiceDesk.Templates.SlaView.issueSlaTooltipText"),ServiceDesk.Templates.SlaView.issueSlaCompleteCycleTooltipText=function(e,t){return s(15).isFeatureEnabled("sd.sla.improved.rendering")?"<div>"+soy.$$escapeHtml(AJS.format("SLA Goal: {0}",e.cycle.goalTimeLong))+"</div><div>"+soy.$$escapeHtml(AJS.format("Actual: {0}",e.cycle.durationTimeLong))+"</div>":"<div>"+soy.$$escapeHtml(e.cycle.startTime)+" - "+soy.$$escapeHtml(e.cycle.stopTime)+"</div><div>"+soy.$$escapeHtml(AJS.format("SLA: {0} of {1}",e.cycle.remainingTimeLong,e.cycle.goalTimeLong))+"</div>"},goog.DEBUG&&(ServiceDesk.Templates.SlaView.issueSlaCompleteCycleTooltipText.soyTemplateName="ServiceDesk.Templates.SlaView.issueSlaCompleteCycleTooltipText"),ServiceDesk.Templates.SlaView.getStatusClass=function(e,t){return e.goalView.paused?"sla-tag-pause":e.goalView.closed?e.goalView.failed?"sla-tag-unsuccessful":"sla-tag-successful":e.goalView.active?"sla-tag-ongoing":"sla-tag-pause"},goog.DEBUG&&(ServiceDesk.Templates.SlaView.getStatusClass.soyTemplateName="ServiceDesk.Templates.SlaView.getStatusClass"),ServiceDesk.Templates.SlaView.getStatusIcon=function(e,t){return e.goalView.paused?'<span class="aui-icon aui-icon-small aui-iconfont-pause sla-status-icon"></span>':e.goalView.closed?e.goalView.failed?'<span class="aui-icon aui-icon-small aui-iconfont-close-dialog sla-status-icon"></span>':'<span class="aui-icon aui-icon-small aui-iconfont-success sla-status-icon"></span>':e.goalView.active?'<span class="aui-icon aui-icon-small aui-iconfont-time sla-status-icon"></span>':'<span class="aui-icon aui-icon-small aui-iconfont-pause sla-status-icon"></span>'},goog.DEBUG&&(ServiceDesk.Templates.SlaView.getStatusIcon.soyTemplateName="ServiceDesk.Templates.SlaView.getStatusIcon"),ServiceDesk.Templates.SlaView.getEmergencyClass=function(e,t){return 1!=e.goalView.closed?"breached"==e.goalView.emergencyLevel?" sla-tag-breached":"urgent"==e.goalView.emergencyLevel?" sla-tag-urgent":"important"==e.goalView.emergencyLevel?" sla-tag-important":"":""},goog.DEBUG&&(ServiceDesk.Templates.SlaView.getEmergencyClass.soyTemplateName="ServiceDesk.Templates.SlaView.getEmergencyClass"),ServiceDesk.Templates.SlaView.getSLAConfigurationLink=function(e,t){return""+(e.metricName?e.canAdministerProject&&e.projectKey&&e.metricId?'<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/servicedesk/admin/"+soy.$$escapeHtml(e.projectKey)+"/sla/custom/"+soy.$$escapeHtml(e.metricId)+'">'+soy.$$escapeHtml(AJS.format("({0})",e.metricName))+"</a>":soy.$$escapeHtml(AJS.format("({0})",e.metricName)):"")},goog.DEBUG&&(ServiceDesk.Templates.SlaView.getSLAConfigurationLink.soyTemplateName="ServiceDesk.Templates.SlaView.getSLAConfigurationLink"),ServiceDesk.Templates.SlaView.getIssueLink=function(e,t){return""+(e.issueKey?'<a href="'+soy.$$escapeHtml(AJS.contextPath())+"/browse/"+soy.$$escapeHtml(e.issueKey)+'">'+soy.$$escapeHtml("SLA error")+"</a>":soy.$$escapeHtml("SLA error"))},goog.DEBUG&&(ServiceDesk.Templates.SlaView.getIssueLink.soyTemplateName="ServiceDesk.Templates.SlaView.getIssueLink"),void 0===(i=function(){return ServiceDesk.Templates.SlaView}.apply(t,[]))||(e.exports=i)},228:function(e,t,s){var i=s(652);"string"==typeof i&&(i=[[e.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(8)(i,n);i.locals&&(e.exports=i.locals)},229:function(e,t,s){var i,n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Components&&(ServiceDesk.Templates.Components={}),void 0===ServiceDesk.Templates.Components.Participants&&(ServiceDesk.Templates.Components.Participants={}),ServiceDesk.Templates.Components.Participants.main=function(e,t){return""+(e.displayedUsers.length?ServiceDesk.Templates.Components.Participants.participantList({users:e.displayedUsers})+(e.hasToggle?e.expanded?aui.buttons.button({extraClasses:"js-contract",type:"link",text:"Show fewer participants"}):aui.buttons.button({extraClasses:"js-expand",type:"link",text:AJS.format("Show all {0} participants",e.totalUsers)}):""):"")},goog.DEBUG&&(ServiceDesk.Templates.Components.Participants.main.soyTemplateName="ServiceDesk.Templates.Components.Participants.main"),ServiceDesk.Templates.Components.Participants.participantList=function(e,t){for(var s='<ul class="sd-participant-list">',i=e.users,n=i.length,a=0;a<n;a++){var o=i[a];s+='<li class="sd-participant" data-key="'+soy.$$escapeHtml(o.key)+'">'+ServiceDesk.Templates.Shared.Utils.userHover({displayName:o.displayName,name:o.name,avatarUrl:o.avatarUrls["24x24"],avatarSize:"small"})+"</li>"}return s+="</ul>"},goog.DEBUG&&(ServiceDesk.Templates.Components.Participants.participantList.soyTemplateName="ServiceDesk.Templates.Components.Participants.participantList"),ServiceDesk.Templates.Components.Participants.participantsLozenge=function(e,t){return'<li class="sd-participant-lozenge" title="'+soy.$$escapeHtml(e.label)+'">'+ServiceDesk.Templates.Shared.Utils.user({displayName:e.label,name:e.value,avatarUrl:e.icon,avatarSize:"small"})+'<button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-delete" tabindex="-1"></button></li>'},goog.DEBUG&&(ServiceDesk.Templates.Components.Participants.participantsLozenge.soyTemplateName="ServiceDesk.Templates.Components.Participants.participantsLozenge"),ServiceDesk.Templates.Components.Participants.resultsExceedLimit=function(e,t){return'<div class="sd-limit-exceeded">'+soy.$$escapeHtml("Showing the first 20 matching users")+"</div>"},goog.DEBUG&&(ServiceDesk.Templates.Components.Participants.resultsExceedLimit.soyTemplateName="ServiceDesk.Templates.Components.Participants.resultsExceedLimit"),i=[s(75)],void 0===(n=function(){return ServiceDesk.Templates.Components.Participants}.apply(t,i))||(e.exports=n)},234:function(e,t,s){var i;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.RequestFeedback&&(ServiceDesk.Templates.RequestFeedback={}),ServiceDesk.Templates.RequestFeedback.feedbackWebPanel=function(e,t){var i="",n=s(15).isFeatureEnabled("sd.adgs.m1")?"feedback-panel-container sd-adgs-feature-flag-m1":"feedback-panel-container";return i+='<div class="'+soy.$$escapeHtml(n)+'">'+(e.comment?"<p>"+soy.$$changeNewlineToBr(soy.$$escapeHtml(e.comment))+"</p>":"")+'<div class="rating-container">'+ServiceDesk.Templates.RequestFeedback.renderRating(e)+'<span class="rating-date">'+soy.$$escapeHtml(e.ratingDate)+"</span></div></div>"},goog.DEBUG&&(ServiceDesk.Templates.RequestFeedback.feedbackWebPanel.soyTemplateName="ServiceDesk.Templates.RequestFeedback.feedbackWebPanel"),ServiceDesk.Templates.RequestFeedback.renderRating=function(e,t){for(var s="",i=e.rating,n=0;n<i;n++)s+='<span class="aui-icon aui-icon-small aui-iconfont-star feedback-star"></span>';for(var a=e.scale-e.rating,o=0;o<a;o++)s+='<span class="aui-icon aui-icon-small aui-iconfont-unstar feedback-unstar"></span>';return s},goog.DEBUG&&(ServiceDesk.Templates.RequestFeedback.renderRating.soyTemplateName="ServiceDesk.Templates.RequestFeedback.renderRating"),ServiceDesk.Templates.RequestFeedback.columnView=function(e,t){return'<div class="sd-feedback-rating-column">'+(e.canView?e.feedbackData?ServiceDesk.Templates.RequestFeedback.renderRating({rating:e.feedbackData.rate,scale:e.feedbackData.scale}):"":"<span>"+soy.$$escapeHtml("No permission")+"</span>")+"</div>"},goog.DEBUG&&(ServiceDesk.Templates.RequestFeedback.columnView.soyTemplateName="ServiceDesk.Templates.RequestFeedback.columnView"),void 0===(i=function(){return ServiceDesk.Templates.RequestFeedback}.apply(t,[]))||(e.exports=i)},235:function(e,t,s){var i=s(666);"string"==typeof i&&(i=[[e.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(8)(i,n);i.locals&&(e.exports=i.locals)},253:function(e,t){e.exports=require("jira/ajs/select/security-level-select")},315:function(e,t,s){"use strict";s.r(t);s(35),s(42),s(41),s(40),s(34),s(39),s(38),s(37);var i=s(0),n=s(11),a=(s(235),s(234),s(1)),o=s(3),l=s(5),r=s.n(l),c=s(10),d=o.a.Model.extend({namedAttributes:{enabled:Boolean,isPreview:Boolean,isAgent:Boolean,isExternalMode:Boolean,userName:String,selectionPosition:Number,issueId:Number,issueKey:String,comment:String,commentHtml:String,modifierKey:String,avatarUrl:String,agentDisplayName:String,reporterDisplayName:String,isSecurityLevelAvailable:Boolean,groupSecurityLevels:Array,roleSecurityLevels:Array,selectedCommentSecurityLevel:String,prePopulatedSetting:Boolean,isRteEnabled:Boolean},defaults:{enabled:!1,isPreview:!1,comment:""},initialize:function(e){e.isAgent?this.setIsExternalMode(!0):this.setIsExternalMode(!1)},clearComment:function(){this.setIsPreview(!1),this.setComment(""),this.setCommentHtml(""),this.setEnabled(!1),this.clearCommentLocally()},getCommentPreview:function(e){this.setComment(e),this.setIsPreview(!0);var t=r()()+"/rest/api/1.0/render",s={issueKey:this.getIssueKey(),rendererType:"atlassian-wiki-renderer",unrenderedMarkup:this.getComment()};return Object(c.f)(t,s)},sendComment:function(e){var t={};t.body=e.comment,t.properties=[{key:"sd.public.comment",value:{internal:e.isInternal}}],e.visibility&&(t.visibility=e.visibility);var s=this.getIssueId(),i=r()()+"/rest/api/2/issue/"+s+"/comment",n=Object(c.e)(i,t);return this.clearCommentLocally(),n},clearCommentLocally:function(){sessionStorage.removeItem("commentIssue"),sessionStorage.removeItem("currentComment")},saveCommentLocally:function(e,t){if(this._isCommentValueDefined(e)&&t){var s=t;a.default.isString(s)||(s=String(s)),sessionStorage.setItem("commentIssue",s),sessionStorage.setItem("currentComment",e)}},getCommentLocally:function(e){if(e){var t=e;if(a.default.isString(t)||(t=String(t)),sessionStorage.getItem("commentIssue")===t)return sessionStorage.getItem("currentComment")}},isCommentLocallyDefined:function(){var e=this.getCommentLocally(this.getIssueId());return this._isCommentValueDefined(e)},_isCommentValueDefined:function(e){return e||""===e}}),m=s(20),u=s.n(m),p=s(49),g=s.n(p),v=s(18),f=s.n(v),h=s(52),y=s.n(h),S=s(17),b=s(59),w=(s(68),s(61),o.a.View.extend({initialize:function(){this.shouldUseButtons=!0,this.listenTo(this.model,"change:enabled",this.render,this),this.shouldUseButtons||this.listenTo(this.model,"change:isExternalMode",this.switchTabs,this),this.$(".sd-comment-collapse .textarea").addClass("sd-initialised")},mixins:[S.a],events:{"submit .js-comment-form":"onFormSubmit","focus .sd-comment-collapse .textarea":"enableComments","click .cancel":"cancelComments","click .js-sd-external-comment":"switchToExternal","click .js-sd-internal-comment":"switchToInternal","click .sd-external-submit":"submitExternal","click .sd-internal-submit":"submitInternal","click .js-sd-preview":"togglePreview","change .js-comment-level":"onCommentLevelChange","keyup #comment":"saveCurrentWork"},disable:function(){this.cancelComments(),this.undelegateEvents(),this.stopListening()},enableComments:function(){this.model.getEnabled()?this.focusTextArea():this.model.setEnabled(!0)},cancelComments:function(){this.model.getEnabled()&&this.model.clearComment()},switchToExternal:function(){!this.model.getIsExternalMode()&&this.model.getIsAgent()&&this.model.setIsExternalMode(!0)},switchToInternal:function(){this.model.getIsExternalMode()&&this.model.setIsExternalMode(!1)},submitExternal:function(){Object(i.default)(".js-comment-form").submit({isInternal:!1},this.onFormSubmit.bind(this))},submitInternal:function(){Object(i.default)(".js-comment-form").submit({isInternal:!0},this.onFormSubmit.bind(this))},switchTabs:function(){if(!this.shouldUseButtons){var e=this.$("textarea"),t=e.val().trim(),s=e.selectionRange().end;this.model.setSelectionPosition(s),this.model.setComment(t),this.render()}},togglePreview:function(e){var t=this;if(e.preventDefault(),this.model.getIsPreview())this.model.setIsPreview(!1),this.render();else{var s=this.$("textarea").val();this.model.getCommentPreview(s).done(function(e){t.model.setCommentHtml(e),t.render()})}},render:function(){var e=this.$el.parents(".module#addcomment").first();if(this.model.getEnabled()){e.addClass("active");var t=i.default.extend({shouldUseButtons:this.shouldUseButtons},this.model.toJSON());this.$el.html(ServiceDesk.Comment.Field.commentExpanded(t)),this.focusTextArea(),f.a.trigger(u.a.NEW_CONTENT_ADDED,[this.$el,g.a.panelRefreshed,"servicedesk/comment/servicedesk-comment.soy","servicedesk/comment/servicedesk-comment.less"])}else e.removeClass("active"),this.$el.html(ServiceDesk.Comment.Field.drawCollapsedComment(this.model.toJSON())),this.$(".sd-comment-collapse .textarea").addClass("sd-initialised");this.$el.scrollIntoView&&this.$el.scrollIntoView({marginBottom:200})},focusTextArea:function(){var e=this.$("textarea");if(e.focus(),this.model.isCommentLocallyDefined())e.val(this.model.getCommentLocally(this.model.getIssueId()));else if(e[0].setSelectionRange(this.model.getSelectionPosition(),this.model.getSelectionPosition()),this.model.getPrePopulatedSetting()){var t=this.model.getAgentDisplayName(),s=this.model.getReporterDisplayName(),i=this.model.getIsAgent(),n=this.model.getIsExternalMode();b.a.prepopulateCommentField(e,{isAgent:i,isExternalMode:n,agentDisplayName:t,reporterDisplayName:s})}},onFormSubmit:function(e){var t=this;e.preventDefault();var s=this.$("textarea").val(),n=this.$(".sd-comment-buttons button");if(i.default.trim(s)&&!n.attr("aria-disabled")){n.attr("aria-disabled","true").attr("disabled","true");var a=this.model,o=a.getIssueId();this.showSpinner();var l=!this.model.getIsExternalMode();this.shouldUseButtons&&(l=!e.data||e.data.isInternal);a.sendComment({comment:s,visibility:this.getCommentVisibility(),isInternal:l}).done(function(e){f.a.trigger(u.a.UNLOCK_PANEL_REFRESHING,["addcommentmodule","servicedesk/comment/servicedesk-comment.soy","servicedesk/comment/servicedesk-comment.less"]),f.a.trigger(u.a.REFRESH_ISSUE_PAGE,[o,{complete:function(){t.hideSpinner(),t.cancelComments(),e&&e.id&&b.a.scrollToComment(e.id)}},"servicedesk/comment/servicedesk-comment.soy","servicedesk/comment/servicedesk-comment.less"])}).fail(function(e,s){t.hideSpinner(),n.removeAttr("aria-disabled").removeAttr("disabled");var a=void 0,o=Object(c.d)(e);a=o&&o.errors&&o.errors.comment?o.errors.comment:Object(c.a)(e,s),new y.a({content:Object(i.default)(ServiceDesk.Comment.Field.errorContent({errorMessage:a}))}).show()})}},onCommentLevelChange:function(){var e=this.$(".js-comment-level :selected").val();this.model.setSelectedCommentSecurityLevel(e)},getCommentVisibility:function(){var e=this.$(".js-comment-level :selected").val();return e?{type:e.split(":")[0],value:this.$(".js-comment-level :selected").text()}:null},saveCurrentWork:function(){var e=this;a.default.debounce(function(){var t=e.$("#comment").val();e.model.saveCommentLocally(t,e.model.getIssueId())},500)()}})),T=o.a.View.extend({initialize:function(){var e=this.$el.data("is-agent"),t=this.$el.data("user-name"),s=this.$el.data("issue-id"),n=this.$el.data("issue-key"),a=this.$el.data("modifier-key"),o=this.$el.data("avatar-url"),l=this.$el.data("agent-display-name"),r=this.$el.data("reporter-display-name"),c=this.$el.data("isSecurityLevelAvailable"),m={isAgent:e,userName:t,issueId:s,issueKey:n,modifierKey:a,avatarUrl:o,agentDisplayName:l,reporterDisplayName:r,isSecurityLevelAvailable:c,prePopulatedSetting:this.$el.data("pre-populated-setting"),isRteEnabled:this.$el.data("is-rte-enabled")};if(c){var u=JSON.parse(this.$(".js-comment-security-jsonpayload").text());m.groupSecurityLevels=u.groupSecurityLevels,m.roleSecurityLevels=u.roleSecurityLevels,m.selectedCommentSecurityLevel=u.selectedCommentSecurityLevel}this.model=new d(m),this.commentView=new w({model:this.model,el:this.el}),this.onJComment=this.commentView.enableComments.bind(this.commentView),Object(i.default)(document).on("click","#comment-issue",this.onJComment)},disable:function(){this.commentView.disable(),Object(i.default)(document).off("click","#comment-issue",this.onJComment)}}),k=a.default.once(function(){Object(n.a)("sd-comment",{created:function(e){e._commentModule=new T({el:e})},detached:function(e){e._commentModule&&e._commentModule.disable()},prototype:{enableCommentWithoutPrefill:function(){this._executeIfCommentModuleExists(function(e){var t=e.model.getPrePopulatedSetting();e.model.setPrePopulatedSetting(!1),e.enableComments(),e.model.setPrePopulatedSetting(t)})},isCommentCurrentlyInProgress:function(){var e=!1;return this._executeIfCommentModuleExists(function(t){e=t.model.getEnabled()}),e},getCurrentCommentValue:function(){var e=void 0;return this._executeIfCommentModuleExists(function(t){e=t.$("textarea").val()}),e},appendToInProgressComment:function(e){this._executeIfCommentModuleExists(function(t){var s=t.$("textarea").val();s&&s.length>0?t.$("textarea").val(""+s+e):t.$("textarea").val(e),t.saveCurrentWork()})},_executeIfCommentModuleExists:function(e){var t=this._commentModule;null!==t&&e(t.commentView)}}})}),x=o.a.Model.extend({namedAttributes:{isAgent:Boolean,isPreview:Boolean,isExternalMode:Boolean,isEdit:Boolean,selectionPosition:Number,issueKey:String,userName:String,comment:String,commentHtml:String,modifierKey:String,avatarUrl:String,agentDisplayName:String,reporterDisplayName:String,isSecurityLevelAvailable:Boolean,groupSecurityLevels:Array,roleSecurityLevels:Array,selectedCommentSecurityLevel:String,prePopulatedSetting:Boolean,isRteEnabled:Boolean},getCommentPreview:function(e){this.setComment(e),this.setIsPreview(!0);var t=r()()+"/rest/api/1.0/render",s={issueKey:this.getIssueKey(),rendererType:"atlassian-wiki-renderer",unrenderedMarkup:this.getComment()};return Object(c.f)(t,s)}}),C=s(253),D=s.n(C),I=o.a.View.extend({initialize:function(){this.listenTo(this.model,"change:isExternalMode",this.switchTabs,this)},events:{"click .js-sd-external-comment":"switchToExternal","click .js-sd-internal-comment":"switchToInternal","click .js-sd-preview":"togglePreview","focus .sd-comment-textarea":"prePopulatedCommentWithTimeOut","change .js-comment-level":"onCommentLevelChange"},switchToExternal:function(){!this.model.getIsExternalMode()&&this.model.getIsAgent()&&this.model.setIsExternalMode(!0)},switchToInternal:function(){this.model.getIsExternalMode()&&this.model.setIsExternalMode(!1)},togglePreview:function(){var e=this;if(this.model.getIsPreview())this.model.setIsPreview(!1),this.$(".sd-comment-field-form-container").html(ServiceDesk.Comment.Field.drawCommentForm(this.model.toJSON())),f.a.trigger(u.a.NEW_CONTENT_ADDED,[this.$el,g.a.panelRefreshed,"servicedesk/comment/servicedesk-comment.soy","servicedesk/comment/servicedesk-comment.less"]);else{var t=this.$("textarea").val();this.model.getCommentPreview(t).done(function(t){e.model.setCommentHtml(t),e.$(".sd-comment-field-form-container").html(ServiceDesk.Comment.Field.drawCommentForm(e.model.toJSON())),new D.a(e.$(".js-comment-level"))})}},focusTextArea:function(){this.$("textarea").focus(),this.model.getPrePopulatedSetting()&&this.prePopulatedComment()},prePopulatedComment:function(){var e=this.$("textarea"),t=this.model.getAgentDisplayName(),s=this.model.getReporterDisplayName(),i=this.model.getIsAgent(),n=this.model.getIsExternalMode();b.a.prepopulateCommentField(e,{isAgent:i,isExternalMode:n,agentDisplayName:t,reporterDisplayName:s})},prePopulatedCommentWithTimeOut:function(){if(this.model.getPrePopulatedSetting()){var e=this.$("textarea"),t=this.model.getAgentDisplayName(),s=this.model.getReporterDisplayName(),i=this.model.getIsAgent(),n=this.model.getIsExternalMode();setTimeout(function(){b.a.prepopulateCommentField(e,{isAgent:i,isExternalMode:n,agentDisplayName:t,reporterDisplayName:s})},0)}},switchTabs:function(){var e=this.$("textarea").selectionRange().end;this.model.setSelectionPosition(e),this.$(".sd-comment-tab-container").html(ServiceDesk.Comment.Field.drawCommentTabs(this.model.toJSON())),this.$(".sd-comment-message").html(ServiceDesk.Comment.Field.drawCommentMessage(this.model.toJSON())),this.focusTextArea()},onCommentLevelChange:function(){var e=this.$(".js-comment-level :selected").val();this.model.setSelectedCommentSecurityLevel(e)}}),$=o.a.View.extend({initialize:function(){var e=this.$el.data("is-agent"),t=this.$el.data("user-name"),s=this.$el.data("is-external"),i=this.$el.data("issue-key"),n=this.$el.data("modifier-key"),a=this.$el.data("is-edit"),o=this.$el.data("avatar-url"),l=this.$el.data("agent-display-name"),r=this.$el.data("reporter-display-name"),c=this.$el.data("isSecurityLevelAvailable"),d={isAgent:e,issueKey:i,userName:t,isEdit:a,isExternalMode:s,modifierKey:n,avatarUrl:o,agentDisplayName:l,reporterDisplayName:r,isSecurityLevelAvailable:c,prePopulatedSetting:this.$el.data("pre-populated-setting"),isRteEnabled:this.$el.data("is-rte-enabled")};if(c){var m=JSON.parse(this.$(".js-comment-security-jsonpayload").text());d.groupSecurityLevels=m.groupSecurityLevels,d.roleSecurityLevels=m.roleSecurityLevels,d.selectedCommentSecurityLevel=m.selectedCommentSecurityLevel}this.model=new x(d),this.commentView=new I({model:this.model,el:this.el})}}),A=a.default.once(function(){Object(n.a)("sd-comment-field",{created:function(e){e._commentModule=new $({el:e})}})}),V=(s(157),s(661),s(63)),E=s(6),j=s.n(E),P=s(4),q=s(21),R=s.n(q),N="agentView";function H(e){var t=Object(i.default)(e.target),s=t.data("username"),n=t.data("comment-id"),a=function(e){return Object(c.g)(r()()+"/rest/servicedesk/1/servicedesk/participants/"+R.a.getIssueKey()+"/outsider/share",{username:e}).done(function(){return P.a.trackEvent("servicedesk.outsider.comments.share",{sourceView:N})})}(s).done(function(){var e;t.parent().parent().hide(),e={id:n},f.a.trigger(u.a.REFRESH_ISSUE_PAGE,[R.a.getIssueId(),{complete:function(){e&&e.id&&b.a.scrollToComment(e.id),j.a.trace("sd.outsider.share.done")}}])});V.a.handleAction(t.parent(),a)}var F=a.default.once(function(){Object(n.a)("js-share-request-to-outsider-link",{type:n.a.types.CLASS,created:function(e){Object(i.default)(e).click(function(e){return H(e)})}})}),L=a.default.once(function(){k(),A(),F(),Object(n.a)("sd-comment-issue-page-edit-root",{type:n.a.types.CLASS,created:function(e){var t=Object(i.default)(e),s=t.data().payload;t.html(ServiceDesk.Comment.Field.commentIssuePageEdit(s))}}),Object(n.a)("sd-comment-field-edit-root",{type:n.a.types.CLASS,created:function(e){var t=Object(i.default)(e),s=t.data().payload;t.html(ServiceDesk.Comment.Field.commentFieldEdit(s))}}),Object(n.a)("sd-comment-issue-page-view-root",{type:n.a.types.CLASS,created:function(e){var t=Object(i.default)(e),s=t.data().payload;t.html(ServiceDesk.Comment.IssuePage.View.commentIssuePageView(s))}})}),O=s(2),z=s(65),B=s.n(z),U=s(26),_=s.n(U),J=s(56),M=s.n(J),G=s(13),K=s.n(G),W=s(168),Q=s.n(W),Z=s(167),Y=s.n(Z),X=(s(657),s(656),s(112),Y.a.extend({_renders:{option:function(e){var t=e.icon;e.icon=i.default.noop;var s=Y.a.prototype._renders.option.call(this,e);return e.icon=t,s}}})),ee=Q.a.extend({templates:{requestTypeItemIcon:ServiceDesk.Templates.CustomerFields.RequestTypeSelector.requestTypeItemIcon},_renders:{suggestion:function(e,t){var s=e.icon;e.icon=i.default.noop;var n=Q.a.prototype._renders.suggestion.call(this,e,t),o=n.find(".aui-list-item-link");if(e.icon=s,e.disabled()&&(n.addClass("disabled"),o.addClass("disabled"),n.addClass("js-tooltip"),n.attr("title","This request type is not applicable for current issue type")),a.default.isFinite(parseInt(e.icon(),10))){var l=this.templates.requestTypeItemIcon({icon:e.icon()});o.addClass("aui-iconised-link").prepend(l)}return n}}}),te=B.a.extend({templates:{selectedRTIcon:ServiceDesk.Templates.CustomerFields.RequestTypeSelector.selectedRTIcon},init:function(e){var t=this,s=e.element,n=this;e.selectedRequestType=e.selectedRequestType||{},e.buildItemValue=e.buildItemValue||function(e){return e.portalKey+"/"+e.key};var o=s.data("issueId"),l=s.data("projectId"),c=s.data("issuetypeId"),d=!!s.data("sd-customer-request-type-new"),m="#issuetype",u="#project";function p(){var e=Object(i.default)(m).val();return null!==e&&void 0!==e||(e=c),e}function g(){var e=Object(i.default)(u).val();return null!==e&&void 0!==e||(e=l),e}i.default.extend(e,{submitInputVal:!0,showDropdownButton:!0,removeDuplicates:!0,ajaxOptions:{url:function(){var e=p(),t=g(),s=void 0;if(o){var i=new K.a(r()()+"/rest/servicedesk/1/servicedesk/request/edit/"+o+"/request-types");null!==e&&void 0!==e&&i.addQuery("issueTypeId",e),null!==t&&void 0!==t&&i.addQuery("projectId",t),s=i.build().href()}else s=r()()+"/rest/servicedesk/1/servicedesk/request/create/"+t+"/"+e+"/request-types";return s},query:!0,formatResponse:function(t){var i=[{requestTypes:(t=t||{}).validRequestTypes,isValid:!0,groupName:"Current issue type"},{requestTypes:t.invalidRequestTypes,isValid:!1,groupName:"Other issue types"}],o=[];return a.default.each(i,function(t){var i=t.requestTypes;if(i&&i.length>0){var l=new M.a({label:a.default.escape(t.groupName)});a.default.each(i,function(s){var i=e.buildItemValue(s);n.getSelectedDescriptor()&&n.getSelectedDescriptor().value()===i||l.addItem(new _.a({value:i,label:s.name,title:s.name,icon:s.id>-1?s.icon:null,disabled:!t.isValid,meta:{issueTypeId:s.issueType,projectId:s.projectId}}))}),o.push(l),t.isValid&&s.data("groupDescriptor",l)}}),o}}}),s.on("initialized",function(){a.default.isEmpty(e.selectedRequestType)||t.setSelection(new _.a({value:e.buildItemValue(e.selectedRequestType),label:e.selectedRequestType.name,title:e.selectedRequestType.name,icon:e.selectedRequestType.id>-1?e.selectedRequestType.icon:null}))});var v=function(e,s,i,n){if(null!==s&&void 0!==s&&null!==i&&void 0!==i&&null!==e&&void 0!==e){var o=e.value();if(a.default.isString(o)){var l=o.indexOf(","),r=String(s),c=String(i),m=e.label(),u=e.title(),p=e.icon(),g=e.meta(),v={label:m,title:u,icon:p};a.default.isEqual(n,v)||(g.originalNotEmptyDescriptor=v);var f=!1;if(a.default.isObject(g)&&g.issueTypeId&&g.projectId&&(String(g.issueTypeId)===r&&String(g.projectId)===c?g.originalNotEmptyDescriptor?(m=g.originalNotEmptyDescriptor.label,u=g.originalNotEmptyDescriptor.title,p=g.originalNotEmptyDescriptor.icon):g.originalDescriptor&&(m=g.originalDescriptor.label,u=g.originalDescriptor.title,p=g.originalDescriptor.icon):(m=n.label,u=n.title,p=n.icon,f=!a.default.isEqual(g.originalDescriptor,v),g.originalDescriptor=v,t.$entityIcon&&t.$entityIcon.remove())),l<0)t.setSelection(new _.a({value:o.trim()+","+r+","+c+","+d,label:m,title:u,icon:p,disabled:e.disabled(),meta:g}));else{var h=o.split(",");!h||h.length<3||h[1]!==r||h[2]!==c?t.setSelection(new _.a({value:o.substring(0,l).trim()+","+r+","+c+","+d,label:m,title:u,icon:p,disabled:e.disabled(),meta:g})):f&&t.setSelection(new _.a({value:o,label:m,title:u,icon:p,disabled:e.disabled(),meta:g}))}}}},f={label:"No match",title:"The request type set is not valid for this type of issue. This means customers will be unable to view all request details. To fix this, select a valid request type.",icon:"none"};Object(i.default)(u).on("selected",function(e,s){v(t.getSelectedDescriptor(),p(),s.value(),f)}),Object(i.default)(m).on("selected",function(e,s){v(t.getSelectedDescriptor(),s.value(),g(),f)}),s.on("selected",function(e,t){v(t,p(),g(),f)}),this._super(e)},_createSelectModel:function(){this.model=new X({element:this.options.element,removeOnUnSelect:this.options.removeOnUnSelect})},_createListController:function(){var e=this;this.listController=new ee({containerSelector:Object(i.default)(".aui-list",this.$container),groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,maxInlineResultsDisplayed:this.options.maxInlineResultsDisplayed,matchItemText:this.options.matchItemText,hasLinks:this.options.hasLinks,selectionHandler:function(t){if(Object(i.default)(t.currentTarget).hasClass("disabled"))t.stopPropagation();else{var s=this.getFocused().data("descriptor");e.setSelection(s),e.$field.select()}t.preventDefault()}})},handleFreeInput:function(e){this._super(e);var t=i.default.trim(this.$field.val());if(!a.default.isEmpty(t)){var s=e||this._matchAgainstSuggestions(a.default.unescape(t));s?(this.setSelection(s),this.hideErrorMessage()):(this.options.errorMessage&&(this.options.errorMessage=O.format("Customer Request Type {0} does not exist",a.default.escape(t))),this.showErrorMessage(e))}},_matchAgainstSuggestions:function(e){var t=null,s=this.model.$element.data("groupDescriptor");return s&&s.items()&&i.default.each(s.items(),function(s,n){if(e===i.default.trim(n.label().toLowerCase())||e===i.default.trim(n.value().toLowerCase()))return t=n,!1}),t},_hasIcon:function(){var e=this.getSelectedDescriptor();return e&&a.default.isFinite(parseInt(e.icon(),10))},_renders:{entityIcon:function(e){var t=Object(i.default)("<span/>");return a.default.isFinite(parseInt(e,10))&&(t=Object(i.default)(this.templates.selectedRTIcon({icon:e}))),t},container:function(e){return Object(i.default)('<div class="aui-ss ajax-ss sd-rt-picker-container" id="'+e+'-single-select" />')},suggestionsContainer:function(e){return Object(i.default)('<div class="aui-list sd-rt-suggestion-container" id="'+e+'-suggestions" tabindex="-1" />')}}});function se(e){Object(i.default)(".js-request-type-selector",e).each(function(){var e=Object(i.default)(this);!function(e){Object(i.default)("#bulkedit").on("submit",function(){var t=Object(i.default)("#cb"+e.model.id),s=i.default.trim(e.$field.val());t.is(":checked")&&0===s.length?e.model.setSelected(new _.a({value:-1,label:""}),!1):P.a.trackPageview("jira/bulkedit/requesttype")})}(new te({element:e,errorMessage:""}))})}var ie=a.default.once(function(){f.a.bind(u.a.NEW_CONTENT_ADDED,function(e,t,s){s!==g.a.panelRefreshed&&se(t)})}),ne=(s(229),s(228),o.a.Model.extend({idAttribute:"key",namedAttributes:{key:String,avatarUrls:Object,displayName:String,emailAddress:String,active:Boolean,name:String,self:String,timeZone:String}})),ae=o.a.Collection.extend({model:ne}),oe=o.a.Model.extend({namedAttributes:{maxDisplayedUsers:Number,expanded:Boolean,editable:Boolean,users:ae},getDisplayedUsers:function(){var e=this.getUsers().toJSON();return this.getExpanded()?e:e.slice(0,this.getMaxDisplayedUsers())},hasToggle:function(){return this.getUsers().length>this.getMaxDisplayedUsers()},defaults:{maxDisplayedUsers:5}}),le=o.a.View.extend({template:ServiceDesk.Templates.Components.Participants.main,initialize:function(){this.listenTo(this.model,"change:expanded",this.render)},onContractClicked:function(e){this.model.setExpanded(!1),P.a.trackPageview("servicedesk/issue/requestparticipants/contracted"),e.preventDefault(),e.stopPropagation()},onExpandClicked:function(e){this.model.setExpanded(!0),P.a.trackPageview("servicedesk/issue/requestparticipants/expanded"),e.preventDefault(),e.stopPropagation()},render:function(){var e=this.template({displayedUsers:this.model.getDisplayedUsers(),totalUsers:this.model.getUsers().length,hasToggle:this.model.hasToggle(),expanded:this.model.getExpanded()});this.$el.html(e),this.$(".js-expand").click(this.onExpandClicked.bind(this)),this.$(".js-contract").click(this.onContractClicked.bind(this))}}),re=s(86),ce=s.n(re),de=s(118),me=s.n(de),ue=s(85),pe=s.n(ue),ge=s(136),ve=s.n(ge),fe=me.a.extend({keys:{Up:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.keys.Left.apply(this,t)},Down:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.keys.Right.apply(this,t)}}}),he=ce.a.extend({template:ServiceDesk.Templates.Components.Participants.participantsLozenge,init:function(e){this.$lozenge=Object(i.default)(this.template(e.properties)),this._assignEvents("instance",this)._assignEvents("removeButton",this.$lozenge.find(".js-remove"))},_events:{instance:{focus:function(){this.$lozenge.addClass("focused")},blur:function(){this.$lozenge.removeClass("focused")},remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),ye=pe.a.extend({init:function(){for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];(e=this._super).call.apply(e,[this].concat(s)),this.$container.addClass("sd-participants-field")},_getDefaultOptions:function(e){var t=Object(i.default)(e.element).data("projectId");return i.default.extend(!0,this._super(),{showDropdownButton:!1,itemGroup:new fe,itemAttrDisplayed:"label",suggestionsHandler:ve.a,errorMessage:!1,itemBuilder:function(e){var t=new he(e);return t.$lozenge.appendTo(this.$selectedItemsContainer),t},ajaxOptions:{url:r()()+"/rest/servicedesk/1/servicedesk/sd-user-search/participants?projectId="+t,query:!0,formatResponse:this._formatResponse}})},_formatResponse:function(e){var t=a.default.map(e.users,function(e){return new _.a({value:e.username,label:e.displayName,html:e.highlightedHtml,icon:e.avatarUrl,allowDuplicate:!1,highlighted:!0})});return e.resultExceedsLimit?[new M.a({items:t,footerHtml:ServiceDesk.Templates.Components.Participants.resultsExceedLimit()})]:t},updateItemsIndent:function(){var e=this.$selectedItemsContainer.outerHeight()+5+5;this.$field.css({paddingLeft:5,paddingTop:e,height:e+20+5}),i.default.browser.msie&&parseInt(i.default.browser.version,10)<11&&(this.$field.val(this.$field.val()+" "),this.$field.val(this.$field.val().replace(/\s$/,"")))},keys:{Up:function(){var e=this;!this.suggestionsVisible&&this.lozengeGroup.items.length>0&&this.lozengeGroup.index<0&&a.default.defer(function(){e.lozengeGroup.shiftFocus(-1)})}}}),Se=s(98),be=s(97),we=s(135),Te=s(27),ke=s(12),xe=s.n(ke),Ce=o.a.Model.extend({namedAttributes:{hasPreviousCycles:Boolean,goalViews:Object,canAdministerProject:Boolean,projectKey:String},updateState:function(e,t,s,i){this.setCanAdministerProject(s),this.setProjectKey(i),this.setHasPreviousCycles(e),this.setGoalViews(t)}}),De=(s(227),s(226),s(645),o.a.View.extend({initialize:function(){this.listenTo(this.model,"change:goalViews",this.render,this)},render:function(){this.$el.html(ServiceDesk.Templates.SlaView.issuePanelContent(this.model.toJSON()))}})),Ie=s(79),$e=o.a.Model.extend({initialize:function(e){this.enabled=null,this.pollSLA=null,this.model=e.model,this.pageVisibilityEventHandler=Object(Ie.a)(this._onPageVisibilityChange.bind(this)),this._doRestCall=this._doRestCall.bind(this,e.issueKey,a.default.bind(this._onSuccess,this),a.default.bind(this._onError,this)),this.startPoll=this.startPollCustomInterval.bind(this,e.refreshInterval)},startPollCustomInterval:function(e,t){this.enabled||(this.enabled=!0,t&&this._doRestCall(),this.pollSLA=setInterval(this._doRestCall,e))},stopPoll:function(){this.enabled=!1,clearInterval(this.pollSLA),this.pageVisibilityEventHandler.remove()},pausePoll:function(){this.enabled=!1,clearInterval(this.pollSLA)},_doRestCall:function(e,t,s){i.default.ajax({url:r()()+"/rest/servicedesk/1/servicedesk/sla/issue/"+e,success:t,error:s})},_onSuccess:function(e){this.model.updateState(e.hasPreviousCycles,e.goalViews,e.canAdministerProject,e.projectKey)},_onError:function(){this.stopPoll()},_onPageVisibilityChange:function(){Object(Ie.b)()?this.startPoll(!0):this.pausePoll()}}),Ae=void 0,Ve=s(7),Ee=s.n(Ve),je=s(176),Pe=o.a.Model.extend({namedAttributes:{cvId:Number,description:String,groups:Array,helpText:String,icon:Number,id:Number,issueType:Number,issueTypeName:String,key:String,name:String,order:Number,portalKey:String,usedByEmailSettings:Boolean},toJSON:function(){var e=o.a.Model.prototype.toJSON.call(this);return e.showIcon=this.getId()>-1,e}}),qe=o.a.Model.extend({namedAttributes:{currentRequestType:Pe}}),Re=s(46),Ne=(s(643),s(642),o.a.View.extend({templates:{rtSelectorEditView:ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorEditView,rtSelectorReadView:ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorReadView},initialize:function(){var e=this;this._rtSelectorId="#sd-request-type",this._inlineEdit=Object(je.a)({el:this.el,applyBlurHandler:!0}),f.a.bind(Re.b.BEFORE_INLINE_EDIT_CANCEL,function(){e._showHideQuestionIcon(e.model.getCurrentRequestType().getId())}),this._applyInlineEdit()},_applyInlineEdit:function(){var e=this;this._inlineEdit.reset([{selector:this._rtSelectorId,editView:function(){return e._showHideQuestionIcon(0),e.templates.rtSelectorEditView({issueId:R.a.getIssueId(),currentRequestTypeId:e.model.getCurrentRequestType().getId(),currentRequestTypeIconId:e.model.getCurrentRequestType().getIcon(),currentRequestTypeName:e.model.getCurrentRequestType().getName()})},readView:function(t,s){return s&&(e.model.setCurrentRequestType({icon:s.requestIcon,id:s.requestTypeId,name:s.requestTypeName}),j.a.trace("sd.customerwebpanel.edit.done")),e._showHideQuestionIcon(e.model.getCurrentRequestType().getId()),e.templates.rtSelectorReadView(e.model.getCurrentRequestType().toJSON())},save:function(t){var s=Ee()();if(P.a.trackPageview("jira/field/requesttype"),a.default.isFinite(parseInt(t.rtId,10))&&e.model.getCurrentRequestType().getId()!==t.rtId){var i=R.a.getIssueId();Object(c.e)(r()()+"/rest/servicedesk/1/servicedesk/request/"+i+"/request-types",t).done(function(e){s.resolve(e),f.a.trigger(u.a.REFRESH_ISSUE_PAGE,[i,"servicedesk/components/portal-panel/customer-portal-webpanel-view.soy","servicedesk/components/portal-panel/customer-portal-webpanel-view.less"])}).fail(function(){e._showHideQuestionIcon(t.rtId),s.resolve()})}else s.resolve();return s}}])},_showHideQuestionIcon:function(e){-1===e?Object(i.default)(".sd-invalid-request-type-help").show():Object(i.default)(".sd-invalid-request-type-help").hide()}})),He=(s(639),s(29));s(638);function Fe(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}var Le=me.a.extend({keys:{Up:function(){for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=this.keys.Left).call.apply(e,[this].concat(Fe(s)))},Down:function(){for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=this.keys.Right).call.apply(e,[this].concat(Fe(s)))}}}),Oe=ce.a.extend({template:ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge,init:function(e){this.$lozenge=Object(i.default)(this.template(e.properties)),this._assignEvents("instance",this)._assignEvents("removeButton",this.$lozenge.find(".js-remove"))},_events:{instance:{focus:function(){this.$lozenge.addClass("focused")},blur:function(){this.$lozenge.removeClass("focused")},remove:function(){this.$lozenge.remove()}},removeButton:{click:function(){this.trigger("remove")}}}}),ze=pe.a.extend({init:function(){for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];(e=this._super).call.apply(e,[this].concat(Fe(s))),this.$container.addClass("sd-participants-field")},_getDefaultOptions:function(e){var t=e.projectId||Object(i.default)(e.element).data("projectId");return i.default.extend(!0,this._super(),{showDropdownButton:!1,itemGroup:new Le,itemAttrDisplayed:"label",errorMessage:!1,itemBuilder:function(e){var t=new Oe(e);return t.$lozenge.appendTo(this.$selectedItemsContainer),t},ajaxOptions:{url:r()()+"/rest/servicedesk/1/organisations/project/"+t+"/search?",query:!0,formatResponse:this._formatResponse}})},_formatResponse:function(e){var t=a.default.map(e,function(e){return new _.a({label:e.name,value:e.id})});return e.resultExceedsLimit?[new M.a({items:t,footerHtml:ServiceDesk.Templates.Components.Participants.resultsExceedLimit()})]:t},updateItemsIndent:function(){var e=this.$selectedItemsContainer.outerHeight()+5+5;this.$field.css({paddingLeft:5,paddingTop:e,height:e+20+5}),i.default.browser.msie&&parseInt(i.default.browser.version,10)<11&&(this.$field.val(this.$field.val()+" "),this.$field.val(this.$field.val().replace(/\s$/,"")))},keys:{Up:function(){var e=this;!this.suggestionsVisible&&this.lozengeGroup.items.length>0&&this.lozengeGroup.index<0&&a.default.defer(function(){e.lozengeGroup.shiftFocus(-1)})}}}),Be=Object(He.a)("js-request-organizations-field",{created:function(e){new ze({element:e})}}),Ue=s(134),_e=a.default.once(function(){Be.install(),Ue.a.install()});_e(),Object(n.a)("sd-request-feedback-webpanel-root",{type:n.a.types.CLASS,created:function(e){var t=Object(i.default)(e),s=t.data().payload;t.html(ServiceDesk.Templates.RequestFeedback.feedbackWebPanel(s))}}),Object(n.a)("sd-request-feedback-customfield-root",{type:n.a.types.CLASS,created:function(e){var t=Object(i.default)(e),s=t.data().payload;t.html(ServiceDesk.Templates.RequestFeedback.columnView(s))}}),Object(n.a)("sd-sla-field-customfield-root",{type:n.a.types.CLASS,created:function(e){var t=Object(i.default)(e),s=t.data().payload;t.html(ServiceDesk.Templates.SlaView.navView(s))}}),Object(n.a)("sd-sla-webpanel-root",{type:n.a.types.CLASS,created:function(e){var t=Object(i.default)(e),s=t.data().payload;t.html(ServiceDesk.Templates.SlaView.issuePanelContentContainer(s));var n=Object(i.default)(".sla-view-issue-container"),a=xe.a.get("issue-key"),o=new Ce;new De({model:o,el:n});var l=Te.a.duration(2,"minutes").asMilliseconds();(Ae=new $e({model:o,issueKey:a,refreshInterval:l})).startPoll(!1)},detached:function(){Ae.stopPoll()}}),Object(i.default)(document).on("click",".sla-cycle-show-button",function(e){var t=Object(i.default)(this);t.parent().find(".sla-hidden-cycle").removeClass("sla-hidden-cycle"),t.remove(),e.preventDefault()}),L(),ie(),Object(n.a)("request-participants",{type:n.a.types.TAG,created:function(e){var t;(t=Object(i.default)(e),new le({el:t,model:new oe(t.data())})).render()}}),Object(n.a)("js-request-participants-field",{type:n.a.types.CLASS,created:function(e){new ye({element:e})}}),Object(Se.a)(),Object(we.a)(),Object(be.a)(),Object(n.a)("sd-customer-request-type-customfield-root",{type:n.a.types.CLASS,created:function(e){var t=Object(i.default)(e),s=t.data(),n=s.payload;if(!s.isColumnView){var a=t.closest("li.item");if(0!==a.length)return void a.hide()}t.html(ServiceDesk.Templates.CustomFields.CustomerRequestType.view(n))}}),Object(n.a)("js-rt-selector-element",{type:n.a.types.CLASS,created:function(e){var t=Object(i.default)(e),s=t.data("rt-id"),n=t.data("rt-icon"),a=t.data("rt-name");new te({element:t,selectedRequestType:{id:s,icon:n,name:a},errorMessage:"",buildItemValue:function(e){return""+e.id}}).$field.focus().select()}}),Object(n.a)("js-customer-portal-panel",{type:n.a.types.CLASS,created:function(e){var t,s=Object(i.default)(e),n=s.data("rt-id"),a=s.data("rt-iconid"),o=s.find("#sd-request-type").text();(t=(t={el:e})||{}).model=new qe({currentRequestType:{icon:a,id:n,name:o}}),new Ne(t)}}),Object(n.a)("sd-customer-portal-webpanel-root",{type:n.a.types.CLASS,created:function(e){var t=Object(i.default)(e),s=t.data().payload;t.html(ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanel(s))}})},638:function(e,t,s){var i,n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Components&&(ServiceDesk.Templates.Components={}),void 0===ServiceDesk.Templates.Components.Organizations&&(ServiceDesk.Templates.Components.Organizations={}),void 0===ServiceDesk.Templates.Components.Organizations.Field&&(ServiceDesk.Templates.Components.Organizations.Field={}),ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge=function(e,t){return'<li class="sd-participant-lozenge" title="'+soy.$$escapeHtml(e.label)+'">'+ServiceDesk.Templates.Shared.Components.CustomerOrganization.defaultRenderer({organisationName:e.label,avatarSize:"small"})+'<button type="button" class="js-remove aui-icon aui-icon-small aui-iconfont-delete" tabindex="-1"></button></li>'},goog.DEBUG&&(ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge.soyTemplateName="ServiceDesk.Templates.Components.Organizations.Field.organizationsLozenge"),i=[s(143)],void 0===(n=function(){return ServiceDesk.Templates.Components.Organizations.Field}.apply(t,i))||(e.exports=n)},639:function(e,t,s){var i,n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.CustomFields&&(ServiceDesk.Templates.CustomFields={}),void 0===ServiceDesk.Templates.CustomFields.CustomerRequestType&&(ServiceDesk.Templates.CustomFields.CustomerRequestType={}),ServiceDesk.Templates.CustomFields.CustomerRequestType.view=function(e,t){return'<span class="sd-request-type">'+(e.rtIconId?ServiceDesk.Templates.Components.RequestTypeIcons.icon({iconId:e.rtIconId,class:"sd-recent-rt",style:"width:24px;height:24px;"}):"")+soy.$$escapeHtml(e.rtName)+"</span>"},goog.DEBUG&&(ServiceDesk.Templates.CustomFields.CustomerRequestType.view.soyTemplateName="ServiceDesk.Templates.CustomFields.CustomerRequestType.view"),i=[s(55)],void 0===(n=function(){return ServiceDesk.Templates.CustomFields.CustomerRequestType}.apply(t,i))||(e.exports=n)},640:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAi0lEQVR42mNgQAJFs47eSezb99+2dD0cJ/Xv+18+7/h/BnQAVHz7PxoAKWbABoCKfyErBJnMALLKpmQ9HMP4GAqRBdtWnP0f070HzAaJw0xGUQhS5FK5Ccx2LN8INhnmZjAbWaFH7Zb/gc3bwWyQOHJooFjdClQAUgSzGsWH6A6HAQyF6L5G9j2yOgC1g+YBDgHCGQAAAABJRU5ErkJggg=="},641:function(e,t,s){var i=s(66);(e.exports=s(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n.sd-customer-portal-panel .rt-label {\n  color: #707070;\n  margin: 5px 0;\n}\n.sd-customer-portal-panel .sd-rt-preview {\n  padding-top: 10px;\n}\n.sd-customer-portal-panel a.sd-open-in-tab::after {\n  content: url("+i(s(640))+");\n  padding: 0 1px 0 4px;\n}\n.sd-customer-portal-panel .aui-icon.sd-request-type::before {\n  font-size: 24px;\n  margin-top: -10px;\n  margin-left: -3px;\n}\n.sd-customer-portal-panel .sd-invalid-request-type-help {\n  margin-left: 3px;\n  overflow: visible;\n  vertical-align: text-top;\n}\n.sd-customer-portal-panel .aui-message.error {\n  background: #fff;\n  border-color: #fff;\n  color: #d04437;\n}\n.sd-customer-portal-panel .sd-rt-selector-trigger {\n  display: block;\n}\n.sd-customer-portal-panel .sd-request-type {\n  padding: 2px 30px 2px 5px;\n  margin: -2px 0 -2px -5px;\n  line-height: 20px;\n  min-height: 20px;\n}\n.sd-customer-portal-panel .sd-request-type .sd-readview-icon {\n  vertical-align: top;\n  margin-right: 3px;\n}\n.sd-customer-portal-panel .sd-request-type.inactive {\n  border: none;\n}\n.sd-customer-portal-panel .sd-request-type.sd-editable-field {\n  width: auto;\n}\n.sd-customer-portal-panel .sd-request-type .inline-edit-fields {\n  height: 24px;\n}\n.sd-customer-portal-panel .error {\n  color: #d04437;\n}\n",""])},642:function(e,t,s){var i=s(641);"string"==typeof i&&(i=[[e.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(8)(i,n);i.locals&&(e.exports=i.locals)},643:function(e,t,s){var i,n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Agent&&(ServiceDesk.Templates.Agent={}),void 0===ServiceDesk.Templates.Agent.Customer&&(ServiceDesk.Templates.Agent.Customer={}),void 0===ServiceDesk.Templates.Agent.Customer.Issue&&(ServiceDesk.Templates.Agent.Customer.Issue={}),ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanel=function(e,t){return e.errorMessage?'<div class="aui-message error"><span class="aui-icon icon-error"></span><p>'+soy.$$escapeHtml(e.errorMessage)+"</p></div>":'<div class="sd-customer-portal-panel js-customer-portal-panel" data-rt-id="'+soy.$$escapeHtml(e.requestTypeId)+'" data-rt-iconid="'+soy.$$escapeHtml(e.requestTypeIconId)+'"><ul class="item-details"><li class="customer-portal-details"><dl><dt>'+soy.$$escapeHtml("Request type")+':</dt><dd><span id="'+(e.canUpdateRequest?"sd-request-type":"sd-request-type-uneditable")+'" class="sd-request-type">'+ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorReadView({id:e.requestTypeId,showIcon:e.showIcon,name:e.requestTypeName,icon:e.requestTypeIconId})+"</span>"+(-1==e.requestTypeId?'<span class="aui-icon aui-icon-small aui-iconfont-help sd-invalid-request-type-help js-tooltip" title="'+soy.$$escapeHtml("The request type set is not valid for this type of issue. This means customers will be unable to view all request details. To fix this, select a valid request type.")+'"></span>':"")+"</dd></dl>"+(e.customerVisibleStatusName?"<dl><dt>"+soy.$$escapeHtml("Customer status")+':</dt><dd id="sd-customer-visible-status">'+soy.$$escapeHtml(e.customerVisibleStatusName)+"</dd></dl>":"")+"<dl><dt>"+soy.$$escapeHtml("Channel")+':</dt><dd id="sd-request-channel"><span class="js-tooltip" title="'+soy.$$escapeHtml(e.requestChannelTooltip)+'">'+soy.$$escapeHtml(e.requestChannelText)+"</span></dd></dl></li></ul>"+(e.url?'<div class="sd-rt-preview"><a href="'+soy.$$escapeHtml(e.url)+'" target="_blank" class="sd-open-in-tab">'+soy.$$escapeHtml("View customer request")+"</a></div>":"")+"</div>"},goog.DEBUG&&(ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanel.soyTemplateName="ServiceDesk.Templates.Agent.Customer.Issue.customerPortalIssuePanel"),ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorReadView=function(e,t){return""+(e.showIcon?ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon({iconId:e.icon,class:"sd-readview-icon"})+soy.$$escapeHtml(e.name):-1==e.id?'<span class="error">'+soy.$$escapeHtml(e.name)+"</span>":soy.$$escapeHtml(e.name))},goog.DEBUG&&(ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorReadView.soyTemplateName="ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorReadView"),ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorEditView=function(e,t){return'<select name="rtId" class="js-rt-selector-element" data-issue-id="'+soy.$$escapeHtml(e.issueId)+'" data-rt-id="'+soy.$$escapeHtml(e.currentRequestTypeId)+'" data-rt-icon="'+soy.$$escapeHtml(e.currentRequestTypeIconId)+'" data-rt-name="'+soy.$$escapeHtml(e.currentRequestTypeName)+'"><option value="'+soy.$$escapeHtml(e.currentRequestTypeId)+'" data-icon="'+soy.$$escapeHtml(e.currentRequestTypeIconId)+'" selected>'+soy.$$escapeHtml(e.currentRequestTypeName)+"</option></select>"},goog.DEBUG&&(ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorEditView.soyTemplateName="ServiceDesk.Templates.Agent.Customer.Issue.rtSelectorEditView"),i=[s(55)],void 0===(n=function(){return ServiceDesk.Templates.Agent.Customer.Issue}.apply(t,i))||(e.exports=n)},644:function(e,t,s){(e.exports=s(9)(!1)).push([e.i,"/* 3.01px for IE10*/\n/*\n * @see https://atlassian.design/guidelines/brand/color-1\n */\n/* View Issue SLAs. Bigger, Badder, More Responsive */\n/* ************************************************ */\n.sla-view-issue {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border-spacing: 0;\n  display: table;\n  margin-bottom: 10px;\n  table-layout: fixed;\n  width: 100%;\n}\n.sla-view-issue > div {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: table-cell;\n  margin: 0;\n  vertical-align: top;\n}\n.sla-view-issue > div + div {\n  padding-left: 5px;\n}\n.sla-view-issue .sla-tag-container {\n  padding-top: 3px;\n  width: 125px;\n}\n.sla-view-issue .sla-tag {\n  font-size: 20px;\n  font-weight: normal;\n  height: 32px;\n  width: 125px;\n  padding-right: 35px;\n  /* SLA Types */\n}\n.sla-view-issue .sla-tag .sla-status-icon {\n  width: 32px;\n  height: 32px;\n}\n.sla-view-issue .sla-tag .sla-status-icon::before {\n  font-size: 19px;\n  line-height: 32px;\n  width: 32px;\n  height: 32px;\n  margin-top: -17px;\n}\n.sla-view-info .sla-view-name {\n  color: #707070;\n}\n.sla-view-info .sla-calendar-icon {\n  vertical-align: -3px;\n  margin-left: 5px;\n}\n.sla-calendar-icon {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n}\n/* previous sla cycles */\n.sla-view-previous-cycles {\n  font-size: 0;\n  width: 80px;\n  /* three columns */\n}\n.sla-cycle {\n  border-radius: 3.01px 3.01px 3.01px 3.01px;\n  background-clip: padding-box;\n  font-size: 14px;\n  display: inline-block;\n  margin: 0 0 3px 3px;\n  border: 1px solid #999;\n  width: 20px;\n  height: 20px;\n  text-align: center;\n}\n.sla-cycle:hover {\n  cursor: default;\n  /* fix cursor in firefox */\n}\n.sla-cycle .sla-cycle-icon {\n  /* The success icon in AUI is too thin */\n}\n.sla-cycle .sla-cycle-icon::before {\n  color: #707070;\n  line-height: 16px;\n  width: 16px;\n  height: 16px;\n  text-align: center;\n}\n.sla-cycle .sla-cycle-icon.aui-iconfont-success::before {\n  font-weight: bold;\n}\n.sla-cycle.sla-cycle-successful .sla-cycle-icon::before {\n  font-size: 12px;\n  vertical-align: text-top;\n}\n.sla-cycle.sla-cycle-successful:hover {\n  border-color: #14892c;\n}\n.sla-cycle.sla-cycle-successful:hover .sla-cycle-icon::before {\n  color: #14892c;\n}\n.sla-cycle.sla-cycle-unsuccessful .sla-cycle-icon::before {\n  font-size: 14px;\n}\n.sla-cycle.sla-cycle-unsuccessful:hover {\n  border-color: #d04437;\n}\n.sla-cycle.sla-cycle-unsuccessful:hover .sla-cycle-icon::before {\n  color: #d04437;\n}\n.sla-cycle.sla-hidden-cycle {\n  display: none;\n}\n.sla-cycle-show-button {\n  font-size: 14px;\n}\n/* For narrower browsers */\n@media all and (max-width: 1190px) {\n  .sla-view-info {\n    text-align: right;\n  }\n  .sla-view-issue {\n    clear: both;\n    overflow: hidden;\n    display: block;\n  }\n  .sla-view-issue > div {\n    display: block;\n    float: left;\n  }\n  .sla-view-issue > div + div {\n    padding-left: 0;\n  }\n  .sla-view-issue .sla-tag-container {\n    width: 40%;\n  }\n  .sla-view-issue .sla-view-info {\n    width: 60%;\n  }\n  .sla-view-previous-cycles {\n    border-bottom: 1px solid #ddd;\n    padding: 3px 0;\n    width: 100%;\n    clear: both;\n    text-align: right;\n  }\n}\n.sd-adgs-feature-flag-m1 .sla-cycle {\n  border-color: #B3BAC5;\n}\n.sd-adgs-feature-flag-m1 .sla-cycle .sla-cycle-icon::before {\n  color: #B3BAC5;\n}\n.sd-adgs-feature-flag-m1 .sla-cycle.sla-cycle-successful:hover {\n  border-color: #36B37E;\n}\n.sd-adgs-feature-flag-m1 .sla-cycle.sla-cycle-successful:hover .sla-cycle-icon::before {\n  color: #36B37E;\n}\n.sd-adgs-feature-flag-m1 .sla-cycle.sla-cycle-unsuccessful:hover {\n  border-color: #FF5630;\n}\n.sd-adgs-feature-flag-m1 .sla-cycle.sla-cycle-unsuccessful:hover .sla-cycle-icon::before {\n  color: #FF5630;\n}\n",""])},645:function(e,t,s){var i=s(644);"string"==typeof i&&(i=[[e.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(8)(i,n);i.locals&&(e.exports=i.locals)},646:function(e,t,s){(e.exports=s(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n/*\n * @see https://atlassian.design/guidelines/brand/color-1\n */\n/* 3.01px for IE10*/\n/*\n* Icon Font\n* - use when you need to change the colour of the icon via CSS - eg on hover or to match Look and Feel customisations\n*\n* Ranges\n*\n* UTF+E001 - UTF+E3FF - Global\n* UTF+E400 - UTF+E7FF - Conf\n* UTF+E800 - UTF+EBFF - JIRA\n* UTF+EC00 - UTF+EFFF - Dev Tools\n*/\n.sla-agent-restricted {\n  color: #707070;\n}\n.sla-tag {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border-radius: 3.01px 3.01px 3.01px 3.01px;\n  background-clip: padding-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  height: 22px;\n  padding: 2px 27px 2px 2px;\n  position: relative;\n  text-align: right;\n  width: 90px;\n  /* SLA types */\n}\n.sla-tag .sla-status-icon {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  font-size: 16px;\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n  display: block;\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 22px;\n  width: 24px;\n  /* The success icon in AUI is too thin */\n}\n.sla-tag .sla-status-icon::before {\n  text-align: center;\n  line-height: 22px;\n  width: 24px;\n  height: 22px;\n  margin-top: -11px;\n}\n.sla-tag .sla-status-icon.aui-iconfont-success::before {\n  font-weight: bold;\n}\n.sla-tag.sla-tag-breached {\n  background-color: #e9e9e9;\n  font-weight: bold;\n}\n.sla-tag.sla-tag-breached .sla-status-icon {\n  background-color: #d04437;\n  color: #fff;\n}\n.sla-tag.sla-tag-urgent {\n  background-color: #e9e9e9;\n  font-weight: bold;\n}\n.sla-tag.sla-tag-urgent .sla-status-icon {\n  background-color: #f1a257;\n}\n.sla-tag.sla-tag-important {\n  background-color: #e9e9e9;\n  font-weight: bold;\n}\n.sla-tag.sla-tag-successful {\n  color: #14892c;\n}\n.sla-tag.sla-tag-unsuccessful {\n  color: #d04437;\n}\n.sla-rendering-error {\n  color: #d04437;\n}\n.sla-rendering-error.sla-issue-view-error {\n  padding-right: 10px;\n}\n.sd-adgs-feature-flag-m1 .sla-tag {\n  background-color: inherit;\n}\n.sd-adgs-feature-flag-m1 .sla-tag .sla-status-icon {\n  color: #00B8D9;\n  background-color: inherit;\n}\n.sd-adgs-feature-flag-m1 .sla-tag.sla-tag-breached {\n  font-weight: inherit;\n}\n.sd-adgs-feature-flag-m1 .sla-tag.sla-tag-breached .sla-status-icon {\n  color: #FF5630;\n}\n.sd-adgs-feature-flag-m1 .sla-tag.sla-tag-urgent {\n  font-weight: inherit;\n}\n.sd-adgs-feature-flag-m1 .sla-tag.sla-tag-urgent .sla-status-icon {\n  color: #FFAB00;\n}\n.sd-adgs-feature-flag-m1 .sla-tag.sla-tag-successful {\n  color: inherit;\n}\n.sd-adgs-feature-flag-m1 .sla-tag.sla-tag-successful .sla-status-icon {\n  color: #36B37E;\n}\n.sd-adgs-feature-flag-m1 .sla-tag.sla-tag-unsuccessful {\n  color: inherit;\n}\n.sd-adgs-feature-flag-m1 .sla-tag.sla-tag-unsuccessful .sla-status-icon {\n  color: #FF5630;\n}\n.sd-adgs-feature-flag-m1 .sla-tag.sla-tag-pause .sla-status-icon {\n  color: inherit;\n}\n.sd-adgs-feature-flag-m1 .sla-rendering-error {\n  color: #FF5630;\n}\n",""])},652:function(e,t,s){(e.exports=s(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* ul */\nspan[data-fieldtype='sd-request-participants'] {\n  width: 100%;\n  display: block;\n}\nspan[data-fieldtype='sd-request-participants'] .inline-edit-fields {\n  margin-top: 5px;\n}\n.sd-participants-field .representation {\n  pointer-events: auto;\n  right: 5px;\n}\n.sd-participant-list {\n  display: block;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n}\n.sd-participant-list > li {\n  margin: 0;\n  padding: 0;\n}\n.sd-participant-list .sd-participant {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  margin-bottom: 5px;\n}\n.sd-participant-list .sd-participant:last-of-type {\n  margin-bottom: 0;\n}\n.sd-limit-exceeded {\n  color: #707070;\n  padding: 3px 10px;\n}\n.sd-participant-lozenge {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  margin-top: 5px;\n  border-radius: 3px;\n  z-index: 1;\n  position: relative;\n  padding-right: 30px;\n}\n.sd-participant-lozenge .aui-avatar {\n  vertical-align: middle;\n  margin-right: 5px;\n}\n.sd-participant-lozenge.focused {\n  background-color: #e9e9e9;\n}\n.sd-participant-lozenge.focused .aui-icon {\n  display: inline-block;\n}\n.sd-participant-lozenge:hover {\n  background-color: #e9e9e9;\n}\n.sd-participant-lozenge:hover .aui-icon {\n  display: inline-block;\n}\n.sd-participant-lozenge .aui-icon {\n  display: none;\n  cursor: pointer;\n  position: absolute;\n  background-color: transparent;\n  right: 5px;\n  top: 5px;\n  color: #707070;\n}\n",""])},655:function(e,t,s){(e.exports=s(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n.sd-editable-field form.aui .sd-rt-picker-container.aui-ss.aui-ss-has-entity-icon > .aui-ss-field {\n  padding-left: 28px;\n}\n.sd-customer-request-type-field-edit .aui-ss.sd-rt-picker-container.aui-ss-has-entity-icon > .aui-ss-field {\n  padding-left: 28px;\n}\n.sd-rt-picker-container.aui-ss.aui-ss-has-entity-icon > .aui-ss-entity-icon {\n  margin-top: -10px;\n}\n.sd-rt-suggestion-container .aui-list-item-link.aui-iconised-link {\n  padding-left: 10px;\n}\n",""])},656:function(e,t,s){var i=s(655);"string"==typeof i&&(i=[[e.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(8)(i,n);i.locals&&(e.exports=i.locals)},657:function(e,t,s){var i,n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.CustomerFields&&(ServiceDesk.Templates.CustomerFields={}),void 0===ServiceDesk.Templates.CustomerFields.RequestTypeSelector&&(ServiceDesk.Templates.CustomerFields.RequestTypeSelector={}),ServiceDesk.Templates.CustomerFields.RequestTypeSelector.requestTypeItemIcon=function(e,t){return""+ServiceDesk.Templates.Components.RequestTypeIcons.icon({iconId:e.icon,class:"sd-recent-rt"})},goog.DEBUG&&(ServiceDesk.Templates.CustomerFields.RequestTypeSelector.requestTypeItemIcon.soyTemplateName="ServiceDesk.Templates.CustomerFields.RequestTypeSelector.requestTypeItemIcon"),ServiceDesk.Templates.CustomerFields.RequestTypeSelector.selectedRTIcon=function(e,t){return""+ServiceDesk.Templates.Components.RequestTypeIcons.smallIcon({iconId:e.icon,class:"aui-ss-entity-icon"})},goog.DEBUG&&(ServiceDesk.Templates.CustomerFields.RequestTypeSelector.selectedRTIcon.soyTemplateName="ServiceDesk.Templates.CustomerFields.RequestTypeSelector.selectedRTIcon"),i=[s(55)],void 0===(n=function(){return ServiceDesk.Templates.CustomerFields.RequestTypeSelector}.apply(t,i))||(e.exports=n)},661:function(e,t,s){var i,n;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Comment&&(ServiceDesk.Comment={}),void 0===ServiceDesk.Comment.IssuePage&&(ServiceDesk.Comment.IssuePage={}),void 0===ServiceDesk.Comment.IssuePage.View&&(ServiceDesk.Comment.IssuePage.View={}),ServiceDesk.Comment.IssuePage.View.sdActionDetailsBody=function(e,t){var s="",i=' - <span class="commentdate_'+soy.$$escapeHtml(e.commentId)+"_"+soy.$$escapeHtml(e.suffix)+' subText"><span class="date user-tz" title="'+soy.$$escapeHtml(e.prettyCreateDate)+'"><time class="livestamp" datetime="'+soy.$$escapeHtml(e.iso8601CreateDate)+'">'+soy.$$escapeHtml(e.prettyCreateDate)+"</time></span></span>";return s+='<div class="sd-comment-primary-details">'+soy.$$filterNoAutoescape(AJS.format("{0} added a comment {1}",e.authorKey,i))+'</div><div class="sd-comment-secondary-details">'+(e.hasVisibilityLevel?'<span class="sd-comment-action-details-item sd-comment-action-details-subtext subText" data-restricted-comment="true"><span class="aui-icon aui-icon-small aui-iconfont-locked"></span>'+soy.$$escapeHtml("Restricted to")+" "+soy.$$filterNoAutoescape(e.visibilityLevel)+"</span>":"")+(e.isCommentUpdated?'<span class="sd-comment-action-details-item sd-comment-action-details-subtext subText" title="'+soy.$$filterNoAutoescape(e.updaterName)+" - "+soy.$$filterNoAutoescape(e.formattedUpdateDate)+'" >'+soy.$$filterNoAutoescape("edited")+"</span>":"")+(e.isOutsider?ServiceDesk.Templates.Components.Outsider.Comments.shareRequestLozenge({canAddAuthorAsParticipant:e.outsiderContext.canAddAuthorAsParticipant,authorUsername:e.outsiderContext.authorUsername,commentId:e.outsiderContext.commentId,extraLozengeClasses:e.outsiderContext.extraLozengeClasses}):"")+(e.isReporter?'<span class="sd-comment-action-details-item aui-lozenge aui-lozenge-subtle aui-lozenge-complete">'+soy.$$filterNoAutoescape("Reporter")+"</span>":"")+(e.isInternal?'<span class="sd-comment-action-details-item aui-lozenge aui-lozenge-subtle sd-comment-internal">'+soy.$$filterNoAutoescape("Internal")+"</span>":"")+"</div>"},goog.DEBUG&&(ServiceDesk.Comment.IssuePage.View.sdActionDetailsBody.soyTemplateName="ServiceDesk.Comment.IssuePage.View.sdActionDetailsBody"),ServiceDesk.Comment.IssuePage.View.commentIssuePageView=function(e,t){var s="",i=e.isFocused?"focused":"",n=e.isCollapsed?"collapsed":"expanded";return s+='<div class="sd-activity-comment issue-data-block twixi-block '+soy.$$escapeHtml(n)+" "+soy.$$escapeHtml(i)+'"><div class="twixi-wrap verbose actionContainer"><div class="action-head"><a href="#" class="twixi"><span class="icon twixi-opened"><span>'+soy.$$filterNoAutoescape("Hide")+'</span></span></a><div class="sd-comment-action-details action-details"><div class="sd-action-details-verbose">'+ServiceDesk.Comment.IssuePage.View.sdActionDetailsBody(soy.$$augmentMap(e,{suffix:"verbose",authorKey:e.authorKeyVerbose}))+'</div></div><div class="sd-comment-action-links action-links"><a href="'+soy.$$escapeHtml(e.baseUrl)+"/browse/"+soy.$$escapeHtml(e.issueKey)+"?focusedCommentId="+soy.$$escapeHtml(e.commentId)+"&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\#comment-"+soy.$$escapeHtml(e.commentId)+'" title="'+soy.$$filterNoAutoescape("Right click and copy link for a permanent link to this comment.")+'" class="activitymodule-link"><span class="icon-default aui-icon aui-icon-small aui-iconfont-link">'+soy.$$filterNoAutoescape("Permalink")+"</span></a>"+(e.canEditComment?'<a id="edit_comment_'+soy.$$escapeHtml(e.commentId)+'" href="'+soy.$$escapeHtml(e.baseUrl)+"/secure/EditComment!default.jspa?id="+soy.$$escapeHtml(e.issueId)+"&commentId="+soy.$$escapeHtml(e.commentId)+'" title="'+soy.$$escapeHtml("Edit")+'" class="edit-comment sd-edit-comment" data-comment-id="'+soy.$$escapeHtml(e.commentId)+'"><span class="icon-default aui-icon aui-icon-small aui-iconfont-edit">'+soy.$$escapeHtml("Edit")+"</span></a>":"")+(e.canDeleteComment?'<a id="delete_comment_'+soy.$$escapeHtml(e.commentId)+'" href="'+soy.$$escapeHtml(e.baseUrl)+"/secure/DeleteComment!default.jspa?id="+soy.$$escapeHtml(e.issueId)+"&commentId="+soy.$$escapeHtml(e.commentId)+'" title="'+soy.$$filterNoAutoescape("Delete")+'"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">'+soy.$$filterNoAutoescape("Delete")+"</span></a>":"")+'</div></div><div class="action-body flooded">'+soy.$$filterNoAutoescape(e.contentVerbose)+'</div></div><div class="twixi-wrap concise actionContainer"><div class="action-head"><a href="#" class="twixi"><span class="icon twixi-closed"><span>'+soy.$$filterNoAutoescape("Show")+'</span></span></a><div class="sd-comment-action-details action-details flooded"><div class="sd-action-details-concise">'+ServiceDesk.Comment.IssuePage.View.sdActionDetailsBody(soy.$$augmentMap(e,{suffix:"concise",authorKey:e.authorKeyConcise}))+'<div class="sd-comment-action-body">'+soy.$$filterNoAutoescape(e.contentConcise)+"</div></div></div></div></div></div>"},goog.DEBUG&&(ServiceDesk.Comment.IssuePage.View.commentIssuePageView.soyTemplateName="ServiceDesk.Comment.IssuePage.View.commentIssuePageView"),i=[s(157)],void 0===(n=function(){return ServiceDesk.Comment.IssuePage.View}.apply(t,i))||(e.exports=n)},666:function(e,t,s){(e.exports=s(9)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n/*\n * @see https://atlassian.design/guidelines/brand/color-1\n */\n.feedback-panel-container .rating-container {\n  padding-top: 5px;\n}\n.feedback-panel-container .aui-icon {\n  margin-right: 5px;\n}\n.feedback-panel-container .rating-date {\n  margin-left: 10px;\n}\n.feedback-panel-container .feedback-star {\n  color: #f6c342;\n}\n.feedback-panel-container .feedback-unstar {\n  color: #ccc;\n}\n.sd-feedback-rating-column {\n  white-space: nowrap;\n}\n.sd-feedback-rating-column .aui-icon {\n  margin-right: 0;\n}\n.sd-feedback-rating-column .feedback-star {\n  color: #f6c342;\n}\n.sd-feedback-rating-column .feedback-unstar {\n  color: #ccc;\n}\n.sd-feedback-rating-column .aui-icon-small {\n  height: 20px;\n  width: 14px;\n}\n.sd-feedback-rating-column .aui-icon-small::before {\n  font-size: 11px;\n}\n.sd-adgs-feature-flag-m1.feedback-panel-container .feedback-star {\n  color: #FFAB00;\n}\n.sd-adgs-feature-flag-m1.feedback-panel-container .feedback-unstar {\n  color: #B3BAC5;\n}\n",""])}},[[315,127,2,62,10,3,61,63,64,66,65,4,68,67,5,11,70,20,13,71,75,14,79,76,15,22,85,83,106,29,105,98,93]]]);;
;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:entrypoint-atl.general', location = 'runtime~atl.general.08e04d15b6f3edb01fe9.js' */
!function(e){function r(r){for(var t,i,f=r[0],l=r[1],a=r[2],c=0,p=[];c<f.length;c++)i=f[c],o[i]&&p.push(o[i][0]),o[i]=0;for(t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t]);for(s&&s(r);p.length;)p.shift()();return u.push.apply(u,a||[]),n()}function n(){for(var e,r=0;r<u.length;r++){for(var n=u[r],t=!0,f=1;f<n.length;f++){var l=n[f];0!==o[l]&&(t=!1)}t&&(u.splice(r--,1),e=i(i.s=n[0]))}return e}var t={},o={127:0},u=[];function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,r,n){i.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,r){if(1&r&&(e=i(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var t in e)i.d(n,t,function(r){return e[r]}.bind(null,t));return n},i.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(r,"a",r),r},i.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},i.p="","undefined"!=typeof AJS&&(i.p=AJS.contextPath()+"/download/resources/com.atlassian.servicedesk.frontend-webpack-plugin:assets-DEV_PSEUDO_HASH/");var f=window.jsdsjsonp=window.jsdsjsonp||[],l=f.push.bind(f);f.push=r,f=f.slice();for(var a=0;a<f.length;a++)r(f[a]);var s=l;n()}([]);;
;
/* module-key = 'com.atlassian.teams:teams-wr-custom-field-scripts-common', location = '/teams/scripts-plugin/field-common.js' */
!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){var r,o;r=[],void 0!==(o=function(){var e,t,n,r,o,i,s,a,u,l;return n=window.JIRA,e=AJS.$,r=AJS.SingleSelect,t=AJS.ItemDescriptor,l=AJS.escapeHTML,i=function(e){return n.bind(n.Events.NEW_CONTENT_ADDED,function(t,r,o){if(o!==n.CONTENT_ADDED_REASON.panelRefreshed)return e({context:r})})},s=function(e){var t,n,r;return r=e.url,t=e.createQueryData,n=e.formatResponse,{url:r,type:"POST",query:!0,data:function(e){return t({query:e})},dataType:"json",contentType:"application/json",formatResponse:n,keyInputPeriod:200}},u=function(e){var n,r;return r=e.text,n=e.additionalStyles,new t({label:r,html:l(r),highlighted:!0,styleClass:"jpo-dropdown-item-unselectable "+n,unselectableItem:!0})},o=function(e){var t;if(t=e.items,0===t.length)return t.push(u({text:"No Matches",additionalStyles:"jpo-dropdown-item-italic"}))},a=function(t){var n,o;return n=t.ajaxOptions,o=t.getNoMatchingValueMessage,r.extend({init:function(t){return e.extend(t,{submitInputVal:!0,showDropdownButton:!0,ajaxOptions:n}),this._super(t)},setSelection:function(e){if(!e.properties.unselectableItem)return this._super.apply(this,arguments)},handleFreeInput:function(t){var n;if(this._super.apply(this,arguments),null==t&&(t=e.trim(this.$field.val())),null==this.model.getDescriptor(t)&&this.$container.hasClass("aui-ss-editing"))return n=null!=t&&t.length>0,n?(this.options.errorMessage=o(t),this.showErrorMessage(t),this.clear(),this.model.removeFreeInputVal()):this.hideErrorMessage()}})},{bindInitializationCallback:i,createDropdownAjaxOptions:s,createInfoMessageListItem:u,addNoMatchesItemIfEmpty:o,createDropdownClass:a}}.apply(t,r))&&(e.exports=o)}]);;
;
/* module-key = 'com.atlassian.teams:teams-wr-custom-field-team', location = '/teams/scripts-plugin/field-team.js' */
!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){var r,a;r=[],void 0!==(a=function(){var e,t,n,r,a,i,o,s,u,l;return n=window.JIRA,e=AJS.$,r=AJS.SingleSelect,t=AJS.ItemDescriptor,l=AJS.escapeHTML,i=function(e){return n.bind(n.Events.NEW_CONTENT_ADDED,function(t,r,a){if(a!==n.CONTENT_ADDED_REASON.panelRefreshed)return e({context:r})})},o=function(e){var t,n,r;return r=e.url,t=e.createQueryData,n=e.formatResponse,{url:r,type:"POST",query:!0,data:function(e){return t({query:e})},dataType:"json",contentType:"application/json",formatResponse:n,keyInputPeriod:200}},u=function(e){var n,r;return r=e.text,n=e.additionalStyles,new t({label:r,html:l(r),highlighted:!0,styleClass:"jpo-dropdown-item-unselectable "+n,unselectableItem:!0})},a=function(e){var t;if(t=e.items,0===t.length)return t.push(u({text:"No Matches",additionalStyles:"jpo-dropdown-item-italic"}))},s=function(t){var n,a;return n=t.ajaxOptions,a=t.getNoMatchingValueMessage,r.extend({init:function(t){return e.extend(t,{submitInputVal:!0,showDropdownButton:!0,ajaxOptions:n}),this._super(t)},setSelection:function(e){if(!e.properties.unselectableItem)return this._super.apply(this,arguments)},handleFreeInput:function(t){var n;if(this._super.apply(this,arguments),null==t&&(t=e.trim(this.$field.val())),null==this.model.getDescriptor(t)&&this.$container.hasClass("aui-ss-editing"))return n=null!=t&&t.length>0,n?(this.options.errorMessage=a(t),this.showErrorMessage(t),this.clear(),this.model.removeFreeInputVal()):this.hideErrorMessage()}})},{bindInitializationCallback:i,createDropdownAjaxOptions:o,createInfoMessageListItem:u,addNoMatchesItemIfEmpty:a,createDropdownClass:s}}.apply(t,r))&&(e.exports=a)},function(e,t,n){var r,a;r=[n(0)],void 0!==(a=function(e){var t,n,r,a,i,o,s,u,l,c,p,d,m,f,h;return t=AJS.$,a=AJS.ItemDescriptor,r=AJS.GroupDescriptor,l=AJS.contextPath,i=100,o=".jpo-team-selection-dropdown",s=l()+"/rest/teams/1.0/teams/find",n=l()+"/download/resources/com.atlassian.teams:jpo-wr-images-and-fonts/images/teams/default-avatar.svg",h=function(e){var t,n,a;return a=e.teams,t=new r({weight:0,items:[c()]}),n=new r({weight:1,label:"Shared teams",items:f({teams:a})}),[t,n]},m=function(e){var t,r,i;return r=e.id,i=e.title,t=e.avatarUrl,new a({value:""+r,fieldText:i,label:i,icon:t||n})},f=function(t){var n,r,a;return a=t.teams,n=function(){var e,t,n;for(n=[],e=0,t=a.length;e<t;e++)r=a[e],n.push(m(r));return n}(),e.addNoMatchesItemIfEmpty({items:n}),n},c=function(){return e.createInfoMessageListItem({text:"Plan-specific teams can only be selected through a Portfolio plan",additionalStyles:"jpo-dropdown-item-italic"})},p=function(e){var t;return t=e.query,JSON.stringify({query:t,excludedIds:[],maxResults:i})},u=e.createDropdownClass({ajaxOptions:e.createDropdownAjaxOptions({url:s,createQueryData:p,formatResponse:h}),getNoMatchingValueMessage:function(e){return AJS.format("No team matching query \'\'{0}\'\' was found.",e)}}),d=function(e){return t(o,e).each(function(){return new u({element:t(this)})})},e.bindInitializationCallback(function(e){var t;return t=e.context,d(t)})}.apply(t,r))&&(e.exports=a)}]);;
;
/* module-key = 'jira.webresources:jira-analytics', location = '/includes/jira/analytics/analytics-init.js' */
require(["jquery","jira/analytics","jira/util/data/meta"],function(a,t,c){"use strict";function i(a){var t=c.get("analytics-prefix");return t&&(a=t+a),a}function n(){a("[data-track-pageview]").each(function(c,n){t.send({name:i(a(n).data("track-pageview"))})})}a(document).on("click","[data-track-click]",function(){t.send({name:i(a(this).data("track-click"))})}),a(n)});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/jquery/plugins/avataror/avataror.js' */
jQuery.fn.avataror=function(i){var e=jQuery,t=e(document);this.each(function(){var r=e(this),a=r.find("img").attr("src");r.css({"-moz-border-radius":"10px","-webkit-border-radius":"10px"}),r.html("<p>Loading?</p>");var g={previewSize:48};g.preview=e("<div/>").addClass("avataror-preview").css({border:"solid 1px #000",float:"left",height:g.previewSize+"px",overflow:"hidden",width:g.previewSize+"px",position:"relative",top:"-9999em",left:"-9999em"}),g.preview.prependTo(i.previewElement),g.img=e('<img alt="Avatar Source"/>'),g.img.load(function(){g.image=e("<div/>").css({background:"url('"+a+"') no-repeat",clear:"left",position:"relative"}),g.marker=e("<div/>").css({cursor:"move",position:"relative"}),g.dash=e("<div/>"),g.shadow=e("<div/>"),g.dash.add(g.shadow).css({cursor:"move",opacity:.5,left:0,top:0,position:"absolute"}),g.image.append(g.shadow).append(g.dash).append(g.marker),r.append(g.image),g.marker.html("<div></div><div></div><div></div><div></div>"),e("div",g.marker).each(function(i){var t=e(this);t.css({background:"#000",border:"solid 1px #fff",width:"10px",height:"10px",position:"absolute","font-size":"1px"}),t.css(["left","right","right","left"][i],"-6px"),t.css(["top","top","bottom","bottom"][i],"-6px"),t.css("cursor",["nw-resize","ne-resize","se-resize","sw-resize"][i]),t.mousedown(function(e){e.preventDefault(),e.stopPropagation(),g.dragging={x:e.pageX,y:e.pageY,ax:g.x,ay:g.y,w:g.width,h:g.height,i:i+1},g.shadow.hide()})}),g.marker.add(g.image).mousedown(function(i){i.preventDefault(),g.dragging={x:i.pageX,y:i.pageY,ax:g.x,ay:g.y,w:g.width,h:g.height},g.shadow.hide()}),t.mouseup(function(i){g.handleMouseUp(i)}),t.mousemove(function(i){g.dragging&&(g.handleMouseMove(i.pageX,i.pageY),i.preventDefault())}),g.imgwidth=g.img[0].naturalWidth,g.imgheight=g.img[0].naturalHeight,g.x=parseInt(e("#avatar-offsetX").val()),g.y=parseInt(e("#avatar-offsetY").val()),g.width=parseInt(e("#avatar-width").val()),g.height=g.width,g.image.css({width:g.imgwidth+"px",height:g.imgheight+"px"}),g.setMarker(),r.css({width:g.imgwidth+"px"}),g.preview.css({position:"static"}),e("p",r).remove(),r.trigger("AvatarImageLoaded"),g.adjustPreview()}),g.img.attr("src",a),g.preview.append(g.img),g.setMarker=function(){g.marker.css("border","dashed 1px #fff"),g.dash.css("border","solid 1px #000"),g.shadow.css("border","solid 1px #000"),g.marker.add(this.dash).css("left",this.x-1+"px"),g.marker.add(g.dash).css("top",g.y-1+"px"),g.shadow.css("border-left-width",g.x+"px"),g.shadow.css("border-right-width",g.imgwidth-g.x-g.width+"px"),g.shadow.css("border-top-width",g.y+"px"),g.shadow.css("border-bottom-width",g.imgheight-g.y-g.height+"px"),g.shadow.css("width",g.width+"px"),g.shadow.css("height",g.height+"px"),g.marker.add(g.dash).css("width",g.width+"px"),g.marker.add(g.dash).css("height",g.height+"px")},g.adjustPreview=function(){g.img.attr("width",g.imgwidth*g.previewSize/g.width),g.img.attr("height",g.imgheight*g.previewSize/g.height),g.img.css("margin-left","-"+g.x*g.previewSize/g.width+"px"),g.img.css("margin-top","-"+g.y*g.previewSize/g.height+"px"),g.preview.select()},g.handleMouseMove=function(i,e){if(g.dragging.nextExec=g.dragging.nextExec||0,0!=g.dragging.nextExec)return void g.dragging.nextExec--;g.dragging.nextExec=3;var t=i-g.dragging.x,r=e-g.dragging.y;if(this.dragging.i){(0,g.resizeHandlers[this.dragging.i-1])(t,r)}else g.x=g.dragging.ax+t,g.y=g.dragging.ay+r,g.x+g.width>g.imgwidth&&(g.x=g.imgwidth-g.width),g.y+g.height>g.imgheight&&(g.y=g.imgheight-g.height),g.x<0&&(g.x=0),g.y<0&&(g.y=0);g.setMarker(),g.adjustPreview()},g.handleMouseUp=function(i){e("#avatar-offsetX").val(g.x),e("#avatar-offsetY").val(g.y),e("#avatar-width").val(g.width),g.dragging=null,g.shadow.show()},g.originX=function(){return g.dragging.ax},g.originY=function(){return g.dragging.ay},g.originBottomX=function(){return g.dragging.ax+g.dragging.w},g.originBottomY=function(){return g.dragging.ay+g.dragging.h},g.originNw=function(){return{x:g.originX(),y:g.originY()}},g.originNe=function(){return{x:g.originBottomX(),y:g.originY()}},g.originSe=function(){return{x:g.originBottomX(),y:g.originBottomY()}},g.originSw=function(){return{x:g.originX(),y:g.originBottomY()}},g.nwHandler=function(i,e){var t=g.originSe(),r={x:g.originX()+i,y:g.originY()+e},a=Math.abs(r.x-t.x),o=Math.abs(r.y-t.y),n=Math.min(a,o);n<20&&(n=20),t.x-n<0&&(n=t.x),t.y-n<0&&(n=t.y),g.x=t.x-n,g.y=t.y-n,g.width=g.height=n},g.neHandler=function(i,e){var t=g.originSw(),r={x:g.originBottomX()+i,y:g.originY()+e},a=Math.abs(r.x-t.x),o=Math.abs(r.y-t.y),n=Math.min(a,o);n<20&&(n=20),t.x+n>g.imgwidth&&(n=g.imgwidth-t.x),t.y-n<0&&(n=t.y),g.y=t.y-n,g.width=g.height=n},g.seHandler=function(i,e){var t=g.originNw(),r={x:g.originBottomX()+i,y:g.originBottomY()+e},a=Math.abs(r.x-t.x),o=Math.abs(r.y-t.y),n=Math.min(a,o);n<20&&(n=20),t.x+n>g.imgwidth&&(n=g.imgwidth-t.x),t.y+n>g.imgheight&&(n=g.imgheight-t.y),g.width=g.height=n},g.swHandler=function(i,e){var t=g.originNe(),r={x:g.originX()+i,y:g.originBottomY()+e},a=Math.abs(r.x-t.x),o=Math.abs(r.y-t.y),n=Math.min(a,o);n<20&&(n=20),t.x-n<0&&(n=t.x),t.y+n>g.imgheight&&(n=g.imgheight-t.y),g.x=t.x-n,g.width=g.height=n},g.resizeHandlers=[g.nwHandler,g.neHandler,g.seHandler,g.swHandler]})};;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/Avatar.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};define("jira/ajs/avatarpicker/avatar",["jira/lib/class"],function(t){return t.extend({init:function(t){this._id=t.id,this._isSystemAvatar=t.isSystemAvatar,this._isSelected=t.isSelected,this._urls=t.urls},setUnSelected:function(){this._isSelected=!1},setSelected:function(){this._isSelected=!0},isSelected:function(){return!!this._isSelected},isSystemAvatar:function(){return this._isSystemAvatar},getId:function(){return this._id},getUrl:function(t){return this._urls[t]},toJSON:function(){return{id:this._id,isSystemAvatar:this._isSystemAvatar,isSelected:this._isSelected,urls:this._urls}}})}),define("jira/ajs/avatarpicker/avatar-factory",["jira/ajs/avatarpicker/avatar","exports"],function(t,e){e.createCustomAvatar=function(e){return e.isSystemAvatar=!1,new t(e)},e.createSystemAvatar=function(e){return e.isSystemAvatar=!0,new t(e)}}),define("jira/ajs/avatarpicker/avatar/sizes",["exports","jquery"],function(t,e){t.getSizeObjectFromName=function(i){if("object"===(void 0===i?"undefined":_typeof(i)))return i;"string"==typeof i&&e.trim(i);return t.LARGE.param===i?t.LARGE:t.MEDIUM.param===i?t.MEDIUM:t.SMALL.param===i?t.SMALL:"xsmall"===i?t.SMALL:t.LARGE},t.LARGE={param:"large",height:48,width:48},t.MEDIUM={param:"medium",width:32,height:32},t.SMALL={param:"small",width:16,height:16}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarManager.js' */
define("jira/ajs/avatarpicker/avatar-manager",["jira/util/formatter","jira/lib/class","wrm/context-path","jquery"],function(t,a,r,e){"use strict";var s=r();return a.extend({init:function(t){this.store=t.store,this.ownerId=t.ownerId,this.username=t.username,this.anonymousAvatarId=t.anonymousAvatarId,this.avatarSrcBaseUrl=t.avatarSrcBaseUrl},selectAvatar:function(t,a){return this.store.selectAvatar(t,a)},getById:function(t){return this.store.getById(t)},destroy:function(t,a){this.store.destroy(t,a)},update:function(t,a){this.store.update(t,a)},add:function(t,a){this.store._add(t,a)},getAllSystemAvatars:function(){return this.store.getAllSystemAvatars()},getAllCustomAvatars:function(){return this.store.getAllCustomAvatars()},getSelectedAvatar:function(){return this.store.getSelectedAvatar()},getAllAvatars:function(){return this.store.getAllAvatars()},getAllAvatarsRenderData:function(t){var a,r=this,e=this.getAllAvatars(),s={system:[],custom:[]};for(a=0;a<e.system.length;a++)s.system.push(r.getAvatarRenderData(e.system[a],t));for(a=0;a<e.custom.length;a++)s.custom.push(r.getAvatarRenderData(e.custom[a],t));return s},getAvatarRenderData:function(t,a){var r=t.toJSON();return r.src=this.getAvatarSrc(t,a),r.width=a.width,r.height=a.height,r},refreshStore:function(t){this.store.refresh(t)},getAvatarSrc:function(a,r){return this.store.isTempAvatar(a)?s+"/secure/temporaryavatar?"+e.param({cropped:!0,magic:(new Date).getTime(),size:r.param}):a.getUrl(t.format("{0}x{1}",r.height,r.width))},createTemporaryAvatar:function(t,a){this.store.createTemporaryAvatar(t,a)},createAvatarFromTemporary:function(t,a){this.store.createAvatarFromTemporary(t,a)},getAnonymousAvatarId:function(){return this.anonymousAvatarId}})}),define("jira/ajs/avatarpicker/avatar-manager-factory",["jira/ajs/avatarpicker/avatar-store","jira/ajs/avatarpicker/avatar-manager","wrm/context-path","exports"],function(t,a,r,e){"use strict";var s=r();e.createUniversalAvatarManager=function(r){var e,n="",o="",i="",v="";if(r.projectId){var u=s+"/rest/api/latest/universal_avatar/type/"+r.avatarType+"/owner/"+r.projectId;e=u;var c=u+"/avatar";n=null,o=u+"/temp",i=c,v=c}else e=s+"/rest/api/latest/avatar/project/system",o=s+"/rest/api/latest/avatar/project/temporary",i=s+"/rest/api/latest/avatar/project/temporaryCrop";var l=new t({restQueryUrl:e,restUpdateUrl:n,restCreateTempUrl:o,restUpdateTempUrl:i,restSingleAvatarUrl:v,defaultAvatarId:r.defaultAvatarId});return new a({store:l,ownerId:r.projectId,avatarSrcBaseUrl:s+"/secure/projectavatar"})},e.createProjectAvatarManager=function(t){return t.avatarType="project",e.createUniversalAvatarManager(t)},e.createUserAvatarManager=function(r){var e=s+"/rest/api/latest/user",n=new t({restQueryUrl:e+"/avatars",restUpdateUrl:e+"/avatar",restCreateTempUrl:e+"/avatar/temporary",restUpdateTempUrl:e+"/avatar",restSingleAvatarUrl:e+"/avatar",restParams:{username:r.username},defaultAvatarId:r.defaultAvatarId});return new a({store:n,username:r.username,avatarSrcBaseUrl:s+"/secure/useravatar"})}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarStore.js' */
define("jira/ajs/avatarpicker/avatar-store",["jira/util/urls","jira/util/formatter","jira/ajs/avatarpicker/avatar-util","jira/ajs/avatarpicker/avatar-factory","jira/ajs/ajax/smart-ajax","jira/lib/class","jquery"],function(t,e,r,a,s,i,o){return i.extend({TEMP_ID:"TEMP",init:function(e){if(!e.restQueryUrl)throw new Error("JIRA.AvatarStore.init: You must specify [restQueryUrl], The rest url for querying avatars (see class description)");if(!e.restCreateTempUrl)throw new Error("JIRA.AvatarStore.init: You must specify [restCreateTempUrl], The rest url for creating a temporary avatar (see class description)");if(!e.restUpdateTempUrl)throw new Error("JIRA.AvatarStore.init: You must specify [restUpdateTempUrl], The rest url for updating a temporary avatar (see class description)");if(!e.defaultAvatarId)throw new Error("JIRA.AvatarStore.init: You must specify [defaultAvatarId] to the contructor so the store knows what to select if you delete the selected one");this.restQueryUrl=e.restQueryUrl,this.restUpdateUrl=e.restUpdateUrl,this.restCreateTempUrl=e.restCreateTempUrl,this.restUpdateTempUrl=e.restUpdateTempUrl,this.restSingleAvatarUrl=e.restSingleAvatarUrl,this.restParams=e.restParams||{},this.restParams.atl_token=t.atl_token(),this.defaultAvatarId=e.defaultAvatarId,this.avatars={system:[],custom:[]}},_buildCompleteUrl:function(t){var r=t;if(this.restParams){var a="";for(var s in this.restParams)a+=e.format("&{0}={1}",encodeURIComponent(s),encodeURIComponent(this.restParams[s]));r+="?"+a.substr(1)}return r},getById:function(t){var e;return o.each(this.avatars.system,function(r,a){if(this.getId()===t)return e=a,!1}),e||o.each(this.avatars.custom,function(r,a){if(this.getId()===t)return e=a,!1}),e},isTempAvatar:function(t){return t.getId()===this.TEMP_ID},_selectAvatar:function(t){var e=this.getSelectedAvatar();e&&e.setUnSelected(),t.setSelected()},selectAvatar:function(t,e){var r=this;if(!t)throw new Error("JIRA.AvatarStore.selectAvatar: Cannot select Avatar that does not exist");this.restUpdateUrl?s.makeRequest({type:"PUT",contentType:"application/json",dataType:"json",url:this._buildCompleteUrl(this.restUpdateUrl),data:JSON.stringify(t.toJSON()),success:function(){r._selectAvatar(t),e.success&&e.success.call(this,t)},error:e.error}):(r._selectAvatar(t),e.success&&e.success.call(this,t))},_destory:function(t){var e=o.inArray(t,this.avatars.custom);if(-1===e)throw new Error("JIRA.AvatarStore._destroy: Cannot remove avatar ["+t.getId()+"], it might be a system avatar (readonly) or does not exist.");this.avatars.custom.splice(e,1)},destroy:function(t,e){var r=this;if(e=e||{},!t)throw new Error("JIRA.AvatarStore.destroy: Cannot delete Avatar that does not exist");s.makeRequest({type:"DELETE",url:this.getRestUrlForAvatar(t),success:function(){r._destory(t),t.isSelected()?r.selectAvatar(r.getById(r.defaultAvatarId),e):e.success&&e.success.apply(this,arguments)},error:e.error})},getSelectedAvatar:function(){for(var t=0;t<this.avatars.custom.length;t++)if(this.avatars.custom[t].isSelected())return this.avatars.custom[t];for(t=0;t<this.avatars.system.length;t++)if(this.avatars.system[t].isSelected())return this.avatars.system[t]},_update:function(t){var e=this;if(!this.getById(t.getId()))throw new Error("JIRA.AvatarStore._update: Cannot update avatar ["+t.getId()+"], it might be a system avatar (readonly) or does not exist.");o.each(this.avatars.custom,function(r){this.getId()===t.getId()&&(e.avatars.custom[r]=t)})},update:function(t,e){var r=this;e=e||{},s.makeRequest({type:"PUT",url:this.getRestUrlForAvatar(t),error:e.error,success:function(){r._update(t),e.success&&e.success.apply(this,arguments)}})},_add:function(t){t.isSystemAvatar()?this.avatars.system.push(t):this.avatars.custom.push(t)},createAvatarFromTemporary:function(t,e){var r=this;e=e||{},this.restUpdateTempUrl&&s.makeRequest({type:"POST",url:this._buildCompleteUrl(this.restUpdateTempUrl),data:JSON.stringify(t),contentType:"application/json",dataType:"json",success:function(t){t||(t={id:r.TEMP_ID,isSelected:!0});var s=a.createCustomAvatar(t);r._add(s),e.success&&e.success.call(this,t)},error:e.error})},createTemporaryAvatar:function(t,e){e=o.extend(!0,{},e,{params:this.restParams}),r.uploadTemporaryAvatar(this.restCreateTempUrl,t,e)},_refresh:function(t){var e=this;e.avatars.system=[],e.avatars.custom=[],t.system&&o.each(t.system,function(t,r){e.avatars.system.push(a.createSystemAvatar(r))}),t.custom&&o.each(t.custom,function(t,r){e.avatars.custom.push(a.createCustomAvatar(r))})},refresh:function(t){var e=this,r=this.getById(e.TEMP_ID);t=t||{},s.makeRequest({url:this._buildCompleteUrl(this.restQueryUrl),error:t.error,success:function(a){e._refresh(a),r&&e._add(r),t.success&&t.success.apply(this,arguments)}})},getAllAvatars:function(){return this.avatars},getAllSystemAvatars:function(){return this.avatars.system},getAllCustomAvatars:function(){return this.avatars.custom},getRestUrlForAvatar:function(t){return this._buildCompleteUrl(this.restSingleAvatarUrl+"/"+t.getId())}})});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarUtil.js' */
define("jira/ajs/avatarpicker/avatar-util",["jira/util/urls","jira/util/logger","jira/attachment/inline-attach","jquery"],function(e,r,a,n){var t={uploadUsingIframeRemoting:function(o,s,i){i=i||{};var l=s.val(),c=new a.Form(new a.FileInput(s,!1)),u=c.addStaticProgress(l),d=c.cloneFileInput();c.fileSelector.clear();var g=new a.Timer(function(){!this.cancelled&&u.show()},this),f=new a.FormUpload({$input:d,url:o,params:n.extend({},i.params,{filename:l,atl_token:e.atl_token()}),scope:this,before:function(){!this.cancelled&&u.start()},success:function(e,r){e.errorMessages&&e.errorMessages.length?c.addErrorWithFileName(e.errorMessages[0],l,t.getErrorTarget(c)):i.success&&i.success(e,r)},error:function(e){r.log(e),this.cancelled||(e.indexOf("SecurityTokenMissing")>=0?c.addError(a.Text.tr("upload.xsrf.timeout",l),t.getErrorTarget(c)):c.addError(a.Text.tr("upload.error.unknown",l),t.getErrorTarget(c)))},after:function(){g.cancel(),u.remove(),this.cancelled||c.enable()}});u.onCancel(function(){f.abort()}),f.upload()},uploadUsingFileApi:function(r,o,s){var i,l,c=o[0].files[0],u=new a.Form(new a.FileInput(o,!1)),d=u.addProgress(c);s=s||{},i=new a.Timer(function(){d.show()}),l=new a.AjaxUpload({file:c,params:n.extend({},s.params,{filename:c.name,size:c.size,atl_token:e.atl_token()}),scope:this,url:r,before:function(){o.hide(),d.start()},progress:function(e){d.progress.$progress.parent().parent().show(),d.update(e)},success:function(e,r){e.errorMessages&&e.errorMessages.length?u.addErrorWithFileName(e.errorMessages[0],c.name,t.getErrorTarget(u)):201===r&&s.success(e,r)},error:function(e,r){r<0?u.addError(e,t.getErrorTarget(u)):u.addError(a.Text.tr("upload.error.unknown",c.name),t.getErrorTarget(u)),s.error&&s.error(e,r)},after:function(){i.cancel(),d.finish().remove(),o.val("").show()}}),l.upload(),d.onCancel(function(){l.abort()})},getErrorTarget:function(e){return{$element:e.$form.find(".error")}},uploadTemporaryAvatar:function(e,r,n){a.AjaxPresenter.isSupported(r)?this.uploadUsingFileApi(e,r,n):this.uploadUsingIframeRemoting(e,r,n)}};return t});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarPicker.js' */
define("jira/ajs/avatarpicker/avatar-picker",["jira/util/logger","jira/util/formatter","jira/util/strings","jira/ajs/avatarpicker/avatar-picker/image-editor","jira/ajs/ajax/smart-ajax","jira/dialog/dialog","jira/ajs/control","aui/message","jquery"],function(a,e,t,r,i,n,c,o,d){"use strict";return c.extend({init:function(a){this.avatarManager=a.avatarManager,this.avatarRenderer=a.avatarRenderer,this.imageEditor=a.imageEditor,this.size=a.size,this.selectCallback=a.select,this.cropperDialog=null,this.initialSelection=a.initialSelection},render:function(a){var e=this;this.avatarManager.refreshStore({success:function(){e.cropperDialog instanceof n&&(e.cropperDialog.hide(),delete e.cropperDialog),e.element=d('<div id="jira-avatar-picker" />'),e.element.html(JIRA.Templates.AvatarPicker.picker({avatars:e.avatarManager.getAllAvatarsRenderData(e.size)})),e._assignEvents("selectAvatar",e.element.find(".jira-avatar button")),e._assignEvents("deleteAvatar",e.element.find(".jira-delete-avatar")),e._assignEvents("uploader",e.element.find("#jira-avatar-uploader")),void 0!==e.initialSelection&&e.getAvatarElById(e.initialSelection).addClass("jira-selected-avatar"),a(e.element)},error:function(t,r,i,n){e.appendErrorContent(e.element,n),a(e.element)}})},appendErrorContent:function(a,e){try{var r=JSON.parse(e.data);r&&r.errorMessages?d.each(r.errorMessages,function(e,r){o.error(a,{body:t.escapeHtml(r),closeable:!1,shadowed:!1})}):a.append(i.buildDialogErrorContent(e,!0))}catch(t){a.append(i.buildDialogErrorContent(e,!0))}},uploadTempAvatar:function(e){var t=this;this.avatarManager.createTemporaryAvatar(e,{success:function(a){a.id?t.render(function(){t.selectAvatar(a.id)}):(e.val(""),t.cropperDialog=new n({id:"project-avatar-cropper",width:560,content:function(e){function r(){var a=i.find("input[type=submit]"),e=d("<span class='icon throbber loading'></span>");return a.attr("aria-disabled","true").attr("disabled",""),a.before(e),function(){e.remove(),a.removeAttr("aria-disabled").removeAttr("disabled")}}var i=t.imageEditor.render(a);t.imageEditor.edit({confirm:function(a){var e=r();t.avatarManager.createAvatarFromTemporary(a,{success:function(a){t.render(function(){t.selectAvatar(a.id)})},error:e})}}),i.find(".cancel").click(function(){t.cropperDialog.hide()}),e(i)}}),t.cropperDialog.bind("dialogContentReady",function(){d(t).trigger(r.LOADED)}),t.cropperDialog.bind("Dialog.hide",function(){d(t).trigger(r.DISMISSED)}),t.cropperDialog.show())},error:function(){a.log(arguments)}})},getAvatarElById:function(a){return this.element.find(".jira-avatar[data-id='"+a+"']")},selectAvatar:function(a){var e=this.avatarManager.getById(a),t=this;this.avatarManager.selectAvatar(this.avatarManager.getById(a),{error:function(){},success:function(){t.getAvatarElById(a).remove(),t.selectCallback&&t.selectCallback.call(t,e,t.avatarManager.getAvatarSrc(e,t.size))}})},deleteAvatar:function(a){var t=this;confirm("Are you sure you want to delete avatar?")&&this.avatarManager.destroy(this.avatarManager.getById(a),{error:function(){},success:function(){var e=t.avatarManager.getSelectedAvatar(),r=t.getAvatarElById(a);r.fadeOut(function(){r.remove()}),e.getId()!==a&&(t.getAvatarElById(e.getId()).addClass("jira-selected-avatar"),t.selectCallback.call(t,e,t.avatarManager.getAvatarSrc(e,t.size),!0))}})},_events:{uploader:{change:function(a,e){this.uploadTempAvatar(e)}},deleteAvatar:{click:function(a,e){this.deleteAvatar(e.attr("data-id"))}},selectAvatar:{click:function(a,e){"select-avatar-button"===e[0].id&&this.selectAvatar(e.attr("data-id"))}}}})}),define("jira/ajs/avatarpicker/avatar-picker/image-editor",["jira/ajs/control","jquery"],function(a,e){"use strict";var t=a.extend({render:function(a){return this.element=e('<div id="avatar-picker-image-editor"/>').html(JIRA.Templates.AvatarPicker.imageEditor(a)),this.element},edit:function(a){var t=this,r=this.element.find(".avataror");a=a||{},r.unbind(),r.bind("AvatarImageLoaded",function(){a.ready&&a.ready()}),r.find("img").load(function(){r.avataror({previewElement:t.element.find(".jira-avatar-cropper-header"),parent:t.element})}),this.element.find("#avataror").submit(function(t){t.preventDefault(),a.confirm&&a.confirm({cropperOffsetX:e("#avatar-offsetX").val(),cropperOffsetY:e("#avatar-offsetY").val(),cropperWidth:e("#avatar-width").val()})}).find(".cancel").click(function(e){e.preventDefault(),a.cancel&&a.cancel()})}});return t.LOADED="imageEditorLoaded",t.DISMISSED="imageEditorDismissed",t}),define("jira/ajs/avatarpicker/avatar-picker-factory",["jira/util/browser","jira/util/formatter","jira/ajs/avatarpicker/avatar-picker","jira/ajs/avatarpicker/avatar-picker/image-editor","jira/ajs/avatarpicker/avatar-manager-factory","jira/ajs/avatarpicker/avatar/sizes","jira/dialog/form-dialog","wrm/context-path","wrm/data","jquery","exports"],function(a,e,t,r,i,n,c,o,d,l,s){"use strict";s.createUniversalAvatarPicker=function(a){return new t({avatarManager:i.createUniversalAvatarManager({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId,avatarType:a.avatarType}),initialSelection:a.initialSelection,imageEditor:new r,size:a.hasOwnProperty("avatarSize")?a.avatarSize:n.LARGE,select:a.select})},s.createProjectAvatarPicker=function(a){return new t({avatarManager:i.createProjectAvatarManager({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId}),imageEditor:new r,size:n.LARGE,select:a.select})},s.createUserAvatarPicker=function(a){return new t({avatarManager:i.createUserAvatarManager({username:a.username,defaultAvatarId:a.defaultAvatarId}),imageEditor:new r,size:n.LARGE,select:a.select})},s.createUniversalAvatarPickerDialog=function(a){var t=a.initialSelection||a.defaultAvatarId,r=new c({trigger:a.trigger,id:"project-avatar-picker",width:600,stacked:!0,content:function(i){var n,c;c=l('<div id="projectavatar-content-wrapper"/>'),l("<h2 />").text(a.title||"Select a Project Avatar").appendTo(c),n=s.createUniversalAvatarPicker({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId,initialSelection:t,avatarType:a.avatarType,avatarSize:a.avatarSize,select:function(e,i,n){t=String(e.getId()),a.select&&a.select.apply(this,arguments),n||r.hide()}}),n.render(function(a){c.append(a),i(c)})}});r._focusFirstField=function(){}},s.createProjectAvatarPickerDialog=function(a){var t=new c({trigger:a.trigger,id:"project-avatar-picker",width:600,stacked:!0,content:function(r){var i,n;n=l('<div id="projectavatar-content-wrapper"/>'),l("<h2 />").text("Select a Project Avatar").appendTo(n),i=s.createProjectAvatarPicker({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId,select:function(e,r,i){a.select&&a.select.apply(this,arguments),i||t.hide()}}),i.render(function(a){n.append(a),r(n)})}});t._focusFirstField=function(){}};var v=d.claim("jira.webresources:avatar-picker.data");s.createUserAvatarPickerDialog=function(t){if(v&&v.isEnabled)return void l(t.trigger).click(function(e){var t=o()+v.url;t+=(t.indexOf("?")>-1?"&":"?")+"continue="+encodeURIComponent(window.location.href),e.preventDefault(),e.stopPropagation(),a.reloadViaWindowLocation(t)});var r=new c({trigger:t.trigger,id:"user-avatar-picker",width:600,stacked:!0,content:function(a){var i,n;n=l('<div id="useravatar-content-wrapper"/>'),l("<h2 />").text("Select a User Avatar").appendTo(n),i=s.createUserAvatarPicker({username:t.username,defaultAvatarId:t.defaultAvatarId,select:function(a,e,i){t.select&&t.select.apply(this,arguments),l(".avatar-image").attr("src",e),i||r.hide()}}),i.render(function(e){n.append(e),a(n)})}})}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/GravatarUtil.js' */
define("jira/ajs/avatarpicker/gravatar-util",["jquery","exports"],function(a,r){r.showGravatarHelp=function(r){void 0!==r&&void 0!==r.entry&&(a(".gravatar-signup-text").addClass("hidden"),a(".gravatar-login-text").removeClass("hidden"))},r.displayGravatarHelp=function(){var t=a("#gravatar_json_url");t.length&&a.ajax(t.val(),{dataType:"jsonp",success:r.showGravatarHelp})}});;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/initAvatarPicker.js' */
!function(){var a=require("jquery"),r=require("jira/ajs/avatarpicker/avatar/sizes"),e=require("jira/ajs/avatarpicker/avatar-factory"),t=require("jira/ajs/avatarpicker/avatar-manager-factory"),c=require("jira/ajs/avatarpicker/avatar-picker-factory"),A=require("jira/ajs/avatarpicker/gravatar-util");AJS.namespace("JIRA.Avatar",null,require("jira/ajs/avatarpicker/avatar")),AJS.namespace("JIRA.Avatar.createCustomAvatar",null,e.createCustomAvatar),AJS.namespace("JIRA.Avatar.createSystemAvatar",null,e.createSystemAvatar),AJS.namespace("JIRA.Avatar.getSizeObjectFromName",null,r.getSizeObjectFromName),AJS.namespace("JIRA.Avatar.LARGE",null,r.LARGE),AJS.namespace("JIRA.Avatar.MEDIUM",null,r.MEDIUM),AJS.namespace("JIRA.Avatar.SMALL",null,r.SMALL),AJS.namespace("JIRA.AvatarManager",null,require("jira/ajs/avatarpicker/avatar-manager")),AJS.namespace("JIRA.AvatarManager.createUniversalAvatarManager",null,t.createUniversalAvatarManager),AJS.namespace("JIRA.AvatarManager.createProjectAvatarManager",null,t.createProjectAvatarManager),AJS.namespace("JIRA.AvatarManager.createUserAvatarManager",null,t.createUserAvatarManager),AJS.namespace("JIRA.AvatarPicker",null,require("jira/ajs/avatarpicker/avatar-picker")),AJS.namespace("JIRA.AvatarPicker.ImageEditor",null,require("jira/ajs/avatarpicker/avatar-picker/image-editor")),AJS.namespace("JIRA.AvatarPicker.createUniversalAvatarPicker",null,c.createUniversalAvatarPicker),AJS.namespace("JIRA.AvatarPicker.createProjectAvatarPicker",null,c.createProjectAvatarPicker),AJS.namespace("JIRA.AvatarPicker.createUserAvatarPicker",null,c.createUserAvatarPicker),AJS.namespace("JIRA.createUniversalAvatarPickerDialog",null,c.createUniversalAvatarPickerDialog),AJS.namespace("JIRA.createProjectAvatarPickerDialog",null,c.createProjectAvatarPickerDialog),AJS.namespace("JIRA.createUserAvatarPickerDialog",null,c.createUserAvatarPickerDialog),AJS.namespace("JIRA.AvatarStore",null,require("jira/ajs/avatarpicker/avatar-store")),AJS.namespace("JIRA.AvatarUtil",null,require("jira/ajs/avatarpicker/avatar-util")),AJS.namespace("JIRA.GravatarUtil.showGravatarHelp",null,A.showGravatarHelp),a(function(){c.createUserAvatarPickerDialog({trigger:"#user_avatar_image",username:a("#avatar-owner-id").text(),defaultAvatarId:a("#default-avatar-id").text()}),a("#gravatar_help_params")&&A.displayGravatarHelp()})}();;
;
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarPicker.soy' */
// This file was automatically generated from AvatarPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.AvatarPicker.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.AvatarPicker == 'undefined') { JIRA.Templates.AvatarPicker = {}; }


JIRA.Templates.AvatarPicker.picker = function(opt_data, opt_ignored) {
  var output = '<form class="jira-avatar-upload-form aui top-label" action="#"><input name="id" value="10000" type="hidden" ><input name="pid" value="10000" type="hidden" ><div class="field-group"><label for="jira-avatar-uploader">' + soy.$$escapeHtml("Upload a new avatar") + '</label><input type="file" class="ignore-inline-attach" name="avatar" id="jira-avatar-uploader"/><div class="error"></div></div></form><div class="form-body"><ul class="jira-avatars">';
  var avatarList6 = opt_data.avatars.system;
  var avatarListLen6 = avatarList6.length;
  for (var avatarIndex6 = 0; avatarIndex6 < avatarListLen6; avatarIndex6++) {
    var avatarData6 = avatarList6[avatarIndex6];
    output += '<li class="jira-avatar jira-system-avatar ' + ((avatarData6.isSelected) ? 'jira-selected-avatar' : '') + '" title="Select this Avatar" data-id="' + soy.$$escapeHtml(avatarData6.id) + '"><button id="select-avatar-button" data-id="' + soy.$$escapeHtml(avatarData6.id) + '" class="jira-icon-button" title="' + soy.$$escapeHtml("Select this Avatar") + '"><img id="avatar-' + soy.$$escapeHtml(avatarData6.id) + '" src="' + soy.$$escapeHtml(avatarData6.src) + '" width="' + soy.$$escapeHtml(avatarData6.width) + '" height="' + soy.$$escapeHtml(avatarData6.height) + '" alt="' + soy.$$escapeHtml("Select this Avatar") + '"/></button></li>';
  }
  var avatarList29 = opt_data.avatars.custom;
  var avatarListLen29 = avatarList29.length;
  for (var avatarIndex29 = 0; avatarIndex29 < avatarListLen29; avatarIndex29++) {
    var avatarData29 = avatarList29[avatarIndex29];
    output += '<li class="jira-avatar jira-custom-avatar ' + ((avatarData29.isSelected) ? 'jira-selected-avatar' : '') + '" title="Select this avatar" data-id="' + soy.$$escapeHtml(avatarData29.id) + '"><button id="select-avatar-button" data-id="' + soy.$$escapeHtml(avatarData29.id) + '" class="jira-icon-button" title="' + soy.$$escapeHtml("Select this Avatar") + '"><img id="avatar-' + soy.$$escapeHtml(avatarData29.id) + '" src="' + soy.$$escapeHtml(avatarData29.src) + '" width="' + soy.$$escapeHtml(avatarData29.width) + '" height="' + soy.$$escapeHtml(avatarData29.height) + '" alt="' + soy.$$escapeHtml("Select this Avatar") + '" /></span><button class="jira-delete-avatar jira-icon-button" data-id="' + soy.$$escapeHtml(avatarData29.id) + '" title="' + soy.$$escapeHtml("Delete this Avatar") + '">' + soy.$$escapeHtml("Delete this Avatar") + '</button></li>';
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.AvatarPicker.picker.soyTemplateName = 'JIRA.Templates.AvatarPicker.picker';
}


JIRA.Templates.AvatarPicker.imageEditor = function(opt_data, opt_ignored) {
  return '<form id="avataror" class="jira-avatar-cropper-form aui" action="/jira/secure/project/AvatarPicker.jspa"><input type="hidden" name="cropperOffsetX" id="avatar-offsetX" value="' + soy.$$escapeHtml(opt_data.cropperOffsetX) + '"><input type="hidden" name="cropperOffsetY" id="avatar-offsetY" value="' + soy.$$escapeHtml(opt_data.cropperOffsetY) + '"><input type="hidden" name="cropperWidth" id="avatar-width"  value="' + soy.$$escapeHtml(opt_data.cropperWidth) + '"><div class="jira-avatar-cropper-header"><p>' + soy.$$escapeHtml("Please select which part of the uploaded image you wish to use as the avatar.") + '</p></div><div class="form-body"><div class="avataror"><img src="' + soy.$$escapeHtml(opt_data.url) + '" height="300" /></div></div><div class="form-footer buttons-container"><div class="buttons"><input type="submit" class="aui-button aui-button-primary" value="' + soy.$$escapeHtml("Confirm") + '"><a class="aui-button aui-button-link cancel" href="#">' + soy.$$escapeHtml("Cancel") + '</a></div></div></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.AvatarPicker.imageEditor.soyTemplateName = 'JIRA.Templates.AvatarPicker.imageEditor';
}
;
;
/* module-key = 'jira.webresources:avatar-picker-trigger', location = '/includes/jira/admin/initAvatarPickerTrigger.js' */
define("jira/admin/init/avatar-picker-trigger",["jira/ajs/layer/layer-constants","jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/ajs/layer/inline-layer","jira/ajs/contentretriever/content-retriever","jira/ajs/avatarpicker/avatar","jira/ajs/avatarpicker/avatar-picker-factory","jira/ajs/avatarpicker/avatar-picker","jira/ajs/avatarpicker/avatar-picker/image-editor","jquery"],function(t,a,e,r,i,n,c,s,v,o,d){"use strict";function f(t){var a=d(".jira-avatar-picker-trigger"),e=d(".jira-avatar-picker-trigger img, img.jira-avatar-picker-trigger",t),r=d(t).find("#avatar-picker-avatar-id"),i=d(t).find("#avatar-picker-iconurl"),n=d(t).find("#avatar-type");""!==n.text()&&s.createUniversalAvatarPickerDialog({trigger:a,title:d(t).find("#avatar-dialog-title").text(),projectId:d(t).find("#avatar-owner-id").text(),projectKey:d(t).find("#avatar-owner-key").text(),defaultAvatarId:d(t).find("#default-avatar-id").text(),initialSelection:r.val(),avatarSize:c.getSizeObjectFromName(d(t).find("#avatar-size").text()),avatarType:n.text(),select:function(t,a){e.attr("src",a),i.val(a),r.val(t.getId())}})}function l(a){var e=d(".jira-inline-avatar-picker-trigger",a);e.length&&new j({offsetTarget:e,projectId:d(a).find("#avatar-owner-id").text(),projectKey:d(a).find("#avatar-owner-key").text(),defaultAvatarId:d(a).find("#default-avatar-id").text(),alignment:t.LEFT,width:420,allowDownsize:!0})}var g=n.extend({init:function(t){this.avatarPicker=t},content:function(t){this.avatarPicker.render(function(a){t(d("<div />").html(a))})},cache:function(){return!1},isLocked:function(){},startingRequest:function(){},finishedRequest:function(){}}),j=i.extend({init:function(t){var a=this;this.avatarPicker=v.createProjectAvatarPicker({projectId:t.projectId,projectKey:t.projectKey,defaultAvatarId:t.defaultAvatarId,select:function(e,r,i){t.select&&t.select.apply(this,arguments),i||a.hide(),a.offsetTarget().attr("src",r),a.offsetTarget().trigger("AvatarSelected")}}),t.contentRetriever=new g(this.avatarPicker),d(this.avatarPicker.imageEditor).bind(o.LOADED,function(){a.setWidth(a.layer().attr("scrollWidth"))}),this._super(t);var e=this.offsetTarget(),r=d("<span class='jira-avatar-picker-trigger'></span>");r.insertBefore(e).append(e),this._assignEvents("offsetTarget",r)},_events:{offsetTarget:{click:function(t){this.show()}}}});a.bind(e.NEW_CONTENT_ADDED,function(t,a,e){e!==r.panelRefreshed&&(f(a),l(a))})});;
;
/* module-key = 'jira.webresources:avatar-picker-trigger', location = '/includes/jira/admin/init/init-avatar-picker.js' */
require("jira/admin/init/avatar-picker-trigger");;
;
/* module-key = 'jira.webresources:croneditor', location = '/includes/js/cron/croneditor.js' */
define("jira/util/cron",["exports"],function(n){"use strict";var i=window.timesOnce=window.timesOnce||{};n.hideCronEdit=function(n){document.getElementById(n).style.display="none"},n.showCronEdit=function(n){document.getElementById(n).style.display=""},n.toggleFrequencyControl=function(i,e){0==document.getElementById(i+"interval").value?n.switchToOnce(i,e):n.switchToMany(i,e)},n.switchToOnce=function(e,o){n.hideCronEdit(e+"runMany"),n.showCronEdit(e+"runOnce"),o&&(i[e]=!0)},n.switchToMany=function(e,o){n.hideCronEdit(e+"runOnce"),n.showCronEdit(e+"runMany"),o&&(i[e]=!1)},n.switchToDaysOfMonth=function(i){n.hideCronEdit(i+"daysOfWeek"),n.showCronEdit(i+"daysOfMonth"),n.showCronEdit(i+"freqDiv"),n.hideCronEdit(i+"innerFreqDiv"),n.hideCronEdit(i+"advanced"),n.switchToOnce(i,!1)},n.switchToDaysOfWeek=function(i){n.showCronEdit(i+"daysOfWeek"),n.hideCronEdit(i+"daysOfMonth"),n.showCronEdit(i+"freqDiv"),n.showCronEdit(i+"innerFreqDiv"),n.hideCronEdit(i+"advanced"),n.switchToOriginal(i)},n.switchToDaily=function(i){n.hideCronEdit(i+"daysOfWeek"),n.hideCronEdit(i+"daysOfMonth"),n.showCronEdit(i+"freqDiv"),n.showCronEdit(i+"innerFreqDiv"),n.hideCronEdit(i+"advanced"),n.switchToOriginal(i)},n.switchToAdvanced=function(i){n.hideCronEdit(i+"daysOfWeek"),n.hideCronEdit(i+"daysOfMonth"),n.hideCronEdit(i+"runOnce"),n.hideCronEdit(i+"runMany"),n.hideCronEdit(i+"freqDiv"),n.showCronEdit(i+"advanced")},n.switchToOriginal=function(e){i[e]?n.switchToOnce(e,!1):n.switchToMany(e,!1)}}),function(){"use strict";var n=require("jira/util/cron");AJS.namespace("hideCronEdit",null,n.hideCronEdit),AJS.namespace("showCronEdit",null,n.showCronEdit),AJS.namespace("switchToOnce",null,n.switchToOnce),AJS.namespace("switchToMany",null,n.switchToMany),AJS.namespace("switchToDaysOfMonth",null,n.switchToDaysOfMonth),AJS.namespace("switchToDaysOfWeek",null,n.switchToDaysOfWeek),AJS.namespace("switchToDaily",null,n.switchToDaily),AJS.namespace("switchToAdvanced",null,n.switchToAdvanced),AJS.namespace("switchToOriginal",null,n.switchToOriginal),AJS.namespace("toggleFrequencyControl",null,n.toggleFrequencyControl)}();;
;
/* module-key = 'jira.webresources:jira-page-atl-prefetch', location = '/includes/jira/page/prefetch.js' */
define("jira/page/atl/prefetch",["jira/util/data/meta","jira/data/local-storage","jira/ajs/dark-features","jquery","wrm/context-path"],function(e,t,r,n,i){"use strict";function a(e){n("<link />",{rel:"prefetch",href:e}).appendTo("head")}function s(e){var t=e.sections;if(t){var r=t.filter(function(e){return"issues_history_main"===e.id});if(r.length&&0!==r[0].items.length){return r[0].items[0].url}}}function c(e,t){for(var r;r=t.exec(e);){a(r[1].replace(/&amp;/g,"&"))}}function u(){try{t.setItem(g,d)}catch(e){}}function f(e){c(e,/<script.+?src="(.+?)".+?<\/script>/g),c(e,/<link.+?rel="stylesheet".+?href="(.+?)".+?>/g),u()}function o(){return!!r.isEnabled("jira.issue.prefetch")&&(1===n("#isNavigator").length?(u(),!1):e.get("issue-key")?(u(),!1):d!==t.getItem(g))}function l(e){var t=s(e);t&&h(t)}function h(e){n.get(e,f)}function p(){o()&&n.ajax({url:i()+"/rest/api/1.0/menus/find_link?inAdminMode=false",dataType:"json"}).done(l)}var g="jira.issue.prefetch.last.superbatch",d=function(){var e=new Date,t=e.getFullYear().toString()+e.getMonth().toString()+e.getDate().toString(),r=n("head > script").filter(function(e,t){return t.src.indexOf("/_super")>0});return(r.length>0?r[0].src:"empty")+t}();return{prefetchResourcesForUrl:h,prefetchViewIssueResources:p}});;
;
/* module-key = 'jira.webresources:init-jira-page-atl-prefetch', location = '/includes/jira/page/initPrefetch.js' */
require(["jira/page/atl/prefetch","jquery"],function(e,r){r(window).on("load",e.prefetchViewIssueResources.bind(e))});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:update-plugin-banner-resources', location = 'js/banner/update-hipchat-link-banner.js' */
require(["jquery","jira/flag","jira/util/users/logged-in-user","wrm/context-path"],function(d,b,e,a){var c=AJS.Cookie;AJS.toInit(function(){var i="HIPCHAT_ADMIN_BANNER_DISMISS_2";var g;if(!h()&&e.isAdmin()&&!k()){d.ajax({url:a()+"/rest/hipchat/integrations/1.0/configuration/status",dataType:"json",cache:false}).done(function(m){if(m.installationCheckResult.required||m.v1){g=f(m)}})}function f(o){var n=JIRA.Templates.HipChat.Banner.updateHipChatLink({removeV1link:!o.v2&&o.v1,reinstallationDiscoveryTitle:o.installationCheckResult.discoveryTitle,reinstallationDiscoveryText:o.installationCheckResult.discoveryText});var m=b.showWarningMsg(null,n);d(document).on("click","#remove-hipchat-v1-link",l);d(document).on("aui-flag-close",".aui-flag",j);return m}function h(){return window.location.toString().indexOf("/plugins/servlet/hipchat/configure")>0}function j(m){if(d(m.target).find(".hipchat-update-banner").length>0){c.save(i,true)}}function k(){return c.read(i)=="true"}function l(m){m.preventDefault();d.ajax({url:a()+"/rest/hipchat/integrations/1.0/configuration/v1",cache:false,type:"DELETE"}).error(function(n){if(g){g.hide()}b.showErrorMsg(null,AJS.format("We couldn\'\'t find your integration. If the problem persists, contact Atlassian Support.\u003cbr/\u003e Error Status [{0}]",n.status))}).done(function(n){if(g){g.hide()}b.showSuccessMsg(null,"Integration has been removed successfully")})}})});;
;
/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:update-plugin-banner-resources', location = 'soy/banner/update-hipchat-link-banner.soy' */
// This file was automatically generated from update-hipchat-link-banner.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.HipChat.Banner.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.HipChat == 'undefined') { JIRA.Templates.HipChat = {}; }
if (typeof JIRA.Templates.HipChat.Banner == 'undefined') { JIRA.Templates.HipChat.Banner = {}; }


JIRA.Templates.HipChat.Banner.updateHipChatLink = function(opt_data, opt_ignored) {
  return '<div class="hipchat-update-banner"><b>' + soy.$$escapeHtml(opt_data.reinstallationDiscoveryTitle) + '</b><p>' + soy.$$escapeHtml(opt_data.reinstallationDiscoveryText) + '</p><p/><a href="' + soy.$$escapeHtml("" + '/plugins/servlet/hipchat/configure') + '">' + soy.$$escapeHtml("Update Now!") + '</a>' + ((opt_data.removeV1link) ? '<a id="remove-hipchat-v1-link">' + soy.$$escapeHtml("Remove Integration") + '</a>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.HipChat.Banner.updateHipChatLink.soyTemplateName = 'JIRA.Templates.HipChat.Banner.updateHipChatLink';
}
;
;
/* module-key = 'com.atlassian.feedback.jira-feedback-plugin:button-resources-init', location = '/js/feedback-dialog-init.js' */
require(["jquery","jira/loading/loading","wrm/require"],function(n,i,e){"use strict";function o(){t=!0,AJS.dim(),i.showLoadingIndicator()}function r(n){t=!1,n&&AJS.dim.$dim.css("transition","none"),AJS.undim(),n&&AJS.dim.$dim&&AJS.dim.$dim.css("transition",""),i.hideLoadingIndicator()}var t=!1;n(document).on("click",".jira-feedback-plugin",function(n){n.preventDefault(),t||(o(),e(["wr!com.atlassian.feedback.jira-feedback-plugin:button-resources"]).done(function(){require("jira/feedback/feedback-dialog").show().then(function(){return r(!0)},function(n){console.error("Something went wrong in an attempt to show the issue collector dialog",n),r(!1)})}).fail(function(n){console.error("Something went wrong when loading feedback plugin resources",n),r(!1)}))})});;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init', location = 'static/components/newsletter/initNewsletterSignup.js' */
define("jira/newsletter/init-signup",["wrm/data","wrm/require","require"],function(e,i,n){return function(){var r=e.claim("com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup");r&&r.showNewsletterTip&&i("wr!com.atlassian.jira.jira-header-plugin:newsletter-signup-tip").then(function(){n("jira/newsletter/signuptip").render(r)})}});;
;
/* module-key = 'com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init-init', location = 'static/components/newsletter/initInitNewsletterSignup.js' */
require(["jquery","jira/newsletter/init-signup"],function(i,n){i(function(){n()})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/dialog.js' */
define("jira/admin-helper/dialog",["jquery","jira/dialog/dialog","jira/focus/set-focus"],function(c,a,b){return a.extend({_getDefaultOptions:function(){return c.extend(this._super(),{cached:false,widthClass:"large",stacked:true})},defineResources:function(){this._super();this.requireResource("com.atlassian.jira.plugins.jira-admin-helper-plugin:whereismycf-resources")},decorateContent:function(){var d=this;this.get$popupContent().find(".cancel").click(function(f){d.hide();f.preventDefault()})},_onShowContent:function(){this._super();if(a.current===this){var d=new b.FocusConfiguration();d.context=this.get$popup()[0];d.parentElementSelectors=[".form-body"];b.pushConfiguration(d);b.triggerFocus()}},hide:function(d){if(this._super(d)===false){return false}b.popConfiguration()}})});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/notification-helper-init.js' */
require(["jquery","jira/admin-helper/dialog","jira/util/data/meta"],function(c,a,b){if(b.get("is-admin")){c(document).delegate(".notificationhelper-trigger","click",function(e){e.preventDefault();new a({id:"notification-helper-dialog",content:function d(g){var f=this;require(["jira/admin-helper/notification-helper/content-loader"],function(h){h.loadContent(f,g)})}}).show()})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/permission-helper-init.js' */
require(["jquery","jira/admin-helper/dialog","jira/util/data/meta"],function(c,a,b){if(b.get("is-admin")){c(document).delegate(".permissionhelper-trigger","click",function(e){e.preventDefault();new a({id:"permission-helper-dialog",content:function d(g){var f=this;require(["jira/admin-helper/permission-helper/content-loader"],function(h){h.loadContent(f,g)})}}).show()})}});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/whereismycf-init.js' */
require(["jquery","jira/admin-helper/dialog","jira/util/data/meta","jira/dialog/dialog"],function(e,a,d,b){if(d.get("is-admin")){var c="Where is my field?";e(document).delegate(".whereismycf-trigger","click",function(h){h.preventDefault();new a({id:"whereismycf-dialog",content:function g(j){var i=this;require(["jira/admin-helper/whereismycf/content-loader"],function(k){k.loadContentForView(i,j)})}}).show()});e(document).bind("showLayer",function(h,j,i){if(j=="inlineDialog"&&i.popup.attr("id")=="inline-dialog-field_picker_popup"){if(i.popup.find(".whereismycf-qfpicker-link").length==0){var g=e("<a href='#' class='whereismycf-qfpicker-link'>"+c+"</a>").appendTo(i.popup.find(".qf-picker-header dl"));g.click(function(m){m.preventDefault();i.hide();f();var k=b.current;new a({id:"whereismycf-dialog",content:function l(o){var n=this;require(["jira/admin-helper/whereismycf/content-loader"],function(p){p.loadContentForEditAndCreate(n,k,o)})}}).show()})}}});function f(){AJS.InlineDialog.current=null}}});;
;
/* module-key = 'jira.webresources:field-templates', location = '/includes/jira/field/templates/singleUserPicker.soy' */
// This file was automatically generated from singleUserPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Fields.Pickers.User.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Fields == 'undefined') { JIRA.Templates.Fields = {}; }
if (typeof JIRA.Templates.Fields.Pickers == 'undefined') { JIRA.Templates.Fields.Pickers = {}; }
if (typeof JIRA.Templates.Fields.Pickers.User == 'undefined') { JIRA.Templates.Fields.Pickers.User = {}; }


JIRA.Templates.Fields.Pickers.User.single = function(opt_data, opt_ignored) {
  var output = '<select id="' + soy.$$escapeHtml(opt_data.field.id) + '" name="' + soy.$$escapeHtml(opt_data.field.name) + '" class="single-user-picker js-' + ((opt_data.type) ? soy.$$escapeHtml(opt_data.type) : 'default-user-picker') + '"' + ((opt_data.inputText) ? ' data-input-text="' + soy.$$escapeHtml(opt_data.inputText) + '"' : '') + ((opt_data.editValue) ? ' data-edit-value="' + soy.$$escapeHtml(opt_data.editValue) + '"' : '') + ((opt_data.showDropdownButton) ? ' data-show-dropdown-button="true"' : '') + ((opt_data.userType) ? ' data-user-type="' + soy.$$escapeHtml(opt_data.userType) + '"' : '') + ((opt_data.containerClass) ? ' data-container-class="' + soy.$$escapeHtml(opt_data.containerClass) + '"' : '') + '>';
  var optionList38 = opt_data.options;
  var optionListLen38 = optionList38.length;
  for (var optionIndex38 = 0; optionIndex38 < optionListLen38; optionIndex38++) {
    var optionData38 = optionList38[optionIndex38];
    if (optionData38.optionGroup) {
      output += '<optgroup id="' + soy.$$escapeHtml(opt_data.field.id) + '-group-' + soy.$$escapeHtml(optionData38.id) + '" label="' + soy.$$escapeHtml(optionData38.display) + '"' + ((optionData38.footer) ? ' data-footer-text="' + soy.$$escapeHtml(optionData38.footer) + '"' : '') + ((optionData38.weight != -1) ? ' data-weight="' + soy.$$escapeHtml(optionData38.weight) + '"' : '') + '>';
      var groupOptionList59 = optionData38.groupOptions;
      var groupOptionListLen59 = groupOptionList59.length;
      for (var groupOptionIndex59 = 0; groupOptionIndex59 < groupOptionListLen59; groupOptionIndex59++) {
        var groupOptionData59 = groupOptionList59[groupOptionIndex59];
        output += JIRA.Templates.Fields.Pickers.User.option(groupOptionData59);
      }
      output += '</optgroup>';
    } else {
      output += JIRA.Templates.Fields.Pickers.User.option(optionData38);
    }
  }
  output += '</select>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.single.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.single';
}


JIRA.Templates.Fields.Pickers.User.option = function(opt_data, opt_ignored) {
  return '<option ' + ((opt_data.loggedInUser) ? 'class="current-user" ' : '') + ((opt_data.selected) ? 'selected="selected" ' : '') + 'value="' + soy.$$escapeHtml(opt_data.optionName) + '" data-field-text="' + soy.$$escapeHtml(opt_data.displayName) + '" data-field-label="' + soy.$$escapeHtml(opt_data.displayName) + ((opt_data.emailAddress) ? ' - ' + soy.$$escapeHtml(opt_data.emailAddress) : '') + ((opt_data.optionName && opt_data.optionName != '-1') ? ' (' + soy.$$escapeHtml(opt_data.optionName) + ')' : '') + '" data-icon="' + soy.$$escapeHtml(opt_data.avatarURL) + '" >' + soy.$$escapeHtml(opt_data.displayName) + '</option>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.option.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.option';
}
;
;
/* module-key = 'jira.webresources:field-templates', location = '/includes/jira/field/templates/assigneeField.soy' */
// This file was automatically generated from assigneeField.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Fields.Pickers.User.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Fields == 'undefined') { JIRA.Templates.Fields = {}; }
if (typeof JIRA.Templates.Fields.Pickers == 'undefined') { JIRA.Templates.Fields.Pickers = {}; }
if (typeof JIRA.Templates.Fields.Pickers.User == 'undefined') { JIRA.Templates.Fields.Pickers.User = {}; }


JIRA.Templates.Fields.Pickers.User.assignee = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.Fields.Pickers.User.single(soy.$$augmentMap(opt_data, {options: opt_data.assigneeOptions.options, showDropdownButton: true, userType: 'assignee', type: 'assignee-picker', containerClass: 'long-field'})) + ((opt_data.isLoggedInUserAssignable) ? '<a href="#' + soy.$$escapeHtml(opt_data.field.id) + '" id="assign-to-me-trigger">' + soy.$$escapeHtml("Assign to me") + '</a>' : '') + '<fieldset class="hidden parameters"><input type="hidden" title="projectKeys" value="' + soy.$$escapeHtml(opt_data.projectKeys) + '"/>' + ((opt_data.issueKey) ? '<input type="hidden" title="assigneeEditIssueKey" value="' + soy.$$escapeHtml(opt_data.issueKey) + '"/>' : '') + ((opt_data.actionDescriptorId) ? '<input type="hidden" title="actionDescriptorId" value="' + soy.$$escapeHtml(opt_data.actionDescriptorId) + '"/>' : '') + '</fieldset>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.assignee.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.assignee';
}
;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/lib/jquery.dotdotdot-1.5.7.js' */
(function(i){if(i.fn.dotdotdot){return}i.fn.dotdotdot=function(v){if(this.length==0){if(!v||v.debug!==false){b(true,'No element found for "'+this.selector+'".')}return this}if(this.length>1){return this.each(function(){i(this).dotdotdot(v)})}var r=this;if(r.data("dotdotdot")){r.trigger("destroy.dot")}r.bind_events=function(){r.bind("update.dot",function(y,A){y.preventDefault();y.stopPropagation();t.maxHeight=(typeof t.height=="number")?t.height:o(r);t.maxHeight+=t.tolerance;if(typeof A!="undefined"){if(typeof A=="string"||A instanceof HTMLElement){A=i("<div />").append(A).contents()}if(A instanceof i){w=A}}s=r.wrapInner('<div class="dotdotdot" />').children();s.empty().append(w.clone(true)).css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var z=false,x=false;if(q.afterElement){z=q.afterElement.clone(true);q.afterElement.remove()}if(k(s,t)){if(t.wrap=="children"){x=d(s,t,z)}else{x=m(s,r,s,t,z)}}s.replaceWith(s.contents());s=null;if(i.isFunction(t.callback)){t.callback.call(r[0],x,w)}q.isTruncated=x;return x}).bind("isTruncated.dot",function(y,x){y.preventDefault();y.stopPropagation();if(typeof x=="function"){x.call(r[0],q.isTruncated)}return q.isTruncated}).bind("originalContent.dot",function(y,x){y.preventDefault();y.stopPropagation();if(typeof x=="function"){x.call(r[0],w)}return w}).bind("destroy.dot",function(x){x.preventDefault();x.stopPropagation();r.unwatch().unbind_events().empty().append(w).data("dotdotdot",false)});return r};r.unbind_events=function(){r.unbind(".dot");return r};r.watch=function(){r.unwatch();if(t.watch=="window"){var z=i(window),y=z.width(),x=z.height();z.bind("resize.dot"+q.dotId,function(){if(y!=z.width()||x!=z.height()||!t.windowResizeFix){y=z.width();x=z.height();if(p){clearInterval(p)}p=setTimeout(function(){r.trigger("update.dot")},10)}})}else{u=j(r);p=setInterval(function(){var A=j(r);if(u.width!=A.width||u.height!=A.height){r.trigger("update.dot");u=j(r)}},100)}return r};r.unwatch=function(){i(window).unbind("resize.dot"+q.dotId);if(p){clearInterval(p)}return r};var w=r.contents(),t=i.extend(true,{},i.fn.dotdotdot.defaults,v),q={},u={},p=null,s=null;q.afterElement=c(t.after,r);q.isTruncated=false;q.dotId=l++;r.data("dotdotdot",true).bind_events().trigger("update.dot");if(t.watch){r.watch()}return r};i.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",lastCharacter:{remove:[" ",",",";",".","!","?"],noEllipsis:[]},tolerance:0,callback:null,after:null,height:null,watch:false,windowResizeFix:true,debug:false};var l=1;function d(s,w,v){var u=s.children(),p=false;s.empty();for(var r=0,q=u.length;r<q;r++){var t=u.eq(r);s.append(t);if(v){s.append(v)}if(k(s,w)){t.remove();p=true;break}else{if(v){v.remove()}}}return p}function m(s,r,A,t,q){var w=s.contents(),x=false;s.empty();var z="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, select, optgroup, option, textarea, script, style";for(var y=0,u=w.length;y<u;y++){if(x){break}var v=w[y],p=i(v);if(typeof v=="undefined"){continue}s.append(p);if(q){s[(s.is(z))?"after":"append"](q)}if(v.nodeType==3){if(k(A,t)){x=e(p,r,A,t,q)}}else{x=m(p,r,A,t,q)}if(!x){if(q){q.remove()}}}return x}function e(q,r,p,w,s){var D=false,A=q[0];if(typeof A=="undefined"){return false}var E=(w.wrap=="letter")?"":" ",t=h(A).split(E),F=-1,v=-1,G=0,y=t.length-1;while(G<=y){var x=Math.floor((G+y)/2);if(x==v){break}v=x;a(A,t.slice(0,v+1).join(E)+w.ellipsis);if(!k(p,w)){F=v;G=v}else{y=v}}if(F!=-1&&!(t.length==1&&t[0].length==0)){var u=f(t.slice(0,F+1).join(E),w);D=true;a(A,u)}else{var z=q.parent();q.remove();var C=(s)?s.length:0;if(z.contents().size()>C){var B=z.contents().eq(-1-C);D=e(B,r,p,w,s)}else{var A=z.prev().contents().eq(-1)[0];if(typeof A!="undefined"){var u=f(h(A),w);a(A,u);z.remove();D=true}}}return D}function k(q,p){return q.innerHeight()>p.maxHeight}function f(p,q){while(i.inArray(p.slice(-1),q.lastCharacter.remove)>-1){p=p.slice(0,-1)}if(i.inArray(p.slice(-1),q.lastCharacter.noEllipsis)<0){p+=q.ellipsis}return p}function j(p){return{width:p.innerWidth(),height:p.innerHeight()}}function a(q,p){if(q.innerText){q.innerText=p}else{if(q.nodeValue){q.nodeValue=p}else{if(q.textContent){q.textContent=p}}}}function h(p){if(p.innerText){return p.innerText}else{if(p.nodeValue){return p.nodeValue}else{if(p.textContent){return p.textContent}else{return""}}}}function c(p,q){if(typeof p=="undefined"){return false}if(!p){return false}if(typeof p=="string"){p=i(p,q);return(p.length)?p:false}if(typeof p=="object"){return(typeof p.jquery=="undefined")?false:p}return false}function o(s){var t=s.innerHeight(),r=["paddingTop","paddingBottom"];for(var u=0,q=r.length;u<q;u++){var p=parseInt(s.css(r[u]),10);if(isNaN(p)){p=0}t-=p}return t}function b(q,p){if(!q){return false}if(typeof p=="string"){p="dotdotdot: "+p}else{p=["dotdotdot:",p]}if(typeof window.console!="undefined"){if(typeof window.console.log!="undefined"){window.console.log(p)}}return false}var n=i.fn.html;i.fn.html=function(p){if(typeof p!="undefined"){if(this.data("dotdotdot")){if(typeof p!="function"){return this.trigger("update",[p])}}return n.call(this,p)}return n.call(this)};var g=i.fn.text;i.fn.text=function(q){if(typeof q!="undefined"){if(this.data("dotdotdot")){var p=i("<div />");p.text(q);q=p.html();p.remove();return this.trigger("update",[q])}return g.call(this,q)}return g.call(this)}})(require("jquery"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/soy/ProjectTemplatesList.soy' */
// This file was automatically generated from ProjectTemplatesList.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }


JIRA.Templates.ProjectTemplates.renderProjectTemplates = function(opt_data, opt_ignored) {
  return '' + ((soy.$$getMapKeys(opt_data.projectTemplates).length == 0) ? JIRA.Templates.errorMsg({closeable: false, msg: "No project templates could be found."}) : JIRA.Templates.ProjectTemplates.renderTemplates(opt_data));
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderProjectTemplates.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderProjectTemplates';
}


JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.projectTemplatesByType.length == 0) {
    output += JIRA.Templates.errorMsg({closeable: false, msg: "No project templates could be found."});
  } else {
    var projectTypeTemplatesGroupList18 = opt_data.projectTemplatesByType;
    var projectTypeTemplatesGroupListLen18 = projectTypeTemplatesGroupList18.length;
    for (var projectTypeTemplatesGroupIndex18 = 0; projectTypeTemplatesGroupIndex18 < projectTypeTemplatesGroupListLen18; projectTypeTemplatesGroupIndex18++) {
      var projectTypeTemplatesGroupData18 = projectTypeTemplatesGroupList18[projectTypeTemplatesGroupIndex18];
      output += '<div class="template-group" id="project-template-group-' + soy.$$escapeHtml(projectTypeTemplatesGroupData18.projectTypeBean.projectTypeKey) + '"><div class="template-group-header"><h6><img class="project-type-icon" src="data:image/svg+xml;base64, ' + soy.$$escapeHtml(projectTypeTemplatesGroupData18.projectTypeBean.icon) + ' "/><span>' + soy.$$escapeHtml(projectTypeTemplatesGroupData18.projectTypeBean.projectTypeDisplayKey) + '</span></h6></div>' + JIRA.Templates.ProjectTemplates.renderTemplates({projectTemplates: projectTypeTemplatesGroupData18.projectTemplates}) + '</div>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType';
}


JIRA.Templates.ProjectTemplates.renderTemplates = function(opt_data, opt_ignored) {
  return '<div class="pt-templates-list">' + JIRA.Templates.ProjectTemplates.renderItems(opt_data) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderTemplates.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderTemplates';
}


JIRA.Templates.ProjectTemplates.renderItems = function(opt_data, opt_ignored) {
  var output = '<ol class="templates" tabindex="100">';
  var templateList37 = opt_data.projectTemplates;
  var templateListLen37 = templateList37.length;
  for (var templateIndex37 = 0; templateIndex37 < templateListLen37; templateIndex37++) {
    var templateData37 = templateList37[templateIndex37];
    output += '<li class="template"' + ((templateData37.itemModuleCompleteKey) ? 'data-item-module-complete-key="' + soy.$$escapeHtml(templateData37.itemModuleCompleteKey) + '"' : '') + ((templateData37.projectTemplateModuleCompleteKey) ? 'data-project-template-module-complete-key="' + soy.$$escapeHtml(templateData37.projectTemplateModuleCompleteKey) + '"' : '') + ((templateData37.createProject) ? 'data-create-project="' + soy.$$escapeHtml(templateData37.createProject) + '"' : '') + ((templateData37.demoProject) ? 'data-demo-project="' + soy.$$escapeHtml(templateData37.demoProject) + '"' : '') + ((templateData37.backgroundIconUrl) ? 'data-background-icon-url="' + soy.$$escapeHtml(templateData37.backgroundIconUrl) + '"' : '') + ((templateData37.name) ? 'data-name="' + soy.$$escapeHtml(templateData37.name) + '"' : '') + ((templateData37.description) ? 'data-description="' + soy.$$escapeHtml(templateData37.description) + '"' : '') + ((templateData37.longDescriptionContent) ? 'data-long-description-content="' + soy.$$escapeHtml(templateData37.longDescriptionContent) + '"' : '') + ((templateData37.infoSoyPath) ? 'data-info-soy-path="' + soy.$$escapeHtml(templateData37.infoSoyPath) + '"' : '') + '><img class="template-preview" src="' + soy.$$escapeHtml(templateData37.iconUrl) + '" /><div class="template-meta"><div class="template-name" title="' + soy.$$escapeHtml(templateData37.name) + '">' + soy.$$escapeHtml(templateData37.name) + '</div><div class="template-description" title="' + soy.$$escapeHtml(templateData37.description) + '">' + soy.$$escapeHtml(templateData37.description) + '</div></div></li>';
  }
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderItems.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderItems';
}


JIRA.Templates.ProjectTemplates.loadingTemplatesList = function(opt_data, opt_ignored) {
  return '<div class="wait-container"><img class="wait-icon" src="' + soy.$$escapeHtml("") + '/images/icons/wait.gif"><span class="wait-text">' + soy.$$escapeHtml("Loading project templates") + '&hellip;</span></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.loadingTemplatesList.soyTemplateName = 'JIRA.Templates.ProjectTemplates.loadingTemplatesList';
}


JIRA.Templates.ProjectTemplates.footerLinks = function(opt_data, opt_ignored) {
  return '<div class="footer-links"><a class="import-project-trigger button-panel-link" href="' + soy.$$escapeHtml("") + '/secure/admin/views/ExternalImport1.jspa">' + soy.$$escapeHtml("Import a project") + '</a>|<a class="create-with-shared-config button-panel-link" href="#"><span class="aui-icon aui-icon-create-shared">' + soy.$$escapeHtml("Create with shared configuration") + '</span> ' + soy.$$escapeHtml("Create with shared configuration") + '</a>' + ((opt_data.showDemoLink) ? '| <a class="add-demo-project-trigger button-panel-link" href="#">' + soy.$$escapeHtml("Create sample data") + '</a>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.footerLinks.soyTemplateName = 'JIRA.Templates.ProjectTemplates.footerLinks';
}


JIRA.Templates.ProjectTemplates.addWorkflowsLink = function(opt_data, opt_ignored) {
  return '<a class="add-workflow-link" href="' + soy.$$escapeHtml(opt_data.baseUrl) + '/plugins/servlet/wfshare-import?src=projecttemplates" tabindex="-1">' + soy.$$escapeHtml("View Marketplace Workflows") + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.addWorkflowsLink.soyTemplateName = 'JIRA.Templates.ProjectTemplates.addWorkflowsLink';
}
;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/soy/AddProject.soy' */
// This file was automatically generated from AddProject.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }


JIRA.Templates.ProjectTemplates.addProjectForm = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.errors.errorMessages) {
    var errorList5 = opt_data.errors.errorMessages;
    var errorListLen5 = errorList5.length;
    for (var errorIndex5 = 0; errorIndex5 < errorListLen5; errorIndex5++) {
      var errorData5 = errorList5[errorIndex5];
      output += JIRA.Templates.errorMsg({closeable: false, msg: errorData5});
    }
  }
  output += '<div class="add-project-wrapper"><div class="add-project-form-wrapper">' + aui.form.form({content: '' + aui.form.fieldset({legendContent: '', content: '' + JIRA.Templates.ProjectTemplates.longTextField({id: 'name', name: 'name', isRequired: false, maxLength: opt_data.maxNameLength, labelContent: "Name", descriptionText: AJS.format("Max. {0} characters.",opt_data.maxNameLength), value: opt_data.currentName ? opt_data.currentName : '', errorTexts: opt_data.errors.errors.projectName ? [opt_data.errors.errors.projectName] : []}) + JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon({id: 'key', name: 'key', isRequired: false, maxLength: opt_data.maxKeyLength, labelContent: "Key", descriptionText: AJS.format("Max. {0} characters.",opt_data.maxKeyLength), helpTitle: "What\x27s a project key?", value: opt_data.currentKey ? opt_data.currentKey : '', errorTexts: opt_data.errors.errors.projectKey ? [opt_data.errors.errors.projectKey] : []}) + ((opt_data.shouldShowLead) ? JIRA.Templates.ProjectTemplates.projectLeadField({field: opt_data.projectLeadPickerField, isRequired: false, errorTexts: opt_data.errors.errors.projectLead ? [opt_data.errors.errors.projectLead] : [], options: opt_data.leadOptions}) : '') + ((opt_data.addUserToLicense.displayCheckbox) ? JIRA.Templates.ProjectTemplates.addUserToLicense({fieldId: opt_data.addUserToLicense.fieldId, fieldName: opt_data.addUserToLicense.fieldName, applicationName: opt_data.addUserToLicense.applicationName, usedSeats: opt_data.addUserToLicense.usedSeats, totalSeats: opt_data.addUserToLicense.totalSeats, disableCheckbox: opt_data.addUserToLicense.disableCheckbox, licensingUrl: opt_data.addUserToLicense.licensingUrl}) : '') + '<input type="hidden" name="keyEdited" id="keyEdited" value="false"><input type="hidden" name="projectTemplateWebItemKey" value="' + soy.$$escapeHtml(opt_data.projectTemplateWebItemKey) + '"><input type="hidden" name="projectTemplateModuleKey" value="' + soy.$$escapeHtml(opt_data.projectTemplateModuleKey) + '"><input type="submit" class="pt-hidden-submit offscreen-left">'}), id: 'add-project-form'}) + '</div>' + ((opt_data.projectTemplateDescriptionContent) ? '<div class="add-project-description-wrapper"><div class="project-template-title"><h3>' + soy.$$escapeHtml(opt_data.projectTemplateTitle) + '</h3></div><div class="project-template-description">' + soy.$$filterNoAutoescape(opt_data.projectTemplateDescriptionContent) + '</div></div>' : '') + '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.addProjectForm.soyTemplateName = 'JIRA.Templates.ProjectTemplates.addProjectForm';
}


JIRA.Templates.ProjectTemplates.keyHelp = function(opt_data, opt_ignored) {
  return '<div class="project-key-help"><p><b>' + soy.$$escapeHtml("What\x27s a project key?") + '</b></p><ul><li>' + soy.$$escapeHtml("It prefixes each issue in the project") + '</li><li>' + soy.$$escapeHtml("It can be changed, but this is not a trivial task") + '</li></ul></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.keyHelp.soyTemplateName = 'JIRA.Templates.ProjectTemplates.keyHelp';
}


JIRA.Templates.ProjectTemplates.projectLeadField = function(opt_data, opt_ignored) {
  var param77 = '' + aui.form.label({forField: opt_data.field.name + '-field', isRequired: opt_data.isRequired, content: "Project Lead"}) + JIRA.Templates.Fields.Pickers.User.single({field: opt_data.field, options: opt_data.options, editValue: opt_data.value}) + aui.form.fieldDescription({message: "Enter the username of the Project Lead."});
  if (opt_data.errorTexts) {
    var errorList90 = opt_data.errorTexts;
    var errorListLen90 = errorList90.length;
    for (var errorIndex90 = 0; errorIndex90 < errorListLen90; errorIndex90++) {
      var errorData90 = errorList90[errorIndex90];
      param77 += aui.form.fieldError({message: errorData90});
    }
  }
  var output = '' + aui.form.fieldGroup({content: param77});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.projectLeadField.soyTemplateName = 'JIRA.Templates.ProjectTemplates.projectLeadField';
}


JIRA.Templates.ProjectTemplates.addUserToLicense = function(opt_data, opt_ignored) {
  var output = '';
  var labelMessage__soy96 = '' + soy.$$escapeHtml(AJS.format("Give me a {0} license so I can access this project.",opt_data.applicationName)) + ((opt_data.totalSeats > 0) ? '<br/>' + soy.$$escapeHtml(AJS.format("({0} of {1} licenses now used)",opt_data.usedSeats,opt_data.totalSeats)) : '');
  output += aui.form.fieldGroup({content: '' + aui.form.label({forField: opt_data.fieldName, content: 'License'}) + ((opt_data.disableCheckbox) ? aui.form.field({id: opt_data.fieldId, name: opt_data.fieldName, value: 'true', type: 'checkbox', isChecked: false, labelContent: labelMessage__soy96, isDisabled: true, descriptionContent: AJS.format("We can\x27\x27t give you access to {0} automatically. You can {1}manage application access{2} to work on {0} projects.",opt_data.applicationName,'<a href="' + "" + opt_data.licensingUrl + '">','</a>')}) : aui.form.field({id: opt_data.fieldId, name: opt_data.fieldName, value: 'true', type: 'checkbox', isChecked: false, labelContent: labelMessage__soy96, isDisabled: false}))});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.addUserToLicense.soyTemplateName = 'JIRA.Templates.ProjectTemplates.addUserToLicense';
}


JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon = function(opt_data, opt_ignored) {
  var param128 = '' + aui.form.label({forField: opt_data.name, isRequired: opt_data.isRequired, content: opt_data.labelContent}) + aui.form.input({id: opt_data.id, name: opt_data.name, type: 'text', maxLength: opt_data.maxLength, value: opt_data.value}) + '<a class="help-lnk" title="' + soy.$$escapeHtml(opt_data.helpTitle) + '" id="' + soy.$$escapeHtml(opt_data.id) + '-help-icon"><span class="aui-icon aui-icon-help">' + soy.$$escapeHtml(opt_data.helpTitle) + '</span></a>' + ((opt_data.descriptionText) ? aui.form.fieldDescription({message: opt_data.descriptionText}) : '');
  if (opt_data.errorTexts) {
    var errorList152 = opt_data.errorTexts;
    var errorListLen152 = errorList152.length;
    for (var errorIndex152 = 0; errorIndex152 < errorListLen152; errorIndex152++) {
      var errorData152 = errorList152[errorIndex152];
      param128 += aui.form.fieldError({message: errorData152});
    }
  }
  var output = '' + aui.form.fieldGroup({content: param128});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon.soyTemplateName = 'JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon';
}


JIRA.Templates.ProjectTemplates.longTextField = function(opt_data, opt_ignored) {
  var param158 = '' + aui.form.label({forField: opt_data.name, isRequired: opt_data.isRequired, content: opt_data.labelContent}) + aui.form.input({id: opt_data.id, name: opt_data.name, type: 'text', maxLength: opt_data.maxLength, value: opt_data.value, extraClasses: 'long-field'}) + ((opt_data.descriptionText) ? aui.form.fieldDescription({message: opt_data.descriptionText}) : '');
  if (opt_data.errorTexts) {
    var errorList176 = opt_data.errorTexts;
    var errorListLen176 = errorList176.length;
    for (var errorIndex176 = 0; errorIndex176 < errorListLen176; errorIndex176++) {
      var errorData176 = errorList176[errorIndex176];
      param158 += aui.form.fieldError({message: errorData176});
    }
  }
  var output = '' + aui.form.fieldGroup({content: param158});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.longTextField.soyTemplateName = 'JIRA.Templates.ProjectTemplates.longTextField';
}


JIRA.Templates.ProjectTemplates.spinner = function(opt_data, opt_ignored) {
  return '<span id=\'' + soy.$$escapeHtml(opt_data.id) + '\' class=\'icon throbber loading\'/>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.spinner.soyTemplateName = 'JIRA.Templates.ProjectTemplates.spinner';
}


JIRA.Templates.ProjectTemplates.formatAnchor = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.href) + '"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.body) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.formatAnchor.soyTemplateName = 'JIRA.Templates.ProjectTemplates.formatAnchor';
}
;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/soy/CreateSharedProject.soy' */
// This file was automatically generated from CreateSharedProject.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }


JIRA.Templates.ProjectTemplates.createSharedProjectForm = function(opt_data, opt_ignored) {
  return '<div class="create-shared-project-wrapper"><div class="create-shared-project-form-wrapper">' + aui.form.form({content: '' + aui.form.fieldset({content: '<p>' + soy.$$escapeHtml("Select the existing project that you\x27d like to share configurations with.") + '<a class="help-lnk" title="' + soy.$$escapeHtml("What will be shared?") + '" id="shared-help-icon"><span class="aui-icon aui-icon-help">' + soy.$$escapeHtml("What will be shared?") + '</span></a></p>' + aui.form.fieldGroup({extraClasses: 'project-picker-group', content: '' + aui.form.label({forField: 'project-picker', isRequired: false, content: "Choose a project"}) + aui.form.input({id: 'project-picker', name: 'project', type: 'text'}) + '<div id="project-picker-options" data-suggestions="' + soy.$$escapeHtml(opt_data.projectSuggestions) + '"></div>'}) + '<p class="create-shared-info">' + soy.$$escapeHtml("When a configuration is shared with several projects, it means that any changes made to the configuration will affect all the projects.") + '</p>'}), id: 'create-shared-project-form'}) + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.createSharedProjectForm.soyTemplateName = 'JIRA.Templates.ProjectTemplates.createSharedProjectForm';
}


JIRA.Templates.ProjectTemplates.loading = function(opt_data, opt_ignored) {
  return '<div><div class="dialog-spinner"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.loading.soyTemplateName = 'JIRA.Templates.ProjectTemplates.loading';
}


JIRA.Templates.ProjectTemplates.noProjects = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml("Looks like no other projects exist yet. Please create a brand new project first before trying to share an existing project\x27s configuration.") + '</p>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.noProjects.soyTemplateName = 'JIRA.Templates.ProjectTemplates.noProjects';
}


JIRA.Templates.ProjectTemplates.sharedHelp = function(opt_data, opt_ignored) {
  return '<div class="shared-help"><p><strong>' + soy.$$escapeHtml("What will be shared?") + '</strong></p><p>' + soy.$$escapeHtml("Configuration refers to the set of schemes used by a project") + '</p><ul><li>' + soy.$$escapeHtml("Permission Scheme") + '</li><li>' + soy.$$escapeHtml("Notification Scheme") + '</li><li>' + soy.$$escapeHtml("Issue Security Scheme") + '</li><li>' + soy.$$escapeHtml("Workflow Scheme") + '</li><li>' + soy.$$escapeHtml("Issue Type Scheme") + '</li><li>' + soy.$$escapeHtml("Issue Type Screen Scheme") + '</li><li>' + soy.$$escapeHtml("Field Configuration Scheme") + '</li></ul></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.sharedHelp.soyTemplateName = 'JIRA.Templates.ProjectTemplates.sharedHelp';
}
;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/Config.js' */
define("jira/project-templates/config",{model:{}});AJS.namespace("JPT.ConfigModel",null,require("jira/project-templates/config"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/ProjectKeyGenerator.js' */
define("jira/project-templates/project-key-generator",["jquery","underscore"],function(d,h){var c={};c.IGNORED_WORDS=["THE","A","AN","AS","AND","OF","OR"];c.CHARACTER_MAP={};c.CHARACTER_MAP[199]="C";c.CHARACTER_MAP[231]="c";c.CHARACTER_MAP[252]="u";c.CHARACTER_MAP[251]="u";c.CHARACTER_MAP[250]="u";c.CHARACTER_MAP[249]="u";c.CHARACTER_MAP[233]="e";c.CHARACTER_MAP[234]="e";c.CHARACTER_MAP[235]="e";c.CHARACTER_MAP[232]="e";c.CHARACTER_MAP[226]="a";c.CHARACTER_MAP[228]="a";c.CHARACTER_MAP[224]="a";c.CHARACTER_MAP[229]="a";c.CHARACTER_MAP[225]="a";c.CHARACTER_MAP[239]="i";c.CHARACTER_MAP[238]="i";c.CHARACTER_MAP[236]="i";c.CHARACTER_MAP[237]="i";c.CHARACTER_MAP[196]="A";c.CHARACTER_MAP[197]="A";c.CHARACTER_MAP[201]="E";c.CHARACTER_MAP[230]="ae";c.CHARACTER_MAP[198]="Ae";c.CHARACTER_MAP[244]="o";c.CHARACTER_MAP[246]="o";c.CHARACTER_MAP[242]="o";c.CHARACTER_MAP[243]="o";c.CHARACTER_MAP[220]="U";c.CHARACTER_MAP[255]="Y";c.CHARACTER_MAP[214]="O";c.CHARACTER_MAP[241]="n";c.CHARACTER_MAP[209]="N";c.desiredKeyLength=4;c.maxKeyLength=10;c.getTotalLength=function a(k){return k.join("").length};c.removeIgnoredWords=function f(k){return h.reject(k,function(l){return d.inArray(l,c.IGNORED_WORDS)!==-1})};c.createAcronym=function b(l){var k="";d.each(l,function(m,n){k+=n.charAt(0)});return k};c.getFirstSyllable=function i(m){var l=false;var k;for(k=0;k<m.length;k++){if(c.isVowelOrY(m[k])){l=true}else{if(l){return m.substring(0,k+1)}}}return m};c.isVowelOrY=function g(k){return k&&k.length===1&&k.search("[AEIOUY]")!==-1};c.init=function j(l,k){c.desiredKeyLength=l;c.maxKeyLength=k};c.generate=function e(l){l=d.trim(l);if(!l){return""}var k=[];for(var n=0,p=l.length;n<p;n++){var o=c.CHARACTER_MAP[l.charCodeAt(n)];k.push(o?o:l[n])}l=k.join("");var r=[];d.each(l.split(/\s+/),function(s,t){if(t){t=t.replace(/[^a-zA-Z]/g,"");t=t.toUpperCase();t.length&&r.push(t)}});if(c.desiredKeyLength&&c.getTotalLength(r)>c.desiredKeyLength){r=c.removeIgnoredWords(r)}var m;if(r.length==0){m=""}else{if(r.length==1){var q=r[0];if(c.desiredKeyLength&&q.length>c.desiredKeyLength){m=c.getFirstSyllable(q)}else{m=q}}else{m=c.createAcronym(r)}}if(c.maxKeyLength&&m.length>c.maxKeyLength){m=m.substr(0,c.maxKeyLength)}return m};return c});AJS.namespace("JPT.ProjectKeyGenerator",null,require("jira/project-templates/project-key-generator"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/DialogView.js' */
define("jira/project-templates/dialog-view-impl",["require","backbone","underscore"],function(e,f,d){var b=AJS.Dialog;var a=AJS.trigger;return f.View.extend({events:{"click   .add-project-trigger":"_onClickAddProject","click   .add-demo-project-trigger":"_onClickAddDemoProject","click   .add-workflow-link":"_onClickViewMarketplaceWorkflows","click   #add-project-dialog .add-demo-project-trigger":"_onCreateProjectAddDemoProjectClick","click   #add-project-dialog .import-project-trigger":"_onClickImportProject","click   #add-project-dialog .create-with-shared-config":"_onClickCreateShared","keydown #add-project-dialog .pt-templates-list":"_onKeydownInTemplatesList"},draw:function(){var g=new b({width:840,height:400,id:"add-project-dialog",closeOnOutsideClick:false,keypressListener:d.bind(this._onKeyPressed,this)});var h=g.popup.element;g.addPage("project-templates-page");g.addHeader("Create project","add-project-dialog-header");g.addPanel("ProjectTemplatesListPanel",JIRA.Templates.ProjectTemplates.loadingTemplatesList(),"pt-content");this._dialog=g;this._$dialogElement=h;g.show();return g},remove:function(){this._dialog&&this._dialog.remove()},showErrorMessage:function(g){this._dialog.getPanel(1,0).html(JIRA.Templates.errorMsg({closable:false,msg:g}))},get$PTContent:function c(){return this.getDialogController().$dialogElement.find(".pt-content")},_onKeyPressed:function(h){var g=27;if(this._dialog){if(h.keyCode===g){this.getDialogController().hideDialogFromNewUser("dismissed");this._dialog.remove();return false}}return true},_onKeydownInTemplatesList:function(h){var g=13;if(this._dialog){if(h.keyCode===g){this._$dialogElement.find(".pt-submit-button:visible").click();return false}}return true},_onClickAddProject:function(g){g.preventDefault();this.getDialogController().handleProjectTemplateTriggered()},_onCreateProjectAddDemoProjectClick:function(){a("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.create.project.clicked"})},_onClickViewMarketplaceWorkflows:function(){a("analyticsEvent",{name:"jira.project.templates.dialog.create.viewmarketplaceworkflows.clicked"})},_onClickAddDemoProject:function(h){h.preventDefault();var g=this.getDialogController().dialog;if(g&&g.popup&&g.popup.element){g.remove()}this.getDialogController().handleDemoProjectTemplateTriggered()},_onClickImportProject:function(g){this.getDialogController().hideDialogFromNewUser("importproject")},_onClickCreateShared:function(g){this.getDialogController().handleCreateShared()},getDialogController:function(){return e("jira/project-templates/dialog-controller")}})});define("jira/project-templates/dialog-view",["jira/project-templates/dialog-view-impl","jquery"],function(b,a){return new b({el:a(document)})});AJS.namespace("JPT.DialogView",null,require("jira/project-templates/dialog-view"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/DialogController.js' */
define("jira/project-templates/dialog-controller",["jira/project-templates/dialog-view","jira/project-templates/config","jira/ajs/ajax/smart-ajax","jira/util/data/meta","jira/lib/class","jquery","underscore","wrm/data"],function(n,e,a,g,b,k,o,m){var d=AJS.contextPath();var f=AJS.isDevMode;var i=AJS.log;function h(p,q){AJS.trigger("analyticsEvent",{name:p,data:q})}var l;var c=function(){if(!l){l=m.claim("com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData")||{}}return l};var j=b.extend({WELCOME_REST_URL:d+"/rest/welcome/1.0/show/welcome",initialize:function(){o.bindAll(this,"handleProjectTemplateTriggered","hideDialogFromNewUser");if(g.getBoolean("show-welcome-screen")){this.handleProjectTemplateTriggered()}},handleProjectTemplateTriggered:function(){this.demoProject=false;h("jira.project.templates.dialog.create.show");this.openWithFirstProjectTemplateOfTypePreSelected()},handleDemoProjectTemplateTriggered:function(){this.demoProject=true;var p=this.getTemplateController().loadDemoProjectTemplatesData();this.openWithFirstProjectTemplateOfTypePreSelected(null,p);this._addAnalyticsToCreateDemoShow(p)},_addAnalyticsToCreateDemoShow:function(p){p.done(function(r){var s={};var q=function(t){return t.projectTemplatesGroupedByType.map(function(u){return u.projectTemplates.map(function(v){return v.itemModuleCompleteKey}).join()}).join()};s.demoSets=q(r);s.instanceCreatedDate=c().instanceCreatedDate;h("jira.project.templates.dialog.create.demo.show",s)}.bind(this))},openWithFirstProjectTemplateOfTypePreSelected:function(p,q){q=q||this.getTemplateController().loadProjectTemplatesData();this.dialog=n.draw();q.fail(o.bind(function(r){this._handleUnknownErrorOfPTRetrieval()},this));q.done(o.bind(function(r){this.$dialogElement=this.dialog.popup.element;var s;if(!o.isUndefined(e.model.selectedTemplate)){s=e.model.selectedTemplate}e.model=r;e.model.selectedTemplate=s;this.getTemplateController().init(r,p)},this))},handleCreateShared:function(){h("jira.project.templates.dialog.create.shared.clicked");this.demoProject=false;this.openWithCreateShared()},openWithCreateShared:function(){var p=require("jira/project-templates/create-shared-controller");p.initCreateShared()},callbackWithResize:function(p){return o.bind(o.wrap(p,function(q){q.call(this);this.dialog.updateHeight()}),this)},addPage:function(r){var q=this.dialog.addPage(r.name).page[this.dialog.curpage];this.dialog.addHeader(r.title,"add-project-dialog-header");this.dialog.addPanel(r.panelName,"","pt-content");if(r.backButton){this._addBackButton(q)}this.dialog.addButton(r.submitButtonText,this.callbackWithResize(r.submitButtonCallback),r.submitButtonClass+" pt-submit-button");var p=this.$dialogElement.find("."+r.submitButtonClass);p.removeClass("button-panel-button").addClass("aui-button aui-button-primary");p.focus();this.dialog.addCancel("Cancel",o.bind(function(s){this.hideDialogFromNewUser("dismissed");this.dialog.remove()},this));return q},_backButtonOnClickCallback:function(p){return o.bind(function(){if(this.demoProject){h("jira.project.templates.dialog.demo.back")}else{h("jira.project.templates.dialog.create.back")}var q=n.get$PTContent();q.css("background-image","none");this.dialog.prevPage();p.remove();this.dialog.page.pop()},this)},_addBackButton:function(q){this.dialog.addButton("Back",this.callbackWithResize(this._backButtonOnClickCallback(q)),"add-project-back-button");var p=this.$dialogElement.find(".add-project-back-button");p.removeClass("button-panel-button").addClass("aui-button")},_handleUnknownErrorOfPTRetrieval:function(){n.showErrorMessage("An error occurred while trying to contact Jira")},hideDialogFromNewUser:function(p){if(p==="dismissed"){if(this.demoProject){h("jira.project.templates.dialog.demo.dismissed")}else{h("jira.project.templates.dialog.create.dismissed")}}else{if(p==="importproject"){h("jira.project.templates.dialog.import.clicked")}else{if(p==="templateselected"){if(this.demoProject){h("jira.project.templates.dialog.demo.templateselected")}else{h("jira.project.templates.dialog.create.templateselected")}}}}if(g.getBoolean("show-welcome-screen")){k.ajax({url:this.WELCOME_REST_URL+"/"+p,type:"DELETE",success:function(){if(f&&f()){i("don't show project template dialog anymore")}}})}},getTemplateController:function(){return require("jira/project-templates/select-project-template-controller")}});return new j()});AJS.namespace("JPT.DialogController",null,require("jira/project-templates/dialog-controller"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/AddProjectView.js' */
define("jira/project-templates/add-project-view-impl",["jira/project-templates/dialog-controller","jira/project-templates/config","jira/util/events","jira/util/events/types","require","backbone","jquery","underscore"],function(q,n,t,y,m,e,g,D){var f=AJS.InlineDialog;return e.View.extend({TIMEOUT_MS:100,postDrawCallbacks:[],events:{"submit #add-project-form":"onSubmitForm"},page:undefined,isSubmitting:false,initialize:function(F){D.bindAll(this,"bindHook")},addPostDrawCallback:function(F){this.postDrawCallbacks.push(F)},prepareDialog:function(F){this.page=q.addPage({name:"add-project",title:F,panelName:"add-project",backButton:true,submitButtonText:"Submit",submitButtonCallback:this.onSubmitForm.bind(this),submitButtonClass:"add-project-dialog-create-button"})},draw:function(U){function V(X){if(!X.errors){X.errors={}}return X}this.isSubmitting=false;q.dialog.gotoPage(this.page.id);var G=U.webItemData.projectTemplateModuleCompleteKey;var F=D.find(n.model.projectTemplatesGroupedByType,function(X){return D.any(X.projectTemplates,function(Y){return Y.itemModuleCompleteKey==G})});var L=(F&&F.applicationInfo&&F.applicationInfo.applicationName)||"";var K=(F&&F.applicationInfo&&F.applicationInfo.licenseUsedSeats)||0;var H=(F&&F.applicationInfo&&F.applicationInfo.licenseTotalSeats)||0;var T=(F&&F.applicationInfo&&F.applicationInfo.canUserBeAddedToApplication)||false;var J=(F&&F.applicationInfo&&F.applicationInfo.canUserUseApplication)||false;var P=(F&&F.applicationInfo&&F.applicationInfo.ondemand)||false;var I;if(!F||!F.applicationInfo){I=false}else{I=!J}var R={maxNameLength:n.model.maxNameLength,maxKeyLength:n.model.maxKeyLength,shouldShowLead:n.model.shouldShowProjectLead,projectTemplateWebItemKey:n.model.selectedTemplate||U.webItemData.itemModuleCompleteKey,projectTemplateModuleKey:G,projectTemplateTitle:U.webItemData.name,projectTemplateDescriptionContent:U.webItemData.longDescriptionContent,currentKey:U.currentKey||"",currentName:U.currentName||"",errors:V(U.errors),projectLeadPickerField:{id:"lead",name:"lead"},addUserToLicense:{displayCheckbox:I,disableCheckbox:!T,applicationName:L,usedSeats:K,totalSeats:H,fieldId:"licenseUser",fieldName:"licenseUser",licensingUrl:P?"/admin/accessconfig":"/plugins/servlet/applications/versions-licenses"},leadOptions:[{selected:true,displayName:U.currentUserDisplayName,optionName:U.currentUserName,avatarURL:U.currentUserAvatarUrl}]};var N=JIRA.Templates.ProjectTemplates.addProjectForm(R);q.dialog.getPanel(this.page.id,0).html(N);if(U.webItemData&&U.webItemData.backgroundIconUrl){var Q=q.$dialogElement.find(".pt-content");Q.css("background-image",'url("'+U.webItemData.backgroundIconUrl+'")')}var O=g("#add-project-form");t.trigger(y.NEW_CONTENT_ADDED,[O]);this.nameElement=q.$dialogElement.find("#name");this.keyElement=q.$dialogElement.find("#key");this.keyEditedElement=q.$dialogElement.find("#keyEdited");this.leadDisplayElement=q.$dialogElement.find("#lead-field");this.leadValueElement=q.$dialogElement.find("#lead");var W=this.keyElement.parent().find(".aui-icon-help");if(W.length){new f(W,"project-key-help-popup",function(Z,Y,X){Z.html(JIRA.Templates.ProjectTemplates.keyHelp());X()},{width:330,offsetX:-30})}this.keyElement.attr("style","text-transform: uppercase");var S=m("jira/project-templates/add-project-controller");this.nameElement.focus(D.bind(function(X){this.bindHook(X,S.nameTimeout)},this));var M=this;this.nameElement.change(function(X){S.validateName();M.unbindHook(X)});this.nameElement.focus();this.keyElement.focus(D.bind(function(Y){var X=g(Y.target);X.data("lastValue",X.val());this.bindHook(Y,S.keyTimeout)},this));this.keyElement.blur(D.bind(function(X){this.unbindHook(X)},this));this.keyElement.change(function(){S.validateKey();S.autofillKeyIfNeeded()});if(!D.isEmpty(this.postDrawCallbacks)){D.each(this.postDrawCallbacks,function(X){X()})}q.dialog.updateHeight()},onSubmitForm:function(G){var F=m("jira/project-templates/add-project-controller");F.submit();return false},get$SubmitButton:function(){return q.$dialogElement.find(".add-project-dialog-create-button")},get$BackButton:function(){return q.$dialogElement.find(".add-project-back-button")},bindHook:function p(I,G){var F=g(I.target),H;H=D.bind(function(){this.unbindHook(I);G.apply();if(F.is(":visible")){F.data("checkHook",setTimeout(H,this.TIMEOUT_MS))}},this);if(!F.data("checkHook")){F.data("checkHook",setTimeout(H,0))}},unbindHook:function(G){var F=g(G.target);clearTimeout(F.data("checkHook"));F.removeData("checkHook")},showInlineError:function(G,H){if(this.isSubmitting){return}var F=G.parent().find(".error");if(!F.length){F=g("<div class='error'></div>");G.parent().append(F)}F.text(H);F.show()},showInlineErrorForName:function E(F){this.showInlineError(this.nameElement,F)},showInlineErrorForKey:function A(F){this.showInlineError(this.keyElement,F)},hideInlineError:function z(F){F.parent().find(".error").hide()},hideInlineErrorForName:function c(){this.hideInlineError(this.nameElement)},hideInlineErrorForKey:function u(){this.hideInlineError(this.keyElement)},setName:function i(F){this.nameElement.val(F)},getName:function s(){return this.nameElement.val()},setKey:function b(F){this.keyElement.val(F)},getKey:function o(){return this.keyElement.val().toUpperCase()},getLeadDisplayName:function v(){return this.leadDisplayElement.val()},getLeadUserName:function w(){return this.leadValueElement.val()},getAvatarUrlOfSelectedLead:function r(){var F=q.$dialogElement.find("#lead-single-select .aui-ss-entity-icon").css("background-image");if(!D.isUndefined(F)){var G=F.match(/^url\((.+)\)$/);return(G&&G[1])?G[1]:""}else{return""}},setKeyEdited:function l(F){this.keyEditedElement.val(F)},getKeyEdited:function B(){return this.keyEditedElement.val()},setKeyEdited:function l(){var F=this.getKey();if(this.keyElement.data("lastValue")!==F){this.keyEditedElement.val((F)?"true":"false")}this.keyElement.data("lastValue",F)},hasNameErrors:function d(){return this.nameElement.parent().find(".error").size()>0},getAddProjectForm:function h(){return g("#add-project-form")},get$FormFields:function k(){return q.$dialogElement.find(":input")},enterLoadingState:function j(){$submitButton=this.get$SubmitButton();if(!$submitButton.attr("disabled")){$backButton=this.get$BackButton();$submitButton.attr("disabled","disabled");$backButton.attr("disabled","disabled");$backButton.before(JIRA.Templates.ProjectTemplates.spinner({id:"addproject-loading"}));this.get$FormFields().attr("disabled","disabled");this.isSubmitting=true;return true}else{return false}},hideLoadingState:function x(){q.$dialogElement.find("#addproject-loading").remove();this.get$SubmitButton().removeAttr("disabled");this.get$BackButton().removeAttr("disabled");this.get$FormFields().removeAttr("disabled")},avoidDirtyFormWarning:function a(){if(g.fn.removeDirtyWarning){this.getAddProjectForm().removeDirtyWarning()}},hasInlineErrors:function C(){return q.$dialogElement.find(".field-group .error:visible").length!=0}})});define("jira/project-templates/add-project-view",["jira/project-templates/add-project-view-impl","jira/project-templates/dialog-view","jquery"],function(b,a,c){return new b({el:c(document),dialogView:a})});AJS.namespace("JPT.AddProjectView",null,require("jira/project-templates/add-project-view"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/AddProjectController.js' */
define("jira/project-templates/add-project-controller-impl",["jira/project-templates/add-project-view","jira/project-templates/project-key-generator","jira/project-templates/dialog-controller","jira/project-templates/config","jira/lib/class","jquery","underscore"],function(m,i,k,e,b,l,o){var d=AJS.contextPath();var c=AJS.trigger;return b.extend({postProjectCreationCallbacks:[],projectKeyValidationCallbacks:[],projectNamesUpperCased:[],init:function(p){this._window=p.window||window;o.bindAll(this,"projectCreatedHandler","projectValidationFailedHandler","nameTimeout","keyTimeout","submit")},initCreateShared:function(p){this.existingProjectData=p;this._initAddProject("Create with shared configuration")},initProjectTemplate:function(p){this.existingProjectData=undefined;this.webItemData=p;this._initAddProject(p.name)},_initAddProject:function(p){this.desiredKeyLength=4;this.lastKeyValidated="";this._getExistingProjects();i.init(this.desiredKeyLength,e.model.maxKeyLength);m.prepareDialog(p);m.draw({webItemData:this.webItemData||{},maxKeyLength:e.model.maxKeyLength,maxNameLength:e.model.maxNameLength,currentUserName:e.model.currentUserName,currentUserDisplayName:e.model.currentUserDisplayName,currentUserAvatarUrl:e.model.currentUserAvatarUrl,errors:{}})},_resetProjectLeadValues:function(){e.model.currentUserDisplayName="";e.model.currentUserName="";e.model.currentUserAvatarUrl=""},_hasFullyConfiguredProjectLead:function(){return m.getLeadDisplayName()&&m.getAvatarUrlOfSelectedLead()!=""},submit:function(p){var q;if(this.existingProjectData){q={key:m.getKey(),name:m.getName(),lead:m.getLeadUserName()&&m.getLeadUserName()[0]}}else{q=jQuery.param(m.getAddProjectForm().serializeArray().map(function(r){if(r.name==="key"){r.value=r.value.toUpperCase()}return r}))}if(m.hasInlineErrors()){return}if(m.enterLoadingState()){if(this._hasFullyConfiguredProjectLead()){e.model.currentUserDisplayName=m.getLeadDisplayName();e.model.currentUserName=e.model.currentUserDisplayName?m.getLeadUserName():"";e.model.currentUserAvatarUrl=m.getAvatarUrlOfSelectedLead()}else{this._resetProjectLeadValues()}if(this.existingProjectData){l.ajax({url:d+"/rest/project-templates/1.0/createshared/"+this.existingProjectData.existingProjectId,type:"POST",contentType:"application/json",data:JSON.stringify(q)}).then(this.projectCreatedHandler,this.projectValidationFailedHandler)}else{l.ajax({url:d+(this.webItemData.demoProject?"/rest/jira-importers-plugin/1.0/demo/create":"/rest/project-templates/1.0/templates"),type:"POST",data:q,headers:{"X-Atlassian-Token":"no-check"}}).then(this.projectCreatedHandler,this.projectValidationFailedHandler)}}},registerPostProjectCreationCallback:function(p){this.postProjectCreationCallbacks.push(p)},registerProjectKeyValidationCallback:function(p){this.projectKeyValidationCallbacks.push(p)},localStoragePrefix:"jira.projecttemplates.",projectCreatedHandler:function(q){if(this.existingProjectData){c("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.create.success"})}else{if(this.webItemData.demoProject){c("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.success"})}else{c("analyticsEvent",{name:"jira.project.templates.dialog.create.project.success"})}}m.avoidDirtyFormWarning();var p=this.localStoragePrefix;var r=["confluenceProject","fisheyeProject","crucibleProject","bambooProject"];o.map(r,function(s){if(q.remoteProjectLinks&&q.remoteProjectLinks[s]){localStorage.setItem(p+s,q.remoteProjectLinks[s])}});if(!o.isEmpty(this.postProjectCreationCallbacks)){k.dialog.addPage("post-project-created-page");o.each(this.postProjectCreationCallbacks,function(s){s(k.dialog,q.returnUrl,q.projectId,q.projectKey,q.projectName)})}else{this._window.location=d+q.returnUrl}},projectValidationFailedHandler:function(q,s){if(this.existingProjectData){c("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.create.failure"})}else{if(this.webItemData.demoProject){c("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.failure"})}else{c("analyticsEvent",{name:"jira.project.templates.dialog.create.project.failure"})}}var r={};if(this.isBadRequest(q)){r=JSON.parse(q.responseText)}else{if(this.isUnDefinedServerSideError(q)){r={errorMessages:["Hmm... we couldn\'t create your project due to an unknown error. Try refreshing the page to start again."]}}else{if(this.isDefinedServerSideError(q)){var p=JSON.parse(q.responseText);JIRA.Messages.showReloadErrorMsg(p.message);m.avoidDirtyFormWarning();this._window.location=d+p.returnUrl;return}else{if(this.isTimeoutError(s)){r={errorMessages:["Request timeout when creating project"]}}else{r={errorMessages:[AJS.format("Error creating project, {0}",q.responseText)]}}}}}m.draw({webItemData:this.webItemData||{},errors:r,currentName:m.getName(),currentKey:m.getKey(),currentUserDisplayName:e.model.currentUserDisplayName,currentUserName:e.model.currentUserName,currentUserAvatarUrl:e.model.currentUserAvatarUrl});m.hideLoadingState()},isBadRequest:function(p){return(p.status===400)},isUnDefinedServerSideError:function(p){if(p.status===500){try{JSON.parse(p.responseText)}catch(q){return true}}return false},isDefinedServerSideError:function(p){return p.status===500&&!o.isUndefined(JSON.parse(p.responseText).message)},isTimeoutError:function(p){return p==="timeout"},_updateAndValidateKey:function a(p){m.setKey(p);this.validateKey()},_shouldUpdateKey:function h(){return(m.getKeyEdited()!="true")},autofillKeyIfNeeded:function n(){if(this._shouldUpdateKey()){var p=i.generate(m.getName());if(p.length>1){this._updateAndValidateKey(p)}else{m.setKey("")}}},_doesProjectNameExists:function(q){var p;for(p in this.projectNamesUpperCased){if(q.toUpperCase()==this.projectNamesUpperCased[p]){return true}}return false},validateName:function(){var p=l.trim(m.getName());if(!p){return}if(p.length<e.model.minNameLength){m.showInlineErrorForName(AJS.format("The project name should be at least {0} characters in length.",e.model.minNameLength));return}if(p.length>e.model.maxNameLength){m.showInlineErrorForName(AJS.format("The project name must not exceed {0} characters in length.",e.model.maxNameLength));return}if(this._doesProjectNameExists(p)){m.showInlineErrorForName("A project with that name already exists.");return}m.hideInlineErrorForName()},_performKeyValidationChecks:function(p){var q=l.ajax({url:d+"/rest/api/latest/projectvalidate/key?key="+p.toUpperCase()});q.done(o.bind(function(s){if(s.errors&&s.errors.projectKey){m.showInlineErrorForKey(s.errors.projectKey)}else{var r=false;o.each(this.projectKeyValidationCallbacks,function(u){var t=u(p.toUpperCase());if(t.errors&&t.errors.projectKey){r=true;m.showInlineErrorForKey(t.errors.projectKey)}});if(!r){m.hideInlineErrorForKey()}}},this))},validateKey:function g(){var p=m.getKey();if(this.lastKeyValidated===p){return}if(p){this.lastKeyValidated=p;this._performKeyValidationChecks(p)}else{m.hideInlineErrorForKey()}},nameTimeout:function j(){this.autofillKeyIfNeeded()},keyTimeout:function f(){m.setKeyEdited()},_getExistingProjects:function(){if(this.projectNamesUpperCased.length>0){return this.projectNamesUpperCased}var p=l.ajax({url:d+"/rest/api/latest/project"});p.done(o.bind(function(q){this.projectNamesUpperCased=o.map(q,function(r){return r.name.toUpperCase()})},this))}})});define("jira/project-templates/add-project-controller",["jira/project-templates/add-project-controller-impl","jquery"],function(a,b){return new a({el:b(document)})});AJS.namespace("JPT.AddProjectController",null,require("jira/project-templates/add-project-controller"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/TemplateInfoView.js' */
define("jira/project-templates/template-info-view",["jira/project-templates/dialog-controller","require","backbone","jquery","underscore"],function(e,c,f,d,b){var a=AJS.trigger;return f.View.extend({initialize:function(g){b.bindAll(this,"draw","onNext")},draw:function(i,h){var j=e.addPage({name:"template-info",title:h,panelName:"template-info",backButton:true,submitButtonText:"Select",submitButtonCallback:this.onNext,submitButtonClass:"template-info-dialog-create-button"});var g=this._nameToObj(i)();e.dialog.getPanel(j.id,0).html(g);e.dialog.gotoPage(j.id)},_nameToObj:function(g){return b.reduce(g.split("."),function(i,h){if(i){return i[h]}},window)},onNext:function(h){a("analyticsEvent",{name:"jira.project.templates.dialog.create.templateinfo.next"});var g=c("jira/project-templates/template-info-controller");g.next();return false}})});AJS.namespace("JPT.TemplateInfoView",null,require("jira/project-templates/template-info-view"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/TemplateInfoController.js' */
define("jira/project-templates/template-info-controller",["jira/project-templates/template-info-view","jira/lib/class","require","underscore"],function(e,a,c,b){var d=a.extend({init:function(f){b.bindAll(this,"initTemplateInfo","next")},initTemplateInfo:function(g){this.projectTemplateData=g;var f=new e();f.draw(g.infoSoyPath,g.name)},next:function(){var f=c("jira/project-templates/select-project-template-controller");f.openAddProjectPage(this.projectTemplateData)}});return new d()});AJS.namespace("JPT.TemplateInfoControllerImpl",null,require("jira/project-templates/template-info-controller"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/SelectProjectTemplateView.js' */
define("jira/project-templates/select-project-template-view",["jira/project-templates/dialog-controller","jira/project-templates/config","jira/featureflags/feature-manager","require","backbone","jquery","underscore"],function(d,b,i,c,g,e,h){var a=AJS.contextPath();var f=AJS.preventDefault;return{ROW_LENGTH:2,DIALOG_BODY_CLASS:"select-project-templates-page",DIALOG_WIDTH:800,draw:function(n,m){var j=c("jira/project-templates/select-project-template-controller");this.page=d.addPage({name:this.DIALOG_BODY_CLASS,title:n.demoProjects?"Create project with sample data":"Create project",panelName:"ProjectTemplatesListPanel",backButton:false,submitButtonText:"Next",submitButtonCallback:j.dialogSubmitted,submitButtonClass:"create-project-dialog-create-button"});function p(){if(j.isProjectTypesEnabled(n)){return JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType({projectTemplatesByType:n.projectTemplatesGroupedByType})}return JIRA.Templates.ProjectTemplates.renderProjectTemplates({projectTemplates:n.projectTemplates})}d.dialog.getPanel(this.page.id,0).html(p());if(b.model.projectCount>=2&&!n.demoProjects){e(JIRA.Templates.ProjectTemplates.addWorkflowsLink({baseUrl:a})).appendTo(d.$dialogElement.find(".dialog-title"))}var o=d.$dialogElement.find(".create-project-dialog-create-button");var l=this;this.getTemplateItems().click(function(){var q=e(this);q.addClass("selected");l.getTemplateItems().not(this).removeClass("selected")}).dblclick(function(){o.click()}).focus(function(){e(this).click()});var k=this.get$TemplatesContainer();if(!n.demoProjects){e(JIRA.Templates.ProjectTemplates.footerLinks({showDemoLink:i.isFeatureEnabled("jira.onboarding.cyoa")})).prependTo(d.$dialogElement.find(".dialog-button-panel"))}this.bindKeyboardEvents(k);if(j.isProjectTypesEnabled(n)){if((n.projectTemplatesGroupedByType).length==0){o.attr("disabled","disabled")}}else{if((n.projectTemplates).length==0){o.attr("disabled","disabled")}}this.focusOnFirstTemplate(k,m);d.dialog.updateHeight();this.truncateTemplateDescriptions();this.resizeTemplateWidths()},get$TemplatesContainer:function(){return d.$dialogElement.find(".templates")},focusOnFirstTemplate:function(j,k){if(k){this.getFirstTemplateItemOfProjectType(k).click()}else{this.getFirstTemplateItem().click()}setTimeout(function(){j.focus()},0)},getSelectedTemplateData:function(){var j=d.$dialogElement.find(".template.selected");return j.data()},getMoveDeltaForKey:function(j){switch(j){case 37:return -1;case 39:return +1;case 38:return -this.ROW_LENGTH;case 40:return +this.ROW_LENGTH}return 0},bindKeyboardEvents:function(j){j.bind("keydown",h.bind(function(k){var l=this.getMoveDeltaForKey(k.which);if(l){this.moveSelection(j,l);return f(k)}},this))},moveSelection:function(l,o){var k=l.find(".template");var n=k.filter(".selected");var m=k.index(n)+o;if(m<k.length&&m>=0){var j=k.eq(m);j.click().focus();this.scrollToSelectedElement(j)}},scrollToSelectedElement:function(l){var o=e(".dialog-panel-body.pt-content");var j=o.offset().top;var k=l.offset().top;var n=k+l.height();var m=j+o.height();if(k<j){o.scrollTop(o.scrollTop()-(j-k))}else{if(n>(j+o.height())){o.scrollTop(o.scrollTop()+n-m)}}},get$NextButton:function(){return d.$dialogElement.find(".create-project-dialog-create-button")},disableNextButton:function(){this.get$NextButton().attr("disabled","disabled")},truncateTemplateDescriptions:function(){var j=AJS.Meta.get("user-locale");var k="word";if(j==="ja_JP"){k="letter"}d.$dialogElement.find(".template-description").each(function(){e(this).dotdotdot({wrap:k,lastCharacter:{remove:[" ",",",";",".","!","?",""],noEllipsis:[]}})})},getTemplatesDialogContainer:function(){return d.$dialogElement.find("."+this.DIALOG_BODY_CLASS).find(".dialog-panel-body.pt-content").get(0)},getFirstTemplateItem:function(){return this.getTemplateItems().first()},getFirstTemplateItemOfProjectType:function(j){return this.getTemplateItems().filter("#project-template-group-"+j+" *").first()},getTemplateItems:function(){return d.$dialogElement.find(".template")},widthOfScrollbarForElement:function(k){var j=k.offsetWidth;var l=k.clientWidth;return j-l},widthOfDialogAvailableForTemplateList:function(){var j=this.widthOfScrollbarForElement(this.getTemplatesDialogContainer());return this.DIALOG_WIDTH-j},widthOfTemplateItem:function(){var j=this.widthOfDialogAvailableForTemplateList()/this.ROW_LENGTH;return j-this.borderWidthOfTemplateItem()},borderWidthOfTemplateItem:function(){var j=this.getFirstTemplateItem().css("border-top-width");return parseInt(j,10)},resizeTemplateWidths:function(){this.getTemplateItems().each(h.bind(function(j,k){e(k).css("width",this.widthOfTemplateItem())},this))}}});AJS.namespace("JPT.SelectProjectTemplateView",null,require("jira/project-templates/select-project-template-view"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/SelectProjectTemplateController.js' */
define("jira/project-templates/select-project-template-controller",["jira/project-templates/select-project-template-view","jira/project-templates/template-info-controller","jira/project-templates/add-project-controller","jira/project-templates/dialog-controller","jira/project-templates/dialog-view","jira/project-templates/config","wrm/context-path","jquery","underscore"],function(f,h,k,l,o,g,n,m,p){var e=n();var d={init:function q(s,r){f.draw(s,r)},isProjectTypesEnabled:function c(r){return r.projectTemplatesGroupedByType!=null},loadProjectTemplatesData:function j(){return m.ajax({url:e+"/rest/project-templates/1.0/templates",type:"GET"})},loadDemoProjectTemplatesData:function j(){return m.ajax({url:e+"/rest/project-templates/1.0/templates/demo-projects",type:"GET"}).then(function(r){r.demoProjects=true;return r})},dialogSubmitted:function b(){var r=f.getSelectedTemplateData();l.hideDialogFromNewUser("templateselected");d.raiseAtlassianEvent(r.itemModuleCompleteKey);if(!p.isUndefined(r.infoSoyPath)){h.initTemplateInfo(r)}else{d.openAddProjectPage(r)}},openAddProjectPage:function i(r){if(!r){o.showErrorMessage("An error occurred while trying to contact Jira");return}if(r.createProject){k.initProjectTemplate(r)}else{l.dialog.addPage("blank-template-page");m("body").trigger(r.itemModuleCompleteKey,l.dialog)}},raiseAtlassianEvent:function a(r){g.model.selectedTemplate=r;if(AJS.EventQueue){AJS.EventQueue.push({name:"projecttemplates.templateselected",properties:{selectedTemplate:r}})}}};return d});AJS.namespace("JPT.SelectProjectTemplateController",null,require("jira/project-templates/select-project-template-controller"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/CreateSharedView.js' */
define("jira/project-templates/create-shared-view",["jira/project-templates/dialog-controller","jira/project-templates/dialog-view","jira/ajs/select/scrollable-single-select","jira/ajs/select/suggestion-collection-model","require","backbone","jquery"],function(d,h,g,i,c,j,e){var f=AJS.InlineDialog;var b=AJS.trigger;var a=j.View.extend({events:{"submit #create-shared-project-form":"onSubmitForm"},page:undefined,prepareDialog:function(l){var k=c("jira/project-templates/create-shared-controller");this.page=d.addPage({name:"create-shared-project",title:l,panelName:"create-shared-project",backButton:true,submitButtonText:"Next",submitButtonCallback:k.dialogSubmitted,submitButtonClass:"create-shared-dialog-button"})},draw:function(l){d.dialog.gotoPage(this.page.id);var k=JIRA.Templates.ProjectTemplates.createSharedProjectForm({projectSuggestions:JSON.stringify(l.projectSuggestions)});d.dialog.getPanel(this.page.id,0).html(k);this._createProjectPicker();var m=d.$dialogElement.find("#shared-help-icon");if(m.length){new f(m,"shared-project-help-popup",function(p,o,n){p.html(JIRA.Templates.ProjectTemplates.sharedHelp());n()},{width:330,offsetX:-30})}d.$dialogElement.find(".dialog-button-panel button").removeAttr("disabled")},showProjectMissingError:function(){this._clearFormErrors();this._getProjectPickerInput().after(aui.form.fieldError({extraClasses:"project-picker-missing-error",message:"Please select an existing project first."}))},drawEmptyInfo:function(){var k=JIRA.Templates.ProjectTemplates.noProjects();d.dialog.getPanel(this.page.id,0).html(k);d.$dialogElement.find(".dialog-button-panel button").hide()},drawError:function(k){d.dialog.getPanel(this.page.id,0).html(JIRA.Templates.errorMsg({closable:false,msg:k}))},drawLoading:function(){d.dialog.gotoPage(this.page.id);var k=JIRA.Templates.ProjectTemplates.loading();d.dialog.getPanel(this.page.id,0).html(k);d.$dialogElement.find(".dialog-spinner").spin();d.$dialogElement.find(".dialog-button-panel button").attr("disabled","disabled")},_clearFormErrors:function(){d.$dialogElement.find(".project-picker-missing-error").remove()},_getProjectPickerInput:function(){return d.$dialogElement.find("#project-picker")},onSubmitForm:function(l){this._clearFormErrors();var k=c("jira/project-templates/create-shared-controller");k.dialogSubmitted();return false},_getExtraInfoMessage:function(){return d.$dialogElement.find(".create-shared-info")},_createProjectPicker:function(){this._getExtraInfoMessage().hide();this.projectSelect=new g({element:this._getProjectPickerInput(),revertOnInvalid:true,pageSize:50,pagingThreshold:100,model:i});this.projectSelect.$field.focus();var k=this;this._getProjectPickerInput().on("selected",function(m,l){if(l.value()){b("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.selected"});k._getExtraInfoMessage().show()}})},getSelectedProject:function(){return this.projectSelect.getSelectedDescriptor()&&this.projectSelect.getSelectedDescriptor().value()}});return new a({el:e(document),dialogView:h})});AJS.namespace("JPT.CreateSharedView",null,require("jira/project-templates/create-shared-view"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/CreateSharedController.js' */
define("jira/project-templates/create-shared-controller-impl",["jira/project-templates/add-project-controller","jira/project-templates/create-shared-view","jira/lib/class","jquery","underscore"],function(e,f,a,d,c){var b=AJS.contextPath();return a.extend({init:function(g){this._window=g.window||window;c.bindAll(this,"dialogSubmitted")},initCreateShared:function(){f.prepareDialog("Create with shared configuration");var g=this;this._getProjectSuggestions().done(function(h){if(g._hasSuggestions(h)){f.draw({projectSuggestions:h})}else{f.drawEmptyInfo()}}).fail(function(){f.drawError("An error occurred while trying to contact Jira")});f.drawLoading()},_hasSuggestions:function(h){var g=false;d.each(h,function(j,k){if(k&&k.items&&k.items.length>0){g=true}});return g},_getProjectSuggestions:function(){return d.ajax({url:b+"/rest/project-templates/1.0/createshared"})},dialogSubmitted:function(){var g=f.getSelectedProject();if(g){e.initCreateShared({existingProjectId:g})}else{f.showProjectMissingError()}}})});define("jira/project-templates/create-shared-controller",["jira/project-templates/create-shared-controller-impl","jquery"],function(a,b){return new a({el:b(document)})});AJS.namespace("JPT.CreateSharedController",null,require("jira/project-templates/create-shared-controller"));;
;
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/RemoteProjectsCreatedMessage.js' */
var $=require("jquery");$(function(){var i=AJS.format;var e=require("jira/project-templates/add-project-controller");var b=localStorage.getItem(e.localStoragePrefix+"confluenceProject");var j=localStorage.getItem(e.localStoragePrefix+"fisheyeProject");var g=localStorage.getItem(e.localStoragePrefix+"crucibleProject");var d=localStorage.getItem(e.localStoragePrefix+"bambooProject");localStorage.removeItem(e.localStoragePrefix+"confluenceProject");localStorage.removeItem(e.localStoragePrefix+"fisheyeProject");localStorage.removeItem(e.localStoragePrefix+"crucibleProject");localStorage.removeItem(e.localStoragePrefix+"bambooProject");var k;function c(m,l){return JIRA.Templates.ProjectTemplates.formatAnchor({href:m,body:l,title:l})}function a(n,o,m,p){var l=[];l.push("a Jira project");if(n){l.push(c(n,"a Confluence space"))}if(o){l.push(c(o,"a FishEye repository"))}if(m){l.push(c(m,"a Crucible project"))}if(p){l.push(c(p,"a Bamboo project"))}return l}function h(m,o,l,r){var q="The following entities were created: {0} and {1}.";var n=a(m,o,l,r);var p=n.pop();return(n.length>0)?i(q,n.join(", "),p):null}function f(l){var m=$(l).offset();if(m){window.scrollTo(m.left,m.top)}}if(b||j||g||d){k=h(b,j,g,d);if(k){JIRA.Messages.showSuccessMsg(k,{closeable:true})}f("#project-config-webpanel-summary-settings")}});;
;
/* module-key = 'com.atlassian.jira-core-project-templates:jira-core-project-templates-resources', location = '/soy/CoreProjectTemplates.soy' */
// This file was automatically generated from CoreProjectTemplates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.CoreTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }
if (typeof JIRA.Templates.ProjectTemplates.CoreTemplates == 'undefined') { JIRA.Templates.ProjectTemplates.CoreTemplates = {}; }


JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: "Create simple tasks, organize them and get them done. You can use this project to manage your tasks or assign them to someone else.", projectTemplate: 'taskManagement'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: "Create your tasks, organize and track their progress, and deliver your work on time. Estimations and time tracking allow you to report on where your project is at any stage.", projectTemplate: 'projectManagement'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: "Create your tasks and track them at every step, from start to finish. You can use this project to review documentation, approve expenses, or other processes.", projectTemplate: 'processManagement'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.boardBetaInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: "Visualize work across your team with a board.", projectTemplate: 'projectManagement', issueTypesHtml: '' + JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType(null)});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.boardBetaInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.boardBetaInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog = function(opt_data, opt_ignored) {
  return '<div><div class="top-panel"><p>' + soy.$$escapeHtml(opt_data.description) + '</p></div><div class="left-panel"><h6>' + soy.$$escapeHtml("Issue Types") + '</h6><ul class="project-template-issuetype-list">' + ((opt_data.issueTypesHtml != null) ? soy.$$filterNoAutoescape(opt_data.issueTypesHtml) : JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType(null) + JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType(null)) + '</ul></div><div class="right-panel"><h6>' + soy.$$escapeHtml("Workflow") + '</h6><div class="workflow ' + soy.$$escapeHtml(opt_data.projectTemplate) + '"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.issueType = function(opt_data, opt_ignored) {
  return '<li><span class="issuetype-list-label"><span class="issuetype-icon ' + soy.$$escapeHtml(opt_data.iconKey) + '"></span><span class="issuetype-name">' + soy.$$escapeHtml(opt_data.label) + '</span></span></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.issueType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.issueType';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey: 'task', label: "Task"});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey: 'subtask', label: "Sub-task"});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType';
}
;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-restful-table-class-names', location = 'src/js/aui/restful-table/class-names.js' */
("undefined"===typeof window?global:window).__80eabeead1490f859f6a708858b1dc25=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default={NO_VALUE:"aui-restfultable-editable-no-value",NO_ENTRIES:"aui-restfultable-no-entires",RESTFUL_TABLE:"aui-restfultable",ROW:"aui-restfultable-row",READ_ONLY:"aui-restfultable-readonly",ACTIVE:"aui-restfultable-active",ALLOW_HOVER:"aui-restfultable-allowhover",FOCUSED:"aui-restfultable-focused",MOVEABLE:"aui-restfultable-movable",
DISABLED:"aui-restfultable-disabled",SUBMIT:"aui-restfultable-submit",CANCEL:"aui-restfultable-cancel",EDIT_ROW:"aui-restfultable-editrow",CREATE:"aui-restfultable-create",DRAG_HANDLE:"aui-restfultable-draghandle",ORDER:"aui-restfultable-order",EDITABLE:"aui-restfultable-editable",ERROR:"error",DELETE:"aui-restfultable-delete",LOADING:"loading"};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-restful-table-custom-create-view', location = 'src/js/aui/restful-table/custom-create-view.js' */
("undefined"===typeof window?global:window).__0d34270c41fe2d547efed0ce03f668c0=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=__320e4ec293ac29d49b959aa9d46df68f;a.default=(b&&b.__esModule?b:{"default":b}).default.View;return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-restful-table-custom-edit-view', location = 'src/js/aui/restful-table/custom-edit-view.js' */
("undefined"===typeof window?global:window).__15ac66f9a1559266d249b098cf180f35=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=__320e4ec293ac29d49b959aa9d46df68f;a.default=(b&&b.__esModule?b:{"default":b}).default.View;return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-restful-table-custom-read-view', location = 'src/js/aui/restful-table/custom-read-view.js' */
("undefined"===typeof window?global:window).__ce5d8a803e1fd58153b33f9bb2fe0bff=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=__320e4ec293ac29d49b959aa9d46df68f;a.default=(b&&b.__esModule?b:{"default":b}).default.View;return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-restful-table-data-keys', location = 'src/js/aui/restful-table/data-keys.js' */
("undefined"===typeof window?global:window).__40ea873dae0b909ba7e1b6d5b37fd259=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default={ENABLED_SUBMIT:"enabledSubmit",ROW_VIEW:"RestfulTable_Row_View"};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-vendor-jquery-serializetoobject', location = 'src/js-vendor/jquery/serializetoobject.js' */
("undefined"===typeof window?global:window).__a66ae57438a6301a66d32681106ab1de=function(){jQuery.fn.serializeObject=function(){var a={};this.find(":input:not(:button):not(:submit):not(:radio):not('select[multiple]')").each(function(){""!==this.name&&(null===this.value&&(this.value=""),a[this.name]=this.value.match(/^(tru|fals)e$/i)?"true"==this.value.toLowerCase():this.value)});this.find("input:radio:checked").each(function(){a[this.name]=this.value});this.find("select[multiple]").each(function(){var c=
jQuery(this),b=c.val();a[this.name]=c.data("aui-ss")?b?b[0]:"":null!==b?b:[]});return a};return{}}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-restful-table-events', location = 'src/js/aui/restful-table/events.js' */
("undefined"===typeof window?global:window).__b912ac75391ff799576d1dfdc1dc3c70=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default={REORDER_SUCCESS:"RestfulTable.reorderSuccess",ROW_ADDED:"RestfulTable.rowAdded",ROW_REMOVED:"RestfulTable.rowRemoved",EDIT_ROW:"RestfulTable.switchedToEditMode",SERVER_ERROR:"RestfulTable.serverError",CREATED:"created",UPDATED:"updated",FOCUS:"focus",BLUR:"blur",SUBMIT:"submit",SAVE:"save",MODAL:"modal",MODELESS:"modeless",CANCEL:"cancel",
CONTENT_REFRESHED:"contentRefreshed",RENDER:"render",FINISHED_EDITING:"finishedEditing",VALIDATION_ERROR:"validationError",SUBMIT_STARTED:"submitStarted",SUBMIT_FINISHED:"submitFinished",INITIALIZED:"initialized",ROW_INITIALIZED:"rowInitialized",ROW_EDIT:"editRow"};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-restful-table-throbber', location = 'src/js/aui/restful-table/throbber.js' */
("undefined"===typeof window?global:window).__09339e7cdcdecdedab4ce02aa86100f2=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=function(){return'<span class="aui-restfultable-throbber"></span>'};return a=a["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-restful-table-edit-row', location = 'src/js/aui/restful-table/edit-row.js' */
("undefined"===typeof window?global:window).__fa98b6b6842afadeca33f835f6fd852f=function(){function f(a){return a&&a.__esModule?a:{"default":a}}var g={};"use strict";Object.defineProperty(g,"__esModule",{value:!0});var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},c=f(__700a145ba3db9966cc95664c892049f8);__a66ae57438a6301a66d32681106ab1de;var l=
f(__320e4ec293ac29d49b959aa9d46df68f),m=f(__80eabeead1490f859f6a708858b1dc25),n=f(__40ea873dae0b909ba7e1b6d5b37fd259),o=f(__b912ac75391ff799576d1dfdc1dc3c70);f(__fa714f1b12d7502957e4e0b6196321bf);var p=f(__09339e7cdcdecdedab4ce02aa86100f2),j=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");g.default=l.default.View.extend({tagName:"tr",events:{focusin:"_focus",click:"_focus",keyup:"_handleKeyUpEvent"},initialize:function(a){this.$el=(0,c.default)(this.el);this._event=o.default;this.classNames=
m.default;this.dataKeys=n.default;this.columns=a.columns;this.isCreateRow=a.isCreateRow;this.allowReorder=a.allowReorder;this.events["click ."+this.classNames.CANCEL]="_cancel";this.delegateEvents();a.isUpdateMode?this.isUpdateMode=!0:(this._modelClass=a.model,this.model=new this._modelClass);this.fieldFocusSelector=a.fieldFocusSelector;this.bind(this._event.CANCEL,function(){this.disabled=true}).bind(this._event.SAVE,function(a){this.disabled||this.submit(a)}).bind(this._event.FOCUS,function(a){this.focus(a)}).bind(this._event.BLUR,
function(){this.$el.removeClass(this.classNames.FOCUSED);this.disable()}).bind(this._event.SUBMIT_STARTED,function(){this._submitStarted()}).bind(this._event.SUBMIT_FINISHED,function(){this._submitFinished()})},defaultColumnRenderer:function(a){if(!1!==a.allowEdit)return(0,c.default)("<input type='text' />").addClass("text").attr({name:a.name,value:a.value});if(a.value)return document.createTextNode(a.value)},renderDragHandle:function(){return'<span class="'+this.classNames.DRAG_HANDLE+'"></span></td>'},
_handleKeyUpEvent:function(a){27===a.keyCode&&this.trigger(this._event.CANCEL)},_cancel:function(a){this.trigger(this._event.CANCEL);a.preventDefault();return this},_submitStarted:function(){this.submitting=!0;this.showLoading().disable().delegateEvents({});return this},_submitFinished:function(){this.submitting=!1;this.hideLoading().enable().delegateEvents(this.events);return this},_focus:function(a){this.hasFocus()||this.trigger(this._event.FOCUS,a.target.name);return this},hasFocus:function(){return this.$el.hasClass(this.classNames.FOCUSED)},
focus:function(a){this.enable();a?a=this.$el.find(this.fieldFocusSelector(a)):(a=this.$el.find(this.classNames.ERROR+":first"),a=0===a.length?this.$el.find(":input:text:first"):a.parent().find(":input"));this.$el.addClass(this.classNames.FOCUSED);a.focus().trigger("select");return this},disable:function(){var a,b;j&&(b=this.$el.find(":submit"),b.length&&(a=(0,c.default)("<input type='submit' class='"+this.classNames.SUBMIT+"' />").addClass(b.attr("class")).val(b.val()).data(this.dataKeys.ENABLED_SUBMIT,
b),b.replaceWith(a)));this.$el.addClass(this.classNames.DISABLED).find(":submit").attr("disabled","disabled");return this},enable:function(){var a,b;j&&(a=this.$el.find(this.classNames.SUBMIT),(b=a.data(this.dataKeys.ENABLED_SUBMIT))&&a.length&&a.replaceWith(b));this.$el.removeClass(this.classNames.DISABLED).find(":submit").removeAttr("disabled");return this},showLoading:function(){this.$el.addClass(this.classNames.LOADING);return this},hideLoading:function(){this.$el.removeClass(this.classNames.LOADING);
return this},hasUpdates:function(){return!!this.mapSubmitParams(this.serializeObject())},serializeObject:function(){var a=this.$el;return a.serializeObject?a.serializeObject():a.serialize()},mapSubmitParams:function(a){return this.model.changedAttributes(a)},submit:function(a){var b=this,h;document.activeElement!==window&&(0,c.default)(document.activeElement).blur();if(this.isUpdateMode){if(h=this.mapSubmitParams(this.serializeObject()),!h)return b.trigger(b._event.CANCEL)}else this.model.clear(),
h=this.mapSubmitParams(this.serializeObject());this.trigger(this._event.SUBMIT_STARTED);this.model.save(h,{success:function(){b.isUpdateMode?b.trigger(b._event.UPDATED,b.model,a):(b.trigger(b._event.CREATED,b.model.toJSON()),b.model=new b._modelClass,b.render({errors:{},values:{}}),b.trigger(b._event.FOCUS));b.trigger(b._event.SUBMIT_FINISHED)},error:function(a,c,h){400===h.status&&(b.renderErrors(c.errors),b.trigger(b._event.VALIDATION_ERROR,c.errors));b.trigger(b._event.SUBMIT_FINISHED)},silent:!0});
return this},renderError:function(a,b){return(0,c.default)("<div />").attr("data-field",a).addClass(this.classNames.ERROR).text(b)},renderErrors:function(a){var b=this;this.$("."+this.classNames.ERROR).remove();a&&c.default.each(a,function(a,c){b.$el.find("[name='"+a+"']").closest("td").append(b.renderError(a,c))});return this},render:function(a){var b=this;this.$el.empty();this.allowReorder&&(0,c.default)('<td  class="'+this.classNames.ORDER+'" />').append(this.renderDragHandle()).appendTo(b.$el);
c.default.each(this.columns,function(f,d){var e,i;e=a.values[d.id];var g=[{name:d.id,value:e,allowEdit:d.allowEdit},a.values,b.model];e&&b.$el.attr("data-"+d.id,e);e=b.isCreateRow&&d.createView?(new d.createView({model:b.model})).render(g[0]):d.editView?(new d.editView({model:b.model})).render(g[0]):b.defaultColumnRenderer.apply(b,g);i=(0,c.default)("<td />");"object"===("undefined"===typeof e?"undefined":k(e))&&e.done?e.done(function(a){i.append(a)}):i.append(e);d.styleClass&&i.addClass(d.styleClass);
i.appendTo(b.$el)});this.$el.append(this.renderOperations(a.update,a.values)).addClass(this.classNames.ROW+" "+this.classNames.EDIT_ROW);this.trigger(this._event.RENDER,this.$el,a.values);this.$el.trigger(this._event.CONTENT_REFRESHED,[this.$el]);return this},renderOperations:function(a){var b=(0,c.default)('<td class="aui-restfultable-operations" />');a?b.append((0,c.default)('<input class="aui-button" type="submit" />').attr({accesskey:this.submitAccessKey,value:"Update"})).append((0,
c.default)('<a class="aui-button aui-button-link" href="#" />').addClass(this.classNames.CANCEL).text("Cancel").attr({accesskey:this.cancelAccessKey})):b.append((0,c.default)('<input class="aui-button" type="submit" />').attr({accesskey:this.submitAccessKey,value:"Add"}));return b.add((0,c.default)('<td class="aui-restfultable-status" />').append((0,p.default)()))}});return g=g["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-events', location = 'src/js/aui/events.js' */
("undefined"===typeof window?global:window).__f3ccb1e110c37fc6c95e5fa43d2c3f4f=function(){function d(a,b){h.trigger(a,b)}function f(a,b){h.bind(a,b)}function g(a,b,c){(0,i.default)(b).trigger(a,c);d(a,c);b.id&&d(b.id+"-"+a,c)}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.triggerEvtForInst=b.triggerEvt=b.bindEvt=void 0;var a=__700a145ba3db9966cc95664c892049f8,i=a&&a.__esModule?a:{"default":a},c;if((a=__921ad9514d56376fef992861d9ec0f51)&&a.__esModule)c=a;else{var e={};if(null!=
a)for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c]);e.default=a;c=e}var a=(a=__28c84e7bb75f6c3b0ba124d57bd69571)&&a.__esModule?a:{"default":a},e=document||{},h=(0,i.default)(e);b.bindEvt=f=c.fn(f,"bindEvt",{sinceVersion:"5.8.0"});b.triggerEvt=d=c.fn(d,"triggerEvt",{sinceVersion:"5.8.0"});b.triggerEvtForInst=g=c.fn(g,"triggerEvtForInst",{sinceVersion:"5.8.0"});(0,a.default)("bindEvt",f);(0,a.default)("triggerEvt",d);(0,a.default)("triggerEvtForInst",g);b.bindEvt=f;b.triggerEvt=d;b.triggerEvtForInst=
g;return b}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-restful-table-entry-model', location = 'src/js/aui/restful-table/entry-model.js' */
("undefined"===typeof window?global:window).__8050ba61a386ff790f31b0634ce1c858=function(){function f(a){return a&&a.__esModule?a:{"default":a}}var i={};"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=f(__700a145ba3db9966cc95664c892049f8),m=__f3ccb1e110c37fc6c95e5fa43d2c3f4f,
j=f(__59c1c30030f41c99b6757d449d9a3a7b),h=f(__320e4ec293ac29d49b959aa9d46df68f),n=f(__b912ac75391ff799576d1dfdc1dc3c70),k=h.default.Model.extend({sync:function(a,b,c){var d=this,e=c.error;c.error=function(a){d._serverErrorHandler(a,this);e&&e.apply(this,arguments)};return h.default.sync.apply(h.default,arguments)},save:function(a,b){var b=b||{},c=this,d,e=b.error,f=b.success;b.error=function(a,b){var d=g.default.parseJSON(b.responseText||b.data);e&&e.call(c,c,d,b)};this.isNew()?h.default.Model.prototype.save.call(this,
a,b):a&&(d=k.extend({url:this.url()}),d=new d({id:this.id}),d.save=h.default.Model.prototype.save,b.success=function(a,b){c.clear().set(a.toJSON());f&&f.call(c,c,b)},d.save(a,b))},destroy:function(a){var a=a||{},b=this,c=this.url(),d;a.data&&(d=g.default.param(a.data));d&&d.length&&(c=c+"?"+d);g.default.ajax({url:c,type:"DELETE",dataType:"json",contentType:"application/json",success:function(d){b.collection&&b.collection.remove(b);a.success&&a.success.call(b,d)},error:function(d){b._serverErrorHandler(d,
this);a.error&&a.error.call(b,d)}});return this},changedAttributes:function(a){var b={},c=this.toJSON();g.default.each(a,function(a,e){c[a]?c[a]&&c[a]!==e&&("object"===("undefined"===typeof e?"undefined":l(e))?j.default.isEqual(e,c[a])||(b[a]=e):b[a]=e):"string"===typeof e?""!==g.default.trim(e)&&(b[a]=e):g.default.isArray(e)?0!==e.length&&(b[a]=e):b[a]=e});if(!j.default.isEmpty(b))return this.addExpand(b),b},addExpand:function(){},_serverErrorHandler:function(a,b){var c;400!==a.status&&(c=g.default.parseJSON(a.responseText||
a.data),(0,m.triggerEvtForInst)(n.default.SERVER_ERROR,this,[c,a,b]))},fetch:function(a){a=a||{};this.clear();h.default.Model.prototype.fetch.call(this,a)}});i.default=k;return i=i["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-restful-table-row', location = 'src/js/aui/restful-table/row.js' */
("undefined"===typeof window?global:window).__8ac1973494a53eee4a578e7b0d48a1b6=function(){function e(a){return a&&a.__esModule?a:{"default":a}}var h={};"use strict";Object.defineProperty(h,"__esModule",{value:!0});var b=e(__700a145ba3db9966cc95664c892049f8),j;var c=__bc50e12d2af94e34822ae0035ae0e67f;if(c&&c.__esModule)j=c;else{var k={};if(null!=c)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(k[d]=c[d]);k.default=c;j=k}d=e(__320e4ec293ac29d49b959aa9d46df68f);var l=e(__80eabeead1490f859f6a708858b1dc25),
m=e(__40ea873dae0b909ba7e1b6d5b37fd259),n=e(__b912ac75391ff799576d1dfdc1dc3c70);e(__fa714f1b12d7502957e4e0b6196321bf);var o=e(__09339e7cdcdecdedab4ce02aa86100f2);h.default=d.default.View.extend({tagName:"tr",events:{"click .aui-restfultable-editable":"edit"},initialize:function(a){a=a||{};this._event=n.default;this.classNames=l.default;this.dataKeys=m.default;this.columns=a.columns;this.allowEdit=a.allowEdit;this.allowDelete=a.allowDelete;if(!this.events["click .aui-restfultable-editable"])throw Error("It appears you have overridden the events property. To add events you will need to usea work around. https://github.com/documentcloud/backbone/issues/244");
this.index=a.index||0;this.deleteConfirmation=a.deleteConfirmation;this.allowReorder=a.allowReorder;this.$el=(0,b.default)(this.el);this.bind(this._event.CANCEL,function(){this.disabled=!0}).bind(this._event.FOCUS,function(a){this.focus(a)}).bind(this._event.BLUR,function(){this.unfocus()}).bind(this._event.MODAL,function(){this.$el.addClass(this.classNames.ACTIVE)}).bind(this._event.MODELESS,function(){this.$el.removeClass(this.classNames.ACTIVE)})},renderDragHandle:function(){return'<span class="'+
this.classNames.DRAG_HANDLE+'"></span></td>'},defaultColumnRenderer:function(a){if(a.value)return document.createTextNode(a.value.toString())},sync:function(a){var b=this;this.model.addExpand(a);this.showLoading();this.model.save(a,{success:function(){b.hideLoading().render();b.trigger(b._event.UPDATED)},error:function(){b.hideLoading()}});return this},refresh:function(a,b){var c=this;this.showLoading();this.model.fetch({success:function(){c.hideLoading().render();a&&a.apply(this,arguments)},error:function(){c.hideLoading();
b&&b.apply(this,arguments)}});return this},hasFocus:function(){return this.$el.hasClass(this.classNames.FOCUSED)},focus:function(){(0,b.default)(this.el).addClass(this.classNames.FOCUSED);return this},unfocus:function(){(0,b.default)(this.el).removeClass(this.classNames.FOCUSED);return this},showLoading:function(){this.$el.addClass(this.classNames.LOADING);return this},hideLoading:function(){this.$el.removeClass(this.classNames.LOADING);return this},edit:function(a){a=(0,b.default)(a.target).is("."+
this.classNames.EDITABLE)?(0,b.default)(a.target).attr("data-field-name"):(0,b.default)(a.target).closest("."+this.classNames.EDITABLE).attr("data-field-name");this.trigger(this._event.ROW_EDIT,a);return this},renderOperations:function(){var a=this;if(!1!==this.allowDelete)return(0,b.default)("<a href='#' class='aui-button' />").addClass(this.classNames.DELETE).text("Delete").click(function(b){b.preventDefault();a.destroy()})},destroy:function(){if(this.deleteConfirmation){var a=
j.popup(400,200,"delete-entity-"+this.model.get("id"));a.element.html(this.deleteConfirmation(this.model.toJSON()));a.show();a.element.find(".cancel").click(function(){a.hide()});a.element.find("form").submit(function(b){a.hide();this.model.destroy();b.preventDefault()}.bind(this))}else this.model.destroy()},render:function(){var a=this,c=this.model.toJSON(),e=(0,b.default)("<td class='aui-restfultable-operations' />").append(this.renderOperations({},c)),d=(0,b.default)("<td class='aui-restfultable-status' />").append((0,
o.default)());this.$el.removeClass(this.classNames.DISABLED+" "+this.classNames.FOCUSED+" "+this.classNames.LOADING+" "+this.classNames.EDIT_ROW).addClass(this.classNames.READ_ONLY).empty();this.allowReorder&&(0,b.default)('<td  class="'+this.classNames.ORDER+'" />').append(this.renderDragHandle()).appendTo(a.$el);this.$el.attr("data-id",this.model.id);b.default.each(this.columns,function(e,f){var g,d=(0,b.default)("<td />");g=c[f.id];var i=f.fieldName||f.id,h=[{name:i,value:g,allowEdit:f.allowEdit},
c,a.model];g&&a.$el.attr("data-"+f.id,g);g=f.readView?(new f.readView({model:a.model})).render(h[0]):a.defaultColumnRenderer.apply(a,h);if(!1!==a.allowEdit&&!1!==f.allowEdit){if(i=(0,b.default)("<span />").addClass(a.classNames.EDITABLE).append('<span class="aui-icon aui-icon-small aui-iconfont-edit"></span>').append(g).attr("data-field-name",i),d=(0,b.default)("<td />").append(i).appendTo(a.$el),!g||""==b.default.trim(g))d.addClass(a.classNames.NO_VALUE),i.html((0,b.default)("<em />").text(this.emptyText||
"Enter value"))}else d.append(g);f.styleClass&&d.addClass(f.styleClass);d.appendTo(a.$el)});this.$el.append(e).append(d).addClass(this.classNames.ROW+" "+this.classNames.READ_ONLY);this.trigger(this._event.RENDER,this.$el,c);this.$el.trigger(this._event.CONTENT_REFRESHED,[this.$el]);return this}});return h=h["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-restful-table', location = 'src/js/aui/restful-table.js' */
("undefined"===typeof window?global:window).__9d6bbe6056be3ba99a06a04900676ca7=function(){function f(a){return a&&a.__esModule?a:{"default":a}}function j(a,b,c){(0,e.default)(b).trigger(a,c);(0,e.default)(document).trigger(a,c);b.id&&(a=b.id+"_"+a,(0,e.default)(document).trigger(a,c))}var m={};"use strict";Object.defineProperty(m,"__esModule",{value:!0});var e=f(__700a145ba3db9966cc95664c892049f8),n;var h=__c1e961001275c079e48525ad3a48c8c2;if(h&&h.__esModule)n=h;else{var k={};if(null!=h)for(var l in h)Object.prototype.hasOwnProperty.call(h,
l)&&(k[l]=h[l]);k.default=h;n=k}var o=f(__320e4ec293ac29d49b959aa9d46df68f),r=f(__80eabeead1490f859f6a708858b1dc25);l=f(__0d34270c41fe2d547efed0ce03f668c0);var h=f(__15ac66f9a1559266d249b098cf180f35),k=f(__ce5d8a803e1fd58153b33f9bb2fe0bff),s=f(__40ea873dae0b909ba7e1b6d5b37fd259),t=f(__fa98b6b6842afadeca33f835f6fd852f),p=f(__8050ba61a386ff790f31b0634ce1c858),u=f(__b912ac75391ff799576d1dfdc1dc3c70),w=f(__28c84e7bb75f6c3b0ba124d57bd69571);f(__fa714f1b12d7502957e4e0b6196321bf);var q=f(__8ac1973494a53eee4a578e7b0d48a1b6),
v=f(__09339e7cdcdecdedab4ce02aa86100f2),g=o.default.View.extend({initialize:function(a){var b=this;b.options=e.default.extend(!0,b._getDefaultOptions(a),a);b.id=this.options.id;b._event=u.default;b.classNames=r.default;b.dataKeys=s.default;this.$table=(0,e.default)(a.el).addClass(this.classNames.RESTFUL_TABLE).addClass(this.classNames.ALLOW_HOVER).addClass("aui").addClass(b.classNames.LOADING);this.$table.wrapAll("<form class='aui' action='#' />");this.$thead=(0,e.default)("<thead/>");this.$theadRow=
(0,e.default)("<tr />").appendTo(this.$thead);this.$tbody=(0,e.default)("<tbody/>");if(!this.$table.length)throw Error("RestfulTable: Init failed! The table you have specified ["+this.$table.selector+"] cannot be found.");if(!this.options.columns)throw Error("RestfulTable: Init failed! You haven't provided any columns to render.");this.showGlobalLoading();this.options.columns.forEach(function(a){var d=e.default.isFunction(a.header)?a.header():a.header;"undefined"===typeof d&&(n.warn("You have not specified [header] for column ["+
a.id+"]. Using id for now..."),d=a.id);b.$theadRow.append("<th>"+d+"</th>")});b.$theadRow.append("<th></th><th></th>");this._models=this._createCollection();this._rowClass=this.options.views.row;this.editRows=[];this.$table.closest("form").submit(function(a){b.focusedRow&&b.focusedRow.trigger(b._event.SAVE);a.preventDefault()});this.options.allowReorder&&(this.$theadRow.prepend("<th />"),this.$tbody.sortable({handle:"."+this.classNames.DRAG_HANDLE,helper:function(a,d){var i=(0,e.default)("<div/>").attr("class",
d.attr("class")).addClass(b.classNames.MOVEABLE);d.children().each(function(){var a=(0,e.default)(this),b=parseInt(0+a.css("border-left-width"),10),c=parseInt(0+a.css("border-right-width"),10),b=a[0].clientWidth+b+c;i.append((0,e.default)("<div/>").html(a.html()).attr("class",a.attr("class")).width(b))});i=(0,e.default)("<div class='aui-restfultable-readonly'/>").append(i);i.css({left:d.offset().left});i.appendTo(document.body);return i},start:function(a,d){var i=d.helper[0].clientHeight,f=d.placeholder.find("td");
d.item.addClass(b.classNames.MOVEABLE).children().each(function(a){(0,e.default)(this).width(f.eq(a).width())});var g='<td colspan="'+b.getColumnCount()+'">&nbsp;</td>';d.placeholder.html(g).css({height:i,visibility:"visible"});b.getRowFromElement(d.item[0]).trigger(b._event.MODAL)},stop:function(a,d){if((0,e.default)(d.item[0]).is(":visible"))d.item.removeClass(b.classNames.MOVEABLE).children().attr("style",""),d.placeholder.removeClass(b.classNames.ROW),b.getRowFromElement(d.item[0]).trigger(b._event.MODELESS)},
update:function(a,d){var e={row:b.getRowFromElement(d.item[0]),item:d.item,nextItem:d.item.next(),prevItem:d.item.prev()};b.move(e)},axis:"y",delay:0,containment:"document",cursor:"move",scroll:!0,zIndex:8E3}),this.$tbody.bind("selectstart mousedown",function(a){return!(0,e.default)(a.target).is("."+b.classNames.DRAG_HANDLE)}));!1!==this.options.allowCreate&&(this._createRow=(new this.options.views.editRow({columns:this.options.columns,isCreateRow:!0,model:this.options.model.extend({url:function(){return b.options.resources.self}}),
cancelAccessKey:this.options.cancelAccessKey,submitAccessKey:this.options.submitAccessKey,allowReorder:this.options.allowReorder,fieldFocusSelector:this.options.fieldFocusSelector})).bind(this._event.CREATED,function(a){b.options.addPosition==void 0&&b.options.createPosition==="bottom"||b.options.addPosition==="bottom"?b.addRow(a):b.addRow(a,0)}).bind(this._event.VALIDATION_ERROR,function(){this.trigger(b._event.FOCUS)}).render({errors:{},values:{}}),this.$create=(0,e.default)('<tbody class="'+this.classNames.CREATE+
'" />').append(this._createRow.el),this._applyFocusCoordinator(this._createRow),this._createRow.trigger(this._event.FOCUS));this._models.bind("remove",function(a){b.getRows().forEach(function(d){if(d.model===a){d.hasFocus()&&b._createRow&&b._createRow.trigger(b._event.FOCUS);b.removeRow(d)}})});this.fetchInitialResources()},fetchInitialResources:function(){var a=this;e.default.isFunction(this.options.resources.all)?this.options.resources.all(function(b){a.populate(b)}):e.default.get(this.options.resources.all,
function(b){a.populate(b)})},move:function(a){var b=this,c=function(a){return a.length?{after:b.getRowFromElement(a).model.url()}:{position:"First"}};a.row&&(c=b.options.reverseOrder?c(a.nextItem):c(a.prevItem),e.default.ajax({url:a.row.model.url()+"/move",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(c),complete:function(){a.row.hideLoading()},success:function(a){j(b._event.REORDER_SUCCESS,b,[a])},error:function(a){var c=e.default.parseJSON(a.responseText||a.data);
j(b._event.SERVER_ERROR,b,[c,a,this])}}),a.row.showLoading())},_createCollection:function(){var a=this;return new (this.options.Collection.extend({sort:function(b){b||(b={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.tableRows=a.getRows();this.models=this.sortBy(this.comparator,this);this.tableRows=void 0;b.silent||this.trigger("refresh",this,b);return this},remove:function(b,c){this.tableRows=a.getRows();o.default.Collection.prototype.remove.apply(this,arguments);
this.tableRows=void 0;return this}}))([],{comparator:function(b){var c;(this&&void 0!==this.tableRows?this.tableRows:a.getRows()).some(function(a,e){if(a.model.id===b.id)return c=e,!0});return c}})},populate:function(a){this.options.reverseOrder&&a.reverse();this.hideGlobalLoading();a&&a.length?(this._models.reset([],{silent:!0}),this.renderRows(a),this.isEmpty()&&this.showNoEntriesMsg()):this.showNoEntriesMsg();this.$table.append(this.$thead);"bottom"===this.options.createPosition?this.$table.append(this.$tbody).append(this.$create):
this.$table.append(this.$create).append(this.$tbody);this.$table.removeClass(this.classNames.LOADING).trigger(this._event.INITIALIZED,[this]);j(this._event.INITIALIZED,this,[this]);this.options.autoFocus&&this.$table.find(":input:text:first").focus()},showGlobalLoading:function(){this.$loading||(this.$loading=(0,e.default)('<div class="aui-restfultable-init">'+(0,v.default)()+'<span class="aui-restfultable-loading">'+this.options.loadingMsg+"</span></div>"));this.$loading.is(":visible")||this.$loading.insertAfter(this.$table);
return this},hideGlobalLoading:function(){this.$loading&&this.$loading.remove();return this},addRow:function(a,b){var c,d;if(!a.id)throw Error("RestfulTable.addRow: to add a row values object must contain an id. Maybe you are not returning it from your restend point?Recieved:"+JSON.stringify(a));d=new this.options.model(a);c=this._renderRow(d,b);this._models.add(d);this.removeNoEntriesMsg();j(this._event.ROW_ADDED,this,[c,this]);return this},removeRow:function(a){this._models.remove(a.model);a.remove();
this.isEmpty()&&this.showNoEntriesMsg();j(this._event.ROW_REMOVED,this,[a,this])},isEmpty:function(){return 0===this._models.length},getModels:function(){return this._models},getTable:function(){return this.$table},getTableBody:function(){return this.$tbody},getCreateRow:function(){return this._createRow},getColumnCount:function(){var a=2;this.allowReorder&&++a;return this.options.columns.length+a},getRowFromElement:function(a){return(0,e.default)(a).data(this.dataKeys.ROW_VIEW)},showNoEntriesMsg:function(){this.$noEntries&&
this.$noEntries.remove();this.$noEntries=(0,e.default)("<tr>").addClass(this.classNames.NO_ENTRIES).append((0,e.default)("<td>").attr("colspan",this.getColumnCount()).text(this.options.noEntriesMsg)).appendTo(this.$tbody);return this},removeNoEntriesMsg:function(){this.$noEntries&&0<this._models.length&&this.$noEntries.remove();return this},getRows:function(){var a=this,b=[];this.$tbody.find("."+this.classNames.READ_ONLY).each(function(){var c=(0,e.default)(this).data(a.dataKeys.ROW_VIEW);c&&b.push(c)});
return b},_renderRow:function(a,b){var c=this,d=this.$tbody.find("."+this.classNames.READ_ONLY),e,f;f=new this._rowClass({model:a,columns:this.options.columns,allowEdit:this.options.allowEdit,allowDelete:this.options.allowDelete,allowReorder:this.options.allowReorder,deleteConfirmation:this.options.deleteConfirmation});this.removeNoEntriesMsg();f.bind(this._event.ROW_EDIT,function(a){j(this._event.EDIT_ROW,{},[this,c]);c.edit(this,a)});e=f.render().$el;-1!==b&&("number"===typeof b&&0!==d.length?e.insertBefore(d[b]):
this.$tbody.append(e));e.data(this.dataKeys.ROW_VIEW,f);f.bind(this._event.MODAL,function(){c.$table.removeClass(c.classNames.ALLOW_HOVER);c.$tbody.sortable("disable");c.getRows().forEach(function(a){c.isRowBeingEdited(a)||a.delegateEvents({})})});f.bind(this._event.MODELESS,function(){c.$table.addClass(c.classNames.ALLOW_HOVER);c.$tbody.sortable("enable");c.getRows().forEach(function(a){c.isRowBeingEdited(a)||a.delegateEvents()})});this._applyFocusCoordinator(f);this.trigger(this._event.ROW_INITIALIZED,
f);return f},isRowBeingEdited:function(a){var b=!1;this.editRows.some(function(c){if(c.el===a.el)return b=!0});return b},_applyFocusCoordinator:function(a){var b=this;a.hasFocusBound||(a.hasFocusBound=!0,a.bind(this._event.FOCUS,function(){b.focusedRow&&b.focusedRow!==a&&b.focusedRow.trigger(b._event.BLUR);b.focusedRow=a;a instanceof q.default&&b._createRow&&b._createRow.enable()}));return this},_removeEditRow:function(a){a=e.default.inArray(a,this.editRows);this.editRows.splice(a,1);return this},
_shiftFocusAfterEdit:function(){0<this.editRows.length?this.editRows[this.editRows.length-1].trigger(this._event.FOCUS):this._createRow&&this._createRow.trigger(this._event.FOCUS);return this},_saveEditRowOnBlur:function(){return 1>=this.editRows.length},dismissEditRows:function(){this.editRows.forEach(function(a){a.hasUpdates()||a.trigger(this._event.FINISHED_EDITING)},this)},edit:function(a,b){var c=this,d=new this.options.views.editRow({el:a.el,columns:this.options.columns,isUpdateMode:!0,allowReorder:this.options.allowReorder,
fieldFocusSelector:this.options.fieldFocusSelector,model:a.model,cancelAccessKey:this.options.cancelAccessKey,submitAccessKey:this.options.submitAccessKey}),e=a.model.toJSON();e.update=!0;d.render({errors:{},update:!0,values:e}).bind(c._event.UPDATED,function(b,d){c._removeEditRow(this);this.unbind();a.render().delegateEvents();a.trigger(c._event.UPDATED);!1!==d&&c._shiftFocusAfterEdit()}).bind(c._event.VALIDATION_ERROR,function(){this.trigger(c._event.FOCUS)}).bind(c._event.FINISHED_EDITING,function(){c._removeEditRow(this);
a.render().delegateEvents();this.unbind()}).bind(c._event.CANCEL,function(){c._removeEditRow(this);this.unbind();a.render().delegateEvents();c._shiftFocusAfterEdit()}).bind(c._event.BLUR,function(){c.dismissEditRows();c._saveEditRowOnBlur()&&this.trigger(c._event.SAVE,!1)});this._applyFocusCoordinator(d);d.trigger(c._event.FOCUS,b);c._createRow&&c._createRow.disable();this.editRows.push(d);return d},renderRows:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],c=this._models.comparator,
d=[];this._models.comparator=void 0;b=b.map(function(b){b=new a.options.model(b);d.push(a._renderRow(b,-1).el);return b});this._models.add(b,{silent:!0});this._models.comparator=c;this.removeNoEntriesMsg();this.$tbody.append(d);return this},_getDefaultOptions:function(a){return{model:a.model||p.default,allowEdit:!0,views:{editRow:t.default,row:q.default},Collection:o.default.Collection.extend({url:a.resources.self,model:a.model||p.default}),allowReorder:!1,fieldFocusSelector:function(a){return":input[name="+
a+"], #"+a},loadingMsg:a.loadingMsg||"Loading"}}});g.ClassNames=r.default;g.CustomCreateView=l.default;g.CustomEditView=h.default;g.CustomReadView=k.default;g.DataKeys=s.default;g.EditRow=t.default;g.EntryModel=p.default;g.Events=u.default;g.Row=q.default;g.Throbber=v.default;(0,w.default)("RestfulTable",g);m.default=g;return m=m["default"]}.call(this);;
;
/* module-key = 'ru.mail.jira.plugins.todolist:todolist-resources', location = '/ru/mail/jira/plugins/todolist/js/todolist.js' */
require(["jquery","underscore","backbone"],function(f,d,h){var c=h.Model.extend({});var b=h.Collection.extend({model:c});var e=h.View.extend({events:{"click .todolist-editor-table-add-row":"addItem","click .todolist-editor-table-edit-btn":"enableEditor","click .todolist-editor-table-remove-btn":"removeItem","click .todolist-editor-table-save-btn":"saveItem","click .todolist-editor-table-cancel-btn":"onCancelClick","change .todocheckbox":"toggleItemDone","click .todolist-editor-table-text-column":"onTextColumnClick","mouseover tr":"highlightOn","mouseout tr":"highlightOff"},initialize:function(i){this.isPanel=this.$el.closest(".todo-panel").length>0;this.id=this.el.id;this.cfId=i.cfId;this.editable=i.editable;this.issueKey=this.$el.closest(".todo-panel").data("issue-key");this.$cf=this.$el.parent().find("[name="+i.cfId+"]");this.collection=new b(f.evalJSON(this.$cf.val()));this.statuses=f.evalJSON(this.$el.closest(".todolist-container").find("#"+this.cfId+"\\:statuses").val());this.initDropdownEvents();this.collection.on("change",this.updateCF,this);this.collection.on("remove",this.updateCF,this);this.collection.on("add",this.updateCF,this)},initDropdownEvents:function(){var l=this.$el.find("tr").length;var j=this;for(var k=1;k<=l;k++){this.$(AJS.format("#todolist-editor-table-status-{0}{1}",this.id,k)).on({"aui-dropdown2-show":function(){j.$(AJS.format("[aria-controls={0}]",this.id)).closest("tr").addClass("todolist-editor-table-row-selected")},"aui-dropdown2-hide":function(){j.$(AJS.format("[aria-controls={0}]",this.id)).closest("tr").removeClass("todolist-editor-table-row-selected")}})}this.$(".todolist-editor-table-status-na").on("click",f.proxy(this.setNaStatus,this));this.$(".todolist-editor-table-status-progress").on("click",f.proxy(this.setProgressStatus,this));this.$(".todolist-editor-table-status-blocked").on("click",f.proxy(this.setBlockedStatus,this));this.$(".todolist-editor-table-status-custom").on("click",f.proxy(this.setCustomStatus,this));this.$(".todolist-editor-table-status-clear").on("click",f.proxy(this.onClearStatusClick,this))},updateCF:function(){this.$cf.val(f.toJSON(this.collection.toJSON()));if(this.isPanel){f.ajax({type:"POST",data:{items:f.toJSON((this.collection.toJSON()))},url:AJS.contextPath()+"/rest/todolist/1.0/todolist/"+this.issueKey+"/"+this.cfId,error:function(k,i,j){alert(k.responseText)}})}},reloadCF:function(){if(this.isPanel){f.ajax({type:"GET",context:this,url:AJS.contextPath()+"/rest/todolist/1.0/todolist/"+this.issueKey+"/"+this.cfId,success:function(j,i,k){this.collection.reset(j);this.renderItems()},error:function(j,i,k){alert(j)}})}},highlightOn:function(i){f(i.currentTarget).addClass("highlight")},highlightOff:function(i){f(i.currentTarget).removeClass("highlight")},renderItems:function(){this.$el.html(JIRA.Templates.Plugins.TodoList.todoTable({items:this.collection.toJSON(),id:this.id,editable:this.editable,statuses:this.statuses}));for(var k=0;k<this.collection.length;k++){var j=this;this.$(AJS.format("#todolist-editor-table-status-{0}{1}",this.id,k)).on({"aui-dropdown2-show":function(){j.$(AJS.format("[aria-controls={0}]",this.id)).closest("tr").addClass("todolist-editor-table-row-selected")},"aui-dropdown2-hide":function(){j.$(AJS.format("[aria-controls={0}]",this.id)).closest("tr").removeClass("todolist-editor-table-row-selected")}});this.$(AJS.format("#todolist-editor-table-status-{0}{1} .todolist-editor-table-status-na",this.id,k)).on("click",f.proxy(this.setNaStatus,this));this.$(AJS.format("#todolist-editor-table-status-{0}{1} .todolist-editor-table-status-progress",this.id,k)).on("click",f.proxy(this.setProgressStatus,this));this.$(AJS.format("#todolist-editor-table-status-{0}{1} .todolist-editor-table-status-blocked",this.id,k)).on("click",f.proxy(this.setBlockedStatus,this));this.$(AJS.format("#todolist-editor-table-status-{0}{1} .todolist-editor-table-status-custom",this.id,k)).on("click",f.proxy(this.setCustomStatus,this));this.$(AJS.format("#todolist-editor-table-status-{0}{1} .todolist-editor-table-status-clear",this.id,k)).on("click",f.proxy(this.onClearStatusClick,this))}},addItem:function(k){if(this.collection.get(k)||!k){return}var j=new c({id:k,type:"todo_undone"});this.collection.add(j);this.$el.append(JIRA.Templates.Plugins.TodoList.tableNewRow({todoItem:j.toJSON(),id:this.id,count:this.collection.length,statuses:this.statuses}));var i=this;this.$(AJS.format("#todolist-editor-table-status-{0}{1}",this.id,this.collection.length)).on({"aui-dropdown2-show":function(){i.$(AJS.format("[aria-controls={0}]",this.id)).closest("tr").addClass("todolist-editor-table-row-selected")},"aui-dropdown2-hide":function(){i.$(AJS.format("[aria-controls={0}]",this.id)).closest("tr").removeClass("todolist-editor-table-row-selected")}});this.$(AJS.format("#todolist-editor-table-status-{0}{1} .todolist-editor-table-status-na",this.id,this.collection.length)).on("click",f.proxy(this.setNaStatus,this));this.$(AJS.format("#todolist-editor-table-status-{0}{1} .todolist-editor-table-status-progress",this.id,this.collection.length)).on("click",f.proxy(this.setProgressStatus,this));this.$(AJS.format("#todolist-editor-table-status-{0}{1} .todolist-editor-table-status-blocked",this.id,this.collection.length)).on("click",f.proxy(this.setBlockedStatus,this));this.$(AJS.format("#todolist-editor-table-status-{0}{1} .todolist-editor-table-status-custom",this.id,this.collection.length)).on("click",f.proxy(this.setCustomStatus,this));this.$(AJS.format("#todolist-editor-table-status-{0}{1} .todolist-editor-table-status-clear",this.id,this.collection.length)).on("click",f.proxy(this.onClearStatusClick,this))},enableEditor:function(l){var i=f(l.target).closest("tr");if(i.find(".todolist-editor").length){return}var j=i.find(".todolist-editor-table-todo-item");var k=this.collection.get(j.find(".todolist-editor-table-value").text());j.hide();i.addClass("todolist-editor-table-row-selected");i.find(".todolist-editor-table-status-btn").hide();j.after(JIRA.Templates.Plugins.TodoList.editor({todoItem:k.toJSON()}))},onCancelClick:function(i){this.disableEditor(f(i.target).closest("tr"))},disableEditor:function(i){i.removeClass("highlight").removeClass("todolist-editor-table-row-selected");i.find(".todolist-editor").remove();i.find(".todolist-editor-table-todo-item").show();i.find(".todolist-editor-table-status-btn").show()},onTextColumnClick:function(m){var i=f(m.target).closest("tr");if(i.find(".todolist-editor").length){return}var k=i.find(".todolist-editor-table-value");var l=this.collection.get({id:k.text()});if(l){var j=l.get("type")=="done";i.find(".todocheckbox").attr("checked",!j);l.set({type:j?"todo":"done"});k.removeClass(j?"todo_done":"todo_undone").addClass(!j?"todo_done":"todo_undone")}},toggleItemDone:function(m){var l=f(m.target);var i=l.closest("tr");var j=i.find(".todolist-editor-table-value");var k=this.collection.get({id:j.text()});if(k){if(l.attr("checked")){k.set({type:"done"});j.removeClass("todo_undone").addClass("todo_done")}else{k.set({type:"todo"});j.removeClass("todo_done").addClass("todo_undone")}}},saveItem:function(o){var i=f(o.target).closest("tr");var n=i.find(".todolist-editor");var m=n.find("textarea").val();if(!m){return}var j=i.find(".todolist-editor-table-todo-item");var k=j.find(".todolist-editor-table-value");var l=this.collection.get(k.text());if(l){l.set({id:m,mandatory:n.find("input.checkbox").prop("checked")?"mandatory":""});k.html(m);i.find(".todolist-editor-table-todo-item .aui-icon-required").remove();if(l.get("mandatory")){k.after(' <span class="aui-icon aui-icon-required">'+"Mandatory"+"</span>")}}this.disableEditor(i)},removeItem:function(k){k.preventDefault();if(confirm("Remove ToDo item from list?")){var i=f(k.target).closest("tr");var j=i.find(".todolist-editor-table-value").text();this.collection.remove({id:j});i.remove()}},onClearStatusClick:function(i){i.preventDefault();this.clearStatus(this.$(AJS.format("[aria-controls={0}]",f(i.target).closest(".aui-dropdown2")[0].id)).closest("tr"))},clearStatus:function(i){i.find(".todolist-editor-table-todo-item").find(".aui-lozenge").remove();var j=this.collection.get(i.find(".todolist-editor-table-value").text());j.set("status",null)},setStatus:function(i,j){var k=this.collection.get(i.find(".todolist-editor-table-value").text());k.set("status",j)},setBlockedStatus:function(k){k.preventDefault();var i=f(k.target).closest(".aui-dropdown2")[0];var j=this.$(AJS.format("[aria-controls={0}]",i.id)).closest("tr");this.clearStatus(j);this.setStatus(j,"blocked");j.find(".todolist-editor-table-value").before('<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-error">Blocked</span>')},setProgressStatus:function(k){k.preventDefault();var i=f(k.target).closest(".aui-dropdown2")[0];var j=this.$(AJS.format("[aria-controls={0}{1}]",i.id)).closest("tr");this.clearStatus(j);this.setStatus(j,"progress");j.find(".todolist-editor-table-value").before('<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-current">In Progress</span>')},setCustomStatus:function(l){l.preventDefault();var j=d.findWhere(this.statuses,{id:parseInt(f(l.target).attr("data-id"))});var i=f(l.target).closest(".aui-dropdown2")[0];var k=this.$(AJS.format("[aria-controls={0}{1}]",i.id)).closest("tr");this.clearStatus(k);this.setStatus(k,j);k.find(".todolist-editor-table-value").before('<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-'+j.type+'">'+j.name+"</span>")},setNaStatus:function(k){k.preventDefault();var i=f(k.target).closest(".aui-dropdown2")[0];var j=this.$(AJS.format("[aria-controls={0}]",i.id)).closest("tr");this.clearStatus(j);this.setStatus(j,"na");j.find(".todolist-editor-table-value").before('<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-complete">N/A</span>')}});function g(m){var l=m.find(".todolist-editor-table");for(var o=0;o<l.length;o++){var k=f(l[o]);var q=k.closest(".todolist-container");var j=k.data("cf-id");var p=k.data("editor");if(k.length&&!p){var n=new e({el:k,cfId:j,editable:true});k.data("editor",n);q.find(".todolist-add input").on("keydown",function(s){if(s.keyCode===13){s.preventDefault();var r=f(this);var i=r.closest(".todolist-container").find(".todolist-editor-table").data("editor");i.addItem(r.val());r.val("")}});q.find(".todolist-add-btn").on("click",function(s){s.preventDefault();var r=f(this).closest(".todolist-add").find(".text");var i=r.closest(".todolist-container").find(".todolist-editor-table").data("editor");i.addItem(r.val());r.val("")})}else{if(p){p.reloadCF()}}}}function a(){var l=f(".todo-panel");for(var k=0;k<l.length;k++){var j=f(l[k]).data("cf-id");f("#"+j+"-val").closest("li.item").addClass("hidden");f("#customfield_"+j+"-val").closest("li.item").addClass("hidden")}}AJS.toInit(function(){JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(j,i){g(i);a()});g(f(document));a()})});;
;
/* module-key = 'ru.mail.jira.plugins.todolist:todolist-resources', location = '/ru/mail/jira/plugins/todolist/js/jquery.json-2.3.js' */
(function($){var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};$.toJSON=typeof JSON==="object"&&JSON.stringify?JSON.stringify:function(o){if(o===null){return"null"}var type=typeof o;if(type==="undefined"){return undefined}if(type==="number"||type==="boolean"){return""+o}if(type==="string"){return $.quoteString(o)}if(type==="object"){if(typeof o.toJSON==="function"){return $.toJSON(o.toJSON())}if(o.constructor===Date){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();if(month<10){month="0"+month}if(day<10){day="0"+day}if(hours<10){hours="0"+hours}if(minutes<10){minutes="0"+minutes}if(seconds<10){seconds="0"+seconds}if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++){ret.push($.toJSON(o[i])||"null")}return"["+ret.join(",")+"]"}var name,val,pairs=[];for(var k in o){type=typeof k;if(type==="number"){name='"'+k+'"'}else{if(type==="string"){name=$.quoteString(k)}else{continue}}type=typeof o[k];if(type==="function"||type==="undefined"){continue}val=$.toJSON(o[k]);pairs.push(name+":"+val)}return"{"+pairs.join(",")+"}"}};$.evalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(src){return eval("("+src+")")};$.secureEvalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(src){var filtered=src.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")")}else{throw new SyntaxError("Error parsing JSON, source is not valid.")}};$.quoteString=function(string){if(string.match(escapeable)){return'"'+string.replace(escapeable,function(a){var c=meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+string+'"'}})(jQuery);;
;
/* module-key = 'ru.mail.jira.plugins.todolist:todolist-resources', location = '/ru/mail/jira/plugins/todolist/js/todolist-templates.soy' */
// This file was automatically generated from todolist-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Plugins.TodoList.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Plugins == 'undefined') { JIRA.Templates.Plugins = {}; }
if (typeof JIRA.Templates.Plugins.TodoList == 'undefined') { JIRA.Templates.Plugins.TodoList = {}; }


JIRA.Templates.Plugins.TodoList.editor = function(opt_data, opt_ignored) {
  return '<div class="todolist-editor"><textarea class="textarea">' + soy.$$escapeHtml(opt_data.todoItem.id) + '</textarea><div class="todolist-editor-actions"><div class="checkbox"><label><input class="checkbox" type="checkbox" ' + soy.$$escapeHtml(opt_data.todoItem.mandatory == 'mandatory' ? 'checked' : '') + '>' + soy.$$escapeHtml("Mandatory") + '</label></div><div class="todolist-editor-table-remove-btn aui-button aui-button-link"><span class=\'aui-icon aui-icon-small aui-iconfont-delete\'/>' + soy.$$escapeHtml("Delete") + '</div></div><div class="todolist-editor-buttons"><div class="todolist-editor-table-save-btn aui-button aui-button-primary">' + soy.$$escapeHtml("Save") + '</div><div class="todolist-editor-table-cancel-btn aui-button">' + soy.$$escapeHtml("Cancel") + '</div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.TodoList.editor.soyTemplateName = 'JIRA.Templates.Plugins.TodoList.editor';
}


JIRA.Templates.Plugins.TodoList.tableNewRow = function(opt_data, opt_ignored) {
  var output = '<tr><td width="16px"><input class=\'todocheckbox\' type=\'checkbox\' value=\'true\'/></td><td class="todolist-editor-table-text-column"><div class="todolist-editor-table-todo-item"><span class="todolist-editor-table-value todo_undone">' + soy.$$escapeHtml(opt_data.todoItem.id) + '</span></div></td><td width="16px"><span class="todolist-editor-table-edit-btn aui-icon aui-icon-small aui-iconfont-edit"/></td><td width="16px"><span aria-owns="todolist-editor-table-status-' + soy.$$escapeHtml(opt_data.id) + soy.$$escapeHtml(opt_data.count) + '" aria-haspopup="true"  class="todolist-editor-table-status-btn aui-icon aui-icon-small aui-iconfont-more aui-dropdown2-trigger aui-dropdown2-trigger-arrowless"/><div id="todolist-editor-table-status-' + soy.$$escapeHtml(opt_data.id) + soy.$$escapeHtml(opt_data.count) + '" class="aui-style-default aui-dropdown2 todolist-editor-table-status-dropdown"><div class="aui-dropdown2-section"><div class="aui-dropdown2-heading"><strong>' + soy.$$escapeHtml("Standard Statuses") + '</strong></div><ul><li><a class="todolist-editor-table-status-na" href="#">' + soy.$$escapeHtml("Not applicable") + '</a></li><li><a class="todolist-editor-table-status-progress" href="#">' + soy.$$escapeHtml("In Progress") + '</a></li><li><a class="todolist-editor-table-status-blocked" href="#">' + soy.$$escapeHtml("Blocked") + '</a></li></ul>';
  if (opt_data.statuses.length > 0) {
    output += '<div class="aui-dropdown2-heading"><strong>' + soy.$$escapeHtml("Custom Statuses") + '</strong></div><ul>';
    var statusList39 = opt_data.statuses;
    var statusListLen39 = statusList39.length;
    for (var statusIndex39 = 0; statusIndex39 < statusListLen39; statusIndex39++) {
      var statusData39 = statusList39[statusIndex39];
      output += '<li><a class="todolist-editor-table-status" href="#" data-id="' + soy.$$escapeHtml(statusData39.id) + '">' + soy.$$escapeHtml(statusData39.name) + '</a></li>';
    }
    output += '</ul>';
  }
  output += '</div><div class="aui-dropdown2-section"><ul><li><a class="todolist-editor-table-status-clear" href="#"><span class=\'aui-icon aui-icon-small aui-iconfont-delete\'/> ' + soy.$$escapeHtml("Clear status") + '</a></li></ul></div></div></td></tr>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.TodoList.tableNewRow.soyTemplateName = 'JIRA.Templates.Plugins.TodoList.tableNewRow';
}


JIRA.Templates.Plugins.TodoList.todoTable = function(opt_data, opt_ignored) {
  var output = '';
  var itemList51 = opt_data.items;
  var itemListLen51 = itemList51.length;
  for (var itemIndex51 = 0; itemIndex51 < itemListLen51; itemIndex51++) {
    var itemData51 = itemList51[itemIndex51];
    output += '<tr><td width="16px"><input class=\'todocheckbox\' type=\'checkbox\' ' + ((itemData51.type == 'done') ? 'checked="checked"' : '') + ' value=\'true\'/></td><td class="todolist-editor-table-text-column"><div class="todolist-editor-table-todo-item">' + ((itemData51.status == 'na') ? '<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-complete">' + soy.$$escapeHtml("Not applicable") + '</span>' : (itemData51.status == 'progress') ? '<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-current">' + soy.$$escapeHtml("In Progress") + '</span>' : (itemData51.status == 'blocked') ? '<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-error">' + soy.$$escapeHtml("Blocked") + '</span>' : (itemData51.status != null) ? '<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-' + soy.$$escapeHtml(itemData51.status.type) + '">' + soy.$$escapeHtml(itemData51.status.name) + '</span>' : '') + '<span class="todolist-editor-table-value ' + ((itemData51.type == 'done') ? 'todo_done' : 'todo_undone') + '">' + soy.$$escapeHtml(itemData51.id) + '</span>' + ((itemData51.mandatory) ? '<span class="aui-icon aui-icon-required"> ' + soy.$$escapeHtml("Mandatory") + '</span>' : '') + '</div></td>';
    if (opt_data.editable) {
      output += '<td width="16px"><span class="todolist-editor-table-edit-btn aui-icon aui-icon-small aui-iconfont-edit"/></td><td width="16px"><span aria-owns="todolist-editor-table-status-' + soy.$$escapeHtml(opt_data.id) + soy.$$escapeHtml(itemIndex51) + '" aria-haspopup="true"  class="todolist-editor-table-status-btn aui-icon aui-icon-small aui-iconfont-more aui-dropdown2-trigger aui-dropdown2-trigger-arrowless"/><div id="todolist-editor-table-status-' + soy.$$escapeHtml(opt_data.id) + soy.$$escapeHtml(itemIndex51) + '" class="aui-style-default aui-dropdown2 todolist-editor-table-status-dropdown"><div class="aui-dropdown2-section"><div class="aui-dropdown2-heading"><strong>' + soy.$$escapeHtml("Standard Statuses") + '</strong></div><ul><li><a class="todolist-editor-table-status-na" href="#">' + soy.$$escapeHtml("Not applicable") + '</a></li><li><a class="todolist-editor-table-status-progress" href="#">' + soy.$$escapeHtml("In Progress") + '</a></li><li><a class="todolist-editor-table-status-blocked" href="#">' + soy.$$escapeHtml("Blocked") + '</a></li></ul>';
      if (opt_data.statuses.length > 0) {
        output += '<div class="aui-dropdown2-heading"><strong>' + soy.$$escapeHtml("Custom Statuses") + '</strong></div><ul>';
        var statusList113 = opt_data.statuses;
        var statusListLen113 = statusList113.length;
        for (var statusIndex113 = 0; statusIndex113 < statusListLen113; statusIndex113++) {
          var statusData113 = statusList113[statusIndex113];
          output += '<li><a class="todolist-editor-table-status-custom" href="#" data-id="' + soy.$$escapeHtml(statusData113.id) + '">' + soy.$$escapeHtml(statusData113.name) + '</a></li>';
        }
        output += '</ul>';
      }
      output += '</div><div class="aui-dropdown2-section"><ul><li><a class="todolist-editor-table-status-clear" href="#"><span class=\'aui-icon aui-icon-small aui-iconfont-delete\'/> ' + soy.$$escapeHtml("Clear status") + '</a></li></ul></div></div></td>';
    }
    output += '</tr>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.TodoList.todoTable.soyTemplateName = 'JIRA.Templates.Plugins.TodoList.todoTable';
}
;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/lib/backbone.js' */
(function(){var u=this;var B=u.Backbone;var g=[];var D=g.push;var n=g.slice;var t=g.splice;var z;if(typeof exports!=="undefined"){z=exports}else{z=u.Backbone={}}z.VERSION="1.0.0";var L=u._;if(!L&&(typeof require!=="undefined")){L=require("underscore")}z.$=u.jQuery||u.Zepto||u.ender||u.$;z.noConflict=function(){u.Backbone=B;return this};z.emulateHTTP=false;z.emulateJSON=false;var J=z.Events={on:function(M,P,O){if(!x(this,"on",M,[P,O])||!P){return this}this._events||(this._events={});var N=this._events[M]||(this._events[M]=[]);N.push({callback:P,context:O,ctx:O||this});return this},once:function(N,Q,O){if(!x(this,"once",N,[Q,O])||!Q){return this}var M=this;var P=L.once(function(){M.off(N,P);Q.apply(this,arguments)});P._callback=Q;return this.on(N,P,O)},off:function(M,V,N){var T,U,W,S,R,O,Q,P;if(!this._events||!x(this,"off",M,[V,N])){return this}if(!M&&!V&&!N){this._events={};return this}S=M?[M]:L.keys(this._events);for(R=0,O=S.length;R<O;R++){M=S[R];if(W=this._events[M]){this._events[M]=T=[];if(V||N){for(Q=0,P=W.length;Q<P;Q++){U=W[Q];if((V&&V!==U.callback&&V!==U.callback._callback)||(N&&N!==U.context)){T.push(U)}}}if(!T.length){delete this._events[M]}}}return this},trigger:function(O){if(!this._events){return this}var N=n.call(arguments,1);if(!x(this,"trigger",O,N)){return this}var P=this._events[O];var M=this._events.all;if(P){b(P,N)}if(M){b(M,arguments)}return this},stopListening:function(P,M,R){var N=this._listeners;if(!N){return this}var O=!M&&!R;if(typeof M==="object"){R=this}if(P){(N={})[P._listenerId]=P}for(var Q in N){N[Q].off(M,R,this);if(O){delete this._listeners[Q]}}return this}};var w=/\s+/;var x=function(T,R,N,Q){if(!N){return true}if(typeof N==="object"){for(var P in N){T[R].apply(T,[P,N[P]].concat(Q))}return false}if(w.test(N)){var S=N.split(w);for(var O=0,M=S.length;O<M;O++){T[R].apply(T,[S[O]].concat(Q))}return false}return true};var b=function(R,P){var S,Q=-1,O=R.length,N=P[0],M=P[1],T=P[2];switch(P.length){case 0:while(++Q<O){(S=R[Q]).callback.call(S.ctx)}return;case 1:while(++Q<O){(S=R[Q]).callback.call(S.ctx,N)}return;case 2:while(++Q<O){(S=R[Q]).callback.call(S.ctx,N,M)}return;case 3:while(++Q<O){(S=R[Q]).callback.call(S.ctx,N,M,T)}return;default:while(++Q<O){(S=R[Q]).callback.apply(S.ctx,P)}}};var C={listenTo:"on",listenToOnce:"once"};L.each(C,function(M,N){J[N]=function(Q,O,S){var P=this._listeners||(this._listeners={});var R=Q._listenerId||(Q._listenerId=L.uniqueId("l"));P[R]=Q;if(typeof O==="object"){S=this}Q[M](O,S,this);return this}});J.bind=J.on;J.unbind=J.off;L.extend(z,J);var E=z.Model=function(M,O){var P;var N=M||{};O||(O={});this.cid=L.uniqueId("c");this.attributes={};L.extend(this,L.pick(O,F));if(O.parse){N=this.parse(N,O)||{}}if(P=L.result(this,"defaults")){N=L.defaults({},N,P)}this.set(N,O);this.changed={};this.initialize.apply(this,arguments)};var F=["url","urlRoot","collection"];L.extend(E.prototype,J,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(M){return L.clone(this.attributes)},sync:function(){return z.sync.apply(this,arguments)},get:function(M){return this.attributes[M]},escape:function(M){return L.escape(this.get(M))},has:function(M){return this.get(M)!=null},set:function(U,M,Y){var S,V,W,T,R,X,O,Q;if(U==null){return this}if(typeof U==="object"){V=U;Y=M}else{(V={})[U]=M}Y||(Y={});if(!this._validate(V,Y)){return false}W=Y.unset;R=Y.silent;T=[];X=this._changing;this._changing=true;if(!X){this._previousAttributes=L.clone(this.attributes);this.changed={}}Q=this.attributes,O=this._previousAttributes;if(this.idAttribute in V){this.id=V[this.idAttribute]}for(S in V){M=V[S];if(!L.isEqual(Q[S],M)){T.push(S)}if(!L.isEqual(O[S],M)){this.changed[S]=M}else{delete this.changed[S]}W?delete Q[S]:Q[S]=M}if(!R){if(T.length){this._pending=true}for(var P=0,N=T.length;P<N;P++){this.trigger("change:"+T[P],this,Q[T[P]],Y)}}if(X){return this}if(!R){while(this._pending){this._pending=false;this.trigger("change",this,Y)}}this._pending=false;this._changing=false;return this},unset:function(M,N){return this.set(M,void 0,L.extend({},N,{unset:true}))},clear:function(N){var M={};for(var O in this.attributes){M[O]=void 0}return this.set(M,L.extend({},N,{unset:true}))},hasChanged:function(M){if(M==null){return !L.isEmpty(this.changed)}return L.has(this.changed,M)},changedAttributes:function(O){if(!O){return this.hasChanged()?L.clone(this.changed):false}var Q,P=false;var N=this._changing?this._previousAttributes:this.attributes;for(var M in O){if(L.isEqual(N[M],(Q=O[M]))){continue}(P||(P={}))[M]=Q}return P},previous:function(M){if(M==null||!this._previousAttributes){return null}return this._previousAttributes[M]},previousAttributes:function(){return L.clone(this._previousAttributes)},fetch:function(N){N=N?L.clone(N):{};if(N.parse===void 0){N.parse=true}var M=this;var O=N.success;N.success=function(P){if(!M.set(M.parse(P,N),N)){return false}if(O){O(M,P,N)}M.trigger("sync",M,P,N)};H(this,N);return this.sync("read",this,N)},save:function(Q,N,U){var R,M,T,O=this.attributes;if(Q==null||typeof Q==="object"){R=Q;U=N}else{(R={})[Q]=N}if(R&&(!U||!U.wait)&&!this.set(R,U)){return false}U=L.extend({validate:true},U);if(!this._validate(R,U)){return false}if(R&&U.wait){this.attributes=L.extend({},O,R)}if(U.parse===void 0){U.parse=true}var P=this;var S=U.success;U.success=function(W){P.attributes=O;var V=P.parse(W,U);if(U.wait){V=L.extend(R||{},V)}if(L.isObject(V)&&!P.set(V,U)){return false}if(S){S(P,W,U)}P.trigger("sync",P,W,U)};H(this,U);M=this.isNew()?"create":(U.patch?"patch":"update");if(M==="patch"){U.attrs=R}T=this.sync(M,this,U);if(R&&U.wait){this.attributes=O}return T},destroy:function(N){N=N?L.clone(N):{};var M=this;var Q=N.success;var O=function(){M.trigger("destroy",M,M.collection,N)};N.success=function(R){if(N.wait||M.isNew()){O()}if(Q){Q(M,R,N)}if(!M.isNew()){M.trigger("sync",M,R,N)}};if(this.isNew()){N.success();return false}H(this,N);var P=this.sync("delete",this,N);if(!N.wait){O()}return P},url:function(){var M=L.result(this,"urlRoot")||L.result(this.collection,"url")||r();if(this.isNew()){return M}return M+(M.charAt(M.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(N,M){return N},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(M){return this._validate({},L.extend(M||{},{validate:true}))},_validate:function(O,N){if(!N.validate||!this.validate){return true}O=L.extend({},this.attributes,O);var M=this.validationError=this.validate(O,N)||null;if(!M){return true}this.trigger("invalid",this,M,L.extend(N||{},{validationError:M}));return false}});var a=["keys","values","pairs","invert","pick","omit"];L.each(a,function(M){E.prototype[M]=function(){var N=n.call(arguments);N.unshift(this.attributes);return L[M].apply(L,N)}});var c=z.Collection=function(N,M){M||(M={});if(M.url){this.url=M.url}if(M.model){this.model=M.model}if(M.comparator!==void 0){this.comparator=M.comparator}this._reset();this.initialize.apply(this,arguments);if(N){this.reset(N,L.extend({silent:true},M))}};var o={add:true,remove:true,merge:true};var K={add:true,merge:false,remove:false};L.extend(c.prototype,J,{model:E,initialize:function(){},toJSON:function(M){return this.map(function(N){return N.toJSON(M)})},sync:function(){return z.sync.apply(this,arguments)},add:function(N,M){return this.set(N,L.defaults(M||{},K))},remove:function(R,P){R=L.isArray(R)?R.slice():[R];P||(P={});var Q,M,O,N;for(Q=0,M=R.length;Q<M;Q++){N=this.get(R[Q]);if(!N){continue}delete this._byId[N.id];delete this._byId[N.cid];O=this.indexOf(N);this.models.splice(O,1);this.length--;if(!P.silent){P.index=O;N.trigger("remove",N,this,P)}this._removeReference(N)}return this},set:function(N,Z){Z=L.defaults(Z||{},o);if(Z.parse){N=this.parse(N,Z)}if(!L.isArray(N)){N=N?[N]:[]}var U,Q,W,X,O,V;var P=Z.at;var T=this.comparator&&(P==null)&&Z.sort!==false;var R=L.isString(this.comparator)?this.comparator:null;var Y=[],M=[],S={};for(U=0,Q=N.length;U<Q;U++){if(!(W=this._prepareModel(N[U],Z))){continue}if(O=this.get(W)){if(Z.remove){S[O.cid]=true}if(Z.merge){O.set(W.attributes,Z);if(T&&!V&&O.hasChanged(R)){V=true}}}else{if(Z.add){Y.push(W);W.on("all",this._onModelEvent,this);this._byId[W.cid]=W;if(W.id!=null){this._byId[W.id]=W}}}}if(Z.remove){for(U=0,Q=this.length;U<Q;++U){if(!S[(W=this.models[U]).cid]){M.push(W)}}if(M.length){this.remove(M,Z)}}if(Y.length){if(T){V=true}this.length+=Y.length;if(P!=null){t.apply(this.models,[P,0].concat(Y))}else{D.apply(this.models,Y)}}if(V){this.sort({silent:true})}if(Z.silent){return this}for(U=0,Q=Y.length;U<Q;U++){(W=Y[U]).trigger("add",W,this,Z)}if(V){this.trigger("sort",this,Z)}return this},reset:function(P,N){N||(N={});for(var O=0,M=this.models.length;O<M;O++){this._removeReference(this.models[O])}N.previousModels=this.models;this._reset();this.add(P,L.extend({silent:true},N));if(!N.silent){this.trigger("reset",this,N)}return this},push:function(N,M){N=this._prepareModel(N,M);this.add(N,L.extend({at:this.length},M));return N},pop:function(N){var M=this.at(this.length-1);this.remove(M,N);return M},unshift:function(N,M){N=this._prepareModel(N,M);this.add(N,L.extend({at:0},M));return N},shift:function(N){var M=this.at(0);this.remove(M,N);return M},slice:function(N,M){return this.models.slice(N,M)},get:function(M){if(M==null){return void 0}return this._byId[M.id!=null?M.id:M.cid||M]},at:function(M){return this.models[M]},where:function(M,N){if(L.isEmpty(M)){return N?void 0:[]}return this[N?"find":"filter"](function(O){for(var P in M){if(M[P]!==O.get(P)){return false}}return true})},findWhere:function(M){return this.where(M,true)},sort:function(M){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}M||(M={});if(L.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(L.bind(this.comparator,this))}if(!M.silent){this.trigger("sort",this,M)}return this},sortedIndex:function(M,P,N){P||(P=this.comparator);var O=L.isFunction(P)?P:function(Q){return Q.get(P)};return L.sortedIndex(this.models,M,O,N)},pluck:function(M){return L.invoke(this.models,"get",M)},fetch:function(M){M=M?L.clone(M):{};if(M.parse===void 0){M.parse=true}var O=M.success;var N=this;M.success=function(P){var Q=M.reset?"reset":"set";N[Q](P,M);if(O){O(N,P,M)}N.trigger("sync",N,P,M)};H(this,M);return this.sync("read",this,M)},create:function(N,M){M=M?L.clone(M):{};if(!(N=this._prepareModel(N,M))){return false}if(!M.wait){this.add(N,M)}var P=this;var O=M.success;M.success=function(Q){if(M.wait){P.add(N,M)}if(O){O(N,Q,M)}};N.save(null,M);return N},parse:function(N,M){return N},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(O,N){if(O instanceof E){if(!O.collection){O.collection=this}return O}N||(N={});N.collection=this;var M=new this.model(O,N);if(!M._validate(O,N)){this.trigger("invalid",this,O,N);return false}return M},_removeReference:function(M){if(this===M.collection){delete M.collection}M.off("all",this._onModelEvent,this)},_onModelEvent:function(O,N,P,M){if((O==="add"||O==="remove")&&P!==this){return}if(O==="destroy"){this.remove(N,M)}if(N&&O==="change:"+N.idAttribute){delete this._byId[N.previous(N.idAttribute)];if(N.id!=null){this._byId[N.id]=N}}this.trigger.apply(this,arguments)}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];L.each(y,function(M){c.prototype[M]=function(){var N=n.call(arguments);N.unshift(this.models);return L[M].apply(L,N)}});var k=["groupBy","countBy","sortBy"];L.each(k,function(M){c.prototype[M]=function(P,N){var O=L.isFunction(P)?P:function(Q){return Q.get(P)};return L[M](this.models,O,N)}});var G=z.View=function(M){this.cid=L.uniqueId("view");this._configure(M||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var v=/^(\S+)\s*(.*)$/;var e=["model","collection","el","id","attributes","className","tagName","events"];L.extend(G.prototype,J,{tagName:"div",$:function(M){return this.$el.find(M)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(M,N){if(this.$el){this.undelegateEvents()}this.$el=M instanceof z.$?M:z.$(M);this.el=this.$el[0];if(N!==false){this.delegateEvents()}return this},delegateEvents:function(Q){if(!(Q||(Q=L.result(this,"events")))){return this}this.undelegateEvents();for(var P in Q){var R=Q[P];if(!L.isFunction(R)){R=this[Q[P]]}if(!R){continue}var O=P.match(v);var N=O[1],M=O[2];R=L.bind(R,this);N+=".delegateEvents"+this.cid;if(M===""){this.$el.on(N,R)}else{this.$el.on(N,M,R)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(M){if(this.options){M=L.extend({},L.result(this,"options"),M)}L.extend(this,L.pick(M,e));this.options=M},_ensureElement:function(){if(!this.el){var M=L.extend({},L.result(this,"attributes"));if(this.id){M.id=L.result(this,"id")}if(this.className){M["class"]=L.result(this,"className")}var N=z.$("<"+L.result(this,"tagName")+">").attr(M);this.setElement(N,false)}else{this.setElement(L.result(this,"el"),false)}}});z.sync=function(S,N,M){var P=j[S];L.defaults(M||(M={}),{emulateHTTP:z.emulateHTTP,emulateJSON:z.emulateJSON});var R={type:P,dataType:"json"};if(!M.url){R.url=L.result(N,"url")||r()}if(M.data==null&&N&&(S==="create"||S==="update"||S==="patch")){R.contentType="application/json";R.data=JSON.stringify(M.attrs||N.toJSON(M))}if(M.emulateJSON){R.contentType="application/x-www-form-urlencoded";R.data=R.data?{model:R.data}:{}}if(M.emulateHTTP&&(P==="PUT"||P==="DELETE"||P==="PATCH")){R.type="POST";if(M.emulateJSON){R.data._method=P}var O=M.beforeSend;M.beforeSend=function(T){T.setRequestHeader("X-HTTP-Method-Override",P);if(O){return O.apply(this,arguments)}}}if(R.type!=="GET"&&!M.emulateJSON){R.processData=false}if(R.type==="PATCH"&&window.ActiveXObject&&!(window.external&&window.external.msActiveXFilteringEnabled)){R.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var Q=M.xhr=z.ajax(L.extend(R,M));N.trigger("request",N,Q,M);return Q};var j={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};z.ajax=function(){return z.$.ajax.apply(z.$,arguments)};var p=z.Router=function(M){M||(M={});if(M.routes){this.routes=M.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var q=/\((.*?)\)/g;var s=/(\(\?)?:\w+/g;var d=/\*\w+/g;var h=/[\-{}\[\]+?.,\\\^$|#\s]/g;L.extend(p.prototype,J,{initialize:function(){},route:function(N,O,P){if(!L.isRegExp(N)){N=this._routeToRegExp(N)}if(L.isFunction(O)){P=O;O=""}if(!P){P=this[O]}var M=this;z.history.route(N,function(R){var Q=M._extractParameters(N,R);P&&P.apply(M,Q);M.trigger.apply(M,["route:"+O].concat(Q));M.trigger("route",O,Q);z.history.trigger("route",M,O,Q)});return this},navigate:function(N,M){z.history.navigate(N,M);return this},_bindRoutes:function(){if(!this.routes){return}this.routes=L.result(this,"routes");var N,M=L.keys(this.routes);while((N=M.pop())!=null){this.route(N,this.routes[N])}},_routeToRegExp:function(M){M=M.replace(h,"\\$&").replace(q,"(?:$1)?").replace(s,function(O,N){return N?O:"([^/]+)"}).replace(d,"(.*?)");return new RegExp("^"+M+"$")},_extractParameters:function(M,N){var O=M.exec(N).slice(1);return L.map(O,function(P){return P?decodeURIComponent(P):null})}});var i=z.History=function(){this.handlers=[];L.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var A=/^[#\/]|\s+$/g;var f=/^\/+|\/+$/g;var I=/msie [\w.]+/;var m=/\/$/;i.started=false;L.extend(i.prototype,J,{interval:50,getHash:function(N){var M=(N||this).location.href.match(/#(.*)$/);return M?M[1]:""},getFragment:function(O,N){if(O==null){if(this._hasPushState||!this._wantsHashChange||N){O=this.location.pathname;var M=this.root.replace(m,"");if(!O.indexOf(M)){O=O.substr(M.length)}}else{O=this.getHash()}}return O.replace(A,"")},start:function(O){if(i.started){throw new Error("Backbone.history has already been started")}i.started=true;this.options=L.extend({},{root:"/"},this.options,O);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var N=this.getFragment();var M=document.documentMode;var Q=(I.exec(navigator.userAgent.toLowerCase())&&(!M||M<=7));this.root=("/"+this.root+"/").replace(f,"/");if(Q&&this._wantsHashChange){this.iframe=z.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(N)}if(this._hasPushState){z.$(window).on("popstate",this.checkUrl)}else{if(this._wantsHashChange&&("onhashchange" in window)&&!Q){z.$(window).on("hashchange",this.checkUrl)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}this.fragment=N;var R=this.location;var P=R.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!P){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else{if(this._wantsPushState&&this._hasPushState&&P&&R.hash){this.fragment=this.getHash().replace(A,"");this.history.replaceState({},document.title,this.root+this.fragment+R.search)}}if(!this.options.silent){return this.loadUrl()}},stop:function(){z.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);i.started=false},route:function(M,N){this.handlers.unshift({route:M,callback:N})},checkUrl:function(N){var M=this.getFragment();if(M===this.fragment&&this.iframe){M=this.getFragment(this.getHash(this.iframe))}if(M===this.fragment){return false}if(this.iframe){this.navigate(M)}this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(O){var N=this.fragment=this.getFragment(O);var M=L.any(this.handlers,function(P){if(P.route.test(N)){P.callback(N);return true}});return M},navigate:function(O,N){if(!i.started){return false}if(!N||N===true){N={trigger:N}}O=this.getFragment(O||"");if(this.fragment===O){return}this.fragment=O;var M=this.root+O;if(this._hasPushState){this.history[N.replace?"replaceState":"pushState"]({},document.title,M)}else{if(this._wantsHashChange){this._updateHash(this.location,O,N.replace);if(this.iframe&&(O!==this.getFragment(this.getHash(this.iframe)))){if(!N.replace){this.iframe.document.open().close()}this._updateHash(this.iframe.location,O,N.replace)}}else{return this.location.assign(M)}}if(N.trigger){this.loadUrl(O)}},_updateHash:function(M,O,P){if(P){var N=M.href.replace(/(javascript:|#).*$/,"");M.replace(N+"#"+O)}else{M.hash="#"+O}}});z.history=new i;var l=function(M,O){var N=this;var Q;if(M&&L.has(M,"constructor")){Q=M.constructor}else{Q=function(){return N.apply(this,arguments)}}L.extend(Q,N,O);var P=function(){this.constructor=Q};P.prototype=N.prototype;Q.prototype=new P;if(M){L.extend(Q.prototype,M)}Q.__super__=N.prototype;return Q};E.extend=c.extend=p.extend=G.extend=i.extend=l;var r=function(){throw new Error('A "url" property or function must be specified')};var H=function(O,N){var M=N.error;N.error=function(P){if(M){M(O,P,N)}O.trigger("error",O,P,N)}}}).call(this);;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/lib/marked.js' */
(function(){var d={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:l,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:l,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:l,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};d.bullet=/(?:[*+-]|\d+\.)/;d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;d.item=c(d.item,"gm")(/bull/g,d.bullet)();d.list=c(d.list)(/bull/g,d.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+d.def.source+")")();d.blockquote=c(d.blockquote)("def",d.def)();d._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";d.html=c(d.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,d._tag)();d.paragraph=c(d.paragraph)("hr",d.hr)("heading",d.heading)("lheading",d.lheading)("blockquote",d.blockquote)("tag","<"+d._tag)("def",d.def)();d.normal=i({},d);d.gfm=i({},d.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/});d.gfm.paragraph=c(d.paragraph)("(?!","(?!"+d.gfm.fences.source.replace("\\1","\\2")+"|"+d.list.source.replace("\\1","\\3")+"|")();d.tables=i({},d.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function b(m){this.tokens=[];this.tokens.links={};this.options=m||a.defaults;this.rules=d.normal;if(this.options.gfm){if(this.options.tables){this.rules=d.tables}else{this.rules=d.gfm}}}b.rules=d;b.lex=function(o,m){var n=new b(m);return n.lex(o)};b.prototype.lex=function(m){m=m.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(m,true)};b.prototype.token=function(n,t,x){var n=n.replace(/^ +$/gm,""),r,p,v,s,u,w,m,q,o;while(n){if(v=this.rules.newline.exec(n)){n=n.substring(v[0].length);if(v[0].length>1){this.tokens.push({type:"space"})}}if(v=this.rules.code.exec(n)){n=n.substring(v[0].length);v=v[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?v.replace(/\n+$/,""):v});continue}if(v=this.rules.fences.exec(n)){n=n.substring(v[0].length);this.tokens.push({type:"code",lang:v[2],text:v[3]||""});continue}if(v=this.rules.heading.exec(n)){n=n.substring(v[0].length);this.tokens.push({type:"heading",depth:v[1].length,text:v[2]});continue}if(t&&(v=this.rules.nptable.exec(n))){n=n.substring(v[0].length);w={type:"table",header:v[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:v[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:v[3].replace(/\n$/,"").split("\n")};for(q=0;q<w.align.length;q++){if(/^ *-+: *$/.test(w.align[q])){w.align[q]="right"}else{if(/^ *:-+: *$/.test(w.align[q])){w.align[q]="center"}else{if(/^ *:-+ *$/.test(w.align[q])){w.align[q]="left"}else{w.align[q]=null}}}}for(q=0;q<w.cells.length;q++){w.cells[q]=w.cells[q].split(/ *\| */)}this.tokens.push(w);continue}if(v=this.rules.lheading.exec(n)){n=n.substring(v[0].length);this.tokens.push({type:"heading",depth:v[2]==="="?1:2,text:v[1]});continue}if(v=this.rules.hr.exec(n)){n=n.substring(v[0].length);this.tokens.push({type:"hr"});continue}if(v=this.rules.blockquote.exec(n)){n=n.substring(v[0].length);this.tokens.push({type:"blockquote_start"});v=v[0].replace(/^ *> ?/gm,"");this.token(v,t,true);this.tokens.push({type:"blockquote_end"});continue}if(v=this.rules.list.exec(n)){n=n.substring(v[0].length);s=v[2];this.tokens.push({type:"list_start",ordered:s.length>1});v=v[0].match(this.rules.item);r=false;o=v.length;q=0;for(;q<o;q++){w=v[q];m=w.length;w=w.replace(/^ *([*+-]|\d+\.) +/,"");if(~w.indexOf("\n ")){m-=w.length;w=!this.options.pedantic?w.replace(new RegExp("^ {1,"+m+"}","gm"),""):w.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&q!==o-1){u=d.bullet.exec(v[q+1])[0];if(s!==u&&!(s.length>1&&u.length>1)){n=v.slice(q+1).join("\n")+n;q=o-1}}p=r||/\n\n(?!\s*$)/.test(w);if(q!==o-1){r=w.charAt(w.length-1)==="\n";if(!p){p=r}}this.tokens.push({type:p?"loose_item_start":"list_item_start"});this.token(w,false,x);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(v=this.rules.html.exec(n)){n=n.substring(v[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(v[1]==="pre"||v[1]==="script"||v[1]==="style"),text:v[0]});continue}if((!x&&t)&&(v=this.rules.def.exec(n))){n=n.substring(v[0].length);this.tokens.links[v[1].toLowerCase()]={href:v[2],title:v[3]};continue}if(t&&(v=this.rules.table.exec(n))){n=n.substring(v[0].length);w={type:"table",header:v[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:v[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:v[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(q=0;q<w.align.length;q++){if(/^ *-+: *$/.test(w.align[q])){w.align[q]="right"}else{if(/^ *:-+: *$/.test(w.align[q])){w.align[q]="center"}else{if(/^ *:-+ *$/.test(w.align[q])){w.align[q]="left"}else{w.align[q]=null}}}}for(q=0;q<w.cells.length;q++){w.cells[q]=w.cells[q].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(w);continue}if(t&&(v=this.rules.paragraph.exec(n))){n=n.substring(v[0].length);this.tokens.push({type:"paragraph",text:v[1].charAt(v[1].length-1)==="\n"?v[1].slice(0,-1):v[1]});continue}if(v=this.rules.text.exec(n)){n=n.substring(v[0].length);this.tokens.push({type:"text",text:v[0]});continue}if(n){throw new Error("Infinite loop on byte: "+n.charCodeAt(0))}}return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:l,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:l,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};h._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;h._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;h.link=c(h.link)("inside",h._inside)("href",h._href)();h.reflink=c(h.reflink)("inside",h._inside)();h.normal=i({},h);h.pedantic=i({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});h.gfm=i({},h.normal,{escape:c(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:c(h.text)("]|","~]|")("|","|https?://|")()});h.breaks=i({},h.gfm,{br:c(h.br)("{2,}","*")(),text:c(h.gfm.text)("{2,}","*")()});function j(m,n){this.options=n||a.defaults;this.links=m;this.rules=h.normal;this.renderer=this.options.renderer||new f;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=h.breaks}else{this.rules=h.gfm}}else{if(this.options.pedantic){this.rules=h.pedantic}}}j.rules=h;j.output=function(p,m,n){var o=new j(m,n);return o.output(p)};j.prototype.output=function(r){var n="",p,q,m,o;while(r){if(o=this.rules.escape.exec(r)){r=r.substring(o[0].length);n+=o[1];continue}if(o=this.rules.autolink.exec(r)){r=r.substring(o[0].length);if(o[2]==="@"){q=o[1].charAt(6)===":"?this.mangle(o[1].substring(7)):this.mangle(o[1]);m=this.mangle("mailto:")+q}else{q=k(o[1]);m=q}n+=this.renderer.link(m,null,q);continue}if(!this.inLink&&(o=this.rules.url.exec(r))){r=r.substring(o[0].length);q=k(o[1]);m=q;n+=this.renderer.link(m,null,q);continue}if(o=this.rules.tag.exec(r)){if(!this.inLink&&/^<a /i.test(o[0])){this.inLink=true}else{if(this.inLink&&/^<\/a>/i.test(o[0])){this.inLink=false}}r=r.substring(o[0].length);n+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):k(o[0]):o[0];continue}if(o=this.rules.link.exec(r)){r=r.substring(o[0].length);this.inLink=true;n+=this.outputLink(o,{href:o[2],title:o[3]});this.inLink=false;continue}if((o=this.rules.reflink.exec(r))||(o=this.rules.nolink.exec(r))){r=r.substring(o[0].length);p=(o[2]||o[1]).replace(/\s+/g," ");p=this.links[p.toLowerCase()];if(!p||!p.href){n+=o[0].charAt(0);r=o[0].substring(1)+r;continue}this.inLink=true;n+=this.outputLink(o,p);this.inLink=false;continue}if(o=this.rules.strong.exec(r)){r=r.substring(o[0].length);n+=this.renderer.strong(this.output(o[2]||o[1]));continue}if(o=this.rules.em.exec(r)){r=r.substring(o[0].length);n+=this.renderer.em(this.output(o[2]||o[1]));continue}if(o=this.rules.code.exec(r)){r=r.substring(o[0].length);n+=this.renderer.codespan(k(o[2],true));continue}if(o=this.rules.br.exec(r)){r=r.substring(o[0].length);n+=this.renderer.br();continue}if(o=this.rules.del.exec(r)){r=r.substring(o[0].length);n+=this.renderer.del(this.output(o[1]));continue}if(o=this.rules.text.exec(r)){r=r.substring(o[0].length);n+=this.renderer.text(k(this.smartypants(o[0])));continue}if(r){throw new Error("Infinite loop on byte: "+r.charCodeAt(0))}}return n};j.prototype.outputLink=function(n,o){var m=k(o.href),p=o.title?k(o.title):null;return n[0].charAt(0)!=="!"?this.renderer.link(m,p,this.output(n[1])):this.renderer.image(m,p,k(n[1]))};j.prototype.smartypants=function(m){if(!this.options.smartypants){return m}return m.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")};j.prototype.mangle=function(q){if(!this.options.mangle){return q}var n="",m=q.length,o=0,p;for(;o<m;o++){p=q.charCodeAt(o);if(Math.random()>0.5){p="x"+p.toString(16)}n+="&#"+p+";"}return n};function f(m){this.options=m||{}}f.prototype.code=function(n,p,o){if(this.options.highlight){var m=this.options.highlight(n,p);if(m!=null&&m!==n){o=true;n=m}}if(!p){return"<pre><code>"+(o?n:k(n,true))+"\n</code></pre>"}return'<pre><code class="'+this.options.langPrefix+k(p,true)+'">'+(o?n:k(n,true))+"\n</code></pre>\n"};f.prototype.blockquote=function(m){return"<blockquote>\n"+m+"</blockquote>\n"};f.prototype.html=function(m){return m};f.prototype.heading=function(n,o,m){return"<h"+o+' id="'+this.options.headerPrefix+m.toLowerCase().replace(/[^\w]+/g,"-")+'">'+n+"</h"+o+">\n"};f.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};f.prototype.list=function(m,n){var o=n?"ol":"ul";return"<"+o+">\n"+m+"</"+o+">\n"};f.prototype.listitem=function(m){return"<li>"+m+"</li>\n"};f.prototype.paragraph=function(m){return"<p>"+m+"</p>\n"};f.prototype.table=function(n,m){return"<table>\n<thead>\n"+n+"</thead>\n<tbody>\n"+m+"</tbody>\n</table>\n"};f.prototype.tablerow=function(m){return"<tr>\n"+m+"</tr>\n"};f.prototype.tablecell=function(p,n){var o=n.header?"th":"td";var m=n.align?"<"+o+' style="text-align:'+n.align+'">':"<"+o+">";return m+p+"</"+o+">\n"};f.prototype.strong=function(m){return"<strong>"+m+"</strong>"};f.prototype.em=function(m){return"<em>"+m+"</em>"};f.prototype.codespan=function(m){return"<code>"+m+"</code>"};f.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};f.prototype.del=function(m){return"<del>"+m+"</del>"};f.prototype.link=function(m,r,q){if(this.options.sanitize){try{var o=decodeURIComponent(g(m)).replace(/[^\w:]/g,"").toLowerCase()}catch(p){return""}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0){return""}}var n='<a href="'+m+'"';if(r){n+=' title="'+r+'"'}n+=">"+q+"</a>";return n};f.prototype.image=function(m,p,o){var n='<img src="'+m+'" alt="'+o+'"';if(p){n+=' title="'+p+'"'}n+=this.options.xhtml?"/>":">";return n};f.prototype.text=function(m){return m};function e(m){this.tokens=[];this.token=null;this.options=m||a.defaults;this.options.renderer=this.options.renderer||new f;this.renderer=this.options.renderer;this.renderer.options=this.options}e.parse=function(o,m,n){var p=new e(m,n);return p.parse(o)};e.prototype.parse=function(n){this.inline=new j(n.links,this.options,this.renderer);this.tokens=n.reverse();var m="";while(this.next()){m+=this.tok()}return m};e.prototype.next=function(){return this.token=this.tokens.pop()};e.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};e.prototype.parseText=function(){var m=this.token.text;while(this.peek().type==="text"){m+="\n"+this.next().text}return this.inline.output(m)};e.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var q="",s="",o,u,t,m,n;t="";for(o=0;o<this.token.header.length;o++){m={header:true,align:this.token.align[o]};t+=this.renderer.tablecell(this.inline.output(this.token.header[o]),{header:true,align:this.token.align[o]})}q+=this.renderer.tablerow(t);for(o=0;o<this.token.cells.length;o++){u=this.token.cells[o];t="";for(n=0;n<u.length;n++){t+=this.renderer.tablecell(this.inline.output(u[n]),{header:false,align:this.token.align[n]})}s+=this.renderer.tablerow(t)}return this.renderer.table(q,s);case"blockquote_start":var s="";while(this.next().type!=="blockquote_end"){s+=this.tok()}return this.renderer.blockquote(s);case"list_start":var s="",r=this.token.ordered;while(this.next().type!=="list_end"){s+=this.tok()}return this.renderer.list(s,r);case"list_item_start":var s="";while(this.next().type!=="list_item_end"){s+=this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(s);case"loose_item_start":var s="";while(this.next().type!=="list_item_end"){s+=this.tok()}return this.renderer.listitem(s);case"html":var p=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(p);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};function k(m,n){return m.replace(!n?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function g(m){return m.replace(/&([#\w]+);/g,function(o,p){p=p.toLowerCase();if(p==="colon"){return":"}if(p.charAt(0)==="#"){return p.charAt(1)==="x"?String.fromCharCode(parseInt(p.substring(2),16)):String.fromCharCode(+p.substring(1))}return""})}function c(o,n){o=o.source;n=n||"";return function m(p,q){if(!p){return new RegExp(o,n)}q=q.source||q;q=q.replace(/(^|[^\[])\^/g,"$1");o=o.replace(p,q);return m}}function l(){}l.exec=l;function i(p){var n=1,o,m;for(;n<arguments.length;n++){o=arguments[n];for(m in o){if(Object.prototype.hasOwnProperty.call(o,m)){p[m]=o[m]}}}return p}function a(m,o,u){if(u||typeof o==="function"){if(!u){u=o;o=null}o=i({},a.defaults,o||{});var p=o.highlight,t,n,r=0;try{t=b.lex(m,o)}catch(s){return u(s)}n=t.length;var q=function(w){if(w){o.highlight=p;return u(w)}var v;try{v=e.parse(t,o)}catch(x){w=x}o.highlight=p;return w?u(w):u(null,v)};if(!p||p.length<3){return q()}delete o.highlight;if(!n){return q()}for(;r<t.length;r++){(function(v){if(v.type!=="code"){return --n||q()}return p(v.text,v.lang,function(x,w){if(x){return q(x)}if(w==null||w===v.text){return --n||q()}v.text=w;v.escaped=true;--n||q()})})(t[r])}return}try{if(o){o=i({},a.defaults,o)}return e.parse(b.lex(m,o),o)}catch(s){s.message+="\nPlease report this to https://github.com/chjj/marked.";if((o||a.defaults).silent){return"<p>An error occured:</p><pre>"+k(s.message+"",true)+"</pre>"}throw s}}a.options=a.setOptions=function(m){i(a.defaults,m);return a};a.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,sanitizer:null,mangle:true,smartLists:false,silent:false,highlight:null,langPrefix:"lang-",smartypants:false,headerPrefix:"",renderer:new f,xhtml:false};a.Parser=e;a.parser=e.parse;a.Renderer=f;a.Lexer=b;a.lexer=b.lex;a.InlineLexer=j;a.inlineLexer=j.output;a.parse=a;if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=a}else{if(typeof define==="function"&&define.amd){define(function(){return a})}else{this.marked=a}}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/lib/marked-amd.js' */
define("okapya/marked",function(){return marked});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/lib/emo-parser.js' */
(function(){var b=function(c){this.config={debug:!!c.debug,emoticon_html:c.emoticon_html||b.defaults.emoticon_html,emoticons:this._copyDefaults(b.defaults.emoticons,c.emoticons)};this.root_ast_node={children:[]};this.init()};b.defaults={debug:false,emoticon_html:'<span class="emoticon-{EMOTICON}" title="{EMOTICON}"></span>',emoticons:{happy:{emos:[":)",":-)",":]",":-]"]},LOL:{emos:[":D",":-D"]},puzzled:{emos:[":/",":-/"]},sad:{emos:[":(",":-("]},angry:{emos:[":[",":-["]},annoyed:{},proud:{},heartbroken:{emos:["</3"]},curious:{},thumbsup:{},loveyou:{emos:["<3"]},marryme:{},shocked:{emos:[":-O",":O"]},surprised:{emos:[":o",":-o"]},wink:{emos:[";)",";-)"]}}};var a=b.prototype;a.init=function(){this._initParseTree()};a._initParseTree=function(){var c=this;for(var e in this.config.emoticons){this._parseSymbolToTree("("+e+")",e);var d=this.config.emoticons[e].emos;if(d){d.forEach(function(f){c._parseSymbolToTree(f,e);c._parseSymbolToTree(c._mirrorEmoticon(f),e)})}}if(this.config.debug){this._printTree()}};a._copyDefaults=function(c){Array.prototype.slice.call(arguments,1).forEach(function(d){if(d){for(var e in d){if(c[e]===void 0){c[e]=d[e]}}}});return c};a._mirrorEmoticon=function(g){var e=g.split("");var c="";for(var f=e.length-1;f>=0;f--){var d=e[f];switch(d){case")":c+="(";break;case"(":c+=")";break;case"]":c+="[";break;case"[":c+="]";break;case"/":c+="\\";break;case"<":c+=">";break;case"D":case"3":return"";break;default:c+=d;break}}return c};a._parseSymbolToTree=function(c,d){if(!c){return}if(this.config.debug){console.log("EmoticonsParser: adding "+c)}var f=" "+c;var e=this.root_ast_node;f.split("").forEach(function(g,h){var j=false;e.children.forEach(function(k){if(k["char"]==g){j=true;e=k}});if(!j){var i={"char":g,children:[]};e.children.push(i);e=i}if(h==f.length-1){e.value=f;e.code=d}})};a.parseText=function(m){if(!m){return""}var o=this;var q="";var e=this.root_ast_node;var f=[];m=m.replace(/&gt;\:/g,">:");m=" "+m;var k=m.split("");for(var h=0;h<k.length;h++){var l=k[h];if(l==="\n"){q+=l;e=o.root_ast_node.children[0];continue}var c=false;var p=false;var n=h<k.length-1?k[h+1]:" ";for(var g=0;g<e.children.length;g++){var d=e.children[g];if(l===" "){e=o.root_ast_node.children[0];c=true;break}if(d["char"]==l){c=true;e=d;if(d.code&&(/\s/.test(n))){q+=" "+o.printEmoId(d.code,"html");p=true;f=[]}break}}if(p){e=o.root_ast_node}if(c&&!p){f.push(l)}if(!c){e=o.root_ast_node;if(f.length){q+=f.join("")+l;f=[]}else{q+=l}}}return q.substring(1)+f.join("")};a._printTree=function(){var c="EmoticonsParser: printing parser tree:\n";console.log(c+this._archy(this.root_ast_node))};a._archy=function(j,i,g){var e=this;if(i===undefined){i=""}if(!g){g={}}var f=function(k){var l={"":"|","":"`","":"+","":"-","":"-"};return g.unicode===false?l[k]:k};if(typeof j==="string"){j={label:j}}var d=j.children||[];var c=(j["char"]||"").split("\n");var h="\n"+i+(d.length?f(""):" ")+" ";return i+c.join(h)+(j.code?" #"+j.code+" "+j.value:"")+"\n"+d.map(function(n,k){var m=k===d.length-1;var l=n.children&&n.children.length;var o=i+(m?" ":f(""))+" ";return i+(m?f(""):f(""))+f("")+(l?f(""):f(""))+" "+e._archy(n,o,g).slice(i.length+2)}).join("")};a.printEmoId=function(d,c){switch(c){case"html":return this.config.emoticon_html.replace(/\{EMOTICON\}/g,d);case"txt":return"("+d+")"}};a.getEmoticons=function(){return this.config.emoticons};a.insertEmoticon=function(d,c){if(!c||!c.nodeName){return}var e=this.config.emoticons[d];if(!e){return}var f=e.emos?e.emos[0]:this.printEmoId(d,"txt");this._addTextAtCaret(c,f);c.focus();this._moveCursorToEnd(c)};a._addTextAtCaret=function(c,g){if(typeof c.selectionEnd=="number"){var f=c.value;var d=f.substring(0,c.selectionEnd);var e=f.substring(c.selectionEnd);c.value=d+" "+g+" "+e}else{c.value=c.value+" "+g}};a._moveCursorToEnd=function(d){if(typeof d.selectionStart=="number"){d.selectionStart=d.selectionEnd=d.value.length}else{if(typeof d.createTextRange!="undefined"){d.focus();var c=d.createTextRange();c.collapse(false);c.select()}}};if(typeof module!=="undefined"&&module.exports){module.exports=b}else{if(window){window.EmoticonsParser=b}else{if(global){global.EmoticonsParser=b}}}})();;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/lib/emo-parser-amd.js' */
define("okapya/emo-parser",function(){return EmoticonsParser});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/lib/checklist.sortable.js' */
(function(a,b){a.widget("ui.sortablechecklist",a.ui.mouse,{widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var c=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?c.axis==="x"||(/left|right/).test(this.items[0].item.css("float"))||(/inline|table-cell/).test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},destroy:function(){a.Widget.prototype.destroy.call(this);this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--){this.items[c].item.removeData(this.widgetName+"-item")}return this},_setOption:function(c,d){if(c==="disabled"){this.options[c]=d;this.widget()[d?"addClass":"removeClass"]("ui-sortable-disabled")}else{a.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(g,h){var f=this;if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(g);var e=null,d=this,c=a(g.target).parents().each(function(){if(a.data(this,f.widgetName+"-item")==d){e=a(this);return false}});if(a.data(g.target,f.widgetName+"-item")==d){e=a(g.target)}if(!e){return false}if(this.options.handle&&!h){var i=false;a(this.options.handle,e).find("*").andSelf().each(function(){if(this==g.target){i=true}});if(!i){return false}}this.currentItem=e;this._removeCurrentsFromItems();return true},_mouseStart:function(f,g,c){var h=this.options,d=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(f);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(f);this.originalPageX=f.pageX;this.originalPageY=f.pageY;(h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(h.containment){this._setContainment()}if(h.cursor){if(a("body").css("cursor")){this._storedCursor=a("body").css("cursor")}a("body").css("cursor",h.cursor)}if(h.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",h.opacity)}if(h.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",h.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",f,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!c){for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("activate",f,d._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}if(a.ui.ddmanager&&!h.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,f)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(f);return true},_mouseDrag:function(g){this.position=this._generatePosition(g);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var h=this.options,c=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-g.pageY<h.scrollSensitivity){this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+h.scrollSpeed}else{if(g.pageY-this.overflowOffset.top<h.scrollSensitivity){this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-h.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-g.pageX<h.scrollSensitivity){this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+h.scrollSpeed}else{if(g.pageX-this.overflowOffset.left<h.scrollSensitivity){this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-h.scrollSpeed}}}else{if(g.pageY-a(document).scrollTop()<h.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-h.scrollSpeed)}else{if(a(window).height()-(g.pageY-a(document).scrollTop())<h.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+h.scrollSpeed)}}if(g.pageX-a(document).scrollLeft()<h.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-h.scrollSpeed)}else{if(a(window).width()-(g.pageX-a(document).scrollLeft())<h.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+h.scrollSpeed)}}}if(c!==false&&a.ui.ddmanager&&!h.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,g)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],d=f.item[0],j=this._intersectsWithPointer(f);if(!j){continue}if(f.instance!==this.currentContainer){continue}if(d!=this.currentItem[0]&&this.placeholder[j==1?"next":"prev"]()[0]!=d&&!a.ui.contains(this.placeholder[0],d)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],d):true)){this.direction=j==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f)){this._rearrange(g,f)}else{break}this._trigger("change",g,this._uiHash());break}}this._contactContainers(g);if(a.ui.ddmanager){a.ui.ddmanager.drag(this,g)}this._trigger("sort",g,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(d,e){if(!d){return}if(a.ui.ddmanager&&!this.options.dropBehaviour){a.ui.ddmanager.drop(this,d)}if(this.options.revert){var c=this;var f=c.placeholder.offset();c.reverting=true;a(this.helper).animate({left:f.left-this.offset.parent.left-c.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:f.top-this.offset.parent.top-c.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){c._clear(d)})}else{this._clear(d,e)}return false},cancel:function(){var c=this;if(this.dragging){this._mouseUp({target:null});if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("deactivate",null,c._uiHash(this));if(this.containers[d].containerCache.over){this.containers[d]._trigger("out",null,c._uiHash(this));this.containers[d].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){a(this.domPosition.prev).after(this.currentItem)}else{a(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(e){var c=this._getItemsAsjQuery(e&&e.connected);var d=[];e=e||{};a(c).each(function(){var f=(a(e.item||this).attr(e.attribute||"id")||"").match(e.expression||(/(.+)[-=_](.+)/));if(f){d.push((e.key||f[1]+"[]")+"="+(e.key&&e.expression?f[1]:f[2]))}});if(!d.length&&e.key){d.push(e.key+"=")}return d.join("&")},toArray:function(e){var c=this._getItemsAsjQuery(e&&e.connected);var d=[];e=e||{};c.each(function(){d.push(a(e.item||this).attr(e.attribute||"id")||"")});return d},_intersectsWith:function(m){var e=this.positionAbs.left,d=e+this.helperProportions.width,k=this.positionAbs.top,j=k+this.helperProportions.height;var f=m.left,c=f+m.width,n=m.top,i=n+m.height;var o=this.offset.click.top,h=this.offset.click.left;var g=(k+o)>n&&(k+o)<i&&(e+h)>f&&(e+h)<c;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>m[this.floating?"width":"height"])){return g}else{return(f<e+(this.helperProportions.width/2)&&d-(this.helperProportions.width/2)<c&&n<k+(this.helperProportions.height/2)&&j-(this.helperProportions.height/2)<i)}},_intersectsWithPointer:function(e){var f=(this.options.axis==="x")||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),d=(this.options.axis==="y")||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),h=f&&d,c=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(!h){return false}return this.floating?(((g&&g=="right")||c=="down")?2:1):(c&&(c=="down"?2:1))},_intersectsWithSides:function(f){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top+(f.height/2),f.height),e=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left+(f.width/2),f.width),c=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(this.floating&&g){return((g=="right"&&e)||(g=="left"&&!e))}else{return c&&((c=="down"&&d)||(c=="up"&&!d))}},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return c!=0&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return c!=0&&(c>0?"right":"left")},refresh:function(c){this._refreshItems(c);this.refreshPositions();return this},_connectWith:function(){var c=this.options;return c.connectWith.constructor==String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(c){var m=this;var h=[];var f=[];var k=this._connectWith();if(k&&c){for(var e=k.length-1;e>=0;e--){var l=a(k[e]);for(var d=l.length-1;d>=0;d--){var g=a.data(l[d],this.widgetName);if(g&&g!=this&&!g.options.disabled){f.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g])}}}}f.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var e=f.length-1;e>=0;e--){f[e][0].each(function(){h.push(this)})}return a(h)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");for(var d=0;d<this.items.length;d++){for(var c=0;c<e.length;c++){if(e[c]==this.items[d].item[0]){this.items.splice(d,1)}}}},_refreshItems:function(c){this.items=[];this.containers=[this];var k=this.items;var q=this;var g=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):a(this.options.items,this.element),this]];var m=this._connectWith();if(m&&this.ready){for(var f=m.length-1;f>=0;f--){var n=a(m[f]);for(var e=n.length-1;e>=0;e--){var h=a.data(n[e],this.widgetName);if(h&&h!=this&&!h.options.disabled){g.push([a.isFunction(h.options.items)?h.options.items.call(h.element[0],c,{item:this.currentItem}):a(h.options.items,h.element),h]);this.containers.push(h)}}}}for(var f=g.length-1;f>=0;f--){var l=g[f][1];var d=g[f][0];for(var e=0,o=d.length;e<o;e++){var p=a(d[e]);p.data(this.widgetName+"-item",l);k.push({item:p,instance:l,width:0,height:0,left:0,top:0})}}},refreshPositions:function(c){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var e=this.items.length-1;e>=0;e--){var f=this.items[e];if(f.instance!=this.currentContainer&&this.currentContainer&&f.item[0]!=this.currentItem[0]){continue}var d=this.options.toleranceElement?a(this.options.toleranceElement,f.item):f.item;if(!c){f.width=d.outerWidth();f.height=d.outerHeight()}var g=d.offset();f.left=g.left;f.top=g.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var e=this.containers.length-1;e>=0;e--){var g=this.containers[e].element.offset();this.containers[e].containerCache.left=g.left;this.containers[e].containerCache.top=g.top;this.containers[e].containerCache.width=this.containers[e].element.outerWidth();this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}}return this},_createPlaceholder:function(e){var c=e||this,f=c.options;if(!f.placeholder||f.placeholder.constructor==String){var d=f.placeholder;f.placeholder={element:function(){var g=a(document.createElement(c.currentItem[0].nodeName)).addClass(d||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!d){g.style.visibility="hidden"}return g},update:function(g,h){if(d&&!f.forcePlaceholderSize){return}if(!h.height()){h.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10))}if(!h.width()){h.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}}c.placeholder=a(f.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);f.placeholder.update(c,c.placeholder)},_contactContainers:function(c){var e=null,l=null;for(var g=this.containers.length-1;g>=0;g--){if(a.ui.contains(this.currentItem[0],this.containers[g].element[0])){continue}if(this._intersectsWith(this.containers[g].containerCache)){if(e&&a.ui.contains(this.containers[g].element[0],e.element[0])){continue}e=this.containers[g];l=g}else{if(this.containers[g].containerCache.over){this.containers[g]._trigger("out",c,this._uiHash(this));this.containers[g].containerCache.over=0}}}if(!e){return}if(this.containers.length===1){this.containers[l]._trigger("over",c,this._uiHash(this));this.containers[l].containerCache.over=1}else{if(this.currentContainer!=this.containers[l]){var k=10000;var h=null;var d=this.positionAbs[this.containers[l].floating?"left":"top"];for(var f=this.items.length-1;f>=0;f--){if(!a.ui.contains(this.containers[l].element[0],this.items[f].item[0])){continue}var m=this.containers[l].floating?this.items[f].item.offset().left:this.items[f].item.offset().top;if(Math.abs(m-d)<k){k=Math.abs(m-d);h=this.items[f];this.direction=(m-d>0)?"down":"up"}}if(!h&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[l];h?this._rearrange(c,h,null,true):this._rearrange(c,null,this.containers[l].element,true);this._trigger("change",c,this._uiHash());this.containers[l]._trigger("change",c,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[l]._trigger("over",c,this._uiHash(this));this.containers[l].containerCache.over=1}}},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d,this.currentItem])):(e.helper=="clone"?this.currentItem.clone():this.currentItem);if(!c.parents("body").length){a(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0])}if(c[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(c[0].style.width==""||e.forceHelperSize){c.width(this.currentItem.width())}if(c[0].style.height==""||e.forceHelperSize){c.height(this.currentItem.height())}return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode}if(f.containment=="document"||f.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(f.containment)){var d=a(f.containment)[0];var e=a(f.containment).offset();var c=(a(d).css("overflow")!="hidden");this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(c?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(c?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(g,i){if(!i){i=this.position}var e=g=="absolute"?1:-1;var f=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(c[0].tagName);return{top:(i.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:c.scrollTop()))*e)),left:(i.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:c.scrollLeft())*e))}},_generatePosition:function(f){var i=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(c[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var e=f.pageX;var d=f.pageY;if(this.originalPosition){if(this.containment){if(f.pageX-this.offset.click.left<this.containment[0]){e=this.containment[0]+this.offset.click.left}if(f.pageY-this.offset.click.top<this.containment[1]){d=this.containment[1]+this.offset.click.top}if(f.pageX-this.offset.click.left>this.containment[2]){e=this.containment[2]+this.offset.click.left}if(f.pageY-this.offset.click.top>this.containment[3]){d=this.containment[3]+this.offset.click.top}}if(i.grid){var h=this.originalPageY+Math.round((d-this.originalPageY)/i.grid[1])*i.grid[1];d=this.containment?(!(h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3])?h:(!(h-this.offset.click.top<this.containment[1])?h-i.grid[1]:h+i.grid[1])):h;var g=this.originalPageX+Math.round((e-this.originalPageX)/i.grid[0])*i.grid[0];e=this.containment?(!(g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2])?g:(!(g-this.offset.click.left<this.containment[0])?g-i.grid[0]:g+i.grid[0])):g}}return{top:(d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:c.scrollTop())))),left:(e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:c.scrollLeft())))}},_rearrange:function(h,g,d,f){d?d[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?g.item[0]:g.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var e=this,c=this.counter;window.setTimeout(function(){if(c==e.counter){e.refreshPositions(!f)}},0)},_clear:function(e,f){this.reverting=false;var g=[],c=this;if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var d in this._storedCSS){if(this._storedCSS[d]=="auto"||this._storedCSS[d]=="static"){this._storedCSS[d]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!f){g.push(function(h){this._trigger("receive",h,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!f){g.push(function(h){this._trigger("update",h,this._uiHash())})}if(this!==this.currentContainer){if(!f){g.push(function(h){this._trigger("remove",h,this._uiHash())});g.push((function(h){return function(i){h._trigger("receive",i,this._uiHash(this))}}).call(this,this.currentContainer));g.push((function(h){return function(i){h._trigger("update",i,this._uiHash(this))}}).call(this,this.currentContainer))}}for(var d=this.containers.length-1;d>=0;d--){if(!f){g.push((function(h){return function(i){h._trigger("deactivate",i,this._uiHash(this))}}).call(this,this.containers[d]))}if(this.containers[d].containerCache.over){g.push((function(h){return function(i){h._trigger("out",i,this._uiHash(this))}}).call(this,this.containers[d]));this.containers[d].containerCache.over=0}}if(this._storedCursor){a("body").css("cursor",this._storedCursor)}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!f){this._trigger("beforeStop",e,this._uiHash());for(var d=0;d<g.length;d++){g[d].call(this,e)}this._trigger("stop",e,this._uiHash())}this.fromOutside=false;return false}if(!f){this._trigger("beforeStop",e,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!f){for(var d=0;d<g.length;d++){g[d].call(this,e)}this._trigger("stop",e,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(a.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(d){var c=d||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:d?d.element:null}}});a.extend(a.ui.sortablechecklist,{version:"1.8.24"})})(jQuery);;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/utils/misc.js' */
define("okapya/checklist/utils/misc",[],function(){fakePlaceholder=function(a){a.focus(function(){var b=AJS.$(this);if(b.val()==b.attr("placeholder")){b.val("")}}).blur(function(){var b=AJS.$(this);if(b.val()==""||b.val()==b.attr("placeholder")){b.val(b.attr("placeholder"))}}).blur()};trim=function(a){return a.replace(/^\s+|\s+$/g,"")};return{fakePlaceHolder:fakePlaceholder,trim:trim}});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/utils/custom-blur-trigger.js' */
define("okapya/checklist/utils/custom-blur-trigger",["jira/util/events","jira/util/events/types","require"],function(k,s,g){var f=null;var e=[];var d=[];var o;var c;var q;var h;var r=false;var y=null;var z=0;var b=null;function u(){try{z+=1;f=g("jira/components/issueeditor/inlineeditutils");f.BlurTriggerMapping.custom["com.okapya.jira.checklist:checklist"]=m;k.bind(s.INLINE_EDIT_BLURRED,function(B,C){if(c&&c.model.get("context").customfieldId==C){if(!r){B.stopImmediatePropagation()}else{c.acceptPendingChanges()}}r=false});clearTimeout(y)}catch(A){if(z<3){y=setTimeout(u,500)}else{clearTimeout(y)}}}function p(A){if(h){clearTimeout(h)}if(f===null){return}h=setTimeout(j,f.BLUR_FOCUS_TIMEOUT)}function a(B){var A=$(B);var C=document.activeElement;return A.find(C).length>0||A.filter(C).length>0}function j(){if(!_.any(e,function(A){return a(A)})){r=true;k.trigger(s.INLINE_EDIT_BLURRED,[q])}}function i(A){o.focus()}function m(A,H){q=A;o=H;var G=o.nextAll(".save-options");var E=o.find('[id^="o-header-menu-"]');var D=E.find("a, [menu-action]");var C=o.find(".o-checked-filter");var B=o.find('[id^="item-"], [id$="-status"]');var F=B.find("a, [status]");n(o);n(G);n(E);n(B);l(D);l(F);l(C);c.on("exportDialogShown",function(J){var I=$(J.popup.element);n(I);l(I.find(".button-panel-button"));$(document).off("hideLayer",b);b=function(K,L,M){if(L=="popup"&&M==J.popup){o.focus()}};$(document).on("hideLayer",b)});c.on("headerRendered",function(J){var I=J.$el.find(".o-checked-filter");l(I)});c.on("itemEditStarted",function(I){l(I.$el.find(".o-delete-item"))});c.on("itemEditEnded",function(I){o.focus()});c.on("itemRendered",function(K){if(K.statusMenu){var I=$(K.statusMenu.el);var J=I.find("a, [status]");n(I);l(J)}});c.on("removing",function(){v()})}function l(A){_.each(A,function(C){if(!_.contains(d,C)){var B=$(C);B.on("click",i);d.push(C)}})}function t(A){_.each(A,function(B){$(B).off("click",i);d=_.without(d,B)})}function n(A){_.each(A,function(C){if(!_.contains(e,C)){var B=$(C);B.attr("tabindex",1);B.on("focusout",p);e.push(C)}})}function x(A){_.each(A,function(B){$(B).off("focusout",p);e=_.without(e,B)})}function w(A){c=A}function v(){x(e);t(d);c.off("exportDialogShown");c.off("headerRendered");c.off("itemEditStarted");c.off("itemEditEnded");c.off("itemRendered");c.off("removing");$(document).off("hideLayer",b);o=null;q=null;if(h){clearTimeout(h)}h=null;c=null;b=null}u();return{setEditView:w}});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/utils/custom-parser.js' */
define("okapya/utils/custom-parser",["aui/params"],function(b){var a=function(c){c=c.replace(/(^|\s)\@(\w+)\b/g,function(d){if(d.charAt(0)==" "){return' <span class="o-mention"><span class="o-icon-user"></span>'+d.substring(2)+"</span>"}else{return'<span class="o-mention"><span class="o-icon-user"></span>'+d.substring(1)+"</span>"}});c=c.replace(/(0[1-9]|1[012])\/(0[1-9]|1[012])\/[12]\d{3}/g,function(d){return'<span class="o-date"><span class="o-icon-calendar"></span>'+d+"</span>"});c=c.replace(/(1[3-9]|2[0-9]|3[01])\/(0[1-9]|1[012])\/[12]\d{3}/g,function(d){return'<span class="o-date"><span class="o-icon-calendar"></span>'+d+"</span>"});c=c.replace(/(0[1-9]|1[012])\/(1[3-9]|2[0-9]|3[01])\/\d{4}/g,function(d){return'<span class="o-date"><span class="o-icon-calendar"></span>'+d+"</span>"});c=c.replace(/(^|\s)([A-Z]{1}[A-Z0-9]+-\d+)(?=\s|$)/gm,function(e,f,d){var g=b.baseURL+"/browse/"+d;return f+'<a href="'+g+'" class="issue-link" data-issue-key="'+d+'">'+d+"</a>"});return c};return a});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/utils/emoticon-renderer.js' */
define("okapya/utils/emoticon-renderer",["okapya/emo-parser"],function(a){var b=a;b.defaults={debug:false,emoticon_html:'<span class="emoticon-{EMOTICON}" title="{EMOTICON}"></span>',emoticons:{smiley:{emos:[":)",":-)",":]",":-]"]},lol:{emos:[":D",":-D"]},neutral:{emos:[":|",":-|"]},wink:{emos:[";)",";-)"]},tongue:{emos:[":p",":-p",":P",":-P"]},sad:{emos:[":(",":-("]},shut:{emos:[":x",":-x",":X",":-X"]},surprised:{emos:[":o",":-o"]},red:{emos:[":$",":-$"]},mad:{emos:[":[",":-["]},evil:{emos:[">:)",">:-)"]},eek:{emos:["8O","8-O"]},money:{emos:["$)","$-)"]},sleepy:{emos:["|)","|-)"]},roll:{emos:["8)","8-)"]},confused:{emos:[":s",":-s",":S",":-S"]},"thumb-up":{emos:["(y)"]},"thumb-down":{emos:["(n)"]},warning:{emos:["(!)"]},info:{emos:["(i)"]},question:{emos:["(?)"]},"light-on":{emos:["(on)"]},"light-off":{emos:["(off)"]},star:{emos:["(*)"]},"red-star":{emos:["(*r)"]},"green-star":{emos:["(*g)"]},"blue-star":{emos:["(*b)"]}}};return new b({emoticon_html:'<span class="o-emoticon o-emoticon-{EMOTICON}" title="{EMOTICON}"></span>'})});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/utils/marked-renderer.js' */
define("okapya/marked-renderer",["okapya/marked","okapya/utils/custom-parser","okapya/utils/emoticon-renderer"],function(b,e,c){var a=b;var d=new b.Renderer();d.paragraph=function(f){return f};d.text=function(f){return f};d.hr=function(){return"---------------------------------"};d.br=function(){return" "};d.list=function(f,g){return f};d.listitem=function(f){return f};d.heading=function(g,h,f){return g};d.blockquote=function(f){return f};var b=function(h,g){g=(_.isNull(g)||_.isUndefined(g))?true:g;var f={renderer:d,tables:false,sanitize:g};return e(c.parseText(a(h,f)))};return b});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/utils/importer.js' */
define("okapya/checklist/utils/importers",[],function(){var b=function(c){this.validationError=false;this.validationErrorMsg="";this.textInput=""};b.prototype.importData=function(c){this.validationError=false;this.validationErrorMsg="";if(_.isNull(c)||_.isUndefined(c)){this.textInput=""}else{this.textInput=this.removeEmptyLines(c);this.validateInput()}};b.prototype.isValidInput=function(){return this.textInput.match(/^(\(\*\*?\)|\*\*?)/)!=null};b.prototype.hasErrors=function(){return this.validationError};b.prototype.removeEmptyLines=function(h){var d=h.match(/^.*/mg);if(d==null){return}var c="";var f=true;var j;for(var g=0;g<d.length;g++){j=e(d[g]);if(j.match(/^\s*$/)==null){c=c+(f?"":"\n")+j;f=false}}function e(i){var k=i.trim();return(k=="*"||k=="**"||k=="(*)"||k=="(**)")?"":k}return c};b.prototype.validateInput=function(){var c=this.textInput.match(/^.*/mg);if(c==null){return}for(var d=0;d<c.length;d++){if(!this.validateLine(c[d],d+1)){break}}};b.prototype.validateLine=function(d,f){var e=d.match(/^(\(\*\*?\)|\*\*?)[^\S\n].*/mg);if(e==null){this.validationError=true;var c=d;if(d.length>5){c=d.substr(0,20).concat("...")}this.validationErrorMsg=AJS.format("Item {0}, starting with \"{1}\", is not a valid entry. Valid items must start with either *, **, (*) or (**) followed by a blank space.",f,c);return false}return true};b.prototype.getChecklistItems=function(){var d=[];if(this.textInput!=""&&!this.validationError){var c=this.textInput.match(/^.*/mg);for(var e=0;e<c.length;e++){d.push(new checklistItem(c[e]).toObject())}}return d};b.prototype.toText=function(c){var d="";_.each(c,function(f,e){d=d+((e<c.length)?"\r\n":"")+(f.get("mandatory")?"* ":"(*) ")+f.get("name")});return d};checklistItem=function(c){if(_.isNull(c||_.isUndefined(c))){this.textInput=""}else{this.textInput=c}};checklistItem.prototype.extractName=function(){var c=this.textInput.match(/^(\(\*\*?\)|\*\*?)[^\S\n]/);return this.textInput.substr(c[0].length).trim()};checklistItem.prototype.isChecked=function(){return(this.textInput.match(/^.*\*\*/)==null)?false:true};checklistItem.prototype.isMandatory=function(){return(this.textInput.match(/^\(\*\*?\)/)==null)?true:false};checklistItem.prototype.toObject=function(){return{name:this.extractName(),checked:this.isChecked(),mandatory:this.isMandatory()}};var a={};a.legacy=new b();return a});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/view/checklist.soy' */
// This file was automatically generated from checklist.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace okapya.tpl.
 */

if (typeof okapya == 'undefined') { var okapya = {}; }
if (typeof okapya.tpl == 'undefined') { okapya.tpl = {}; }


okapya.tpl.renderChecklist = function(opt_data, opt_ignored) {
  return '<div class="o-non-orderable-options"></div><div class="o-local-items-separator"><div class="o-filler-text"><div><span>' + aui.icons.icon({useIconFont: true, size: 'small', icon: 'down'}) + '</span>' + soy.$$escapeHtml("issue items") + '<span>' + aui.icons.icon({useIconFont: true, size: 'small', icon: 'down'}) + '</span></div></div><div class="o-filler-line" /></div><div class="o-orderable-items"></div>';
};
if (goog.DEBUG) {
  okapya.tpl.renderChecklist.soyTemplateName = 'okapya.tpl.renderChecklist';
}
;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/view/checklistItem.soy' */
// This file was automatically generated from checklistItem.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace okapya.tpl.
 */

if (typeof okapya == 'undefined') { var okapya = {}; }
if (typeof okapya.tpl == 'undefined') { okapya.tpl = {}; }


okapya.tpl.renderChecklistItem = function(opt_data, opt_ignored) {
  return '<div class="o-drag-handle"></div><div class="o-checkbox"><span class="o-icon-ok-1"></span></div>' + ((opt_data.parameters.showStatusMenu && opt_data.canComplete) ? okapya.tpl.renderStatusDropdown(opt_data) : '') + '<div class="o-checklist-item-details">' + okapya.tpl.renderChecklistItemParagrah(opt_data) + '<input type="hidden" name="' + soy.$$escapeHtml(opt_data.customfieldId) + '" value=\'' + soy.$$escapeHtml(opt_data.jsonValue) + '\'><div class="o-edit-controls"><textarea>' + soy.$$escapeHtml(opt_data.editText) + '</textarea><div class="o-edit-buttons"><div class="o-edit-actions"><aui-label for="o-mandatory-item">' + soy.$$escapeHtml("Mandatory") + '</aui-label><aui-toggle id="o-mandatory-item" ' + ((opt_data.mandatory) ? ' checked' : '') + ' label="' + soy.$$escapeHtml("Mandatory") + '"></aui-toggle></div><div><div class="aui-button aui-button-primary save"><span class="o-icon-ok"/></div><div class="aui-button o-cancel"><span class="o-icon-cancel"/></div></div></div></div></div><div class="o-checklist-actions"><span class="o-icon-pencil o-edit-item"></span><span class="o-icon-trash-empty o-delete-item"></span></div>';
};
if (goog.DEBUG) {
  okapya.tpl.renderChecklistItem.soyTemplateName = 'okapya.tpl.renderChecklistItem';
}


okapya.tpl.renderStatusDropdown = function(opt_data, opt_ignored) {
  var output = '<div class="o-checklist-status-menu"><a href="#item-' + soy.$$escapeHtml(opt_data.customfieldId) + '-status-' + soy.$$escapeHtml(opt_data.menuSeed) + '" aria-owns="item-' + soy.$$escapeHtml(opt_data.customfieldId) + '-status-' + soy.$$escapeHtml(opt_data.menuSeed) + '" aria-haspopup="true" class="aui-style-default aui-dropdown2-trigger aui-dropdown2-trigger-arrowless"><span class="o-status-menu-trigger" title="' + soy.$$escapeHtml("Item Status") + '">&#9660</span></a><div id="item-' + soy.$$escapeHtml(opt_data.customfieldId) + '-status-' + soy.$$escapeHtml(opt_data.menuSeed) + '" class="aui-style-default aui-dropdown2" style="z-index: 5000;"><div class="aui-dropdown2-section"><div class="aui-dropdown2-heading"><strong>' + soy.$$escapeHtml("Item Status") + '</strong></div><ul class="aui-list-truncate">';
  var statusList49 = opt_data.statuses;
  var statusListLen49 = statusList49.length;
  for (var statusIndex49 = 0; statusIndex49 < statusListLen49; statusIndex49++) {
    var statusData49 = statusList49[statusIndex49];
    output += '<li><a class="aui-dropdown2-radio interactive" status="' + soy.$$escapeHtml(statusData49.statusId) + '" href="#">' + soy.$$escapeHtml(statusData49.name) + '</a></li>';
  }
  output += '</ul></div><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a class="aui-icon-container" status="none"  href="#"><span class="o-icon-trash-empty"></span>' + soy.$$escapeHtml("Clear Status") + '</a></li></ul></div></div></div>';
  return output;
};
if (goog.DEBUG) {
  okapya.tpl.renderStatusDropdown.soyTemplateName = 'okapya.tpl.renderStatusDropdown';
}


okapya.tpl.renderNullChecklistItem = function(opt_data, opt_ignored) {
  return '<input type="hidden" name="' + soy.$$escapeHtml(opt_data.customfieldId) + '" value=\'\'>';
};
if (goog.DEBUG) {
  okapya.tpl.renderNullChecklistItem.soyTemplateName = 'okapya.tpl.renderNullChecklistItem';
}


okapya.tpl.renderChecklistItemView = function(opt_data, opt_ignored) {
  return '<div class="o-checklist-item' + ((opt_data.checked) ? ' o-checklist-item-completed' : '') + '"><div class="o-checkbox"><span class="o-icon-ok-1"></span></div><div class="o-checklist-item-details' + ((opt_data.parameters.strikeThrough && opt_data.checked) ? ' o-strike-through' : '') + '">' + okapya.tpl.renderChecklistItemParagrah(opt_data) + '</div></div>';
};
if (goog.DEBUG) {
  okapya.tpl.renderChecklistItemView.soyTemplateName = 'okapya.tpl.renderChecklistItemView';
}


okapya.tpl.renderChecklistItemParagrah = function(opt_data, opt_ignored) {
  return '<p>' + ((opt_data.parameters.showStatusMenu && opt_data.status.active) ? '<span class="o-checklist-status aui-lozenge aui-lozenge-subtle aui-lozenge-' + soy.$$escapeHtml(opt_data.status.type) + '">' + soy.$$escapeHtml(opt_data.status.text) + '</span>' : '') + soy.$$filterNoAutoescape(opt_data.text) + ((opt_data.parameters.emphasizeMandatory && opt_data.mandatory) ? '<span class="o-mandatory o-icon-asterisk-1"></span>' : '') + '</p>';
};
if (goog.DEBUG) {
  okapya.tpl.renderChecklistItemParagrah.soyTemplateName = 'okapya.tpl.renderChecklistItemParagrah';
}


okapya.tpl.renderCopyPanel = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml("Copy the following text and paste it into the checklist input area to recreate the checklist items. You can also chose to modify its content first in order to fit your needs.") + '</p><textarea>' + soy.$$escapeHtml(opt_data.checklistContent) + '</textarea><div class="o-copy-checklist-img"></div>';
};
if (goog.DEBUG) {
  okapya.tpl.renderCopyPanel.soyTemplateName = 'okapya.tpl.renderCopyPanel';
}
;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/view/checklistHeader.soy' */
// This file was automatically generated from checklistHeader.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace okapya.tpl.
 */

if (typeof okapya == 'undefined') { var okapya = {}; }
if (typeof okapya.tpl == 'undefined') { okapya.tpl = {}; }


okapya.tpl.renderChecklistHeader = function(opt_data, opt_ignored) {
  var output = ((opt_data.checklistName != null) ? '<div class="o-header-title">' + soy.$$escapeHtml(opt_data.checklistName) + '</div>' + okapya.tpl.renderProgressBar(opt_data) : '') + '<div class="o-header-details">' + okapya.tpl.renderCompletionBadge({completedItemsCount: opt_data.completedItemsCount, itemsCount: opt_data.itemsCount, mandatoryCompleted: opt_data.mandatoryCompleted, banner: null, customFieldName: null, readOnlyBanner: opt_data.readOnlyBanner}) + '<div class="o-header-button">' + okapya.tpl.renderCheckedFilter(opt_data);
  if (opt_data.showMenu) {
    output += '<span class="">';
    var menuId__soy27 = 'o-header-menu-' + soy.$$escapeHtml(opt_data.customFieldIdAsLong) + ((opt_data.menuSeed) ? '-' + soy.$$escapeHtml(opt_data.menuSeed) : '');
    output += '<a href="#' + soy.$$escapeHtml(menuId__soy27) + '" aria-owns="' + soy.$$escapeHtml(menuId__soy27) + '" aria-haspopup="true" class="o-checklist-menu aui-style-default aui-button aui-button-subtle aui-button-compact aui-dropdown2-trigger aui-dropdown2-trigger-arrowless"><span class="aui-icon aui-icon-small aui-iconfont-more"></span></a></div>';
  }
  output += '</div></div>' + ((opt_data.checklistName == null) ? okapya.tpl.renderProgressBar(opt_data) : '');
  return output;
};
if (goog.DEBUG) {
  okapya.tpl.renderChecklistHeader.soyTemplateName = 'okapya.tpl.renderChecklistHeader';
}


okapya.tpl.renderCompletionBadge = function(opt_data, opt_ignored) {
  return '<div class="o-completion">' + ((opt_data.readOnlyBanner) ? '<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-complete o-header-readonly">' + soy.$$escapeHtml("Read-Only") + '</span>' : '') + ((((opt_data.banner == null) ? null : opt_data.banner.prefix) == 'Custom') ? '<span class="o-header-bannerprefix">' + soy.$$escapeHtml(opt_data.banner.customPrefix) + '</span>' : (((opt_data.banner == null) ? null : opt_data.banner.prefix) == 'CustomFieldName') ? '<span class="o-header-bannerprefix">' + soy.$$escapeHtml(opt_data.customFieldName) + ':</span>' : '') + '<span class="aui-lozenge' + ((((opt_data.banner == null) ? null : opt_data.banner.appearance) == 'Subtle') ? ' aui-lozenge-subtle' : '') + ' ' + ((opt_data.itemsCount <= 0) ? 'aui-lozenge-complete' : (opt_data.completedItemsCount == opt_data.itemsCount) ? 'aui-lozenge-success' : (opt_data.mandatoryCompleted) ? 'aui-lozenge-current' : '') + '">' + ((((opt_data.banner == null) ? null : opt_data.banner.type) == 'Custom') ? (opt_data.itemsCount <= 0) ? (opt_data.banner.emptyLabel) ? soy.$$escapeHtml(opt_data.banner.emptyLabel) : soy.$$escapeHtml("Empty") : (opt_data.completedItemsCount == opt_data.itemsCount) ? (opt_data.banner.completedLabel) ? soy.$$escapeHtml(opt_data.banner.completedLabel) : soy.$$escapeHtml("Completed") : (opt_data.mandatoryCompleted) ? (opt_data.banner.allMandatoryLabel) ? soy.$$escapeHtml(opt_data.banner.allMandatoryLabel) : soy.$$escapeHtml("All mandatory") : (opt_data.banner.incompleteLabel) ? soy.$$escapeHtml(opt_data.banner.incompleteLabel) : soy.$$escapeHtml("Incomplete") : (opt_data.itemsCount <= 0) ? soy.$$escapeHtml("Empty") : soy.$$escapeHtml(AJS.format("{0}/{1}",opt_data.completedItemsCount,opt_data.itemsCount)) + ((opt_data.completedItemsCount == opt_data.itemsCount) ? soy.$$escapeHtml(" - Completed") : (opt_data.mandatoryCompleted) ? soy.$$escapeHtml(" - All Mandatory") : '')) + '</span></div>';
};
if (goog.DEBUG) {
  okapya.tpl.renderCompletionBadge.soyTemplateName = 'okapya.tpl.renderCompletionBadge';
}


okapya.tpl.renderCheckedFilter = function(opt_data, opt_ignored) {
  return '' + ((opt_data.completedItemsCount < opt_data.itemsCount) ? '<a class="o-checked-filter' + ((opt_data.filtered) ? ' o-filtered' : '') + '" href="#"><span class="o-hide">' + soy.$$escapeHtml("Hide Checked") + '</span><span class="o-show">' + soy.$$escapeHtml("Show Checked") + '</span></a>' : '');
};
if (goog.DEBUG) {
  okapya.tpl.renderCheckedFilter.soyTemplateName = 'okapya.tpl.renderCheckedFilter';
}


okapya.tpl.renderProgressBar = function(opt_data, opt_ignored) {
  return '<div class="o-progress-bar"><div class="o-progress-bar-bg"><div class="o-progress-bar-fg" style="width: ' + soy.$$escapeHtml(opt_data.completedItemsCount / opt_data.itemsCount * 100) + '%;"/></div></div>';
};
if (goog.DEBUG) {
  okapya.tpl.renderProgressBar.soyTemplateName = 'okapya.tpl.renderProgressBar';
}
;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/view/view-data.js' */
define("okapya/checklist/view/view-data",[],function(){function a(c,b){this.view=c;this.mode=b}a.prototype.hasView=function(){return this.readOnlyView!==null};a.prototype.isActiveInDom=function(){return document.body.contains(this.view.el)};a.prototype.matchesDomElement=function(b){return b===this.view.el};a.prototype.isEditView=function(){return mode==="edit"};a.prototype.clear=function(){this.view.remove()};return a});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/view/menu.js' */
define("okapya/checklist/view/menu",[],function(){var a=okapya.Backbone.View.extend({events:{"click a":"menuItemClicked"},initialize:function(){this.hasMenuRows=this.el&&this.el.children.length>0},menuItemClicked:function(b){this.trigger(this.$(b.currentTarget).attr("menu-action"));b.preventDefault()}});return a});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/view/readonly.js' */
define("okapya/checklist/view/readonly",["okapya/checklist/view/header","okapya/marked-renderer"],function(a,b){var c=okapya.Backbone.View.extend({events:{},initialize:function(){this.model.set("expanded",false);this.header=null;if(this.model.get("items").length){this.header=new a({el:this.$el.find(".o-checklist-header"),model:{items:this.model.get("items"),customfieldId:this.model.get("context").id,showMenu:false,readOnlyBanner:false}});this.listenTo(this.header,"toggleFilter",this.toggleFilter,this)}this.filtered=false;this.showMore=this.$el.find("a.o-show-items");this.showMore.on("click",this.toggleShowMore.bind(this))},toggleFilter:function(){this.filtered=!this.filtered;this.$el.find(".o-checklist-items").empty();this.$el.find(".o-checklist-items-collapsible").empty();this.render()},render:function(){var h=this;var d=null;var f=this.model.get("context").parameters;var e=f.showMoreCount;this.renderHeader();var g=this.filtered?this.model.get("items").models.filter(function(i){return !i.get("checked")}):this.model.get("items").models;_.each(g,function(j,i){h=(e==0||i<e)?this.$el.find(".o-checklist-items"):this.$el.find(".o-checklist-items-collapsible");h.append(okapya.tpl.renderChecklistItemView({checked:j.get("checked"),text:b(j.get("name"),j.get("optionId")<=0),mandatory:j.get("mandatory"),status:j.getStatus(),parameters:f}))},this);if(e==0||g.length<=0||e>=g.length){this.showMore.removeClass("o-show-enabled")}else{this.showMore.addClass("o-show-enabled")}},renderHeader:function(){if(_.isNull(this.header)||_.isUndefined(this.header)){return}this.header.render()},toggleShowMore:function(){this.showMore.toggleClass("o-expanded");this.$el.find(".o-checklist-items-collapsible").toggle()},remove:function(){this.undelegateEvents();this.stopListening();this.showMore.off("click");this.$el.find(".o-checklist-items").empty();this.$el.find(".o-checklist-items-collapsible").empty();if(this.header!=null){this.header.undelegateEvents();this.header.$el.empty()}}});return c});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/view/header.js' */
define("okapya/checklist/view/header",[],function(){var a=okapya.Backbone.View.extend({events:{"click .o-checked-filter":"filterCompleted"},filterCompleted:function(){this.filtered=!this.filtered;this.trigger("toggleFilter",this);return false},initialize:function(){this.filtered=false},render:function(){var d=this.model.items;var c=d.filter(function(f){return f.get("checked")}).length;var b=true;var e=false;d.each(function(f){if(f.get("mandatory")){e=true;if(!f.get("checked")){b=false}}});this.$el.html(okapya.tpl.renderChecklistHeader({completedItemsCount:c,itemsCount:d.length,mandatoryCompleted:b&&e,filtered:this.filtered,customFieldIdAsLong:this.model.customfieldId,showMenu:this.model.showMenu&&d.length>0,checklistName:this.model.checklistName,menuSeed:this.model.menuSeed,readOnlyBanner:this.model.readOnlyBanner}))}});return a});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/view/item_menu.js' */
define("okapya/checklist/view/itemMenu",[],function(){var a=okapya.Backbone.View.extend({events:{"click a":"menuItemClicked"},menuItemClicked:function(c){var d=this.$(c.currentTarget).attr("status");var b=_.find(this.model.statuses,function(e){return e.statusId==d});this.trigger("statusChanged",b);c.preventDefault()},initialize:function(){var c=this.model.initialStatusId;if(c!="none"){var b='[status="'+c+'"]';this.$(b).addClass("checked")}else{this.$("[status]").removeClass("checked")}}});return a});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/view/factory.js' */
define("okapya/checklist/view/factory",["okapya/checklist/view/readonly","okapy/checklist/view/edit","okapya/checklist/items","okapya/checklist/model","okapya/checklist/view/view-data","okapya/checklist/utils/misc"],function(d,j,a,f,i,g){function h(n,m,k){if(_.isNull(k)||_.isUndefined(k)){return}var l=new d({el:n,model:new f({items:new a(k,{comparator:"rank"}),context:m})});l.render();return l}function b(o,n,k){if(_.isNull(k)||_.isUndefined(k)){return}var m=null;e(k);var m=new j({el:o,model:new f({items:new a(k,{comparator:"rank"}),context:n})});m.render(true);var l=false||!!document.documentMode;if(l&&g.fakePlaceHolder){g.fakePlaceHolder(m.$el.find("[placeholder]"))}return m}function e(k){var l=_.sortBy(k,"rank");_.each(l,function(n,m){n.rank=m})}function c(o,n,m,l){var k=null;AJS.$(n).spin();if(o=="edit"){k=b(n,m,l)}else{k=h(n,m,l)}AJS.$(n).spinStop();return new i(k,o)}return{createView:c,createReadOnlyView:h,createEditView:b}});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/view/item.js' */
define("okapya/checklist/view/item",["okapya/checklist/editor","okapya/checklist/view/itemMenu","okapya/marked-renderer","okapya/checklist/utils/misc"],function(b,f,e,a){var d=new b();var c=okapya.Backbone.View.extend({tagName:"div",className:"o-checklist-item",events:{"click .o-checkbox":"toggleChecked","click .o-non-editable .o-checklist-item-details":"toggleChecked","click .o-checklist-item-details>p":"edit","click .o-checklist-actions>span.o-icon-pencil":"edit","keypress textarea":"onKeyPress","click textarea":"onFocus","click .o-edit-actions input":"keepEditorOpen","click aui-toggle>input":"toggleMandatory","click .save":"save","click .o-cancel":"cancel","click .o-checklist-actions>.o-delete-item":"deleteItem",changeRank:"changeRank",},initialize:function(){this.listenTo(this.model,"change",this.render);if(this.model.isOption()||!this.model.get("canEdit")){this.$el.addClass("o-non-editable")}this.statusMenu=null;this.customfieldId=null;this.parameters=null;this.statuses=null;this.menuSeed=Math.ceil(Math.random()*2000+1)},cleanUp:function(){this.statusMenu.remove()},onKeyPress:function(g){if(g.keyCode!=13){return true}if(!a.trim(AJS.$(g.target).val())){return false}this.save();d.hideEditor()},onFocus:function(g){this.keepEditorOpen()},save:function(){var h=a.trim(this.$("textarea").val());if(h){this.model.set("name",h);d.registerEditorCommand()}var g=this.$("aui-toggle>input").prop("checked");if(this.model.get("mandatory")!=g){this.model.set("mandatory",this.$("aui-toggle>input").prop("checked"));d.registerEditorCommand()}},render:function(){this.$el.html(okapya.tpl.renderChecklistItem({option:this.model.get("optionId")<=0,text:e(this.model.get("name"),this.model.get("optionId")<=0),mandatory:this.model.get("mandatory"),editText:this.model.get("name"),customfieldId:this.customfieldId,jsonValue:this.getCleanModelJson(),status:this.model.getStatus(),parameters:this.parameters,statuses:this.statuses,menuSeed:this.menuSeed,canComplete:this.model.get("canComplete")}));this.resetCheck();this.registerStatusMenu();this.trigger("rendered",this);return this},registerStatusMenu:function(){if(!_.isNull(this.statusMenu)){this.stopListening(this.statusMenu,"statusChanged",this.changeStatus);this.statusMenu.remove()}this.statusMenu=new f({model:{initialStatusId:this.model.get("statusId"),statuses:this.statuses},el:this.$("#item-"+this.customfieldId+"-status-"+this.menuSeed)});this.listenTo(this.statusMenu,"statusChanged",this.changeStatus,this)},changeStatus:function(g){if(this.model.get("canComplete")){if(_.isNull(g)||_.isUndefined(g)){this.model.clearStatus()}else{if(g.statusId!=this.model.get("statusId")){this.model.setStatus(g)}}}},getCleanModelJson:function(){var g=this.model.clone();g.unset("canEdit",{silent:true});g.unset("canComplete",{silent:true});return JSON.stringify(g.toJSON()).replace(/'/g,"\\u0027")},toggleChecked:function(){if(this.model.get("canComplete")){this.keepEditorOpen();this.model.toggle(true);this.resetCheck();this.trigger("toggleChecked",this)}},resetCheck:function(g){g=(_.isUndefined(g)||_.isNull(g))?this.model.get("checked"):g;if(g){this.$el.addClass("o-checklist-item-completed")}else{this.$el.removeClass("o-checklist-item-completed")}this.model.setCheck(g,true);this.$(".o-checklist-item-details input").val(this.getCleanModelJson())},toggleMandatory:function(){this.keepEditorOpen()},isEditorOpened:function(){return d.isEditorOpened()&&d.getEditor()==this},keepEditorOpen:function(){d.forceOpen(true);d.registerEditorCommand()},deleteItem:function(g){this.trigger("deleteItem",this);g.preventDefault()},edit:function(){if(!this.model.isOption()&&this.model.get("canEdit")){d.setEditor(this);d.showEditor();this.keepEditorOpen();this.$("aui-toggle>input").prop("checked",this.model.get("mandatory"));this.$("textarea").val(this.model.get("name"));this.$("textarea").select();this.trigger("editStarted",this)}},editorHiding:function(){this.trigger("editEnded",this)},cancel:function(g){d.registerEditorCommand();this.$("textarea").val(this.model.get("name"))},changeRank:function(g,h){if(this.model.get("rank")!=h){this.model.set("rank",h,{silent:true})}},remove:function(){okapya.Backbone.View.prototype.remove.call(this);d.clearEditor()}});return c});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/view/edit.js' */
define("okapy/checklist/view/edit",["okapya/checklist/view/item","okapya/checklist/view/header","okapya/checklist/view/menu","okapya/checklist/utils/misc","okapya/checklist/utils/importers","aui/params"],function(e,c,b,a,d,g){var f=okapya.Backbone.View.extend({initialized:false,events:{"keypress .o-new-checklist-item":"createOnEnter"},initialize:function(){this.autoSave=!_.isUndefined(this.model.get("context").issueId);this.$(".o-checklist-items").append(okapya.tpl.renderChecklist());this.separator=this.$el.find(".o-local-items-separator");this.input=this.$(".o-new-checklist-item");this.listenTo(this.model.get("items"),"add",this.addItem);this.listenTo(this.model.get("items"),"change",this.renderHeader);this.itemViews={};var i="#"+this.model.get("context").customfieldId+" .o-orderable-items";this.$(".o-orderable-items").sortablechecklist({axis:"y",tolerance:"pointer",containment:i,cursor:"move",helper:"clone",update:this.reorderItems.bind(this),stop:this.itemDragDropped.bind(this)});var j=this.$(".o-checklist-header");var h=j.attr("menu-seed");this.menu=new b({model:{items:this.model.get("items")},el:this.$el.find("#o-header-menu-"+this.model.get("context").id+(h?("-"+h):"")),});this.header=new c({el:j,model:{items:this.model.get("items"),customfieldId:this.model.get("context").id,showMenu:this.menu.hasMenuRows,checklistName:this.autoSave?this.model.get("context").checklistName:null,menuSeed:h,readOnlyBanner:!this.model.get("context").canComplete}});if(!this.model.get("context").canComplete){this.$(".o-checklist-items").addClass("o-read-only")}if(this.model.get("context").parameters.showStatusMenu&&this.model.get("context").canComplete){this.showStatuses()}if(!this.model.get("context").parameters.allowLocalItems){this.input.hide()}this.errorMessage=this.$el.find(".o-operation-error");this.listenTo(this.header,"toggleFilter",this.toggleFilter,this);this.listenTo(this.menu,"delete-items",this.deleteItems,this);this.listenTo(this.menu,"check-items",this.checkItems,this);this.listenTo(this.menu,"uncheck-items",this.uncheckItems,this);this.listenTo(this.menu,"clear-statuses",this.clearStatuses,this);this.listenTo(this.menu,"copy-items",this.copyItems,this);this.filtered=false;this.initialized=true;this.editForm=AJS.$("#"+this.model.get("context").customfieldId+"-form");this.editForm.on("before-submit",this.acceptPendingChanges.bind(this))},saving:null,transactionBuffer:null,saveItems:function(){var j=this.model.get("context");var k=JSON.stringify(this.getIssuePayload(j));if(!this.initialized||!this.autoSave||(this.saving!=null&&this.saving.data===k)){return}var l=function(o,m,p){if(_.isNull(this.transactionBuffer)){this.saving=null}else{var n=this.transactionBuffer;this.transactionBuffer=null;this.model.sync("update",this.model,n)}jQuery(GH).trigger("issueUpdated",{issueId:j.issueId,source:"detailView",fieldId:j.customfieldId,fieldChanges:{},fromChecklist:true});this.errorMessage.hide()}.bind(this);var i=function(n,m,p){var o=JSON.parse(n.responseText).errors;if(o[j.customfieldId]){this.errorMessage.append("<p class='o-error-message'>\""+o[j.customfieldId]+'"</p>')}this.errorMessage.show();this.saving=null}.bind(this);var h={url:g.baseURL+"/rest/api/2/issue/"+j.issueId,data:k,contentType:"application/json",success:l,error:i};if(this.saving!=null){this.transactionBuffer=h}else{this.saving=h;this.model.sync("update",this.model,h)}},acceptPendingChanges:function(){_.each(this.itemViews,function(h){if(h.isEditorOpened()){h.save()}});if(this.input.val()!=this.input.attr("placeholder")){this.createItemFromInput()}},getIssuePayload:function(h){var i={fields:{}};i.fields[h.customfieldId]=this.getChecklistJson(h);return i},getChecklistJson:function(j){var i=this.model.get("items").models;var k=this.model.get("context").parameters;var h=[];_.each(this.model.get("items").models,function(o){var l=o.attributes;var m=l.optionId>0?true:false;var n={name:l.name,id:l.id,rank:l.rank,checked:l.checked,option:m,mandatory:l.mandatory,};if(!_.isNull(o.statusObj)&&!_.isUndefined(o.statusObj)&&k.showStatusMenu){n.status={id:o.statusObj.statusId}}h.push(n)});return h},toggleFilter:function(){this.filtered=!this.filtered;this.render()},addItem:function(h){h.set("rank",this.model.get("items").length,{silent:true});if(_.isUndefined(h.id)){h.id=h.cid;h.set("id",-1*this.model.get("items").length)}},createOnEnter:function(h){if(h.keyCode!=13){return true}this.createItemFromInput();h.preventDefault()},createItemFromInput:function(){var j=a.trim(this.input.val());if(!j){return}var i=d.legacy;if(/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(j.replace(/"(\\.|[^"\\])*"/g,""))){i.importData(j);if(i.isValidInput()){if(i.hasErrors()){alert(i.validationErrorMsg)}else{var h=this.model.get("items");_.each(i.getChecklistItems(),function(n){this.model.get("items").add(n)},this);this.input.val("")}}else{this.model.get("items").add({name:j});this.input.val("")}}else{try{var m=/^\s*\[?\s*{\s*".*"\s*:/;if(m.test(j)){_.each(this.sanitizeJsonInput(JSON.parse(j)),function(n){this.model.get("items").add(n)},this)}else{this.model.get("items").add({name:j})}this.input.val("")}catch(k){var l=AJS.params["okapya.import.error"]+"\n\n"+k;alert(l)}}this.render()},sanitizeJsonInput:function(i){var h=null;if(i.constructor===Array){return _.map(i,function(j){return this.whiteFilterItem(j)},this)}else{return this.whiteFilterItem(i)}},whiteFilterItem:function(h){return _.pick(h,"name","mandatory")},reorderItems:function(i,j){var k=this.$(".o-non-orderable-options").children().size();var h=this;this.$(".o-checklist-items .o-orderable-items").children().each(function(l,m){h.$(m).trigger("changeRank",k+l)});this.model.get("items").sort();this.saveItems()},itemDragDropped:function(i,j){var h=$(j.item).find("textarea");h.focus()},render:function(i){this.initialized=!(i||false);this.renderHeader();var h=null;var j=this;this.clearItems();_.each(this.model.get("items").models,function(k){j=(k.isOption()||!this.model.get("context").canEdit)?this.$(".o-non-orderable-options"):this.$(".o-orderable-items");if(!this.itemViews.hasOwnProperty(k.cid)){k.set("canEdit",this.model.get("context").canEdit,{silent:true});k.set("canComplete",this.model.get("context").canComplete,{silent:true});h=new e({model:k});h.customfieldId=this.model.get("context").customfieldId;h.parameters=this.model.get("context").parameters;h.statuses=this.model.get("context").statuses;this.itemViews[k.cid]=h;this.listenTo(h,"deleteItem",this.deleteItem,this);this.listenTo(h,"toggleChecked",this.toggleChecked,this);this.listenTo(h,"editStarted",this.itemEditStarted);this.listenTo(h,"editEnded",this.itemEditEnded);this.listenTo(h,"rendered",this.itemRendered)}else{h=this.itemViews[k.cid];h.delegateEvents()}if(this.filtered&&k.get("checked")){h.$el.hide()}else{h.$el.show()}j.append(h.render().el)},this);this.renderNullChecklistItem();if(!this.model.get("context").canEdit){this.input.hide()}this.model.hasGlobalAndLocalItems()&&this.model.get("context").canEdit?this.separator.show():this.separator.hide();this.initialized=true},renderNullChecklistItem:function(){if(this.model.get("items").size()<=0){this.$(".o-checklist-items").addClass("o-empty");this.$(".o-orderable-items").append(okapya.tpl.renderNullChecklistItem({customfieldId:this.model.get("context").customfieldId}))}else{this.$(".o-checklist-items").removeClass("o-empty")}},itemEditStarted:function(h){this.trigger("itemEditStarted",h)},itemEditEnded:function(h){this.trigger("itemEditEnded",h)},itemRendered:function(h){this.trigger("itemRendered",h)},toggleChecked:function(){if(this.filtered){if(this.model.get("items").all(function(h){return h.get("checked")})){this.header.filtered=false;this.toggleFilter()}else{this.render()}}else{this.renderHeader()}},deleteItems:function(){_.each(this.itemViews,function(h){if(h.model.isOption()){h.resetCheck(false);h.model.clearStatus(true)}else{this.deleteItemView(h,true)}},this);this.render()},checkItems:function(){_.each(this.itemViews,function(h){h.resetCheck(true)},this);if(this.filtered){this.header.filtered=false;this.toggleFilter()}this.renderHeader()},uncheckItems:function(){_.each(this.itemViews,function(h){h.resetCheck(false)},this);if(this.filtered){this.render()}else{this.renderHeader()}},showStatuses:function(h){this.$(".o-checklist-items").addClass("show-status")},clearStatuses:function(){this.model.get("items").each(function(h){h.clearStatus()})},copyItems:function(){var i=new AJS.Dialog({width:400,height:450,id:"o-checklist-export",closeOnOutsideClick:true});var k=this.model.get("items").filter(function(l){return !l.isOption()});var j=d.legacy;i.addPanel("",okapya.tpl.renderCopyPanel({checklistContent:j.toText(k)}),"o-copy-panel");var h=AJS.params["okapya.close"]||AJS.$(".parameters input[title='okapya.close']").get(0).value;i.addButton(h,function(l){l.hide()});i.show();this.trigger("exportDialogShown",i)},renderHeader:function(){this.saveItems();if(_.isNull(this.header)||_.isUndefined(this.header)){return}this.header.render();this.trigger("headerRendered",this.header)},deleteItem:function(h){this.deleteItemView(h);this.renderHeader();this.renderNullChecklistItem()},deleteItemView:function(i,h){h=(_.isNull(h)||_.isUndefined(h))?false:h;i.cleanUp();i.remove();this.model.get("items").remove(i.model,{silent:h})},clearItems:function(){this.$(".o-non-orderable-options").empty();this.$(".o-orderable-items").empty()},remove:function(){this.trigger("removing");this.undelegateEvents();this.stopListening();for(var h in this.itemViews){if(this.itemViews.hasOwnProperty(h)){this.itemViews[h].remove();delete this.itemViews[h]}}this.$el.find(".o-checklist-items").empty();this.header.undelegateEvents();this.header.$el.empty();this.editForm.off("before-submit",this.acceptPendingChanges)}});return f});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/editor.js' */
define("okapya/checklist/editor",[],function(){var a=function(){this.currentEditor=null;this.stayOpen=true;this.opened=false;this.editorCommand=false;this.binded=false;a.prototype.setEditor=function(d){if(!this.binded){AJS.$("body").click(b);AJS.$(document).keyup(c);this.binded=true}if(this.currentEditor&&d!=this.currentEditor){this.currentEditor.save();this.hideEditor()}this.currentEditor=d};a.prototype.getEditor=function(){return this.currentEditor};a.prototype.hasActiveEditor=function(){return this.currentEditor!=null};a.prototype.showEditor=function(){this.currentEditor.$el.addClass("edit");this.currentEditor.$el.closest(".o-checklist-items").addClass("editing");this.opened=true};a.prototype.hideEditor=function(){if(!this.stayOpen){this.currentEditor.$el.removeClass("edit");this.currentEditor.$el.closest(".o-checklist-items").removeClass("editing");if(this.opened){this.opened=false;this.currentEditor.editorHiding()}}this.stayOpen=false;this.editorCommand=false};a.prototype.forceOpen=function(d){this.stayOpen=d};a.prototype.registerEditorCommand=function(){this.editorCommand=true};a.prototype.isEditorCommand=function(){return this.editorCommand};a.prototype.isEditorOpened=function(){return this.opened};a.prototype.clearEditor=function(){if(this.binded){this.currentEditor=null;AJS.$("body").off("click",b);AJS.$(document).off("keyup",b);this.binded=false}};var b=function(d){if(this.hasActiveEditor()){if(!this.isEditorCommand()){this.getEditor().save()}this.hideEditor()}}.bind(this);var c=function(d){if(d.keyCode==27&&this.hasActiveEditor()){this.getEditor().cancel();this.hideEditor()}}.bind(this)};return a});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/model.js' */
define("okapya/checklist/model",[],function(){return okapya.Backbone.Model.extend({hasGlobalAndLocalItems:function(){var c=this.get("items");if(c){var b=false;var a=false;c.forEach(function(d){if(d.isOption()){b=true}else{a=true}})}return a&&b},initialize:function(){var a=this.get("items");var b=this.get("context").statuses;a.each(function(c){var e=c.get("statusId");var d=_.find(b,function(f){return f.statusId==e});c.setStatusObj(d)})}})});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/items.js' */
define("okapya/checklist/items",[],function(){var a=okapya.Backbone.Model.extend({defaults:function(){return{name:"Empty item...",checked:false,mandatory:true,optionId:0,statusId:"none",rank:99999}},toggle:function(b){this.setCheck(!this.get("checked"),b)},setCheck:function(e,c){c=(_.isNull(c)||_.isUndefined(c))?false:c;var d=!this.get("checked")&&e;var b=this.get("checked")&&!e;var g=!_.isNull(this.statusObj)&&!_.isUndefined(this.statusObj);var f=g&&((d&&this.statusObj.statusBehavior=="REMOVE")||(b&&this.statusObj.statusBehavior=="RESET"));if(f){c=false;this.setStatus(null,true)}this.set("checked",e,{silent:c})},isOption:function(){var b=this.get("optionId");return b>0},setStatus:function(b,c){c=(_.isNull(c)||_.isUndefined(c))?false:c;if(_.isNull(b)||_.isUndefined(b)){this.setStatusObj(null);this.set("statusId","none",{silent:c});return}this.setStatusObj(b);this.set("statusId",b.statusId,{silent:c});if(b.completionBehavior=="COMPLETE"){this.setCheck(true,c)}else{if(b.completionBehavior=="INCOMPLETE"){this.setCheck(false,c)}}},setStatusObj:function(b){this.statusObj=b},clearStatus:function(b){b=(_.isNull(b)||_.isUndefined(b))?false:b;this.setStatus(null,b)},getStatus:function(c){var b={active:!_.isNull(this.statusObj)&&!_.isUndefined(this.statusObj),text:"",type:""};if(b.active){b.text=this.statusObj.name;b.type=this.statusObj.statusStyle.toLowerCase()}return b}});return okapya.Backbone.Collection.extend({model:a})});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist/manager.js' */
define("okapya/checklist/manager",["okapya/checklist/view/factory","jira/util/events","jira/util/events/types","jira/util/events/reasons","okapya/checklist/utils/custom-blur-trigger"],function(e,i,h,d,f){var c={};i.bind(h.NEW_CONTENT_ADDED,function(n,l,m){var j=l.find(".o-checklist");if(j.length<=0){return}if(m===undefined){m=d.dialogReady}switch(m){case d.pageLoad:case d.panelRefreshed:case d.dialogReady:b();g(j);break;case d.inlineEditStarted:b("edit");var k=g(j);f.setEditView(c[k[0]].view);break}});function b(j){var k=null;for(var l in c){k=c[l];if((j===undefined||j==k.mode)&&!k.isActiveInDom()){k.clear();delete c[l]}}}function a(k,l){var j=c[k];if(j){return j.matchesDomElement(l)}return false}function g(k){var j=[];k.each(function(){var m=JSON.parse(this.getAttribute("data-checklist-context"));var n=this.getAttribute("data-checklist-mode");var o=m.id.concat("_").concat(n);if(n&&m&&!a(o,this)){var l=JSON.parse(this.getAttribute("data-checklist"));c[o]=e.createView(n,this,m,l);j.push(o)}});return j}return{init:g}});;
;
/* module-key = 'com.okapya.jira.checklist:checklist-resources', location = '/includes/js/checklist.js' */
if(typeof okapya=="undefined"){var okapya={}}if(typeof okapya.GH=="undefined"){okapya.GH={}}okapya.Backbone=Backbone.noConflict();var manager=require("okapya/checklist/manager");var events=require("jira/util/events");(function(a,c){var b=false;var d=function(f){var e=AJS.$("#ghx-detail-contents").find(".o-checklist");if(e.size()>0){c.init(e)}};okapya.GH.init=function(e){if(e&&e.size()>0){c.init(e)}if(!b&&AJS.$("#ghx-detail-contents").size()>0){b=true;JIRA.bind(GH.DetailsView.API_EVENT_DETAIL_VIEW_UPDATED,d)}};if(typeof GH!=="undefined"){AJS.$(GH).bind("issueUpdated",function(g,h){var e=h.fromChecklist||false;if(GH.GridDataController.getModel()){var f=GH.GridDataController.getModel().getIssueDataById(h.issueId);if(f&&f.parentId&&!e){GH.DetailsView.reload()}}})}}(events,manager));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-analytics-tracker', location = 'includes/js/rapid/AnalyticsTracker.js' */
define("jira-agile/rapid/analytics-tracker",["require"],function(e){function a(e,a,t){if(i.isUndefined(e))throw new Error("You must specify a category");this.params={},this.params.category=e;var r=0;i.isUndefined(a)||(this.params.action=a,r++,i.isUndefined(t)||(this.params.label=t,r++)),this.requiredArgumentNames=["action","label","value"].slice(r),this.useAsync=!0}var i=e("underscore");return a.prototype.setAsync=function(e){return this.useAsync=e,this},a.prototype.trigger=function(){this.requiredArgumentNames.length<arguments.length&&AJS.log("Warning: too many arguments passed in. Needed at most "+this.requiredArgumentNames.length+" but got "+arguments.length);for(var e=i.clone(this.params),a=0;a<arguments.length&&!i.isUndefined(this.requiredArgumentNames[a]);a++)e[this.requiredArgumentNames[a]]=arguments[a];this._validateParams(e);var t="gh.analytics.async";AJS.$(AJS).trigger(t,e)},a.prototype._validateParams=function(e){var a=["category","action","label"];i.each(a,function(a){i.isUndefined(e[a])||i.isString(e[a])?i.isUndefined(e[a])&&(e[a]=""):e[a]=e[a].toString()}),i.each(["category","action"],function(a){e[a]=e[a].replace(/\s+/g,"")}),i.isUndefined(e.value)||(e.value=parseInt(e.value,10),isNaN(e.value)&&(e.value=void 0))},a}),AJS.namespace("GH.AnalyticsTracker",null,require("jira-agile/rapid/analytics-tracker"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-help-analytics', location = 'includes/js/rapid/ui/help/HelpAnalytics.js' */
AJS.$(function(){var e=require("jira-agile/rapid/analytics-tracker"),r=function(r){return new e(r).setAsync(!1)};AJS.$("#gh_view_help").click(function(e){return r("gh.gethelp").trigger("usermenu","docs"),n(AJS.$(this))}),AJS.$("#greenhopper-my-jira-home-enablement").click(function(e){return r("gh.myjirahome").trigger("usermenu","enabled"),n(AJS.$(this))}),AJS.$("#greenhopper-my-jira-home-enablement-ondemand").click(function(e){return r("gh.myjirahome").trigger("usermenu","set"),n(AJS.$(this))}),AJS.$("#greenhopper-my-jira-home-disablement-ondemand").click(function(e){return r("gh.myjirahome").trigger("usermenu","disable"),n(AJS.$(this))}),AJS.$("#greenhopper-my-jira-home-set").click(function(e){return r("gh.myjirahome").trigger("usermenu","set"),n(AJS.$(this))}),AJS.$("#beta_gh\\.configuration\\.rapid\\.removal").click(function(e){var n=AJS.$(this),t=n.attr("checked")?"on":"off";return r("gh.labs.feature").trigger("rapid_removal",t),!0}),AJS.$(document).delegate("#js-classic-link_lnk","click",function(e){return r("gh.agile.menu").trigger("classic"),!0});var n=function(e){return"_blank"==e.attr("target")||(setTimeout('document.location = "'+e.attr("href")+'"',100),!1)}});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-help-analytics', location = 'includes/js/rapid/Analytics.js' */
define("jira-agile/rapid/analytics",["jquery","underscore"],function(n,a){"use strict";function e(){n(document).on(l,function(n,a){i(a)})}function i(n){var e={},i=n.category;a.isUndefined(n.action)||(i=i+"."+n.action),a.isUndefined(n.label)||(e.label=n.label),a.isUndefined(n.value)||(e.value=n.value),AJS.trigger("analytics",{name:i,data:e})}GH.AnalyticsEnabled=!0;var l="gh.analytics.async";e();var t={};return t.isEnabled=function(){return GH.AnalyticsEnabled},t.setEnabled=function(n){return GH.AnalyticsEnabled=n},t}),AJS.namespace("GH.Analytics",null,require("jira-agile/rapid/analytics"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-globalissueoperations', location = 'includes/js/gh-globalissueoperations.js' */
define("jira-agile/gh-globalissueoperations",["jira/dialog/form-dialog","jira/dialog/dialog-register","jquery"],function(r,i,e){var a=require("jira-agile/rapid/analytics-tracker"),o=new a("gh.issueaction.gotorapidboard").setAsync(!1),n=r.extend({_performRedirect:function(r){o.trigger("direct"),window.location.href=r}}),t=new n({id:"gh-rapidboard-dialog",trigger:"a.issueaction-greenhopper-rapidboard-operation",ajaxOptions:function(){return i.getDefaultAjaxOptions.apply(this,arguments)}}),s=function(r,i){var a="",o=e(r);return o.hasClass("js-rapidboard-operation-sprint")?a="sprint.":o.hasClass("js-rapidboard-operation-issue")&&(a="issue."),a+=i};return{init:function(){e(document).on("simpleClick",".issueaction-greenhopper-rapidboard-operation",function(r){r.preventDefault();var i=s(r.currentTarget,"open");o.trigger(i),t.show()}),e(document).on("simpleClick",".js-select-rapidboard",function(r){var i=s(r.currentTarget,"chosen");o.trigger(i)})}}}),require("jira-agile/gh-globalissueoperations").init();;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/gh-namespace.js' */
AJS.namespace("GH.namespace",null,AJS.namespace);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/initFieldPickers.js' */
!function(e){function n(n){e(".js-epic-picker",n).each(function(){var n=e(this),i=new JIRA.EpicPicker({element:n});e(document).trigger(JIRA.EpicPicker.READY_EVENT,i)})}function i(n){e(".js-sprint-picker",n).each(function(){var n=e(this),i=new JIRA.SprintPicker({element:n});e(document).trigger(JIRA.SprintPicker.READY_EVENT,i)})}JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,c,t){t!==JIRA.CONTENT_ADDED_REASON.panelRefreshed&&(n(c),i(c))})}(AJS.$);;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/EpicPicker.js' */
JIRA.EpicPicker=AJS.SingleSelect.extend({init:function(e){function r(e){var r=!p();return{searchQuery:e,projectKey:AJS.$(g).attr("data-project-key"),maxResults:100,hideDone:r}}function t(e,r,t,i){e=AJS.escapeHTML(String(e)),r=AJS.escapeHTML(String(r)),i=AJS.escapeHTML(String(i));var n=i.toUpperCase(),o=e.toUpperCase(),a=r.toUpperCase();n=(n+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1");var c,s=new RegExp("("+n+")","gi"),l=o.search(s);l>-1&&(c=e.slice(l,l+i.length),e=e.replace(c,"<em>"+c+"</em>")),l=a.search(s),l>-1&&(c=r.slice(l,l+i.length),r=r.replace(c,"<em>"+c+"</em>"));var p=t?" &#8226; "+"Done":"";return e+" - <span class='epic-menu-metadata'>("+r+p+")</span>"}function i(e){if(!e||!e.epicLists||0===e.total)return[];for(var r=[],t=d.getQueryVal(),i=0,a=0;a<e.epicLists.length;a++){var c=e.epicLists[a],s=c.epicNames,l=o(a+1,c.listDescriptor);s.length>0&&(_.each(s,function(e){l.addItem(n(e,t))}),r.push(l)),i+=s.length}if(i>0){var h=new AJS.GroupDescriptor({weight:0,showLabel:!1,items:[new AJS.ItemDescriptor({label:t,highlighted:!0,styleClass:"ghx-epic-menu-header",customItem:!0,html:"<li><h5>"+AJS.format("Showing {0} of {1} matching epics",i,e.total)+"</h5><label for='chkShowDoneEpic'><input type='checkbox' id='chkShowDoneEpic'"+(p()?" checked":"")+">"+"Show done epics"+"</label></li>"})]});r.unshift(h)}return r}function n(e,r){var i=e.key,n=e.name,o=e.isDone,a=t(n,i,o,r);return new AJS.ItemDescriptor({value:"key:"+i,fieldText:n,label:a,html:a,allowDuplicate:!1,highlighted:!0})}function o(e,r){return new AJS.GroupDescriptor({weight:e,label:r,replace:!0})}function a(e,r,t){var i=AJS.$(g);i.siblings(".ghx-error").remove(),i.before(GH.tpl.rapid.notification.renderAuiMessage({message:"Error"+": "+t,type:"error",className:"ghx-error aui-ss"}))}function c(e){var r="",t=!1;return e&&e.length>0&&(r=AJS.format("Epic with key \'\'{0}\'\' does not exist.",e),t=!0),{isError:t,message:r}}function s(e){var r,t;u.apply(d,[e]),e=e||AJS.$.trim(d.$field.val()),t=d.model.getDescriptor(e),!t&&d.$container.hasClass("aui-ss-editing")&&(r=c(e),r.isError?(d.options.errorMessage=r.message,d.showErrorMessage(e)):d.hideErrorMessage())}function l(){d._super(e),u=d.handleFreeInput,d.handleFreeInput=s;var r=require("jira/ajs/layer/inline-layer");d.dropdownController.bind(r.EVENTS.show,function(e,r){r.off("click",'.ghx-epic-menu-header label[for="chkShowDoneEpic"]',h),r.on("click",'.ghx-epic-menu-header label[for="chkShowDoneEpic"]',h)})}function p(){return"true"===localStorage.getItem("gh.epicpicker.showdone")}function h(e){e.preventDefault();var r=!p();try{localStorage.setItem("gh.epicpicker.showdone",r)}catch(e){}return d.$field.click(),!1}var u,g=e.element,d=this,m=require("wrm/context-path");AJS.$.extend(e,{submitInputVal:!0,showDropdownButton:!0,removeDuplicates:!0,ajaxOptions:{url:m()+"/rest/greenhopper/1.0/epics",query:!0,data:r,formatResponse:i,error:a}});var f=this.setSelection;this.setSelection=function(e,r){e.properties.customItem||f.apply(this,arguments)},l()}}),JIRA.EpicPicker.READY_EVENT="gh.epic-picker.ready";;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintPicker.js' */
JIRA.SprintPicker=AJS.SingleSelect.extend({init:function(e){function n(e){var n=f.apply(this,arguments);return n.find("a").append(GH.tpl.customfields.sprintpicker.renderSuggestionMeta(e.properties)),n}function t(e){var n,t=this.getSelectedDescriptor();e||t||p(null),o(),this.hideErrorMessage(),n=t?i(t):r(e),n.message&&(this.options.errorMessage=n.message,h.apply(this,arguments),this.$errorMessage.addClass("inline-edit-error")),n.needsScopeChangeWarning&&s()}function r(e){var n=null,t=!1;return e&&e.length>0?v?(n=AJS.format("{0} is not a valid sprint name. This issue will be returned to the backlog.",e),v===m.ACTIVE&&(t=!0)):n=AJS.format("{0} is not a valid sprint name.",e):v===m.ACTIVE&&(t=!0),{message:n,needsScopeChangeWarning:t}}function i(e){var n=!1;return v===m.ACTIVE?n=!!u()||I!=e.properties.value:v===m.FUTURE?e.properties.stateKey===m.ACTIVE&&(n=!0):v||e.properties.stateKey===m.ACTIVE&&(n=!0),{message:null,needsScopeChangeWarning:n}}function s(){if(!S){u()||(S=AJS.$(GH.tpl.rapid.notification.renderAuiMessage({type:"warning",className:"ghx-sprint-picker-scope-warning",icon:!0,title:"Sprint scope will be affected by this action."})));var e=E.$container.closest(".inline-edit-fields");e.size()>0?u()?(S=AJS.$('<div class="ghx-estimate-scope-warning"></div>'),S.text("Sprint scope will be affected by this action."),e.find(".field-group").append(S)):e.closest(".editable-field").append(S):(u()&&(S=AJS.$(GH.tpl.rapid.notification.renderAuiMessage({type:"warning",className:"ghx-sprint-picker-scope-warning",icon:!0,title:"Sprint scope will be affected by this action."}))),E.$container.closest(".field-group").append(S))}S.show()}function o(){S&&(S.remove(),S=null)}function a(e){if(!e.suggestions&&!e.allMatches)return[];var n=new AJS.GroupDescriptor({weight:0,label:"Suggestions"}),t=new AJS.GroupDescriptor({weight:1,label:"All sprints"});return _.each(g(e.suggestions),function(e){n.addItem(l(e,!0))}),_.each(g(e.allMatches),function(e){t.addItem(l(e,!1))}),[n,t]}function l(e,n){var t=AJS.escapeHTML(String(e.name));return new AJS.ItemDescriptor({value:e.id.toString(),label:e.name,html:t,stateKey:e.stateKey,boardName:e.boardName,allowDuplicate:!1,isSuggestion:n})}function g(e){return _.sortBy(e,function(e){return e.name.toLowerCase()})}function p(e){GH.SprintConfig&&AJS.$(GH).trigger("QuickEdit.fieldChange",{fieldId:GH.SprintConfig.getSprintFieldId(),fieldChangeData:{original:I,updated:e?e.properties.value:null}})}function d(){if(E._super(e),f=E.listController._renders.suggestion,h=E.showErrorMessage,E.listController._renders.suggestion=n,E.showErrorMessage=t,u()){var r=E.$container.closest(".inline-edit-fields"),i=r.size()>0;if(i){var s=w.parent().find("input");s.on("focus",function(){E.showErrorMessage()})}}w.bind("selected",function(e,n,t){u()&&i||t.showErrorMessage(t.getQueryVal()),p(n),E.showErrorMessage()}),E.suggestionsHandler=new J(E.options,E.model)}function c(e,n,t){var r=AJS.$(w);r.siblings(".ghx-error").remove(),r.before(GH.tpl.rapid.notification.renderAuiMessage({message:"Error"+": "+t,type:"error",className:"ghx-error aui-ss"}))}function u(){return!(!GH||!GH.DetailsObjectFactory)&&GH.DetailsObjectFactory.isInlineEditableEnabled()}var f,h,S,m={ACTIVE:"ACTIVE",FUTURE:"FUTURE",CLOSED:"CLOSED"},A=10,w=e.element,v=w.data("saved-state"),I=w.data("saved-id"),E=this,J=AJS.SelectSuggestHandler.extend({formatSuggestions:function(e,n){return e=this._super(e,n),0===n.length&&e[e.length-1].footerText("Start typing for sprints."),e}}),x=require("wrm/context-path");AJS.$.extend(e,{submitInputVal:!1,showDropdownButton:!0,removeOnUnSelect:!1,maxInlineResultsDisplayed:A,ajaxOptions:{url:x()+"/rest/greenhopper/1.0/sprint/picker",query:!0,formatResponse:a,error:c}}),d()}}),JIRA.SprintPicker.READY_EVENT="gh.sprint-picker.ready";;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintPicker.soy' */
// This file was automatically generated from SprintPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.customfields.sprintpicker.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.customfields == 'undefined') { GH.tpl.customfields = {}; }
if (typeof GH.tpl.customfields.sprintpicker == 'undefined') { GH.tpl.customfields.sprintpicker = {}; }


GH.tpl.customfields.sprintpicker.renderSuggestionMeta = function(opt_data, opt_ignored) {
  return '' + ((opt_data.boardName && ! opt_data.isSuggestion) ? '<span class=\'ghx-sprint-picker-meta\'> (' + GH.tpl.customfields.sprintpicker.renderMetaWithBoardName(opt_data) + ')</span>' : '<span class=\'ghx-sprint-picker-meta\'> (' + GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName(opt_data) + ')</span>');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderSuggestionMeta.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderSuggestionMeta';
}


GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml("Active sprint") : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml("Future sprint") : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName';
}


GH.tpl.customfields.sprintpicker.renderMetaWithBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format("Active sprint in {0}",opt_data.boardName)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml(AJS.format("Future sprint in {0}",opt_data.boardName)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderMetaWithBoardName.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderMetaWithBoardName';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintMultiselect.js' */
JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,t){function n(e){var t=new AJS.GroupDescriptor({weight:0,label:"Suggestions",items:_.map(e.suggestions,s)}),n=new AJS.GroupDescriptor({weight:1,label:"All sprints",items:_.map(e.allMatches,s)});return[t,n]}function s(e){e.date=moment(e.date,"YYYY-MM-DDTHH:mm:ssZ").format("LL");var t=GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta(e);return new AJS.ItemDescriptor({value:e.id,label:e.name,html:t,title:GH.tpl.customfields.sprintmultiselect.renderTooltip(e),date:e.date,boardName:e.boardName,stateKey:e.stateKey,highlighted:!0,allowDuplicate:!1})}AJS.$(".js-sprint-checkboxmultiselect",t).each(function(){var e=new AJS.CheckboxMultiSelect({element:this,maxInlineResultsDisplayed:5,content:"ajax",removeOnUnSelect:!0,ajaxOptions:{url:AJS.contextPath()+"/rest/greenhopper/1.0/sprint/picker",error:function(){e._setSuggestions([])},data:{excludeCompleted:!1},query:!0,formatResponse:n},suggestionsHandler:GH.SprintSuggestHandler})})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintMultiselect.soy' */
// This file was automatically generated from SprintMultiselect.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.customfields.sprintmultiselect.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.customfields == 'undefined') { GH.tpl.customfields = {}; }
if (typeof GH.tpl.customfields.sprintmultiselect == 'undefined') { GH.tpl.customfields.sprintmultiselect = {}; }


GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta = function(opt_data, opt_ignored) {
  return '<div>' + soy.$$escapeHtml(opt_data.name) + '</div><div><span class=\'ghx-sprint-multiselect-meta\'> ' + ((opt_data.boardName) ? GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName(opt_data) : GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName(opt_data)) + '</span></div>';
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta';
}


GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml("Active") : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml("Future") : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml("Closed") : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName';
}


GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format("Active \xb7 {0}",opt_data.boardName)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml(AJS.format("Future \xb7 {0}",opt_data.boardName)) : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml(AJS.format("Closed \xb7 {0}",opt_data.boardName)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName';
}


GH.tpl.customfields.sprintmultiselect.renderTooltip = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format("Started on {0}",opt_data.date)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml("Future") : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml(AJS.format("Closed on {0}",opt_data.date)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderTooltip.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderTooltip';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/SprintSuggestHandler.js' */
define("includes/js/field/sprint-suggest-handler",["jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler"],function(e){var t=function(e){_.each(e,function(e){var t=JSON.parse(e.properties.meta);t.date=moment(t.date).format("LL"),e.properties.title=GH.tpl.customfields.sprintmultiselect.renderTooltip(t),e.properties.html=GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta(t)})};return e.extend({formatSuggestions:function(e,r){var s=this.model.getDisplayableSelectedDescriptors();t(s);var i=function(e){var t;for(t in s)if(s[t].properties.value===e.properties.value.toString())return!1;return!0};return e=_.map(e,function(e){var t=_.filter(e.properties.items,i);return e.properties.items=t,e}),this._super(e,r)}})}),AJS.namespace("GH.SprintSuggestHandler",null,require("includes/js/field/sprint-suggest-handler"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/EpicLinkMultiselect.js' */
require(["require"],function(e){function t(e){return 0!==e.indexOf("project")?"":n(e).trim()}function n(e){function t(e){var t=e.match(/\bproject\s*=\s*(\S+)/i);return t?t[1]:null}function n(e){var t=e.match(/\bproject\s+in\s+\((.*?)\)/i);return t?t[1]:null}return t(e)||n(e)}var i=e("jquery"),r=e("underscore");JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(e,n){var s=i("#jql",this).val();n.find(".js-epiclink-checkboxmultiselect").each(function(){var e=new AJS.CheckboxMultiSelect({element:this,matchingStrategy:"(^|.*?(.*))({0})(.*)",maxInlineResultsDisplayed:5,content:"ajax",removeOnUnSelect:!0,ajaxOptions:{url:AJS.contextPath()+"/rest/greenhopper/1.0/epics",error:function(){e._setSuggestions([])},data:{searchQuery:"",projectKey:t(s),filterEpicsByGivenProjects:!0,maxResults:100},query:!0,minQueryLength:0,formatResponse:function(e){var t=[];if(t.push(new AJS.GroupDescriptor({weight:1,items:[new AJS.ItemDescriptor({highlighted:!0,label:"No Epic Link",value:"EMPTY",title:"EMPTY"})]})),!e||!e.epicLists||0===e.total)return t;for(var n=0;n<e.epicLists.length;n++){var i=e.epicLists[n],s=i.epicNames,c=new AJS.GroupDescriptor({label:i.listDescriptor,weight:n});s.length>0&&(r.each(s,function(e){c.addItem(new AJS.ItemDescriptor({highlighted:!0,label:e.name+" - ("+e.key+")",value:e.key,title:e.key}))}),t.push(c))}return t}},suggestionsHandler:GH.EpicLinkSuggestHandler})})})});;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-custom-field-pickers', location = 'includes/js/field/EpicLinkSuggestHandler.js' */
define("includes/js/field/epic-link-suggest-handler",["jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler"],function(e){return e.extend({formatSuggestions:function(e,r){var i=this.model.getDisplayableSelectedDescriptors(),t=function(e){var r;for(r in i)if(i[r].properties.value===e.properties.value.toString())return!1;return!0};return e=_.map(e,function(e){var r=_.filter(e.properties.items,t);return e.properties.items=r,e}),this._super(e,r)}})}),AJS.namespace("GH.EpicLinkSuggestHandler",null,require("includes/js/field/epic-link-suggest-handler"));;
;
/* module-key = 'com.pyxis.greenhopper.jira:project-template-resources', location = '/projecttemplates/soy/ProjectTemplates.soy' */
// This file was automatically generated from ProjectTemplates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.projecttemplates.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.projecttemplates == 'undefined') { GH.tpl.projecttemplates = {}; }


GH.tpl.projecttemplates.kanbanInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: "Use this project to optimise the flow of work in your development project. Add constraints to work-in-progress, analyze how long it takes to complete issues, find bottlenecks in your process, and more. This project includes a Kanban board, a basic Agile workflow and issue type configuration, which you can change later on.", extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon story"></span><span class="issuetype-name">' + soy.$$escapeHtml("Story") + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml("Epic") + '</span></span></li>', workflowScreenshotClass: 'kanban-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.kanbanInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.kanbanInfoPageJira7';
}


GH.tpl.projecttemplates.scrumInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: "Use this project to manage your Agile development work. Create a backlog, organise work into sprints, check progress using reports, and more. This project includes a Scrum board, a basic Agile workflow and issue type configuration, which you can change later on.", extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon story"></span><span class="issuetype-name">' + soy.$$escapeHtml("Story") + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml("Epic") + '</span></span></li>', workflowScreenshotClass: 'scrum-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.scrumInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.scrumInfoPageJira7';
}


GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: "Use this project to work on new features for your product and also track any bugs. This project provides you with a basic workflow and issue type configuration, which you can change later on.", extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon improvement"></span><span class="issuetype-name">' + soy.$$escapeHtml("Improvement") + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon newfeature"></span><span class="issuetype-name">' + soy.$$escapeHtml("New Feature") + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml("Epic") + '</span></span></li>', workflowScreenshotClass: 'basic-development-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7';
}


GH.tpl.projecttemplates.templateInfoDialog = function(opt_data, opt_ignored) {
  return '<div><div class="top-panel"><p>' + soy.$$escapeHtml(opt_data.description) + '</p></div><div class="left-panel"><h6>' + soy.$$escapeHtml("Issue Types") + '</h6><ul class="project-template-issuetype-list" ><li><span class="issuetype-list-label"><span class="issuetype-icon bug"></span><span class="issuetype-name">' + soy.$$escapeHtml("Bug") + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon task"></span><span class="issuetype-name">' + soy.$$escapeHtml("Task") + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon subtask"></span><span class="issuetype-name">' + soy.$$escapeHtml("Sub-task") + '</span></span></li>' + soy.$$filterNoAutoescape(opt_data.extraIssueTypes) + '</ul></div><div class="right-panel"><h6>' + soy.$$escapeHtml("workflow") + '</h6><div class="workflow ' + soy.$$escapeHtml(opt_data.workflowScreenshotClass) + '"></div></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.templateInfoDialog.soyTemplateName = 'GH.tpl.projecttemplates.templateInfoDialog';
}
;
;
/* module-key = 'com.pyxis.greenhopper.jira:gh-globalkeyboardshortcuts', location = 'includes/js/gh-globalkeyboardshortcuts.js' */
define("jira-agile/gh-globalkeyboardshortcuts",["jira-agile/rapid/ui/notification","jira/ajs/ajax/smart-ajax","jira/data/session-storage","jira/issuenavigator/issue-navigator/shortcuts","jira/issue","jira/issuenavigator/issue-navigator","jira/dialog/dialog","jquery","jira/util/browser"],function(e,s,o,t,a,i,r,n,u){var c={},d=require("wrm/context-path");return c.findSelectedIssueId=function(){var e;return jira&&jira.app&&(i&&i.getSelectedIssueId&&(e=i.getSelectedIssueId()),!e&&a&&a.getIssueId&&(e=a.getIssueId())),e},c.goToAgile=function(){var e="/secure/RapidBoard.jspa",s=d();s&&(e=s+e),window.location.href=e},c.followLink=function(e){var s=n(e);s.length>0&&("a"===s[0].nodeName.toLowerCase()||"link"===s[0].nodeName.toLowerCase())&&(s.click(),window.location.href=s.attr("href"))},c.sendToTop=function(e,o){if(window.GH&&GH.RapidBoard&&GH.Shortcut&&GH.Shortcut.sendToTop)return GH.Shortcut.sendToTop(e),void c.closeDialogAndPopMessage();if("Action"==e){var t=o||c.findSelectedIssueId(),a=d()||"";s.makeRequest({type:"post",contentType:"application/json",url:a+"/rest/greenhopper/1.0/rank/global/first",data:JSON.stringify({issueId:t}),success:c.handleRankSuccess}),n(AJS).trigger("gh.global.rankissues",{action:"rankToTop"+(e?e:""),count:1})}},c.sendToBottom=function(e,o){if(window.GH&&GH.RapidBoard&&GH.Shortcut&&GH.Shortcut.sendToBottom)return GH.Shortcut.sendToBottom(e),void c.closeDialogAndPopMessage();if("Action"==e){var t=o||c.findSelectedIssueId(),a=d()||"";s.makeRequest({type:"post",contentType:"application/json",url:a+"/rest/greenhopper/1.0/rank/global/last",data:JSON.stringify({issueId:t}),success:c.handleRankSuccess}),n(AJS).trigger("gh.global.rankissues",{action:"rankToBottom"+(e?e:""),count:1})}},c.closeDialogAndPopMessage=function(){i.isNavigator()?u.reloadViaWindowLocation():(r&&r.current&&r.current.hide(),window.GH?(GH.RapidBoard&&e&&e.showIssueMessage&&e.showIssueMessage(),window.Boards&&window.Boards.refreshAll()):i&&t&&t.flashIssueRow&&t.flashIssueRow())},c.handleRankSuccess=function(e,s,o){c.storeSuccessMessage(e.issueId,e.issueKey,"thanks_issue_updated"),c.closeDialogAndPopMessage()},c.storeSuccessMessage=function(e,s,t){var a=o;try{a.setItem("selectedIssueId",e),a.setItem("selectedIssueKey",s),a.setItem("selectedIssueMsg",t)}catch(e){}},c}),require(["jquery","jira-agile/gh-globalkeyboardshortcuts"],function(e,s){e(document).delegate(".issueaction-greenhopper-rank-top-operation","click",function(o){o.preventDefault();var t=e(this).attr("data-issueid");s.sendToTop("Action",t)}),e(document).delegate(".issueaction-greenhopper-rank-bottom-operation","click",function(o){o.preventDefault();var t=e(this).attr("data-issueid");s.sendToBottom("Action",t)})}),AJS.namespace("gh.app.globalkeyboardshortcuts",null,require("jira-agile/gh-globalkeyboardshortcuts"));;
;
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:bamboo-soy-resources', location = 'templates/plugins/bamboo/components.soy' */
// This file was automatically generated from components.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bamboo.components.
 */

if (typeof bamboo == 'undefined') { var bamboo = {}; }
if (typeof bamboo.components == 'undefined') { bamboo.components = {}; }


bamboo.components.pageHeader = function(opt_data, opt_ignored) {
  return '' + aui.page.pageHeader({content: '' + ((opt_data.headerImageContent) ? aui.page.pageHeaderImage({content: opt_data.headerImageContent}) : '') + aui.page.pageHeaderMain({content: opt_data.headerMainContent}) + ((opt_data.headerActionsContent) ? aui.page.pageHeaderActions({content: opt_data.headerActionsContent}) : '')});
};
if (goog.DEBUG) {
  bamboo.components.pageHeader.soyTemplateName = 'bamboo.components.pageHeader';
}


bamboo.components.icon = function(opt_data, opt_ignored) {
  return '<span class="bamboo-icon bamboo-icon-' + soy.$$escapeHtml(opt_data.type) + '"' + ((opt_data.text && opt_data.showTitle) ? ' title="' + soy.$$escapeHtml(opt_data.text) + '"' : '') + '>' + ((opt_data.text) ? '<span>' + soy.$$escapeHtml(opt_data.text) + '</span>' : '') + '</span>';
};
if (goog.DEBUG) {
  bamboo.components.icon.soyTemplateName = 'bamboo.components.icon';
}


bamboo.components.buildDetail = function(opt_data, opt_ignored) {
  return '<dl><dt class="' + soy.$$escapeHtml(opt_data.keyClass) + '">' + soy.$$escapeHtml(opt_data.key) + '</dt><dd>' + soy.$$filterNoAutoescape(opt_data.value) + '</dd></dl>';
};
if (goog.DEBUG) {
  bamboo.components.buildDetail.soyTemplateName = 'bamboo.components.buildDetail';
}


bamboo.components.artifacts = function(opt_data, opt_ignored) {
  var output = '<ul id="shared-artifacts">';
  var artifactList42 = opt_data.artifacts;
  var artifactListLen42 = artifactList42.length;
  for (var artifactIndex42 = 0; artifactIndex42 < artifactListLen42; artifactIndex42++) {
    var artifactData42 = artifactList42[artifactIndex42];
    output += bamboo.components.artifactItem(soy.$$augmentMap(artifactData42, {id: artifactData42.name, url: artifactData42.link.href}));
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  bamboo.components.artifacts.soyTemplateName = 'bamboo.components.artifacts';
}


bamboo.components.artifactItem = function(opt_data, opt_ignored) {
  return '<li>' + bamboo.components.icon({type: 'artifact-shared'}) + ' <a class="artifact-link" id="artifact-' + soy.$$escapeHtml(opt_data.id) + '" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.name) + '</a><span class="filesize">(' + soy.$$escapeHtml(opt_data.prettySizeDescription) + ')</span></li>';
};
if (goog.DEBUG) {
  bamboo.components.artifactItem.soyTemplateName = 'bamboo.components.artifactItem';
}


bamboo.components.labels = function(opt_data, opt_ignored) {
  var output = '<ul class="labels">';
  var labelList65 = opt_data.labels;
  var labelListLen65 = labelList65.length;
  for (var labelIndex65 = 0; labelIndex65 < labelListLen65; labelIndex65++) {
    var labelData65 = labelList65[labelIndex65];
    output += bamboo.components.labelItem(soy.$$augmentMap(labelData65, {url: opt_data.baseBambooUrl + '/browse/label/' + labelData65.name}));
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  bamboo.components.labels.soyTemplateName = 'bamboo.components.labels';
}


bamboo.components.labelItem = function(opt_data, opt_ignored) {
  return '<li><a class="lozenge" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '"><span>' + soy.$$escapeHtml(opt_data.name) + '</span></a></li>';
};
if (goog.DEBUG) {
  bamboo.components.labelItem.soyTemplateName = 'bamboo.components.labelItem';
}


bamboo.components.errorResponseMessage = function(opt_data, opt_ignored) {
  return '' + bamboo.components.auiWarning({body: '' + ((opt_data.errorMessage.messageBody) ? '<p>' + soy.$$escapeHtml(opt_data.errorMessage.messageBody) + '</p>' : (opt_data.errorMessage.oauthCallback) ? '<p><a href="' + soy.$$filterNoAutoescape(opt_data.errorMessage.oauthCallback) + '&amp;redirectUrl=' + soy.$$filterNoAutoescape(opt_data.oAuthDanceReturnUrl) + '">' + soy.$$escapeHtml("Log in \x26 approve") + '</a></p>' : '<p>' + soy.$$escapeHtml(opt_data.errorMessage.message) + '</p>')});
};
if (goog.DEBUG) {
  bamboo.components.errorResponseMessage.soyTemplateName = 'bamboo.components.errorResponseMessage';
}


bamboo.components.auiWarning = function(opt_data, opt_ignored) {
  return '<div class="aui-message warning"><span class="aui-icon icon-warning"></span>' + soy.$$filterNoAutoescape(opt_data.body) + '</div>';
};
if (goog.DEBUG) {
  bamboo.components.auiWarning.soyTemplateName = 'bamboo.components.auiWarning';
}
;
;
/* module-key = 'com.dolby.atlassian.jira.jirasu:launch-su-js', location = '/js/launchsu.js' */
console.log("SU launch.js loaded");function suHello(){alert("saying hello from the script")}function launchSuDialog(){var a=AJS.params.baseURL;AJS.$.get(a+"/rest/jirasu/latest/api/remoteDialog/showCondition",function(b){if(b=="ok"){popupSuDialog()}else{console.log("SU: no, due to: "+b)}})}function popupSuDialog(){var d=AJS.params.baseURL;var e=AJS.$("meta[name=atlassian-token]").attr("content");if(""+e=="undefined"){e=AJS.$("meta[name=atl_token]").attr("content")}AJS.$("#su-popup-dialog").remove();var b=new AJS.Dialog({width:400,height:200,id:"su-popup-dialog",closeOnOutsideClick:false});b.addHeader("SU - Be the user you seek!");var c="<form class='aui'>";c=c+"<input type='hidden' id='su-userpicker' style='width:250px' class='input-xlarge' />";c=c+"</form>";b.addPanel("User Picker",c,"panel-body");b.addButton("Submit",function(f){},"su-popup-button");b.addButton("Close",function(f){f.hide();AJS.$("#su-popup-dialog").remove()},"su-popup-cancel-button");b.show();var a=d+"/rest/api/2/user/picker";AJS.$("#su-userpicker").auiSelect2({placeholder:"Select a user",minimumInputLength:2,ajax:{url:a,placeholder:"Search for a user",dataType:"json",minimumInputLength:1,data:function(f,g){return{query:f,page_limit:10,}},results:function(g,f){return{results:g.users,text:function(h){return h.name},id:function(h){return h.key}}}},formatResult:function(g,f){return g.name},formatSelection:function(f){return f.name},id:function(f){return f.key}});AJS.tabs.setup();AJS.$(".su-popup-button").click(function(g){var f=AJS.$("#su-userpicker").val();window.location.href=d+"/user/JiraSU.jspa?name="+f+"&atl_token="+e;return false})};;
;
/* module-key = 'com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-bootstrap', location = '/js/bootstrap-init.js' */
require(["atlassian-whisper/bootstrap"],function(a){a()});;
;
/* module-key = 'com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-bootstrap', location = '/js/bootstrap.js' */
define("atlassian-whisper/bootstrap",["wrm/require"],function(a){return function(){var c=require("wrm/data").claim("com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-bootstrap.WhisperData");if(!c||c.hasMessages!==true){return}var b=function(){try{localStorage.setItem("hermes.config.delivery-url",AJS.contextPath()+"/rest/whisper/1/messages");localStorage.setItem("hermes.config.store-url",AJS.contextPath()+"/rest/whisper/1/properties")}catch(d){return}require(["atlassian-whisper/hermes-init"],function(e){e(c)},undefined,c.syncInit)};if(c.syncInit){b()}else{AJS.$(function(){a("wr!com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-hermes",b)})}}});;
;
/* module-key = 'com.atlassian.administration.atlassian-admin-quicksearch-jira:admin-quicksearch-webresources', location = 'com/atlassian/administration/quicksearch/jira/js/adminQuickNav.js' */
/**
 * Shifter group for admin search
 */
require([
    'jquery',
    'underscore',
    'jira/ajs/ajax/smart-ajax',
    'jira/shifter',
    'wrm/context-path'
], function (jQuery,
             _,
             SmartAjax,
             Shifter,
             contextPath) {
    Shifter.register(function () {
        var suggestionsDeferred = jQuery.Deferred();

        function formatItem(item) {
            return {
                label: item.label,
                value: item.linkUrl,
                keywords: item.aliases
            };
        }

        function getItemsInSection(section) {
            return _.map(section.items, formatItem).concat(_.map(section.sections, getItemsInSection));
        }

        function formatResponse(data) {
            return _.flatten(getItemsInSection(data));
        }

        SmartAjax.makeRequest({
            dataType: 'json',
            url: contextPath() + '/rest/adminquicksearch/latest/links/default'
        })
            .pipe(formatResponse)
            .done(function (suggestions) {
                suggestionsDeferred.resolve(suggestions);
            })
            .fail(function () {
                suggestionsDeferred.reject();
            });

        return {
            id: 'admin',
            name: "Administration",
            weight: 500,
            getSuggestions: function () {
                return suggestionsDeferred;
            },
            onSelection: function (value) {
                window.location = value;
                return jQuery.Deferred();
            }
        };
    });
});
;
;
/* module-key = 'com.atlassian.jpo:jpo-wr-dialog-bootstrap', location = '/jpo2/scripts-plugin/dialog-bootstrap.js' */
!function(o){function t(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return o[e].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};t.m=o,t.c=i,t.d=function(o,i,e){t.o(o,i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!0,get:e})},t.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return t.d(i,"a",i),i},t.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},t.p="",t(t.s=0)}([function(o,t){window.AJS.$(function(){return null==window.JIRA.Portfolio&&(window.JIRA.Portfolio={}),window.JIRA.Portfolio.createDialog=new window.JIRA.FormDialog({id:"jpo-create-dialog",trigger:"li.jpo-create-dialog a, a.jpo-create-dialog",ajaxOptions:window.JIRA.Dialogs.getDefaultAjaxOptions,autoClose:!0,widthClass:"large"}),window.JIRA.Portfolio.quickCreateDialog=new window.JIRA.FormDialog({id:"jpo-quick-create-dialog",trigger:"li.jpo-quick-create-dialog a, a.jpo-quick-create-dialog",ajaxOptions:window.JIRA.Dialogs.getDefaultAjaxOptions,autoClose:!0,widthClass:"large"}),window.JIRA.Portfolio.keyboardShortcutsDialog=new window.JIRA.FormDialog({id:"jpo-keyboard-shortcuts-dialog",trigger:"a.jpo-keyboard-shortcuts",ajaxOptions:window.JIRA.Dialogs.getDefaultAjaxOptions,autoClose:!0,width:500})})}]);;
;
/* module-key = 'com.atlassian.jpo:jpo-wr-custom-field-scripts-parent', location = '/jpo2/scripts-plugin/field-parent.js' */
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([,function(e,t,n){var r;r=[n(2)],function(e){var t,n,r,i,o,s,u,a,c,l,p,f,d,m,h,g,y,v,I,j,x,w,S,T,A,E,D,b,J,M,N,O,_,R;if(a=window.JIRA,t=AJS.$,u=AJS.ItemDescriptor,r=AJS.GroupDescriptor,m=AJS.contextPath,x=AJS.escapeHTML,c=100,l=".jpo-parent-selection-dropdown",o=".jpo-initial-issue-type-name",i=".jpo-initial-epic-link",n=".jpo-client-error-message-container",s="#issuetype-field",p=m()+"/rest/jpo/1.0/parent/suggest",E="",J=void 0,j=void 0,T=function(e){var t,n,r,i;for(t={},r=0,i=e.length;r<i;r++)n=e[r],t[n.id]=n;return t},O=function(){return E=t(o).val()},b=function(){return t(s).change(function(e){var t;if(null!=(t=e.target.value)&&t.length>0)return E=t})},A=function(){return null!=j&&j.length>0},N=function(){return j=t(i).val()},D=function(e){return e.$field.change(function(e){return j=e.target.value,d()})},d=function(){return A()?R("Cannot use parent link when epic link is set."):S()},_=function(e){if(null!=J)return J.$container.toggle(e)},R=function(e){return _(!1),t(n).html("<span class='error'>"+x(e)+"</span>")},S=function(){return _(!0),t(n).empty()},w=function(e){var t,n,i,o,s;return i=e.issues,n=e.issueTypes,s=e.projects,t=new r({weight:0,showLabel:!1,items:[h()]}),o=new r({weight:1,items:I({issues:i,issueTypes:n,projects:s})}),[t,o]},v=function(e){var t,n,r,i,o,s,a;return r=e.issue,s=e.issueType,a=e.project,i=r.issueKey,o=r.issueSummary,t=a.key+"-"+i,n=t+" "+o,new u({value:t,fieldText:n,label:n,icon:s.iconUrl})},I=function(t){var n,r,i,o,s,u,a;return o=t.issues,r=t.issueTypes,u=t.projects,i=T(r),a=T(u),s=function(){var e,t,r;for(r=[],e=0,t=o.length;e<t;e++)n=o[e],r.push(v({issue:n,issueType:i[n.issueTypeId],project:a[n.projectId]}));return r}(),e.addNoMatchesItemIfEmpty({items:s}),s},h=function(){return e.createInfoMessageListItem({text:"To set an epic as the parent, use the epic link instead",additionalStyles:"jpo-dropdown-item-italic"})},g=function(e){var t;return t=e.query,JSON.stringify({query:t,issueTypeName:E,maxResults:c})},f=e.createDropdownClass({ajaxOptions:e.createDropdownAjaxOptions({url:p,createQueryData:g,formatResponse:w}),getNoMatchingValueMessage:function(e){return AJS.format("No valid parent matching \'\'{0}\'\' was found.",e)}}),y=function(e){return t(l,e).each(function(){return J=new f({element:t(this)}),d()})},e.bindInitializationCallback(function(e){var t;return t=e.context,N(),O(),b(),y(t)}),null!=(null!=(M=a.EpicPicker)?M.READY_EVENT:void 0))return a.bind(a.EpicPicker.READY_EVENT,function(e,t){return D(t)})}.apply(t,r)},function(e,t,n){var r,i;r=[],void 0!==(i=function(){var e,t,n,r,i,o,s,u,a,c;return n=window.JIRA,e=AJS.$,r=AJS.SingleSelect,t=AJS.ItemDescriptor,c=AJS.escapeHTML,o=function(e){return n.bind(n.Events.NEW_CONTENT_ADDED,function(t,r,i){if(i!==n.CONTENT_ADDED_REASON.panelRefreshed)return e({context:r})})},s=function(e){var t,n,r;return r=e.url,t=e.createQueryData,n=e.formatResponse,{url:r,type:"POST",query:!0,data:function(e){return t({query:e})},dataType:"json",contentType:"application/json",formatResponse:n,keyInputPeriod:200}},a=function(e){var n,r;return r=e.text,n=e.additionalStyles,new t({label:r,html:c(r),highlighted:!0,styleClass:"jpo-dropdown-item-unselectable "+n,unselectableItem:!0})},i=function(e){var t;if(t=e.items,0===t.length)return t.push(a({text:"No Matches",additionalStyles:"jpo-dropdown-item-italic"}))},u=function(t){var n,i;return n=t.ajaxOptions,i=t.getNoMatchingValueMessage,r.extend({init:function(t){return e.extend(t,{submitInputVal:!0,showDropdownButton:!0,ajaxOptions:n}),this._super(t)},setSelection:function(e){if(!e.properties.unselectableItem)return this._super.apply(this,arguments)},handleFreeInput:function(t){var n;if(this._super.apply(this,arguments),null==t&&(t=e.trim(this.$field.val())),null==this.model.getDescriptor(t)&&this.$container.hasClass("aui-ss-editing"))return n=null!=t&&t.length>0,n?(this.options.errorMessage=i(t),this.showErrorMessage(t),this.clear(),this.model.removeFreeInputVal()):this.hideErrorMessage()}})},{bindInitializationCallback:o,createDropdownAjaxOptions:s,createInfoMessageListItem:a,addNoMatchesItemIfEmpty:i,createDropdownClass:u}}.apply(t,r))&&(e.exports=i)}]);;
;
/* module-key = 'com.atlassian.jira.plugins.jira-browser-metrics:sensors', location = 'sensors.js' */
require(["internal/browser-metrics","jira/util/events"],function(e,i){var a,o={},d={},t={};o=function(e,i,a){function o(){function e(e){return o.hasOwnProperty(e)?o[e]:null}var o={"bonfire_top_menu_dropdown-content":"jira.header.menu.capture","browse_link-content":"jira.header.menu.projects","find_link-content":"jira.header.menu.issues","greenhopper_menu-content":"jira.header.menu.agile","home_link-content":"jira.header.menu.dashboards","plugins-jira-webitem-main-content":"jira.header.menu.portfolio","servicedesk-section-content":"jira.header.menu.service-desk","system-admin-menu-content":"jira.header.menu.admin","system-help-menu-content":"jira.header.menu.help","user-options-content":"jira.header.menu.profile"};i.bind("aui-dropdown2-show-before",function(i){var o=i.target,d=e(o&&o.id);d&&a.start({key:d,isInitial:!1,threshold:250})}),i.bind("aui-dropdown2-show-after",function(i){var o=i.target,d=e(o&&o.id);d&&a.end({key:d})})}return e.applicationMenusSensorInit=o,e}(o,i,e),d=function(e){function i(e){var i;if(a.hasOwnProperty(e))return e;for(i=0;i<o.length;i++)if(e.match(o[i].pattern))return o[i].dialogId;return null}e.safeDialogId=i;var a=["about-dialog","add-basicuser-dialog","add-developer-dialog","add-field-configuration-dialog","add-field-configuration-scheme-dialog","add-field-dialog","add-field-screen-dialog","add-field-screen-scheme-dialog","add-incoming-mail-handler-dialog","add-issue-type-dialog","add-issue-type-field-configuration-association-dialog","add-issue-type-screen-scheme-configuration-association-dialog","add-issue-type-screen-scheme-dialog","add-new-issue-type-to-scheme-dialog","add-screen-scheme-item-dialog","add-subtask-type-dialog","add-workflow-dialog","add_workflowscheme-dialog","assign-dialog","assign-issue-types-dialog","assign-to-me-link-handler","attach-file-dialog","attach-screenshot-dialog","auditing-settings-dialog","clone-issue-dialog","comment-add-dialog","configure_wallboard_dialog","confluence-page-search-dialog","copy_classic default workflow-dialog","copy-filter-dialog","copy_jira-dialog","create-issue-dialog","create-issue-dialog.issueType","create-issue-dialog.projectId","create-request-dialog","create-service-desk-dialog","create-status-dialog","create-story-dialog","create-story-dialog.issueType","create-story-dialog.projectId","create-subtask-dialog","create-subtask-dialog.issueType","create-team-dialog","create_user-dialog","credits-dialog","delete-attachment-dialog","delete-comment-dialog","delete-dshboard","delete-filter-dialog","delete-issue-dialog","delete-issue-link-dialog","delete-log-work-dialog","delete-metric","delete-queue","delete-status-dialog","deleteuser_link-dialog","devstatus-branch-detail-dialog","devstatus-build-detail-dialog","devstatus-commit-detail-dialog","devstatus-cta-dialog","devstatus-deployment-detail-dialog","devstatus-pullrequest-detail-dialog","devstatus-review-detail-dialog","discard-draft-dialog","discard_draft_workflow-dialog","edit-attachments-dialog","edit-comment","editgroups_admin-dialog","editgroups_link-dialog","editgroups_sysadmin-dialog","edit-issue-dialog","edit-labels-dialog","edit-log-work-dialog","edit-status-dialog","edituser_link_admin-dialog","edit-workflow-dialog","gh-rapidboard-dialog","inline-issue-create-dialog","invite_user-dialog","issue-actions-dialog","issue-tab-error-dialog","jim-create-project-dialog","keyboard-shortcuts-dialog","link-issue-dialog","log-work-dialog","manage-attachment-dialog","metric-pre-save-dialog","modal-field-view","permission-helper-dialog","project-avatar-cropper","project-avatar-picker","project-config-details-project-category-dialog","project-config-project-edit-dialog","project-config-project-edit-lead-and-default-assignee-dialog","project-email-dialog","publish_draft_workflow-dialog","queue-dirty-edits","QuickCreateIssue.error","QuickCreateIssue.success","QuickCreateSubtask.error","QuickCreateSubtask.success","QuickEdit.error","QuickEdit.success","remote-jira-search-dialog","rename-filter-dialog","report-dirty-edits","save-filter-dialog","sd-add-default-value","sd-add-remove-agent-dialog","sd-remove-field-dialog","server-error-dialog","report-delete-confirm","tempo-add-hours-issue-dialog","tempo-add-internal-activity-form","tempo-core-medium-form","tempo-delete-form-dialog","tempo-grace-form","tempo-large-form","tempo-medium-form","tempo-move-form-dialog","tempo-pdf-form","tempo-small-form","tempo-split-form-dialog","tempo-user-settings-dialog","user-avatar-picker","user-defaults-edit-dialog","versionsMergeDialog","view-workflow-dialog","view-workflow-dialog-project-admin","view-workflow-dialog-workflow-schemes","wait-migrate-dialog","whereismycf-dialog","workflow-text-view"].reduce(function(e,i){return e[i]=!0,e},{}),o=[{dialogId:"component-delete-dialog",pattern:/^component-\d+-delete-dialog$/i},{dialogId:"version-delete-dialog",pattern:/^version-\d+-delete-dialog$/i},{dialogId:"workflow-transition-dialog",pattern:/^workflow-transition-\d+-dialog$/i}];return e}(d),t=function(e,i,a,o){function d(){i.bind("beforeShow",function(e,i){if("string"==typeof i){var d=(0,o.safeDialogId)(i);d&&a.start({key:"jira.dialog.open."+d,isInitial:!1,threshold:1e3})}}),i.bind("dialogContentReady",function(e,i){if("string"==typeof i.options.id){var d=(0,o.safeDialogId)(i.options.id);d&&a.end({key:"jira.dialog.open."+d})}})}return e.dialogsSensorInit=d,e}(t,i,e,d),a=function(e,i){(0,e.applicationMenusSensorInit)(),(0,i.dialogsSensorInit)()}(o,t)});;
;
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:entrypoint-column-module', location = 'dist/column-module.8ef50e6cb5d90eb66cd2.js' */
jiraDevelopmentIntegrationPluginJsonp(["column-module"],{

/***/ "./js/development-column/column-module-init.js":
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__.e/* require */(7).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__("./js/development-column/column-model.js"), __webpack_require__("./js/development-column/column-view.js"), __webpack_require__("./js/development-column/column-utils.js"), __webpack_require__("./js/util/analytics.js"), __webpack_require__("jira.webresources:jquery/require('jquery')")]; (function (ColumnModel, ColumnView, ColumnUtils, analytics, $) {
    'use strict';

    /**
     * Jira's dropdown menu 'More' in Issue Search allows users not only to add but also remove custom fields
     * from search criterias. Each item in the menu represented by a label with the title that is matches the name
     * of the Custom Field. Each label has a checkbox inside of it which indicates if Custom Field has been chosen.
     *
     * When user clicks on the label and checkbox is 'check' that means user removes the Custom Field
     * When user clicks on the label and checkbox is 'unchecked' that means user adds the Custom Field
     *
     * @param label label that user clicked on
     */

    function onBasicSearcherSelection(label) {
        if (label.attr('title') === 'Development') {
            var checkbox = label.children('input[type="checkbox"]');

            if (checkbox.attr('checked')) {
                analytics.sendEvent('devstatus.issue-navigator.dev-info.jql.basicsearcher.removed');
            } else {
                analytics.sendEvent('devstatus.issue-navigator.dev-info.jql.basicsearcher.added');
            }
        }
    }

    $(function () {
        var model = new ColumnModel({});

        new ColumnView({
            model: model,
            el: '#issuetable'
        });

        JIRA.bind(JIRA.Events.LAYOUT_RENDERED, function () {
            new ColumnView({
                model: model,
                el: '#issuetable'
            });
        });

        // analytics on what column elements get hovered
        $('.dev-status-column-view-wrapper .fusion-widget').on('mouseenter', function (e) {
            analytics.sendEvent('devstatus.issue-navigator.dev-info.hovered', {
                type: $(e.currentTarget).parent().attr('class')
            });
        });

        // Currently there is no better way that I came up with to check if the development-column is activated
        if ($('.issuerow').length === $('.dev-status-column-view-wrapper').length) {
            analytics.sendEvent('devstatus.issue-navigator.dev-info.shown');
        }
        /**
         * future someone - please dont hate me \_()_/
         *
         * register analytics if someone saves a filter that includes development in the query
         */
        // TODO: make this less of a global nightmare
        if (JIRA.Issues.Application && JIRA.Issues.Application.execute) {
            JIRA.Issues.Application.execute('analytics:registerTracker', [{
                selector: '#save-filter-dialog form',
                type: 'submit',
                handler: function handler(e) {
                    // make sure the "saveAs" will actually work
                    var jql = $('#advanced-search').val();
                    var devInfoInJql = ColumnUtils.jqlContainsDevInfo(jql);
                    if (devInfoInJql) {
                        analytics.sendEvent('devstatus.issue-navigator.dev-info.jql.save-as');
                    }
                }
            }, {
                selector: 'label.item-label[title=Development]',
                type: 'mouseup',
                handler: function handler(e) {
                    var label = $('li.check-list-item.active').children('label');

                    onBasicSearcherSelection(label);
                }
            }, {
                selector: '#criteria-input',
                type: 'keydown', // because Issue Search swallows keypress in case of user pressing "Enter"
                handler: function handler(e) {
                    if (e.keyCode == 13) {
                        console.error(e);

                        var label = $('li.check-list-item.active').children('label');

                        onBasicSearcherSelection(label);
                    } else {
                        console.error(e);
                    }
                }
            }, {
                selector: 'li.dev-status-basic-dev-item',
                type: 'mouseup',
                handler: function handler(e) {
                    var event = 'devstatus.issue-navigator.dev-info.jql.basicsearcher.search';
                    var attrs = {};

                    $('li.dev-status-basic-dev-item label').each(function (_, item) {
                        var label = $(item);

                        var attr = label.attr('title').replace(' ', '_').toLowerCase();
                        var value = label.children('input[type="checkbox"]').attr('checked') ? true : false;

                        attrs[attr] = value;
                    });

                    analytics.sendEvent(event, attrs);
                }
            }, {
                type: 'jql-search-requested',
                handler: function handler(e, jql) {
                    var devInfoInJql = ColumnUtils.jqlContainsDevInfo(jql);
                    if (devInfoInJql) {
                        analytics.sendEvent('devstatus.issue-navigator.dev-info.jql.search');
                    }
                }
            }, {
                selector: 'a.issue-link',
                type: 'click',
                handler: function handler() {
                    $('div.criteria-wrap span.fieldLabel').each(function (idx, item) {
                        var span = $(item);

                        if (span.html().toLowerCase().indexOf('development') == 0) {
                            analytics.sendEvent('devstatus.issue-navigator.dev-info.jql.issue_clicked');
                        }
                    });
                }
            }]);
        }
    });
}.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}).catch(__webpack_require__.oe);

/***/ })

},["./js/development-column/column-module-init.js"]);
//# sourceMappingURL=column-module.8ef50e6cb5d90eb66cd2.js.map;