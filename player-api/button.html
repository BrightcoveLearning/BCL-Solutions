<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
        <style>

        </style>
    </head>
    <body>

        <script src="button.js"></script>
        <script src="component.js"></script>
        <script>
            "use strict";
            var BCLS = ( function (window, document, class_data, parent_class_data) {
                var title = document.getElementsByTagName('title')[0],
                    // data structures
                    /* the following should be the only line that changes
                        current class first, parent class(es) after */
                    classes = {button: class_data, component: parent_class_data},
                    doc_data = {},
                    // functions
                    isDefined,
                    findObjectInArray,
                    getSubArray,
                    getPropertyArrays,
                    sortArray,
                    createElement,
                    bclslog,
                    addHeaderContent,
                    addSideNav,
                    addMethodsContent,
                    addEventsContent,
                    addPropertiesContent,
                    init;
                /**
                 * Logging function - safe for IE
                 * @param  {string} context - description of the data
                 * @param  {*} message - the data to be logged by the console
                 * @return {}
                 */
                bclslog = function (context, message) {
                    if (window["console"] && console["log"]) {
                        console.log(context, message);
                    }
                    return;
                };
                /**
                 * tests for all the ways a variable might be undefined or not have a value
                 * @param {*} x the variable to test
                 * @return {Boolean} true if variable is defined and has a value
                 */
                isDefined = function (x) {
                    if ( x !== "" && x !== null && x !== undefined && x !== NaN && x !== {} && x !== []){
                        return true;
                    } else {
                        return false;
                    }
                };
                /**
                 * find index of an object in array of objects
                 * based on some property value
                 * generally useful for finding a unique object
                 *
                 * @param {array} targetArray - array to search
                 * @param {string} objProperty - object property to search
                 * @param {string|number} value - value of the property to search for
                 * @return {integer} index of first instance if found, otherwise returns -1
                */
                findObjectInArray = function (targetArray, objProperty, value) {
                    var i, totalItems = targetArray.length, objFound = false;
                    for (i = 0; i < totalItems; i++) {
                        if (targetArray[i][objProperty] === value) {
                            objFound = true;
                            return i;
                        }
                    }
                    if (objFound === false) {
                        return -1;
                    }
                };
                /**
                 * get a subset of objects in array of objects
                 * based on some property value
                 *
                 * @param {array} targetArray - array to search
                 * @param {string} objProperty - object property to search
                 * @param {string|number} value - value of the property to search for
                 * @return {array} array of objects with matching property value
                */
                getSubArray = function (targetArray, objProperty, value) {
                    var i, totalItems = targetArray.length, objFound = false, idxArr = [];
                    for (i = 0; i < totalItems; i++) {
                        if (targetArray[i][objProperty] === value) {
                            objFound = true;
                            idxArr.push(targetArray[i]);
                        }
                    }
                    return idxArr;
                };
                /**
                 * create an element
                 * @param  {string} type - the element type
                 * @param  {object} attributes - attributes to add to the element
                 * @return {object} the HTML element
                 */
                createElement = function (type,attributes) {

                };
                /**
                 * extracts the events, methods, and properties for the classes
                 * @param {object} classes - object whose properties are classes with values of the data for that class
                 * @return {}
                 */
                getPropertyArrays = function (classes) {
                    var i, iMax, thisClass, classData = [], classIdx, j, jMax, itemIdx, privateItems = [];
                    if (isDefined(classes)) {
                        iMax = classes.length;
                        for (thisClass in classes) {
                            classData = classes[thisClass];
                            privateItems = [];
                            // remove all private items
                            privateItems = getSubArray(classData, "access", "private");
                            bclslog("privateItems", privateItems);
                            bclslog("classData.length", classData.length);
                            j = privateItems.length;
                            do {
                                classData.splice(privateItems[j--], 1);
                            } while (j > 0)
                            bclslog("classData.length", classData.length);
                            // get the class data for the page heading
                            classIdx = findObjectInArray(classData, "kind", "class");
                            doc_data[thisClass].headerInfo = classData[classIdx];
                            // get the methods data
                            doc_data[thisClass].methodsArray = getSubArray(classData, "kind", "function");
                            // get the events data
                            doc_data[thisClass].eventsArray = getSubArray(classData, "kind", "event");
                            // get the properties
                            doc_data[thisClass].propertiesArray = getSubArray(classData, "kind", "property");
                            bclslog(thisClass, doc_data[thisClass]);
                        }
                    }
                };
                /**
                 * add the class header content
                 */
                addHeaderContent = function () {

                };
                /**
                 * add the side nav
                 */
                addSideNav = function () {

                };
                /**
                 * add the methods
                 */
                addMethodsContent = function () {

                };
                /**
                 * add the events
                 */
                addEventsContent = function () {

                };
                /**
                 * add the properties
                 */
                addPropertiesContent = function () {

                };
                /**
                 * sort an array of objects based on an object property
                 * @param {array} targetArray - array to sort
                 * @param {string} objProperty - property whose value to sort on
                 * @return {array} the sorted array
                */
                sortArray = function (targetArray, objProperty) {
                    targetArray.sort(function (a, b) {
                        var propA = a[objProperty].toLowerCase(), propB = b[objProperty].toLowerCase();
                        // sort ascending; reverse propA and propB to sort descending
                        if (propA < propB) {
                             return -1;
                        } else if (propA > propB) {
                             return 1;
                        } else {
                             return 0;
                        }
                    });
                    return targetArray;
                };
                /**
                 * init gets things going
                 */
                init = function () {
                    var className;
                    // data structures
                    for (className in classes) {
                        doc_data[className] = {};
                        doc_data[className].headerInfo = {};
                        doc_data[className].methodsArray = [];
                        doc_data[className].eventsArray = [];
                        doc_data[className].propertiesArray = [];
                    }
                    // get the class prop arrays
                    getPropertyArrays(classes);
                    addHeaderContent();
                    addSideNav();
                    addMethodsContent();
                    addEventsContent();
                    addPropertiesContent();
                };
                bclslog("button_data", button_data);
                bclslog("component_data", component_data);
                init();
                return {

                }
            })(window, document, class_data, parent_class_data);
        </script>
    </body>
</html>
