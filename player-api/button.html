<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
        <style>

        </style>
    </head>
    <body>

        <script src="button.js"></script>
        <script src="component.js"></script>
        <script>
            "use strict";
            var BCLS = ( function (window, document, button_data, component_data) {
                var title = document.getElementsByTagName('title')[0],
                    // data structures
                    doc_data = {},
                    classes = {button: button_data, component: component_data},
                    // functions
                    isDefined,
                    findObjectInArray,
                    getSubArray,
                    getPropertyArrays,
                    bclslog,
                    init;
                /**
                 * Logging function - safe for IE
                 * @param  {string} context - description of the data
                 * @param  {*} message - the data to be logged by the console
                 * @return {}
                 */
                bclslog = function (context, message) {
                    if (window["console"] && console["log"]) {
                      console.log(context, message);
                    }
                    return;
                };
                /**
                 * tests for all the ways a variable might be undefined or not have a value
                 * @param {*} x the variable to test
                 * @return {Boolean} true if variable is defined and has a value
                 */
                isDefined = function (x) {
                    if ( x !== "" && x !== null && x !== undefined && !x.isNaN() && x !== {} && x !== []){
                        return true;
                    } else {
                        return false;
                    }
                };
                /**
                 * find index of an object in array of objects
                 * based on some property value
                 * generally useful for finding a unique object
                 *
                 * @param {array} targetArray - array to search
                 * @param {string} objProperty - object property to search
                 * @param {string|number} value - value of the property to search for
                 * @return {integer} index of first instance if found, otherwise returns -1
                */
                findObjectInArray = function (targetArray, objProperty, value) {
                    var i, totalItems = targetArray.length, objFound = false;
                    for (i = 0; i < totalItems; i++) {
                        if (targetArray[i][objProperty] === value) {
                            objFound = true;
                            return i;
                        }
                    }
                    if (objFound === false) {
                        return -1;
                    }
                };
                /**
                 * get a subset of objects in array of objects
                 * based on some property value
                 *
                 * @param {array} targetArray - array to search
                 * @param {string} objProperty - object property to search
                 * @param {string|number} value - value of the property to search for
                 * @return {array} array of objects with matching property value
                */
                getSubArray = function (targetArray, objProperty, value) {
                    var i, totalItems = targetArray.length, objFound = false, idxArr = [];
                    for (i = 0; i < totalItems; i++) {
                        if (targetArray[i][objProperty] === value) {
                            objFound = true;
                            idxArr.push(targetArray[i]);
                        }
                    }
                    return idxArr;
                };
                /**
                 * extracts the events, methods, and properties for the classes
                 * @param {object} classes - object whose properties are classes with values of the data for that class
                 * @return {}
                 */
                getPropertyArrays = function (classes) {
                    var i, iMax, thisClass, classIdx, j, jMax, itemIdx, privateItems = [];
                    if (isDefined(classes)) {
                        iMax = classes.length;
                        for (thisClass in classes) {
                            privateItems = [];
                            thisClass = classes[i];
                            // remove all private items
                            privateItems = getSubArray(thisClass.data, "access", "private");
                            bclslog("privateItems", privateItems);
                            bclslog("thisClass.data.length", thisClass.data.length);
                            jMax = privateItems.length;
                            if (jMax > 0) {
                                do {
                                    thisClass.data.splice(privateItems[j--], 1);
                                } while (j > 0)
                            }
                            bclslog("thisClass.data.length", thisClass.data.length);
                            classIdx = findObjectInArray(thisClass.data, "kind", "class");
                            doc_data[thisClass.name].headerInfo = thisClass.data[classIdx];
                            // doc_data[thisClass.name].methodsArray = getSubArray();
                            bclslog("doc_data[thisClass.name]", doc_data[thisClass.name]);
                        }
                    }
                };
                /**
                 * init gets things going
                 */
                init = function () {
                    var className;
                    // data structures
                    for (className in classes) {
                        doc_data[className] = {};
                    }
                    doc_data.button = {};
                    doc_data.component = {};
                    doc_data.button.headerInfo = {};
                    doc_data.button.methodsArray = [];
                    doc_data.button.eventsArray = [];
                    doc_data.button.propertiesArray = [];
                    doc_data.component.headerInfo = {};
                    doc_data.component.methodsArray = [];
                    doc_data.component.eventsArray = [];
                    doc_data.component.propertiesArray = [];
                    // get the class prop arrays
                    getPropertyArrays(classes);
                };
                bclslog("button_data", button_data);
                bclslog("component_data", component_data);
                return {

                }
            })(window, document, button_data, component_data);
        </script>
    </body>
</html>
