<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Retranscoding App - How it Works</title>
    <style>
        body {
            font-family: sans-serif;
            color: #293b70;
            margin: 4em;
        }
        img {
            border: 1px #293b70 solid;
            border-radius: 4px;
            max-width: 800px;
            padding: 1em;
        }
        legend {
            text-align: center;
        }
        figure {
            text-align: center;
        }
        button {
            padding: 10px;
            border: 4px #ecb612 solid;
            border-radius: 5px;
            background-color: #293b70;
            color: #fff;
            font-weight: bold;
            font-size: 1em;
            cursor: pointer;
        }
        select {
            background: transparent;
            border: none;
            font-size: 14px;
            height: 30px;
            padding: 5px;
            width: 270px;
        }
        table {
            border-collapse: collapse;
            max-width: 100%;
            width: 100%;
        }
        td {
            font-weight: bold;
            padding: 5px;
            text-align: right;
        }
        .messages {
            background-color: #FEF7E4;
            border: 1px #990000 solid;
            border-collapse: collapse;
            min-width: 200px;
            text-align: left;
        }
        .highlight {
            padding: 10px;
            border: 1px #990000 solid;
            border-radius: 5px;
            background-color: #FEF7E4;
        }
        .hidden {
            opacity: .5;
        }
        .shown {
            opacity: 1;
        }
    </style>
</head>

<body>
    <h1>Retranscoding App - How it Works</h1>
    <p>This is a (client-side) JavaScript app with an HTML UI. The app communicates with the Brightcove APIs through a set of proxies (PHP). There is also a handler for DI notifications, also in PHP. During the retranscoding, the DI proxy increments a job count tracker for each job successfully submitted. If the job count reaches 100, the app waits 30 seconds and retries the request until the job count falls below 100 again. The notification handler decrements the job count tracker each time it receives a TITLE SUCCESS/FAIL notification. Here's a schematic overview of the app logic:</p>
    <figure><img src="./retranscoder.svg" alt="retranscoder logic"></figure>
</body>

</html>
