<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Brightcove Learning Services Solutions</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

    <!--link rel="stylesheet/less" href="less/bootstrap.less" type="text/css" /-->
    <!--link rel="stylesheet/less" href="less/responsive.less" type="text/css" /-->
    <!--script src="/bcls/bootstrap/js/less-1.3.3.min.js"></script-->
    <!--append ‘#!watch’ to the browser URL, then refresh the page. -->

    <link href="//docs.brightcove.com/en/scripts/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    
    

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="/bcls/bootstrap/js/html5shiv.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/bcls/bootstrap/img/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/bcls/bootstrap/img/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/bcls/bootstrap/img/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" href="/bcls/bootstrap/img/apple-touch-icon-57-precomposed.png">
  <link rel="shortcut icon" href="/bcls/bootstrap/img/favicon.ico">
  <!-- Change URLs to wherever Video.js files will be hosted -->
  <link href="/bcls/video-js/video-js.css" rel="stylesheet" type="text/css">
  <!-- video.js must be in the <head> for older IEs to work. -->
  <script src="/bcls/video-js/video.js"></script>
  <!-- Unless using the CDN hosted version, update the URL to the Flash SWF -->
  <script>
    videojs.options.flash.swf = "/bcls/video-js/video-js.swf";
  </script>
  <!-- plugin script -->
  <script src="/bcls/video-js-plugins/makeChapters/makeChapters.js"></script>
  <!-- plugin styles -->
  <link href="/bcls/video-js-plugins/makeChapters/makeChapters.css" rel="stylesheet" type="text/css">
  <!-- chapter data script -->
  <script src="/bcls/video-js/samples/chaptered-video/wim-chapter-data.js"></script>
    <link href="/bcls/video-js/samples/chaptered-video/css/chaptering-tool.css" rel="stylesheet" type="text/css">
    
</head>

<body>
<div class="container-fluid">
    <div class="row-fluid">
        <div class="span12">
            <div class="navbar">
                <div class="navbar-inner">
                    <div class="container-fluid">
                         <a data-target=".navbar-responsive-collapse" data-toggle="collapse" class="btn btn-navbar"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a> <a href="//solutions.brightcove.com/bcls/index.html" class="brand">BCLS Solutions</a>
                        <div class="nav-collapse collapse navbar-responsive-collapse">
                            <ul class="nav">
                                <li>
                                    <a href="//solutions.brightcove.com/bcls/index.html">Home</a>
                                </li>
                                <li class="dropdown">
                                     <a data-toggle="dropdown" class="dropdown-toggle" href="#">Analytics API<strong class="caret"></strong></a>
                                    <ul class="dropdown-menu">
                                        <li>
                                            <a href="/bcls/analytics-api/aapi-request-builder.html">Request Builder</a>
                                        </li>
                                        <li>
                                            <a href="/bcls/analytics-api/most-popular-videos.html">Most Popular Videos</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="dropdown">
                                     <a data-toggle="dropdown" class="dropdown-toggle" href="#">Media API<strong class="caret"></strong></a>
                                    <ul class="dropdown-menu">
                                        <li>
                                            <a href="/bcls/media/SchemaTool/schema-tool.html">Schema Tool</a>
                                        </li>
                                        <li>
                                            <a href="/bcls/media/VideoDataToCSV/video-data-to-csv.html">Video Data in CSV Format</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="dropdown">
                                     <a data-toggle="dropdown" class="dropdown-toggle" href="#">Smart Player API<strong class="caret"></strong></a>
                                    <ul class="dropdown-menu">
                                        <li>
                                            <a href="/bcls/smart-player-api/ScrollIntoViewStartVideo/ScrollIntoViewStartVideo.html">Play on Scroll into View</a>
                                        </li>
                                        <li>
                                            <a href="/bcls/smart-player-api/newURLOnVideoComplete/NewURLOnVideoComplete.html">New URL on Video Complete</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="dropdown">
                                     <a data-toggle="dropdown" class="dropdown-toggle" href="#">video.js<strong class="caret"></strong></a>
                                    <ul class="dropdown-menu">
                                        <li>
                                            <a href="/bcls/video-js/samples/chaptered-video/chapter-builder.html">Video Chaptering Tool</a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                            <ul class="nav pull-right">
                                <li class="divider-vertical">
                                </li>
                                <li class="dropdown">
                                     <a data-toggle="dropdown" class="dropdown-toggle" href="#">Other BCLS Sites<strong class="caret"></strong></a>
                                    <ul class="dropdown-menu">
                                        <li>
                                            <a href="//support.brightcove.com/en/docs">Brightcove Support Documentation</a>
                                        </li>
                                        <li>
                                            <a href="//support.brightcove.com/en/video-cloud/training-videos">Training Videos</a>
                                        </li>
                                        <li>
                                            <a href="//docs.brightcove.com/en/">Developer Documentation</a>
                                        </li>
                                        <li>
                                            <a href="http://www.brightcove.com/en/services/training">Brightcove Training</a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- main content starts here -->
<h1>Chaptering Tool</h1>
        <p>This a visual tool to create chapter data for the chapterMaker plugin. Start by entering the path to your video below.</p>
        <p>Video URL: <input id="videoSrc" class="required" type="text" size="100" dir="auto"> <span class="required-text">Required</span></p>
        <p><span id="loadVideo" class="btn">Load the Video</span></p>
        <table>
            <tbody>
                <tr>
                    <td class="no-border">
                        <video id = "vjsChapterTool"
                                     class = "video-js vjs-default-skin"
                                     controls
                                     preload = "auto"
                                     width = "400px"
                                     height = "225px"
                                     data-setup = "{}">
                        </video>
                        <br style="clear:all" />
                        <div id="play-controls" class="play-controls">
                            <span id="back1" class="btn time-controls">&lt;&lt; 1 Sec</span>
                            <span id="backPoint1" class="btn time-controls">&lt; .1 Sec</span>
                            <img id="playPause" class="play-pause" src="/bcls/assets/images/play-button.png" />
                            <span id="forwardPoint1" class="btn time-controls">.1 Sec &gt;</span>
                            <span id="forward1" class="btn time-controls">1 Sec &gt;&gt;</span>
                        </div>

                    </td>
                    <td class="align-top">
                        <h2 class="align-center">Chapter Information</h2>
                        <table>
                            <tbody>
                                <tr>
                                    <td class="align-right no-border">Time:</td>
                                    <td class="no-border"><input id="currentTime" type="text" /></td>
                                </tr>
                                <tr>
                                    <td class="align-right no-border">Chapter title:</td>
                                    <td class="no-border"><input id="titleInput" class="required" size="50" type="text" /> <span class="required-text">Required</span></td>
                                </tr>
                                <tr>
                                    <td class="align-right no-border">URL for thumbnail:</td>
                                    <td class="no-border"><input id="thumbnailInput" class="required" size="50" type="text" /> <span class="required-text">Required</span></td>
                                </tr>
                                <tr>
                                    <td class="no-border">&nbsp;</td>
                                    <td class="no-border"><span id="saveChapter" class="btn">Save chapter information</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td class="no-border">
                        <h2>Chapter Data</h2>
                        <p><span id="selectData" class="btn">Select Data</span> Copy your data and <a href="chaptered-video.html">test it here</a></p>
                        <textarea id="chapterDataDisplay" cols="55" rows="20"></textarea>
                    </td>
                    <td class="align-top no-border">
                        <h2>Chapter List</h2>
                        <div id="chapterList" class="chapter-list">

                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
                <script>
            videojs("vjsChapterTool").ready(function () {
        var chapterToolPlayer = this,
            videoSrc = document.getElementById("videoSrc"),
            loadVideo = document.getElementById("loadVideo"),
            back1 = document.getElementById("back1"),
            backPoint1 = document.getElementById("backPoint1"),
            playPause = document.getElementById("playPause"),
            currentTime = document.getElementById("currentTime"),
            titleInput = document.getElementById("titleInput"),
            thumbnailInput = document.getElementById("thumbnailInput"),
            title,
            thumbnail,
            saveChapter = document.getElementById("saveChapter"),
            chapterDataDisplay = document.getElementById("chapterDataDisplay"),
            chapterList = document.getElementById("chapterList"),
            selectData = document.getElementById("selectData"),
            chapterData = [],
            playing = false,
            secondsToTime = function (secs) {
              var obj = {}, divisor_for_minutes, divisor_for_seconds, hours, minutes, seconds;
              hours = Math.floor(secs / (60 * 60));
              if (hours < 10 ) {
                hours = "0" + hours.toString();
              } else {
                hours = hours.toString();
              };
              divisor_for_minutes = secs % (60 * 60);
              minutes = Math.floor(divisor_for_minutes / 60);
              if (minutes < 10 ) {
                minutes = "0" + minutes.toString();
              } else {
                minutes = minutes.toString();
              };
              divisor_for_seconds = divisor_for_minutes % 60;
              seconds = divisor_for_seconds.toFixed(3);
              if (seconds < 10) {
                seconds = "0" + seconds.toString();
              } else {
                seconds = seconds.toString();
              };
              obj = {
                "h" : hours,
                "m" : minutes,
                "s" : seconds
              };
              return obj;
            },
            onVideoSrc = function() {
              chapterToolPlayer.src(videoSrc.value);
            },
            onPlay = function() {
              playPause.setAttribute("src", "/bcls/assets/images/pause-button.png");
              playing = true;
            },
            onPause = function() {
              playPause.setAttribute("src", "/bcls/assets/images/play-button.png");
              playing = false;
            },
            onBack1 = function() {
              var t = chapterToolPlayer.currentTime();
              chapterToolPlayer.currentTime(t - 1);
            },
            onBackPoint1 = function() {
              var t = chapterToolPlayer.currentTime();
              chapterToolPlayer.currentTime(t - .1);
            },
            onForward1 = function() {
              var t = chapterToolPlayer.currentTime();
              chapterToolPlayer.currentTime(t + 1);
            },
            onForwardPoint1 = function() {
              var t = chapterToolPlayer.currentTime();
              chapterToolPlayer.currentTime(t + .1);
            },
            onPlayPause = function() {
              if (playing) {
                chapterToolPlayer.pause();
                playPause.setAttribute("src", "/bcls/assets/images/play-button.png");
                playing = false;
              } else {
                chapterToolPlayer.play();
                playPause.setAttribute("src", "/bcls/assets/images/pause-button.png");
                playing = true;
              }
            },
            selectChapterData = function() {
              chapterDataDisplay.select();
            }
            onTimeUpdate = function(evt) {
              var newTime = secondsToTime(chapterToolPlayer.currentTime());
              currentTime.value = newTime.h + ":" + newTime.m + ":" + newTime.s;
            },
            setChapterEndTimes = function() {
              var i = 0, j, max, thisChapter, nextChapter;
              for (i = 0, max = chapterData.length; i < max; i++) {
                  thisChapter = chapterData[i];
                  if (i === max - 1) {
                      thisChapter.endTime = chapterToolPlayer.duration();
                  } else {
                      j = i + 1;
                      nextChapter = chapterData[j];
                      thisChapter.endTime = nextChapter.startTime - .1;
                  }
              }
            },
            formatJSON = function() {
              return JSON.stringify(chapterData,null,"  ");
            },
            sortData = function() {
              chapterData.sort( function(a,b) {
                return a.startTime - b.startTime;
              });
            },
            displayChapterData = function() {
              chapterDataDisplay.value = formatJSON(chapterData);
            },
            editChapter = function() {
              var thisChapter = chapterData[this.getAttribute("data-index")];
              chapterToolPlayer.currentTime(thisChapter.startTime);
              titleInput.value = thisChapter.chapterInfo.title;
              thumbnailInput.value = thisChapter.chapterInfo.thumbnail;
            },
            deleteChapter = function() {
              chapterData.splice(this.getAttribute("data-index"),1);
              updateChapterData();
            },
            displayChapterList = function() {
              var i = 0, max, chapterItem, str, editButtons, deleteButtons;
              str = "<table><tbody>"
              for (i = 0, max = chapterData.length; i < max; i++) {
                chapterItem = chapterData[i];
                str += "<tr><td class=\"no-border\">" + chapterItem.chapterInfo.title + "</td><td class=\"no-border\"><span class=\"btn edit-chapter\" data-index=\"" + i + "\">Edit</span><span class=\"btn delete-chapter\" data-index=\"" + i + "\">Delete</span></td></tr>";
              }
              str += "</tbody></table>";
              chapterList.innerHTML = str;
              editButtons = document.getElementsByClassName("edit-chapter");
              deleteButtons = document.getElementsByClassName("delete-chapter");
              for (i = 0, max = editButtons.length; i < max; i++) {
                  editButtons[i].addEventListener("click", editChapter);
                  deleteButtons[i].addEventListener("click", deleteChapter);
              }
            },
            updateChapterData = function() {
              sortData();
              setChapterEndTimes();
              displayChapterData();
              displayChapterList();
            };
            addChapter = function(evt) {
              var item = {};
              title = titleInput.value;
              thumbnail = thumbnailInput.value;
              // check for required items
              if (currentTime.value === "") {
                alert("You must load a video into the chapterToolPlayer!")
              }
              else if (title === "" || thumbnail === "") {
                alert("The chapter title and thumbnail URL are required!");
              } else {
                item.startTime = chapterToolPlayer.currentTime();
                item.chapterInfo = {
                                     "title" : title,
                                     "thumbnail" : thumbnail
                                   };
                chapterData.push(item);
                updateChapterData();
                titleInput.value = "";
                thumbnailInput.value = "";
              }
              ;
            };
        loadVideo.addEventListener("click" , onVideoSrc);
        chapterToolPlayer.on("timeupdate", onTimeUpdate);
        chapterToolPlayer.on("play", onPlay);
        chapterToolPlayer.on("pause", onPause);
        back1.addEventListener("click", onBack1);
        backPoint1.addEventListener("click", onBackPoint1);
        playPause.addEventListener("click", onPlayPause);
        forward1.addEventListener("click", onForward1);
        forwardPoint1.addEventListener("click", onForwardPoint1);
        saveChapter.addEventListener("click", addChapter);
        selectData.addEventListener("click", selectChapterData);
      });
        </script>
</body>
</html>
